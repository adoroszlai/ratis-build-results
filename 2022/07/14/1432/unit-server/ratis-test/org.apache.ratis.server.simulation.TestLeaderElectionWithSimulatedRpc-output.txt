2022-07-14 02:38:24,800 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-07-14 02:38:24,803 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-07-14 02:38:24,806 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-07-14 02:38:24,806 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-07-14 02:38:24,809 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testEnforceLeader(223)) - Running testEnforceLeader
2022-07-14 02:38:24,831 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 150 (default)
2022-07-14 02:38:24,883 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(272)) - new MiniRaftClusterWithSimulatedRpc with group-F163B23E7A07:[s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0]
2022-07-14 02:38:24,883 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(304)) - .............................................................. 
2022-07-14 02:38:24,884 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(305)) - ... 
2022-07-14 02:38:24,884 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(306)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-07-14 02:38:24,884 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(307)) - ... 
2022-07-14 02:38:24,884 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(308)) - .............................................................. 
2022-07-14 02:38:24,884 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(284)) - servers = {}
2022-07-14 02:38:24,890 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(348)) - newRaftServer: s3, group-F163B23E7A07:[s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], format? true
2022-07-14 02:38:24,891 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcc53aeb90/s3
2022-07-14 02:38:24,893 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcc53aeb90/s3 does not exist.
2022-07-14 02:38:24,895 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(353)) - Formatted directory target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcc53aeb90/s3
2022-07-14 02:38:24,907 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-14 02:38:24,923 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-07-14 02:38:24,946 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-07-14 02:38:24,947 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-07-14 02:38:24,950 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-14 02:38:24,951 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-14 02:38:24,954 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcc53aeb90/s3] (custom)
2022-07-14 02:38:24,961 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s3: addNew group-F163B23E7A07:[s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0] returns group-F163B23E7A07:java.util.concurrent.CompletableFuture@74d5e9a3[Not completed]
2022-07-14 02:38:24,961 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(348)) - newRaftServer: s4, group-F163B23E7A07:[s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], format? true
2022-07-14 02:38:24,962 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcc53aeb90/s4
2022-07-14 02:38:24,962 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcc53aeb90/s4 does not exist.
2022-07-14 02:38:24,962 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(353)) - Formatted directory target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcc53aeb90/s4
2022-07-14 02:38:24,962 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-14 02:38:24,963 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-07-14 02:38:24,963 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-07-14 02:38:24,963 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-07-14 02:38:24,963 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-14 02:38:24,963 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-14 02:38:24,964 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcc53aeb90/s4] (custom)
2022-07-14 02:38:24,974 [pool-1-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(191)) - s3: new RaftServerImpl for group-F163B23E7A07:[s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0] with BaseStateMachine:uninitialized
2022-07-14 02:38:24,976 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-07-14 02:38:24,976 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:38:24,976 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-07-14 02:38:24,976 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-14 02:38:24,977 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-14 02:38:24,977 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-07-14 02:38:24,981 [pool-1-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(109)) - s3@group-F163B23E7A07: ConfigurationManager, init=-1: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null, confs=<EMPTY_MAP>
2022-07-14 02:38:24,982 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcc53aeb90/s3] (custom)
2022-07-14 02:38:24,983 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s4: addNew group-F163B23E7A07:[s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0] returns group-F163B23E7A07:java.util.concurrent.CompletableFuture@5b16386e[Not completed]
2022-07-14 02:38:24,983 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(348)) - newRaftServer: s0, group-F163B23E7A07:[s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], format? true
2022-07-14 02:38:24,983 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcc53aeb90/s0
2022-07-14 02:38:24,983 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcc53aeb90/s0 does not exist.
2022-07-14 02:38:24,983 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(353)) - Formatted directory target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcc53aeb90/s0
2022-07-14 02:38:24,984 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-14 02:38:24,984 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-07-14 02:38:24,984 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-07-14 02:38:24,984 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-07-14 02:38:24,984 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-14 02:38:24,984 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-14 02:38:24,985 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcc53aeb90/s0] (custom)
2022-07-14 02:38:24,989 [pool-2-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(191)) - s4: new RaftServerImpl for group-F163B23E7A07:[s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0] with BaseStateMachine:uninitialized
2022-07-14 02:38:24,989 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-07-14 02:38:24,989 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:38:24,989 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-07-14 02:38:24,990 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-14 02:38:24,990 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-14 02:38:24,990 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-07-14 02:38:24,991 [pool-3-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(191)) - s0: new RaftServerImpl for group-F163B23E7A07:[s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0] with BaseStateMachine:uninitialized
2022-07-14 02:38:24,991 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-F163B23E7A07:[s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0] returns group-F163B23E7A07:java.util.concurrent.CompletableFuture@298c7fc1[Not completed]
2022-07-14 02:38:24,992 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(348)) - newRaftServer: s1, group-F163B23E7A07:[s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], format? true
2022-07-14 02:38:24,992 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcc53aeb90/s1
2022-07-14 02:38:24,992 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcc53aeb90/s1 does not exist.
2022-07-14 02:38:24,992 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(353)) - Formatted directory target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcc53aeb90/s1
2022-07-14 02:38:24,993 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-14 02:38:24,993 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-07-14 02:38:24,993 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-07-14 02:38:24,993 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-07-14 02:38:24,993 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-14 02:38:24,994 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-14 02:38:24,994 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcc53aeb90/s1] (custom)
2022-07-14 02:38:24,991 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-07-14 02:38:24,992 [pool-2-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(109)) - s4@group-F163B23E7A07: ConfigurationManager, init=-1: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null, confs=<EMPTY_MAP>
2022-07-14 02:38:24,994 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcc53aeb90/s4] (custom)
2022-07-14 02:38:24,995 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-07-14 02:38:24,995 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-07-14 02:38:25,001 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-07-14 02:38:25,001 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-07-14 02:38:25,001 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:38:25,001 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-07-14 02:38:25,001 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-14 02:38:25,002 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-14 02:38:25,002 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-07-14 02:38:25,002 [pool-3-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(109)) - s0@group-F163B23E7A07: ConfigurationManager, init=-1: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null, confs=<EMPTY_MAP>
2022-07-14 02:38:25,002 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcc53aeb90/s0] (custom)
2022-07-14 02:38:25,005 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-07-14 02:38:25,005 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-07-14 02:38:25,005 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-07-14 02:38:25,008 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-07-14 02:38:25,004 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-07-14 02:38:25,008 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-07-14 02:38:25,009 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-07-14 02:38:25,004 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-07-14 02:38:25,009 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-07-14 02:38:25,009 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-07-14 02:38:25,013 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-07-14 02:38:25,024 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s1: addNew group-F163B23E7A07:[s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0] returns group-F163B23E7A07:java.util.concurrent.CompletableFuture@79bdd6b6[Not completed]
2022-07-14 02:38:25,024 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(348)) - newRaftServer: s2, group-F163B23E7A07:[s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], format? true
2022-07-14 02:38:25,025 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcc53aeb90/s2
2022-07-14 02:38:25,025 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcc53aeb90/s2 does not exist.
2022-07-14 02:38:25,025 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(353)) - Formatted directory target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcc53aeb90/s2
2022-07-14 02:38:25,025 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-14 02:38:25,024 [pool-4-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(191)) - s1: new RaftServerImpl for group-F163B23E7A07:[s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0] with BaseStateMachine:uninitialized
2022-07-14 02:38:25,025 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-07-14 02:38:25,026 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-07-14 02:38:25,026 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-07-14 02:38:25,026 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:38:25,026 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-07-14 02:38:25,026 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-14 02:38:25,026 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-14 02:38:25,026 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcc53aeb90/s2] (custom)
2022-07-14 02:38:25,027 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-07-14 02:38:25,027 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-14 02:38:25,027 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-14 02:38:25,028 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-07-14 02:38:25,028 [pool-4-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(109)) - s1@group-F163B23E7A07: ConfigurationManager, init=-1: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null, confs=<EMPTY_MAP>
2022-07-14 02:38:25,028 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcc53aeb90/s1] (custom)
2022-07-14 02:38:25,028 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-07-14 02:38:25,028 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-07-14 02:38:25,028 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-07-14 02:38:25,028 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-07-14 02:38:25,029 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-07-14 02:38:25,038 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s2: addNew group-F163B23E7A07:[s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0] returns group-F163B23E7A07:java.util.concurrent.CompletableFuture@70c7e30a[Not completed]
2022-07-14 02:38:25,042 [pool-5-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(191)) - s2: new RaftServerImpl for group-F163B23E7A07:[s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0] with BaseStateMachine:uninitialized
2022-07-14 02:38:25,046 [pool-3-thread-1] INFO  metrics.MetricRegistries (MetricRegistriesLoader.java:load(64)) - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2022-07-14 02:38:25,050 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-07-14 02:38:25,051 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:38:25,051 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-07-14 02:38:25,052 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-14 02:38:25,052 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-14 02:38:25,052 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-07-14 02:38:25,052 [pool-5-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(109)) - s2@group-F163B23E7A07: ConfigurationManager, init=-1: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null, confs=<EMPTY_MAP>
2022-07-14 02:38:25,054 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcc53aeb90/s2] (custom)
2022-07-14 02:38:25,054 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-07-14 02:38:25,054 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-07-14 02:38:25,055 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-07-14 02:38:25,055 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-07-14 02:38:25,055 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-07-14 02:38:25,124 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-07-14 02:38:25,124 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-07-14 02:38:25,125 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-07-14 02:38:25,125 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-07-14 02:38:25,124 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-07-14 02:38:25,126 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-07-14 02:38:25,126 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-07-14 02:38:25,126 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-07-14 02:38:25,127 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-07-14 02:38:25,127 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-07-14 02:38:25,127 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-07-14 02:38:25,127 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-07-14 02:38:25,127 [pool-4-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-07-14 02:38:25,127 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-07-14 02:38:25,128 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-07-14 02:38:25,128 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-07-14 02:38:25,128 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-07-14 02:38:25,128 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-07-14 02:38:25,128 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-07-14 02:38:25,128 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-07-14 02:38:25,128 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-07-14 02:38:25,128 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-07-14 02:38:25,129 [pool-5-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-07-14 02:38:25,129 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-07-14 02:38:25,129 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-07-14 02:38:25,130 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcc53aeb90/s3/06efd297-65a5-4bc2-ac8d-f163b23e7a07 does not exist. Creating ...
2022-07-14 02:38:25,131 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcc53aeb90/s3/06efd297-65a5-4bc2-ac8d-f163b23e7a07
2022-07-14 02:38:25,136 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcc53aeb90/s3/06efd297-65a5-4bc2-ac8d-f163b23e7a07/in_use.lock acquired by nodename 16254@fv-az54-379.qczjibyfz4dularrisj3jz1gre.bx.internal.cloudapp.net
2022-07-14 02:38:25,137 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcc53aeb90/s3/06efd297-65a5-4bc2-ac8d-f163b23e7a07/current
2022-07-14 02:38:25,137 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcc53aeb90/s3/06efd297-65a5-4bc2-ac8d-f163b23e7a07/sm
2022-07-14 02:38:25,154 [s3-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcc53aeb90/s3/06efd297-65a5-4bc2-ac8d-f163b23e7a07 has been successfully formatted.
2022-07-14 02:38:25,156 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-07-14 02:38:25,165 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-07-14 02:38:25,165 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:38:25,167 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-07-14 02:38:25,168 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-14 02:38:25,173 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-07-14 02:38:25,174 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-07-14 02:38:25,177 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s3@group-F163B23E7A07-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcc53aeb90/s3/06efd297-65a5-4bc2-ac8d-f163b23e7a07
2022-07-14 02:38:25,178 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-07-14 02:38:25,178 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-07-14 02:38:25,179 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-14 02:38:25,180 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-07-14 02:38:25,182 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-07-14 02:38:25,182 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-07-14 02:38:25,183 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-07-14 02:38:25,183 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-07-14 02:38:25,196 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-07-14 02:38:25,196 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-07-14 02:38:25,197 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-07-14 02:38:25,204 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s3@group-F163B23E7A07-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-07-14 02:38:25,204 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s3@group-F163B23E7A07-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-07-14 02:38:25,207 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(313)) - s3@group-F163B23E7A07: start as a follower, conf=-1: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:25,207 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s3@group-F163B23E7A07: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-07-14 02:38:25,208 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-F163B23E7A07-FollowerState
2022-07-14 02:38:25,209 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-F163B23E7A07,id=s3
2022-07-14 02:38:25,211 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-07-14 02:38:25,212 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-07-14 02:38:25,212 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-07-14 02:38:25,215 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s3: start RPC server
2022-07-14 02:38:25,218 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcc53aeb90/s4/06efd297-65a5-4bc2-ac8d-f163b23e7a07 does not exist. Creating ...
2022-07-14 02:38:25,219 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcc53aeb90/s4/06efd297-65a5-4bc2-ac8d-f163b23e7a07
2022-07-14 02:38:25,219 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$250/1367845902@4203a067] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s3: Started
2022-07-14 02:38:25,221 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcc53aeb90/s4/06efd297-65a5-4bc2-ac8d-f163b23e7a07/in_use.lock acquired by nodename 16254@fv-az54-379.qczjibyfz4dularrisj3jz1gre.bx.internal.cloudapp.net
2022-07-14 02:38:25,221 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcc53aeb90/s4/06efd297-65a5-4bc2-ac8d-f163b23e7a07/current
2022-07-14 02:38:25,221 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcc53aeb90/s4/06efd297-65a5-4bc2-ac8d-f163b23e7a07/sm
2022-07-14 02:38:25,224 [s4-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcc53aeb90/s4/06efd297-65a5-4bc2-ac8d-f163b23e7a07 has been successfully formatted.
2022-07-14 02:38:25,224 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-07-14 02:38:25,224 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-07-14 02:38:25,224 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:38:25,224 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-07-14 02:38:25,224 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-14 02:38:25,225 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-07-14 02:38:25,225 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-07-14 02:38:25,225 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s4@group-F163B23E7A07-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcc53aeb90/s4/06efd297-65a5-4bc2-ac8d-f163b23e7a07
2022-07-14 02:38:25,225 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-07-14 02:38:25,225 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-07-14 02:38:25,225 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-14 02:38:25,225 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-07-14 02:38:25,225 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-07-14 02:38:25,225 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-07-14 02:38:25,226 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-07-14 02:38:25,226 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-07-14 02:38:25,226 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-07-14 02:38:25,226 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-07-14 02:38:25,226 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-07-14 02:38:25,227 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s4@group-F163B23E7A07-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-07-14 02:38:25,227 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s4@group-F163B23E7A07-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-07-14 02:38:25,234 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(313)) - s4@group-F163B23E7A07: start as a follower, conf=-1: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:25,234 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s4@group-F163B23E7A07: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-07-14 02:38:25,234 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-F163B23E7A07-FollowerState
2022-07-14 02:38:25,235 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-F163B23E7A07,id=s4
2022-07-14 02:38:25,235 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-07-14 02:38:25,235 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-07-14 02:38:25,235 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-07-14 02:38:25,236 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s4: start RPC server
2022-07-14 02:38:25,237 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$250/1367845902@79182663] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s4: Started
2022-07-14 02:38:25,237 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcc53aeb90/s0/06efd297-65a5-4bc2-ac8d-f163b23e7a07 does not exist. Creating ...
2022-07-14 02:38:25,238 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcc53aeb90/s0/06efd297-65a5-4bc2-ac8d-f163b23e7a07
2022-07-14 02:38:25,239 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcc53aeb90/s0/06efd297-65a5-4bc2-ac8d-f163b23e7a07/in_use.lock acquired by nodename 16254@fv-az54-379.qczjibyfz4dularrisj3jz1gre.bx.internal.cloudapp.net
2022-07-14 02:38:25,239 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcc53aeb90/s0/06efd297-65a5-4bc2-ac8d-f163b23e7a07/current
2022-07-14 02:38:25,240 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcc53aeb90/s0/06efd297-65a5-4bc2-ac8d-f163b23e7a07/sm
2022-07-14 02:38:25,241 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcc53aeb90/s0/06efd297-65a5-4bc2-ac8d-f163b23e7a07 has been successfully formatted.
2022-07-14 02:38:25,241 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-07-14 02:38:25,241 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-07-14 02:38:25,242 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:38:25,242 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-07-14 02:38:25,242 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-14 02:38:25,242 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-07-14 02:38:25,242 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-07-14 02:38:25,242 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-F163B23E7A07-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcc53aeb90/s0/06efd297-65a5-4bc2-ac8d-f163b23e7a07
2022-07-14 02:38:25,242 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-07-14 02:38:25,243 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-07-14 02:38:25,243 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-14 02:38:25,243 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-07-14 02:38:25,243 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-07-14 02:38:25,243 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-07-14 02:38:25,243 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-07-14 02:38:25,243 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-07-14 02:38:25,244 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-07-14 02:38:25,244 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-07-14 02:38:25,245 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-07-14 02:38:25,245 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-F163B23E7A07-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-07-14 02:38:25,245 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-F163B23E7A07-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-07-14 02:38:25,246 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(313)) - s0@group-F163B23E7A07: start as a follower, conf=-1: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:25,246 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s0@group-F163B23E7A07: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-07-14 02:38:25,246 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-F163B23E7A07-FollowerState
2022-07-14 02:38:25,247 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-F163B23E7A07,id=s0
2022-07-14 02:38:25,247 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-07-14 02:38:25,247 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-07-14 02:38:25,247 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-07-14 02:38:25,249 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s0: start RPC server
2022-07-14 02:38:25,252 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$250/1367845902@2647b1bf] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-07-14 02:38:25,252 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcc53aeb90/s1/06efd297-65a5-4bc2-ac8d-f163b23e7a07 does not exist. Creating ...
2022-07-14 02:38:25,252 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcc53aeb90/s1/06efd297-65a5-4bc2-ac8d-f163b23e7a07
2022-07-14 02:38:25,253 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcc53aeb90/s1/06efd297-65a5-4bc2-ac8d-f163b23e7a07/in_use.lock acquired by nodename 16254@fv-az54-379.qczjibyfz4dularrisj3jz1gre.bx.internal.cloudapp.net
2022-07-14 02:38:25,253 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcc53aeb90/s1/06efd297-65a5-4bc2-ac8d-f163b23e7a07/current
2022-07-14 02:38:25,254 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcc53aeb90/s1/06efd297-65a5-4bc2-ac8d-f163b23e7a07/sm
2022-07-14 02:38:25,255 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcc53aeb90/s1/06efd297-65a5-4bc2-ac8d-f163b23e7a07 has been successfully formatted.
2022-07-14 02:38:25,255 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-07-14 02:38:25,255 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-07-14 02:38:25,256 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:38:25,256 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-07-14 02:38:25,256 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-14 02:38:25,256 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-07-14 02:38:25,256 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-07-14 02:38:25,256 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-F163B23E7A07-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcc53aeb90/s1/06efd297-65a5-4bc2-ac8d-f163b23e7a07
2022-07-14 02:38:25,256 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-07-14 02:38:25,256 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-07-14 02:38:25,256 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-14 02:38:25,256 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-07-14 02:38:25,257 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-07-14 02:38:25,257 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-07-14 02:38:25,257 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-07-14 02:38:25,257 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-07-14 02:38:25,257 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-07-14 02:38:25,257 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-07-14 02:38:25,258 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-07-14 02:38:25,258 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-F163B23E7A07-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-07-14 02:38:25,258 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-F163B23E7A07-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-07-14 02:38:25,259 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(313)) - s1@group-F163B23E7A07: start as a follower, conf=-1: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:25,259 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-F163B23E7A07: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-07-14 02:38:25,260 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-F163B23E7A07-FollowerState
2022-07-14 02:38:25,260 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-F163B23E7A07,id=s1
2022-07-14 02:38:25,260 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-07-14 02:38:25,260 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-07-14 02:38:25,260 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-07-14 02:38:25,261 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s1: start RPC server
2022-07-14 02:38:25,263 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcc53aeb90/s2/06efd297-65a5-4bc2-ac8d-f163b23e7a07 does not exist. Creating ...
2022-07-14 02:38:25,263 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcc53aeb90/s2/06efd297-65a5-4bc2-ac8d-f163b23e7a07
2022-07-14 02:38:25,265 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$250/1367845902@438ba9c4] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-07-14 02:38:25,265 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcc53aeb90/s2/06efd297-65a5-4bc2-ac8d-f163b23e7a07/in_use.lock acquired by nodename 16254@fv-az54-379.qczjibyfz4dularrisj3jz1gre.bx.internal.cloudapp.net
2022-07-14 02:38:25,266 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcc53aeb90/s2/06efd297-65a5-4bc2-ac8d-f163b23e7a07/current
2022-07-14 02:38:25,266 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcc53aeb90/s2/06efd297-65a5-4bc2-ac8d-f163b23e7a07/sm
2022-07-14 02:38:25,268 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcc53aeb90/s2/06efd297-65a5-4bc2-ac8d-f163b23e7a07 has been successfully formatted.
2022-07-14 02:38:25,268 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-07-14 02:38:25,268 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-07-14 02:38:25,268 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:38:25,268 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-07-14 02:38:25,268 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-14 02:38:25,269 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-07-14 02:38:25,269 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-07-14 02:38:25,269 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-F163B23E7A07-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcc53aeb90/s2/06efd297-65a5-4bc2-ac8d-f163b23e7a07
2022-07-14 02:38:25,269 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-07-14 02:38:25,269 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-07-14 02:38:25,269 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-14 02:38:25,269 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-07-14 02:38:25,269 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-07-14 02:38:25,269 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-07-14 02:38:25,269 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-07-14 02:38:25,269 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-07-14 02:38:25,270 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-07-14 02:38:25,270 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-07-14 02:38:25,270 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-07-14 02:38:25,270 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-F163B23E7A07-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-07-14 02:38:25,270 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-F163B23E7A07-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-07-14 02:38:25,277 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(313)) - s2@group-F163B23E7A07: start as a follower, conf=-1: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:25,277 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-F163B23E7A07: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-07-14 02:38:25,277 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-F163B23E7A07-FollowerState
2022-07-14 02:38:25,278 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-F163B23E7A07,id=s2
2022-07-14 02:38:25,278 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-07-14 02:38:25,278 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-07-14 02:38:25,278 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-07-14 02:38:25,279 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s2: start RPC server
2022-07-14 02:38:25,281 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$250/1367845902@4eed4d31] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-07-14 02:38:25,284 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:38:25,287 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-F163B23E7A07:t0, leader=null, voted=, raftlog=Memoized:s3@group-F163B23E7A07-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-F163B23E7A07:t0, leader=null, voted=, raftlog=Memoized:s4@group-F163B23E7A07-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-F163B23E7A07:t0, leader=null, voted=, raftlog=Memoized:s0@group-F163B23E7A07-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F163B23E7A07:t0, leader=null, voted=, raftlog=Memoized:s1@group-F163B23E7A07-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F163B23E7A07:t0, leader=null, voted=, raftlog=Memoized:s2@group-F163B23E7A07-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null RUNNING
2022-07-14 02:38:25,292 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-F163B23E7A07:t0, leader=null, voted=, raftlog=Memoized:s3@group-F163B23E7A07-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-F163B23E7A07:t0, leader=null, voted=, raftlog=Memoized:s4@group-F163B23E7A07-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-F163B23E7A07:t0, leader=null, voted=, raftlog=Memoized:s0@group-F163B23E7A07-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F163B23E7A07:t0, leader=null, voted=, raftlog=Memoized:s1@group-F163B23E7A07-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F163B23E7A07:t0, leader=null, voted=, raftlog=Memoized:s2@group-F163B23E7A07-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-F163B23E7A07:t0, leader=null, voted=, raftlog=Memoized:s3@group-F163B23E7A07-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-F163B23E7A07:t0, leader=null, voted=, raftlog=Memoized:s4@group-F163B23E7A07-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-F163B23E7A07:t0, leader=null, voted=, raftlog=Memoized:s0@group-F163B23E7A07-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F163B23E7A07:t0, leader=null, voted=, raftlog=Memoized:s1@group-F163B23E7A07-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F163B23E7A07:t0, leader=null, voted=, raftlog=Memoized:s2@group-F163B23E7A07-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:535)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:569)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:562)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testEnforceLeader(LeaderElectionTests.java:228)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:38:25,395 [s4@group-F163B23E7A07-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-F163B23E7A07-FollowerState: change to CANDIDATE, lastRpcElapsedTime:160724847ns, electionTimeout:158ms
2022-07-14 02:38:25,397 [s4@group-F163B23E7A07-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-F163B23E7A07-FollowerState
2022-07-14 02:38:25,397 [s4@group-F163B23E7A07-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s4@group-F163B23E7A07: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-07-14 02:38:25,401 [s4@group-F163B23E7A07-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:38:25,402 [s4@group-F163B23E7A07-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-F163B23E7A07-LeaderElection1
2022-07-14 02:38:25,404 [s4@group-F163B23E7A07-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s4@group-F163B23E7A07-LeaderElection1 PRE_VOTE round 0: submit vote requests at term 0 for -1: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:25,437 [s0@group-F163B23E7A07-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-F163B23E7A07-FollowerState: change to CANDIDATE, lastRpcElapsedTime:190809793ns, electionTimeout:189ms
2022-07-14 02:38:25,437 [s0@group-F163B23E7A07-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-F163B23E7A07-FollowerState
2022-07-14 02:38:25,437 [s0@group-F163B23E7A07-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s0@group-F163B23E7A07: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-07-14 02:38:25,437 [s0@group-F163B23E7A07-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:38:25,437 [s0@group-F163B23E7A07-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-F163B23E7A07-LeaderElection2
2022-07-14 02:38:25,440 [Thread-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s3@group-F163B23E7A07: receive requestVote(PRE_VOTE, s4, group-F163B23E7A07, 0, (t:0, i:0))
2022-07-14 02:38:25,443 [Thread-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-F163B23E7A07-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-07-14 02:38:25,443 [Thread-21] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-F163B23E7A07: receive requestVote(PRE_VOTE, s4, group-F163B23E7A07, 0, (t:0, i:0))
2022-07-14 02:38:25,443 [Thread-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s0@group-F163B23E7A07: receive requestVote(PRE_VOTE, s4, group-F163B23E7A07, 0, (t:0, i:0))
2022-07-14 02:38:25,444 [Thread-14] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-F163B23E7A07-CANDIDATE: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-07-14 02:38:25,444 [Thread-21] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-F163B23E7A07-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-07-14 02:38:25,444 [s0@group-F163B23E7A07-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-F163B23E7A07-LeaderElection2 PRE_VOTE round 0: submit vote requests at term 0 for -1: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:25,449 [Thread-29] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-F163B23E7A07: receive requestVote(PRE_VOTE, s4, group-F163B23E7A07, 0, (t:0, i:0))
2022-07-14 02:38:25,449 [Thread-29] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-F163B23E7A07-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-07-14 02:38:25,451 [Thread-21] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-F163B23E7A07 replies to PRE_VOTE vote request: s4<-s1#0:OK-t0. Peer's state: s1@group-F163B23E7A07:t0, leader=null, voted=, raftlog=Memoized:s1@group-F163B23E7A07-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:25,451 [Thread-29] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-F163B23E7A07 replies to PRE_VOTE vote request: s4<-s2#0:OK-t0. Peer's state: s2@group-F163B23E7A07:t0, leader=null, voted=, raftlog=Memoized:s2@group-F163B23E7A07-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:25,452 [Thread-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s0@group-F163B23E7A07 replies to PRE_VOTE vote request: s4<-s0#0:OK-t0. Peer's state: s0@group-F163B23E7A07:t0, leader=null, voted=, raftlog=Memoized:s0@group-F163B23E7A07-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:25,453 [Thread-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s3@group-F163B23E7A07 replies to PRE_VOTE vote request: s4<-s3#0:OK-t0. Peer's state: s3@group-F163B23E7A07:t0, leader=null, voted=, raftlog=Memoized:s3@group-F163B23E7A07-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:25,453 [Thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s3@group-F163B23E7A07: receive requestVote(PRE_VOTE, s0, group-F163B23E7A07, 0, (t:0, i:0))
2022-07-14 02:38:25,454 [Thread-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-F163B23E7A07-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-07-14 02:38:25,454 [Thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s3@group-F163B23E7A07 replies to PRE_VOTE vote request: s0<-s3#0:OK-t0. Peer's state: s3@group-F163B23E7A07:t0, leader=null, voted=, raftlog=Memoized:s3@group-F163B23E7A07-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:25,455 [Thread-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s4@group-F163B23E7A07: receive requestVote(PRE_VOTE, s0, group-F163B23E7A07, 0, (t:0, i:0))
2022-07-14 02:38:25,456 [Thread-7] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-F163B23E7A07-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-07-14 02:38:25,456 [Thread-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s4@group-F163B23E7A07 replies to PRE_VOTE vote request: s0<-s4#0:OK-t0. Peer's state: s4@group-F163B23E7A07:t0, leader=null, voted=, raftlog=Memoized:s4@group-F163B23E7A07-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:25,456 [Thread-22] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-F163B23E7A07: receive requestVote(PRE_VOTE, s0, group-F163B23E7A07, 0, (t:0, i:0))
2022-07-14 02:38:25,456 [Thread-30] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-F163B23E7A07: receive requestVote(PRE_VOTE, s0, group-F163B23E7A07, 0, (t:0, i:0))
2022-07-14 02:38:25,456 [Thread-22] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-F163B23E7A07-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-07-14 02:38:25,456 [Thread-22] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-F163B23E7A07 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-F163B23E7A07:t0, leader=null, voted=, raftlog=Memoized:s1@group-F163B23E7A07-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:25,456 [Thread-30] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-F163B23E7A07-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-07-14 02:38:25,458 [Thread-30] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-F163B23E7A07 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-F163B23E7A07:t0, leader=null, voted=, raftlog=Memoized:s2@group-F163B23E7A07-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:25,466 [s4@group-F163B23E7A07-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-F163B23E7A07-LeaderElection1: PRE_VOTE PASSED received 2 response(s) and 0 exception(s):
2022-07-14 02:38:25,466 [s4@group-F163B23E7A07-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s4<-s3#0:OK-t0
2022-07-14 02:38:25,466 [s4@group-F163B23E7A07-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s4<-s2#0:OK-t0
2022-07-14 02:38:25,466 [s4@group-F163B23E7A07-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s4@group-F163B23E7A07-LeaderElection1 PRE_VOTE round 0: result PASSED
2022-07-14 02:38:25,469 [s0@group-F163B23E7A07-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-F163B23E7A07-LeaderElection2: PRE_VOTE PASSED received 2 response(s) and 0 exception(s):
2022-07-14 02:38:25,469 [s0@group-F163B23E7A07-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t0
2022-07-14 02:38:25,469 [s0@group-F163B23E7A07-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s2#0:OK-t0
2022-07-14 02:38:25,469 [s0@group-F163B23E7A07-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-F163B23E7A07-LeaderElection2 PRE_VOTE round 0: result PASSED
2022-07-14 02:38:25,470 [s4@group-F163B23E7A07-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s4@group-F163B23E7A07-LeaderElection1 ELECTION round 0: submit vote requests at term 1 for -1: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:25,472 [Thread-15] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s0@group-F163B23E7A07: receive requestVote(ELECTION, s4, group-F163B23E7A07, 1, (t:0, i:0))
2022-07-14 02:38:25,472 [Thread-31] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-F163B23E7A07: receive requestVote(ELECTION, s4, group-F163B23E7A07, 1, (t:0, i:0))
2022-07-14 02:38:25,472 [Thread-31] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-F163B23E7A07-FOLLOWER: accept ELECTION from s4: our priority 0 <= candidate's priority 0
2022-07-14 02:38:25,472 [Thread-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s3@group-F163B23E7A07: receive requestVote(ELECTION, s4, group-F163B23E7A07, 1, (t:0, i:0))
2022-07-14 02:38:25,472 [Thread-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-F163B23E7A07-FOLLOWER: accept ELECTION from s4: our priority 0 <= candidate's priority 0
2022-07-14 02:38:25,472 [s0@group-F163B23E7A07-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-F163B23E7A07-LeaderElection2 ELECTION round 0: submit vote requests at term 1 for -1: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:25,473 [Thread-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s3@group-F163B23E7A07: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s4
2022-07-14 02:38:25,473 [Thread-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-F163B23E7A07-FollowerState
2022-07-14 02:38:25,473 [Thread-31] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-F163B23E7A07: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s4
2022-07-14 02:38:25,473 [Thread-31] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-F163B23E7A07-FollowerState
2022-07-14 02:38:25,473 [Thread-15] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-F163B23E7A07-CANDIDATE: reject ELECTION from s4: already has voted for s0 at current term 1
2022-07-14 02:38:25,473 [Thread-15] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s0@group-F163B23E7A07 replies to ELECTION vote request: s4<-s0#0:FAIL-t1. Peer's state: s0@group-F163B23E7A07:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-F163B23E7A07-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:25,474 [Thread-23] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-F163B23E7A07: receive requestVote(ELECTION, s4, group-F163B23E7A07, 1, (t:0, i:0))
2022-07-14 02:38:25,475 [Thread-23] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-F163B23E7A07-FOLLOWER: accept ELECTION from s4: our priority 0 <= candidate's priority 0
2022-07-14 02:38:25,475 [Thread-23] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-F163B23E7A07: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s4
2022-07-14 02:38:25,475 [Thread-23] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-F163B23E7A07-FollowerState
2022-07-14 02:38:25,475 [Thread-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s3@group-F163B23E7A07: receive requestVote(ELECTION, s0, group-F163B23E7A07, 1, (t:0, i:0))
2022-07-14 02:38:25,477 [Thread-21] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-F163B23E7A07: receive requestVote(ELECTION, s0, group-F163B23E7A07, 1, (t:0, i:0))
2022-07-14 02:38:25,477 [Thread-23] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-F163B23E7A07-FollowerState
2022-07-14 02:38:25,477 [s1@group-F163B23E7A07-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-F163B23E7A07-FollowerState was interrupted
2022-07-14 02:38:25,477 [s2@group-F163B23E7A07-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-F163B23E7A07-FollowerState was interrupted
2022-07-14 02:38:25,478 [Thread-29] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-F163B23E7A07: receive requestVote(ELECTION, s0, group-F163B23E7A07, 1, (t:0, i:0))
2022-07-14 02:38:25,478 [Thread-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-F163B23E7A07-FollowerState
2022-07-14 02:38:25,478 [s3@group-F163B23E7A07-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s3@group-F163B23E7A07-FollowerState was interrupted
2022-07-14 02:38:25,479 [Thread-31] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-F163B23E7A07-FollowerState
2022-07-14 02:38:25,479 [Thread-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s4@group-F163B23E7A07: receive requestVote(ELECTION, s0, group-F163B23E7A07, 1, (t:0, i:0))
2022-07-14 02:38:25,479 [Thread-8] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-F163B23E7A07-CANDIDATE: reject ELECTION from s0: already has voted for s4 at current term 1
2022-07-14 02:38:25,479 [Thread-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s4@group-F163B23E7A07 replies to ELECTION vote request: s0<-s4#0:FAIL-t1. Peer's state: s4@group-F163B23E7A07:t1, leader=null, voted=s4, raftlog=Memoized:s4@group-F163B23E7A07-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:25,481 [Thread-23] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-F163B23E7A07 replies to ELECTION vote request: s4<-s1#0:OK-t1. Peer's state: s1@group-F163B23E7A07:t1, leader=null, voted=s4, raftlog=Memoized:s1@group-F163B23E7A07-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:25,481 [Thread-21] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-F163B23E7A07-FOLLOWER: reject ELECTION from s0: already has voted for s4 at current term 1
2022-07-14 02:38:25,481 [Thread-21] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-F163B23E7A07 replies to ELECTION vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-F163B23E7A07:t1, leader=null, voted=s4, raftlog=Memoized:s1@group-F163B23E7A07-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:25,481 [Thread-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s3@group-F163B23E7A07 replies to ELECTION vote request: s4<-s3#0:OK-t1. Peer's state: s3@group-F163B23E7A07:t1, leader=null, voted=s4, raftlog=Memoized:s3@group-F163B23E7A07-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:25,481 [Thread-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-F163B23E7A07-FOLLOWER: reject ELECTION from s0: already has voted for s4 at current term 1
2022-07-14 02:38:25,481 [Thread-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s3@group-F163B23E7A07 replies to ELECTION vote request: s0<-s3#0:FAIL-t1. Peer's state: s3@group-F163B23E7A07:t1, leader=null, voted=s4, raftlog=Memoized:s3@group-F163B23E7A07-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:25,482 [Thread-31] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-F163B23E7A07 replies to ELECTION vote request: s4<-s2#0:OK-t1. Peer's state: s2@group-F163B23E7A07:t1, leader=null, voted=s4, raftlog=Memoized:s2@group-F163B23E7A07-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:25,482 [Thread-29] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-F163B23E7A07-FOLLOWER: reject ELECTION from s0: already has voted for s4 at current term 1
2022-07-14 02:38:25,482 [Thread-29] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-F163B23E7A07 replies to ELECTION vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-F163B23E7A07:t1, leader=null, voted=s4, raftlog=Memoized:s2@group-F163B23E7A07-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:25,495 [s0@group-F163B23E7A07-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-F163B23E7A07-LeaderElection2: ELECTION REJECTED received 3 response(s) and 0 exception(s):
2022-07-14 02:38:25,495 [s0@group-F163B23E7A07-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s3#0:FAIL-t1
2022-07-14 02:38:25,495 [s0@group-F163B23E7A07-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s4#0:FAIL-t1
2022-07-14 02:38:25,495 [s0@group-F163B23E7A07-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s0<-s2#0:FAIL-t1
2022-07-14 02:38:25,495 [s0@group-F163B23E7A07-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-F163B23E7A07-LeaderElection2 ELECTION round 0: result REJECTED
2022-07-14 02:38:25,495 [s0@group-F163B23E7A07-LeaderElection2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s0@group-F163B23E7A07: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-07-14 02:38:25,495 [s0@group-F163B23E7A07-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-F163B23E7A07-LeaderElection2
2022-07-14 02:38:25,496 [s0@group-F163B23E7A07-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-F163B23E7A07-FollowerState
2022-07-14 02:38:25,496 [s4@group-F163B23E7A07-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-F163B23E7A07-LeaderElection1: ELECTION PASSED received 3 response(s) and 0 exception(s):
2022-07-14 02:38:25,496 [s4@group-F163B23E7A07-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s4<-s0#0:FAIL-t1
2022-07-14 02:38:25,497 [s4@group-F163B23E7A07-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s4<-s1#0:OK-t1
2022-07-14 02:38:25,497 [s4@group-F163B23E7A07-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s4<-s2#0:OK-t1
2022-07-14 02:38:25,497 [s4@group-F163B23E7A07-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s4@group-F163B23E7A07-LeaderElection1 ELECTION round 0: result PASSED
2022-07-14 02:38:25,497 [s4@group-F163B23E7A07-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-F163B23E7A07-LeaderElection1
2022-07-14 02:38:25,497 [s4@group-F163B23E7A07-LeaderElection1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s4@group-F163B23E7A07: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-07-14 02:38:25,497 [s4@group-F163B23E7A07-LeaderElection1] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s4@group-F163B23E7A07: change Leader from null to s4 at term 1 for becomeLeader, leader elected after 492ms
2022-07-14 02:38:25,502 [s4@group-F163B23E7A07-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-07-14 02:38:25,505 [s4@group-F163B23E7A07-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-14 02:38:25,506 [s4@group-F163B23E7A07-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-07-14 02:38:25,511 [s4@group-F163B23E7A07-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-07-14 02:38:25,512 [s4@group-F163B23E7A07-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-07-14 02:38:25,512 [s4@group-F163B23E7A07-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-07-14 02:38:25,517 [s4@group-F163B23E7A07-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-14 02:38:25,519 [s4@group-F163B23E7A07-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-07-14 02:38:25,527 [s4@group-F163B23E7A07-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-14 02:38:25,527 [s4@group-F163B23E7A07-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:38:25,527 [s4@group-F163B23E7A07-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-14 02:38:25,529 [s4@group-F163B23E7A07-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-14 02:38:25,530 [s4@group-F163B23E7A07-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:38:25,530 [s4@group-F163B23E7A07-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-14 02:38:25,530 [s4@group-F163B23E7A07-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-14 02:38:25,530 [s4@group-F163B23E7A07-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:38:25,530 [s4@group-F163B23E7A07-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-14 02:38:25,531 [s4@group-F163B23E7A07-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-14 02:38:25,531 [s4@group-F163B23E7A07-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:38:25,531 [s4@group-F163B23E7A07-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-14 02:38:25,532 [s4@group-F163B23E7A07-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-F163B23E7A07-LeaderStateImpl
2022-07-14 02:38:25,548 [s4@group-F163B23E7A07-LeaderElection1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s4@group-F163B23E7A07-SegmentedRaftLogWorker: Starting segment from index:0
2022-07-14 02:38:25,608 [Thread-1] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s3@group-F163B23E7A07: change Leader from null to s4 at term 1 for appendEntries, leader elected after 604ms
2022-07-14 02:38:25,609 [Thread-22] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s1@group-F163B23E7A07: change Leader from null to s4 at term 1 for appendEntries, leader elected after 580ms
2022-07-14 02:38:25,610 [s4@group-F163B23E7A07-LeaderElection1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s4@group-F163B23E7A07: set configuration 0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:25,611 [Thread-30] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s2@group-F163B23E7A07: change Leader from null to s4 at term 1 for appendEntries, leader elected after 556ms
2022-07-14 02:38:25,614 [Thread-16] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s0@group-F163B23E7A07: change Leader from null to s4 at term 1 for appendEntries, leader elected after 609ms
2022-07-14 02:38:25,640 [Thread-31] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-F163B23E7A07: receive appendEntries(s4, 1, null, -1, true, commits[s4:c-1, s3:c-1, s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-07-14 02:38:25,641 [Thread-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s3@group-F163B23E7A07: receive appendEntries(s4, 1, null, -1, true, commits[s4:c-1, s3:c-1, s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-07-14 02:38:25,641 [Thread-31] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s2@group-F163B23E7A07: set configuration 0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:25,642 [Thread-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s3@group-F163B23E7A07: set configuration 0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:25,642 [Thread-31] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s2@group-F163B23E7A07-SegmentedRaftLogWorker: Starting segment from index:0
2022-07-14 02:38:25,642 [Thread-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s3@group-F163B23E7A07-SegmentedRaftLogWorker: Starting segment from index:0
2022-07-14 02:38:25,642 [Thread-23] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-F163B23E7A07: receive appendEntries(s4, 1, null, -1, true, commits[s4:c-1, s3:c-1, s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-07-14 02:38:25,643 [Thread-23] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s1@group-F163B23E7A07: set configuration 0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:25,643 [Thread-23] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s1@group-F163B23E7A07-SegmentedRaftLogWorker: Starting segment from index:0
2022-07-14 02:38:25,644 [Thread-14] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s0@group-F163B23E7A07: receive appendEntries(s4, 1, null, -1, true, commits[s4:c-1, s3:c-1, s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-07-14 02:38:25,644 [Thread-14] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s0@group-F163B23E7A07: set configuration 0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:25,644 [Thread-14] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s0@group-F163B23E7A07-SegmentedRaftLogWorker: Starting segment from index:0
2022-07-14 02:38:25,706 [s4@group-F163B23E7A07-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s4@group-F163B23E7A07-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcc53aeb90/s4/06efd297-65a5-4bc2-ac8d-f163b23e7a07/current/log_inprogress_0
2022-07-14 02:38:25,706 [s3@group-F163B23E7A07-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s3@group-F163B23E7A07-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcc53aeb90/s3/06efd297-65a5-4bc2-ac8d-f163b23e7a07/current/log_inprogress_0
2022-07-14 02:38:25,706 [s1@group-F163B23E7A07-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-F163B23E7A07-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcc53aeb90/s1/06efd297-65a5-4bc2-ac8d-f163b23e7a07/current/log_inprogress_0
2022-07-14 02:38:25,706 [s0@group-F163B23E7A07-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-F163B23E7A07-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcc53aeb90/s0/06efd297-65a5-4bc2-ac8d-f163b23e7a07/current/log_inprogress_0
2022-07-14 02:38:25,706 [s2@group-F163B23E7A07-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-F163B23E7A07-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcc53aeb90/s2/06efd297-65a5-4bc2-ac8d-f163b23e7a07/current/log_inprogress_0
2022-07-14 02:38:25,713 [Thread-83] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-F163B23E7A07: succeeded to handle AppendEntries. Reply: s4<-s1#7:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1
2022-07-14 02:38:25,714 [Thread-85] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s0@group-F163B23E7A07: succeeded to handle AppendEntries. Reply: s4<-s0#4:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1
2022-07-14 02:38:25,718 [Thread-84] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-F163B23E7A07: succeeded to handle AppendEntries. Reply: s4<-s2#6:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1
2022-07-14 02:38:25,719 [Thread-86] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s3@group-F163B23E7A07: succeeded to handle AppendEntries. Reply: s4<-s3#5:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1
2022-07-14 02:38:25,747 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s3@group-F163B23E7A07-SegmentedRaftLog:OPENED:c-1, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null RUNNING
  s4:  RUNNING    LEADER s4@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-F163B23E7A07:t1, leader=s4, voted=s0, raftlog=Memoized:s0@group-F163B23E7A07-SegmentedRaftLog:OPENED:c-1, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s1@group-F163B23E7A07-SegmentedRaftLog:OPENED:c-1, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s2@group-F163B23E7A07-SegmentedRaftLog:OPENED:c-1, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null RUNNING
2022-07-14 02:38:25,747 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testEnforceLeader(229)) - firstLeader = s4
2022-07-14 02:38:25,748 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testEnforceLeader(234)) - enforce leader to s1
2022-07-14 02:38:25,748 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(240)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s3@group-F163B23E7A07-SegmentedRaftLog:OPENED:c-1, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null RUNNING
  s4:  RUNNING    LEADER s4@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-F163B23E7A07:t1, leader=s4, voted=s0, raftlog=Memoized:s0@group-F163B23E7A07-SegmentedRaftLog:OPENED:c-1, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s1@group-F163B23E7A07-SegmentedRaftLog:OPENED:c-1, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s2@group-F163B23E7A07-SegmentedRaftLog:OPENED:c-1, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null RUNNING
2022-07-14 02:38:25,750 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:38:25,919 [s2@group-F163B23E7A07-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-F163B23E7A07-FollowerState: change to CANDIDATE, lastRpcElapsedTime:200464928ns, electionTimeout:171ms
2022-07-14 02:38:25,919 [s2@group-F163B23E7A07-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-F163B23E7A07-FollowerState
2022-07-14 02:38:25,919 [s2@group-F163B23E7A07-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-F163B23E7A07: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-07-14 02:38:25,919 [s2@group-F163B23E7A07-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:38:25,920 [s2@group-F163B23E7A07-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-F163B23E7A07-LeaderElection3
2022-07-14 02:38:25,920 [s2@group-F163B23E7A07-LeaderElection3] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s2@group-F163B23E7A07: change Leader from s4 to null at term 1 for PRE_VOTE
2022-07-14 02:38:25,920 [s2@group-F163B23E7A07-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-F163B23E7A07-LeaderElection3 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:25,963 [Thread-29] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-F163B23E7A07: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2022-07-14 02:38:25,963 [Thread-29] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-F163B23E7A07-LeaderElection3
2022-07-14 02:38:25,964 [Thread-29] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-F163B23E7A07-FollowerState
2022-07-14 02:38:25,965 [Thread-29] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s2@group-F163B23E7A07: change Leader from null to s4 at term 1 for appendEntries, leader elected after 45ms
2022-07-14 02:38:26,071 [Thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s3@group-F163B23E7A07: receive requestVote(PRE_VOTE, s2, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:26,072 [Thread-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-F163B23E7A07-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s4
2022-07-14 02:38:26,072 [Thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s3@group-F163B23E7A07 replies to PRE_VOTE vote request: s2<-s3#0:FAIL-t1. Peer's state: s3@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s3@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:26,074 [Thread-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s4@group-F163B23E7A07: receive requestVote(PRE_VOTE, s2, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:26,074 [Thread-16] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s0@group-F163B23E7A07: receive requestVote(PRE_VOTE, s2, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:26,074 [Thread-16] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-F163B23E7A07-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s4
2022-07-14 02:38:26,075 [Thread-16] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s0@group-F163B23E7A07 replies to PRE_VOTE vote request: s2<-s0#0:FAIL-t1. Peer's state: s0@group-F163B23E7A07:t1, leader=s4, voted=s0, raftlog=Memoized:s0@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:26,075 [Thread-9] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-F163B23E7A07-LEADER: reject PRE_VOTE from s2: this server is the leader and still has leadership
2022-07-14 02:38:26,075 [Thread-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s4@group-F163B23E7A07 replies to PRE_VOTE vote request: s2<-s4#0:FAIL-t1. Peer's state: s4@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:26,085 [s2@group-F163B23E7A07-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-F163B23E7A07-LeaderElection3: PRE_VOTE REJECTED received 1 response(s) and 0 exception(s):
2022-07-14 02:38:26,086 [s2@group-F163B23E7A07-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s3#0:FAIL-t1
2022-07-14 02:38:26,086 [s2@group-F163B23E7A07-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-F163B23E7A07-LeaderElection3 PRE_VOTE round 0: result REJECTED
2022-07-14 02:38:26,127 [s2@group-F163B23E7A07-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-F163B23E7A07-FollowerState: change to CANDIDATE, lastRpcElapsedTime:161030609ns, electionTimeout:161ms
2022-07-14 02:38:26,127 [s2@group-F163B23E7A07-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-F163B23E7A07-FollowerState
2022-07-14 02:38:26,127 [s2@group-F163B23E7A07-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-F163B23E7A07: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-07-14 02:38:26,127 [s2@group-F163B23E7A07-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:38:26,128 [s2@group-F163B23E7A07-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-F163B23E7A07-LeaderElection4
2022-07-14 02:38:26,128 [s2@group-F163B23E7A07-LeaderElection4] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s2@group-F163B23E7A07: change Leader from s4 to null at term 1 for PRE_VOTE
2022-07-14 02:38:26,128 [s2@group-F163B23E7A07-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-F163B23E7A07-LeaderElection4 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:26,201 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:38:26,209 [Thread-30] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-F163B23E7A07: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2022-07-14 02:38:26,209 [Thread-30] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-F163B23E7A07-LeaderElection4
2022-07-14 02:38:26,209 [Thread-30] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-F163B23E7A07-FollowerState
2022-07-14 02:38:26,209 [Thread-30] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s2@group-F163B23E7A07: change Leader from null to s4 at term 1 for appendEntries, leader elected after 81ms
2022-07-14 02:38:26,225 [Thread-21] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-F163B23E7A07: receive requestVote(PRE_VOTE, s2, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:26,225 [Thread-21] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-F163B23E7A07-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-07-14 02:38:26,225 [Thread-21] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-F163B23E7A07 replies to PRE_VOTE vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s1@group-F163B23E7A07-SegmentedRaftLog:OPENED:c-1, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:26,279 [Thread-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s3@group-F163B23E7A07: receive requestVote(PRE_VOTE, s2, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:26,279 [Thread-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-F163B23E7A07-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s4
2022-07-14 02:38:26,280 [Thread-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s4@group-F163B23E7A07: receive requestVote(PRE_VOTE, s2, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:26,280 [Thread-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s3@group-F163B23E7A07 replies to PRE_VOTE vote request: s2<-s3#0:FAIL-t1. Peer's state: s3@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s3@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:26,280 [Thread-7] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-F163B23E7A07-LEADER: reject PRE_VOTE from s2: this server is the leader and still has leadership
2022-07-14 02:38:26,280 [Thread-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s4@group-F163B23E7A07 replies to PRE_VOTE vote request: s2<-s4#0:FAIL-t1. Peer's state: s4@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:26,280 [Thread-15] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s0@group-F163B23E7A07: receive requestVote(PRE_VOTE, s2, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:26,280 [Thread-15] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-F163B23E7A07-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s4
2022-07-14 02:38:26,281 [Thread-15] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s0@group-F163B23E7A07 replies to PRE_VOTE vote request: s2<-s0#0:FAIL-t1. Peer's state: s0@group-F163B23E7A07:t1, leader=s4, voted=s0, raftlog=Memoized:s0@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:26,297 [s2@group-F163B23E7A07-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-F163B23E7A07-LeaderElection4: PRE_VOTE REJECTED received 1 response(s) and 0 exception(s):
2022-07-14 02:38:26,297 [s2@group-F163B23E7A07-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s4#0:FAIL-t1
2022-07-14 02:38:26,297 [s2@group-F163B23E7A07-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-F163B23E7A07-LeaderElection4 PRE_VOTE round 0: result REJECTED
2022-07-14 02:38:26,430 [Thread-23] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-F163B23E7A07: receive requestVote(PRE_VOTE, s2, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:26,430 [Thread-23] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-F163B23E7A07-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s4
2022-07-14 02:38:26,430 [Thread-23] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-F163B23E7A07 replies to PRE_VOTE vote request: s2<-s1#0:FAIL-t1. Peer's state: s1@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s1@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:26,652 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(243)) - try enforcing leader to s1 but new leader is s4
2022-07-14 02:38:26,652 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:38:27,002 [s1@group-F163B23E7A07-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-F163B23E7A07-FollowerState: change to CANDIDATE, lastRpcElapsedTime:415077428ns, electionTimeout:296ms
2022-07-14 02:38:27,002 [s1@group-F163B23E7A07-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-F163B23E7A07-FollowerState
2022-07-14 02:38:27,002 [s1@group-F163B23E7A07-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-F163B23E7A07: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-07-14 02:38:27,002 [s1@group-F163B23E7A07-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:38:27,002 [s1@group-F163B23E7A07-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-F163B23E7A07-LeaderElection5
2022-07-14 02:38:27,003 [s1@group-F163B23E7A07-LeaderElection5] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s1@group-F163B23E7A07: change Leader from s4 to null at term 1 for PRE_VOTE
2022-07-14 02:38:27,003 [s1@group-F163B23E7A07-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-F163B23E7A07-LeaderElection5 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:27,103 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:38:27,154 [Thread-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s4@group-F163B23E7A07: receive requestVote(PRE_VOTE, s1, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:27,154 [Thread-8] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-F163B23E7A07-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2022-07-14 02:38:27,155 [Thread-16] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s0@group-F163B23E7A07: receive requestVote(PRE_VOTE, s1, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:27,155 [Thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s3@group-F163B23E7A07: receive requestVote(PRE_VOTE, s1, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:27,155 [Thread-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-F163B23E7A07-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s4
2022-07-14 02:38:27,155 [Thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s3@group-F163B23E7A07 replies to PRE_VOTE vote request: s1<-s3#0:FAIL-t1. Peer's state: s3@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s3@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:27,155 [Thread-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s4@group-F163B23E7A07 replies to PRE_VOTE vote request: s1<-s4#0:FAIL-t1. Peer's state: s4@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:27,155 [Thread-31] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-F163B23E7A07: receive requestVote(PRE_VOTE, s1, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:27,156 [Thread-31] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-F163B23E7A07-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s4
2022-07-14 02:38:27,156 [Thread-31] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-F163B23E7A07 replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s2@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:27,155 [Thread-16] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-F163B23E7A07-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s4
2022-07-14 02:38:27,156 [Thread-16] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s0@group-F163B23E7A07 replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-F163B23E7A07:t1, leader=s4, voted=s0, raftlog=Memoized:s0@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:27,169 [s1@group-F163B23E7A07-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-F163B23E7A07-LeaderElection5: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-07-14 02:38:27,169 [s1@group-F163B23E7A07-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s3#0:FAIL-t1
2022-07-14 02:38:27,169 [s1@group-F163B23E7A07-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s1<-s4#0:FAIL-t1
2022-07-14 02:38:27,170 [s1@group-F163B23E7A07-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s1<-s0#0:FAIL-t1
2022-07-14 02:38:27,170 [s1@group-F163B23E7A07-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-F163B23E7A07-LeaderElection5 PRE_VOTE round 0: result REJECTED
2022-07-14 02:38:27,170 [s1@group-F163B23E7A07-LeaderElection5] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-F163B23E7A07: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-07-14 02:38:27,170 [s1@group-F163B23E7A07-LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-F163B23E7A07-LeaderElection5
2022-07-14 02:38:27,170 [s1@group-F163B23E7A07-LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-F163B23E7A07-FollowerState
2022-07-14 02:38:27,276 [Thread-23] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s1@group-F163B23E7A07: change Leader from null to s4 at term 1 for appendEntries, leader elected after 273ms
2022-07-14 02:38:27,554 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(243)) - try enforcing leader to s1 but new leader is s4
2022-07-14 02:38:27,554 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:38:27,825 [s1@group-F163B23E7A07-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-F163B23E7A07-FollowerState: change to CANDIDATE, lastRpcElapsedTime:275075031ns, electionTimeout:190ms
2022-07-14 02:38:27,825 [s1@group-F163B23E7A07-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-F163B23E7A07-FollowerState
2022-07-14 02:38:27,825 [s1@group-F163B23E7A07-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-F163B23E7A07: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-07-14 02:38:27,826 [s1@group-F163B23E7A07-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:38:27,826 [s1@group-F163B23E7A07-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-F163B23E7A07-LeaderElection6
2022-07-14 02:38:27,826 [s1@group-F163B23E7A07-LeaderElection6] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s1@group-F163B23E7A07: change Leader from s4 to null at term 1 for PRE_VOTE
2022-07-14 02:38:27,826 [s1@group-F163B23E7A07-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-F163B23E7A07-LeaderElection6 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:27,978 [Thread-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s3@group-F163B23E7A07: receive requestVote(PRE_VOTE, s1, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:27,978 [Thread-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-F163B23E7A07-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-07-14 02:38:27,978 [Thread-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s3@group-F163B23E7A07 replies to PRE_VOTE vote request: s1<-s3#0:OK-t1. Peer's state: s3@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s3@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:27,978 [Thread-29] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-F163B23E7A07: receive requestVote(PRE_VOTE, s1, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:27,979 [Thread-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s0@group-F163B23E7A07: receive requestVote(PRE_VOTE, s1, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:27,979 [Thread-29] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-F163B23E7A07-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-07-14 02:38:27,979 [Thread-14] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-F163B23E7A07-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-07-14 02:38:27,979 [Thread-29] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-F163B23E7A07 replies to PRE_VOTE vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s2@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:27,979 [Thread-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s0@group-F163B23E7A07 replies to PRE_VOTE vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-F163B23E7A07:t1, leader=s4, voted=s0, raftlog=Memoized:s0@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:27,979 [Thread-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s4@group-F163B23E7A07: receive requestVote(PRE_VOTE, s1, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:27,979 [Thread-9] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-F163B23E7A07-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2022-07-14 02:38:27,980 [Thread-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s4@group-F163B23E7A07 replies to PRE_VOTE vote request: s1<-s4#0:FAIL-t1. Peer's state: s4@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:27,991 [s1@group-F163B23E7A07-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-F163B23E7A07-LeaderElection6: PRE_VOTE TIMEOUT received 1 response(s) and 0 exception(s):
2022-07-14 02:38:27,991 [s1@group-F163B23E7A07-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s4#0:FAIL-t1
2022-07-14 02:38:27,991 [s1@group-F163B23E7A07-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-F163B23E7A07-LeaderElection6 PRE_VOTE round 0: result TIMEOUT
2022-07-14 02:38:27,991 [s1@group-F163B23E7A07-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-F163B23E7A07-LeaderElection6 PRE_VOTE round 1: submit vote requests at term 1 for 0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:28,005 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:38:28,142 [Thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s3@group-F163B23E7A07: receive requestVote(PRE_VOTE, s1, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:28,142 [Thread-16] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s0@group-F163B23E7A07: receive requestVote(PRE_VOTE, s1, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:28,142 [Thread-16] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-F163B23E7A07-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s4
2022-07-14 02:38:28,143 [Thread-16] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s0@group-F163B23E7A07 replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-F163B23E7A07:t1, leader=s4, voted=s0, raftlog=Memoized:s0@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:28,143 [Thread-31] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-F163B23E7A07: receive requestVote(PRE_VOTE, s1, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:28,143 [Thread-31] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-F163B23E7A07-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s4
2022-07-14 02:38:28,143 [Thread-31] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-F163B23E7A07 replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s2@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:28,142 [Thread-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s4@group-F163B23E7A07: receive requestVote(PRE_VOTE, s1, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:28,143 [Thread-7] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-F163B23E7A07-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2022-07-14 02:38:28,144 [Thread-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s4@group-F163B23E7A07 replies to PRE_VOTE vote request: s1<-s4#0:FAIL-t1. Peer's state: s4@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:28,142 [Thread-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-F163B23E7A07-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s4
2022-07-14 02:38:28,145 [Thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s3@group-F163B23E7A07 replies to PRE_VOTE vote request: s1<-s3#0:FAIL-t1. Peer's state: s3@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s3@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:28,157 [s1@group-F163B23E7A07-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-F163B23E7A07-LeaderElection6: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-07-14 02:38:28,157 [s1@group-F163B23E7A07-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s3#0:FAIL-t1
2022-07-14 02:38:28,157 [s1@group-F163B23E7A07-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s1<-s0#0:FAIL-t1
2022-07-14 02:38:28,157 [s1@group-F163B23E7A07-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s1<-s2#0:FAIL-t1
2022-07-14 02:38:28,158 [s1@group-F163B23E7A07-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-F163B23E7A07-LeaderElection6 PRE_VOTE round 1: result REJECTED
2022-07-14 02:38:28,158 [s1@group-F163B23E7A07-LeaderElection6] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-F163B23E7A07: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-07-14 02:38:28,158 [s1@group-F163B23E7A07-LeaderElection6] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-F163B23E7A07-LeaderElection6
2022-07-14 02:38:28,158 [s1@group-F163B23E7A07-LeaderElection6] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-F163B23E7A07-FollowerState
2022-07-14 02:38:28,239 [Thread-21] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s1@group-F163B23E7A07: change Leader from null to s4 at term 1 for appendEntries, leader elected after 412ms
2022-07-14 02:38:28,455 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(243)) - try enforcing leader to s1 but new leader is s4
2022-07-14 02:38:28,455 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:38:28,819 [s1@group-F163B23E7A07-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-F163B23E7A07-FollowerState: change to CANDIDATE, lastRpcElapsedTime:390623872ns, electionTimeout:263ms
2022-07-14 02:38:28,819 [s1@group-F163B23E7A07-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-F163B23E7A07-FollowerState
2022-07-14 02:38:28,819 [s1@group-F163B23E7A07-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-F163B23E7A07: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-07-14 02:38:28,819 [s1@group-F163B23E7A07-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:38:28,819 [s1@group-F163B23E7A07-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-F163B23E7A07-LeaderElection7
2022-07-14 02:38:28,820 [s1@group-F163B23E7A07-LeaderElection7] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s1@group-F163B23E7A07: change Leader from s4 to null at term 1 for PRE_VOTE
2022-07-14 02:38:28,820 [s1@group-F163B23E7A07-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-F163B23E7A07-LeaderElection7 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:28,853 [s2@group-F163B23E7A07-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-F163B23E7A07-FollowerState: change to CANDIDATE, lastRpcElapsedTime:228556986ns, electionTimeout:165ms
2022-07-14 02:38:28,853 [s2@group-F163B23E7A07-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-F163B23E7A07-FollowerState
2022-07-14 02:38:28,853 [s2@group-F163B23E7A07-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-F163B23E7A07: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-07-14 02:38:28,853 [s2@group-F163B23E7A07-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:38:28,853 [s2@group-F163B23E7A07-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-F163B23E7A07-LeaderElection8
2022-07-14 02:38:28,854 [s2@group-F163B23E7A07-LeaderElection8] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s2@group-F163B23E7A07: change Leader from s4 to null at term 1 for PRE_VOTE
2022-07-14 02:38:28,854 [s2@group-F163B23E7A07-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-F163B23E7A07-LeaderElection8 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:28,864 [Thread-29] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-F163B23E7A07: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2022-07-14 02:38:28,865 [Thread-29] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-F163B23E7A07-LeaderElection8
2022-07-14 02:38:28,865 [Thread-29] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-F163B23E7A07-FollowerState
2022-07-14 02:38:28,865 [Thread-29] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s2@group-F163B23E7A07: change Leader from null to s4 at term 1 for appendEntries, leader elected after 11ms
2022-07-14 02:38:28,906 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:38:28,971 [Thread-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s3@group-F163B23E7A07: receive requestVote(PRE_VOTE, s1, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:28,971 [Thread-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-F163B23E7A07-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s4
2022-07-14 02:38:28,971 [Thread-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s3@group-F163B23E7A07 replies to PRE_VOTE vote request: s1<-s3#0:FAIL-t1. Peer's state: s3@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s3@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:28,972 [Thread-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s4@group-F163B23E7A07: receive requestVote(PRE_VOTE, s1, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:28,972 [Thread-8] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-F163B23E7A07-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2022-07-14 02:38:28,972 [Thread-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s4@group-F163B23E7A07 replies to PRE_VOTE vote request: s1<-s4#0:FAIL-t1. Peer's state: s4@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:28,978 [Thread-16] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s0@group-F163B23E7A07: receive requestVote(PRE_VOTE, s1, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:28,978 [Thread-31] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-F163B23E7A07: receive requestVote(PRE_VOTE, s1, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:28,978 [Thread-31] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-F163B23E7A07-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s4
2022-07-14 02:38:28,978 [Thread-16] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-F163B23E7A07-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s4
2022-07-14 02:38:28,979 [Thread-31] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-F163B23E7A07 replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s2@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:28,979 [Thread-16] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s0@group-F163B23E7A07 replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-F163B23E7A07:t1, leader=s4, voted=s0, raftlog=Memoized:s0@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:28,991 [s1@group-F163B23E7A07-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-F163B23E7A07-LeaderElection7: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-07-14 02:38:28,991 [s1@group-F163B23E7A07-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s3#0:FAIL-t1
2022-07-14 02:38:28,991 [s1@group-F163B23E7A07-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s1<-s4#0:FAIL-t1
2022-07-14 02:38:28,991 [s1@group-F163B23E7A07-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s1<-s0#0:FAIL-t1
2022-07-14 02:38:28,992 [s1@group-F163B23E7A07-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-F163B23E7A07-LeaderElection7 PRE_VOTE round 0: result REJECTED
2022-07-14 02:38:28,992 [s1@group-F163B23E7A07-LeaderElection7] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-F163B23E7A07: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-07-14 02:38:28,992 [s1@group-F163B23E7A07-LeaderElection7] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-F163B23E7A07-LeaderElection7
2022-07-14 02:38:28,992 [s1@group-F163B23E7A07-LeaderElection7] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-F163B23E7A07-FollowerState
2022-07-14 02:38:29,005 [Thread-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s3@group-F163B23E7A07: receive requestVote(PRE_VOTE, s2, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:29,005 [Thread-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-F163B23E7A07-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s4
2022-07-14 02:38:29,005 [Thread-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s3@group-F163B23E7A07 replies to PRE_VOTE vote request: s2<-s3#0:FAIL-t1. Peer's state: s3@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s3@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:29,005 [Thread-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s4@group-F163B23E7A07: receive requestVote(PRE_VOTE, s2, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:29,006 [Thread-9] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-F163B23E7A07-LEADER: reject PRE_VOTE from s2: this server is the leader and still has leadership
2022-07-14 02:38:29,006 [Thread-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s4@group-F163B23E7A07 replies to PRE_VOTE vote request: s2<-s4#0:FAIL-t1. Peer's state: s4@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:29,005 [Thread-15] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s0@group-F163B23E7A07: receive requestVote(PRE_VOTE, s2, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:29,006 [Thread-15] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-F163B23E7A07-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s4
2022-07-14 02:38:29,006 [Thread-15] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s0@group-F163B23E7A07 replies to PRE_VOTE vote request: s2<-s0#0:FAIL-t1. Peer's state: s0@group-F163B23E7A07:t1, leader=s4, voted=s0, raftlog=Memoized:s0@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:29,021 [s2@group-F163B23E7A07-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-F163B23E7A07-LeaderElection8: PRE_VOTE REJECTED received 1 response(s) and 0 exception(s):
2022-07-14 02:38:29,021 [s2@group-F163B23E7A07-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s3#0:FAIL-t1
2022-07-14 02:38:29,021 [s2@group-F163B23E7A07-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-F163B23E7A07-LeaderElection8 PRE_VOTE round 0: result REJECTED
2022-07-14 02:38:29,117 [Thread-21] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s1@group-F163B23E7A07: change Leader from null to s4 at term 1 for appendEntries, leader elected after 296ms
2022-07-14 02:38:29,155 [Thread-22] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-F163B23E7A07: receive requestVote(PRE_VOTE, s2, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:29,155 [Thread-22] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-F163B23E7A07-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s4
2022-07-14 02:38:29,156 [Thread-22] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-F163B23E7A07 replies to PRE_VOTE vote request: s2<-s1#0:FAIL-t1. Peer's state: s1@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s1@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:29,357 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(243)) - try enforcing leader to s1 but new leader is s4
2022-07-14 02:38:29,357 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:38:29,755 [s1@group-F163B23E7A07-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-F163B23E7A07-FollowerState: change to CANDIDATE, lastRpcElapsedTime:459264766ns, electionTimeout:300ms
2022-07-14 02:38:29,756 [s1@group-F163B23E7A07-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-F163B23E7A07-FollowerState
2022-07-14 02:38:29,756 [s1@group-F163B23E7A07-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-F163B23E7A07: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-07-14 02:38:29,756 [s1@group-F163B23E7A07-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:38:29,756 [s1@group-F163B23E7A07-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-F163B23E7A07-LeaderElection9
2022-07-14 02:38:29,757 [s1@group-F163B23E7A07-LeaderElection9] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s1@group-F163B23E7A07: change Leader from s4 to null at term 1 for PRE_VOTE
2022-07-14 02:38:29,757 [s1@group-F163B23E7A07-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-F163B23E7A07-LeaderElection9 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:29,775 [s2@group-F163B23E7A07-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-F163B23E7A07-FollowerState: change to CANDIDATE, lastRpcElapsedTime:201889402ns, electionTimeout:184ms
2022-07-14 02:38:29,776 [s2@group-F163B23E7A07-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-F163B23E7A07-FollowerState
2022-07-14 02:38:29,776 [s2@group-F163B23E7A07-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-F163B23E7A07: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-07-14 02:38:29,776 [s2@group-F163B23E7A07-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:38:29,776 [s2@group-F163B23E7A07-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-F163B23E7A07-LeaderElection10
2022-07-14 02:38:29,777 [s2@group-F163B23E7A07-LeaderElection10] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s2@group-F163B23E7A07: change Leader from s4 to null at term 1 for PRE_VOTE
2022-07-14 02:38:29,782 [s2@group-F163B23E7A07-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-F163B23E7A07-LeaderElection10 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:29,808 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:38:29,810 [Thread-31] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-F163B23E7A07: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2022-07-14 02:38:29,810 [Thread-31] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-F163B23E7A07-LeaderElection10
2022-07-14 02:38:29,810 [Thread-31] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-F163B23E7A07-FollowerState
2022-07-14 02:38:29,811 [Thread-31] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s2@group-F163B23E7A07: change Leader from null to s4 at term 1 for appendEntries, leader elected after 33ms
2022-07-14 02:38:29,908 [Thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s3@group-F163B23E7A07: receive requestVote(PRE_VOTE, s1, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:29,908 [Thread-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-F163B23E7A07-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s4
2022-07-14 02:38:29,908 [Thread-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s0@group-F163B23E7A07: receive requestVote(PRE_VOTE, s1, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:29,908 [Thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s3@group-F163B23E7A07 replies to PRE_VOTE vote request: s1<-s3#0:FAIL-t1. Peer's state: s3@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s3@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:29,908 [Thread-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s4@group-F163B23E7A07: receive requestVote(PRE_VOTE, s1, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:29,908 [Thread-29] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-F163B23E7A07: receive requestVote(PRE_VOTE, s1, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:29,908 [Thread-14] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-F163B23E7A07-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s4
2022-07-14 02:38:29,909 [Thread-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s0@group-F163B23E7A07 replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-F163B23E7A07:t1, leader=s4, voted=s0, raftlog=Memoized:s0@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:29,909 [Thread-29] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-F163B23E7A07-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s4
2022-07-14 02:38:29,910 [Thread-29] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-F163B23E7A07 replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s2@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:29,909 [Thread-7] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-F163B23E7A07-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2022-07-14 02:38:29,910 [Thread-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s4@group-F163B23E7A07 replies to PRE_VOTE vote request: s1<-s4#0:FAIL-t1. Peer's state: s4@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:29,926 [s1@group-F163B23E7A07-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-F163B23E7A07-LeaderElection9: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-07-14 02:38:29,926 [s1@group-F163B23E7A07-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s3#0:FAIL-t1
2022-07-14 02:38:29,926 [s1@group-F163B23E7A07-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s1<-s0#0:FAIL-t1
2022-07-14 02:38:29,926 [s1@group-F163B23E7A07-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s1<-s2#0:FAIL-t1
2022-07-14 02:38:29,926 [s1@group-F163B23E7A07-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-F163B23E7A07-LeaderElection9 PRE_VOTE round 0: result REJECTED
2022-07-14 02:38:29,927 [s1@group-F163B23E7A07-LeaderElection9] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-F163B23E7A07: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-07-14 02:38:29,927 [s1@group-F163B23E7A07-LeaderElection9] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-F163B23E7A07-LeaderElection9
2022-07-14 02:38:29,927 [s1@group-F163B23E7A07-LeaderElection9] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-F163B23E7A07-FollowerState
2022-07-14 02:38:29,933 [Thread-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s3@group-F163B23E7A07: receive requestVote(PRE_VOTE, s2, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:29,934 [Thread-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-F163B23E7A07-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s4
2022-07-14 02:38:29,934 [Thread-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s3@group-F163B23E7A07 replies to PRE_VOTE vote request: s2<-s3#0:FAIL-t1. Peer's state: s3@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s3@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:29,934 [Thread-16] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s0@group-F163B23E7A07: receive requestVote(PRE_VOTE, s2, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:29,934 [Thread-16] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-F163B23E7A07-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s4
2022-07-14 02:38:29,934 [Thread-16] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s0@group-F163B23E7A07 replies to PRE_VOTE vote request: s2<-s0#0:FAIL-t1. Peer's state: s0@group-F163B23E7A07:t1, leader=s4, voted=s0, raftlog=Memoized:s0@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:29,934 [Thread-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s4@group-F163B23E7A07: receive requestVote(PRE_VOTE, s2, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:29,935 [Thread-8] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-F163B23E7A07-LEADER: reject PRE_VOTE from s2: this server is the leader and still has leadership
2022-07-14 02:38:29,935 [Thread-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s4@group-F163B23E7A07 replies to PRE_VOTE vote request: s2<-s4#0:FAIL-t1. Peer's state: s4@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:29,948 [s2@group-F163B23E7A07-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-F163B23E7A07-LeaderElection10: PRE_VOTE REJECTED received 1 response(s) and 0 exception(s):
2022-07-14 02:38:29,949 [s2@group-F163B23E7A07-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s3#0:FAIL-t1
2022-07-14 02:38:29,949 [s2@group-F163B23E7A07-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-F163B23E7A07-LeaderElection10 PRE_VOTE round 0: result REJECTED
2022-07-14 02:38:29,983 [Thread-22] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s1@group-F163B23E7A07: change Leader from null to s4 at term 1 for appendEntries, leader elected after 226ms
2022-07-14 02:38:30,084 [Thread-21] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-F163B23E7A07: receive requestVote(PRE_VOTE, s2, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:30,084 [Thread-21] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-F163B23E7A07-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s4
2022-07-14 02:38:30,084 [Thread-21] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-F163B23E7A07 replies to PRE_VOTE vote request: s2<-s1#0:FAIL-t1. Peer's state: s1@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s1@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:30,258 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(243)) - try enforcing leader to s1 but new leader is s4
2022-07-14 02:38:30,259 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:38:30,563 [s1@group-F163B23E7A07-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-F163B23E7A07-FollowerState: change to CANDIDATE, lastRpcElapsedTime:309943425ns, electionTimeout:265ms
2022-07-14 02:38:30,564 [s1@group-F163B23E7A07-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-F163B23E7A07-FollowerState
2022-07-14 02:38:30,564 [s1@group-F163B23E7A07-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-F163B23E7A07: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-07-14 02:38:30,564 [s1@group-F163B23E7A07-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:38:30,564 [s1@group-F163B23E7A07-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-F163B23E7A07-LeaderElection11
2022-07-14 02:38:30,565 [s1@group-F163B23E7A07-LeaderElection11] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s1@group-F163B23E7A07: change Leader from s4 to null at term 1 for PRE_VOTE
2022-07-14 02:38:30,565 [s1@group-F163B23E7A07-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-F163B23E7A07-LeaderElection11 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:30,611 [s2@group-F163B23E7A07-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-F163B23E7A07-FollowerState: change to CANDIDATE, lastRpcElapsedTime:195079793ns, electionTimeout:158ms
2022-07-14 02:38:30,611 [s2@group-F163B23E7A07-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-F163B23E7A07-FollowerState
2022-07-14 02:38:30,611 [s2@group-F163B23E7A07-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-F163B23E7A07: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-07-14 02:38:30,611 [s2@group-F163B23E7A07-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:38:30,612 [s2@group-F163B23E7A07-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-F163B23E7A07-LeaderElection12
2022-07-14 02:38:30,612 [s2@group-F163B23E7A07-LeaderElection12] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s2@group-F163B23E7A07: change Leader from s4 to null at term 1 for PRE_VOTE
2022-07-14 02:38:30,613 [s2@group-F163B23E7A07-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-F163B23E7A07-LeaderElection12 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:30,660 [Thread-30] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-F163B23E7A07: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2022-07-14 02:38:30,660 [Thread-30] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-F163B23E7A07-LeaderElection12
2022-07-14 02:38:30,660 [Thread-30] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-F163B23E7A07-FollowerState
2022-07-14 02:38:30,660 [Thread-30] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s2@group-F163B23E7A07: change Leader from null to s4 at term 1 for appendEntries, leader elected after 48ms
2022-07-14 02:38:30,689 [s3@group-F163B23E7A07-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s3@group-F163B23E7A07-FollowerState: change to CANDIDATE, lastRpcElapsedTime:226266548ns, electionTimeout:223ms
2022-07-14 02:38:30,690 [s3@group-F163B23E7A07-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-F163B23E7A07-FollowerState
2022-07-14 02:38:30,690 [s3@group-F163B23E7A07-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s3@group-F163B23E7A07: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-07-14 02:38:30,690 [s3@group-F163B23E7A07-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:38:30,690 [s3@group-F163B23E7A07-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-F163B23E7A07-LeaderElection13
2022-07-14 02:38:30,691 [s3@group-F163B23E7A07-LeaderElection13] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s3@group-F163B23E7A07: change Leader from s4 to null at term 1 for PRE_VOTE
2022-07-14 02:38:30,691 [s3@group-F163B23E7A07-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s3@group-F163B23E7A07-LeaderElection13 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:30,700 [Thread-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s3@group-F163B23E7A07: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2022-07-14 02:38:30,700 [Thread-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s3: shutdown s3@group-F163B23E7A07-LeaderElection13
2022-07-14 02:38:30,701 [Thread-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-F163B23E7A07-FollowerState
2022-07-14 02:38:30,701 [Thread-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s3@group-F163B23E7A07: change Leader from null to s4 at term 1 for appendEntries, leader elected after 10ms
2022-07-14 02:38:30,710 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:38:30,716 [Thread-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s3@group-F163B23E7A07: receive requestVote(PRE_VOTE, s1, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:30,716 [Thread-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-F163B23E7A07-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s4
2022-07-14 02:38:30,716 [Thread-15] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s0@group-F163B23E7A07: receive requestVote(PRE_VOTE, s1, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:30,716 [Thread-15] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-F163B23E7A07-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s4
2022-07-14 02:38:30,716 [Thread-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s4@group-F163B23E7A07: receive requestVote(PRE_VOTE, s1, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:30,716 [Thread-29] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-F163B23E7A07: receive requestVote(PRE_VOTE, s1, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:30,716 [Thread-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s3@group-F163B23E7A07 replies to PRE_VOTE vote request: s1<-s3#0:FAIL-t1. Peer's state: s3@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s3@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:30,716 [Thread-29] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-F163B23E7A07-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s4
2022-07-14 02:38:30,716 [Thread-9] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-F163B23E7A07-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2022-07-14 02:38:30,716 [Thread-15] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s0@group-F163B23E7A07 replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-F163B23E7A07:t1, leader=s4, voted=s0, raftlog=Memoized:s0@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:30,717 [Thread-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s4@group-F163B23E7A07 replies to PRE_VOTE vote request: s1<-s4#0:FAIL-t1. Peer's state: s4@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:30,716 [Thread-29] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-F163B23E7A07 replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s2@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:30,727 [Thread-16] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s0@group-F163B23E7A07: receive requestVote(PRE_VOTE, s3, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:30,727 [Thread-16] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-F163B23E7A07-FOLLOWER: reject PRE_VOTE from s3: this server is a follower and still has a valid leader s4
2022-07-14 02:38:30,727 [Thread-16] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s0@group-F163B23E7A07 replies to PRE_VOTE vote request: s3<-s0#0:FAIL-t1. Peer's state: s0@group-F163B23E7A07:t1, leader=s4, voted=s0, raftlog=Memoized:s0@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:30,736 [s1@group-F163B23E7A07-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-F163B23E7A07-LeaderElection11: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-07-14 02:38:30,736 [s1@group-F163B23E7A07-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s3#0:FAIL-t1
2022-07-14 02:38:30,736 [s1@group-F163B23E7A07-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s1<-s4#0:FAIL-t1
2022-07-14 02:38:30,736 [s1@group-F163B23E7A07-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s1<-s0#0:FAIL-t1
2022-07-14 02:38:30,736 [s1@group-F163B23E7A07-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-F163B23E7A07-LeaderElection11 PRE_VOTE round 0: result REJECTED
2022-07-14 02:38:30,736 [s1@group-F163B23E7A07-LeaderElection11] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-F163B23E7A07: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-07-14 02:38:30,736 [s1@group-F163B23E7A07-LeaderElection11] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-F163B23E7A07-LeaderElection11
2022-07-14 02:38:30,737 [s1@group-F163B23E7A07-LeaderElection11] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-F163B23E7A07-FollowerState
2022-07-14 02:38:30,744 [s3@group-F163B23E7A07-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s3@group-F163B23E7A07-LeaderElection13: PRE_VOTE REJECTED received 1 response(s) and 0 exception(s):
2022-07-14 02:38:30,744 [s3@group-F163B23E7A07-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s3<-s0#0:FAIL-t1
2022-07-14 02:38:30,744 [s3@group-F163B23E7A07-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s3@group-F163B23E7A07-LeaderElection13 PRE_VOTE round 0: result REJECTED
2022-07-14 02:38:30,764 [Thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s3@group-F163B23E7A07: receive requestVote(PRE_VOTE, s2, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:30,764 [Thread-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-F163B23E7A07-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s4
2022-07-14 02:38:30,764 [Thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s3@group-F163B23E7A07 replies to PRE_VOTE vote request: s2<-s3#0:FAIL-t1. Peer's state: s3@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s3@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:30,764 [Thread-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s4@group-F163B23E7A07: receive requestVote(PRE_VOTE, s2, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:30,765 [Thread-7] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-F163B23E7A07-LEADER: reject PRE_VOTE from s2: this server is the leader and still has leadership
2022-07-14 02:38:30,765 [Thread-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s4@group-F163B23E7A07 replies to PRE_VOTE vote request: s2<-s4#0:FAIL-t1. Peer's state: s4@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:30,765 [Thread-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s0@group-F163B23E7A07: receive requestVote(PRE_VOTE, s2, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:30,765 [Thread-14] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-F163B23E7A07-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s4
2022-07-14 02:38:30,765 [Thread-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s0@group-F163B23E7A07 replies to PRE_VOTE vote request: s2<-s0#0:FAIL-t1. Peer's state: s0@group-F163B23E7A07:t1, leader=s4, voted=s0, raftlog=Memoized:s0@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:30,776 [s2@group-F163B23E7A07-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-F163B23E7A07-LeaderElection12: PRE_VOTE REJECTED received 1 response(s) and 0 exception(s):
2022-07-14 02:38:30,777 [s2@group-F163B23E7A07-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s3#0:FAIL-t1
2022-07-14 02:38:30,777 [s2@group-F163B23E7A07-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-F163B23E7A07-LeaderElection12 PRE_VOTE round 0: result REJECTED
2022-07-14 02:38:30,842 [Thread-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s4@group-F163B23E7A07: receive requestVote(PRE_VOTE, s3, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:30,842 [Thread-8] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-F163B23E7A07-LEADER: reject PRE_VOTE from s3: this server is the leader and still has leadership
2022-07-14 02:38:30,843 [Thread-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s4@group-F163B23E7A07 replies to PRE_VOTE vote request: s3<-s4#0:FAIL-t1. Peer's state: s4@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:30,842 [Thread-31] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-F163B23E7A07: receive requestVote(PRE_VOTE, s3, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:30,843 [Thread-31] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-F163B23E7A07-FOLLOWER: reject PRE_VOTE from s3: this server is a follower and still has a valid leader s4
2022-07-14 02:38:30,843 [Thread-31] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-F163B23E7A07 replies to PRE_VOTE vote request: s3<-s2#0:FAIL-t1. Peer's state: s2@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s2@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:30,916 [Thread-21] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-F163B23E7A07: receive requestVote(PRE_VOTE, s2, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:30,917 [Thread-21] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-F163B23E7A07-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-07-14 02:38:30,917 [Thread-21] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-F163B23E7A07 replies to PRE_VOTE vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-F163B23E7A07:t1, leader=null, voted=s4, raftlog=Memoized:s1@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:30,943 [Thread-22] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s1@group-F163B23E7A07: change Leader from null to s4 at term 1 for appendEntries, leader elected after 378ms
2022-07-14 02:38:30,992 [Thread-23] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-F163B23E7A07: receive requestVote(PRE_VOTE, s3, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:30,992 [Thread-23] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-F163B23E7A07-FOLLOWER: reject PRE_VOTE from s3: this server is a follower and still has a valid leader s4
2022-07-14 02:38:30,993 [Thread-23] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-F163B23E7A07 replies to PRE_VOTE vote request: s3<-s1#0:FAIL-t1. Peer's state: s1@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s1@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:31,161 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(243)) - try enforcing leader to s1 but new leader is s4
2022-07-14 02:38:31,161 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:38:31,351 [s0@group-F163B23E7A07-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-F163B23E7A07-FollowerState: change to CANDIDATE, lastRpcElapsedTime:189053799ns, electionTimeout:169ms
2022-07-14 02:38:31,352 [s0@group-F163B23E7A07-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-F163B23E7A07-FollowerState
2022-07-14 02:38:31,352 [s0@group-F163B23E7A07-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s0@group-F163B23E7A07: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-07-14 02:38:31,352 [s0@group-F163B23E7A07-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:38:31,352 [s0@group-F163B23E7A07-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-F163B23E7A07-LeaderElection14
2022-07-14 02:38:31,353 [s0@group-F163B23E7A07-LeaderElection14] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s0@group-F163B23E7A07: change Leader from s4 to null at term 1 for PRE_VOTE
2022-07-14 02:38:31,353 [s0@group-F163B23E7A07-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-F163B23E7A07-LeaderElection14 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:31,400 [Thread-14] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s0@group-F163B23E7A07: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2022-07-14 02:38:31,400 [Thread-14] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-F163B23E7A07-LeaderElection14
2022-07-14 02:38:31,400 [Thread-14] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-F163B23E7A07-FollowerState
2022-07-14 02:38:31,400 [Thread-14] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s0@group-F163B23E7A07: change Leader from null to s4 at term 1 for appendEntries, leader elected after 47ms
2022-07-14 02:38:31,497 [s1@group-F163B23E7A07-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-F163B23E7A07-FollowerState: change to CANDIDATE, lastRpcElapsedTime:375630603ns, electionTimeout:281ms
2022-07-14 02:38:31,498 [s1@group-F163B23E7A07-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-F163B23E7A07-FollowerState
2022-07-14 02:38:31,498 [s1@group-F163B23E7A07-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-F163B23E7A07: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-07-14 02:38:31,498 [s1@group-F163B23E7A07-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:38:31,498 [s1@group-F163B23E7A07-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-F163B23E7A07-LeaderElection15
2022-07-14 02:38:31,499 [s1@group-F163B23E7A07-LeaderElection15] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s1@group-F163B23E7A07: change Leader from s4 to null at term 1 for PRE_VOTE
2022-07-14 02:38:31,499 [s1@group-F163B23E7A07-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-F163B23E7A07-LeaderElection15 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:31,504 [Thread-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s3@group-F163B23E7A07: receive requestVote(PRE_VOTE, s0, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:31,504 [Thread-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-F163B23E7A07-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s4
2022-07-14 02:38:31,504 [Thread-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s3@group-F163B23E7A07 replies to PRE_VOTE vote request: s0<-s3#0:FAIL-t1. Peer's state: s3@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s3@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:31,504 [Thread-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s4@group-F163B23E7A07: receive requestVote(PRE_VOTE, s0, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:31,504 [Thread-9] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-F163B23E7A07-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-07-14 02:38:31,505 [Thread-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s4@group-F163B23E7A07 replies to PRE_VOTE vote request: s0<-s4#0:FAIL-t1. Peer's state: s4@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:31,504 [Thread-31] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-F163B23E7A07: receive requestVote(PRE_VOTE, s0, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:31,505 [Thread-31] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-F163B23E7A07-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s4
2022-07-14 02:38:31,505 [Thread-31] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-F163B23E7A07 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s2@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:31,517 [s0@group-F163B23E7A07-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-F163B23E7A07-LeaderElection14: PRE_VOTE REJECTED received 1 response(s) and 0 exception(s):
2022-07-14 02:38:31,518 [s0@group-F163B23E7A07-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s3#0:FAIL-t1
2022-07-14 02:38:31,518 [s0@group-F163B23E7A07-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-F163B23E7A07-LeaderElection14 PRE_VOTE round 0: result REJECTED
2022-07-14 02:38:31,612 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:38:31,650 [Thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s3@group-F163B23E7A07: receive requestVote(PRE_VOTE, s1, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:31,650 [Thread-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s4@group-F163B23E7A07: receive requestVote(PRE_VOTE, s1, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:31,650 [Thread-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-F163B23E7A07-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s4
2022-07-14 02:38:31,650 [Thread-30] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-F163B23E7A07: receive requestVote(PRE_VOTE, s1, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:31,651 [Thread-30] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-F163B23E7A07-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s4
2022-07-14 02:38:31,651 [Thread-30] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-F163B23E7A07 replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s2@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:31,650 [Thread-16] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s0@group-F163B23E7A07: receive requestVote(PRE_VOTE, s1, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:31,651 [Thread-16] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-F163B23E7A07-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s4
2022-07-14 02:38:31,651 [Thread-16] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s0@group-F163B23E7A07 replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-F163B23E7A07:t1, leader=s4, voted=s0, raftlog=Memoized:s0@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:31,651 [Thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s3@group-F163B23E7A07 replies to PRE_VOTE vote request: s1<-s3#0:FAIL-t1. Peer's state: s3@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s3@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:31,650 [Thread-7] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-F163B23E7A07-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2022-07-14 02:38:31,651 [Thread-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s4@group-F163B23E7A07 replies to PRE_VOTE vote request: s1<-s4#0:FAIL-t1. Peer's state: s4@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:31,654 [Thread-23] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-F163B23E7A07: receive requestVote(PRE_VOTE, s0, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:31,654 [Thread-23] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-F163B23E7A07-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-07-14 02:38:31,655 [Thread-23] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-F163B23E7A07 replies to PRE_VOTE vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-F163B23E7A07:t1, leader=null, voted=s4, raftlog=Memoized:s1@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:31,667 [s1@group-F163B23E7A07-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-F163B23E7A07-LeaderElection15: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-07-14 02:38:31,668 [s1@group-F163B23E7A07-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s3#0:FAIL-t1
2022-07-14 02:38:31,668 [s1@group-F163B23E7A07-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s1<-s0#0:FAIL-t1
2022-07-14 02:38:31,668 [s1@group-F163B23E7A07-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s1<-s2#0:FAIL-t1
2022-07-14 02:38:31,668 [s1@group-F163B23E7A07-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-F163B23E7A07-LeaderElection15 PRE_VOTE round 0: result REJECTED
2022-07-14 02:38:31,668 [s1@group-F163B23E7A07-LeaderElection15] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-F163B23E7A07: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-07-14 02:38:31,668 [s1@group-F163B23E7A07-LeaderElection15] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-F163B23E7A07-LeaderElection15
2022-07-14 02:38:31,669 [s1@group-F163B23E7A07-LeaderElection15] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-F163B23E7A07-FollowerState
2022-07-14 02:38:31,816 [Thread-21] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s1@group-F163B23E7A07: change Leader from null to s4 at term 1 for appendEntries, leader elected after 317ms
2022-07-14 02:38:32,063 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(243)) - try enforcing leader to s1 but new leader is s4
2022-07-14 02:38:32,063 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:38:32,240 [s3@group-F163B23E7A07-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s3@group-F163B23E7A07-FollowerState: change to CANDIDATE, lastRpcElapsedTime:233362447ns, electionTimeout:202ms
2022-07-14 02:38:32,241 [s3@group-F163B23E7A07-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-F163B23E7A07-FollowerState
2022-07-14 02:38:32,241 [s3@group-F163B23E7A07-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s3@group-F163B23E7A07: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-07-14 02:38:32,241 [s3@group-F163B23E7A07-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:38:32,241 [s3@group-F163B23E7A07-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-F163B23E7A07-LeaderElection16
2022-07-14 02:38:32,242 [s3@group-F163B23E7A07-LeaderElection16] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s3@group-F163B23E7A07: change Leader from s4 to null at term 1 for PRE_VOTE
2022-07-14 02:38:32,242 [s3@group-F163B23E7A07-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s3@group-F163B23E7A07-LeaderElection16 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:32,248 [Thread-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s3@group-F163B23E7A07: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2022-07-14 02:38:32,248 [Thread-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s3: shutdown s3@group-F163B23E7A07-LeaderElection16
2022-07-14 02:38:32,248 [Thread-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-F163B23E7A07-FollowerState
2022-07-14 02:38:32,248 [Thread-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s3@group-F163B23E7A07: change Leader from null to s4 at term 1 for appendEntries, leader elected after 6ms
2022-07-14 02:38:32,285 [s1@group-F163B23E7A07-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-F163B23E7A07-FollowerState: change to CANDIDATE, lastRpcElapsedTime:291261772ns, electionTimeout:176ms
2022-07-14 02:38:32,286 [s1@group-F163B23E7A07-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-F163B23E7A07-FollowerState
2022-07-14 02:38:32,286 [s1@group-F163B23E7A07-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-F163B23E7A07: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-07-14 02:38:32,286 [s1@group-F163B23E7A07-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:38:32,286 [s1@group-F163B23E7A07-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-F163B23E7A07-LeaderElection17
2022-07-14 02:38:32,287 [s1@group-F163B23E7A07-LeaderElection17] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s1@group-F163B23E7A07: change Leader from s4 to null at term 1 for PRE_VOTE
2022-07-14 02:38:32,287 [s1@group-F163B23E7A07-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-F163B23E7A07-LeaderElection17 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:32,393 [Thread-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s4@group-F163B23E7A07: receive requestVote(PRE_VOTE, s3, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:32,394 [Thread-8] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-F163B23E7A07-LEADER: reject PRE_VOTE from s3: this server is the leader and still has leadership
2022-07-14 02:38:32,394 [Thread-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s4@group-F163B23E7A07 replies to PRE_VOTE vote request: s3<-s4#0:FAIL-t1. Peer's state: s4@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:32,395 [Thread-16] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s0@group-F163B23E7A07: receive requestVote(PRE_VOTE, s3, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:32,395 [Thread-16] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-F163B23E7A07-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2022-07-14 02:38:32,395 [Thread-16] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s0@group-F163B23E7A07 replies to PRE_VOTE vote request: s3<-s0#0:OK-t1. Peer's state: s0@group-F163B23E7A07:t1, leader=s4, voted=s0, raftlog=Memoized:s0@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:32,395 [Thread-31] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-F163B23E7A07: receive requestVote(PRE_VOTE, s3, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:32,395 [Thread-31] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-F163B23E7A07-FOLLOWER: reject PRE_VOTE from s3: this server is a follower and still has a valid leader s4
2022-07-14 02:38:32,395 [Thread-31] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-F163B23E7A07 replies to PRE_VOTE vote request: s3<-s2#0:FAIL-t1. Peer's state: s2@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s2@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:32,405 [s3@group-F163B23E7A07-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s3@group-F163B23E7A07-LeaderElection16: PRE_VOTE REJECTED received 1 response(s) and 0 exception(s):
2022-07-14 02:38:32,405 [s3@group-F163B23E7A07-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s3<-s4#0:FAIL-t1
2022-07-14 02:38:32,405 [s3@group-F163B23E7A07-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s3@group-F163B23E7A07-LeaderElection16 PRE_VOTE round 0: result REJECTED
2022-07-14 02:38:32,438 [Thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s3@group-F163B23E7A07: receive requestVote(PRE_VOTE, s1, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:32,438 [Thread-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s4@group-F163B23E7A07: receive requestVote(PRE_VOTE, s1, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:32,438 [Thread-9] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-F163B23E7A07-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2022-07-14 02:38:32,438 [Thread-29] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-F163B23E7A07: receive requestVote(PRE_VOTE, s1, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:32,438 [Thread-29] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-F163B23E7A07-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s4
2022-07-14 02:38:32,438 [Thread-29] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-F163B23E7A07 replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s2@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:32,438 [Thread-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-F163B23E7A07-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-07-14 02:38:32,438 [Thread-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s4@group-F163B23E7A07 replies to PRE_VOTE vote request: s1<-s4#0:FAIL-t1. Peer's state: s4@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:32,438 [Thread-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s0@group-F163B23E7A07: receive requestVote(PRE_VOTE, s1, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:32,439 [Thread-14] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-F163B23E7A07-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s4
2022-07-14 02:38:32,439 [Thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s3@group-F163B23E7A07 replies to PRE_VOTE vote request: s1<-s3#0:OK-t1. Peer's state: s3@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s3@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:32,439 [Thread-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s0@group-F163B23E7A07 replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-F163B23E7A07:t1, leader=s4, voted=s0, raftlog=Memoized:s0@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:32,457 [s1@group-F163B23E7A07-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-F163B23E7A07-LeaderElection17: PRE_VOTE REJECTED received 4 response(s) and 0 exception(s):
2022-07-14 02:38:32,457 [s1@group-F163B23E7A07-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s3#0:OK-t1
2022-07-14 02:38:32,457 [s1@group-F163B23E7A07-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s1<-s4#0:FAIL-t1
2022-07-14 02:38:32,457 [s1@group-F163B23E7A07-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s1<-s0#0:FAIL-t1
2022-07-14 02:38:32,457 [s1@group-F163B23E7A07-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 3: s1<-s2#0:FAIL-t1
2022-07-14 02:38:32,457 [s1@group-F163B23E7A07-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-F163B23E7A07-LeaderElection17 PRE_VOTE round 0: result REJECTED
2022-07-14 02:38:32,457 [s1@group-F163B23E7A07-LeaderElection17] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-F163B23E7A07: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-07-14 02:38:32,457 [s1@group-F163B23E7A07-LeaderElection17] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-F163B23E7A07-LeaderElection17
2022-07-14 02:38:32,457 [s1@group-F163B23E7A07-LeaderElection17] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-F163B23E7A07-FollowerState
2022-07-14 02:38:32,514 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:38:32,543 [Thread-21] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-F163B23E7A07: receive requestVote(PRE_VOTE, s3, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:32,544 [Thread-21] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-F163B23E7A07-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2022-07-14 02:38:32,544 [Thread-21] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-F163B23E7A07 replies to PRE_VOTE vote request: s3<-s1#0:OK-t1. Peer's state: s1@group-F163B23E7A07:t1, leader=null, voted=s4, raftlog=Memoized:s1@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:32,683 [Thread-22] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s1@group-F163B23E7A07: change Leader from null to s4 at term 1 for appendEntries, leader elected after 396ms
2022-07-14 02:38:32,964 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(243)) - try enforcing leader to s1 but new leader is s4
2022-07-14 02:38:32,965 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:38:33,096 [s0@group-F163B23E7A07-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-F163B23E7A07-FollowerState: change to CANDIDATE, lastRpcElapsedTime:172416256ns, electionTimeout:152ms
2022-07-14 02:38:33,096 [s0@group-F163B23E7A07-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-F163B23E7A07-FollowerState
2022-07-14 02:38:33,096 [s0@group-F163B23E7A07-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s0@group-F163B23E7A07: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-07-14 02:38:33,096 [s0@group-F163B23E7A07-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:38:33,097 [s0@group-F163B23E7A07-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-F163B23E7A07-LeaderElection18
2022-07-14 02:38:33,097 [s0@group-F163B23E7A07-LeaderElection18] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s0@group-F163B23E7A07: change Leader from s4 to null at term 1 for PRE_VOTE
2022-07-14 02:38:33,098 [s0@group-F163B23E7A07-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-F163B23E7A07-LeaderElection18 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:33,162 [Thread-15] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s0@group-F163B23E7A07: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2022-07-14 02:38:33,163 [Thread-15] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-F163B23E7A07-LeaderElection18
2022-07-14 02:38:33,163 [Thread-15] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-F163B23E7A07-FollowerState
2022-07-14 02:38:33,163 [Thread-15] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s0@group-F163B23E7A07: change Leader from null to s4 at term 1 for appendEntries, leader elected after 65ms
2022-07-14 02:38:33,249 [Thread-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s3@group-F163B23E7A07: receive requestVote(PRE_VOTE, s0, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:33,249 [Thread-0] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-F163B23E7A07-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s4
2022-07-14 02:38:33,249 [Thread-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s3@group-F163B23E7A07 replies to PRE_VOTE vote request: s0<-s3#0:FAIL-t1. Peer's state: s3@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s3@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:33,249 [Thread-30] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-F163B23E7A07: receive requestVote(PRE_VOTE, s0, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:33,249 [Thread-30] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-F163B23E7A07-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s4
2022-07-14 02:38:33,249 [Thread-30] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-F163B23E7A07 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s2@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:33,249 [Thread-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s4@group-F163B23E7A07: receive requestVote(PRE_VOTE, s0, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:33,250 [Thread-7] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-F163B23E7A07-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-07-14 02:38:33,250 [Thread-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s4@group-F163B23E7A07 replies to PRE_VOTE vote request: s0<-s4#0:FAIL-t1. Peer's state: s4@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:33,264 [s0@group-F163B23E7A07-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-F163B23E7A07-LeaderElection18: PRE_VOTE REJECTED received 1 response(s) and 0 exception(s):
2022-07-14 02:38:33,265 [s0@group-F163B23E7A07-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s3#0:FAIL-t1
2022-07-14 02:38:33,265 [s0@group-F163B23E7A07-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-F163B23E7A07-LeaderElection18 PRE_VOTE round 0: result REJECTED
2022-07-14 02:38:33,286 [s1@group-F163B23E7A07-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-F163B23E7A07-FollowerState: change to CANDIDATE, lastRpcElapsedTime:331523808ns, electionTimeout:274ms
2022-07-14 02:38:33,286 [s1@group-F163B23E7A07-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-F163B23E7A07-FollowerState
2022-07-14 02:38:33,286 [s1@group-F163B23E7A07-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-F163B23E7A07: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-07-14 02:38:33,286 [s1@group-F163B23E7A07-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:38:33,286 [s1@group-F163B23E7A07-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-F163B23E7A07-LeaderElection19
2022-07-14 02:38:33,291 [s1@group-F163B23E7A07-LeaderElection19] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s1@group-F163B23E7A07: change Leader from s4 to null at term 1 for PRE_VOTE
2022-07-14 02:38:33,291 [s1@group-F163B23E7A07-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-F163B23E7A07-LeaderElection19 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:33,416 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:38:33,442 [Thread-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s3@group-F163B23E7A07: receive requestVote(PRE_VOTE, s1, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:33,442 [Thread-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-F163B23E7A07-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s4
2022-07-14 02:38:33,442 [Thread-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s4@group-F163B23E7A07: receive requestVote(PRE_VOTE, s1, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:33,442 [Thread-29] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-F163B23E7A07: receive requestVote(PRE_VOTE, s1, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:33,442 [Thread-8] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-F163B23E7A07-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2022-07-14 02:38:33,442 [Thread-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s0@group-F163B23E7A07: receive requestVote(PRE_VOTE, s1, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:33,442 [Thread-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s4@group-F163B23E7A07 replies to PRE_VOTE vote request: s1<-s4#0:FAIL-t1. Peer's state: s4@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:33,442 [Thread-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s3@group-F163B23E7A07 replies to PRE_VOTE vote request: s1<-s3#0:FAIL-t1. Peer's state: s3@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s3@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:33,442 [Thread-14] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-F163B23E7A07-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s4
2022-07-14 02:38:33,449 [Thread-14] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s0@group-F163B23E7A07 replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-F163B23E7A07:t1, leader=s4, voted=s0, raftlog=Memoized:s0@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:33,442 [Thread-29] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-F163B23E7A07-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s4
2022-07-14 02:38:33,449 [Thread-29] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-F163B23E7A07 replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s2@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:33,461 [s1@group-F163B23E7A07-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-F163B23E7A07-LeaderElection19: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-07-14 02:38:33,462 [s1@group-F163B23E7A07-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s3#0:FAIL-t1
2022-07-14 02:38:33,462 [s1@group-F163B23E7A07-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s1<-s4#0:FAIL-t1
2022-07-14 02:38:33,462 [s1@group-F163B23E7A07-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s1<-s2#0:FAIL-t1
2022-07-14 02:38:33,462 [s1@group-F163B23E7A07-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-F163B23E7A07-LeaderElection19 PRE_VOTE round 0: result REJECTED
2022-07-14 02:38:33,462 [s1@group-F163B23E7A07-LeaderElection19] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-F163B23E7A07: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-07-14 02:38:33,462 [s1@group-F163B23E7A07-LeaderElection19] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-F163B23E7A07-LeaderElection19
2022-07-14 02:38:33,462 [s1@group-F163B23E7A07-LeaderElection19] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-F163B23E7A07-FollowerState
2022-07-14 02:38:33,641 [Thread-23] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s1@group-F163B23E7A07: change Leader from null to s4 at term 1 for appendEntries, leader elected after 350ms
2022-07-14 02:38:33,699 [Thread-21] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-F163B23E7A07: receive requestVote(PRE_VOTE, s0, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:33,699 [Thread-21] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-F163B23E7A07-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s4
2022-07-14 02:38:33,699 [Thread-21] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-F163B23E7A07 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s1@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:33,866 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(243)) - try enforcing leader to s1 but new leader is s4
2022-07-14 02:38:33,867 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:38:34,234 [s1@group-F163B23E7A07-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-F163B23E7A07-FollowerState: change to CANDIDATE, lastRpcElapsedTime:413650585ns, electionTimeout:256ms
2022-07-14 02:38:34,234 [s1@group-F163B23E7A07-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-F163B23E7A07-FollowerState
2022-07-14 02:38:34,234 [s1@group-F163B23E7A07-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-F163B23E7A07: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-07-14 02:38:34,234 [s1@group-F163B23E7A07-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:38:34,234 [s1@group-F163B23E7A07-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-F163B23E7A07-LeaderElection20
2022-07-14 02:38:34,235 [s1@group-F163B23E7A07-LeaderElection20] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s1@group-F163B23E7A07: change Leader from s4 to null at term 1 for PRE_VOTE
2022-07-14 02:38:34,235 [s1@group-F163B23E7A07-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-F163B23E7A07-LeaderElection20 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:34,314 [s2@group-F163B23E7A07-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-F163B23E7A07-FollowerState: change to CANDIDATE, lastRpcElapsedTime:220008678ns, electionTimeout:219ms
2022-07-14 02:38:34,315 [s2@group-F163B23E7A07-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-F163B23E7A07-FollowerState
2022-07-14 02:38:34,315 [s2@group-F163B23E7A07-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-F163B23E7A07: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-07-14 02:38:34,315 [s2@group-F163B23E7A07-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:38:34,315 [s2@group-F163B23E7A07-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-F163B23E7A07-LeaderElection21
2022-07-14 02:38:34,318 [s2@group-F163B23E7A07-LeaderElection21] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s2@group-F163B23E7A07: change Leader from s4 to null at term 1 for PRE_VOTE
2022-07-14 02:38:34,318 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:38:34,318 [s2@group-F163B23E7A07-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-F163B23E7A07-LeaderElection21 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:34,319 [Thread-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s3@group-F163B23E7A07: receive requestVote(PRE_VOTE, s2, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:34,319 [Thread-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-F163B23E7A07-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-07-14 02:38:34,319 [Thread-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s3@group-F163B23E7A07 replies to PRE_VOTE vote request: s2<-s3#0:OK-t1. Peer's state: s3@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s3@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:34,320 [Thread-16] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s0@group-F163B23E7A07: receive requestVote(PRE_VOTE, s2, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:34,320 [Thread-16] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-F163B23E7A07-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s4
2022-07-14 02:38:34,320 [Thread-16] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s0@group-F163B23E7A07 replies to PRE_VOTE vote request: s2<-s0#0:FAIL-t1. Peer's state: s0@group-F163B23E7A07:t1, leader=s4, voted=s0, raftlog=Memoized:s0@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:34,320 [Thread-21] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-F163B23E7A07: receive requestVote(PRE_VOTE, s2, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:34,321 [Thread-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s4@group-F163B23E7A07: receive requestVote(PRE_VOTE, s2, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:34,321 [Thread-21] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-F163B23E7A07-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-07-14 02:38:34,321 [Thread-7] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-F163B23E7A07-LEADER: reject PRE_VOTE from s2: this server is the leader and still has leadership
2022-07-14 02:38:34,321 [Thread-21] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-F163B23E7A07 replies to PRE_VOTE vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-F163B23E7A07:t1, leader=null, voted=s4, raftlog=Memoized:s1@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:34,321 [Thread-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s4@group-F163B23E7A07 replies to PRE_VOTE vote request: s2<-s4#0:FAIL-t1. Peer's state: s4@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:34,330 [Thread-30] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-F163B23E7A07: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2022-07-14 02:38:34,331 [Thread-30] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-F163B23E7A07-LeaderElection21
2022-07-14 02:38:34,331 [Thread-30] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-F163B23E7A07-FollowerState
2022-07-14 02:38:34,331 [Thread-30] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s2@group-F163B23E7A07: change Leader from null to s4 at term 1 for appendEntries, leader elected after 13ms
2022-07-14 02:38:34,332 [s2@group-F163B23E7A07-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-F163B23E7A07-LeaderElection21: PRE_VOTE PASSED received 2 response(s) and 0 exception(s):
2022-07-14 02:38:34,332 [s2@group-F163B23E7A07-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s3#0:OK-t1
2022-07-14 02:38:34,332 [s2@group-F163B23E7A07-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s2<-s1#0:OK-t1
2022-07-14 02:38:34,332 [s2@group-F163B23E7A07-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-F163B23E7A07-LeaderElection21 PRE_VOTE round 0: result PASSED
2022-07-14 02:38:34,386 [Thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s3@group-F163B23E7A07: receive requestVote(PRE_VOTE, s1, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:34,387 [Thread-15] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s0@group-F163B23E7A07: receive requestVote(PRE_VOTE, s1, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:34,387 [Thread-15] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-F163B23E7A07-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s4
2022-07-14 02:38:34,387 [Thread-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s4@group-F163B23E7A07: receive requestVote(PRE_VOTE, s1, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:34,387 [Thread-9] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-F163B23E7A07-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2022-07-14 02:38:34,387 [Thread-1] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-F163B23E7A07-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s4
2022-07-14 02:38:34,387 [Thread-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s4@group-F163B23E7A07 replies to PRE_VOTE vote request: s1<-s4#0:FAIL-t1. Peer's state: s4@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:34,387 [Thread-15] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s0@group-F163B23E7A07 replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-F163B23E7A07:t1, leader=s4, voted=s0, raftlog=Memoized:s0@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:34,387 [Thread-31] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-F163B23E7A07: receive requestVote(PRE_VOTE, s1, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:34,388 [Thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s3@group-F163B23E7A07 replies to PRE_VOTE vote request: s1<-s3#0:FAIL-t1. Peer's state: s3@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s3@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:34,388 [Thread-31] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-F163B23E7A07-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s4
2022-07-14 02:38:34,388 [Thread-31] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-F163B23E7A07 replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s2@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:34,406 [s1@group-F163B23E7A07-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-F163B23E7A07-LeaderElection20: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-07-14 02:38:34,406 [s1@group-F163B23E7A07-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s4#0:FAIL-t1
2022-07-14 02:38:34,406 [s1@group-F163B23E7A07-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s1<-s0#0:FAIL-t1
2022-07-14 02:38:34,406 [s1@group-F163B23E7A07-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s1<-s2#0:FAIL-t1
2022-07-14 02:38:34,406 [s1@group-F163B23E7A07-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-F163B23E7A07-LeaderElection20 PRE_VOTE round 0: result REJECTED
2022-07-14 02:38:34,406 [s1@group-F163B23E7A07-LeaderElection20] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-F163B23E7A07: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-07-14 02:38:34,406 [s1@group-F163B23E7A07-LeaderElection20] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-F163B23E7A07-LeaderElection20
2022-07-14 02:38:34,407 [s1@group-F163B23E7A07-LeaderElection20] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-F163B23E7A07-FollowerState
2022-07-14 02:38:34,515 [Thread-22] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s1@group-F163B23E7A07: change Leader from null to s4 at term 1 for appendEntries, leader elected after 280ms
2022-07-14 02:38:34,768 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(243)) - try enforcing leader to s1 but new leader is s4
2022-07-14 02:38:34,769 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:38:35,174 [s1@group-F163B23E7A07-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-F163B23E7A07-FollowerState: change to CANDIDATE, lastRpcElapsedTime:475800541ns, electionTimeout:248ms
2022-07-14 02:38:35,174 [s1@group-F163B23E7A07-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-F163B23E7A07-FollowerState
2022-07-14 02:38:35,174 [s1@group-F163B23E7A07-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-F163B23E7A07: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-07-14 02:38:35,174 [s1@group-F163B23E7A07-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:38:35,174 [s1@group-F163B23E7A07-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-F163B23E7A07-LeaderElection22
2022-07-14 02:38:35,175 [s1@group-F163B23E7A07-LeaderElection22] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s1@group-F163B23E7A07: change Leader from s4 to null at term 1 for PRE_VOTE
2022-07-14 02:38:35,175 [s1@group-F163B23E7A07-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-F163B23E7A07-LeaderElection22 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:35,219 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:38:35,283 [Timer-0] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:lambda$null$5(314)) - TIMED-PRINT: printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s3@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null RUNNING
  s4:  RUNNING    LEADER s4@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-F163B23E7A07:t1, leader=s4, voted=s0, raftlog=Memoized:s0@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-F163B23E7A07:t1, leader=null, voted=s4, raftlog=Memoized:s1@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s2@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null RUNNING
2022-07-14 02:38:35,326 [Thread-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s3@group-F163B23E7A07: receive requestVote(PRE_VOTE, s1, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:35,326 [Thread-2] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-F163B23E7A07-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s4
2022-07-14 02:38:35,326 [Thread-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s4@group-F163B23E7A07: receive requestVote(PRE_VOTE, s1, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:35,326 [Thread-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s3@group-F163B23E7A07 replies to PRE_VOTE vote request: s1<-s3#0:FAIL-t1. Peer's state: s3@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s3@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:35,327 [Thread-8] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-F163B23E7A07-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2022-07-14 02:38:35,327 [Thread-16] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s0@group-F163B23E7A07: receive requestVote(PRE_VOTE, s1, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:35,327 [Thread-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s4@group-F163B23E7A07 replies to PRE_VOTE vote request: s1<-s4#0:FAIL-t1. Peer's state: s4@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:35,327 [Thread-29] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-F163B23E7A07: receive requestVote(PRE_VOTE, s1, group-F163B23E7A07, 1, (t:1, i:0))
2022-07-14 02:38:35,327 [Thread-29] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-F163B23E7A07-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s4
2022-07-14 02:38:35,327 [Thread-29] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-F163B23E7A07 replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s2@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:35,327 [Thread-16] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-F163B23E7A07-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s4
2022-07-14 02:38:35,327 [Thread-16] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s0@group-F163B23E7A07 replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-F163B23E7A07:t1, leader=s4, voted=s0, raftlog=Memoized:s0@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null
2022-07-14 02:38:35,341 [s1@group-F163B23E7A07-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-F163B23E7A07-LeaderElection22: PRE_VOTE REJECTED received 3 response(s) and 0 exception(s):
2022-07-14 02:38:35,341 [s1@group-F163B23E7A07-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s4#0:FAIL-t1
2022-07-14 02:38:35,341 [s1@group-F163B23E7A07-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s1<-s0#0:FAIL-t1
2022-07-14 02:38:35,341 [s1@group-F163B23E7A07-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 2: s1<-s2#0:FAIL-t1
2022-07-14 02:38:35,341 [s1@group-F163B23E7A07-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-F163B23E7A07-LeaderElection22 PRE_VOTE round 0: result REJECTED
2022-07-14 02:38:35,342 [s1@group-F163B23E7A07-LeaderElection22] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-F163B23E7A07: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-07-14 02:38:35,342 [s1@group-F163B23E7A07-LeaderElection22] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-F163B23E7A07-LeaderElection22
2022-07-14 02:38:35,342 [s1@group-F163B23E7A07-LeaderElection22] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-F163B23E7A07-FollowerState
2022-07-14 02:38:35,385 [Thread-22] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s1@group-F163B23E7A07: change Leader from null to s4 at term 1 for appendEntries, leader elected after 209ms
2022-07-14 02:38:35,670 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:enforceLeader(246)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s3@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null RUNNING
  s4:  RUNNING    LEADER s4@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-F163B23E7A07:t1, leader=s4, voted=s0, raftlog=Memoized:s0@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s1@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s2@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null RUNNING
2022-07-14 02:38:35,670 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(779)) - ************************************************************** 
2022-07-14 02:38:35,670 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(780)) - *** 
2022-07-14 02:38:35,670 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(781)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-07-14 02:38:35,670 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(782)) - *** 
2022-07-14 02:38:35,670 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(783)) - ************************************************************** 
2022-07-14 02:38:35,671 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(784)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s3@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null RUNNING
  s4:  RUNNING    LEADER s4@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-F163B23E7A07:t1, leader=s4, voted=s0, raftlog=Memoized:s0@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s1@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F163B23E7A07:t1, leader=s4, voted=s4, raftlog=Memoized:s2@group-F163B23E7A07-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:40707|admin:localhost:37899|client:localhost:39537|dataStream:localhost:45577|priority:0, s4|rpc:localhost:41709|admin:localhost:46527|client:localhost:37803|dataStream:localhost:33761|priority:0, s0|rpc:localhost:37741|admin:localhost:46201|client:localhost:46213|dataStream:localhost:44011|priority:0, s1|rpc:localhost:39965|admin:localhost:38809|client:localhost:39467|dataStream:localhost:32971|priority:0, s2|rpc:localhost:33445|admin:localhost:44043|client:localhost:42341|dataStream:localhost:42157|priority:0], old=null RUNNING
2022-07-14 02:38:35,680 [java.util.concurrent.ThreadPoolExecutor$Worker@58639e29[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s3: close
2022-07-14 02:38:35,680 [java.util.concurrent.ThreadPoolExecutor$Worker@34e365f7[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s0: close
2022-07-14 02:38:35,680 [java.util.concurrent.ThreadPoolExecutor$Worker@62e9e358[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s2: close
2022-07-14 02:38:35,681 [java.util.concurrent.ThreadPoolExecutor$Worker@58639e29[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(437)) - s3@group-F163B23E7A07: shutdown
2022-07-14 02:38:35,681 [java.util.concurrent.ThreadPoolExecutor$Worker@62e9e358[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(437)) - s2@group-F163B23E7A07: shutdown
2022-07-14 02:38:35,681 [java.util.concurrent.ThreadPoolExecutor$Worker@58639e29[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-F163B23E7A07,id=s3
2022-07-14 02:38:35,681 [java.util.concurrent.ThreadPoolExecutor$Worker@58639e29[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-F163B23E7A07-FollowerState
2022-07-14 02:38:35,681 [java.util.concurrent.ThreadPoolExecutor$Worker@26bfb370[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s1: close
2022-07-14 02:38:35,684 [java.util.concurrent.ThreadPoolExecutor$Worker@26bfb370[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(437)) - s1@group-F163B23E7A07: shutdown
2022-07-14 02:38:35,684 [java.util.concurrent.ThreadPoolExecutor$Worker@26bfb370[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-F163B23E7A07,id=s1
2022-07-14 02:38:35,684 [java.util.concurrent.ThreadPoolExecutor$Worker@26bfb370[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-F163B23E7A07-FollowerState
2022-07-14 02:38:35,684 [java.util.concurrent.ThreadPoolExecutor$Worker@26bfb370[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-F163B23E7A07-StateMachineUpdater: set stopIndex = 0
2022-07-14 02:38:35,681 [java.util.concurrent.ThreadPoolExecutor$Worker@34e365f7[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(437)) - s0@group-F163B23E7A07: shutdown
2022-07-14 02:38:35,685 [java.util.concurrent.ThreadPoolExecutor$Worker@26bfb370[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(456)) - s1@group-F163B23E7A07: closes. applyIndex: 0
2022-07-14 02:38:35,685 [java.util.concurrent.ThreadPoolExecutor$Worker@62e9e358[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-F163B23E7A07,id=s2
2022-07-14 02:38:35,685 [s1@group-F163B23E7A07-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-F163B23E7A07-FollowerState was interrupted
2022-07-14 02:38:35,684 [java.util.concurrent.ThreadPoolExecutor$Worker@58639e29[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s3@group-F163B23E7A07-StateMachineUpdater: set stopIndex = 0
2022-07-14 02:38:35,688 [java.util.concurrent.ThreadPoolExecutor$Worker@58639e29[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(456)) - s3@group-F163B23E7A07: closes. applyIndex: 0
2022-07-14 02:38:35,683 [s3@group-F163B23E7A07-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s3@group-F163B23E7A07-FollowerState was interrupted
2022-07-14 02:38:35,689 [s1@group-F163B23E7A07-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s1@group-F163B23E7A07-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-07-14 02:38:35,689 [s3@group-F163B23E7A07-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s3@group-F163B23E7A07-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-07-14 02:38:35,681 [java.util.concurrent.ThreadPoolExecutor$Worker@1b888499[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s4: close
2022-07-14 02:38:35,690 [java.util.concurrent.ThreadPoolExecutor$Worker@1b888499[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(437)) - s4@group-F163B23E7A07: shutdown
2022-07-14 02:38:35,690 [java.util.concurrent.ThreadPoolExecutor$Worker@1b888499[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-F163B23E7A07,id=s4
2022-07-14 02:38:35,690 [java.util.concurrent.ThreadPoolExecutor$Worker@1b888499[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s4: shutdown s4@group-F163B23E7A07-LeaderStateImpl
2022-07-14 02:38:35,690 [s4@group-F163B23E7A07->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s4@group-F163B23E7A07->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-07-14 02:38:35,690 [java.util.concurrent.ThreadPoolExecutor$Worker@1b888499[State = -1, empty queue]] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s4@group-F163B23E7A07-PendingRequests: sendNotLeaderResponses
2022-07-14 02:38:35,690 [s4@group-F163B23E7A07->s3-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s4@group-F163B23E7A07->s3-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-07-14 02:38:35,691 [s4@group-F163B23E7A07->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s4@group-F163B23E7A07->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-07-14 02:38:35,691 [s4@group-F163B23E7A07->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s4@group-F163B23E7A07->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-07-14 02:38:35,691 [java.util.concurrent.ThreadPoolExecutor$Worker@58639e29[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s3@group-F163B23E7A07-SegmentedRaftLogWorker close()
2022-07-14 02:38:35,692 [java.util.concurrent.ThreadPoolExecutor$Worker@1b888499[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s4@group-F163B23E7A07-StateMachineUpdater: set stopIndex = 0
2022-07-14 02:38:35,692 [Thread-3] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:35,692 [Thread-4] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:35,692 [Thread-5] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:35,692 [Thread-0] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:35,692 [Thread-2] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:35,693 [java.util.concurrent.ThreadPoolExecutor$Worker@62e9e358[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-F163B23E7A07-FollowerState
2022-07-14 02:38:35,693 [java.util.concurrent.ThreadPoolExecutor$Worker@62e9e358[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-F163B23E7A07-StateMachineUpdater: set stopIndex = 0
2022-07-14 02:38:35,693 [java.util.concurrent.ThreadPoolExecutor$Worker@62e9e358[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(456)) - s2@group-F163B23E7A07: closes. applyIndex: 0
2022-07-14 02:38:35,693 [s2@group-F163B23E7A07-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s2@group-F163B23E7A07-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-07-14 02:38:35,693 [Thread-1] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:35,694 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$250/1367845902@4203a067] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s3: Stopped
2022-07-14 02:38:35,685 [java.util.concurrent.ThreadPoolExecutor$Worker@34e365f7[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-F163B23E7A07,id=s0
2022-07-14 02:38:35,695 [java.util.concurrent.ThreadPoolExecutor$Worker@34e365f7[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-F163B23E7A07-FollowerState
2022-07-14 02:38:35,695 [java.util.concurrent.ThreadPoolExecutor$Worker@34e365f7[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-F163B23E7A07-StateMachineUpdater: set stopIndex = 0
2022-07-14 02:38:35,695 [s2@group-F163B23E7A07-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-F163B23E7A07-FollowerState was interrupted
2022-07-14 02:38:35,695 [java.util.concurrent.ThreadPoolExecutor$Worker@62e9e358[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s2@group-F163B23E7A07-SegmentedRaftLogWorker close()
2022-07-14 02:38:35,692 [java.util.concurrent.ThreadPoolExecutor$Worker@1b888499[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(456)) - s4@group-F163B23E7A07: closes. applyIndex: 0
2022-07-14 02:38:35,696 [java.util.concurrent.ThreadPoolExecutor$Worker@26bfb370[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s1@group-F163B23E7A07-SegmentedRaftLogWorker close()
2022-07-14 02:38:35,696 [s0@group-F163B23E7A07-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-F163B23E7A07-FollowerState was interrupted
2022-07-14 02:38:35,696 [java.util.concurrent.ThreadPoolExecutor$Worker@34e365f7[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(456)) - s0@group-F163B23E7A07: closes. applyIndex: 0
2022-07-14 02:38:35,696 [s4@group-F163B23E7A07-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s4@group-F163B23E7A07-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-07-14 02:38:35,696 [s0@group-F163B23E7A07-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s0@group-F163B23E7A07-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-07-14 02:38:35,697 [java.util.concurrent.ThreadPoolExecutor$Worker@1b888499[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s4@group-F163B23E7A07-SegmentedRaftLogWorker close()
2022-07-14 02:38:35,697 [java.util.concurrent.ThreadPoolExecutor$Worker@34e365f7[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s0@group-F163B23E7A07-SegmentedRaftLogWorker close()
2022-07-14 02:38:35,701 [Thread-32] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:35,702 [Thread-33] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:35,702 [Thread-10] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s4.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:35,702 [Thread-11] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s4.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:35,702 [Thread-17] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:35,702 [Thread-18] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:35,702 [Thread-19] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:35,702 [Thread-12] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s4.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:35,703 [Thread-7] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s4.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:35,703 [Thread-8] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s4.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:35,703 [Thread-15] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:35,703 [Thread-14] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:35,703 [Thread-16] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:35,703 [Thread-34] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:35,703 [Thread-29] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:35,703 [Thread-9] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s4.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:35,704 [Thread-30] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:35,704 [Thread-31] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:35,707 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$250/1367845902@2647b1bf] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-07-14 02:38:35,707 [Thread-24] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:35,707 [Thread-25] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:35,707 [Thread-26] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:35,707 [Thread-22] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:35,707 [Thread-21] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:35,708 [Thread-23] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:35,708 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$250/1367845902@438ba9c4] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-07-14 02:38:35,708 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$250/1367845902@79182663] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s4: Stopped
2022-07-14 02:38:35,710 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$250/1367845902@4eed4d31] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-07-14 02:38:35,710 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(802)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-07-14 02:38:35,720 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-07-14 02:38:35,720 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-07-14 02:38:35,720 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-07-14 02:38:35,721 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-07-14 02:38:35,723 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(119)) - Running runWithNewCluster
2022-07-14 02:38:35,723 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 150 (default)
2022-07-14 02:38:35,723 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(272)) - new MiniRaftClusterWithSimulatedRpc with group-AA8654C6636F:[s0|rpc:localhost:45749|admin:localhost:41913|client:localhost:46177|dataStream:localhost:38283|priority:0, s1|rpc:localhost:43697|admin:localhost:40237|client:localhost:33271|dataStream:localhost:36173|priority:0, s2|rpc:localhost:39317|admin:localhost:37027|client:localhost:46245|dataStream:localhost:35683|priority:0]
2022-07-14 02:38:35,724 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(304)) - .............................................................. 
2022-07-14 02:38:35,724 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(305)) - ... 
2022-07-14 02:38:35,724 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(306)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-07-14 02:38:35,724 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(307)) - ... 
2022-07-14 02:38:35,724 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(308)) - .............................................................. 
2022-07-14 02:38:35,724 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(284)) - servers = {}
2022-07-14 02:38:35,724 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(348)) - newRaftServer: s0, group-AA8654C6636F:[s0|rpc:localhost:45749|admin:localhost:41913|client:localhost:46177|dataStream:localhost:38283|priority:0, s1|rpc:localhost:43697|admin:localhost:40237|client:localhost:33271|dataStream:localhost:36173|priority:0, s2|rpc:localhost:39317|admin:localhost:37027|client:localhost:46245|dataStream:localhost:35683|priority:0], format? true
2022-07-14 02:38:35,724 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcafd02f87/s0
2022-07-14 02:38:35,724 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcafd02f87/s0 does not exist.
2022-07-14 02:38:35,725 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(353)) - Formatted directory target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcafd02f87/s0
2022-07-14 02:38:35,725 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-14 02:38:35,725 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-07-14 02:38:35,726 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-07-14 02:38:35,726 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-07-14 02:38:35,726 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-14 02:38:35,726 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-14 02:38:35,726 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcafd02f87/s0] (custom)
2022-07-14 02:38:35,727 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-AA8654C6636F:[s0|rpc:localhost:45749|admin:localhost:41913|client:localhost:46177|dataStream:localhost:38283|priority:0, s1|rpc:localhost:43697|admin:localhost:40237|client:localhost:33271|dataStream:localhost:36173|priority:0, s2|rpc:localhost:39317|admin:localhost:37027|client:localhost:46245|dataStream:localhost:35683|priority:0] returns group-AA8654C6636F:java.util.concurrent.CompletableFuture@27b9a177[Not completed]
2022-07-14 02:38:35,727 [pool-6-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(191)) - s0: new RaftServerImpl for group-AA8654C6636F:[s0|rpc:localhost:45749|admin:localhost:41913|client:localhost:46177|dataStream:localhost:38283|priority:0, s1|rpc:localhost:43697|admin:localhost:40237|client:localhost:33271|dataStream:localhost:36173|priority:0, s2|rpc:localhost:39317|admin:localhost:37027|client:localhost:46245|dataStream:localhost:35683|priority:0] with BaseStateMachine:uninitialized
2022-07-14 02:38:35,728 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(348)) - newRaftServer: s1, group-AA8654C6636F:[s0|rpc:localhost:45749|admin:localhost:41913|client:localhost:46177|dataStream:localhost:38283|priority:0, s1|rpc:localhost:43697|admin:localhost:40237|client:localhost:33271|dataStream:localhost:36173|priority:0, s2|rpc:localhost:39317|admin:localhost:37027|client:localhost:46245|dataStream:localhost:35683|priority:0], format? true
2022-07-14 02:38:35,728 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcafd02f87/s1
2022-07-14 02:38:35,728 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-07-14 02:38:35,728 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcafd02f87/s1 does not exist.
2022-07-14 02:38:35,728 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(353)) - Formatted directory target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcafd02f87/s1
2022-07-14 02:38:35,729 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-14 02:38:35,729 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-07-14 02:38:35,729 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-07-14 02:38:35,729 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-07-14 02:38:35,729 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-14 02:38:35,729 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-14 02:38:35,729 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcafd02f87/s1] (custom)
2022-07-14 02:38:35,730 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s1: addNew group-AA8654C6636F:[s0|rpc:localhost:45749|admin:localhost:41913|client:localhost:46177|dataStream:localhost:38283|priority:0, s1|rpc:localhost:43697|admin:localhost:40237|client:localhost:33271|dataStream:localhost:36173|priority:0, s2|rpc:localhost:39317|admin:localhost:37027|client:localhost:46245|dataStream:localhost:35683|priority:0] returns group-AA8654C6636F:java.util.concurrent.CompletableFuture@2d4ef0ff[Not completed]
2022-07-14 02:38:35,730 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(348)) - newRaftServer: s2, group-AA8654C6636F:[s0|rpc:localhost:45749|admin:localhost:41913|client:localhost:46177|dataStream:localhost:38283|priority:0, s1|rpc:localhost:43697|admin:localhost:40237|client:localhost:33271|dataStream:localhost:36173|priority:0, s2|rpc:localhost:39317|admin:localhost:37027|client:localhost:46245|dataStream:localhost:35683|priority:0], format? true
2022-07-14 02:38:35,730 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcafd02f87/s2
2022-07-14 02:38:35,730 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcafd02f87/s2 does not exist.
2022-07-14 02:38:35,730 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(353)) - Formatted directory target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcafd02f87/s2
2022-07-14 02:38:35,730 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-14 02:38:35,731 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-07-14 02:38:35,731 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-07-14 02:38:35,731 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-07-14 02:38:35,731 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-14 02:38:35,731 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-14 02:38:35,731 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcafd02f87/s2] (custom)
2022-07-14 02:38:35,732 [pool-7-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(191)) - s1: new RaftServerImpl for group-AA8654C6636F:[s0|rpc:localhost:45749|admin:localhost:41913|client:localhost:46177|dataStream:localhost:38283|priority:0, s1|rpc:localhost:43697|admin:localhost:40237|client:localhost:33271|dataStream:localhost:36173|priority:0, s2|rpc:localhost:39317|admin:localhost:37027|client:localhost:46245|dataStream:localhost:35683|priority:0] with BaseStateMachine:uninitialized
2022-07-14 02:38:35,732 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-07-14 02:38:35,732 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:38:35,732 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-07-14 02:38:35,732 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-14 02:38:35,732 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-14 02:38:35,732 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-07-14 02:38:35,732 [pool-7-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(109)) - s1@group-AA8654C6636F: ConfigurationManager, init=-1: [s0|rpc:localhost:45749|admin:localhost:41913|client:localhost:46177|dataStream:localhost:38283|priority:0, s1|rpc:localhost:43697|admin:localhost:40237|client:localhost:33271|dataStream:localhost:36173|priority:0, s2|rpc:localhost:39317|admin:localhost:37027|client:localhost:46245|dataStream:localhost:35683|priority:0], old=null, confs=<EMPTY_MAP>
2022-07-14 02:38:35,733 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcafd02f87/s1] (custom)
2022-07-14 02:38:35,733 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-07-14 02:38:35,733 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-07-14 02:38:35,733 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-07-14 02:38:35,733 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-07-14 02:38:35,733 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-07-14 02:38:35,734 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-07-14 02:38:35,734 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-07-14 02:38:35,734 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-07-14 02:38:35,734 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-07-14 02:38:35,734 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-07-14 02:38:35,728 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:38:35,737 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-07-14 02:38:35,737 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-14 02:38:35,737 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-14 02:38:35,737 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-07-14 02:38:35,737 [pool-6-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(109)) - s0@group-AA8654C6636F: ConfigurationManager, init=-1: [s0|rpc:localhost:45749|admin:localhost:41913|client:localhost:46177|dataStream:localhost:38283|priority:0, s1|rpc:localhost:43697|admin:localhost:40237|client:localhost:33271|dataStream:localhost:36173|priority:0, s2|rpc:localhost:39317|admin:localhost:37027|client:localhost:46245|dataStream:localhost:35683|priority:0], old=null, confs=<EMPTY_MAP>
2022-07-14 02:38:35,737 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcafd02f87/s0] (custom)
2022-07-14 02:38:35,737 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-07-14 02:38:35,737 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-07-14 02:38:35,738 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-07-14 02:38:35,738 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-07-14 02:38:35,738 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-07-14 02:38:35,738 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-07-14 02:38:35,739 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-07-14 02:38:35,739 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-07-14 02:38:35,739 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-07-14 02:38:35,739 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-07-14 02:38:35,743 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s2: addNew group-AA8654C6636F:[s0|rpc:localhost:45749|admin:localhost:41913|client:localhost:46177|dataStream:localhost:38283|priority:0, s1|rpc:localhost:43697|admin:localhost:40237|client:localhost:33271|dataStream:localhost:36173|priority:0, s2|rpc:localhost:39317|admin:localhost:37027|client:localhost:46245|dataStream:localhost:35683|priority:0] returns group-AA8654C6636F:java.util.concurrent.CompletableFuture@6cd9561c[Not completed]
2022-07-14 02:38:35,744 [pool-8-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(191)) - s2: new RaftServerImpl for group-AA8654C6636F:[s0|rpc:localhost:45749|admin:localhost:41913|client:localhost:46177|dataStream:localhost:38283|priority:0, s1|rpc:localhost:43697|admin:localhost:40237|client:localhost:33271|dataStream:localhost:36173|priority:0, s2|rpc:localhost:39317|admin:localhost:37027|client:localhost:46245|dataStream:localhost:35683|priority:0] with BaseStateMachine:uninitialized
2022-07-14 02:38:35,744 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcafd02f87/s0/849faee9-21bb-4e75-9bfd-aa8654c6636f does not exist. Creating ...
2022-07-14 02:38:35,744 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-07-14 02:38:35,744 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:38:35,744 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-07-14 02:38:35,744 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-14 02:38:35,744 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcafd02f87/s0/849faee9-21bb-4e75-9bfd-aa8654c6636f
2022-07-14 02:38:35,744 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-14 02:38:35,744 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-07-14 02:38:35,744 [pool-8-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(109)) - s2@group-AA8654C6636F: ConfigurationManager, init=-1: [s0|rpc:localhost:45749|admin:localhost:41913|client:localhost:46177|dataStream:localhost:38283|priority:0, s1|rpc:localhost:43697|admin:localhost:40237|client:localhost:33271|dataStream:localhost:36173|priority:0, s2|rpc:localhost:39317|admin:localhost:37027|client:localhost:46245|dataStream:localhost:35683|priority:0], old=null, confs=<EMPTY_MAP>
2022-07-14 02:38:35,745 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcafd02f87/s2] (custom)
2022-07-14 02:38:35,745 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-07-14 02:38:35,746 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-07-14 02:38:35,746 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-07-14 02:38:35,746 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-07-14 02:38:35,746 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-07-14 02:38:35,747 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcafd02f87/s0/849faee9-21bb-4e75-9bfd-aa8654c6636f/in_use.lock acquired by nodename 16254@fv-az54-379.qczjibyfz4dularrisj3jz1gre.bx.internal.cloudapp.net
2022-07-14 02:38:35,747 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcafd02f87/s0/849faee9-21bb-4e75-9bfd-aa8654c6636f/current
2022-07-14 02:38:35,747 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-07-14 02:38:35,747 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcafd02f87/s0/849faee9-21bb-4e75-9bfd-aa8654c6636f/sm
2022-07-14 02:38:35,748 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-07-14 02:38:35,748 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-07-14 02:38:35,748 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-07-14 02:38:35,748 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-07-14 02:38:35,749 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcafd02f87/s0/849faee9-21bb-4e75-9bfd-aa8654c6636f has been successfully formatted.
2022-07-14 02:38:35,750 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-07-14 02:38:35,750 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-07-14 02:38:35,750 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:38:35,750 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-07-14 02:38:35,750 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-14 02:38:35,750 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-07-14 02:38:35,750 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-07-14 02:38:35,750 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-AA8654C6636F-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcafd02f87/s0/849faee9-21bb-4e75-9bfd-aa8654c6636f
2022-07-14 02:38:35,750 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-07-14 02:38:35,750 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-07-14 02:38:35,750 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-14 02:38:35,750 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-07-14 02:38:35,750 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-07-14 02:38:35,751 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-07-14 02:38:35,751 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-07-14 02:38:35,751 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-07-14 02:38:35,751 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-07-14 02:38:35,751 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-07-14 02:38:35,751 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-07-14 02:38:35,751 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-AA8654C6636F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-07-14 02:38:35,751 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-AA8654C6636F-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-07-14 02:38:35,753 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(313)) - s0@group-AA8654C6636F: start as a follower, conf=-1: [s0|rpc:localhost:45749|admin:localhost:41913|client:localhost:46177|dataStream:localhost:38283|priority:0, s1|rpc:localhost:43697|admin:localhost:40237|client:localhost:33271|dataStream:localhost:36173|priority:0, s2|rpc:localhost:39317|admin:localhost:37027|client:localhost:46245|dataStream:localhost:35683|priority:0], old=null
2022-07-14 02:38:35,754 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s0@group-AA8654C6636F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-07-14 02:38:35,754 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-AA8654C6636F-FollowerState
2022-07-14 02:38:35,754 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-AA8654C6636F,id=s0
2022-07-14 02:38:35,754 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-07-14 02:38:35,754 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-07-14 02:38:35,754 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-07-14 02:38:35,755 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s0: start RPC server
2022-07-14 02:38:35,757 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcafd02f87/s1/849faee9-21bb-4e75-9bfd-aa8654c6636f does not exist. Creating ...
2022-07-14 02:38:35,757 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcafd02f87/s1/849faee9-21bb-4e75-9bfd-aa8654c6636f
2022-07-14 02:38:35,758 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$250/1367845902@364a9a70] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-07-14 02:38:35,759 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcafd02f87/s1/849faee9-21bb-4e75-9bfd-aa8654c6636f/in_use.lock acquired by nodename 16254@fv-az54-379.qczjibyfz4dularrisj3jz1gre.bx.internal.cloudapp.net
2022-07-14 02:38:35,759 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcafd02f87/s1/849faee9-21bb-4e75-9bfd-aa8654c6636f/current
2022-07-14 02:38:35,759 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcafd02f87/s1/849faee9-21bb-4e75-9bfd-aa8654c6636f/sm
2022-07-14 02:38:35,761 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcafd02f87/s1/849faee9-21bb-4e75-9bfd-aa8654c6636f has been successfully formatted.
2022-07-14 02:38:35,761 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-07-14 02:38:35,761 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-07-14 02:38:35,761 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:38:35,761 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-07-14 02:38:35,761 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-14 02:38:35,761 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-07-14 02:38:35,761 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-07-14 02:38:35,761 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-AA8654C6636F-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcafd02f87/s1/849faee9-21bb-4e75-9bfd-aa8654c6636f
2022-07-14 02:38:35,762 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-07-14 02:38:35,762 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-07-14 02:38:35,762 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-14 02:38:35,762 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-07-14 02:38:35,762 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-07-14 02:38:35,762 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-07-14 02:38:35,762 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-07-14 02:38:35,762 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-07-14 02:38:35,762 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-07-14 02:38:35,762 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-07-14 02:38:35,762 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-07-14 02:38:35,762 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-AA8654C6636F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-07-14 02:38:35,762 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-AA8654C6636F-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-07-14 02:38:35,763 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(313)) - s1@group-AA8654C6636F: start as a follower, conf=-1: [s0|rpc:localhost:45749|admin:localhost:41913|client:localhost:46177|dataStream:localhost:38283|priority:0, s1|rpc:localhost:43697|admin:localhost:40237|client:localhost:33271|dataStream:localhost:36173|priority:0, s2|rpc:localhost:39317|admin:localhost:37027|client:localhost:46245|dataStream:localhost:35683|priority:0], old=null
2022-07-14 02:38:35,763 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-AA8654C6636F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-07-14 02:38:35,763 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-AA8654C6636F-FollowerState
2022-07-14 02:38:35,763 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-AA8654C6636F,id=s1
2022-07-14 02:38:35,763 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-07-14 02:38:35,763 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-07-14 02:38:35,763 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-07-14 02:38:35,764 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s1: start RPC server
2022-07-14 02:38:35,764 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$250/1367845902@43d8651f] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-07-14 02:38:35,765 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcafd02f87/s2/849faee9-21bb-4e75-9bfd-aa8654c6636f does not exist. Creating ...
2022-07-14 02:38:35,765 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcafd02f87/s2/849faee9-21bb-4e75-9bfd-aa8654c6636f
2022-07-14 02:38:35,766 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcafd02f87/s2/849faee9-21bb-4e75-9bfd-aa8654c6636f/in_use.lock acquired by nodename 16254@fv-az54-379.qczjibyfz4dularrisj3jz1gre.bx.internal.cloudapp.net
2022-07-14 02:38:35,766 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcafd02f87/s2/849faee9-21bb-4e75-9bfd-aa8654c6636f/current
2022-07-14 02:38:35,766 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcafd02f87/s2/849faee9-21bb-4e75-9bfd-aa8654c6636f/sm
2022-07-14 02:38:35,767 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcafd02f87/s2/849faee9-21bb-4e75-9bfd-aa8654c6636f has been successfully formatted.
2022-07-14 02:38:35,767 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-07-14 02:38:35,767 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-07-14 02:38:35,767 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:38:35,767 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-07-14 02:38:35,767 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-14 02:38:35,767 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-07-14 02:38:35,768 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-07-14 02:38:35,768 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-AA8654C6636F-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcafd02f87/s2/849faee9-21bb-4e75-9bfd-aa8654c6636f
2022-07-14 02:38:35,768 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-07-14 02:38:35,768 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-07-14 02:38:35,768 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-14 02:38:35,768 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-07-14 02:38:35,768 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-07-14 02:38:35,768 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-07-14 02:38:35,768 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-07-14 02:38:35,768 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-07-14 02:38:35,768 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-07-14 02:38:35,768 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-07-14 02:38:35,768 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-07-14 02:38:35,768 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-AA8654C6636F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-07-14 02:38:35,769 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-AA8654C6636F-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-07-14 02:38:35,771 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(313)) - s2@group-AA8654C6636F: start as a follower, conf=-1: [s0|rpc:localhost:45749|admin:localhost:41913|client:localhost:46177|dataStream:localhost:38283|priority:0, s1|rpc:localhost:43697|admin:localhost:40237|client:localhost:33271|dataStream:localhost:36173|priority:0, s2|rpc:localhost:39317|admin:localhost:37027|client:localhost:46245|dataStream:localhost:35683|priority:0], old=null
2022-07-14 02:38:35,771 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-AA8654C6636F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-07-14 02:38:35,771 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-AA8654C6636F-FollowerState
2022-07-14 02:38:35,772 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-AA8654C6636F,id=s2
2022-07-14 02:38:35,772 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-07-14 02:38:35,772 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-07-14 02:38:35,772 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-07-14 02:38:35,772 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s2: start RPC server
2022-07-14 02:38:35,773 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$250/1367845902@699d90cf] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-07-14 02:38:35,773 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:38:35,773 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:38:35,773 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-AA8654C6636F:t0, leader=null, voted=, raftlog=Memoized:s0@group-AA8654C6636F-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:45749|admin:localhost:41913|client:localhost:46177|dataStream:localhost:38283|priority:0, s1|rpc:localhost:43697|admin:localhost:40237|client:localhost:33271|dataStream:localhost:36173|priority:0, s2|rpc:localhost:39317|admin:localhost:37027|client:localhost:46245|dataStream:localhost:35683|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-AA8654C6636F:t0, leader=null, voted=, raftlog=Memoized:s1@group-AA8654C6636F-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:45749|admin:localhost:41913|client:localhost:46177|dataStream:localhost:38283|priority:0, s1|rpc:localhost:43697|admin:localhost:40237|client:localhost:33271|dataStream:localhost:36173|priority:0, s2|rpc:localhost:39317|admin:localhost:37027|client:localhost:46245|dataStream:localhost:35683|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-AA8654C6636F:t0, leader=null, voted=, raftlog=Memoized:s2@group-AA8654C6636F-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:45749|admin:localhost:41913|client:localhost:46177|dataStream:localhost:38283|priority:0, s1|rpc:localhost:43697|admin:localhost:40237|client:localhost:33271|dataStream:localhost:36173|priority:0, s2|rpc:localhost:39317|admin:localhost:37027|client:localhost:46245|dataStream:localhost:35683|priority:0], old=null RUNNING
2022-07-14 02:38:35,774 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-AA8654C6636F:t0, leader=null, voted=, raftlog=Memoized:s0@group-AA8654C6636F-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:45749|admin:localhost:41913|client:localhost:46177|dataStream:localhost:38283|priority:0, s1|rpc:localhost:43697|admin:localhost:40237|client:localhost:33271|dataStream:localhost:36173|priority:0, s2|rpc:localhost:39317|admin:localhost:37027|client:localhost:46245|dataStream:localhost:35683|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-AA8654C6636F:t0, leader=null, voted=, raftlog=Memoized:s1@group-AA8654C6636F-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:45749|admin:localhost:41913|client:localhost:46177|dataStream:localhost:38283|priority:0, s1|rpc:localhost:43697|admin:localhost:40237|client:localhost:33271|dataStream:localhost:36173|priority:0, s2|rpc:localhost:39317|admin:localhost:37027|client:localhost:46245|dataStream:localhost:35683|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-AA8654C6636F:t0, leader=null, voted=, raftlog=Memoized:s2@group-AA8654C6636F-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:45749|admin:localhost:41913|client:localhost:46177|dataStream:localhost:38283|priority:0, s1|rpc:localhost:43697|admin:localhost:40237|client:localhost:33271|dataStream:localhost:36173|priority:0, s2|rpc:localhost:39317|admin:localhost:37027|client:localhost:46245|dataStream:localhost:35683|priority:0], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-AA8654C6636F:t0, leader=null, voted=, raftlog=Memoized:s0@group-AA8654C6636F-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:45749|admin:localhost:41913|client:localhost:46177|dataStream:localhost:38283|priority:0, s1|rpc:localhost:43697|admin:localhost:40237|client:localhost:33271|dataStream:localhost:36173|priority:0, s2|rpc:localhost:39317|admin:localhost:37027|client:localhost:46245|dataStream:localhost:35683|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-AA8654C6636F:t0, leader=null, voted=, raftlog=Memoized:s1@group-AA8654C6636F-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:45749|admin:localhost:41913|client:localhost:46177|dataStream:localhost:38283|priority:0, s1|rpc:localhost:43697|admin:localhost:40237|client:localhost:33271|dataStream:localhost:36173|priority:0, s2|rpc:localhost:39317|admin:localhost:37027|client:localhost:46245|dataStream:localhost:35683|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-AA8654C6636F:t0, leader=null, voted=, raftlog=Memoized:s2@group-AA8654C6636F-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:45749|admin:localhost:41913|client:localhost:46177|dataStream:localhost:38283|priority:0, s1|rpc:localhost:43697|admin:localhost:40237|client:localhost:33271|dataStream:localhost:36173|priority:0, s2|rpc:localhost:39317|admin:localhost:37027|client:localhost:46245|dataStream:localhost:35683|priority:0], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:535)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:569)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:562)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.runTestLostMajorityHeartbeats(LeaderElectionTests.java:115)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.LeaderElectionTests.testLostMajorityHeartbeats(LeaderElectionTests.java:110)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:38:35,929 [s1@group-AA8654C6636F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-AA8654C6636F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:166375695ns, electionTimeout:166ms
2022-07-14 02:38:35,930 [s1@group-AA8654C6636F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-AA8654C6636F-FollowerState
2022-07-14 02:38:35,930 [s1@group-AA8654C6636F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-AA8654C6636F: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-07-14 02:38:35,930 [s1@group-AA8654C6636F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:38:35,930 [s1@group-AA8654C6636F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-AA8654C6636F-LeaderElection23
2022-07-14 02:38:35,931 [s1@group-AA8654C6636F-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-AA8654C6636F-LeaderElection23 PRE_VOTE round 0: submit vote requests at term 0 for -1: [s0|rpc:localhost:45749|admin:localhost:41913|client:localhost:46177|dataStream:localhost:38283|priority:0, s1|rpc:localhost:43697|admin:localhost:40237|client:localhost:33271|dataStream:localhost:36173|priority:0, s2|rpc:localhost:39317|admin:localhost:37027|client:localhost:46245|dataStream:localhost:35683|priority:0], old=null
2022-07-14 02:38:35,933 [Thread-485] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-AA8654C6636F: receive requestVote(PRE_VOTE, s1, group-AA8654C6636F, 0, (t:0, i:0))
2022-07-14 02:38:35,933 [Thread-471] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s0@group-AA8654C6636F: receive requestVote(PRE_VOTE, s1, group-AA8654C6636F, 0, (t:0, i:0))
2022-07-14 02:38:35,933 [Thread-485] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-AA8654C6636F-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-07-14 02:38:35,933 [Thread-485] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-AA8654C6636F replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-AA8654C6636F:t0, leader=null, voted=, raftlog=Memoized:s2@group-AA8654C6636F-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:45749|admin:localhost:41913|client:localhost:46177|dataStream:localhost:38283|priority:0, s1|rpc:localhost:43697|admin:localhost:40237|client:localhost:33271|dataStream:localhost:36173|priority:0, s2|rpc:localhost:39317|admin:localhost:37027|client:localhost:46245|dataStream:localhost:35683|priority:0], old=null
2022-07-14 02:38:35,933 [Thread-471] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-AA8654C6636F-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-07-14 02:38:35,933 [Thread-471] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s0@group-AA8654C6636F replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-AA8654C6636F:t0, leader=null, voted=, raftlog=Memoized:s0@group-AA8654C6636F-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:45749|admin:localhost:41913|client:localhost:46177|dataStream:localhost:38283|priority:0, s1|rpc:localhost:43697|admin:localhost:40237|client:localhost:33271|dataStream:localhost:36173|priority:0, s2|rpc:localhost:39317|admin:localhost:37027|client:localhost:46245|dataStream:localhost:35683|priority:0], old=null
2022-07-14 02:38:35,945 [s1@group-AA8654C6636F-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-AA8654C6636F-LeaderElection23: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-07-14 02:38:35,945 [s1@group-AA8654C6636F-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s2#0:OK-t0
2022-07-14 02:38:35,945 [s1@group-AA8654C6636F-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-AA8654C6636F-LeaderElection23 PRE_VOTE round 0: result PASSED
2022-07-14 02:38:35,947 [s1@group-AA8654C6636F-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-AA8654C6636F-LeaderElection23 ELECTION round 0: submit vote requests at term 1 for -1: [s0|rpc:localhost:45749|admin:localhost:41913|client:localhost:46177|dataStream:localhost:38283|priority:0, s1|rpc:localhost:43697|admin:localhost:40237|client:localhost:33271|dataStream:localhost:36173|priority:0, s2|rpc:localhost:39317|admin:localhost:37027|client:localhost:46245|dataStream:localhost:35683|priority:0], old=null
2022-07-14 02:38:35,948 [Thread-486] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-AA8654C6636F: receive requestVote(ELECTION, s1, group-AA8654C6636F, 1, (t:0, i:0))
2022-07-14 02:38:35,948 [Thread-472] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s0@group-AA8654C6636F: receive requestVote(ELECTION, s1, group-AA8654C6636F, 1, (t:0, i:0))
2022-07-14 02:38:35,948 [Thread-486] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-AA8654C6636F-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-07-14 02:38:35,948 [Thread-472] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-AA8654C6636F-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-07-14 02:38:35,948 [Thread-472] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s0@group-AA8654C6636F: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-07-14 02:38:35,948 [Thread-472] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-AA8654C6636F-FollowerState
2022-07-14 02:38:35,949 [Thread-472] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-AA8654C6636F-FollowerState
2022-07-14 02:38:35,948 [Thread-486] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-AA8654C6636F: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-07-14 02:38:35,949 [Thread-486] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-AA8654C6636F-FollowerState
2022-07-14 02:38:35,949 [Thread-486] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-AA8654C6636F-FollowerState
2022-07-14 02:38:35,953 [s0@group-AA8654C6636F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-AA8654C6636F-FollowerState was interrupted
2022-07-14 02:38:35,953 [s2@group-AA8654C6636F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-AA8654C6636F-FollowerState was interrupted
2022-07-14 02:38:35,953 [Thread-472] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s0@group-AA8654C6636F replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-AA8654C6636F:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-AA8654C6636F-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:45749|admin:localhost:41913|client:localhost:46177|dataStream:localhost:38283|priority:0, s1|rpc:localhost:43697|admin:localhost:40237|client:localhost:33271|dataStream:localhost:36173|priority:0, s2|rpc:localhost:39317|admin:localhost:37027|client:localhost:46245|dataStream:localhost:35683|priority:0], old=null
2022-07-14 02:38:35,955 [Thread-486] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-AA8654C6636F replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-AA8654C6636F:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-AA8654C6636F-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:45749|admin:localhost:41913|client:localhost:46177|dataStream:localhost:38283|priority:0, s1|rpc:localhost:43697|admin:localhost:40237|client:localhost:33271|dataStream:localhost:36173|priority:0, s2|rpc:localhost:39317|admin:localhost:37027|client:localhost:46245|dataStream:localhost:35683|priority:0], old=null
2022-07-14 02:38:35,967 [s1@group-AA8654C6636F-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-AA8654C6636F-LeaderElection23: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-07-14 02:38:35,967 [s1@group-AA8654C6636F-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t1
2022-07-14 02:38:35,967 [s1@group-AA8654C6636F-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-AA8654C6636F-LeaderElection23 ELECTION round 0: result PASSED
2022-07-14 02:38:35,967 [s1@group-AA8654C6636F-LeaderElection23] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-AA8654C6636F-LeaderElection23
2022-07-14 02:38:35,967 [s1@group-AA8654C6636F-LeaderElection23] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-AA8654C6636F: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-07-14 02:38:35,967 [s1@group-AA8654C6636F-LeaderElection23] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s1@group-AA8654C6636F: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 234ms
2022-07-14 02:38:35,967 [s1@group-AA8654C6636F-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-07-14 02:38:35,967 [s1@group-AA8654C6636F-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-14 02:38:35,967 [s1@group-AA8654C6636F-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-07-14 02:38:35,968 [s1@group-AA8654C6636F-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-07-14 02:38:35,968 [s1@group-AA8654C6636F-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-07-14 02:38:35,968 [s1@group-AA8654C6636F-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-07-14 02:38:35,968 [s1@group-AA8654C6636F-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-14 02:38:35,968 [s1@group-AA8654C6636F-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-07-14 02:38:35,968 [s1@group-AA8654C6636F-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-14 02:38:35,968 [s1@group-AA8654C6636F-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:38:35,968 [s1@group-AA8654C6636F-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-14 02:38:35,969 [s1@group-AA8654C6636F-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-14 02:38:35,969 [s1@group-AA8654C6636F-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:38:35,969 [s1@group-AA8654C6636F-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-14 02:38:35,969 [s1@group-AA8654C6636F-LeaderElection23] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-AA8654C6636F-LeaderStateImpl
2022-07-14 02:38:35,970 [s1@group-AA8654C6636F-LeaderElection23] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s1@group-AA8654C6636F-SegmentedRaftLogWorker: Starting segment from index:0
2022-07-14 02:38:35,973 [s1@group-AA8654C6636F-LeaderElection23] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s1@group-AA8654C6636F: set configuration 0: [s0|rpc:localhost:45749|admin:localhost:41913|client:localhost:46177|dataStream:localhost:38283|priority:0, s1|rpc:localhost:43697|admin:localhost:40237|client:localhost:33271|dataStream:localhost:36173|priority:0, s2|rpc:localhost:39317|admin:localhost:37027|client:localhost:46245|dataStream:localhost:35683|priority:0], old=null
2022-07-14 02:38:35,974 [Thread-473] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s0@group-AA8654C6636F: change Leader from null to s1 at term 1 for appendEntries, leader elected after 236ms
2022-07-14 02:38:35,977 [Thread-487] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s2@group-AA8654C6636F: change Leader from null to s1 at term 1 for appendEntries, leader elected after 231ms
2022-07-14 02:38:35,992 [s1@group-AA8654C6636F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-AA8654C6636F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcafd02f87/s1/849faee9-21bb-4e75-9bfd-aa8654c6636f/current/log_inprogress_0
2022-07-14 02:38:35,995 [Thread-471] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s0@group-AA8654C6636F: receive appendEntries(s1, 1, null, -1, true, commits[s1:c-1, s0:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-07-14 02:38:35,996 [Thread-471] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s0@group-AA8654C6636F: set configuration 0: [s0|rpc:localhost:45749|admin:localhost:41913|client:localhost:46177|dataStream:localhost:38283|priority:0, s1|rpc:localhost:43697|admin:localhost:40237|client:localhost:33271|dataStream:localhost:36173|priority:0, s2|rpc:localhost:39317|admin:localhost:37027|client:localhost:46245|dataStream:localhost:35683|priority:0], old=null
2022-07-14 02:38:35,996 [Thread-471] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s0@group-AA8654C6636F-SegmentedRaftLogWorker: Starting segment from index:0
2022-07-14 02:38:36,001 [Thread-485] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-AA8654C6636F: receive appendEntries(s1, 1, null, 0, true, commits[s1:c0, s0:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-07-14 02:38:36,002 [Thread-485] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s2@group-AA8654C6636F: set configuration 0: [s0|rpc:localhost:45749|admin:localhost:41913|client:localhost:46177|dataStream:localhost:38283|priority:0, s1|rpc:localhost:43697|admin:localhost:40237|client:localhost:33271|dataStream:localhost:36173|priority:0, s2|rpc:localhost:39317|admin:localhost:37027|client:localhost:46245|dataStream:localhost:35683|priority:0], old=null
2022-07-14 02:38:36,002 [Thread-485] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s2@group-AA8654C6636F-SegmentedRaftLogWorker: Starting segment from index:0
2022-07-14 02:38:36,015 [s0@group-AA8654C6636F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-AA8654C6636F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcafd02f87/s0/849faee9-21bb-4e75-9bfd-aa8654c6636f/current/log_inprogress_0
2022-07-14 02:38:36,015 [s2@group-AA8654C6636F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-AA8654C6636F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcafd02f87/s2/849faee9-21bb-4e75-9bfd-aa8654c6636f/current/log_inprogress_0
2022-07-14 02:38:36,016 [Thread-514] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-AA8654C6636F: succeeded to handle AppendEntries. Reply: s1<-s2#266:OK-t1,SUCCESS,nextIndex=1,followerCommit=0
2022-07-14 02:38:36,016 [Thread-515] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s0@group-AA8654C6636F: succeeded to handle AppendEntries. Reply: s1<-s0#265:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1
2022-07-14 02:38:36,225 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-AA8654C6636F:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-AA8654C6636F-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:45749|admin:localhost:41913|client:localhost:46177|dataStream:localhost:38283|priority:0, s1|rpc:localhost:43697|admin:localhost:40237|client:localhost:33271|dataStream:localhost:36173|priority:0, s2|rpc:localhost:39317|admin:localhost:37027|client:localhost:46245|dataStream:localhost:35683|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-AA8654C6636F:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-AA8654C6636F-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:45749|admin:localhost:41913|client:localhost:46177|dataStream:localhost:38283|priority:0, s1|rpc:localhost:43697|admin:localhost:40237|client:localhost:33271|dataStream:localhost:36173|priority:0, s2|rpc:localhost:39317|admin:localhost:37027|client:localhost:46245|dataStream:localhost:35683|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-AA8654C6636F:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-AA8654C6636F-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:45749|admin:localhost:41913|client:localhost:46177|dataStream:localhost:38283|priority:0, s1|rpc:localhost:43697|admin:localhost:40237|client:localhost:33271|dataStream:localhost:36173|priority:0, s2|rpc:localhost:39317|admin:localhost:37027|client:localhost:46245|dataStream:localhost:35683|priority:0], old=null RUNNING
2022-07-14 02:38:36,377 [s0@group-AA8654C6636F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-AA8654C6636F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:179397740ns, electionTimeout:175ms
2022-07-14 02:38:36,377 [s0@group-AA8654C6636F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-AA8654C6636F-FollowerState
2022-07-14 02:38:36,377 [s0@group-AA8654C6636F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s0@group-AA8654C6636F: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-07-14 02:38:36,377 [s0@group-AA8654C6636F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:38:36,377 [s0@group-AA8654C6636F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-AA8654C6636F-LeaderElection24
2022-07-14 02:38:36,378 [s0@group-AA8654C6636F-LeaderElection24] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s0@group-AA8654C6636F: change Leader from s1 to null at term 1 for PRE_VOTE
2022-07-14 02:38:36,378 [s0@group-AA8654C6636F-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-AA8654C6636F-LeaderElection24 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s0|rpc:localhost:45749|admin:localhost:41913|client:localhost:46177|dataStream:localhost:38283|priority:0, s1|rpc:localhost:43697|admin:localhost:40237|client:localhost:33271|dataStream:localhost:36173|priority:0, s2|rpc:localhost:39317|admin:localhost:37027|client:localhost:46245|dataStream:localhost:35683|priority:0], old=null
2022-07-14 02:38:36,382 [Thread-478] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s1: Block request from s0
2022-07-14 02:38:36,382 [Thread-486] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-AA8654C6636F: receive requestVote(PRE_VOTE, s0, group-AA8654C6636F, 1, (t:1, i:0))
2022-07-14 02:38:36,382 [Thread-486] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-AA8654C6636F-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-07-14 02:38:36,382 [Thread-486] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-AA8654C6636F replies to PRE_VOTE vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-AA8654C6636F:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-AA8654C6636F-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:45749|admin:localhost:41913|client:localhost:46177|dataStream:localhost:38283|priority:0, s1|rpc:localhost:43697|admin:localhost:40237|client:localhost:33271|dataStream:localhost:36173|priority:0, s2|rpc:localhost:39317|admin:localhost:37027|client:localhost:46245|dataStream:localhost:35683|priority:0], old=null
2022-07-14 02:38:36,397 [s0@group-AA8654C6636F-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-AA8654C6636F-LeaderElection24: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-07-14 02:38:36,397 [s0@group-AA8654C6636F-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s2#0:OK-t1
2022-07-14 02:38:36,397 [s0@group-AA8654C6636F-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-AA8654C6636F-LeaderElection24 PRE_VOTE round 0: result PASSED
2022-07-14 02:38:36,399 [s0@group-AA8654C6636F-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-AA8654C6636F-LeaderElection24 ELECTION round 0: submit vote requests at term 2 for 0: [s0|rpc:localhost:45749|admin:localhost:41913|client:localhost:46177|dataStream:localhost:38283|priority:0, s1|rpc:localhost:43697|admin:localhost:40237|client:localhost:33271|dataStream:localhost:36173|priority:0, s2|rpc:localhost:39317|admin:localhost:37027|client:localhost:46245|dataStream:localhost:35683|priority:0], old=null
2022-07-14 02:38:36,400 [Thread-487] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-AA8654C6636F: receive requestVote(ELECTION, s0, group-AA8654C6636F, 2, (t:1, i:0))
2022-07-14 02:38:36,400 [Thread-479] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s1: Block request from s0
2022-07-14 02:38:36,400 [Thread-487] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-AA8654C6636F-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-07-14 02:38:36,400 [Thread-487] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s2@group-AA8654C6636F: change Leader from s1 to null at term 2 for updateCurrentTerm
2022-07-14 02:38:36,400 [Thread-487] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-AA8654C6636F: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s0
2022-07-14 02:38:36,400 [Thread-487] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-AA8654C6636F-FollowerState
2022-07-14 02:38:36,400 [Thread-487] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-AA8654C6636F-FollowerState
2022-07-14 02:38:36,405 [s2@group-AA8654C6636F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-AA8654C6636F-FollowerState was interrupted
2022-07-14 02:38:36,406 [Thread-487] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-AA8654C6636F replies to ELECTION vote request: s0<-s2#0:OK-t2. Peer's state: s2@group-AA8654C6636F:t2, leader=null, voted=s0, raftlog=Memoized:s2@group-AA8654C6636F-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:45749|admin:localhost:41913|client:localhost:46177|dataStream:localhost:38283|priority:0, s1|rpc:localhost:43697|admin:localhost:40237|client:localhost:33271|dataStream:localhost:36173|priority:0, s2|rpc:localhost:39317|admin:localhost:37027|client:localhost:46245|dataStream:localhost:35683|priority:0], old=null
2022-07-14 02:38:36,424 [s0@group-AA8654C6636F-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-AA8654C6636F-LeaderElection24: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-07-14 02:38:36,424 [s0@group-AA8654C6636F-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s2#0:OK-t2
2022-07-14 02:38:36,424 [s0@group-AA8654C6636F-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-AA8654C6636F-LeaderElection24 ELECTION round 0: result PASSED
2022-07-14 02:38:36,424 [s0@group-AA8654C6636F-LeaderElection24] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-AA8654C6636F-LeaderElection24
2022-07-14 02:38:36,424 [s0@group-AA8654C6636F-LeaderElection24] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s0@group-AA8654C6636F: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2022-07-14 02:38:36,424 [s0@group-AA8654C6636F-LeaderElection24] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s0@group-AA8654C6636F: change Leader from null to s0 at term 2 for becomeLeader, leader elected after 46ms
2022-07-14 02:38:36,424 [s0@group-AA8654C6636F-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-07-14 02:38:36,424 [s0@group-AA8654C6636F-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-14 02:38:36,424 [s0@group-AA8654C6636F-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-07-14 02:38:36,425 [s0@group-AA8654C6636F-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-07-14 02:38:36,425 [s0@group-AA8654C6636F-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-07-14 02:38:36,425 [s0@group-AA8654C6636F-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-07-14 02:38:36,425 [s0@group-AA8654C6636F-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-14 02:38:36,425 [s0@group-AA8654C6636F-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-07-14 02:38:36,425 [s0@group-AA8654C6636F-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-14 02:38:36,425 [s0@group-AA8654C6636F-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:38:36,425 [s0@group-AA8654C6636F-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-14 02:38:36,426 [s0@group-AA8654C6636F-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-14 02:38:36,426 [s0@group-AA8654C6636F-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:38:36,426 [s0@group-AA8654C6636F-LeaderElection24] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-14 02:38:36,426 [s0@group-AA8654C6636F-LeaderElection24] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-AA8654C6636F-LeaderStateImpl
2022-07-14 02:38:36,427 [s0@group-AA8654C6636F-LeaderElection24] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s0@group-AA8654C6636F-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2022-07-14 02:38:36,429 [s0@group-AA8654C6636F-LeaderElection24] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s0@group-AA8654C6636F: set configuration 1: [s0|rpc:localhost:45749|admin:localhost:41913|client:localhost:46177|dataStream:localhost:38283|priority:0, s1|rpc:localhost:43697|admin:localhost:40237|client:localhost:33271|dataStream:localhost:36173|priority:0, s2|rpc:localhost:39317|admin:localhost:37027|client:localhost:46245|dataStream:localhost:35683|priority:0], old=null
2022-07-14 02:38:36,430 [s0@group-AA8654C6636F-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcafd02f87/s0/849faee9-21bb-4e75-9bfd-aa8654c6636f/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcafd02f87/s0/849faee9-21bb-4e75-9bfd-aa8654c6636f/current/log_0-0
2022-07-14 02:38:36,430 [s0@group-AA8654C6636F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s0@group-AA8654C6636F-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcafd02f87/s0/849faee9-21bb-4e75-9bfd-aa8654c6636f/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcafd02f87/s0/849faee9-21bb-4e75-9bfd-aa8654c6636f/current/log_0-0
2022-07-14 02:38:36,430 [Thread-480] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s1: Block request from s0
2022-07-14 02:38:36,430 [Thread-485] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s2@group-AA8654C6636F: change Leader from null to s0 at term 2 for appendEntries, leader elected after 29ms
2022-07-14 02:38:36,444 [s0@group-AA8654C6636F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-AA8654C6636F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcafd02f87/s0/849faee9-21bb-4e75-9bfd-aa8654c6636f/current/log_inprogress_1
2022-07-14 02:38:36,452 [Thread-486] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-AA8654C6636F: receive appendEntries(s0, 2, (t:1, i:0), 0, true, commits[s0:c0, s1:c0, s2:c0], entries: (t:2, i:1), CONFIGURATIONENTRY
2022-07-14 02:38:36,452 [Thread-486] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s2@group-AA8654C6636F: set configuration 1: [s0|rpc:localhost:45749|admin:localhost:41913|client:localhost:46177|dataStream:localhost:38283|priority:0, s1|rpc:localhost:43697|admin:localhost:40237|client:localhost:33271|dataStream:localhost:36173|priority:0, s2|rpc:localhost:39317|admin:localhost:37027|client:localhost:46245|dataStream:localhost:35683|priority:0], old=null
2022-07-14 02:38:36,452 [Thread-486] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s2@group-AA8654C6636F-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2022-07-14 02:38:36,453 [s2@group-AA8654C6636F-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcafd02f87/s2/849faee9-21bb-4e75-9bfd-aa8654c6636f/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcafd02f87/s2/849faee9-21bb-4e75-9bfd-aa8654c6636f/current/log_0-0
2022-07-14 02:38:36,453 [s2@group-AA8654C6636F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s2@group-AA8654C6636F-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcafd02f87/s2/849faee9-21bb-4e75-9bfd-aa8654c6636f/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcafd02f87/s2/849faee9-21bb-4e75-9bfd-aa8654c6636f/current/log_0-0
2022-07-14 02:38:36,465 [s2@group-AA8654C6636F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-AA8654C6636F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcafd02f87/s2/849faee9-21bb-4e75-9bfd-aa8654c6636f/current/log_inprogress_1
2022-07-14 02:38:36,466 [Thread-530] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-AA8654C6636F: succeeded to handle AppendEntries. Reply: s0<-s2#275:OK-t2,SUCCESS,nextIndex=2,followerCommit=0
2022-07-14 02:38:36,486 [Thread-487] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-AA8654C6636F: receive appendEntries(s0, 2, (t:2, i:1), 1, true, commits[s0:c1, s1:c0, s2:c0], entries: (t:2, i:2), METADATAENTRY(c:1)
2022-07-14 02:38:36,487 [Thread-531] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-AA8654C6636F: succeeded to handle AppendEntries. Reply: s0<-s2#276:OK-t2,SUCCESS,nextIndex=3,followerCommit=1
2022-07-14 02:38:36,635 [s1@group-AA8654C6636F-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1017)) - s1@group-AA8654C6636F-LeaderStateImpl: Lost leadership on term: 1. Election timeout: 300ms. In charge for: 667ms. Conf: 0: [s0|rpc:localhost:45749|admin:localhost:41913|client:localhost:46177|dataStream:localhost:38283|priority:0, s1|rpc:localhost:43697|admin:localhost:40237|client:localhost:33271|dataStream:localhost:36173|priority:0, s2|rpc:localhost:39317|admin:localhost:37027|client:localhost:46245|dataStream:localhost:35683|priority:0], old=null
2022-07-14 02:38:36,636 [s1@group-AA8654C6636F-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1021)) - Follower s1@group-AA8654C6636F->s0(c0,m0,n1, attendVote=true, lastRpcSendTime=349, lastRpcResponseTime=424)
2022-07-14 02:38:36,636 [s1@group-AA8654C6636F-LeaderStateImpl] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1021)) - Follower s1@group-AA8654C6636F->s2(c0,m0,n1, attendVote=true, lastRpcSendTime=356, lastRpcResponseTime=431)
2022-07-14 02:38:36,637 [s1@group-AA8654C6636F-LeaderStateImpl] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-AA8654C6636F: changes role from    LEADER to FOLLOWER at term 1 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2022-07-14 02:38:36,637 [s1@group-AA8654C6636F-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-AA8654C6636F-LeaderStateImpl
2022-07-14 02:38:36,637 [s1@group-AA8654C6636F->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s1@group-AA8654C6636F->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-07-14 02:38:36,639 [s1@group-AA8654C6636F->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s1@group-AA8654C6636F->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-07-14 02:38:36,641 [s1@group-AA8654C6636F-LeaderStateImpl] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-AA8654C6636F-PendingRequests: sendNotLeaderResponses
2022-07-14 02:38:36,641 [s1@group-AA8654C6636F-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-AA8654C6636F-FollowerState
2022-07-14 02:38:36,829 [Time-limited test] INFO  impl.FollowerState (FollowerState.java:lostMajorityHeartbeatsRecently(108)) - s1@group-AA8654C6636F-FollowerState: Skipping leader election since it stepped down recently (elapsed = 187ms < waitTime = 10s)
2022-07-14 02:38:36,829 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(779)) - ************************************************************** 
2022-07-14 02:38:36,829 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(780)) - *** 
2022-07-14 02:38:36,829 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(781)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-07-14 02:38:36,829 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(782)) - *** 
2022-07-14 02:38:36,829 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(783)) - ************************************************************** 
2022-07-14 02:38:36,830 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(784)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-AA8654C6636F:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-AA8654C6636F-SegmentedRaftLog:OPENED:c2, conf=1: [s0|rpc:localhost:45749|admin:localhost:41913|client:localhost:46177|dataStream:localhost:38283|priority:0, s1|rpc:localhost:43697|admin:localhost:40237|client:localhost:33271|dataStream:localhost:36173|priority:0, s2|rpc:localhost:39317|admin:localhost:37027|client:localhost:46245|dataStream:localhost:35683|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-AA8654C6636F:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-AA8654C6636F-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:45749|admin:localhost:41913|client:localhost:46177|dataStream:localhost:38283|priority:0, s1|rpc:localhost:43697|admin:localhost:40237|client:localhost:33271|dataStream:localhost:36173|priority:0, s2|rpc:localhost:39317|admin:localhost:37027|client:localhost:46245|dataStream:localhost:35683|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-AA8654C6636F:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-AA8654C6636F-SegmentedRaftLog:OPENED:c2, conf=1: [s0|rpc:localhost:45749|admin:localhost:41913|client:localhost:46177|dataStream:localhost:38283|priority:0, s1|rpc:localhost:43697|admin:localhost:40237|client:localhost:33271|dataStream:localhost:36173|priority:0, s2|rpc:localhost:39317|admin:localhost:37027|client:localhost:46245|dataStream:localhost:35683|priority:0], old=null RUNNING
2022-07-14 02:38:36,830 [java.util.concurrent.ThreadPoolExecutor$Worker@2da9d8d6[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s0: close
2022-07-14 02:38:36,835 [java.util.concurrent.ThreadPoolExecutor$Worker@2d59b0e1[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s1: close
2022-07-14 02:38:36,835 [java.util.concurrent.ThreadPoolExecutor$Worker@2da9d8d6[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(437)) - s0@group-AA8654C6636F: shutdown
2022-07-14 02:38:36,836 [java.util.concurrent.ThreadPoolExecutor$Worker@2da9d8d6[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-AA8654C6636F,id=s0
2022-07-14 02:38:36,836 [java.util.concurrent.ThreadPoolExecutor$Worker@2da9d8d6[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-AA8654C6636F-LeaderStateImpl
2022-07-14 02:38:36,836 [s0@group-AA8654C6636F->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s0@group-AA8654C6636F->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-07-14 02:38:36,836 [java.util.concurrent.ThreadPoolExecutor$Worker@2da9d8d6[State = -1, empty queue]] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-AA8654C6636F-PendingRequests: sendNotLeaderResponses
2022-07-14 02:38:36,837 [s0@group-AA8654C6636F->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s0@group-AA8654C6636F->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-07-14 02:38:36,842 [java.util.concurrent.ThreadPoolExecutor$Worker@2847466d[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s2: close
2022-07-14 02:38:36,843 [java.util.concurrent.ThreadPoolExecutor$Worker@2d59b0e1[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(437)) - s1@group-AA8654C6636F: shutdown
2022-07-14 02:38:36,843 [java.util.concurrent.ThreadPoolExecutor$Worker@2d59b0e1[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-AA8654C6636F,id=s1
2022-07-14 02:38:36,843 [java.util.concurrent.ThreadPoolExecutor$Worker@2d59b0e1[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-AA8654C6636F-FollowerState
2022-07-14 02:38:36,843 [java.util.concurrent.ThreadPoolExecutor$Worker@2847466d[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(437)) - s2@group-AA8654C6636F: shutdown
2022-07-14 02:38:36,843 [java.util.concurrent.ThreadPoolExecutor$Worker@2847466d[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-AA8654C6636F,id=s2
2022-07-14 02:38:36,843 [java.util.concurrent.ThreadPoolExecutor$Worker@2847466d[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-AA8654C6636F-FollowerState
2022-07-14 02:38:36,843 [s1@group-AA8654C6636F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-AA8654C6636F-FollowerState was interrupted
2022-07-14 02:38:36,843 [java.util.concurrent.ThreadPoolExecutor$Worker@2d59b0e1[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-AA8654C6636F-StateMachineUpdater: set stopIndex = 0
2022-07-14 02:38:36,844 [s2@group-AA8654C6636F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-AA8654C6636F-FollowerState was interrupted
2022-07-14 02:38:36,844 [java.util.concurrent.ThreadPoolExecutor$Worker@2847466d[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-AA8654C6636F-StateMachineUpdater: set stopIndex = 2
2022-07-14 02:38:36,844 [java.util.concurrent.ThreadPoolExecutor$Worker@2d59b0e1[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(456)) - s1@group-AA8654C6636F: closes. applyIndex: 0
2022-07-14 02:38:36,845 [java.util.concurrent.ThreadPoolExecutor$Worker@2847466d[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(456)) - s2@group-AA8654C6636F: closes. applyIndex: 2
2022-07-14 02:38:36,845 [s1@group-AA8654C6636F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s1@group-AA8654C6636F-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-07-14 02:38:36,845 [s2@group-AA8654C6636F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s2@group-AA8654C6636F-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-07-14 02:38:36,847 [java.util.concurrent.ThreadPoolExecutor$Worker@2da9d8d6[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-AA8654C6636F-StateMachineUpdater: set stopIndex = 2
2022-07-14 02:38:36,847 [java.util.concurrent.ThreadPoolExecutor$Worker@2da9d8d6[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(456)) - s0@group-AA8654C6636F: closes. applyIndex: 2
2022-07-14 02:38:36,847 [java.util.concurrent.ThreadPoolExecutor$Worker@2d59b0e1[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s1@group-AA8654C6636F-SegmentedRaftLogWorker close()
2022-07-14 02:38:36,847 [s0@group-AA8654C6636F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s0@group-AA8654C6636F-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-07-14 02:38:36,848 [java.util.concurrent.ThreadPoolExecutor$Worker@2847466d[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s2@group-AA8654C6636F-SegmentedRaftLogWorker close()
2022-07-14 02:38:36,849 [java.util.concurrent.ThreadPoolExecutor$Worker@2da9d8d6[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s0@group-AA8654C6636F-SegmentedRaftLogWorker close()
2022-07-14 02:38:36,851 [Thread-481] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:36,851 [Thread-482] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:36,851 [Thread-483] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:36,852 [Thread-478] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s1: unBlock request from s0
2022-07-14 02:38:36,852 [Thread-478] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-AA8654C6636F: receive requestVote(PRE_VOTE, s0, group-AA8654C6636F, 1, (t:1, i:0))
2022-07-14 02:38:36,852 [Thread-478] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:36,852 [Thread-480] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s1: unBlock request from s0
2022-07-14 02:38:36,852 [Thread-480] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:36,853 [Thread-479] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s1: unBlock request from s0
2022-07-14 02:38:36,853 [Thread-479] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-AA8654C6636F: receive requestVote(ELECTION, s0, group-AA8654C6636F, 2, (t:1, i:0))
2022-07-14 02:38:36,853 [Thread-479] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:36,853 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$250/1367845902@43d8651f] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-07-14 02:38:36,857 [Thread-474] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:36,857 [Thread-475] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:36,857 [Thread-476] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:36,858 [Thread-488] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:36,858 [Thread-489] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:36,858 [Thread-490] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:36,858 [Thread-471] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:36,858 [Thread-473] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:36,858 [Thread-472] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:36,859 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$250/1367845902@364a9a70] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-07-14 02:38:36,859 [Thread-485] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:36,859 [Thread-486] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:36,859 [Thread-487] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:36,860 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$250/1367845902@699d90cf] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-07-14 02:38:36,860 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(802)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-07-14 02:38:36,861 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-07-14 02:38:36,861 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-07-14 02:38:36,861 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-07-14 02:38:36,861 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-07-14 02:38:36,861 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testLateServerStart(255)) - Running testLateServerStart
2022-07-14 02:38:36,861 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 150 (default)
2022-07-14 02:38:36,862 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(272)) - new MiniRaftClusterWithSimulatedRpc with group-A9240FE7D204:[s0|rpc:localhost:40901|admin:localhost:35649|client:localhost:37031|dataStream:localhost:35861|priority:0, s1|rpc:localhost:34351|admin:localhost:35149|client:localhost:37369|dataStream:localhost:35913|priority:0, s2|rpc:localhost:42155|admin:localhost:33863|client:localhost:40271|dataStream:localhost:33681|priority:0]
2022-07-14 02:38:36,862 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(284)) - servers = {}
2022-07-14 02:38:36,862 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(348)) - newRaftServer: s0, group-A9240FE7D204:[s0|rpc:localhost:40901|admin:localhost:35649|client:localhost:37031|dataStream:localhost:35861|priority:0, s1|rpc:localhost:34351|admin:localhost:35149|client:localhost:37369|dataStream:localhost:35913|priority:0, s2|rpc:localhost:42155|admin:localhost:33863|client:localhost:40271|dataStream:localhost:33681|priority:0], format? true
2022-07-14 02:38:36,862 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc597a0508/s0
2022-07-14 02:38:36,863 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc597a0508/s0 does not exist.
2022-07-14 02:38:36,863 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(353)) - Formatted directory target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc597a0508/s0
2022-07-14 02:38:36,863 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-14 02:38:36,863 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-07-14 02:38:36,863 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-07-14 02:38:36,863 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-07-14 02:38:36,863 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-14 02:38:36,863 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-14 02:38:36,864 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc597a0508/s0] (custom)
2022-07-14 02:38:36,869 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-A9240FE7D204:[s0|rpc:localhost:40901|admin:localhost:35649|client:localhost:37031|dataStream:localhost:35861|priority:0, s1|rpc:localhost:34351|admin:localhost:35149|client:localhost:37369|dataStream:localhost:35913|priority:0, s2|rpc:localhost:42155|admin:localhost:33863|client:localhost:40271|dataStream:localhost:33681|priority:0] returns group-A9240FE7D204:java.util.concurrent.CompletableFuture@6ffe2ae7[Not completed]
2022-07-14 02:38:36,869 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(348)) - newRaftServer: s1, group-A9240FE7D204:[s0|rpc:localhost:40901|admin:localhost:35649|client:localhost:37031|dataStream:localhost:35861|priority:0, s1|rpc:localhost:34351|admin:localhost:35149|client:localhost:37369|dataStream:localhost:35913|priority:0, s2|rpc:localhost:42155|admin:localhost:33863|client:localhost:40271|dataStream:localhost:33681|priority:0], format? true
2022-07-14 02:38:36,869 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc597a0508/s1
2022-07-14 02:38:36,869 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc597a0508/s1 does not exist.
2022-07-14 02:38:36,869 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(353)) - Formatted directory target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc597a0508/s1
2022-07-14 02:38:36,870 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-14 02:38:36,870 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-07-14 02:38:36,870 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-07-14 02:38:36,870 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-07-14 02:38:36,870 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-14 02:38:36,870 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-14 02:38:36,871 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc597a0508/s1] (custom)
2022-07-14 02:38:36,871 [pool-9-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(191)) - s0: new RaftServerImpl for group-A9240FE7D204:[s0|rpc:localhost:40901|admin:localhost:35649|client:localhost:37031|dataStream:localhost:35861|priority:0, s1|rpc:localhost:34351|admin:localhost:35149|client:localhost:37369|dataStream:localhost:35913|priority:0, s2|rpc:localhost:42155|admin:localhost:33863|client:localhost:40271|dataStream:localhost:33681|priority:0] with BaseStateMachine:uninitialized
2022-07-14 02:38:36,871 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-07-14 02:38:36,871 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:38:36,872 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-07-14 02:38:36,872 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-14 02:38:36,872 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-14 02:38:36,872 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-07-14 02:38:36,872 [pool-9-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(109)) - s0@group-A9240FE7D204: ConfigurationManager, init=-1: [s0|rpc:localhost:40901|admin:localhost:35649|client:localhost:37031|dataStream:localhost:35861|priority:0, s1|rpc:localhost:34351|admin:localhost:35149|client:localhost:37369|dataStream:localhost:35913|priority:0, s2|rpc:localhost:42155|admin:localhost:33863|client:localhost:40271|dataStream:localhost:33681|priority:0], old=null, confs=<EMPTY_MAP>
2022-07-14 02:38:36,872 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc597a0508/s0] (custom)
2022-07-14 02:38:36,872 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-07-14 02:38:36,872 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-07-14 02:38:36,872 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-07-14 02:38:36,872 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-07-14 02:38:36,872 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-07-14 02:38:36,874 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-07-14 02:38:36,874 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-07-14 02:38:36,874 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-07-14 02:38:36,874 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-07-14 02:38:36,874 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-07-14 02:38:36,875 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s1: addNew group-A9240FE7D204:[s0|rpc:localhost:40901|admin:localhost:35649|client:localhost:37031|dataStream:localhost:35861|priority:0, s1|rpc:localhost:34351|admin:localhost:35149|client:localhost:37369|dataStream:localhost:35913|priority:0, s2|rpc:localhost:42155|admin:localhost:33863|client:localhost:40271|dataStream:localhost:33681|priority:0] returns group-A9240FE7D204:java.util.concurrent.CompletableFuture@1b1c9035[Not completed]
2022-07-14 02:38:36,875 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(348)) - newRaftServer: s2, group-A9240FE7D204:[s0|rpc:localhost:40901|admin:localhost:35649|client:localhost:37031|dataStream:localhost:35861|priority:0, s1|rpc:localhost:34351|admin:localhost:35149|client:localhost:37369|dataStream:localhost:35913|priority:0, s2|rpc:localhost:42155|admin:localhost:33863|client:localhost:40271|dataStream:localhost:33681|priority:0], format? true
2022-07-14 02:38:36,875 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc597a0508/s2
2022-07-14 02:38:36,875 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc597a0508/s2 does not exist.
2022-07-14 02:38:36,875 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(353)) - Formatted directory target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc597a0508/s2
2022-07-14 02:38:36,875 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-14 02:38:36,875 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-07-14 02:38:36,875 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-07-14 02:38:36,875 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-07-14 02:38:36,876 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-14 02:38:36,876 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-14 02:38:36,876 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc597a0508/s2] (custom)
2022-07-14 02:38:36,876 [pool-10-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(191)) - s1: new RaftServerImpl for group-A9240FE7D204:[s0|rpc:localhost:40901|admin:localhost:35649|client:localhost:37031|dataStream:localhost:35861|priority:0, s1|rpc:localhost:34351|admin:localhost:35149|client:localhost:37369|dataStream:localhost:35913|priority:0, s2|rpc:localhost:42155|admin:localhost:33863|client:localhost:40271|dataStream:localhost:33681|priority:0] with BaseStateMachine:uninitialized
2022-07-14 02:38:36,876 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-07-14 02:38:36,876 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:38:36,877 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-07-14 02:38:36,877 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-14 02:38:36,877 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-14 02:38:36,877 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-07-14 02:38:36,877 [pool-10-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(109)) - s1@group-A9240FE7D204: ConfigurationManager, init=-1: [s0|rpc:localhost:40901|admin:localhost:35649|client:localhost:37031|dataStream:localhost:35861|priority:0, s1|rpc:localhost:34351|admin:localhost:35149|client:localhost:37369|dataStream:localhost:35913|priority:0, s2|rpc:localhost:42155|admin:localhost:33863|client:localhost:40271|dataStream:localhost:33681|priority:0], old=null, confs=<EMPTY_MAP>
2022-07-14 02:38:36,877 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc597a0508/s1] (custom)
2022-07-14 02:38:36,877 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-07-14 02:38:36,877 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-07-14 02:38:36,877 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-07-14 02:38:36,878 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-07-14 02:38:36,878 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-07-14 02:38:36,879 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-07-14 02:38:36,879 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-07-14 02:38:36,879 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-07-14 02:38:36,880 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-07-14 02:38:36,880 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-07-14 02:38:36,880 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s2: addNew group-A9240FE7D204:[s0|rpc:localhost:40901|admin:localhost:35649|client:localhost:37031|dataStream:localhost:35861|priority:0, s1|rpc:localhost:34351|admin:localhost:35149|client:localhost:37369|dataStream:localhost:35913|priority:0, s2|rpc:localhost:42155|admin:localhost:33863|client:localhost:40271|dataStream:localhost:33681|priority:0] returns group-A9240FE7D204:java.util.concurrent.CompletableFuture@3d7f2313[Not completed]
2022-07-14 02:38:36,880 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc597a0508/s0/081e188b-4634-45a7-9376-a9240fe7d204 does not exist. Creating ...
2022-07-14 02:38:36,881 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc597a0508/s0/081e188b-4634-45a7-9376-a9240fe7d204
2022-07-14 02:38:36,881 [pool-11-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(191)) - s2: new RaftServerImpl for group-A9240FE7D204:[s0|rpc:localhost:40901|admin:localhost:35649|client:localhost:37031|dataStream:localhost:35861|priority:0, s1|rpc:localhost:34351|admin:localhost:35149|client:localhost:37369|dataStream:localhost:35913|priority:0, s2|rpc:localhost:42155|admin:localhost:33863|client:localhost:40271|dataStream:localhost:33681|priority:0] with BaseStateMachine:uninitialized
2022-07-14 02:38:36,882 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-07-14 02:38:36,882 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:38:36,882 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-07-14 02:38:36,882 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-14 02:38:36,882 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-14 02:38:36,882 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-07-14 02:38:36,882 [pool-11-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(109)) - s2@group-A9240FE7D204: ConfigurationManager, init=-1: [s0|rpc:localhost:40901|admin:localhost:35649|client:localhost:37031|dataStream:localhost:35861|priority:0, s1|rpc:localhost:34351|admin:localhost:35149|client:localhost:37369|dataStream:localhost:35913|priority:0, s2|rpc:localhost:42155|admin:localhost:33863|client:localhost:40271|dataStream:localhost:33681|priority:0], old=null, confs=<EMPTY_MAP>
2022-07-14 02:38:36,882 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc597a0508/s2] (custom)
2022-07-14 02:38:36,883 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-07-14 02:38:36,883 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-07-14 02:38:36,883 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-07-14 02:38:36,883 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-07-14 02:38:36,883 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-07-14 02:38:36,883 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc597a0508/s0/081e188b-4634-45a7-9376-a9240fe7d204/in_use.lock acquired by nodename 16254@fv-az54-379.qczjibyfz4dularrisj3jz1gre.bx.internal.cloudapp.net
2022-07-14 02:38:36,883 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc597a0508/s0/081e188b-4634-45a7-9376-a9240fe7d204/current
2022-07-14 02:38:36,883 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc597a0508/s0/081e188b-4634-45a7-9376-a9240fe7d204/sm
2022-07-14 02:38:36,884 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-07-14 02:38:36,884 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-07-14 02:38:36,884 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-07-14 02:38:36,884 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-07-14 02:38:36,884 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-07-14 02:38:36,885 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc597a0508/s0/081e188b-4634-45a7-9376-a9240fe7d204 has been successfully formatted.
2022-07-14 02:38:36,885 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-07-14 02:38:36,885 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-07-14 02:38:36,885 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:38:36,886 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-07-14 02:38:36,886 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-14 02:38:36,886 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-07-14 02:38:36,886 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-07-14 02:38:36,886 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-A9240FE7D204-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc597a0508/s0/081e188b-4634-45a7-9376-a9240fe7d204
2022-07-14 02:38:36,886 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-07-14 02:38:36,886 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-07-14 02:38:36,886 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-14 02:38:36,886 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-07-14 02:38:36,886 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-07-14 02:38:36,886 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-07-14 02:38:36,886 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-07-14 02:38:36,886 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-07-14 02:38:36,887 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-07-14 02:38:36,887 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-07-14 02:38:36,887 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-07-14 02:38:36,887 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-A9240FE7D204-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-07-14 02:38:36,887 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-A9240FE7D204-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-07-14 02:38:36,893 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(313)) - s0@group-A9240FE7D204: start as a follower, conf=-1: [s0|rpc:localhost:40901|admin:localhost:35649|client:localhost:37031|dataStream:localhost:35861|priority:0, s1|rpc:localhost:34351|admin:localhost:35149|client:localhost:37369|dataStream:localhost:35913|priority:0, s2|rpc:localhost:42155|admin:localhost:33863|client:localhost:40271|dataStream:localhost:33681|priority:0], old=null
2022-07-14 02:38:36,893 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s0@group-A9240FE7D204: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-07-14 02:38:36,893 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-A9240FE7D204-FollowerState
2022-07-14 02:38:36,893 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A9240FE7D204,id=s0
2022-07-14 02:38:36,893 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-07-14 02:38:36,894 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-07-14 02:38:36,894 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-07-14 02:38:36,894 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s0: start RPC server
2022-07-14 02:38:36,901 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc597a0508/s1/081e188b-4634-45a7-9376-a9240fe7d204 does not exist. Creating ...
2022-07-14 02:38:36,902 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc597a0508/s1/081e188b-4634-45a7-9376-a9240fe7d204
2022-07-14 02:38:36,902 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$250/1367845902@421d91b1] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-07-14 02:38:36,903 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc597a0508/s1/081e188b-4634-45a7-9376-a9240fe7d204/in_use.lock acquired by nodename 16254@fv-az54-379.qczjibyfz4dularrisj3jz1gre.bx.internal.cloudapp.net
2022-07-14 02:38:36,903 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc597a0508/s1/081e188b-4634-45a7-9376-a9240fe7d204/current
2022-07-14 02:38:36,904 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc597a0508/s1/081e188b-4634-45a7-9376-a9240fe7d204/sm
2022-07-14 02:38:36,906 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc597a0508/s1/081e188b-4634-45a7-9376-a9240fe7d204 has been successfully formatted.
2022-07-14 02:38:36,906 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-07-14 02:38:36,907 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-07-14 02:38:36,907 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:38:36,907 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-07-14 02:38:36,907 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-14 02:38:36,907 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-07-14 02:38:36,907 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-07-14 02:38:36,907 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-A9240FE7D204-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc597a0508/s1/081e188b-4634-45a7-9376-a9240fe7d204
2022-07-14 02:38:36,907 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-07-14 02:38:36,907 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-07-14 02:38:36,907 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-14 02:38:36,907 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-07-14 02:38:36,908 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-07-14 02:38:36,908 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-07-14 02:38:36,908 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-07-14 02:38:36,908 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-07-14 02:38:36,909 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-07-14 02:38:36,909 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-07-14 02:38:36,909 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-07-14 02:38:36,910 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-A9240FE7D204-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-07-14 02:38:36,910 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-A9240FE7D204-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-07-14 02:38:36,910 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(313)) - s1@group-A9240FE7D204: start as a follower, conf=-1: [s0|rpc:localhost:40901|admin:localhost:35649|client:localhost:37031|dataStream:localhost:35861|priority:0, s1|rpc:localhost:34351|admin:localhost:35149|client:localhost:37369|dataStream:localhost:35913|priority:0, s2|rpc:localhost:42155|admin:localhost:33863|client:localhost:40271|dataStream:localhost:33681|priority:0], old=null
2022-07-14 02:38:36,910 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-A9240FE7D204: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-07-14 02:38:36,910 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-A9240FE7D204-FollowerState
2022-07-14 02:38:36,910 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A9240FE7D204,id=s1
2022-07-14 02:38:36,911 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-07-14 02:38:36,911 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-07-14 02:38:36,911 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-07-14 02:38:36,912 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s1: start RPC server
2022-07-14 02:38:36,913 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:38:36,914 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-A9240FE7D204:t0, leader=null, voted=, raftlog=Memoized:s0@group-A9240FE7D204-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:40901|admin:localhost:35649|client:localhost:37031|dataStream:localhost:35861|priority:0, s1|rpc:localhost:34351|admin:localhost:35149|client:localhost:37369|dataStream:localhost:35913|priority:0, s2|rpc:localhost:42155|admin:localhost:33863|client:localhost:40271|dataStream:localhost:33681|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-A9240FE7D204:t0, leader=null, voted=, raftlog=Memoized:s1@group-A9240FE7D204-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:40901|admin:localhost:35649|client:localhost:37031|dataStream:localhost:35861|priority:0, s1|rpc:localhost:34351|admin:localhost:35149|client:localhost:37369|dataStream:localhost:35913|priority:0, s2|rpc:localhost:42155|admin:localhost:33863|client:localhost:40271|dataStream:localhost:33681|priority:0], old=null RUNNING
  s2:      NEW      null s2@group-A9240FE7D204:t0, leader=null, voted=null, raftlog=UNINITIALIZED, conf=-1: [s0|rpc:localhost:40901|admin:localhost:35649|client:localhost:37031|dataStream:localhost:35861|priority:0, s1|rpc:localhost:34351|admin:localhost:35149|client:localhost:37369|dataStream:localhost:35913|priority:0, s2|rpc:localhost:42155|admin:localhost:33863|client:localhost:40271|dataStream:localhost:33681|priority:0], old=null NEW
2022-07-14 02:38:36,914 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-A9240FE7D204:t0, leader=null, voted=, raftlog=Memoized:s0@group-A9240FE7D204-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:40901|admin:localhost:35649|client:localhost:37031|dataStream:localhost:35861|priority:0, s1|rpc:localhost:34351|admin:localhost:35149|client:localhost:37369|dataStream:localhost:35913|priority:0, s2|rpc:localhost:42155|admin:localhost:33863|client:localhost:40271|dataStream:localhost:33681|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-A9240FE7D204:t0, leader=null, voted=, raftlog=Memoized:s1@group-A9240FE7D204-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:40901|admin:localhost:35649|client:localhost:37031|dataStream:localhost:35861|priority:0, s1|rpc:localhost:34351|admin:localhost:35149|client:localhost:37369|dataStream:localhost:35913|priority:0, s2|rpc:localhost:42155|admin:localhost:33863|client:localhost:40271|dataStream:localhost:33681|priority:0], old=null RUNNING
  s2:      NEW      null s2@group-A9240FE7D204:t0, leader=null, voted=null, raftlog=UNINITIALIZED, conf=-1: [s0|rpc:localhost:40901|admin:localhost:35649|client:localhost:37031|dataStream:localhost:35861|priority:0, s1|rpc:localhost:34351|admin:localhost:35149|client:localhost:37369|dataStream:localhost:35913|priority:0, s2|rpc:localhost:42155|admin:localhost:33863|client:localhost:40271|dataStream:localhost:33681|priority:0], old=null NEW, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-A9240FE7D204:t0, leader=null, voted=, raftlog=Memoized:s0@group-A9240FE7D204-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:40901|admin:localhost:35649|client:localhost:37031|dataStream:localhost:35861|priority:0, s1|rpc:localhost:34351|admin:localhost:35149|client:localhost:37369|dataStream:localhost:35913|priority:0, s2|rpc:localhost:42155|admin:localhost:33863|client:localhost:40271|dataStream:localhost:33681|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-A9240FE7D204:t0, leader=null, voted=, raftlog=Memoized:s1@group-A9240FE7D204-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:40901|admin:localhost:35649|client:localhost:37031|dataStream:localhost:35861|priority:0, s1|rpc:localhost:34351|admin:localhost:35149|client:localhost:37369|dataStream:localhost:35913|priority:0, s2|rpc:localhost:42155|admin:localhost:33863|client:localhost:40271|dataStream:localhost:33681|priority:0], old=null RUNNING
  s2:      NEW      null s2@group-A9240FE7D204:t0, leader=null, voted=null, raftlog=UNINITIALIZED, conf=-1: [s0|rpc:localhost:40901|admin:localhost:35649|client:localhost:37031|dataStream:localhost:35861|priority:0, s1|rpc:localhost:34351|admin:localhost:35149|client:localhost:37369|dataStream:localhost:35913|priority:0, s2|rpc:localhost:42155|admin:localhost:33863|client:localhost:40271|dataStream:localhost:33681|priority:0], old=null NEW
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:535)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:569)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:562)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testLateServerStart(LeaderElectionTests.java:265)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:38:36,914 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$250/1367845902@1eaf4761] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-07-14 02:38:37,139 [s1@group-A9240FE7D204-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-A9240FE7D204-FollowerState: change to CANDIDATE, lastRpcElapsedTime:229157852ns, electionTimeout:227ms
2022-07-14 02:38:37,140 [s1@group-A9240FE7D204-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-A9240FE7D204-FollowerState
2022-07-14 02:38:37,140 [s1@group-A9240FE7D204-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-A9240FE7D204: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-07-14 02:38:37,140 [s1@group-A9240FE7D204-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:38:37,140 [s1@group-A9240FE7D204-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-A9240FE7D204-LeaderElection25
2022-07-14 02:38:37,147 [s1@group-A9240FE7D204-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-A9240FE7D204-LeaderElection25 PRE_VOTE round 0: submit vote requests at term 0 for -1: [s0|rpc:localhost:40901|admin:localhost:35649|client:localhost:37031|dataStream:localhost:35861|priority:0, s1|rpc:localhost:34351|admin:localhost:35149|client:localhost:37369|dataStream:localhost:35913|priority:0, s2|rpc:localhost:42155|admin:localhost:33863|client:localhost:40271|dataStream:localhost:33681|priority:0], old=null
2022-07-14 02:38:37,147 [Thread-539] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s0@group-A9240FE7D204: receive requestVote(PRE_VOTE, s1, group-A9240FE7D204, 0, (t:0, i:0))
2022-07-14 02:38:37,148 [Thread-539] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-A9240FE7D204-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-07-14 02:38:37,148 [Thread-539] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s0@group-A9240FE7D204 replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-A9240FE7D204:t0, leader=null, voted=, raftlog=Memoized:s0@group-A9240FE7D204-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:40901|admin:localhost:35649|client:localhost:37031|dataStream:localhost:35861|priority:0, s1|rpc:localhost:34351|admin:localhost:35149|client:localhost:37369|dataStream:localhost:35913|priority:0, s2|rpc:localhost:42155|admin:localhost:33863|client:localhost:40271|dataStream:localhost:33681|priority:0], old=null
2022-07-14 02:38:37,165 [s1@group-A9240FE7D204-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-A9240FE7D204-LeaderElection25: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-07-14 02:38:37,165 [s1@group-A9240FE7D204-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t0
2022-07-14 02:38:37,165 [s1@group-A9240FE7D204-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-A9240FE7D204-LeaderElection25 PRE_VOTE round 0: result PASSED
2022-07-14 02:38:37,167 [s1@group-A9240FE7D204-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-A9240FE7D204-LeaderElection25 ELECTION round 0: submit vote requests at term 1 for -1: [s0|rpc:localhost:40901|admin:localhost:35649|client:localhost:37031|dataStream:localhost:35861|priority:0, s1|rpc:localhost:34351|admin:localhost:35149|client:localhost:37369|dataStream:localhost:35913|priority:0, s2|rpc:localhost:42155|admin:localhost:33863|client:localhost:40271|dataStream:localhost:33681|priority:0], old=null
2022-07-14 02:38:37,167 [Thread-540] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s0@group-A9240FE7D204: receive requestVote(ELECTION, s1, group-A9240FE7D204, 1, (t:0, i:0))
2022-07-14 02:38:37,167 [Thread-540] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-A9240FE7D204-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-07-14 02:38:37,168 [Thread-540] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s0@group-A9240FE7D204: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-07-14 02:38:37,168 [Thread-540] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-A9240FE7D204-FollowerState
2022-07-14 02:38:37,168 [Thread-540] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-A9240FE7D204-FollowerState
2022-07-14 02:38:37,168 [s0@group-A9240FE7D204-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-A9240FE7D204-FollowerState was interrupted
2022-07-14 02:38:37,172 [Thread-540] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s0@group-A9240FE7D204 replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-A9240FE7D204:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-A9240FE7D204-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:40901|admin:localhost:35649|client:localhost:37031|dataStream:localhost:35861|priority:0, s1|rpc:localhost:34351|admin:localhost:35149|client:localhost:37369|dataStream:localhost:35913|priority:0, s2|rpc:localhost:42155|admin:localhost:33863|client:localhost:40271|dataStream:localhost:33681|priority:0], old=null
2022-07-14 02:38:37,185 [s1@group-A9240FE7D204-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-A9240FE7D204-LeaderElection25: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-07-14 02:38:37,185 [s1@group-A9240FE7D204-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t1
2022-07-14 02:38:37,185 [s1@group-A9240FE7D204-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-A9240FE7D204-LeaderElection25 ELECTION round 0: result PASSED
2022-07-14 02:38:37,185 [s1@group-A9240FE7D204-LeaderElection25] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-A9240FE7D204-LeaderElection25
2022-07-14 02:38:37,185 [s1@group-A9240FE7D204-LeaderElection25] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-A9240FE7D204: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-07-14 02:38:37,185 [s1@group-A9240FE7D204-LeaderElection25] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s1@group-A9240FE7D204: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 307ms
2022-07-14 02:38:37,185 [s1@group-A9240FE7D204-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-07-14 02:38:37,186 [s1@group-A9240FE7D204-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-14 02:38:37,186 [s1@group-A9240FE7D204-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-07-14 02:38:37,186 [s1@group-A9240FE7D204-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-07-14 02:38:37,186 [s1@group-A9240FE7D204-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-07-14 02:38:37,186 [s1@group-A9240FE7D204-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-07-14 02:38:37,186 [s1@group-A9240FE7D204-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-14 02:38:37,186 [s1@group-A9240FE7D204-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-07-14 02:38:37,186 [s1@group-A9240FE7D204-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-14 02:38:37,187 [s1@group-A9240FE7D204-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:38:37,187 [s1@group-A9240FE7D204-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-14 02:38:37,187 [s1@group-A9240FE7D204-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-14 02:38:37,187 [s1@group-A9240FE7D204-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:38:37,187 [s1@group-A9240FE7D204-LeaderElection25] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-14 02:38:37,187 [s1@group-A9240FE7D204-LeaderElection25] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-A9240FE7D204-LeaderStateImpl
2022-07-14 02:38:37,187 [s1@group-A9240FE7D204-LeaderElection25] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s1@group-A9240FE7D204-SegmentedRaftLogWorker: Starting segment from index:0
2022-07-14 02:38:37,192 [s1@group-A9240FE7D204-LeaderElection25] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s1@group-A9240FE7D204: set configuration 0: [s0|rpc:localhost:40901|admin:localhost:35649|client:localhost:37031|dataStream:localhost:35861|priority:0, s1|rpc:localhost:34351|admin:localhost:35149|client:localhost:37369|dataStream:localhost:35913|priority:0, s2|rpc:localhost:42155|admin:localhost:33863|client:localhost:40271|dataStream:localhost:33681|priority:0], old=null
2022-07-14 02:38:37,192 [Thread-541] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s0@group-A9240FE7D204: change Leader from null to s1 at term 1 for appendEntries, leader elected after 319ms
2022-07-14 02:38:37,201 [s1@group-A9240FE7D204-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-A9240FE7D204-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc597a0508/s1/081e188b-4634-45a7-9376-a9240fe7d204/current/log_inprogress_0
2022-07-14 02:38:37,203 [Thread-539] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s0@group-A9240FE7D204: receive appendEntries(s1, 1, null, -1, true, commits[s1:c-1, s0:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-07-14 02:38:37,203 [Thread-539] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s0@group-A9240FE7D204: set configuration 0: [s0|rpc:localhost:40901|admin:localhost:35649|client:localhost:37031|dataStream:localhost:35861|priority:0, s1|rpc:localhost:34351|admin:localhost:35149|client:localhost:37369|dataStream:localhost:35913|priority:0, s2|rpc:localhost:42155|admin:localhost:33863|client:localhost:40271|dataStream:localhost:33681|priority:0], old=null
2022-07-14 02:38:37,204 [Thread-539] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s0@group-A9240FE7D204-SegmentedRaftLogWorker: Starting segment from index:0
2022-07-14 02:38:37,219 [s0@group-A9240FE7D204-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-A9240FE7D204-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc597a0508/s0/081e188b-4634-45a7-9376-a9240fe7d204/current/log_inprogress_0
2022-07-14 02:38:37,221 [Thread-576] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s0@group-A9240FE7D204: succeeded to handle AppendEntries. Reply: s1<-s0#282:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1
2022-07-14 02:38:37,365 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-A9240FE7D204:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-A9240FE7D204-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:40901|admin:localhost:35649|client:localhost:37031|dataStream:localhost:35861|priority:0, s1|rpc:localhost:34351|admin:localhost:35149|client:localhost:37369|dataStream:localhost:35913|priority:0, s2|rpc:localhost:42155|admin:localhost:33863|client:localhost:40271|dataStream:localhost:33681|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-A9240FE7D204:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-A9240FE7D204-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:40901|admin:localhost:35649|client:localhost:37031|dataStream:localhost:35861|priority:0, s1|rpc:localhost:34351|admin:localhost:35149|client:localhost:37369|dataStream:localhost:35913|priority:0, s2|rpc:localhost:42155|admin:localhost:33863|client:localhost:40271|dataStream:localhost:33681|priority:0], old=null RUNNING
  s2:      NEW      null s2@group-A9240FE7D204:t0, leader=null, voted=null, raftlog=UNINITIALIZED, conf=-1: [s0|rpc:localhost:40901|admin:localhost:35649|client:localhost:37031|dataStream:localhost:35861|priority:0, s1|rpc:localhost:34351|admin:localhost:35149|client:localhost:37369|dataStream:localhost:35913|priority:0, s2|rpc:localhost:42155|admin:localhost:33863|client:localhost:40271|dataStream:localhost:33681|priority:0], old=null NEW
2022-07-14 02:38:37,365 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testLateServerStart(267)) - sleep 3s
2022-07-14 02:38:40,192 [s1@group-A9240FE7D204->s2-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(76)) - s1@group-A9240FE7D204->s2-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: Timeout while waiting for reply of request org.apache.ratis.server.simulation.RaftServerRequest@2feb9573
	at org.apache.ratis.server.simulation.SimulatedRequestReply$EventQueue.request(SimulatedRequestReply.java:78)
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:121)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:112)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:66)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:142)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:77)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:38:40,366 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc597a0508/s2/081e188b-4634-45a7-9376-a9240fe7d204 does not exist. Creating ...
2022-07-14 02:38:40,367 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc597a0508/s2/081e188b-4634-45a7-9376-a9240fe7d204
2022-07-14 02:38:40,370 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc597a0508/s2/081e188b-4634-45a7-9376-a9240fe7d204/in_use.lock acquired by nodename 16254@fv-az54-379.qczjibyfz4dularrisj3jz1gre.bx.internal.cloudapp.net
2022-07-14 02:38:40,370 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc597a0508/s2/081e188b-4634-45a7-9376-a9240fe7d204/current
2022-07-14 02:38:40,370 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc597a0508/s2/081e188b-4634-45a7-9376-a9240fe7d204/sm
2022-07-14 02:38:40,374 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc597a0508/s2/081e188b-4634-45a7-9376-a9240fe7d204 has been successfully formatted.
2022-07-14 02:38:40,375 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-07-14 02:38:40,375 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-07-14 02:38:40,375 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:38:40,375 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-07-14 02:38:40,375 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-14 02:38:40,375 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-07-14 02:38:40,376 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-07-14 02:38:40,376 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-A9240FE7D204-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc597a0508/s2/081e188b-4634-45a7-9376-a9240fe7d204
2022-07-14 02:38:40,376 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-07-14 02:38:40,376 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-07-14 02:38:40,376 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-14 02:38:40,376 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-07-14 02:38:40,376 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-07-14 02:38:40,376 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-07-14 02:38:40,376 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-07-14 02:38:40,376 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-07-14 02:38:40,377 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-07-14 02:38:40,377 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-07-14 02:38:40,377 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-07-14 02:38:40,377 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-A9240FE7D204-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-07-14 02:38:40,377 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-A9240FE7D204-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-07-14 02:38:40,377 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(313)) - s2@group-A9240FE7D204: start as a follower, conf=-1: [s0|rpc:localhost:40901|admin:localhost:35649|client:localhost:37031|dataStream:localhost:35861|priority:0, s1|rpc:localhost:34351|admin:localhost:35149|client:localhost:37369|dataStream:localhost:35913|priority:0, s2|rpc:localhost:42155|admin:localhost:33863|client:localhost:40271|dataStream:localhost:33681|priority:0], old=null
2022-07-14 02:38:40,377 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-A9240FE7D204: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-07-14 02:38:40,377 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-A9240FE7D204-FollowerState
2022-07-14 02:38:40,378 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A9240FE7D204,id=s2
2022-07-14 02:38:40,378 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-07-14 02:38:40,378 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-07-14 02:38:40,378 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-07-14 02:38:40,378 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s2: start RPC server
2022-07-14 02:38:40,379 [Thread-553] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-A9240FE7D204: receive requestVote(PRE_VOTE, s1, group-A9240FE7D204, 0, (t:0, i:0))
2022-07-14 02:38:40,379 [Thread-553] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-A9240FE7D204-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-07-14 02:38:40,379 [Thread-554] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-A9240FE7D204: receive requestVote(ELECTION, s1, group-A9240FE7D204, 1, (t:0, i:0))
2022-07-14 02:38:40,379 [Thread-553] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-A9240FE7D204 replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-A9240FE7D204:t0, leader=null, voted=, raftlog=Memoized:s2@group-A9240FE7D204-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:40901|admin:localhost:35649|client:localhost:37031|dataStream:localhost:35861|priority:0, s1|rpc:localhost:34351|admin:localhost:35149|client:localhost:37369|dataStream:localhost:35913|priority:0, s2|rpc:localhost:42155|admin:localhost:33863|client:localhost:40271|dataStream:localhost:33681|priority:0], old=null
2022-07-14 02:38:40,380 [Thread-554] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-A9240FE7D204-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-07-14 02:38:40,380 [Thread-554] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-A9240FE7D204: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2022-07-14 02:38:40,380 [Thread-554] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-A9240FE7D204-FollowerState
2022-07-14 02:38:40,381 [s2@group-A9240FE7D204-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-A9240FE7D204-FollowerState was interrupted
2022-07-14 02:38:40,381 [Thread-554] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-A9240FE7D204-FollowerState
2022-07-14 02:38:40,381 [Time-limited test] WARN  simulation.TestLeaderElectionWithSimulatedRpc (JavaUtils.java:attempt(172)) - FAILED "getLeaderId", attempt #1/10: java.lang.IllegalStateException: No leader yet, sleep 1s and then retry.
java.lang.IllegalStateException: No leader yet
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$null$3(LeaderElectionTests.java:275)
	at java.util.Optional.orElseThrow(Optional.java:290)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testLateServerStart$4(LeaderElectionTests.java:275)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.server.impl.LeaderElectionTests.testLateServerStart(LeaderElectionTests.java:273)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:38:40,386 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$250/1367845902@abebd22] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-07-14 02:38:40,389 [Thread-554] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-A9240FE7D204 replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-A9240FE7D204:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-A9240FE7D204-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:40901|admin:localhost:35649|client:localhost:37031|dataStream:localhost:35861|priority:0, s1|rpc:localhost:34351|admin:localhost:35149|client:localhost:37369|dataStream:localhost:35913|priority:0, s2|rpc:localhost:42155|admin:localhost:33863|client:localhost:40271|dataStream:localhost:33681|priority:0], old=null
2022-07-14 02:38:40,389 [Thread-555] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s2@group-A9240FE7D204: change Leader from null to s1 at term 1 for appendEntries, leader elected after 3506ms
2022-07-14 02:38:40,412 [Thread-555] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-A9240FE7D204: receive appendEntries(s1, 1, null, 0, true, commits[s1:c0, s0:c0, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-07-14 02:38:40,413 [Thread-555] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s2@group-A9240FE7D204: set configuration 0: [s0|rpc:localhost:40901|admin:localhost:35649|client:localhost:37031|dataStream:localhost:35861|priority:0, s1|rpc:localhost:34351|admin:localhost:35149|client:localhost:37369|dataStream:localhost:35913|priority:0, s2|rpc:localhost:42155|admin:localhost:33863|client:localhost:40271|dataStream:localhost:33681|priority:0], old=null
2022-07-14 02:38:40,413 [Thread-555] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s2@group-A9240FE7D204-SegmentedRaftLogWorker: Starting segment from index:0
2022-07-14 02:38:40,430 [s2@group-A9240FE7D204-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-A9240FE7D204-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc597a0508/s2/081e188b-4634-45a7-9376-a9240fe7d204/current/log_inprogress_0
2022-07-14 02:38:40,431 [Thread-618] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-A9240FE7D204: succeeded to handle AppendEntries. Reply: s1<-s2#319:OK-t1,SUCCESS,nextIndex=1,followerCommit=0
2022-07-14 02:38:41,382 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testLateServerStart(277)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-A9240FE7D204:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-A9240FE7D204-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:40901|admin:localhost:35649|client:localhost:37031|dataStream:localhost:35861|priority:0, s1|rpc:localhost:34351|admin:localhost:35149|client:localhost:37369|dataStream:localhost:35913|priority:0, s2|rpc:localhost:42155|admin:localhost:33863|client:localhost:40271|dataStream:localhost:33681|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-A9240FE7D204:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-A9240FE7D204-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:40901|admin:localhost:35649|client:localhost:37031|dataStream:localhost:35861|priority:0, s1|rpc:localhost:34351|admin:localhost:35149|client:localhost:37369|dataStream:localhost:35913|priority:0, s2|rpc:localhost:42155|admin:localhost:33863|client:localhost:40271|dataStream:localhost:33681|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A9240FE7D204:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-A9240FE7D204-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:40901|admin:localhost:35649|client:localhost:37031|dataStream:localhost:35861|priority:0, s1|rpc:localhost:34351|admin:localhost:35149|client:localhost:37369|dataStream:localhost:35913|priority:0, s2|rpc:localhost:42155|admin:localhost:33863|client:localhost:40271|dataStream:localhost:33681|priority:0], old=null RUNNING
2022-07-14 02:38:41,382 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-07-14 02:38:41,382 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-07-14 02:38:41,383 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-07-14 02:38:41,383 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-07-14 02:38:41,383 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-07-14 02:38:41,384 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(272)) - new MiniRaftClusterWithSimulatedRpc with group-64FA75451E68:[s0|rpc:localhost:37995|admin:localhost:40425|client:localhost:44993|dataStream:localhost:32905|priority:0, s1|rpc:localhost:44311|admin:localhost:39135|client:localhost:43127|dataStream:localhost:40691|priority:0, s2|rpc:localhost:38809|admin:localhost:38259|client:localhost:38105|dataStream:localhost:33749|priority:0]
2022-07-14 02:38:41,384 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(304)) - .............................................................. 
2022-07-14 02:38:41,384 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(305)) - ... 
2022-07-14 02:38:41,384 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(306)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-07-14 02:38:41,384 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(307)) - ... 
2022-07-14 02:38:41,384 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(308)) - .............................................................. 
2022-07-14 02:38:41,384 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(284)) - servers = {}
2022-07-14 02:38:41,384 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(348)) - newRaftServer: s0, group-64FA75451E68:[s0|rpc:localhost:37995|admin:localhost:40425|client:localhost:44993|dataStream:localhost:32905|priority:0, s1|rpc:localhost:44311|admin:localhost:39135|client:localhost:43127|dataStream:localhost:40691|priority:0, s2|rpc:localhost:38809|admin:localhost:38259|client:localhost:38105|dataStream:localhost:33749|priority:0], format? true
2022-07-14 02:38:41,384 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc63ff2e16/s0
2022-07-14 02:38:41,385 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc63ff2e16/s0 does not exist.
2022-07-14 02:38:41,385 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(353)) - Formatted directory target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc63ff2e16/s0
2022-07-14 02:38:41,385 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-14 02:38:41,385 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-07-14 02:38:41,385 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-07-14 02:38:41,386 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-07-14 02:38:41,386 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-14 02:38:41,386 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-14 02:38:41,386 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc63ff2e16/s0] (custom)
2022-07-14 02:38:41,387 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-64FA75451E68:[s0|rpc:localhost:37995|admin:localhost:40425|client:localhost:44993|dataStream:localhost:32905|priority:0, s1|rpc:localhost:44311|admin:localhost:39135|client:localhost:43127|dataStream:localhost:40691|priority:0, s2|rpc:localhost:38809|admin:localhost:38259|client:localhost:38105|dataStream:localhost:33749|priority:0] returns group-64FA75451E68:java.util.concurrent.CompletableFuture@1dfd1cc8[Not completed]
2022-07-14 02:38:41,387 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(348)) - newRaftServer: s1, group-64FA75451E68:[s0|rpc:localhost:37995|admin:localhost:40425|client:localhost:44993|dataStream:localhost:32905|priority:0, s1|rpc:localhost:44311|admin:localhost:39135|client:localhost:43127|dataStream:localhost:40691|priority:0, s2|rpc:localhost:38809|admin:localhost:38259|client:localhost:38105|dataStream:localhost:33749|priority:0], format? true
2022-07-14 02:38:41,387 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc63ff2e16/s1
2022-07-14 02:38:41,387 [pool-12-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(191)) - s0: new RaftServerImpl for group-64FA75451E68:[s0|rpc:localhost:37995|admin:localhost:40425|client:localhost:44993|dataStream:localhost:32905|priority:0, s1|rpc:localhost:44311|admin:localhost:39135|client:localhost:43127|dataStream:localhost:40691|priority:0, s2|rpc:localhost:38809|admin:localhost:38259|client:localhost:38105|dataStream:localhost:33749|priority:0] with BaseStateMachine:uninitialized
2022-07-14 02:38:41,387 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc63ff2e16/s1 does not exist.
2022-07-14 02:38:41,387 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(353)) - Formatted directory target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc63ff2e16/s1
2022-07-14 02:38:41,387 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-07-14 02:38:41,387 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-14 02:38:41,388 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-07-14 02:38:41,388 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-07-14 02:38:41,388 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-07-14 02:38:41,388 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-14 02:38:41,388 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-14 02:38:41,388 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc63ff2e16/s1] (custom)
2022-07-14 02:38:41,388 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:38:41,388 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-07-14 02:38:41,389 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-14 02:38:41,389 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-14 02:38:41,389 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-07-14 02:38:41,389 [pool-12-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(109)) - s0@group-64FA75451E68: ConfigurationManager, init=-1: [s0|rpc:localhost:37995|admin:localhost:40425|client:localhost:44993|dataStream:localhost:32905|priority:0, s1|rpc:localhost:44311|admin:localhost:39135|client:localhost:43127|dataStream:localhost:40691|priority:0, s2|rpc:localhost:38809|admin:localhost:38259|client:localhost:38105|dataStream:localhost:33749|priority:0], old=null, confs=<EMPTY_MAP>
2022-07-14 02:38:41,389 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc63ff2e16/s0] (custom)
2022-07-14 02:38:41,389 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-07-14 02:38:41,389 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-07-14 02:38:41,389 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-07-14 02:38:41,389 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-07-14 02:38:41,389 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-07-14 02:38:41,390 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-07-14 02:38:41,390 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-07-14 02:38:41,390 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-07-14 02:38:41,390 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-07-14 02:38:41,390 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-07-14 02:38:41,390 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s1: addNew group-64FA75451E68:[s0|rpc:localhost:37995|admin:localhost:40425|client:localhost:44993|dataStream:localhost:32905|priority:0, s1|rpc:localhost:44311|admin:localhost:39135|client:localhost:43127|dataStream:localhost:40691|priority:0, s2|rpc:localhost:38809|admin:localhost:38259|client:localhost:38105|dataStream:localhost:33749|priority:0] returns group-64FA75451E68:java.util.concurrent.CompletableFuture@696dd96f[Not completed]
2022-07-14 02:38:41,390 [pool-13-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(191)) - s1: new RaftServerImpl for group-64FA75451E68:[s0|rpc:localhost:37995|admin:localhost:40425|client:localhost:44993|dataStream:localhost:32905|priority:0, s1|rpc:localhost:44311|admin:localhost:39135|client:localhost:43127|dataStream:localhost:40691|priority:0, s2|rpc:localhost:38809|admin:localhost:38259|client:localhost:38105|dataStream:localhost:33749|priority:0] with BaseStateMachine:uninitialized
2022-07-14 02:38:41,390 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(348)) - newRaftServer: s2, group-64FA75451E68:[s0|rpc:localhost:37995|admin:localhost:40425|client:localhost:44993|dataStream:localhost:32905|priority:0, s1|rpc:localhost:44311|admin:localhost:39135|client:localhost:43127|dataStream:localhost:40691|priority:0, s2|rpc:localhost:38809|admin:localhost:38259|client:localhost:38105|dataStream:localhost:33749|priority:0], format? true
2022-07-14 02:38:41,391 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc63ff2e16/s2
2022-07-14 02:38:41,391 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-07-14 02:38:41,391 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc63ff2e16/s2 does not exist.
2022-07-14 02:38:41,391 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(353)) - Formatted directory target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc63ff2e16/s2
2022-07-14 02:38:41,391 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:38:41,391 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-07-14 02:38:41,391 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-14 02:38:41,391 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-14 02:38:41,391 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-14 02:38:41,391 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-07-14 02:38:41,391 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-07-14 02:38:41,392 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-07-14 02:38:41,392 [pool-13-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(109)) - s1@group-64FA75451E68: ConfigurationManager, init=-1: [s0|rpc:localhost:37995|admin:localhost:40425|client:localhost:44993|dataStream:localhost:32905|priority:0, s1|rpc:localhost:44311|admin:localhost:39135|client:localhost:43127|dataStream:localhost:40691|priority:0, s2|rpc:localhost:38809|admin:localhost:38259|client:localhost:38105|dataStream:localhost:33749|priority:0], old=null, confs=<EMPTY_MAP>
2022-07-14 02:38:41,392 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-07-14 02:38:41,392 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc63ff2e16/s1] (custom)
2022-07-14 02:38:41,392 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-14 02:38:41,392 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-07-14 02:38:41,392 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-14 02:38:41,392 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-07-14 02:38:41,392 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc63ff2e16/s2] (custom)
2022-07-14 02:38:41,393 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s2: addNew group-64FA75451E68:[s0|rpc:localhost:37995|admin:localhost:40425|client:localhost:44993|dataStream:localhost:32905|priority:0, s1|rpc:localhost:44311|admin:localhost:39135|client:localhost:43127|dataStream:localhost:40691|priority:0, s2|rpc:localhost:38809|admin:localhost:38259|client:localhost:38105|dataStream:localhost:33749|priority:0] returns group-64FA75451E68:java.util.concurrent.CompletableFuture@3b27c8[Not completed]
2022-07-14 02:38:41,393 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-07-14 02:38:41,393 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc63ff2e16/s0/3e91e50f-4acf-4873-a2c8-64fa75451e68 does not exist. Creating ...
2022-07-14 02:38:41,393 [pool-14-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(191)) - s2: new RaftServerImpl for group-64FA75451E68:[s0|rpc:localhost:37995|admin:localhost:40425|client:localhost:44993|dataStream:localhost:32905|priority:0, s1|rpc:localhost:44311|admin:localhost:39135|client:localhost:43127|dataStream:localhost:40691|priority:0, s2|rpc:localhost:38809|admin:localhost:38259|client:localhost:38105|dataStream:localhost:33749|priority:0] with BaseStateMachine:uninitialized
2022-07-14 02:38:41,394 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-07-14 02:38:41,394 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:38:41,394 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc63ff2e16/s0/3e91e50f-4acf-4873-a2c8-64fa75451e68
2022-07-14 02:38:41,394 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-07-14 02:38:41,394 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-14 02:38:41,394 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-14 02:38:41,394 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-07-14 02:38:41,394 [pool-14-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(109)) - s2@group-64FA75451E68: ConfigurationManager, init=-1: [s0|rpc:localhost:37995|admin:localhost:40425|client:localhost:44993|dataStream:localhost:32905|priority:0, s1|rpc:localhost:44311|admin:localhost:39135|client:localhost:43127|dataStream:localhost:40691|priority:0, s2|rpc:localhost:38809|admin:localhost:38259|client:localhost:38105|dataStream:localhost:33749|priority:0], old=null, confs=<EMPTY_MAP>
2022-07-14 02:38:41,394 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc63ff2e16/s2] (custom)
2022-07-14 02:38:41,394 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-07-14 02:38:41,395 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-07-14 02:38:41,395 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-07-14 02:38:41,395 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-07-14 02:38:41,395 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-07-14 02:38:41,395 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc63ff2e16/s0/3e91e50f-4acf-4873-a2c8-64fa75451e68/in_use.lock acquired by nodename 16254@fv-az54-379.qczjibyfz4dularrisj3jz1gre.bx.internal.cloudapp.net
2022-07-14 02:38:41,395 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc63ff2e16/s0/3e91e50f-4acf-4873-a2c8-64fa75451e68/current
2022-07-14 02:38:41,396 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc63ff2e16/s0/3e91e50f-4acf-4873-a2c8-64fa75451e68/sm
2022-07-14 02:38:41,395 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-07-14 02:38:41,396 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-07-14 02:38:41,396 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-07-14 02:38:41,397 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc63ff2e16/s0/3e91e50f-4acf-4873-a2c8-64fa75451e68 has been successfully formatted.
2022-07-14 02:38:41,397 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-07-14 02:38:41,397 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-07-14 02:38:41,397 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:38:41,398 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-07-14 02:38:41,398 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-14 02:38:41,398 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-07-14 02:38:41,398 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-07-14 02:38:41,398 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-64FA75451E68-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc63ff2e16/s0/3e91e50f-4acf-4873-a2c8-64fa75451e68
2022-07-14 02:38:41,398 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-07-14 02:38:41,398 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-07-14 02:38:41,398 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-14 02:38:41,398 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-07-14 02:38:41,398 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-07-14 02:38:41,398 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-07-14 02:38:41,398 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-07-14 02:38:41,398 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-07-14 02:38:41,399 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-07-14 02:38:41,399 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-07-14 02:38:41,399 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-07-14 02:38:41,399 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-64FA75451E68-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-07-14 02:38:41,399 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-64FA75451E68-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-07-14 02:38:41,396 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-07-14 02:38:41,399 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(313)) - s0@group-64FA75451E68: start as a follower, conf=-1: [s0|rpc:localhost:37995|admin:localhost:40425|client:localhost:44993|dataStream:localhost:32905|priority:0, s1|rpc:localhost:44311|admin:localhost:39135|client:localhost:43127|dataStream:localhost:40691|priority:0, s2|rpc:localhost:38809|admin:localhost:38259|client:localhost:38105|dataStream:localhost:33749|priority:0], old=null
2022-07-14 02:38:41,397 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-07-14 02:38:41,399 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-07-14 02:38:41,399 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s0@group-64FA75451E68: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-07-14 02:38:41,400 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-07-14 02:38:41,400 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-07-14 02:38:41,400 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-64FA75451E68-FollowerState
2022-07-14 02:38:41,400 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-07-14 02:38:41,400 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-07-14 02:38:41,400 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-07-14 02:38:41,405 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-07-14 02:38:41,406 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-64FA75451E68,id=s0
2022-07-14 02:38:41,406 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-07-14 02:38:41,406 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-07-14 02:38:41,406 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-07-14 02:38:41,407 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s0: start RPC server
2022-07-14 02:38:41,409 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$250/1367845902@79a2001] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-07-14 02:38:41,409 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc63ff2e16/s1/3e91e50f-4acf-4873-a2c8-64fa75451e68 does not exist. Creating ...
2022-07-14 02:38:41,410 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc63ff2e16/s1/3e91e50f-4acf-4873-a2c8-64fa75451e68
2022-07-14 02:38:41,411 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc63ff2e16/s1/3e91e50f-4acf-4873-a2c8-64fa75451e68/in_use.lock acquired by nodename 16254@fv-az54-379.qczjibyfz4dularrisj3jz1gre.bx.internal.cloudapp.net
2022-07-14 02:38:41,412 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc63ff2e16/s1/3e91e50f-4acf-4873-a2c8-64fa75451e68/current
2022-07-14 02:38:41,412 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc63ff2e16/s1/3e91e50f-4acf-4873-a2c8-64fa75451e68/sm
2022-07-14 02:38:41,414 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc63ff2e16/s1/3e91e50f-4acf-4873-a2c8-64fa75451e68 has been successfully formatted.
2022-07-14 02:38:41,415 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-07-14 02:38:41,415 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-07-14 02:38:41,415 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:38:41,415 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-07-14 02:38:41,415 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-14 02:38:41,415 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-07-14 02:38:41,415 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-07-14 02:38:41,415 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-64FA75451E68-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc63ff2e16/s1/3e91e50f-4acf-4873-a2c8-64fa75451e68
2022-07-14 02:38:41,415 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-07-14 02:38:41,415 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-07-14 02:38:41,415 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-14 02:38:41,415 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-07-14 02:38:41,415 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-07-14 02:38:41,415 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-07-14 02:38:41,416 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-07-14 02:38:41,416 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-07-14 02:38:41,416 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-07-14 02:38:41,416 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-07-14 02:38:41,416 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-07-14 02:38:41,416 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-64FA75451E68-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-07-14 02:38:41,416 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-64FA75451E68-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-07-14 02:38:41,417 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(313)) - s1@group-64FA75451E68: start as a follower, conf=-1: [s0|rpc:localhost:37995|admin:localhost:40425|client:localhost:44993|dataStream:localhost:32905|priority:0, s1|rpc:localhost:44311|admin:localhost:39135|client:localhost:43127|dataStream:localhost:40691|priority:0, s2|rpc:localhost:38809|admin:localhost:38259|client:localhost:38105|dataStream:localhost:33749|priority:0], old=null
2022-07-14 02:38:41,417 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-64FA75451E68: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-07-14 02:38:41,417 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-64FA75451E68-FollowerState
2022-07-14 02:38:41,417 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-64FA75451E68,id=s1
2022-07-14 02:38:41,417 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-07-14 02:38:41,417 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-07-14 02:38:41,417 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-07-14 02:38:41,418 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s1: start RPC server
2022-07-14 02:38:41,418 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$250/1367845902@7079e07] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-07-14 02:38:41,419 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc63ff2e16/s2/3e91e50f-4acf-4873-a2c8-64fa75451e68 does not exist. Creating ...
2022-07-14 02:38:41,419 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc63ff2e16/s2/3e91e50f-4acf-4873-a2c8-64fa75451e68
2022-07-14 02:38:41,421 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc63ff2e16/s2/3e91e50f-4acf-4873-a2c8-64fa75451e68/in_use.lock acquired by nodename 16254@fv-az54-379.qczjibyfz4dularrisj3jz1gre.bx.internal.cloudapp.net
2022-07-14 02:38:41,421 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc63ff2e16/s2/3e91e50f-4acf-4873-a2c8-64fa75451e68/current
2022-07-14 02:38:41,421 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc63ff2e16/s2/3e91e50f-4acf-4873-a2c8-64fa75451e68/sm
2022-07-14 02:38:41,423 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc63ff2e16/s2/3e91e50f-4acf-4873-a2c8-64fa75451e68 has been successfully formatted.
2022-07-14 02:38:41,423 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-07-14 02:38:41,423 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-07-14 02:38:41,423 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:38:41,424 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-07-14 02:38:41,424 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-14 02:38:41,424 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-07-14 02:38:41,424 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-07-14 02:38:41,424 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-64FA75451E68-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc63ff2e16/s2/3e91e50f-4acf-4873-a2c8-64fa75451e68
2022-07-14 02:38:41,424 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-07-14 02:38:41,424 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-07-14 02:38:41,424 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-14 02:38:41,424 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-07-14 02:38:41,424 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-07-14 02:38:41,424 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-07-14 02:38:41,424 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-07-14 02:38:41,424 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-07-14 02:38:41,425 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-07-14 02:38:41,425 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-07-14 02:38:41,425 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-07-14 02:38:41,425 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-64FA75451E68-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-07-14 02:38:41,425 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-64FA75451E68-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-07-14 02:38:41,425 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(313)) - s2@group-64FA75451E68: start as a follower, conf=-1: [s0|rpc:localhost:37995|admin:localhost:40425|client:localhost:44993|dataStream:localhost:32905|priority:0, s1|rpc:localhost:44311|admin:localhost:39135|client:localhost:43127|dataStream:localhost:40691|priority:0, s2|rpc:localhost:38809|admin:localhost:38259|client:localhost:38105|dataStream:localhost:33749|priority:0], old=null
2022-07-14 02:38:41,425 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-64FA75451E68: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-07-14 02:38:41,425 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-64FA75451E68-FollowerState
2022-07-14 02:38:41,426 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-64FA75451E68,id=s2
2022-07-14 02:38:41,426 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-07-14 02:38:41,426 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-07-14 02:38:41,426 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-07-14 02:38:41,426 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s2: start RPC server
2022-07-14 02:38:41,427 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$250/1367845902@3c9e2225] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-07-14 02:38:41,427 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:38:41,427 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-64FA75451E68:t0, leader=null, voted=, raftlog=Memoized:s0@group-64FA75451E68-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:37995|admin:localhost:40425|client:localhost:44993|dataStream:localhost:32905|priority:0, s1|rpc:localhost:44311|admin:localhost:39135|client:localhost:43127|dataStream:localhost:40691|priority:0, s2|rpc:localhost:38809|admin:localhost:38259|client:localhost:38105|dataStream:localhost:33749|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-64FA75451E68:t0, leader=null, voted=, raftlog=Memoized:s1@group-64FA75451E68-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:37995|admin:localhost:40425|client:localhost:44993|dataStream:localhost:32905|priority:0, s1|rpc:localhost:44311|admin:localhost:39135|client:localhost:43127|dataStream:localhost:40691|priority:0, s2|rpc:localhost:38809|admin:localhost:38259|client:localhost:38105|dataStream:localhost:33749|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-64FA75451E68:t0, leader=null, voted=, raftlog=Memoized:s2@group-64FA75451E68-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:37995|admin:localhost:40425|client:localhost:44993|dataStream:localhost:32905|priority:0, s1|rpc:localhost:44311|admin:localhost:39135|client:localhost:43127|dataStream:localhost:40691|priority:0, s2|rpc:localhost:38809|admin:localhost:38259|client:localhost:38105|dataStream:localhost:33749|priority:0], old=null RUNNING
2022-07-14 02:38:41,428 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-64FA75451E68:t0, leader=null, voted=, raftlog=Memoized:s0@group-64FA75451E68-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:37995|admin:localhost:40425|client:localhost:44993|dataStream:localhost:32905|priority:0, s1|rpc:localhost:44311|admin:localhost:39135|client:localhost:43127|dataStream:localhost:40691|priority:0, s2|rpc:localhost:38809|admin:localhost:38259|client:localhost:38105|dataStream:localhost:33749|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-64FA75451E68:t0, leader=null, voted=, raftlog=Memoized:s1@group-64FA75451E68-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:37995|admin:localhost:40425|client:localhost:44993|dataStream:localhost:32905|priority:0, s1|rpc:localhost:44311|admin:localhost:39135|client:localhost:43127|dataStream:localhost:40691|priority:0, s2|rpc:localhost:38809|admin:localhost:38259|client:localhost:38105|dataStream:localhost:33749|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-64FA75451E68:t0, leader=null, voted=, raftlog=Memoized:s2@group-64FA75451E68-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:37995|admin:localhost:40425|client:localhost:44993|dataStream:localhost:32905|priority:0, s1|rpc:localhost:44311|admin:localhost:39135|client:localhost:43127|dataStream:localhost:40691|priority:0, s2|rpc:localhost:38809|admin:localhost:38259|client:localhost:38105|dataStream:localhost:33749|priority:0], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-64FA75451E68:t0, leader=null, voted=, raftlog=Memoized:s0@group-64FA75451E68-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:37995|admin:localhost:40425|client:localhost:44993|dataStream:localhost:32905|priority:0, s1|rpc:localhost:44311|admin:localhost:39135|client:localhost:43127|dataStream:localhost:40691|priority:0, s2|rpc:localhost:38809|admin:localhost:38259|client:localhost:38105|dataStream:localhost:33749|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-64FA75451E68:t0, leader=null, voted=, raftlog=Memoized:s1@group-64FA75451E68-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:37995|admin:localhost:40425|client:localhost:44993|dataStream:localhost:32905|priority:0, s1|rpc:localhost:44311|admin:localhost:39135|client:localhost:43127|dataStream:localhost:40691|priority:0, s2|rpc:localhost:38809|admin:localhost:38259|client:localhost:38105|dataStream:localhost:33749|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-64FA75451E68:t0, leader=null, voted=, raftlog=Memoized:s2@group-64FA75451E68-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:37995|admin:localhost:40425|client:localhost:44993|dataStream:localhost:32905|priority:0, s1|rpc:localhost:44311|admin:localhost:39135|client:localhost:43127|dataStream:localhost:40691|priority:0, s2|rpc:localhost:38809|admin:localhost:38259|client:localhost:38105|dataStream:localhost:33749|priority:0], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:535)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:569)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:562)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testPreVote(LeaderElectionTests.java:375)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:38:41,586 [s2@group-64FA75451E68-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-64FA75451E68-FollowerState: change to CANDIDATE, lastRpcElapsedTime:160413107ns, electionTimeout:160ms
2022-07-14 02:38:41,586 [s2@group-64FA75451E68-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-64FA75451E68-FollowerState
2022-07-14 02:38:41,586 [s2@group-64FA75451E68-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-64FA75451E68: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-07-14 02:38:41,586 [s2@group-64FA75451E68-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:38:41,586 [s2@group-64FA75451E68-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-64FA75451E68-LeaderElection26
2022-07-14 02:38:41,588 [s2@group-64FA75451E68-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-64FA75451E68-LeaderElection26 PRE_VOTE round 0: submit vote requests at term 0 for -1: [s0|rpc:localhost:37995|admin:localhost:40425|client:localhost:44993|dataStream:localhost:32905|priority:0, s1|rpc:localhost:44311|admin:localhost:39135|client:localhost:43127|dataStream:localhost:40691|priority:0, s2|rpc:localhost:38809|admin:localhost:38259|client:localhost:38105|dataStream:localhost:33749|priority:0], old=null
2022-07-14 02:38:41,588 [Thread-639] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s0@group-64FA75451E68: receive requestVote(PRE_VOTE, s2, group-64FA75451E68, 0, (t:0, i:0))
2022-07-14 02:38:41,589 [Thread-639] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-64FA75451E68-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-07-14 02:38:41,589 [Thread-639] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s0@group-64FA75451E68 replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-64FA75451E68:t0, leader=null, voted=, raftlog=Memoized:s0@group-64FA75451E68-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:37995|admin:localhost:40425|client:localhost:44993|dataStream:localhost:32905|priority:0, s1|rpc:localhost:44311|admin:localhost:39135|client:localhost:43127|dataStream:localhost:40691|priority:0, s2|rpc:localhost:38809|admin:localhost:38259|client:localhost:38105|dataStream:localhost:33749|priority:0], old=null
2022-07-14 02:38:41,589 [Thread-646] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-64FA75451E68: receive requestVote(PRE_VOTE, s2, group-64FA75451E68, 0, (t:0, i:0))
2022-07-14 02:38:41,589 [Thread-646] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-64FA75451E68-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-07-14 02:38:41,590 [Thread-646] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-64FA75451E68 replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-64FA75451E68:t0, leader=null, voted=, raftlog=Memoized:s1@group-64FA75451E68-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:37995|admin:localhost:40425|client:localhost:44993|dataStream:localhost:32905|priority:0, s1|rpc:localhost:44311|admin:localhost:39135|client:localhost:43127|dataStream:localhost:40691|priority:0, s2|rpc:localhost:38809|admin:localhost:38259|client:localhost:38105|dataStream:localhost:33749|priority:0], old=null
2022-07-14 02:38:41,590 [s2@group-64FA75451E68-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-64FA75451E68-LeaderElection26: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-07-14 02:38:41,590 [s2@group-64FA75451E68-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:OK-t0
2022-07-14 02:38:41,590 [s2@group-64FA75451E68-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-64FA75451E68-LeaderElection26 PRE_VOTE round 0: result PASSED
2022-07-14 02:38:41,592 [s2@group-64FA75451E68-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-64FA75451E68-LeaderElection26 ELECTION round 0: submit vote requests at term 1 for -1: [s0|rpc:localhost:37995|admin:localhost:40425|client:localhost:44993|dataStream:localhost:32905|priority:0, s1|rpc:localhost:44311|admin:localhost:39135|client:localhost:43127|dataStream:localhost:40691|priority:0, s2|rpc:localhost:38809|admin:localhost:38259|client:localhost:38105|dataStream:localhost:33749|priority:0], old=null
2022-07-14 02:38:41,593 [Thread-640] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s0@group-64FA75451E68: receive requestVote(ELECTION, s2, group-64FA75451E68, 1, (t:0, i:0))
2022-07-14 02:38:41,593 [Thread-640] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-64FA75451E68-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-07-14 02:38:41,593 [Thread-640] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s0@group-64FA75451E68: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2022-07-14 02:38:41,593 [Thread-640] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-64FA75451E68-FollowerState
2022-07-14 02:38:41,593 [Thread-640] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-64FA75451E68-FollowerState
2022-07-14 02:38:41,594 [s0@group-64FA75451E68-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-64FA75451E68-FollowerState was interrupted
2022-07-14 02:38:41,598 [Thread-647] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-64FA75451E68: receive requestVote(ELECTION, s2, group-64FA75451E68, 1, (t:0, i:0))
2022-07-14 02:38:41,599 [Thread-647] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-64FA75451E68-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-07-14 02:38:41,599 [Thread-647] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-64FA75451E68: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2022-07-14 02:38:41,599 [Thread-640] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s0@group-64FA75451E68 replies to ELECTION vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-64FA75451E68:t1, leader=null, voted=s2, raftlog=Memoized:s0@group-64FA75451E68-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:37995|admin:localhost:40425|client:localhost:44993|dataStream:localhost:32905|priority:0, s1|rpc:localhost:44311|admin:localhost:39135|client:localhost:43127|dataStream:localhost:40691|priority:0, s2|rpc:localhost:38809|admin:localhost:38259|client:localhost:38105|dataStream:localhost:33749|priority:0], old=null
2022-07-14 02:38:41,599 [Thread-647] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-64FA75451E68-FollowerState
2022-07-14 02:38:41,599 [Thread-647] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-64FA75451E68-FollowerState
2022-07-14 02:38:41,599 [s1@group-64FA75451E68-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-64FA75451E68-FollowerState was interrupted
2022-07-14 02:38:41,599 [s2@group-64FA75451E68-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-64FA75451E68-LeaderElection26: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-07-14 02:38:41,599 [s2@group-64FA75451E68-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:OK-t1
2022-07-14 02:38:41,599 [s2@group-64FA75451E68-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-64FA75451E68-LeaderElection26 ELECTION round 0: result PASSED
2022-07-14 02:38:41,599 [s2@group-64FA75451E68-LeaderElection26] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-64FA75451E68-LeaderElection26
2022-07-14 02:38:41,599 [s2@group-64FA75451E68-LeaderElection26] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-64FA75451E68: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-07-14 02:38:41,599 [s2@group-64FA75451E68-LeaderElection26] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s2@group-64FA75451E68: change Leader from null to s2 at term 1 for becomeLeader, leader elected after 204ms
2022-07-14 02:38:41,599 [s2@group-64FA75451E68-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-07-14 02:38:41,602 [s2@group-64FA75451E68-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-14 02:38:41,602 [s2@group-64FA75451E68-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-07-14 02:38:41,602 [s2@group-64FA75451E68-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-07-14 02:38:41,602 [s2@group-64FA75451E68-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-07-14 02:38:41,602 [s2@group-64FA75451E68-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-07-14 02:38:41,602 [s2@group-64FA75451E68-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-14 02:38:41,602 [s2@group-64FA75451E68-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-07-14 02:38:41,603 [s2@group-64FA75451E68-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-14 02:38:41,603 [s2@group-64FA75451E68-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:38:41,603 [s2@group-64FA75451E68-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-14 02:38:41,604 [s2@group-64FA75451E68-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-14 02:38:41,604 [s2@group-64FA75451E68-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:38:41,604 [s2@group-64FA75451E68-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-14 02:38:41,604 [Thread-647] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-64FA75451E68 replies to ELECTION vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-64FA75451E68:t1, leader=null, voted=s2, raftlog=Memoized:s1@group-64FA75451E68-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:37995|admin:localhost:40425|client:localhost:44993|dataStream:localhost:32905|priority:0, s1|rpc:localhost:44311|admin:localhost:39135|client:localhost:43127|dataStream:localhost:40691|priority:0, s2|rpc:localhost:38809|admin:localhost:38259|client:localhost:38105|dataStream:localhost:33749|priority:0], old=null
2022-07-14 02:38:41,604 [s2@group-64FA75451E68-LeaderElection26] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-64FA75451E68-LeaderStateImpl
2022-07-14 02:38:41,605 [s2@group-64FA75451E68-LeaderElection26] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s2@group-64FA75451E68-SegmentedRaftLogWorker: Starting segment from index:0
2022-07-14 02:38:41,608 [s2@group-64FA75451E68-LeaderElection26] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s2@group-64FA75451E68: set configuration 0: [s0|rpc:localhost:37995|admin:localhost:40425|client:localhost:44993|dataStream:localhost:32905|priority:0, s1|rpc:localhost:44311|admin:localhost:39135|client:localhost:43127|dataStream:localhost:40691|priority:0, s2|rpc:localhost:38809|admin:localhost:38259|client:localhost:38105|dataStream:localhost:33749|priority:0], old=null
2022-07-14 02:38:41,609 [Thread-641] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s0@group-64FA75451E68: change Leader from null to s2 at term 1 for appendEntries, leader elected after 219ms
2022-07-14 02:38:41,610 [Thread-648] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s1@group-64FA75451E68: change Leader from null to s2 at term 1 for appendEntries, leader elected after 217ms
2022-07-14 02:38:41,611 [Thread-639] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s0@group-64FA75451E68: receive appendEntries(s2, 1, null, -1, true, commits[s2:c-1, s0:c-1, s1:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-07-14 02:38:41,611 [Thread-639] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s0@group-64FA75451E68: set configuration 0: [s0|rpc:localhost:37995|admin:localhost:40425|client:localhost:44993|dataStream:localhost:32905|priority:0, s1|rpc:localhost:44311|admin:localhost:39135|client:localhost:43127|dataStream:localhost:40691|priority:0, s2|rpc:localhost:38809|admin:localhost:38259|client:localhost:38105|dataStream:localhost:33749|priority:0], old=null
2022-07-14 02:38:41,611 [Thread-639] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s0@group-64FA75451E68-SegmentedRaftLogWorker: Starting segment from index:0
2022-07-14 02:38:41,616 [Thread-646] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-64FA75451E68: receive appendEntries(s2, 1, null, -1, true, commits[s2:c-1, s0:c-1, s1:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-07-14 02:38:41,616 [Thread-646] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s1@group-64FA75451E68: set configuration 0: [s0|rpc:localhost:37995|admin:localhost:40425|client:localhost:44993|dataStream:localhost:32905|priority:0, s1|rpc:localhost:44311|admin:localhost:39135|client:localhost:43127|dataStream:localhost:40691|priority:0, s2|rpc:localhost:38809|admin:localhost:38259|client:localhost:38105|dataStream:localhost:33749|priority:0], old=null
2022-07-14 02:38:41,617 [Thread-646] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s1@group-64FA75451E68-SegmentedRaftLogWorker: Starting segment from index:0
2022-07-14 02:38:41,626 [s0@group-64FA75451E68-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-64FA75451E68-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc63ff2e16/s0/3e91e50f-4acf-4873-a2c8-64fa75451e68/current/log_inprogress_0
2022-07-14 02:38:41,629 [s2@group-64FA75451E68-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-64FA75451E68-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc63ff2e16/s2/3e91e50f-4acf-4873-a2c8-64fa75451e68/current/log_inprogress_0
2022-07-14 02:38:41,634 [Thread-688] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s0@group-64FA75451E68: succeeded to handle AppendEntries. Reply: s2<-s0#347:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1
2022-07-14 02:38:41,639 [s1@group-64FA75451E68-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-64FA75451E68-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc63ff2e16/s1/3e91e50f-4acf-4873-a2c8-64fa75451e68/current/log_inprogress_0
2022-07-14 02:38:41,641 [Thread-689] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-64FA75451E68: succeeded to handle AppendEntries. Reply: s2<-s1#348:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1
2022-07-14 02:38:41,878 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-64FA75451E68:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-64FA75451E68-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:37995|admin:localhost:40425|client:localhost:44993|dataStream:localhost:32905|priority:0, s1|rpc:localhost:44311|admin:localhost:39135|client:localhost:43127|dataStream:localhost:40691|priority:0, s2|rpc:localhost:38809|admin:localhost:38259|client:localhost:38105|dataStream:localhost:33749|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-64FA75451E68:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-64FA75451E68-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:37995|admin:localhost:40425|client:localhost:44993|dataStream:localhost:32905|priority:0, s1|rpc:localhost:44311|admin:localhost:39135|client:localhost:43127|dataStream:localhost:40691|priority:0, s2|rpc:localhost:38809|admin:localhost:38259|client:localhost:38105|dataStream:localhost:33749|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-64FA75451E68:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-64FA75451E68-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:37995|admin:localhost:40425|client:localhost:44993|dataStream:localhost:32905|priority:0, s1|rpc:localhost:44311|admin:localhost:39135|client:localhost:43127|dataStream:localhost:40691|priority:0, s2|rpc:localhost:38809|admin:localhost:38259|client:localhost:38105|dataStream:localhost:33749|priority:0], old=null RUNNING
2022-07-14 02:38:41,881 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-14 02:38:41,902 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(794)) - s2@group-64FA75451E68: receive client request(RaftClientRequest:client-20586A4E8913->s2@group-64FA75451E68, cid=362, seq=0, RW, message)
2022-07-14 02:38:41,921 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(401)) - s2@group-64FA75451E68-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-20586A4E8913->s2@group-64FA75451E68, cid=362, seq=0, RW, message, entry=(t:1, i:1), STATEMACHINELOGENTRY, 362@client-20586A4E8913
2022-07-14 02:38:41,922 [Thread-640] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s0@group-64FA75451E68: receive appendEntries(s2, 1, (t:1, i:0), 0, true, commits[s2:c0, s0:c0, s1:c0], entries: (t:1, i:1), STATEMACHINELOGENTRY, 362@client-20586A4E8913
2022-07-14 02:38:41,923 [Thread-647] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-64FA75451E68: receive appendEntries(s2, 1, (t:1, i:0), 0, true, commits[s2:c0, s0:c0, s1:c0], entries: (t:1, i:1), STATEMACHINELOGENTRY, 362@client-20586A4E8913
2022-07-14 02:38:41,924 [Thread-703] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s0@group-64FA75451E68: succeeded to handle AppendEntries. Reply: s2<-s0#363:OK-t1,SUCCESS,nextIndex=2,followerCommit=0
2022-07-14 02:38:41,925 [Thread-704] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-64FA75451E68: succeeded to handle AppendEntries. Reply: s2<-s1#364:OK-t1,SUCCESS,nextIndex=2,followerCommit=0
2022-07-14 02:38:41,926 [Thread-648] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-64FA75451E68: receive appendEntries(s2, 1, (t:1, i:1), 1, true, commits[s2:c1, s0:c0, s1:c0], entries: (t:1, i:2), METADATAENTRY(c:1)
2022-07-14 02:38:41,927 [Thread-641] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s0@group-64FA75451E68: receive appendEntries(s2, 1, (t:1, i:1), 1, true, commits[s2:c1, s0:c0, s1:c0], entries: (t:1, i:2), METADATAENTRY(c:1)
2022-07-14 02:38:41,929 [Thread-706] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s0@group-64FA75451E68: succeeded to handle AppendEntries. Reply: s2<-s0#366:OK-t1,SUCCESS,nextIndex=3,followerCommit=1
2022-07-14 02:38:41,930 [Thread-705] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-64FA75451E68: succeeded to handle AppendEntries. Reply: s2<-s1#365:OK-t1,SUCCESS,nextIndex=3,followerCommit=1
2022-07-14 02:38:41,932 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(794)) - s2@group-64FA75451E68: receive client request(RaftClientRequest:client-20586A4E8913->s2@group-64FA75451E68, cid=367, seq=0, RW, message)
2022-07-14 02:38:41,932 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(401)) - s2@group-64FA75451E68-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-20586A4E8913->s2@group-64FA75451E68, cid=367, seq=0, RW, message, entry=(t:1, i:3), STATEMACHINELOGENTRY, 367@client-20586A4E8913
2022-07-14 02:38:41,932 [Thread-639] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s2
2022-07-14 02:38:41,933 [Thread-646] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-64FA75451E68: receive appendEntries(s2, 1, (t:1, i:2), 2, true, commits[s2:c2, s0:c1, s1:c1], entries: (t:1, i:3), STATEMACHINELOGENTRY, 367@client-20586A4E8913
2022-07-14 02:38:41,934 [Thread-708] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-64FA75451E68: succeeded to handle AppendEntries. Reply: s2<-s1#369:OK-t1,SUCCESS,nextIndex=4,followerCommit=2
2022-07-14 02:38:41,935 [Thread-647] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-64FA75451E68: receive appendEntries(s2, 1, (t:1, i:3), 3, true, commits[s2:c3, s0:c1, s1:c2], entries: (t:1, i:4), METADATAENTRY(c:3)
2022-07-14 02:38:41,937 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testPreVote(390)) - Wait follower s0 timeout and trigger pre-vote
2022-07-14 02:38:41,937 [Thread-710] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-64FA75451E68: succeeded to handle AppendEntries. Reply: s2<-s1#370:OK-t1,SUCCESS,nextIndex=5,followerCommit=3
2022-07-14 02:38:41,971 [Thread-540] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s1
2022-07-14 02:38:42,119 [s0@group-A9240FE7D204-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-A9240FE7D204-FollowerState: change to CANDIDATE, lastRpcElapsedTime:240516469ns, electionTimeout:168ms
2022-07-14 02:38:42,119 [s0@group-A9240FE7D204-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-A9240FE7D204-FollowerState
2022-07-14 02:38:42,119 [s0@group-A9240FE7D204-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s0@group-A9240FE7D204: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-07-14 02:38:42,119 [s0@group-A9240FE7D204-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:38:42,120 [s0@group-A9240FE7D204-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-A9240FE7D204-LeaderElection27
2022-07-14 02:38:42,120 [s0@group-A9240FE7D204-LeaderElection27] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s0@group-A9240FE7D204: change Leader from s1 to null at term 1 for PRE_VOTE
2022-07-14 02:38:42,121 [s0@group-A9240FE7D204-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-A9240FE7D204-LeaderElection27 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s0|rpc:localhost:40901|admin:localhost:35649|client:localhost:37031|dataStream:localhost:35861|priority:0, s1|rpc:localhost:34351|admin:localhost:35149|client:localhost:37369|dataStream:localhost:35913|priority:0, s2|rpc:localhost:42155|admin:localhost:33863|client:localhost:40271|dataStream:localhost:33681|priority:0], old=null
2022-07-14 02:38:42,121 [Thread-546] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-A9240FE7D204: receive requestVote(PRE_VOTE, s0, group-A9240FE7D204, 1, (t:1, i:0))
2022-07-14 02:38:42,121 [Thread-554] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-A9240FE7D204: receive requestVote(PRE_VOTE, s0, group-A9240FE7D204, 1, (t:1, i:0))
2022-07-14 02:38:42,122 [Thread-546] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-A9240FE7D204-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-07-14 02:38:42,122 [Thread-554] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-A9240FE7D204-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-07-14 02:38:42,122 [Thread-546] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-A9240FE7D204 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-A9240FE7D204:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-A9240FE7D204-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:40901|admin:localhost:35649|client:localhost:37031|dataStream:localhost:35861|priority:0, s1|rpc:localhost:34351|admin:localhost:35149|client:localhost:37369|dataStream:localhost:35913|priority:0, s2|rpc:localhost:42155|admin:localhost:33863|client:localhost:40271|dataStream:localhost:33681|priority:0], old=null
2022-07-14 02:38:42,122 [Thread-554] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-A9240FE7D204 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-A9240FE7D204:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-A9240FE7D204-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:40901|admin:localhost:35649|client:localhost:37031|dataStream:localhost:35861|priority:0, s1|rpc:localhost:34351|admin:localhost:35149|client:localhost:37369|dataStream:localhost:35913|priority:0, s2|rpc:localhost:42155|admin:localhost:33863|client:localhost:40271|dataStream:localhost:33681|priority:0], old=null
2022-07-14 02:38:42,139 [s0@group-A9240FE7D204-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-A9240FE7D204-LeaderElection27: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-07-14 02:38:42,139 [s0@group-A9240FE7D204-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:FAIL-t1
2022-07-14 02:38:42,139 [s0@group-A9240FE7D204-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s2#0:FAIL-t1
2022-07-14 02:38:42,139 [s0@group-A9240FE7D204-LeaderElection27] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-A9240FE7D204-LeaderElection27 PRE_VOTE round 0: result REJECTED
2022-07-14 02:38:42,139 [s0@group-A9240FE7D204-LeaderElection27] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s0@group-A9240FE7D204: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-07-14 02:38:42,140 [s0@group-A9240FE7D204-LeaderElection27] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-A9240FE7D204-LeaderElection27
2022-07-14 02:38:42,140 [s0@group-A9240FE7D204-LeaderElection27] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-A9240FE7D204-FollowerState
2022-07-14 02:38:42,162 [s0@group-64FA75451E68-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-64FA75451E68-FollowerState: change to CANDIDATE, lastRpcElapsedTime:233096931ns, electionTimeout:164ms
2022-07-14 02:38:42,162 [s0@group-64FA75451E68-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-64FA75451E68-FollowerState
2022-07-14 02:38:42,162 [s0@group-64FA75451E68-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s0@group-64FA75451E68: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-07-14 02:38:42,162 [s0@group-64FA75451E68-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:38:42,163 [s0@group-64FA75451E68-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-64FA75451E68-LeaderElection28
2022-07-14 02:38:42,163 [s0@group-64FA75451E68-LeaderElection28] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s0@group-64FA75451E68: change Leader from s2 to null at term 1 for PRE_VOTE
2022-07-14 02:38:42,164 [s0@group-64FA75451E68-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-64FA75451E68-LeaderElection28 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s0|rpc:localhost:37995|admin:localhost:40425|client:localhost:44993|dataStream:localhost:32905|priority:0, s1|rpc:localhost:44311|admin:localhost:39135|client:localhost:43127|dataStream:localhost:40691|priority:0, s2|rpc:localhost:38809|admin:localhost:38259|client:localhost:38105|dataStream:localhost:33749|priority:0], old=null
2022-07-14 02:38:42,353 [s0@group-A9240FE7D204-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-A9240FE7D204-FollowerState: change to CANDIDATE, lastRpcElapsedTime:213596292ns, electionTimeout:213ms
2022-07-14 02:38:42,353 [s0@group-A9240FE7D204-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-A9240FE7D204-FollowerState
2022-07-14 02:38:42,354 [s0@group-A9240FE7D204-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s0@group-A9240FE7D204: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-07-14 02:38:42,354 [s0@group-A9240FE7D204-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:38:42,354 [s0@group-A9240FE7D204-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-A9240FE7D204-LeaderElection29
2022-07-14 02:38:42,359 [s0@group-A9240FE7D204-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-A9240FE7D204-LeaderElection29 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s0|rpc:localhost:40901|admin:localhost:35649|client:localhost:37031|dataStream:localhost:35861|priority:0, s1|rpc:localhost:34351|admin:localhost:35149|client:localhost:37369|dataStream:localhost:35913|priority:0, s2|rpc:localhost:42155|admin:localhost:33863|client:localhost:40271|dataStream:localhost:33681|priority:0], old=null
2022-07-14 02:38:42,359 [Thread-547] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-A9240FE7D204: receive requestVote(PRE_VOTE, s0, group-A9240FE7D204, 1, (t:1, i:0))
2022-07-14 02:38:42,359 [Thread-547] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-A9240FE7D204-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-07-14 02:38:42,360 [Thread-547] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-A9240FE7D204 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-A9240FE7D204:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-A9240FE7D204-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:40901|admin:localhost:35649|client:localhost:37031|dataStream:localhost:35861|priority:0, s1|rpc:localhost:34351|admin:localhost:35149|client:localhost:37369|dataStream:localhost:35913|priority:0, s2|rpc:localhost:42155|admin:localhost:33863|client:localhost:40271|dataStream:localhost:33681|priority:0], old=null
2022-07-14 02:38:42,360 [Thread-553] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-A9240FE7D204: receive requestVote(PRE_VOTE, s0, group-A9240FE7D204, 1, (t:1, i:0))
2022-07-14 02:38:42,360 [Thread-553] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-A9240FE7D204-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-07-14 02:38:42,360 [Thread-553] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-A9240FE7D204 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-A9240FE7D204:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-A9240FE7D204-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:40901|admin:localhost:35649|client:localhost:37031|dataStream:localhost:35861|priority:0, s1|rpc:localhost:34351|admin:localhost:35149|client:localhost:37369|dataStream:localhost:35913|priority:0, s2|rpc:localhost:42155|admin:localhost:33863|client:localhost:40271|dataStream:localhost:33681|priority:0], old=null
2022-07-14 02:38:42,379 [s0@group-A9240FE7D204-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-A9240FE7D204-LeaderElection29: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-07-14 02:38:42,379 [s0@group-A9240FE7D204-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:FAIL-t1
2022-07-14 02:38:42,379 [s0@group-A9240FE7D204-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s2#0:FAIL-t1
2022-07-14 02:38:42,380 [s0@group-A9240FE7D204-LeaderElection29] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-A9240FE7D204-LeaderElection29 PRE_VOTE round 0: result REJECTED
2022-07-14 02:38:42,380 [s0@group-A9240FE7D204-LeaderElection29] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s0@group-A9240FE7D204: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-07-14 02:38:42,380 [s0@group-A9240FE7D204-LeaderElection29] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-A9240FE7D204-LeaderElection29
2022-07-14 02:38:42,380 [s0@group-A9240FE7D204-LeaderElection29] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-A9240FE7D204-FollowerState
2022-07-14 02:38:42,447 [s0@group-64FA75451E68-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-64FA75451E68-LeaderElection28: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-07-14 02:38:42,447 [s0@group-64FA75451E68-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-64FA75451E68-LeaderElection28 PRE_VOTE round 0: result TIMEOUT
2022-07-14 02:38:42,447 [s0@group-64FA75451E68-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-64FA75451E68-LeaderElection28 PRE_VOTE round 1: submit vote requests at term 1 for 0: [s0|rpc:localhost:37995|admin:localhost:40425|client:localhost:44993|dataStream:localhost:32905|priority:0, s1|rpc:localhost:44311|admin:localhost:39135|client:localhost:43127|dataStream:localhost:40691|priority:0, s2|rpc:localhost:38809|admin:localhost:38259|client:localhost:38105|dataStream:localhost:33749|priority:0], old=null
2022-07-14 02:38:42,598 [s0@group-A9240FE7D204-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-A9240FE7D204-FollowerState: change to CANDIDATE, lastRpcElapsedTime:218439600ns, electionTimeout:218ms
2022-07-14 02:38:42,598 [s0@group-A9240FE7D204-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-A9240FE7D204-FollowerState
2022-07-14 02:38:42,599 [s0@group-A9240FE7D204-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s0@group-A9240FE7D204: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-07-14 02:38:42,599 [s0@group-A9240FE7D204-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:38:42,599 [s0@group-A9240FE7D204-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-A9240FE7D204-LeaderElection30
2022-07-14 02:38:42,600 [s0@group-A9240FE7D204-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-A9240FE7D204-LeaderElection30 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s0|rpc:localhost:40901|admin:localhost:35649|client:localhost:37031|dataStream:localhost:35861|priority:0, s1|rpc:localhost:34351|admin:localhost:35149|client:localhost:37369|dataStream:localhost:35913|priority:0, s2|rpc:localhost:42155|admin:localhost:33863|client:localhost:40271|dataStream:localhost:33681|priority:0], old=null
2022-07-14 02:38:42,601 [Thread-553] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-A9240FE7D204: receive requestVote(PRE_VOTE, s0, group-A9240FE7D204, 1, (t:1, i:0))
2022-07-14 02:38:42,601 [Thread-553] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-A9240FE7D204-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-07-14 02:38:42,601 [Thread-553] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-A9240FE7D204 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-A9240FE7D204:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-A9240FE7D204-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:40901|admin:localhost:35649|client:localhost:37031|dataStream:localhost:35861|priority:0, s1|rpc:localhost:34351|admin:localhost:35149|client:localhost:37369|dataStream:localhost:35913|priority:0, s2|rpc:localhost:42155|admin:localhost:33863|client:localhost:40271|dataStream:localhost:33681|priority:0], old=null
2022-07-14 02:38:42,603 [Thread-548] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-A9240FE7D204: receive requestVote(PRE_VOTE, s0, group-A9240FE7D204, 1, (t:1, i:0))
2022-07-14 02:38:42,604 [Thread-548] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-A9240FE7D204-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-07-14 02:38:42,604 [Thread-548] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-A9240FE7D204 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-A9240FE7D204:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-A9240FE7D204-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:40901|admin:localhost:35649|client:localhost:37031|dataStream:localhost:35861|priority:0, s1|rpc:localhost:34351|admin:localhost:35149|client:localhost:37369|dataStream:localhost:35913|priority:0, s2|rpc:localhost:42155|admin:localhost:33863|client:localhost:40271|dataStream:localhost:33681|priority:0], old=null
2022-07-14 02:38:42,620 [s0@group-A9240FE7D204-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-A9240FE7D204-LeaderElection30: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-07-14 02:38:42,621 [s0@group-A9240FE7D204-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:FAIL-t1
2022-07-14 02:38:42,621 [s0@group-A9240FE7D204-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s2#0:FAIL-t1
2022-07-14 02:38:42,621 [s0@group-A9240FE7D204-LeaderElection30] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-A9240FE7D204-LeaderElection30 PRE_VOTE round 0: result REJECTED
2022-07-14 02:38:42,621 [s0@group-A9240FE7D204-LeaderElection30] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s0@group-A9240FE7D204: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-07-14 02:38:42,621 [s0@group-A9240FE7D204-LeaderElection30] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-A9240FE7D204-LeaderElection30
2022-07-14 02:38:42,621 [s0@group-A9240FE7D204-LeaderElection30] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-A9240FE7D204-FollowerState
2022-07-14 02:38:42,666 [s0@group-64FA75451E68-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-64FA75451E68-LeaderElection28: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-07-14 02:38:42,666 [s0@group-64FA75451E68-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-64FA75451E68-LeaderElection28 PRE_VOTE round 1: result TIMEOUT
2022-07-14 02:38:42,667 [s0@group-64FA75451E68-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-64FA75451E68-LeaderElection28 PRE_VOTE round 2: submit vote requests at term 1 for 0: [s0|rpc:localhost:37995|admin:localhost:40425|client:localhost:44993|dataStream:localhost:32905|priority:0, s1|rpc:localhost:44311|admin:localhost:39135|client:localhost:43127|dataStream:localhost:40691|priority:0, s2|rpc:localhost:38809|admin:localhost:38259|client:localhost:38105|dataStream:localhost:33749|priority:0], old=null
2022-07-14 02:38:42,852 [s0@group-A9240FE7D204-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-A9240FE7D204-FollowerState: change to CANDIDATE, lastRpcElapsedTime:231426161ns, electionTimeout:231ms
2022-07-14 02:38:42,852 [s0@group-A9240FE7D204-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-A9240FE7D204-FollowerState
2022-07-14 02:38:42,852 [s0@group-A9240FE7D204-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s0@group-A9240FE7D204: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-07-14 02:38:42,852 [s0@group-A9240FE7D204-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:38:42,853 [s0@group-A9240FE7D204-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-A9240FE7D204-LeaderElection31
2022-07-14 02:38:42,857 [s0@group-A9240FE7D204-LeaderElection31] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-A9240FE7D204-LeaderElection31 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s0|rpc:localhost:40901|admin:localhost:35649|client:localhost:37031|dataStream:localhost:35861|priority:0, s1|rpc:localhost:34351|admin:localhost:35149|client:localhost:37369|dataStream:localhost:35913|priority:0, s2|rpc:localhost:42155|admin:localhost:33863|client:localhost:40271|dataStream:localhost:33681|priority:0], old=null
2022-07-14 02:38:42,858 [Thread-546] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-A9240FE7D204: receive requestVote(PRE_VOTE, s0, group-A9240FE7D204, 1, (t:1, i:0))
2022-07-14 02:38:42,858 [Thread-555] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-A9240FE7D204: receive requestVote(PRE_VOTE, s0, group-A9240FE7D204, 1, (t:1, i:0))
2022-07-14 02:38:42,858 [Thread-555] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-A9240FE7D204-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-07-14 02:38:42,858 [Thread-546] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-A9240FE7D204-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-07-14 02:38:42,858 [Thread-555] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-A9240FE7D204 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-A9240FE7D204:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-A9240FE7D204-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:40901|admin:localhost:35649|client:localhost:37031|dataStream:localhost:35861|priority:0, s1|rpc:localhost:34351|admin:localhost:35149|client:localhost:37369|dataStream:localhost:35913|priority:0, s2|rpc:localhost:42155|admin:localhost:33863|client:localhost:40271|dataStream:localhost:33681|priority:0], old=null
2022-07-14 02:38:42,858 [Thread-546] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-A9240FE7D204 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-A9240FE7D204:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-A9240FE7D204-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:40901|admin:localhost:35649|client:localhost:37031|dataStream:localhost:35861|priority:0, s1|rpc:localhost:34351|admin:localhost:35149|client:localhost:37369|dataStream:localhost:35913|priority:0, s2|rpc:localhost:42155|admin:localhost:33863|client:localhost:40271|dataStream:localhost:33681|priority:0], old=null
2022-07-14 02:38:42,876 [s0@group-A9240FE7D204-LeaderElection31] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-A9240FE7D204-LeaderElection31: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-07-14 02:38:42,877 [s0@group-A9240FE7D204-LeaderElection31] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:FAIL-t1
2022-07-14 02:38:42,877 [s0@group-A9240FE7D204-LeaderElection31] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s2#0:FAIL-t1
2022-07-14 02:38:42,877 [s0@group-A9240FE7D204-LeaderElection31] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-A9240FE7D204-LeaderElection31 PRE_VOTE round 0: result REJECTED
2022-07-14 02:38:42,877 [s0@group-A9240FE7D204-LeaderElection31] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s0@group-A9240FE7D204: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-07-14 02:38:42,877 [s0@group-A9240FE7D204-LeaderElection31] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-A9240FE7D204-LeaderElection31
2022-07-14 02:38:42,877 [s0@group-A9240FE7D204-LeaderElection31] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-A9240FE7D204-FollowerState
2022-07-14 02:38:42,893 [s0@group-64FA75451E68-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-64FA75451E68-LeaderElection28: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-07-14 02:38:42,893 [s0@group-64FA75451E68-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-64FA75451E68-LeaderElection28 PRE_VOTE round 2: result TIMEOUT
2022-07-14 02:38:42,893 [s0@group-64FA75451E68-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-64FA75451E68-LeaderElection28 PRE_VOTE round 3: submit vote requests at term 1 for 0: [s0|rpc:localhost:37995|admin:localhost:40425|client:localhost:44993|dataStream:localhost:32905|priority:0, s1|rpc:localhost:44311|admin:localhost:39135|client:localhost:43127|dataStream:localhost:40691|priority:0, s2|rpc:localhost:38809|admin:localhost:38259|client:localhost:38105|dataStream:localhost:33749|priority:0], old=null
2022-07-14 02:38:43,115 [s0@group-64FA75451E68-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-64FA75451E68-LeaderElection28: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-07-14 02:38:43,115 [s0@group-64FA75451E68-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-64FA75451E68-LeaderElection28 PRE_VOTE round 3: result TIMEOUT
2022-07-14 02:38:43,115 [s0@group-64FA75451E68-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-64FA75451E68-LeaderElection28 PRE_VOTE round 4: submit vote requests at term 1 for 0: [s0|rpc:localhost:37995|admin:localhost:40425|client:localhost:44993|dataStream:localhost:32905|priority:0, s1|rpc:localhost:44311|admin:localhost:39135|client:localhost:43127|dataStream:localhost:40691|priority:0, s2|rpc:localhost:38809|admin:localhost:38259|client:localhost:38105|dataStream:localhost:33749|priority:0], old=null
2022-07-14 02:38:43,138 [s0@group-A9240FE7D204-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-A9240FE7D204-FollowerState: change to CANDIDATE, lastRpcElapsedTime:260443847ns, electionTimeout:260ms
2022-07-14 02:38:43,138 [s0@group-A9240FE7D204-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-A9240FE7D204-FollowerState
2022-07-14 02:38:43,138 [s0@group-A9240FE7D204-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s0@group-A9240FE7D204: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-07-14 02:38:43,138 [s0@group-A9240FE7D204-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:38:43,138 [s0@group-A9240FE7D204-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-A9240FE7D204-LeaderElection32
2022-07-14 02:38:43,139 [s0@group-A9240FE7D204-LeaderElection32] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-A9240FE7D204-LeaderElection32 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s0|rpc:localhost:40901|admin:localhost:35649|client:localhost:37031|dataStream:localhost:35861|priority:0, s1|rpc:localhost:34351|admin:localhost:35149|client:localhost:37369|dataStream:localhost:35913|priority:0, s2|rpc:localhost:42155|admin:localhost:33863|client:localhost:40271|dataStream:localhost:33681|priority:0], old=null
2022-07-14 02:38:43,140 [Thread-547] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-A9240FE7D204: receive requestVote(PRE_VOTE, s0, group-A9240FE7D204, 1, (t:1, i:0))
2022-07-14 02:38:43,140 [Thread-547] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-A9240FE7D204-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-07-14 02:38:43,140 [Thread-547] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-A9240FE7D204 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-A9240FE7D204:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-A9240FE7D204-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:40901|admin:localhost:35649|client:localhost:37031|dataStream:localhost:35861|priority:0, s1|rpc:localhost:34351|admin:localhost:35149|client:localhost:37369|dataStream:localhost:35913|priority:0, s2|rpc:localhost:42155|admin:localhost:33863|client:localhost:40271|dataStream:localhost:33681|priority:0], old=null
2022-07-14 02:38:43,141 [Thread-554] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-A9240FE7D204: receive requestVote(PRE_VOTE, s0, group-A9240FE7D204, 1, (t:1, i:0))
2022-07-14 02:38:43,141 [Thread-554] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-A9240FE7D204-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-07-14 02:38:43,141 [Thread-554] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-A9240FE7D204 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-A9240FE7D204:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-A9240FE7D204-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:40901|admin:localhost:35649|client:localhost:37031|dataStream:localhost:35861|priority:0, s1|rpc:localhost:34351|admin:localhost:35149|client:localhost:37369|dataStream:localhost:35913|priority:0, s2|rpc:localhost:42155|admin:localhost:33863|client:localhost:40271|dataStream:localhost:33681|priority:0], old=null
2022-07-14 02:38:43,159 [s0@group-A9240FE7D204-LeaderElection32] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-A9240FE7D204-LeaderElection32: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-07-14 02:38:43,159 [s0@group-A9240FE7D204-LeaderElection32] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:FAIL-t1
2022-07-14 02:38:43,159 [s0@group-A9240FE7D204-LeaderElection32] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s2#0:FAIL-t1
2022-07-14 02:38:43,159 [s0@group-A9240FE7D204-LeaderElection32] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-A9240FE7D204-LeaderElection32 PRE_VOTE round 0: result REJECTED
2022-07-14 02:38:43,160 [s0@group-A9240FE7D204-LeaderElection32] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s0@group-A9240FE7D204: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-07-14 02:38:43,160 [s0@group-A9240FE7D204-LeaderElection32] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-A9240FE7D204-LeaderElection32
2022-07-14 02:38:43,160 [s0@group-A9240FE7D204-LeaderElection32] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-A9240FE7D204-FollowerState
2022-07-14 02:38:43,393 [s0@group-A9240FE7D204-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-A9240FE7D204-FollowerState: change to CANDIDATE, lastRpcElapsedTime:233521707ns, electionTimeout:233ms
2022-07-14 02:38:43,393 [s0@group-A9240FE7D204-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-A9240FE7D204-FollowerState
2022-07-14 02:38:43,394 [s0@group-A9240FE7D204-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s0@group-A9240FE7D204: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-07-14 02:38:43,394 [s0@group-A9240FE7D204-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:38:43,394 [s0@group-A9240FE7D204-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-A9240FE7D204-LeaderElection33
2022-07-14 02:38:43,395 [s0@group-A9240FE7D204-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-A9240FE7D204-LeaderElection33 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s0|rpc:localhost:40901|admin:localhost:35649|client:localhost:37031|dataStream:localhost:35861|priority:0, s1|rpc:localhost:34351|admin:localhost:35149|client:localhost:37369|dataStream:localhost:35913|priority:0, s2|rpc:localhost:42155|admin:localhost:33863|client:localhost:40271|dataStream:localhost:33681|priority:0], old=null
2022-07-14 02:38:43,395 [Thread-548] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-A9240FE7D204: receive requestVote(PRE_VOTE, s0, group-A9240FE7D204, 1, (t:1, i:0))
2022-07-14 02:38:43,395 [Thread-553] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-A9240FE7D204: receive requestVote(PRE_VOTE, s0, group-A9240FE7D204, 1, (t:1, i:0))
2022-07-14 02:38:43,395 [Thread-553] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-A9240FE7D204-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-07-14 02:38:43,395 [Thread-553] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-A9240FE7D204 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-A9240FE7D204:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-A9240FE7D204-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:40901|admin:localhost:35649|client:localhost:37031|dataStream:localhost:35861|priority:0, s1|rpc:localhost:34351|admin:localhost:35149|client:localhost:37369|dataStream:localhost:35913|priority:0, s2|rpc:localhost:42155|admin:localhost:33863|client:localhost:40271|dataStream:localhost:33681|priority:0], old=null
2022-07-14 02:38:43,395 [Thread-548] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-A9240FE7D204-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-07-14 02:38:43,396 [Thread-548] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-A9240FE7D204 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-A9240FE7D204:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-A9240FE7D204-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:40901|admin:localhost:35649|client:localhost:37031|dataStream:localhost:35861|priority:0, s1|rpc:localhost:34351|admin:localhost:35149|client:localhost:37369|dataStream:localhost:35913|priority:0, s2|rpc:localhost:42155|admin:localhost:33863|client:localhost:40271|dataStream:localhost:33681|priority:0], old=null
2022-07-14 02:38:43,406 [s0@group-64FA75451E68-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-64FA75451E68-LeaderElection28: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-07-14 02:38:43,406 [s0@group-64FA75451E68-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-64FA75451E68-LeaderElection28 PRE_VOTE round 4: result TIMEOUT
2022-07-14 02:38:43,406 [s0@group-64FA75451E68-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-64FA75451E68-LeaderElection28 PRE_VOTE round 5: submit vote requests at term 1 for 0: [s0|rpc:localhost:37995|admin:localhost:40425|client:localhost:44993|dataStream:localhost:32905|priority:0, s1|rpc:localhost:44311|admin:localhost:39135|client:localhost:43127|dataStream:localhost:40691|priority:0, s2|rpc:localhost:38809|admin:localhost:38259|client:localhost:38105|dataStream:localhost:33749|priority:0], old=null
2022-07-14 02:38:43,411 [s0@group-A9240FE7D204-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-A9240FE7D204-LeaderElection33: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-07-14 02:38:43,411 [s0@group-A9240FE7D204-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:FAIL-t1
2022-07-14 02:38:43,411 [s0@group-A9240FE7D204-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s2#0:FAIL-t1
2022-07-14 02:38:43,411 [s0@group-A9240FE7D204-LeaderElection33] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-A9240FE7D204-LeaderElection33 PRE_VOTE round 0: result REJECTED
2022-07-14 02:38:43,411 [s0@group-A9240FE7D204-LeaderElection33] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s0@group-A9240FE7D204: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-07-14 02:38:43,411 [s0@group-A9240FE7D204-LeaderElection33] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-A9240FE7D204-LeaderElection33
2022-07-14 02:38:43,411 [s0@group-A9240FE7D204-LeaderElection33] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-A9240FE7D204-FollowerState
2022-07-14 02:38:43,561 [s0@group-64FA75451E68-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-64FA75451E68-LeaderElection28: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-07-14 02:38:43,561 [s0@group-64FA75451E68-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-64FA75451E68-LeaderElection28 PRE_VOTE round 5: result TIMEOUT
2022-07-14 02:38:43,561 [s0@group-64FA75451E68-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-64FA75451E68-LeaderElection28 PRE_VOTE round 6: submit vote requests at term 1 for 0: [s0|rpc:localhost:37995|admin:localhost:40425|client:localhost:44993|dataStream:localhost:32905|priority:0, s1|rpc:localhost:44311|admin:localhost:39135|client:localhost:43127|dataStream:localhost:40691|priority:0, s2|rpc:localhost:38809|admin:localhost:38259|client:localhost:38105|dataStream:localhost:33749|priority:0], old=null
2022-07-14 02:38:43,690 [s0@group-A9240FE7D204-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-A9240FE7D204-FollowerState: change to CANDIDATE, lastRpcElapsedTime:278552675ns, electionTimeout:278ms
2022-07-14 02:38:43,690 [s0@group-A9240FE7D204-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-A9240FE7D204-FollowerState
2022-07-14 02:38:43,690 [s0@group-A9240FE7D204-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s0@group-A9240FE7D204: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-07-14 02:38:43,690 [s0@group-A9240FE7D204-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:38:43,690 [s0@group-A9240FE7D204-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-A9240FE7D204-LeaderElection34
2022-07-14 02:38:43,691 [s0@group-A9240FE7D204-LeaderElection34] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-A9240FE7D204-LeaderElection34 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s0|rpc:localhost:40901|admin:localhost:35649|client:localhost:37031|dataStream:localhost:35861|priority:0, s1|rpc:localhost:34351|admin:localhost:35149|client:localhost:37369|dataStream:localhost:35913|priority:0, s2|rpc:localhost:42155|admin:localhost:33863|client:localhost:40271|dataStream:localhost:33681|priority:0], old=null
2022-07-14 02:38:43,692 [Thread-546] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-A9240FE7D204: receive requestVote(PRE_VOTE, s0, group-A9240FE7D204, 1, (t:1, i:0))
2022-07-14 02:38:43,692 [Thread-546] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-A9240FE7D204-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-07-14 02:38:43,692 [Thread-546] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-A9240FE7D204 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-A9240FE7D204:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-A9240FE7D204-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:40901|admin:localhost:35649|client:localhost:37031|dataStream:localhost:35861|priority:0, s1|rpc:localhost:34351|admin:localhost:35149|client:localhost:37369|dataStream:localhost:35913|priority:0, s2|rpc:localhost:42155|admin:localhost:33863|client:localhost:40271|dataStream:localhost:33681|priority:0], old=null
2022-07-14 02:38:43,693 [Thread-555] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-A9240FE7D204: receive requestVote(PRE_VOTE, s0, group-A9240FE7D204, 1, (t:1, i:0))
2022-07-14 02:38:43,693 [Thread-555] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-A9240FE7D204-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-07-14 02:38:43,693 [Thread-555] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-A9240FE7D204 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-A9240FE7D204:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-A9240FE7D204-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:40901|admin:localhost:35649|client:localhost:37031|dataStream:localhost:35861|priority:0, s1|rpc:localhost:34351|admin:localhost:35149|client:localhost:37369|dataStream:localhost:35913|priority:0, s2|rpc:localhost:42155|admin:localhost:33863|client:localhost:40271|dataStream:localhost:33681|priority:0], old=null
2022-07-14 02:38:43,703 [s0@group-A9240FE7D204-LeaderElection34] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-A9240FE7D204-LeaderElection34: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-07-14 02:38:43,704 [s0@group-A9240FE7D204-LeaderElection34] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:FAIL-t1
2022-07-14 02:38:43,704 [s0@group-A9240FE7D204-LeaderElection34] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s2#0:FAIL-t1
2022-07-14 02:38:43,704 [s0@group-A9240FE7D204-LeaderElection34] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-A9240FE7D204-LeaderElection34 PRE_VOTE round 0: result REJECTED
2022-07-14 02:38:43,704 [s0@group-A9240FE7D204-LeaderElection34] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s0@group-A9240FE7D204: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-07-14 02:38:43,704 [s0@group-A9240FE7D204-LeaderElection34] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-A9240FE7D204-LeaderElection34
2022-07-14 02:38:43,704 [s0@group-A9240FE7D204-LeaderElection34] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-A9240FE7D204-FollowerState
2022-07-14 02:38:43,715 [s0@group-64FA75451E68-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-64FA75451E68-LeaderElection28: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-07-14 02:38:43,715 [s0@group-64FA75451E68-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-64FA75451E68-LeaderElection28 PRE_VOTE round 6: result TIMEOUT
2022-07-14 02:38:43,715 [s0@group-64FA75451E68-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-64FA75451E68-LeaderElection28 PRE_VOTE round 7: submit vote requests at term 1 for 0: [s0|rpc:localhost:37995|admin:localhost:40425|client:localhost:44993|dataStream:localhost:32905|priority:0, s1|rpc:localhost:44311|admin:localhost:39135|client:localhost:43127|dataStream:localhost:40691|priority:0, s2|rpc:localhost:38809|admin:localhost:38259|client:localhost:38105|dataStream:localhost:33749|priority:0], old=null
2022-07-14 02:38:43,880 [s0@group-A9240FE7D204-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-A9240FE7D204-FollowerState: change to CANDIDATE, lastRpcElapsedTime:175916435ns, electionTimeout:175ms
2022-07-14 02:38:43,880 [s0@group-A9240FE7D204-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-A9240FE7D204-FollowerState
2022-07-14 02:38:43,880 [s0@group-A9240FE7D204-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s0@group-A9240FE7D204: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-07-14 02:38:43,881 [s0@group-A9240FE7D204-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:38:43,881 [s0@group-A9240FE7D204-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-A9240FE7D204-LeaderElection35
2022-07-14 02:38:43,882 [s0@group-A9240FE7D204-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-A9240FE7D204-LeaderElection35 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s0|rpc:localhost:40901|admin:localhost:35649|client:localhost:37031|dataStream:localhost:35861|priority:0, s1|rpc:localhost:34351|admin:localhost:35149|client:localhost:37369|dataStream:localhost:35913|priority:0, s2|rpc:localhost:42155|admin:localhost:33863|client:localhost:40271|dataStream:localhost:33681|priority:0], old=null
2022-07-14 02:38:43,882 [Thread-547] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-A9240FE7D204: receive requestVote(PRE_VOTE, s0, group-A9240FE7D204, 1, (t:1, i:0))
2022-07-14 02:38:43,882 [Thread-547] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-A9240FE7D204-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-07-14 02:38:43,882 [Thread-555] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-A9240FE7D204: receive requestVote(PRE_VOTE, s0, group-A9240FE7D204, 1, (t:1, i:0))
2022-07-14 02:38:43,883 [Thread-555] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-A9240FE7D204-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-07-14 02:38:43,883 [Thread-547] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-A9240FE7D204 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-A9240FE7D204:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-A9240FE7D204-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:40901|admin:localhost:35649|client:localhost:37031|dataStream:localhost:35861|priority:0, s1|rpc:localhost:34351|admin:localhost:35149|client:localhost:37369|dataStream:localhost:35913|priority:0, s2|rpc:localhost:42155|admin:localhost:33863|client:localhost:40271|dataStream:localhost:33681|priority:0], old=null
2022-07-14 02:38:43,883 [Thread-555] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-A9240FE7D204 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-A9240FE7D204:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-A9240FE7D204-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:40901|admin:localhost:35649|client:localhost:37031|dataStream:localhost:35861|priority:0, s1|rpc:localhost:34351|admin:localhost:35149|client:localhost:37369|dataStream:localhost:35913|priority:0, s2|rpc:localhost:42155|admin:localhost:33863|client:localhost:40271|dataStream:localhost:33681|priority:0], old=null
2022-07-14 02:38:43,901 [s0@group-A9240FE7D204-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-A9240FE7D204-LeaderElection35: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-07-14 02:38:43,901 [s0@group-A9240FE7D204-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:FAIL-t1
2022-07-14 02:38:43,901 [s0@group-A9240FE7D204-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s2#0:FAIL-t1
2022-07-14 02:38:43,901 [s0@group-A9240FE7D204-LeaderElection35] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-A9240FE7D204-LeaderElection35 PRE_VOTE round 0: result REJECTED
2022-07-14 02:38:43,901 [s0@group-A9240FE7D204-LeaderElection35] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s0@group-A9240FE7D204: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-07-14 02:38:43,901 [s0@group-A9240FE7D204-LeaderElection35] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-A9240FE7D204-LeaderElection35
2022-07-14 02:38:43,902 [s0@group-A9240FE7D204-LeaderElection35] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-A9240FE7D204-FollowerState
2022-07-14 02:38:43,998 [s0@group-64FA75451E68-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-64FA75451E68-LeaderElection28: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-07-14 02:38:43,998 [s0@group-64FA75451E68-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-64FA75451E68-LeaderElection28 PRE_VOTE round 7: result TIMEOUT
2022-07-14 02:38:43,998 [s0@group-64FA75451E68-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-64FA75451E68-LeaderElection28 PRE_VOTE round 8: submit vote requests at term 1 for 0: [s0|rpc:localhost:37995|admin:localhost:40425|client:localhost:44993|dataStream:localhost:32905|priority:0, s1|rpc:localhost:44311|admin:localhost:39135|client:localhost:43127|dataStream:localhost:40691|priority:0, s2|rpc:localhost:38809|admin:localhost:38259|client:localhost:38105|dataStream:localhost:33749|priority:0], old=null
2022-07-14 02:38:43,998 [Thread-647] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-64FA75451E68: receive requestVote(PRE_VOTE, s0, group-64FA75451E68, 1, (t:1, i:2))
2022-07-14 02:38:43,998 [Thread-655] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-64FA75451E68: receive requestVote(PRE_VOTE, s0, group-64FA75451E68, 1, (t:1, i:2))
2022-07-14 02:38:43,998 [Thread-647] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-64FA75451E68-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s2
2022-07-14 02:38:43,999 [Thread-655] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-64FA75451E68-LEADER: reject PRE_VOTE from s0: this server is the leader and still has leadership
2022-07-14 02:38:43,999 [Thread-647] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-64FA75451E68 replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-64FA75451E68:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-64FA75451E68-SegmentedRaftLog:OPENED:c4, conf=0: [s0|rpc:localhost:37995|admin:localhost:40425|client:localhost:44993|dataStream:localhost:32905|priority:0, s1|rpc:localhost:44311|admin:localhost:39135|client:localhost:43127|dataStream:localhost:40691|priority:0, s2|rpc:localhost:38809|admin:localhost:38259|client:localhost:38105|dataStream:localhost:33749|priority:0], old=null
2022-07-14 02:38:43,999 [Thread-655] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-64FA75451E68 replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-64FA75451E68:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-64FA75451E68-SegmentedRaftLog:OPENED:c4, conf=0: [s0|rpc:localhost:37995|admin:localhost:40425|client:localhost:44993|dataStream:localhost:32905|priority:0, s1|rpc:localhost:44311|admin:localhost:39135|client:localhost:43127|dataStream:localhost:40691|priority:0, s2|rpc:localhost:38809|admin:localhost:38259|client:localhost:38105|dataStream:localhost:33749|priority:0], old=null
2022-07-14 02:38:43,999 [s0@group-64FA75451E68-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-64FA75451E68-LeaderElection28: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2022-07-14 02:38:43,999 [s0@group-64FA75451E68-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:FAIL-t1
2022-07-14 02:38:43,999 [s0@group-64FA75451E68-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s2#0:FAIL-t1
2022-07-14 02:38:43,999 [s0@group-64FA75451E68-LeaderElection28] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-64FA75451E68-LeaderElection28 PRE_VOTE round 8: result REJECTED
2022-07-14 02:38:43,999 [s0@group-64FA75451E68-LeaderElection28] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s0@group-64FA75451E68: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-07-14 02:38:43,999 [s0@group-64FA75451E68-LeaderElection28] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-64FA75451E68-LeaderElection28
2022-07-14 02:38:44,000 [s0@group-64FA75451E68-LeaderElection28] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-64FA75451E68-FollowerState
2022-07-14 02:38:44,034 [Thread-639] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s2
2022-07-14 02:38:44,034 [Thread-639] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s0@group-64FA75451E68: receive appendEntries(s2, 1, (t:1, i:2), 2, true, commits[s2:c2, s0:c1, s1:c1], entries: (t:1, i:3), STATEMACHINELOGENTRY, 367@client-20586A4E8913
2022-07-14 02:38:44,034 [Thread-639] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s0@group-64FA75451E68: change Leader from null to s2 at term 1 for appendEntries, leader elected after 1870ms
2022-07-14 02:38:44,036 [Thread-813] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s0@group-64FA75451E68: succeeded to handle AppendEntries. Reply: s2<-s0#368:OK-t1,SUCCESS,nextIndex=4,followerCommit=2
2022-07-14 02:38:44,037 [Thread-640] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s0@group-64FA75451E68: receive appendEntries(s2, 1, (t:1, i:3), 4, true, commits[s2:c4, s0:c2, s1:c4], entries: (t:1, i:4), METADATAENTRY(c:3)
2022-07-14 02:38:44,042 [Thread-814] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s0@group-64FA75451E68: succeeded to handle AppendEntries. Reply: s2<-s0#422:OK-t1,SUCCESS,nextIndex=5,followerCommit=4
2022-07-14 02:38:44,072 [Thread-540] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s1
2022-07-14 02:38:44,073 [Thread-540] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s0@group-A9240FE7D204: change Leader from null to s1 at term 1 for appendEntries, leader elected after 1952ms
2022-07-14 02:38:45,937 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:38:45,937 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-64FA75451E68:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-64FA75451E68-SegmentedRaftLog:OPENED:c4, conf=0: [s0|rpc:localhost:37995|admin:localhost:40425|client:localhost:44993|dataStream:localhost:32905|priority:0, s1|rpc:localhost:44311|admin:localhost:39135|client:localhost:43127|dataStream:localhost:40691|priority:0, s2|rpc:localhost:38809|admin:localhost:38259|client:localhost:38105|dataStream:localhost:33749|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-64FA75451E68:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-64FA75451E68-SegmentedRaftLog:OPENED:c4, conf=0: [s0|rpc:localhost:37995|admin:localhost:40425|client:localhost:44993|dataStream:localhost:32905|priority:0, s1|rpc:localhost:44311|admin:localhost:39135|client:localhost:43127|dataStream:localhost:40691|priority:0, s2|rpc:localhost:38809|admin:localhost:38259|client:localhost:38105|dataStream:localhost:33749|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-64FA75451E68:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-64FA75451E68-SegmentedRaftLog:OPENED:c4, conf=0: [s0|rpc:localhost:37995|admin:localhost:40425|client:localhost:44993|dataStream:localhost:32905|priority:0, s1|rpc:localhost:44311|admin:localhost:39135|client:localhost:43127|dataStream:localhost:40691|priority:0, s2|rpc:localhost:38809|admin:localhost:38259|client:localhost:38105|dataStream:localhost:33749|priority:0], old=null RUNNING
2022-07-14 02:38:45,938 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-64FA75451E68:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-64FA75451E68-SegmentedRaftLog:OPENED:c4, conf=0: [s0|rpc:localhost:37995|admin:localhost:40425|client:localhost:44993|dataStream:localhost:32905|priority:0, s1|rpc:localhost:44311|admin:localhost:39135|client:localhost:43127|dataStream:localhost:40691|priority:0, s2|rpc:localhost:38809|admin:localhost:38259|client:localhost:38105|dataStream:localhost:33749|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-64FA75451E68:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-64FA75451E68-SegmentedRaftLog:OPENED:c4, conf=0: [s0|rpc:localhost:37995|admin:localhost:40425|client:localhost:44993|dataStream:localhost:32905|priority:0, s1|rpc:localhost:44311|admin:localhost:39135|client:localhost:43127|dataStream:localhost:40691|priority:0, s2|rpc:localhost:38809|admin:localhost:38259|client:localhost:38105|dataStream:localhost:33749|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-64FA75451E68:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-64FA75451E68-SegmentedRaftLog:OPENED:c4, conf=0: [s0|rpc:localhost:37995|admin:localhost:40425|client:localhost:44993|dataStream:localhost:32905|priority:0, s1|rpc:localhost:44311|admin:localhost:39135|client:localhost:43127|dataStream:localhost:40691|priority:0, s2|rpc:localhost:38809|admin:localhost:38259|client:localhost:38105|dataStream:localhost:33749|priority:0], old=null RUNNING
2022-07-14 02:38:45,938 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(794)) - s2@group-64FA75451E68: receive client request(RaftClientRequest:client-20586A4E8913->s2@group-64FA75451E68, cid=513, seq=0, RW, message)
2022-07-14 02:38:45,938 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(401)) - s2@group-64FA75451E68-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-20586A4E8913->s2@group-64FA75451E68, cid=513, seq=0, RW, message, entry=(t:1, i:5), STATEMACHINELOGENTRY, 513@client-20586A4E8913
2022-07-14 02:38:45,939 [Thread-646] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-64FA75451E68: receive appendEntries(s2, 1, (t:1, i:4), 4, true, commits[s2:c4, s0:c4, s1:c4], entries: (t:1, i:5), STATEMACHINELOGENTRY, 513@client-20586A4E8913
2022-07-14 02:38:45,940 [Thread-639] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s0@group-64FA75451E68: receive appendEntries(s2, 1, (t:1, i:4), 4, true, commits[s2:c4, s0:c4, s1:c4], entries: (t:1, i:5), STATEMACHINELOGENTRY, 513@client-20586A4E8913
2022-07-14 02:38:45,941 [Thread-907] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-64FA75451E68: succeeded to handle AppendEntries. Reply: s2<-s1#514:OK-t1,SUCCESS,nextIndex=6,followerCommit=4
2022-07-14 02:38:45,941 [Thread-908] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s0@group-64FA75451E68: succeeded to handle AppendEntries. Reply: s2<-s0#516:OK-t1,SUCCESS,nextIndex=6,followerCommit=4
2022-07-14 02:38:45,942 [Thread-640] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s0@group-64FA75451E68: receive appendEntries(s2, 1, (t:1, i:5), 5, true, commits[s2:c5, s0:c4, s1:c4], entries: (t:1, i:6), METADATAENTRY(c:5)
2022-07-14 02:38:45,942 [Thread-647] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-64FA75451E68: receive appendEntries(s2, 1, (t:1, i:5), 5, true, commits[s2:c5, s0:c4, s1:c4], entries: (t:1, i:6), METADATAENTRY(c:5)
2022-07-14 02:38:45,943 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(779)) - ************************************************************** 
2022-07-14 02:38:45,943 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(780)) - *** 
2022-07-14 02:38:45,943 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(781)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-07-14 02:38:45,943 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(782)) - *** 
2022-07-14 02:38:45,943 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(783)) - ************************************************************** 
2022-07-14 02:38:45,944 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(784)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-64FA75451E68:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-64FA75451E68-SegmentedRaftLog:OPENED:c4, conf=0: [s0|rpc:localhost:37995|admin:localhost:40425|client:localhost:44993|dataStream:localhost:32905|priority:0, s1|rpc:localhost:44311|admin:localhost:39135|client:localhost:43127|dataStream:localhost:40691|priority:0, s2|rpc:localhost:38809|admin:localhost:38259|client:localhost:38105|dataStream:localhost:33749|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-64FA75451E68:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-64FA75451E68-SegmentedRaftLog:OPENED:c4, conf=0: [s0|rpc:localhost:37995|admin:localhost:40425|client:localhost:44993|dataStream:localhost:32905|priority:0, s1|rpc:localhost:44311|admin:localhost:39135|client:localhost:43127|dataStream:localhost:40691|priority:0, s2|rpc:localhost:38809|admin:localhost:38259|client:localhost:38105|dataStream:localhost:33749|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-64FA75451E68:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-64FA75451E68-SegmentedRaftLog:OPENED:c5, conf=0: [s0|rpc:localhost:37995|admin:localhost:40425|client:localhost:44993|dataStream:localhost:32905|priority:0, s1|rpc:localhost:44311|admin:localhost:39135|client:localhost:43127|dataStream:localhost:40691|priority:0, s2|rpc:localhost:38809|admin:localhost:38259|client:localhost:38105|dataStream:localhost:33749|priority:0], old=null RUNNING
2022-07-14 02:38:45,944 [Thread-910] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s0@group-64FA75451E68: succeeded to handle AppendEntries. Reply: s2<-s0#517:OK-t1,SUCCESS,nextIndex=7,followerCommit=5
2022-07-14 02:38:45,946 [Thread-912] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-64FA75451E68: succeeded to handle AppendEntries. Reply: s2<-s1#518:OK-t1,SUCCESS,nextIndex=7,followerCommit=5
2022-07-14 02:38:45,947 [java.util.concurrent.ThreadPoolExecutor$Worker@509c68b3[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s2: close
2022-07-14 02:38:45,947 [java.util.concurrent.ThreadPoolExecutor$Worker@509c68b3[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(437)) - s2@group-64FA75451E68: shutdown
2022-07-14 02:38:45,947 [java.util.concurrent.ThreadPoolExecutor$Worker@6e69ef4b[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s0: close
2022-07-14 02:38:45,949 [java.util.concurrent.ThreadPoolExecutor$Worker@6e69ef4b[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(437)) - s0@group-64FA75451E68: shutdown
2022-07-14 02:38:45,949 [java.util.concurrent.ThreadPoolExecutor$Worker@6e69ef4b[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-64FA75451E68,id=s0
2022-07-14 02:38:45,949 [java.util.concurrent.ThreadPoolExecutor$Worker@6e69ef4b[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-64FA75451E68-FollowerState
2022-07-14 02:38:45,949 [java.util.concurrent.ThreadPoolExecutor$Worker@6e69ef4b[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-64FA75451E68-StateMachineUpdater: set stopIndex = 5
2022-07-14 02:38:45,949 [s0@group-64FA75451E68-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-64FA75451E68-FollowerState was interrupted
2022-07-14 02:38:45,949 [java.util.concurrent.ThreadPoolExecutor$Worker@39a420b7[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s1: close
2022-07-14 02:38:45,951 [java.util.concurrent.ThreadPoolExecutor$Worker@6e69ef4b[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(456)) - s0@group-64FA75451E68: closes. applyIndex: 5
2022-07-14 02:38:45,951 [java.util.concurrent.ThreadPoolExecutor$Worker@39a420b7[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(437)) - s1@group-64FA75451E68: shutdown
2022-07-14 02:38:45,951 [java.util.concurrent.ThreadPoolExecutor$Worker@39a420b7[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-64FA75451E68,id=s1
2022-07-14 02:38:45,952 [java.util.concurrent.ThreadPoolExecutor$Worker@39a420b7[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-64FA75451E68-FollowerState
2022-07-14 02:38:45,949 [java.util.concurrent.ThreadPoolExecutor$Worker@509c68b3[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-64FA75451E68,id=s2
2022-07-14 02:38:45,952 [s1@group-64FA75451E68-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-64FA75451E68-FollowerState was interrupted
2022-07-14 02:38:45,951 [s0@group-64FA75451E68-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s0@group-64FA75451E68-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-07-14 02:38:45,955 [java.util.concurrent.ThreadPoolExecutor$Worker@39a420b7[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-64FA75451E68-StateMachineUpdater: set stopIndex = 5
2022-07-14 02:38:45,955 [java.util.concurrent.ThreadPoolExecutor$Worker@509c68b3[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-64FA75451E68-LeaderStateImpl
2022-07-14 02:38:45,956 [java.util.concurrent.ThreadPoolExecutor$Worker@6e69ef4b[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s0@group-64FA75451E68-SegmentedRaftLogWorker close()
2022-07-14 02:38:45,955 [java.util.concurrent.ThreadPoolExecutor$Worker@39a420b7[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(456)) - s1@group-64FA75451E68: closes. applyIndex: 5
2022-07-14 02:38:45,956 [s2@group-64FA75451E68->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s2@group-64FA75451E68->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-07-14 02:38:45,956 [s2@group-64FA75451E68->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s2@group-64FA75451E68->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-07-14 02:38:45,958 [Thread-644] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:45,958 [Thread-643] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:45,957 [Thread-642] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:45,957 [java.util.concurrent.ThreadPoolExecutor$Worker@509c68b3[State = -1, empty queue]] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s2@group-64FA75451E68-PendingRequests: sendNotLeaderResponses
2022-07-14 02:38:45,958 [s1@group-64FA75451E68-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s1@group-64FA75451E68-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-07-14 02:38:45,962 [Thread-639] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:45,962 [Thread-640] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:45,962 [Thread-641] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:45,963 [java.util.concurrent.ThreadPoolExecutor$Worker@39a420b7[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s1@group-64FA75451E68-SegmentedRaftLogWorker close()
2022-07-14 02:38:45,965 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$250/1367845902@79a2001] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-07-14 02:38:45,966 [java.util.concurrent.ThreadPoolExecutor$Worker@509c68b3[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-64FA75451E68-StateMachineUpdater: set stopIndex = 6
2022-07-14 02:38:45,966 [java.util.concurrent.ThreadPoolExecutor$Worker@509c68b3[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(456)) - s2@group-64FA75451E68: closes. applyIndex: 6
2022-07-14 02:38:45,966 [s2@group-64FA75451E68-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s2@group-64FA75451E68-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-07-14 02:38:45,966 [Thread-649] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:45,966 [Thread-650] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:45,966 [Thread-651] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:45,967 [Thread-646] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:45,967 [Thread-648] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:45,967 [Thread-647] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:45,967 [java.util.concurrent.ThreadPoolExecutor$Worker@509c68b3[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s2@group-64FA75451E68-SegmentedRaftLogWorker close()
2022-07-14 02:38:45,968 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$250/1367845902@7079e07] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-07-14 02:38:45,969 [Thread-656] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:45,969 [Thread-657] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:45,969 [Thread-658] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:45,970 [Thread-653] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:45,970 [Thread-654] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:45,970 [Thread-655] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:45,971 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$250/1367845902@3c9e2225] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-07-14 02:38:45,971 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(802)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-07-14 02:38:45,971 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(779)) - ************************************************************** 
2022-07-14 02:38:45,971 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(780)) - *** 
2022-07-14 02:38:45,971 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(781)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-07-14 02:38:45,971 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(782)) - *** 
2022-07-14 02:38:45,971 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(783)) - ************************************************************** 
2022-07-14 02:38:45,972 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(784)) - printing ALL groups
  s0:   CLOSED  FOLLOWER s0@group-64FA75451E68:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-64FA75451E68-SegmentedRaftLog:CLOSED:c5, conf=0: [s0|rpc:localhost:37995|admin:localhost:40425|client:localhost:44993|dataStream:localhost:32905|priority:0, s1|rpc:localhost:44311|admin:localhost:39135|client:localhost:43127|dataStream:localhost:40691|priority:0, s2|rpc:localhost:38809|admin:localhost:38259|client:localhost:38105|dataStream:localhost:33749|priority:0], old=null CLOSED
  s1:   CLOSED  FOLLOWER s1@group-64FA75451E68:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-64FA75451E68-SegmentedRaftLog:CLOSED:c5, conf=0: [s0|rpc:localhost:37995|admin:localhost:40425|client:localhost:44993|dataStream:localhost:32905|priority:0, s1|rpc:localhost:44311|admin:localhost:39135|client:localhost:43127|dataStream:localhost:40691|priority:0, s2|rpc:localhost:38809|admin:localhost:38259|client:localhost:38105|dataStream:localhost:33749|priority:0], old=null CLOSED
  s2:   CLOSED    LEADER s2@group-64FA75451E68:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-64FA75451E68-SegmentedRaftLog:CLOSED:c6, conf=0: [s0|rpc:localhost:37995|admin:localhost:40425|client:localhost:44993|dataStream:localhost:32905|priority:0, s1|rpc:localhost:44311|admin:localhost:39135|client:localhost:43127|dataStream:localhost:40691|priority:0, s2|rpc:localhost:38809|admin:localhost:38259|client:localhost:38105|dataStream:localhost:33749|priority:0], old=null CLOSED
2022-07-14 02:38:45,976 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(802)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-07-14 02:38:45,976 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-07-14 02:38:45,976 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-07-14 02:38:45,976 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-07-14 02:38:45,976 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-07-14 02:38:45,977 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-07-14 02:38:45,977 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(272)) - new MiniRaftClusterWithSimulatedRpc with group-53B2CE157ED8:[s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0]
2022-07-14 02:38:45,978 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(304)) - .............................................................. 
2022-07-14 02:38:45,978 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(305)) - ... 
2022-07-14 02:38:45,978 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(306)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-07-14 02:38:45,978 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(307)) - ... 
2022-07-14 02:38:45,978 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(308)) - .............................................................. 
2022-07-14 02:38:45,978 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(284)) - servers = {}
2022-07-14 02:38:45,978 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(348)) - newRaftServer: s0, group-53B2CE157ED8:[s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0], format? true
2022-07-14 02:38:45,978 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a738d40/s0
2022-07-14 02:38:45,978 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a738d40/s0 does not exist.
2022-07-14 02:38:45,978 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(353)) - Formatted directory target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a738d40/s0
2022-07-14 02:38:45,978 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-14 02:38:45,979 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-07-14 02:38:45,979 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-07-14 02:38:45,979 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-07-14 02:38:45,979 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-14 02:38:45,979 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-14 02:38:45,980 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a738d40/s0] (custom)
2022-07-14 02:38:45,981 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-53B2CE157ED8:[s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0] returns group-53B2CE157ED8:java.util.concurrent.CompletableFuture@7fe1e1ad[Not completed]
2022-07-14 02:38:45,982 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(348)) - newRaftServer: s1, group-53B2CE157ED8:[s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0], format? true
2022-07-14 02:38:45,982 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a738d40/s1
2022-07-14 02:38:45,982 [pool-15-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(191)) - s0: new RaftServerImpl for group-53B2CE157ED8:[s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0] with BaseStateMachine:uninitialized
2022-07-14 02:38:45,982 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a738d40/s1 does not exist.
2022-07-14 02:38:45,982 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(353)) - Formatted directory target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a738d40/s1
2022-07-14 02:38:45,982 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-07-14 02:38:45,982 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-14 02:38:45,982 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:38:45,983 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-07-14 02:38:45,983 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-14 02:38:45,983 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-14 02:38:45,983 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-07-14 02:38:45,983 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-07-14 02:38:45,983 [pool-15-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(109)) - s0@group-53B2CE157ED8: ConfigurationManager, init=-1: [s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0], old=null, confs=<EMPTY_MAP>
2022-07-14 02:38:45,983 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-07-14 02:38:45,984 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-07-14 02:38:45,984 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-14 02:38:45,984 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-14 02:38:45,984 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a738d40/s1] (custom)
2022-07-14 02:38:45,985 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a738d40/s0] (custom)
2022-07-14 02:38:45,986 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-07-14 02:38:45,986 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-07-14 02:38:45,986 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-07-14 02:38:45,986 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-07-14 02:38:45,986 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-07-14 02:38:45,987 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-07-14 02:38:45,987 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-07-14 02:38:45,987 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-07-14 02:38:45,987 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-07-14 02:38:45,987 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-07-14 02:38:45,988 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s1: addNew group-53B2CE157ED8:[s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0] returns group-53B2CE157ED8:java.util.concurrent.CompletableFuture@1fce1ee2[Not completed]
2022-07-14 02:38:45,988 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(348)) - newRaftServer: s2, group-53B2CE157ED8:[s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0], format? true
2022-07-14 02:38:45,988 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a738d40/s2
2022-07-14 02:38:45,988 [pool-16-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(191)) - s1: new RaftServerImpl for group-53B2CE157ED8:[s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0] with BaseStateMachine:uninitialized
2022-07-14 02:38:45,989 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a738d40/s2 does not exist.
2022-07-14 02:38:45,989 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(353)) - Formatted directory target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a738d40/s2
2022-07-14 02:38:45,989 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-07-14 02:38:45,989 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-14 02:38:45,989 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:38:45,989 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-07-14 02:38:45,989 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-14 02:38:45,989 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-14 02:38:45,989 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-07-14 02:38:45,989 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-07-14 02:38:45,989 [pool-16-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(109)) - s1@group-53B2CE157ED8: ConfigurationManager, init=-1: [s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0], old=null, confs=<EMPTY_MAP>
2022-07-14 02:38:45,990 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-07-14 02:38:45,992 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a738d40/s1] (custom)
2022-07-14 02:38:45,992 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-07-14 02:38:45,992 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-07-14 02:38:45,992 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-14 02:38:45,993 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-14 02:38:45,993 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a738d40/s2] (custom)
2022-07-14 02:38:45,992 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-07-14 02:38:45,994 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-07-14 02:38:45,994 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-07-14 02:38:45,994 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-07-14 02:38:45,995 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-07-14 02:38:45,995 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-07-14 02:38:45,995 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-07-14 02:38:45,995 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-07-14 02:38:45,995 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-07-14 02:38:45,997 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s2: addNew group-53B2CE157ED8:[s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0] returns group-53B2CE157ED8:java.util.concurrent.CompletableFuture@7456ccfb[Not completed]
2022-07-14 02:38:45,997 [pool-17-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(191)) - s2: new RaftServerImpl for group-53B2CE157ED8:[s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0] with BaseStateMachine:uninitialized
2022-07-14 02:38:45,997 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-07-14 02:38:45,997 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:38:45,997 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-07-14 02:38:45,997 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-14 02:38:45,997 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-14 02:38:45,997 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-07-14 02:38:45,997 [pool-17-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(109)) - s2@group-53B2CE157ED8: ConfigurationManager, init=-1: [s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0], old=null, confs=<EMPTY_MAP>
2022-07-14 02:38:45,997 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a738d40/s0/2db9b5c2-520e-48df-833f-53b2ce157ed8 does not exist. Creating ...
2022-07-14 02:38:45,998 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a738d40/s2] (custom)
2022-07-14 02:38:45,998 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-07-14 02:38:45,998 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-07-14 02:38:45,998 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a738d40/s0/2db9b5c2-520e-48df-833f-53b2ce157ed8
2022-07-14 02:38:45,998 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-07-14 02:38:45,998 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-07-14 02:38:45,998 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-07-14 02:38:45,999 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-07-14 02:38:45,999 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-07-14 02:38:45,999 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-07-14 02:38:45,999 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-07-14 02:38:45,999 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-07-14 02:38:46,000 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a738d40/s0/2db9b5c2-520e-48df-833f-53b2ce157ed8/in_use.lock acquired by nodename 16254@fv-az54-379.qczjibyfz4dularrisj3jz1gre.bx.internal.cloudapp.net
2022-07-14 02:38:46,000 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a738d40/s0/2db9b5c2-520e-48df-833f-53b2ce157ed8/current
2022-07-14 02:38:46,000 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a738d40/s0/2db9b5c2-520e-48df-833f-53b2ce157ed8/sm
2022-07-14 02:38:46,002 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a738d40/s0/2db9b5c2-520e-48df-833f-53b2ce157ed8 has been successfully formatted.
2022-07-14 02:38:46,002 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-07-14 02:38:46,002 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-07-14 02:38:46,002 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:38:46,002 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-07-14 02:38:46,002 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-14 02:38:46,002 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-07-14 02:38:46,002 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-07-14 02:38:46,002 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-53B2CE157ED8-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a738d40/s0/2db9b5c2-520e-48df-833f-53b2ce157ed8
2022-07-14 02:38:46,002 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-07-14 02:38:46,002 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-07-14 02:38:46,003 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-14 02:38:46,003 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-07-14 02:38:46,003 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-07-14 02:38:46,003 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-07-14 02:38:46,003 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-07-14 02:38:46,003 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-07-14 02:38:46,003 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-07-14 02:38:46,003 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-07-14 02:38:46,003 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-07-14 02:38:46,003 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-53B2CE157ED8-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-07-14 02:38:46,003 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-53B2CE157ED8-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-07-14 02:38:46,004 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(313)) - s0@group-53B2CE157ED8: start as a follower, conf=-1: [s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0], old=null
2022-07-14 02:38:46,004 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s0@group-53B2CE157ED8: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-07-14 02:38:46,004 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-53B2CE157ED8-FollowerState
2022-07-14 02:38:46,004 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-53B2CE157ED8,id=s0
2022-07-14 02:38:46,004 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-07-14 02:38:46,004 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-07-14 02:38:46,004 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-07-14 02:38:46,005 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s0: start RPC server
2022-07-14 02:38:46,009 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a738d40/s1/2db9b5c2-520e-48df-833f-53b2ce157ed8 does not exist. Creating ...
2022-07-14 02:38:46,010 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a738d40/s1/2db9b5c2-520e-48df-833f-53b2ce157ed8
2022-07-14 02:38:46,010 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$250/1367845902@1b80e59d] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-07-14 02:38:46,011 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a738d40/s1/2db9b5c2-520e-48df-833f-53b2ce157ed8/in_use.lock acquired by nodename 16254@fv-az54-379.qczjibyfz4dularrisj3jz1gre.bx.internal.cloudapp.net
2022-07-14 02:38:46,011 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a738d40/s1/2db9b5c2-520e-48df-833f-53b2ce157ed8/current
2022-07-14 02:38:46,011 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a738d40/s1/2db9b5c2-520e-48df-833f-53b2ce157ed8/sm
2022-07-14 02:38:46,012 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a738d40/s1/2db9b5c2-520e-48df-833f-53b2ce157ed8 has been successfully formatted.
2022-07-14 02:38:46,013 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-07-14 02:38:46,013 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-07-14 02:38:46,013 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:38:46,013 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-07-14 02:38:46,013 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-14 02:38:46,013 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-07-14 02:38:46,013 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-07-14 02:38:46,013 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-53B2CE157ED8-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a738d40/s1/2db9b5c2-520e-48df-833f-53b2ce157ed8
2022-07-14 02:38:46,013 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-07-14 02:38:46,013 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-07-14 02:38:46,013 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-14 02:38:46,013 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-07-14 02:38:46,013 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-07-14 02:38:46,013 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-07-14 02:38:46,013 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-07-14 02:38:46,014 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-07-14 02:38:46,014 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-07-14 02:38:46,014 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-07-14 02:38:46,014 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-07-14 02:38:46,014 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-53B2CE157ED8-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-07-14 02:38:46,014 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-53B2CE157ED8-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-07-14 02:38:46,014 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(313)) - s1@group-53B2CE157ED8: start as a follower, conf=-1: [s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0], old=null
2022-07-14 02:38:46,014 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-53B2CE157ED8: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-07-14 02:38:46,014 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-53B2CE157ED8-FollowerState
2022-07-14 02:38:46,015 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-53B2CE157ED8,id=s1
2022-07-14 02:38:46,015 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-07-14 02:38:46,015 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-07-14 02:38:46,015 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-07-14 02:38:46,015 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s1: start RPC server
2022-07-14 02:38:46,016 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$250/1367845902@4848200d] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-07-14 02:38:46,017 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a738d40/s2/2db9b5c2-520e-48df-833f-53b2ce157ed8 does not exist. Creating ...
2022-07-14 02:38:46,017 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a738d40/s2/2db9b5c2-520e-48df-833f-53b2ce157ed8
2022-07-14 02:38:46,018 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a738d40/s2/2db9b5c2-520e-48df-833f-53b2ce157ed8/in_use.lock acquired by nodename 16254@fv-az54-379.qczjibyfz4dularrisj3jz1gre.bx.internal.cloudapp.net
2022-07-14 02:38:46,018 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a738d40/s2/2db9b5c2-520e-48df-833f-53b2ce157ed8/current
2022-07-14 02:38:46,019 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a738d40/s2/2db9b5c2-520e-48df-833f-53b2ce157ed8/sm
2022-07-14 02:38:46,021 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a738d40/s2/2db9b5c2-520e-48df-833f-53b2ce157ed8 has been successfully formatted.
2022-07-14 02:38:46,021 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-07-14 02:38:46,021 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-07-14 02:38:46,022 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:38:46,022 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-07-14 02:38:46,022 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-14 02:38:46,022 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-07-14 02:38:46,022 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-07-14 02:38:46,022 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-53B2CE157ED8-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a738d40/s2/2db9b5c2-520e-48df-833f-53b2ce157ed8
2022-07-14 02:38:46,022 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-07-14 02:38:46,022 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-07-14 02:38:46,022 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-14 02:38:46,022 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-07-14 02:38:46,022 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-07-14 02:38:46,022 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-07-14 02:38:46,022 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-07-14 02:38:46,022 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-07-14 02:38:46,022 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-07-14 02:38:46,023 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-07-14 02:38:46,023 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-07-14 02:38:46,023 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-53B2CE157ED8-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-07-14 02:38:46,023 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-53B2CE157ED8-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-07-14 02:38:46,023 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(313)) - s2@group-53B2CE157ED8: start as a follower, conf=-1: [s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0], old=null
2022-07-14 02:38:46,023 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-53B2CE157ED8: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-07-14 02:38:46,023 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-53B2CE157ED8-FollowerState
2022-07-14 02:38:46,023 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-53B2CE157ED8,id=s2
2022-07-14 02:38:46,023 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-07-14 02:38:46,024 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-07-14 02:38:46,024 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-07-14 02:38:46,024 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s2: start RPC server
2022-07-14 02:38:46,025 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$250/1367845902@d02dea4] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-07-14 02:38:46,025 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:38:46,025 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-53B2CE157ED8:t0, leader=null, voted=, raftlog=Memoized:s0@group-53B2CE157ED8-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-53B2CE157ED8:t0, leader=null, voted=, raftlog=Memoized:s1@group-53B2CE157ED8-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-53B2CE157ED8:t0, leader=null, voted=, raftlog=Memoized:s2@group-53B2CE157ED8-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0], old=null RUNNING
2022-07-14 02:38:46,025 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-53B2CE157ED8:t0, leader=null, voted=, raftlog=Memoized:s0@group-53B2CE157ED8-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-53B2CE157ED8:t0, leader=null, voted=, raftlog=Memoized:s1@group-53B2CE157ED8-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-53B2CE157ED8:t0, leader=null, voted=, raftlog=Memoized:s2@group-53B2CE157ED8-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-53B2CE157ED8:t0, leader=null, voted=, raftlog=Memoized:s0@group-53B2CE157ED8-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-53B2CE157ED8:t0, leader=null, voted=, raftlog=Memoized:s1@group-53B2CE157ED8-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-53B2CE157ED8:t0, leader=null, voted=, raftlog=Memoized:s2@group-53B2CE157ED8-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:535)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:569)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:562)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testTransferLeaderTimeout(LeaderElectionTests.java:164)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:38:46,185 [s0@group-53B2CE157ED8-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-53B2CE157ED8-FollowerState: change to CANDIDATE, lastRpcElapsedTime:181002048ns, electionTimeout:180ms
2022-07-14 02:38:46,185 [s0@group-53B2CE157ED8-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-53B2CE157ED8-FollowerState
2022-07-14 02:38:46,185 [s0@group-53B2CE157ED8-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s0@group-53B2CE157ED8: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-07-14 02:38:46,185 [s0@group-53B2CE157ED8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:38:46,185 [s0@group-53B2CE157ED8-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-53B2CE157ED8-LeaderElection36
2022-07-14 02:38:46,187 [s2@group-53B2CE157ED8-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-53B2CE157ED8-FollowerState: change to CANDIDATE, lastRpcElapsedTime:163444586ns, electionTimeout:163ms
2022-07-14 02:38:46,187 [s2@group-53B2CE157ED8-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-53B2CE157ED8-FollowerState
2022-07-14 02:38:46,187 [s2@group-53B2CE157ED8-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-53B2CE157ED8: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-07-14 02:38:46,187 [s2@group-53B2CE157ED8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:38:46,187 [s2@group-53B2CE157ED8-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-53B2CE157ED8-LeaderElection37
2022-07-14 02:38:46,189 [s2@group-53B2CE157ED8-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-53B2CE157ED8-LeaderElection37 PRE_VOTE round 0: submit vote requests at term 0 for -1: [s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0], old=null
2022-07-14 02:38:46,190 [s0@group-53B2CE157ED8-LeaderElection36] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-53B2CE157ED8-LeaderElection36 PRE_VOTE round 0: submit vote requests at term 0 for -1: [s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0], old=null
2022-07-14 02:38:46,195 [Thread-919] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s0@group-53B2CE157ED8: receive requestVote(PRE_VOTE, s2, group-53B2CE157ED8, 0, (t:0, i:0))
2022-07-14 02:38:46,195 [Thread-919] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-53B2CE157ED8-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-07-14 02:38:46,195 [Thread-919] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s0@group-53B2CE157ED8 replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-53B2CE157ED8:t0, leader=null, voted=, raftlog=Memoized:s0@group-53B2CE157ED8-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0], old=null
2022-07-14 02:38:46,196 [s2@group-53B2CE157ED8-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-53B2CE157ED8-LeaderElection37: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-07-14 02:38:46,196 [Thread-926] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-53B2CE157ED8: receive requestVote(PRE_VOTE, s2, group-53B2CE157ED8, 0, (t:0, i:0))
2022-07-14 02:38:46,196 [Thread-926] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-53B2CE157ED8-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-07-14 02:38:46,196 [Thread-926] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-53B2CE157ED8 replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-53B2CE157ED8:t0, leader=null, voted=, raftlog=Memoized:s1@group-53B2CE157ED8-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0], old=null
2022-07-14 02:38:46,196 [Thread-926] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-53B2CE157ED8: receive requestVote(PRE_VOTE, s0, group-53B2CE157ED8, 0, (t:0, i:0))
2022-07-14 02:38:46,196 [Thread-926] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-53B2CE157ED8-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-07-14 02:38:46,196 [Thread-926] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-53B2CE157ED8 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-53B2CE157ED8:t0, leader=null, voted=, raftlog=Memoized:s1@group-53B2CE157ED8-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0], old=null
2022-07-14 02:38:46,196 [s2@group-53B2CE157ED8-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:OK-t0
2022-07-14 02:38:46,197 [s2@group-53B2CE157ED8-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-53B2CE157ED8-LeaderElection37 PRE_VOTE round 0: result PASSED
2022-07-14 02:38:46,197 [s0@group-53B2CE157ED8-LeaderElection36] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-53B2CE157ED8-LeaderElection36: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-07-14 02:38:46,197 [s0@group-53B2CE157ED8-LeaderElection36] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t0
2022-07-14 02:38:46,197 [s0@group-53B2CE157ED8-LeaderElection36] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-53B2CE157ED8-LeaderElection36 PRE_VOTE round 0: result PASSED
2022-07-14 02:38:46,198 [Thread-933] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-53B2CE157ED8: receive requestVote(PRE_VOTE, s0, group-53B2CE157ED8, 0, (t:0, i:0))
2022-07-14 02:38:46,201 [s2@group-53B2CE157ED8-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-53B2CE157ED8-LeaderElection37 ELECTION round 0: submit vote requests at term 1 for -1: [s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0], old=null
2022-07-14 02:38:46,201 [s0@group-53B2CE157ED8-LeaderElection36] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-53B2CE157ED8-LeaderElection36 ELECTION round 0: submit vote requests at term 1 for -1: [s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0], old=null
2022-07-14 02:38:46,201 [Thread-933] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-53B2CE157ED8-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-07-14 02:38:46,201 [Thread-933] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-53B2CE157ED8 replies to PRE_VOTE vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-53B2CE157ED8:t1, leader=null, voted=s2, raftlog=Memoized:s2@group-53B2CE157ED8-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0], old=null
2022-07-14 02:38:46,202 [Thread-920] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s0@group-53B2CE157ED8: receive requestVote(ELECTION, s2, group-53B2CE157ED8, 1, (t:0, i:0))
2022-07-14 02:38:46,202 [Thread-920] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-53B2CE157ED8-CANDIDATE: reject ELECTION from s2: already has voted for s0 at current term 1
2022-07-14 02:38:46,202 [Thread-920] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s0@group-53B2CE157ED8 replies to ELECTION vote request: s2<-s0#0:FAIL-t1. Peer's state: s0@group-53B2CE157ED8:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-53B2CE157ED8-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0], old=null
2022-07-14 02:38:46,202 [Thread-928] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-53B2CE157ED8: receive requestVote(ELECTION, s0, group-53B2CE157ED8, 1, (t:0, i:0))
2022-07-14 02:38:46,205 [Thread-934] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-53B2CE157ED8: receive requestVote(ELECTION, s0, group-53B2CE157ED8, 1, (t:0, i:0))
2022-07-14 02:38:46,205 [Thread-934] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-53B2CE157ED8-CANDIDATE: reject ELECTION from s0: already has voted for s2 at current term 1
2022-07-14 02:38:46,205 [Thread-934] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-53B2CE157ED8 replies to ELECTION vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-53B2CE157ED8:t1, leader=null, voted=s2, raftlog=Memoized:s2@group-53B2CE157ED8-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0], old=null
2022-07-14 02:38:46,205 [Thread-928] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-53B2CE157ED8-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-07-14 02:38:46,205 [Thread-928] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-53B2CE157ED8: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-07-14 02:38:46,205 [Thread-928] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-53B2CE157ED8-FollowerState
2022-07-14 02:38:46,205 [Thread-928] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-53B2CE157ED8-FollowerState
2022-07-14 02:38:46,205 [Thread-926] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-53B2CE157ED8: receive requestVote(ELECTION, s2, group-53B2CE157ED8, 1, (t:0, i:0))
2022-07-14 02:38:46,206 [s1@group-53B2CE157ED8-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-53B2CE157ED8-FollowerState was interrupted
2022-07-14 02:38:46,208 [Thread-928] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-53B2CE157ED8 replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-53B2CE157ED8:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-53B2CE157ED8-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0], old=null
2022-07-14 02:38:46,208 [Thread-926] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-53B2CE157ED8-FOLLOWER: reject ELECTION from s2: already has voted for s0 at current term 1
2022-07-14 02:38:46,208 [Thread-926] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-53B2CE157ED8 replies to ELECTION vote request: s2<-s1#0:FAIL-t1. Peer's state: s1@group-53B2CE157ED8:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-53B2CE157ED8-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0], old=null
2022-07-14 02:38:46,208 [s0@group-53B2CE157ED8-LeaderElection36] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-53B2CE157ED8-LeaderElection36: ELECTION PASSED received 2 response(s) and 0 exception(s):
2022-07-14 02:38:46,208 [s2@group-53B2CE157ED8-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-53B2CE157ED8-LeaderElection37: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2022-07-14 02:38:46,208 [s0@group-53B2CE157ED8-LeaderElection36] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t1
2022-07-14 02:38:46,208 [s0@group-53B2CE157ED8-LeaderElection36] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s2#0:FAIL-t1
2022-07-14 02:38:46,208 [s0@group-53B2CE157ED8-LeaderElection36] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-53B2CE157ED8-LeaderElection36 ELECTION round 0: result PASSED
2022-07-14 02:38:46,208 [s0@group-53B2CE157ED8-LeaderElection36] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-53B2CE157ED8-LeaderElection36
2022-07-14 02:38:46,208 [s0@group-53B2CE157ED8-LeaderElection36] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s0@group-53B2CE157ED8: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-07-14 02:38:46,208 [s0@group-53B2CE157ED8-LeaderElection36] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s0@group-53B2CE157ED8: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 222ms
2022-07-14 02:38:46,209 [s0@group-53B2CE157ED8-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-07-14 02:38:46,208 [s2@group-53B2CE157ED8-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:FAIL-t1
2022-07-14 02:38:46,209 [s2@group-53B2CE157ED8-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s2<-s1#0:FAIL-t1
2022-07-14 02:38:46,209 [s2@group-53B2CE157ED8-LeaderElection37] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-53B2CE157ED8-LeaderElection37 ELECTION round 0: result REJECTED
2022-07-14 02:38:46,209 [s2@group-53B2CE157ED8-LeaderElection37] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-53B2CE157ED8: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-07-14 02:38:46,209 [s0@group-53B2CE157ED8-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-14 02:38:46,209 [s0@group-53B2CE157ED8-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-07-14 02:38:46,209 [s0@group-53B2CE157ED8-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-07-14 02:38:46,209 [s0@group-53B2CE157ED8-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-07-14 02:38:46,209 [s0@group-53B2CE157ED8-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-07-14 02:38:46,209 [s0@group-53B2CE157ED8-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-14 02:38:46,209 [s0@group-53B2CE157ED8-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-07-14 02:38:46,210 [s0@group-53B2CE157ED8-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-14 02:38:46,210 [s0@group-53B2CE157ED8-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:38:46,210 [s0@group-53B2CE157ED8-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-14 02:38:46,210 [s0@group-53B2CE157ED8-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-14 02:38:46,210 [s0@group-53B2CE157ED8-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:38:46,210 [s0@group-53B2CE157ED8-LeaderElection36] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-14 02:38:46,210 [s0@group-53B2CE157ED8-LeaderElection36] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-53B2CE157ED8-LeaderStateImpl
2022-07-14 02:38:46,211 [s0@group-53B2CE157ED8-LeaderElection36] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s0@group-53B2CE157ED8-SegmentedRaftLogWorker: Starting segment from index:0
2022-07-14 02:38:46,209 [s2@group-53B2CE157ED8-LeaderElection37] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-53B2CE157ED8-LeaderElection37
2022-07-14 02:38:46,212 [Thread-927] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s1@group-53B2CE157ED8: change Leader from null to s0 at term 1 for appendEntries, leader elected after 217ms
2022-07-14 02:38:46,215 [s2@group-53B2CE157ED8-LeaderElection37] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-53B2CE157ED8-FollowerState
2022-07-14 02:38:46,216 [s0@group-53B2CE157ED8-LeaderElection36] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s0@group-53B2CE157ED8: set configuration 0: [s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0], old=null
2022-07-14 02:38:46,216 [Thread-935] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s2@group-53B2CE157ED8: change Leader from null to s0 at term 1 for appendEntries, leader elected after 218ms
2022-07-14 02:38:46,217 [Thread-928] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-53B2CE157ED8: receive appendEntries(s0, 1, null, -1, true, commits[s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-07-14 02:38:46,217 [Thread-933] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-53B2CE157ED8: receive appendEntries(s0, 1, null, -1, true, commits[s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-07-14 02:38:46,218 [Thread-933] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s2@group-53B2CE157ED8: set configuration 0: [s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0], old=null
2022-07-14 02:38:46,218 [Thread-928] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s1@group-53B2CE157ED8: set configuration 0: [s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0], old=null
2022-07-14 02:38:46,218 [Thread-933] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s2@group-53B2CE157ED8-SegmentedRaftLogWorker: Starting segment from index:0
2022-07-14 02:38:46,218 [Thread-928] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s1@group-53B2CE157ED8-SegmentedRaftLogWorker: Starting segment from index:0
2022-07-14 02:38:46,229 [s0@group-53B2CE157ED8-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-53B2CE157ED8-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a738d40/s0/2db9b5c2-520e-48df-833f-53b2ce157ed8/current/log_inprogress_0
2022-07-14 02:38:46,237 [s2@group-53B2CE157ED8-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-53B2CE157ED8-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a738d40/s2/2db9b5c2-520e-48df-833f-53b2ce157ed8/current/log_inprogress_0
2022-07-14 02:38:46,237 [s1@group-53B2CE157ED8-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-53B2CE157ED8-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a738d40/s1/2db9b5c2-520e-48df-833f-53b2ce157ed8/current/log_inprogress_0
2022-07-14 02:38:46,238 [Thread-973] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-53B2CE157ED8: succeeded to handle AppendEntries. Reply: s0<-s1#527:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1
2022-07-14 02:38:46,238 [Thread-974] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-53B2CE157ED8: succeeded to handle AppendEntries. Reply: s0<-s2#528:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1
2022-07-14 02:38:46,476 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-53B2CE157ED8:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-53B2CE157ED8-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-53B2CE157ED8:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-53B2CE157ED8-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-53B2CE157ED8:t1, leader=s0, voted=s2, raftlog=Memoized:s2@group-53B2CE157ED8-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0], old=null RUNNING
2022-07-14 02:38:46,476 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-14 02:38:46,481 [s0-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setConfigurationAsync(1083)) - s0@group-53B2CE157ED8: receive setConfiguration SetConfigurationRequest:client-6244C2B29016->s0@group-53B2CE157ED8, cid=541, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s0|priority:1, s1|priority:2, s2|priority:1], listeners:[]
2022-07-14 02:38:46,481 [s0-server-thread1] INFO  server.RaftServer$Division (LeaderStateImpl.java:startSetConfiguration(368)) - s0@group-53B2CE157ED8-LeaderStateImpl: startSetConfiguration SetConfigurationRequest:client-6244C2B29016->s0@group-53B2CE157ED8, cid=541, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s0|priority:1, s1|priority:2, s2|priority:1], listeners:[]
2022-07-14 02:38:46,483 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s0@group-53B2CE157ED8: set configuration 1: [s0|priority:1, s1|priority:2, s2|priority:1], old=[s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0]
2022-07-14 02:38:46,484 [Thread-926] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s1: Block request from s0
2022-07-14 02:38:46,484 [Thread-934] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-53B2CE157ED8: receive appendEntries(s0, 1, (t:1, i:0), 0, true, commits[s0:c0, s1:c0, s2:c0], entries: (t:1, i:1), CONFIGURATIONENTRY
2022-07-14 02:38:46,484 [Thread-934] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s2@group-53B2CE157ED8: set configuration 1: [s0|rpc:|dataStream:|priority:1, s1|rpc:|dataStream:|priority:2, s2|rpc:|dataStream:|priority:1], old=[s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0]
2022-07-14 02:38:46,485 [Thread-987] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-53B2CE157ED8: succeeded to handle AppendEntries. Reply: s0<-s2#542:OK-t1,SUCCESS,nextIndex=2,followerCommit=0
2022-07-14 02:38:46,486 [s0@group-53B2CE157ED8-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s0@group-53B2CE157ED8: set configuration 3: [s0|priority:1, s1|priority:2, s2|priority:1], old=null
2022-07-14 02:38:46,487 [Thread-935] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-53B2CE157ED8: receive appendEntries(s0, 1, (t:1, i:1), 1, true, commits[s0:c1, s1:c0, s2:c0], entries: [(t:1, i:2), METADATAENTRY(c:1), (t:1, i:3), CONFIGURATIONENTRY]
2022-07-14 02:38:46,487 [Thread-935] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s2@group-53B2CE157ED8: set configuration 3: [s0|rpc:|dataStream:|priority:1, s1|rpc:|dataStream:|priority:2, s2|rpc:|dataStream:|priority:1], old=null
2022-07-14 02:38:46,489 [Thread-988] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-53B2CE157ED8: succeeded to handle AppendEntries. Reply: s0<-s2#544:OK-t1,SUCCESS,nextIndex=4,followerCommit=1
2022-07-14 02:38:46,492 [Thread-933] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-53B2CE157ED8: receive appendEntries(s0, 1, (t:1, i:3), 3, true, commits[s0:c3, s1:c0, s2:c1], entries: (t:1, i:4), METADATAENTRY(c:3)
2022-07-14 02:38:46,496 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(794)) - s0@group-53B2CE157ED8: receive client request(RaftClientRequest:client-6244C2B29016->s0@group-53B2CE157ED8, cid=545, seq=0, RW, message)
2022-07-14 02:38:46,497 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(401)) - s0@group-53B2CE157ED8-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-6244C2B29016->s0@group-53B2CE157ED8, cid=545, seq=0, RW, message, entry=(t:1, i:5), STATEMACHINELOGENTRY, 545@client-6244C2B29016
2022-07-14 02:38:46,497 [Thread-993] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-53B2CE157ED8: succeeded to handle AppendEntries. Reply: s0<-s2#547:OK-t1,SUCCESS,nextIndex=5,followerCommit=3
2022-07-14 02:38:46,498 [s0-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:transferLeadershipAsync(975)) - s0@group-53B2CE157ED8: receive transferLeadership TransferLeadershipRequest:client-6244C2B29016->s0@group-53B2CE157ED8, cid=546, seq=0, RO, null
2022-07-14 02:38:46,498 [Thread-934] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-53B2CE157ED8: receive appendEntries(s0, 1, (t:1, i:4), 3, true, commits[s0:c3, s1:c0, s2:c3], entries: (t:1, i:5), STATEMACHINELOGENTRY, 545@client-6244C2B29016
2022-07-14 02:38:46,505 [Thread-995] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-53B2CE157ED8: succeeded to handle AppendEntries. Reply: s0<-s2#549:OK-t1,SUCCESS,nextIndex=6,followerCommit=3
2022-07-14 02:38:46,506 [Thread-935] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-53B2CE157ED8: receive appendEntries(s0, 1, (t:1, i:5), 5, true, commits[s0:c5, s1:c0, s2:c3], entries: (t:1, i:6), METADATAENTRY(c:5)
2022-07-14 02:38:46,509 [Thread-997] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-53B2CE157ED8: succeeded to handle AppendEntries. Reply: s0<-s2#550:OK-t1,SUCCESS,nextIndex=7,followerCommit=5
2022-07-14 02:38:46,944 [s1@group-53B2CE157ED8-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-53B2CE157ED8-FollowerState: change to CANDIDATE, lastRpcElapsedTime:477107633ns, electionTimeout:269ms
2022-07-14 02:38:46,945 [s1@group-53B2CE157ED8-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-53B2CE157ED8-FollowerState
2022-07-14 02:38:46,945 [s1@group-53B2CE157ED8-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-53B2CE157ED8: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-07-14 02:38:46,945 [s1@group-53B2CE157ED8-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:38:46,945 [s1@group-53B2CE157ED8-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-53B2CE157ED8-LeaderElection38
2022-07-14 02:38:46,945 [s1@group-53B2CE157ED8-LeaderElection38] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s1@group-53B2CE157ED8: change Leader from s0 to null at term 1 for PRE_VOTE
2022-07-14 02:38:46,946 [s1@group-53B2CE157ED8-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-53B2CE157ED8-LeaderElection38 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0], old=null
2022-07-14 02:38:47,124 [s1@group-53B2CE157ED8-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-53B2CE157ED8-LeaderElection38: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-07-14 02:38:47,124 [s1@group-53B2CE157ED8-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-53B2CE157ED8-LeaderElection38 PRE_VOTE round 0: result TIMEOUT
2022-07-14 02:38:47,124 [s1@group-53B2CE157ED8-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-53B2CE157ED8-LeaderElection38 PRE_VOTE round 1: submit vote requests at term 1 for 0: [s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0], old=null
2022-07-14 02:38:47,346 [s1@group-53B2CE157ED8-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-53B2CE157ED8-LeaderElection38: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-07-14 02:38:47,346 [s1@group-53B2CE157ED8-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-53B2CE157ED8-LeaderElection38 PRE_VOTE round 1: result TIMEOUT
2022-07-14 02:38:47,347 [s1@group-53B2CE157ED8-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-53B2CE157ED8-LeaderElection38 PRE_VOTE round 2: submit vote requests at term 1 for 0: [s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0], old=null
2022-07-14 02:38:47,593 [s1@group-53B2CE157ED8-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-53B2CE157ED8-LeaderElection38: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-07-14 02:38:47,593 [s1@group-53B2CE157ED8-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-53B2CE157ED8-LeaderElection38 PRE_VOTE round 2: result TIMEOUT
2022-07-14 02:38:47,593 [s1@group-53B2CE157ED8-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-53B2CE157ED8-LeaderElection38 PRE_VOTE round 3: submit vote requests at term 1 for 0: [s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0], old=null
2022-07-14 02:38:47,809 [s1@group-53B2CE157ED8-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-53B2CE157ED8-LeaderElection38: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-07-14 02:38:47,809 [s1@group-53B2CE157ED8-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-53B2CE157ED8-LeaderElection38 PRE_VOTE round 3: result TIMEOUT
2022-07-14 02:38:47,809 [s1@group-53B2CE157ED8-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-53B2CE157ED8-LeaderElection38 PRE_VOTE round 4: submit vote requests at term 1 for 0: [s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0], old=null
2022-07-14 02:38:47,982 [s1@group-53B2CE157ED8-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-53B2CE157ED8-LeaderElection38: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-07-14 02:38:47,982 [s1@group-53B2CE157ED8-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-53B2CE157ED8-LeaderElection38 PRE_VOTE round 4: result TIMEOUT
2022-07-14 02:38:47,982 [s1@group-53B2CE157ED8-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-53B2CE157ED8-LeaderElection38 PRE_VOTE round 5: submit vote requests at term 1 for 0: [s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0], old=null
2022-07-14 02:38:48,213 [s1@group-53B2CE157ED8-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-53B2CE157ED8-LeaderElection38: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-07-14 02:38:48,213 [s1@group-53B2CE157ED8-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-53B2CE157ED8-LeaderElection38 PRE_VOTE round 5: result TIMEOUT
2022-07-14 02:38:48,214 [s1@group-53B2CE157ED8-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-53B2CE157ED8-LeaderElection38 PRE_VOTE round 6: submit vote requests at term 1 for 0: [s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0], old=null
2022-07-14 02:38:48,390 [s1@group-53B2CE157ED8-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-53B2CE157ED8-LeaderElection38: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-07-14 02:38:48,391 [s1@group-53B2CE157ED8-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-53B2CE157ED8-LeaderElection38 PRE_VOTE round 6: result TIMEOUT
2022-07-14 02:38:48,391 [s1@group-53B2CE157ED8-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-53B2CE157ED8-LeaderElection38 PRE_VOTE round 7: submit vote requests at term 1 for 0: [s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0], old=null
2022-07-14 02:38:48,560 [s1@group-53B2CE157ED8-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-53B2CE157ED8-LeaderElection38: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-07-14 02:38:48,561 [s1@group-53B2CE157ED8-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-53B2CE157ED8-LeaderElection38 PRE_VOTE round 7: result TIMEOUT
2022-07-14 02:38:48,561 [s1@group-53B2CE157ED8-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-53B2CE157ED8-LeaderElection38 PRE_VOTE round 8: submit vote requests at term 1 for 0: [s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0], old=null
2022-07-14 02:38:48,743 [s1@group-53B2CE157ED8-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-53B2CE157ED8-LeaderElection38: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-07-14 02:38:48,743 [s1@group-53B2CE157ED8-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-53B2CE157ED8-LeaderElection38 PRE_VOTE round 8: result TIMEOUT
2022-07-14 02:38:48,743 [s1@group-53B2CE157ED8-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-53B2CE157ED8-LeaderElection38 PRE_VOTE round 9: submit vote requests at term 1 for 0: [s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0], old=null
2022-07-14 02:38:48,945 [s1@group-53B2CE157ED8-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-53B2CE157ED8-LeaderElection38: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-07-14 02:38:48,945 [s1@group-53B2CE157ED8-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-53B2CE157ED8-LeaderElection38 PRE_VOTE round 9: result TIMEOUT
2022-07-14 02:38:48,945 [s1@group-53B2CE157ED8-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-53B2CE157ED8-LeaderElection38 PRE_VOTE round 10: submit vote requests at term 1 for 0: [s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0], old=null
2022-07-14 02:38:49,134 [s1@group-53B2CE157ED8-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-53B2CE157ED8-LeaderElection38: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-07-14 02:38:49,134 [s1@group-53B2CE157ED8-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-53B2CE157ED8-LeaderElection38 PRE_VOTE round 10: result TIMEOUT
2022-07-14 02:38:49,134 [s1@group-53B2CE157ED8-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-53B2CE157ED8-LeaderElection38 PRE_VOTE round 11: submit vote requests at term 1 for 0: [s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0], old=null
2022-07-14 02:38:49,304 [s1@group-53B2CE157ED8-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-53B2CE157ED8-LeaderElection38: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-07-14 02:38:49,304 [s1@group-53B2CE157ED8-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-53B2CE157ED8-LeaderElection38 PRE_VOTE round 11: result TIMEOUT
2022-07-14 02:38:49,304 [s1@group-53B2CE157ED8-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-53B2CE157ED8-LeaderElection38 PRE_VOTE round 12: submit vote requests at term 1 for 0: [s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0], old=null
2022-07-14 02:38:49,484 [s0@group-53B2CE157ED8->s1-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(76)) - s0@group-53B2CE157ED8->s1-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: Timeout while waiting for reply of request org.apache.ratis.server.simulation.RaftServerRequest@3e784b27
	at org.apache.ratis.server.simulation.SimulatedRequestReply$EventQueue.request(SimulatedRequestReply.java:78)
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:121)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:112)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:66)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:142)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:77)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:38:49,507 [Thread-990] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(366)) - client-6244C2B29016: suggested new leader: null. Failed TransferLeadershipRequest:client-6244C2B29016->s0@group-53B2CE157ED8, cid=546, seq=0, RO, null with {}
java.io.IOException: Timeout while waiting for reply of request TransferLeadershipRequest:client-6244C2B29016->s0@group-53B2CE157ED8, cid=546, seq=0, RO, null
	at org.apache.ratis.server.simulation.SimulatedRequestReply$EventQueue.request(SimulatedRequestReply.java:78)
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:121)
	at org.apache.ratis.server.simulation.SimulatedClientRpc.sendRequest(SimulatedClientRpc.java:27)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequest(BlockingImpl.java:132)
	at org.apache.ratis.client.impl.BlockingImpl.sendRequestWithRetry(BlockingImpl.java:98)
	at org.apache.ratis.client.impl.AdminImpl.transferLeadership(AdminImpl.java:53)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testTransferLeaderTimeout$1(LeaderElectionTests.java:183)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:38:49,509 [Thread-990] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(385)) - client-6244C2B29016: oldLeader=s0,  curLeader=s0, newLeader=s1
2022-07-14 02:38:49,509 [Thread-990] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(391)) - group-53B2CE157ED8 client-6244C2B29016: client change Leader from s0 to s1 ex=java.io.IOException
2022-07-14 02:38:49,510 [Thread-927] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s1: Block request from s0
2022-07-14 02:38:49,590 [s1@group-53B2CE157ED8-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-53B2CE157ED8-LeaderElection38: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-07-14 02:38:49,590 [s1@group-53B2CE157ED8-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-53B2CE157ED8-LeaderElection38 PRE_VOTE round 12: result TIMEOUT
2022-07-14 02:38:49,590 [s1@group-53B2CE157ED8-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-53B2CE157ED8-LeaderElection38 PRE_VOTE round 13: submit vote requests at term 1 for 0: [s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0], old=null
2022-07-14 02:38:49,611 [s1-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:transferLeadershipAsync(975)) - s1@group-53B2CE157ED8: receive transferLeadership TransferLeadershipRequest:client-6244C2B29016->s1@group-53B2CE157ED8, cid=546, seq=0, RO, null
2022-07-14 02:38:49,612 [Thread-990] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(366)) - client-6244C2B29016: suggested new leader: null. Failed TransferLeadershipRequest:client-6244C2B29016->s1@group-53B2CE157ED8, cid=546, seq=0, RO, null with {}
org.apache.ratis.protocol.exceptions.NotLeaderException: Server s1@group-53B2CE157ED8 is not the leader
	at org.apache.ratis.server.impl.RaftServerImpl.generateNotLeaderException(RaftServerImpl.java:699)
	at org.apache.ratis.server.impl.RaftServerImpl.checkLeaderState(RaftServerImpl.java:664)
	at org.apache.ratis.server.impl.RaftServerImpl.transferLeadershipAsync(RaftServerImpl.java:980)
	at org.apache.ratis.server.impl.RaftServerProxy.lambda$null$23(RaftServerProxy.java:605)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:115)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitServerRequestAsync$11(RaftServerImpl.java:780)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:38:49,613 [Thread-990] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(385)) - client-6244C2B29016: oldLeader=s1,  curLeader=s1, newLeader=s0
2022-07-14 02:38:49,613 [Thread-990] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(391)) - group-53B2CE157ED8 client-6244C2B29016: client change Leader from s1 to s0 ex=org.apache.ratis.protocol.exceptions.NotLeaderException
2022-07-14 02:38:49,713 [s0-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:transferLeadershipAsync(975)) - s0@group-53B2CE157ED8: receive transferLeadership TransferLeadershipRequest:client-6244C2B29016->s0@group-53B2CE157ED8, cid=546, seq=0, RO, null
2022-07-14 02:38:49,776 [s1@group-53B2CE157ED8-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-53B2CE157ED8-LeaderElection38: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-07-14 02:38:49,776 [s1@group-53B2CE157ED8-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-53B2CE157ED8-LeaderElection38 PRE_VOTE round 13: result TIMEOUT
2022-07-14 02:38:49,776 [s1@group-53B2CE157ED8-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-53B2CE157ED8-LeaderElection38 PRE_VOTE round 14: submit vote requests at term 1 for 0: [s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0], old=null
2022-07-14 02:38:50,021 [s1@group-53B2CE157ED8-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-53B2CE157ED8-LeaderElection38: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-07-14 02:38:50,021 [s1@group-53B2CE157ED8-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-53B2CE157ED8-LeaderElection38 PRE_VOTE round 14: result TIMEOUT
2022-07-14 02:38:50,021 [s1@group-53B2CE157ED8-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-53B2CE157ED8-LeaderElection38 PRE_VOTE round 15: submit vote requests at term 1 for 0: [s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0], old=null
2022-07-14 02:38:50,173 [s1@group-53B2CE157ED8-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-53B2CE157ED8-LeaderElection38: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-07-14 02:38:50,173 [s1@group-53B2CE157ED8-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-53B2CE157ED8-LeaderElection38 PRE_VOTE round 15: result TIMEOUT
2022-07-14 02:38:50,173 [s1@group-53B2CE157ED8-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-53B2CE157ED8-LeaderElection38 PRE_VOTE round 16: submit vote requests at term 1 for 0: [s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0], old=null
2022-07-14 02:38:50,373 [s1@group-53B2CE157ED8-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-53B2CE157ED8-LeaderElection38: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-07-14 02:38:50,373 [s1@group-53B2CE157ED8-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-53B2CE157ED8-LeaderElection38 PRE_VOTE round 16: result TIMEOUT
2022-07-14 02:38:50,373 [s1@group-53B2CE157ED8-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-53B2CE157ED8-LeaderElection38 PRE_VOTE round 17: submit vote requests at term 1 for 0: [s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0], old=null
2022-07-14 02:38:50,566 [s1@group-53B2CE157ED8-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-53B2CE157ED8-LeaderElection38: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-07-14 02:38:50,566 [s1@group-53B2CE157ED8-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-53B2CE157ED8-LeaderElection38 PRE_VOTE round 17: result TIMEOUT
2022-07-14 02:38:50,566 [s1@group-53B2CE157ED8-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-53B2CE157ED8-LeaderElection38 PRE_VOTE round 18: submit vote requests at term 1 for 0: [s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0], old=null
2022-07-14 02:38:50,835 [s1@group-53B2CE157ED8-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-53B2CE157ED8-LeaderElection38: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-07-14 02:38:50,835 [s1@group-53B2CE157ED8-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-53B2CE157ED8-LeaderElection38 PRE_VOTE round 18: result TIMEOUT
2022-07-14 02:38:50,835 [s1@group-53B2CE157ED8-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-53B2CE157ED8-LeaderElection38 PRE_VOTE round 19: submit vote requests at term 1 for 0: [s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0], old=null
2022-07-14 02:38:51,090 [s1@group-53B2CE157ED8-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-53B2CE157ED8-LeaderElection38: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-07-14 02:38:51,090 [s1@group-53B2CE157ED8-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-53B2CE157ED8-LeaderElection38 PRE_VOTE round 19: result TIMEOUT
2022-07-14 02:38:51,090 [s1@group-53B2CE157ED8-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-53B2CE157ED8-LeaderElection38 PRE_VOTE round 20: submit vote requests at term 1 for 0: [s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0], old=null
2022-07-14 02:38:51,284 [s1@group-53B2CE157ED8-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-53B2CE157ED8-LeaderElection38: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-07-14 02:38:51,284 [s1@group-53B2CE157ED8-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-53B2CE157ED8-LeaderElection38 PRE_VOTE round 20: result TIMEOUT
2022-07-14 02:38:51,284 [s1@group-53B2CE157ED8-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-53B2CE157ED8-LeaderElection38 PRE_VOTE round 21: submit vote requests at term 1 for 0: [s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0], old=null
2022-07-14 02:38:51,502 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(794)) - s0@group-53B2CE157ED8: receive client request(RaftClientRequest:client-6244C2B29016->s0@group-53B2CE157ED8, cid=727, seq=0, RW, message)
2022-07-14 02:38:51,503 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(401)) - s0@group-53B2CE157ED8-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-6244C2B29016->s0@group-53B2CE157ED8, cid=727, seq=0, RW, message, entry=(t:1, i:7), STATEMACHINELOGENTRY, 727@client-6244C2B29016
2022-07-14 02:38:51,504 [Thread-933] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-53B2CE157ED8: receive appendEntries(s0, 1, (t:1, i:6), 6, true, commits[s0:c6, s1:c0, s2:c6], entries: (t:1, i:7), STATEMACHINELOGENTRY, 727@client-6244C2B29016
2022-07-14 02:38:51,505 [Thread-1222] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-53B2CE157ED8: succeeded to handle AppendEntries. Reply: s0<-s2#728:OK-t1,SUCCESS,nextIndex=8,followerCommit=6
2022-07-14 02:38:51,506 [Thread-934] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-53B2CE157ED8: receive appendEntries(s0, 1, (t:1, i:7), 7, true, commits[s0:c7, s1:c0, s2:c6], entries: (t:1, i:8), METADATAENTRY(c:7)
2022-07-14 02:38:51,506 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(779)) - ************************************************************** 
2022-07-14 02:38:51,506 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(780)) - *** 
2022-07-14 02:38:51,506 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(781)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-07-14 02:38:51,506 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(782)) - *** 
2022-07-14 02:38:51,506 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(783)) - ************************************************************** 
2022-07-14 02:38:51,506 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(784)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-53B2CE157ED8:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-53B2CE157ED8-SegmentedRaftLog:OPENED:c7, conf=3: [s0|priority:1, s1|priority:2, s2|priority:1], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-53B2CE157ED8:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-53B2CE157ED8-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-53B2CE157ED8:t1, leader=s0, voted=s2, raftlog=Memoized:s2@group-53B2CE157ED8-SegmentedRaftLog:OPENED:c6, conf=3: [s0|rpc:|dataStream:|priority:1, s1|rpc:|dataStream:|priority:2, s2|rpc:|dataStream:|priority:1], old=null RUNNING
2022-07-14 02:38:51,507 [java.util.concurrent.ThreadPoolExecutor$Worker@b169f72[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s0: close
2022-07-14 02:38:51,508 [java.util.concurrent.ThreadPoolExecutor$Worker@b169f72[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(437)) - s0@group-53B2CE157ED8: shutdown
2022-07-14 02:38:51,508 [Thread-1226] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-53B2CE157ED8: succeeded to handle AppendEntries. Reply: s0<-s2#729:OK-t1,SUCCESS,nextIndex=9,followerCommit=7
2022-07-14 02:38:51,508 [java.util.concurrent.ThreadPoolExecutor$Worker@6e8b1f78[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s1: close
2022-07-14 02:38:51,508 [java.util.concurrent.ThreadPoolExecutor$Worker@77fe647b[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s2: close
2022-07-14 02:38:51,508 [java.util.concurrent.ThreadPoolExecutor$Worker@b169f72[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-53B2CE157ED8,id=s0
2022-07-14 02:38:51,510 [java.util.concurrent.ThreadPoolExecutor$Worker@b169f72[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-53B2CE157ED8-LeaderStateImpl
2022-07-14 02:38:51,510 [java.util.concurrent.ThreadPoolExecutor$Worker@77fe647b[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(437)) - s2@group-53B2CE157ED8: shutdown
2022-07-14 02:38:51,510 [s0@group-53B2CE157ED8->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s0@group-53B2CE157ED8->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-07-14 02:38:51,510 [java.util.concurrent.ThreadPoolExecutor$Worker@b169f72[State = -1, empty queue]] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-53B2CE157ED8-PendingRequests: sendNotLeaderResponses
2022-07-14 02:38:51,509 [java.util.concurrent.ThreadPoolExecutor$Worker@6e8b1f78[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(437)) - s1@group-53B2CE157ED8: shutdown
2022-07-14 02:38:51,511 [java.util.concurrent.ThreadPoolExecutor$Worker@6e8b1f78[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-53B2CE157ED8,id=s1
2022-07-14 02:38:51,511 [java.util.concurrent.ThreadPoolExecutor$Worker@6e8b1f78[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-53B2CE157ED8-LeaderElection38
2022-07-14 02:38:51,511 [java.util.concurrent.ThreadPoolExecutor$Worker@6e8b1f78[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-53B2CE157ED8-StateMachineUpdater: set stopIndex = 0
2022-07-14 02:38:51,510 [java.util.concurrent.ThreadPoolExecutor$Worker@77fe647b[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-53B2CE157ED8,id=s2
2022-07-14 02:38:51,512 [java.util.concurrent.ThreadPoolExecutor$Worker@77fe647b[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-53B2CE157ED8-FollowerState
2022-07-14 02:38:51,510 [s0@group-53B2CE157ED8->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s0@group-53B2CE157ED8->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-07-14 02:38:51,512 [s2@group-53B2CE157ED8-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-53B2CE157ED8-FollowerState was interrupted
2022-07-14 02:38:51,512 [java.util.concurrent.ThreadPoolExecutor$Worker@6e8b1f78[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(456)) - s1@group-53B2CE157ED8: closes. applyIndex: 0
2022-07-14 02:38:51,512 [java.util.concurrent.ThreadPoolExecutor$Worker@b169f72[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-53B2CE157ED8-StateMachineUpdater: set stopIndex = 8
2022-07-14 02:38:51,513 [java.util.concurrent.ThreadPoolExecutor$Worker@b169f72[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(456)) - s0@group-53B2CE157ED8: closes. applyIndex: 8
2022-07-14 02:38:51,513 [s1@group-53B2CE157ED8-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s1@group-53B2CE157ED8-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-07-14 02:38:51,513 [s0@group-53B2CE157ED8-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s0@group-53B2CE157ED8-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-07-14 02:38:51,514 [java.util.concurrent.ThreadPoolExecutor$Worker@77fe647b[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-53B2CE157ED8-StateMachineUpdater: set stopIndex = 7
2022-07-14 02:38:51,514 [java.util.concurrent.ThreadPoolExecutor$Worker@b169f72[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s0@group-53B2CE157ED8-SegmentedRaftLogWorker close()
2022-07-14 02:38:51,515 [java.util.concurrent.ThreadPoolExecutor$Worker@77fe647b[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(456)) - s2@group-53B2CE157ED8: closes. applyIndex: 7
2022-07-14 02:38:51,516 [s2@group-53B2CE157ED8-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s2@group-53B2CE157ED8-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-07-14 02:38:51,516 [Thread-923] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:51,516 [Thread-924] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:51,516 [Thread-922] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:51,519 [Thread-919] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:51,519 [Thread-920] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:51,519 [Thread-921] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:51,519 [java.util.concurrent.ThreadPoolExecutor$Worker@6e8b1f78[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s1@group-53B2CE157ED8-SegmentedRaftLogWorker close()
2022-07-14 02:38:51,519 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$250/1367845902@1b80e59d] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-07-14 02:38:51,521 [java.util.concurrent.ThreadPoolExecutor$Worker@77fe647b[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s2@group-53B2CE157ED8-SegmentedRaftLogWorker close()
2022-07-14 02:38:51,521 [Thread-929] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:51,521 [Thread-930] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:51,521 [Thread-931] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:51,521 [Thread-928] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:51,521 [Thread-927] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s1: unBlock request from s0
2022-07-14 02:38:51,521 [Thread-926] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s1: unBlock request from s0
2022-07-14 02:38:51,522 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$250/1367845902@4848200d] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-07-14 02:38:51,523 [Thread-936] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:51,523 [Thread-937] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:51,523 [Thread-938] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:51,526 [Thread-933] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:51,526 [Thread-935] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:51,526 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$250/1367845902@d02dea4] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-07-14 02:38:51,526 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(802)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-07-14 02:38:51,527 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(779)) - ************************************************************** 
2022-07-14 02:38:51,527 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(780)) - *** 
2022-07-14 02:38:51,527 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(781)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-07-14 02:38:51,527 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(782)) - *** 
2022-07-14 02:38:51,527 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(783)) - ************************************************************** 
2022-07-14 02:38:51,527 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(784)) - printing ALL groups
  s0:   CLOSED    LEADER s0@group-53B2CE157ED8:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-53B2CE157ED8-SegmentedRaftLog:CLOSED:c8, conf=3: [s0|priority:1, s1|priority:2, s2|priority:1], old=null CLOSED
  s1:   CLOSED CANDIDATE s1@group-53B2CE157ED8:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-53B2CE157ED8-SegmentedRaftLog:CLOSED:c0, conf=0: [s0|rpc:localhost:34499|admin:localhost:33621|client:localhost:42957|dataStream:localhost:38613|priority:0, s1|rpc:localhost:40341|admin:localhost:44853|client:localhost:39921|dataStream:localhost:42165|priority:0, s2|rpc:localhost:45407|admin:localhost:37389|client:localhost:46167|dataStream:localhost:38477|priority:0], old=null CLOSED
  s2:   CLOSED  FOLLOWER s2@group-53B2CE157ED8:t1, leader=s0, voted=s2, raftlog=Memoized:s2@group-53B2CE157ED8-SegmentedRaftLog:CLOSED:c7, conf=3: [s0|rpc:|dataStream:|priority:1, s1|rpc:|dataStream:|priority:2, s2|rpc:|dataStream:|priority:1], old=null CLOSED
2022-07-14 02:38:51,529 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(802)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-07-14 02:38:51,530 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-07-14 02:38:51,530 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-07-14 02:38:51,530 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-07-14 02:38:51,530 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-07-14 02:38:51,531 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testBasicLeaderElection(80)) - Running testBasicLeaderElection
2022-07-14 02:38:51,531 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-07-14 02:38:51,545 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(272)) - new MiniRaftClusterWithSimulatedRpc with group-15189898AA08:[s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0]
2022-07-14 02:38:51,545 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(304)) - .............................................................. 
2022-07-14 02:38:51,545 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(305)) - ... 
2022-07-14 02:38:51,545 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(306)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-07-14 02:38:51,545 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(307)) - ... 
2022-07-14 02:38:51,545 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(308)) - .............................................................. 
2022-07-14 02:38:51,545 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(284)) - servers = {}
2022-07-14 02:38:51,545 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(348)) - newRaftServer: s3, group-15189898AA08:[s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], format? true
2022-07-14 02:38:51,545 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s3
2022-07-14 02:38:51,546 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s3 does not exist.
2022-07-14 02:38:51,546 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(353)) - Formatted directory target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s3
2022-07-14 02:38:51,546 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-14 02:38:51,546 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-07-14 02:38:51,546 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-07-14 02:38:51,546 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-07-14 02:38:51,546 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-14 02:38:51,546 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-14 02:38:51,547 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s3] (custom)
2022-07-14 02:38:51,547 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s3: addNew group-15189898AA08:[s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0] returns group-15189898AA08:java.util.concurrent.CompletableFuture@2932d6b1[Not completed]
2022-07-14 02:38:51,547 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(348)) - newRaftServer: s4, group-15189898AA08:[s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], format? true
2022-07-14 02:38:51,547 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s4
2022-07-14 02:38:51,547 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s4 does not exist.
2022-07-14 02:38:51,547 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(353)) - Formatted directory target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s4
2022-07-14 02:38:51,548 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-14 02:38:51,548 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-07-14 02:38:51,548 [s1@group-53B2CE157ED8-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-53B2CE157ED8-LeaderElection38: PRE_VOTE REJECTED received 0 response(s) and 0 exception(s):
2022-07-14 02:38:51,548 [s1@group-53B2CE157ED8-LeaderElection38] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-53B2CE157ED8-LeaderElection38 PRE_VOTE round 21: result REJECTED
2022-07-14 02:38:51,548 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-07-14 02:38:51,548 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-07-14 02:38:51,549 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-14 02:38:51,549 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-14 02:38:51,549 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s4] (custom)
2022-07-14 02:38:51,548 [pool-18-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(191)) - s3: new RaftServerImpl for group-15189898AA08:[s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0] with BaseStateMachine:uninitialized
2022-07-14 02:38:51,549 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-07-14 02:38:51,549 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:38:51,549 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-07-14 02:38:51,549 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-14 02:38:51,549 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-14 02:38:51,549 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-07-14 02:38:51,549 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s4: addNew group-15189898AA08:[s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0] returns group-15189898AA08:java.util.concurrent.CompletableFuture@5d167682[Not completed]
2022-07-14 02:38:51,550 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(348)) - newRaftServer: s0, group-15189898AA08:[s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], format? true
2022-07-14 02:38:51,550 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s0
2022-07-14 02:38:51,549 [pool-18-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(109)) - s3@group-15189898AA08: ConfigurationManager, init=-1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null, confs=<EMPTY_MAP>
2022-07-14 02:38:51,550 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s0 does not exist.
2022-07-14 02:38:51,550 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(353)) - Formatted directory target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s0
2022-07-14 02:38:51,550 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s3] (custom)
2022-07-14 02:38:51,550 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-14 02:38:51,550 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-07-14 02:38:51,550 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-07-14 02:38:51,550 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-07-14 02:38:51,550 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-07-14 02:38:51,551 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-07-14 02:38:51,550 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-07-14 02:38:51,551 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-14 02:38:51,551 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-14 02:38:51,551 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-07-14 02:38:51,551 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s0] (custom)
2022-07-14 02:38:51,551 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-07-14 02:38:51,551 [pool-19-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(191)) - s4: new RaftServerImpl for group-15189898AA08:[s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0] with BaseStateMachine:uninitialized
2022-07-14 02:38:51,551 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-07-14 02:38:51,604 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:38:51,604 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-07-14 02:38:51,604 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-14 02:38:51,604 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-14 02:38:51,604 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-07-14 02:38:51,604 [pool-19-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(109)) - s4@group-15189898AA08: ConfigurationManager, init=-1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null, confs=<EMPTY_MAP>
2022-07-14 02:38:51,604 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s4] (custom)
2022-07-14 02:38:51,604 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-07-14 02:38:51,604 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-07-14 02:38:51,605 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-07-14 02:38:51,605 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-07-14 02:38:51,605 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-07-14 02:38:51,552 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-07-14 02:38:51,605 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-07-14 02:38:51,605 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-07-14 02:38:51,605 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-07-14 02:38:51,605 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-07-14 02:38:51,605 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-07-14 02:38:51,605 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-07-14 02:38:51,605 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-07-14 02:38:51,605 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-07-14 02:38:51,606 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-07-14 02:38:51,605 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-15189898AA08:[s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0] returns group-15189898AA08:java.util.concurrent.CompletableFuture@7990f7[Not completed]
2022-07-14 02:38:51,605 [pool-20-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(191)) - s0: new RaftServerImpl for group-15189898AA08:[s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0] with BaseStateMachine:uninitialized
2022-07-14 02:38:51,606 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-07-14 02:38:51,606 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(348)) - newRaftServer: s1, group-15189898AA08:[s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], format? true
2022-07-14 02:38:51,606 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s1
2022-07-14 02:38:51,606 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:38:51,606 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s1 does not exist.
2022-07-14 02:38:51,606 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(353)) - Formatted directory target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s1
2022-07-14 02:38:51,606 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-07-14 02:38:51,606 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-14 02:38:51,606 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-14 02:38:51,606 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-14 02:38:51,607 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-07-14 02:38:51,607 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-07-14 02:38:51,607 [pool-20-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(109)) - s0@group-15189898AA08: ConfigurationManager, init=-1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null, confs=<EMPTY_MAP>
2022-07-14 02:38:51,607 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-07-14 02:38:51,607 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s0] (custom)
2022-07-14 02:38:51,607 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-07-14 02:38:51,607 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-07-14 02:38:51,607 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-14 02:38:51,607 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-14 02:38:51,607 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-07-14 02:38:51,607 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s1] (custom)
2022-07-14 02:38:51,608 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-07-14 02:38:51,608 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-07-14 02:38:51,608 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-07-14 02:38:51,608 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s1: addNew group-15189898AA08:[s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0] returns group-15189898AA08:java.util.concurrent.CompletableFuture@8515a12[Not completed]
2022-07-14 02:38:51,608 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(348)) - newRaftServer: s2, group-15189898AA08:[s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], format? true
2022-07-14 02:38:51,608 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s2
2022-07-14 02:38:51,608 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s2 does not exist.
2022-07-14 02:38:51,608 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(353)) - Formatted directory target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s2
2022-07-14 02:38:51,608 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-07-14 02:38:51,609 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-14 02:38:51,609 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-07-14 02:38:51,609 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-07-14 02:38:51,609 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-07-14 02:38:51,609 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-07-14 02:38:51,609 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-07-14 02:38:51,609 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-07-14 02:38:51,609 [pool-21-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(191)) - s1: new RaftServerImpl for group-15189898AA08:[s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0] with BaseStateMachine:uninitialized
2022-07-14 02:38:51,609 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-14 02:38:51,610 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-14 02:38:51,610 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s2] (custom)
2022-07-14 02:38:51,610 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-07-14 02:38:51,610 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:38:51,610 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-07-14 02:38:51,610 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-14 02:38:51,610 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-14 02:38:51,610 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-07-14 02:38:51,610 [pool-21-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(109)) - s1@group-15189898AA08: ConfigurationManager, init=-1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null, confs=<EMPTY_MAP>
2022-07-14 02:38:51,610 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s1] (custom)
2022-07-14 02:38:51,610 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-07-14 02:38:51,610 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-07-14 02:38:51,610 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-07-14 02:38:51,610 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-07-14 02:38:51,610 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-07-14 02:38:51,611 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-07-14 02:38:51,611 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-07-14 02:38:51,611 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-07-14 02:38:51,611 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-07-14 02:38:51,611 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-07-14 02:38:51,611 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s2: addNew group-15189898AA08:[s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0] returns group-15189898AA08:java.util.concurrent.CompletableFuture@295fa569[Not completed]
2022-07-14 02:38:51,612 [pool-22-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(191)) - s2: new RaftServerImpl for group-15189898AA08:[s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0] with BaseStateMachine:uninitialized
2022-07-14 02:38:51,612 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-07-14 02:38:51,612 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:38:51,612 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-07-14 02:38:51,612 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-14 02:38:51,612 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-14 02:38:51,612 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-07-14 02:38:51,612 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s3/33accc56-04b2-4858-8636-15189898aa08 does not exist. Creating ...
2022-07-14 02:38:51,612 [pool-22-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(109)) - s2@group-15189898AA08: ConfigurationManager, init=-1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null, confs=<EMPTY_MAP>
2022-07-14 02:38:51,612 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s2] (custom)
2022-07-14 02:38:51,612 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s3/33accc56-04b2-4858-8636-15189898aa08
2022-07-14 02:38:51,612 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-07-14 02:38:51,612 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-07-14 02:38:51,612 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-07-14 02:38:51,613 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-07-14 02:38:51,613 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-07-14 02:38:51,613 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-07-14 02:38:51,613 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-07-14 02:38:51,613 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-07-14 02:38:51,613 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-07-14 02:38:51,613 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-07-14 02:38:51,609 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-07-14 02:38:51,614 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s3/33accc56-04b2-4858-8636-15189898aa08/in_use.lock acquired by nodename 16254@fv-az54-379.qczjibyfz4dularrisj3jz1gre.bx.internal.cloudapp.net
2022-07-14 02:38:51,614 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s3/33accc56-04b2-4858-8636-15189898aa08/current
2022-07-14 02:38:51,614 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s3/33accc56-04b2-4858-8636-15189898aa08/sm
2022-07-14 02:38:51,616 [s3-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s3/33accc56-04b2-4858-8636-15189898aa08 has been successfully formatted.
2022-07-14 02:38:51,616 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-07-14 02:38:51,616 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-07-14 02:38:51,616 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:38:51,616 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-07-14 02:38:51,616 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-14 02:38:51,616 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-07-14 02:38:51,616 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-07-14 02:38:51,616 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s3@group-15189898AA08-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s3/33accc56-04b2-4858-8636-15189898aa08
2022-07-14 02:38:51,616 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-07-14 02:38:51,616 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-07-14 02:38:51,617 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-14 02:38:51,617 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-07-14 02:38:51,617 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-07-14 02:38:51,617 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-07-14 02:38:51,617 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-07-14 02:38:51,617 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-07-14 02:38:51,617 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-07-14 02:38:51,617 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-07-14 02:38:51,617 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-07-14 02:38:51,617 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s3@group-15189898AA08-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-07-14 02:38:51,617 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s3@group-15189898AA08-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-07-14 02:38:51,618 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(313)) - s3@group-15189898AA08: start as a follower, conf=-1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:51,618 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s3@group-15189898AA08: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-07-14 02:38:51,618 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-15189898AA08-FollowerState
2022-07-14 02:38:51,618 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-15189898AA08,id=s3
2022-07-14 02:38:51,618 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-07-14 02:38:51,618 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-07-14 02:38:51,618 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-07-14 02:38:51,618 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s3: start RPC server
2022-07-14 02:38:51,620 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s4/33accc56-04b2-4858-8636-15189898aa08 does not exist. Creating ...
2022-07-14 02:38:51,620 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s4/33accc56-04b2-4858-8636-15189898aa08
2022-07-14 02:38:51,620 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$250/1367845902@2b5ceb9a] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s3: Started
2022-07-14 02:38:51,621 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s4/33accc56-04b2-4858-8636-15189898aa08/in_use.lock acquired by nodename 16254@fv-az54-379.qczjibyfz4dularrisj3jz1gre.bx.internal.cloudapp.net
2022-07-14 02:38:51,621 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s4/33accc56-04b2-4858-8636-15189898aa08/current
2022-07-14 02:38:51,621 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s4/33accc56-04b2-4858-8636-15189898aa08/sm
2022-07-14 02:38:51,623 [s4-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s4/33accc56-04b2-4858-8636-15189898aa08 has been successfully formatted.
2022-07-14 02:38:51,623 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-07-14 02:38:51,623 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-07-14 02:38:51,623 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:38:51,624 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-07-14 02:38:51,624 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-14 02:38:51,624 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-07-14 02:38:51,624 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-07-14 02:38:51,624 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s4@group-15189898AA08-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s4/33accc56-04b2-4858-8636-15189898aa08
2022-07-14 02:38:51,624 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-07-14 02:38:51,624 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-07-14 02:38:51,624 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-14 02:38:51,624 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-07-14 02:38:51,624 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-07-14 02:38:51,624 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-07-14 02:38:51,624 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-07-14 02:38:51,624 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-07-14 02:38:51,624 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-07-14 02:38:51,625 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-07-14 02:38:51,625 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-07-14 02:38:51,625 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s4@group-15189898AA08-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-07-14 02:38:51,625 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s4@group-15189898AA08-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-07-14 02:38:51,625 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(313)) - s4@group-15189898AA08: start as a follower, conf=-1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:51,625 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s4@group-15189898AA08: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-07-14 02:38:51,625 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-15189898AA08-FollowerState
2022-07-14 02:38:51,625 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-15189898AA08,id=s4
2022-07-14 02:38:51,626 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-07-14 02:38:51,626 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-07-14 02:38:51,626 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-07-14 02:38:51,626 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s4: start RPC server
2022-07-14 02:38:51,627 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s0/33accc56-04b2-4858-8636-15189898aa08 does not exist. Creating ...
2022-07-14 02:38:51,627 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s0/33accc56-04b2-4858-8636-15189898aa08
2022-07-14 02:38:51,627 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$250/1367845902@73894683] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s4: Started
2022-07-14 02:38:51,628 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s0/33accc56-04b2-4858-8636-15189898aa08/in_use.lock acquired by nodename 16254@fv-az54-379.qczjibyfz4dularrisj3jz1gre.bx.internal.cloudapp.net
2022-07-14 02:38:51,629 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s0/33accc56-04b2-4858-8636-15189898aa08/current
2022-07-14 02:38:51,629 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s0/33accc56-04b2-4858-8636-15189898aa08/sm
2022-07-14 02:38:51,630 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s0/33accc56-04b2-4858-8636-15189898aa08 has been successfully formatted.
2022-07-14 02:38:51,630 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-07-14 02:38:51,631 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-07-14 02:38:51,631 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:38:51,631 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-07-14 02:38:51,631 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-14 02:38:51,631 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-07-14 02:38:51,631 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-07-14 02:38:51,631 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-15189898AA08-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s0/33accc56-04b2-4858-8636-15189898aa08
2022-07-14 02:38:51,631 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-07-14 02:38:51,631 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-07-14 02:38:51,631 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-14 02:38:51,631 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-07-14 02:38:51,631 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-07-14 02:38:51,631 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-07-14 02:38:51,631 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-07-14 02:38:51,631 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-07-14 02:38:51,632 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-07-14 02:38:51,632 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-07-14 02:38:51,632 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-07-14 02:38:51,632 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-15189898AA08-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-07-14 02:38:51,632 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-15189898AA08-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-07-14 02:38:51,632 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(313)) - s0@group-15189898AA08: start as a follower, conf=-1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:51,632 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s0@group-15189898AA08: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-07-14 02:38:51,632 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-15189898AA08-FollowerState
2022-07-14 02:38:51,632 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-15189898AA08,id=s0
2022-07-14 02:38:51,633 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-07-14 02:38:51,633 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-07-14 02:38:51,633 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-07-14 02:38:51,633 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s0: start RPC server
2022-07-14 02:38:51,634 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s1/33accc56-04b2-4858-8636-15189898aa08 does not exist. Creating ...
2022-07-14 02:38:51,635 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s1/33accc56-04b2-4858-8636-15189898aa08
2022-07-14 02:38:51,635 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$250/1367845902@620d713d] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-07-14 02:38:51,635 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s1/33accc56-04b2-4858-8636-15189898aa08/in_use.lock acquired by nodename 16254@fv-az54-379.qczjibyfz4dularrisj3jz1gre.bx.internal.cloudapp.net
2022-07-14 02:38:51,636 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s1/33accc56-04b2-4858-8636-15189898aa08/current
2022-07-14 02:38:51,636 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s1/33accc56-04b2-4858-8636-15189898aa08/sm
2022-07-14 02:38:51,638 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s1/33accc56-04b2-4858-8636-15189898aa08 has been successfully formatted.
2022-07-14 02:38:51,638 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-07-14 02:38:51,638 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-07-14 02:38:51,638 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:38:51,638 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-07-14 02:38:51,638 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-14 02:38:51,638 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-07-14 02:38:51,638 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-07-14 02:38:51,638 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-15189898AA08-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s1/33accc56-04b2-4858-8636-15189898aa08
2022-07-14 02:38:51,638 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-07-14 02:38:51,638 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-07-14 02:38:51,638 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-14 02:38:51,638 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-07-14 02:38:51,638 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-07-14 02:38:51,638 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-07-14 02:38:51,639 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-07-14 02:38:51,639 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-07-14 02:38:51,639 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-07-14 02:38:51,639 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-07-14 02:38:51,639 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-07-14 02:38:51,639 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-15189898AA08-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-07-14 02:38:51,639 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-15189898AA08-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-07-14 02:38:51,640 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(313)) - s1@group-15189898AA08: start as a follower, conf=-1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:51,640 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-15189898AA08: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-07-14 02:38:51,640 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-15189898AA08-FollowerState
2022-07-14 02:38:51,640 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-15189898AA08,id=s1
2022-07-14 02:38:51,640 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-07-14 02:38:51,640 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-07-14 02:38:51,640 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-07-14 02:38:51,641 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s1: start RPC server
2022-07-14 02:38:51,642 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s2/33accc56-04b2-4858-8636-15189898aa08 does not exist. Creating ...
2022-07-14 02:38:51,644 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s2/33accc56-04b2-4858-8636-15189898aa08
2022-07-14 02:38:51,644 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$250/1367845902@36adf4f8] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-07-14 02:38:51,645 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s2/33accc56-04b2-4858-8636-15189898aa08/in_use.lock acquired by nodename 16254@fv-az54-379.qczjibyfz4dularrisj3jz1gre.bx.internal.cloudapp.net
2022-07-14 02:38:51,645 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s2/33accc56-04b2-4858-8636-15189898aa08/current
2022-07-14 02:38:51,645 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s2/33accc56-04b2-4858-8636-15189898aa08/sm
2022-07-14 02:38:51,647 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s2/33accc56-04b2-4858-8636-15189898aa08 has been successfully formatted.
2022-07-14 02:38:51,647 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-07-14 02:38:51,647 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-07-14 02:38:51,647 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:38:51,647 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-07-14 02:38:51,647 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-14 02:38:51,647 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-07-14 02:38:51,647 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-07-14 02:38:51,647 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-15189898AA08-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s2/33accc56-04b2-4858-8636-15189898aa08
2022-07-14 02:38:51,647 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-07-14 02:38:51,647 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-07-14 02:38:51,647 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-14 02:38:51,648 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-07-14 02:38:51,648 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-07-14 02:38:51,648 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-07-14 02:38:51,648 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-07-14 02:38:51,648 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-07-14 02:38:51,648 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-07-14 02:38:51,648 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-07-14 02:38:51,648 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-07-14 02:38:51,648 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-15189898AA08-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-07-14 02:38:51,648 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-15189898AA08-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-07-14 02:38:51,649 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(313)) - s2@group-15189898AA08: start as a follower, conf=-1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:51,649 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-15189898AA08: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-07-14 02:38:51,649 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-15189898AA08-FollowerState
2022-07-14 02:38:51,649 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-15189898AA08,id=s2
2022-07-14 02:38:51,649 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-07-14 02:38:51,649 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-07-14 02:38:51,649 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-07-14 02:38:51,650 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s2: start RPC server
2022-07-14 02:38:51,651 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$250/1367845902@7ae1c98c] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-07-14 02:38:51,651 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:38:51,651 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-15189898AA08:t0, leader=null, voted=, raftlog=Memoized:s3@group-15189898AA08-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-15189898AA08:t0, leader=null, voted=, raftlog=Memoized:s4@group-15189898AA08-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-15189898AA08:t0, leader=null, voted=, raftlog=Memoized:s0@group-15189898AA08-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-15189898AA08:t0, leader=null, voted=, raftlog=Memoized:s1@group-15189898AA08-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-15189898AA08:t0, leader=null, voted=, raftlog=Memoized:s2@group-15189898AA08-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
2022-07-14 02:38:51,652 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-15189898AA08:t0, leader=null, voted=, raftlog=Memoized:s3@group-15189898AA08-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-15189898AA08:t0, leader=null, voted=, raftlog=Memoized:s4@group-15189898AA08-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-15189898AA08:t0, leader=null, voted=, raftlog=Memoized:s0@group-15189898AA08-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-15189898AA08:t0, leader=null, voted=, raftlog=Memoized:s1@group-15189898AA08-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-15189898AA08:t0, leader=null, voted=, raftlog=Memoized:s2@group-15189898AA08-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-15189898AA08:t0, leader=null, voted=, raftlog=Memoized:s3@group-15189898AA08-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-15189898AA08:t0, leader=null, voted=, raftlog=Memoized:s4@group-15189898AA08-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
  s0:  RUNNING  FOLLOWER s0@group-15189898AA08:t0, leader=null, voted=, raftlog=Memoized:s0@group-15189898AA08-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-15189898AA08:t0, leader=null, voted=, raftlog=Memoized:s1@group-15189898AA08-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-15189898AA08:t0, leader=null, voted=, raftlog=Memoized:s2@group-15189898AA08-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:535)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:569)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:562)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.RaftTestUtil.waitAndKillLeader(RaftTestUtil.java:132)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:83)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:38:51,789 [s0@group-15189898AA08-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-15189898AA08-FollowerState: change to CANDIDATE, lastRpcElapsedTime:156398346ns, electionTimeout:156ms
2022-07-14 02:38:51,789 [s0@group-15189898AA08-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-15189898AA08-FollowerState
2022-07-14 02:38:51,789 [s0@group-15189898AA08-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s0@group-15189898AA08: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-07-14 02:38:51,789 [s0@group-15189898AA08-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:38:51,789 [s0@group-15189898AA08-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-15189898AA08-LeaderElection39
2022-07-14 02:38:51,790 [s0@group-15189898AA08-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-15189898AA08-LeaderElection39 PRE_VOTE round 0: submit vote requests at term 0 for -1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:51,791 [Thread-1230] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s3@group-15189898AA08: receive requestVote(PRE_VOTE, s0, group-15189898AA08, 0, (t:0, i:0))
2022-07-14 02:38:51,791 [Thread-1230] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-15189898AA08-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-07-14 02:38:51,791 [Thread-1230] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s3@group-15189898AA08 replies to PRE_VOTE vote request: s0<-s3#0:OK-t0. Peer's state: s3@group-15189898AA08:t0, leader=null, voted=, raftlog=Memoized:s3@group-15189898AA08-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:51,791 [Thread-1253] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-15189898AA08: receive requestVote(PRE_VOTE, s0, group-15189898AA08, 0, (t:0, i:0))
2022-07-14 02:38:51,791 [Thread-1253] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-15189898AA08-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-07-14 02:38:51,791 [Thread-1253] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-15189898AA08 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-15189898AA08:t0, leader=null, voted=, raftlog=Memoized:s1@group-15189898AA08-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:51,791 [s0@group-15189898AA08-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-15189898AA08-LeaderElection39: PRE_VOTE PASSED received 2 response(s) and 0 exception(s):
2022-07-14 02:38:51,791 [s0@group-15189898AA08-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s3#0:OK-t0
2022-07-14 02:38:51,791 [Thread-1237] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s4@group-15189898AA08: receive requestVote(PRE_VOTE, s0, group-15189898AA08, 0, (t:0, i:0))
2022-07-14 02:38:51,791 [s0@group-15189898AA08-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s1#0:OK-t0
2022-07-14 02:38:51,791 [Thread-1237] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-15189898AA08-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-07-14 02:38:51,792 [Thread-1237] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s4@group-15189898AA08 replies to PRE_VOTE vote request: s0<-s4#0:OK-t0. Peer's state: s4@group-15189898AA08:t0, leader=null, voted=, raftlog=Memoized:s4@group-15189898AA08-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:51,792 [s0@group-15189898AA08-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-15189898AA08-LeaderElection39 PRE_VOTE round 0: result PASSED
2022-07-14 02:38:51,792 [Thread-1260] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-15189898AA08: receive requestVote(PRE_VOTE, s0, group-15189898AA08, 0, (t:0, i:0))
2022-07-14 02:38:51,792 [Thread-1260] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-15189898AA08-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-07-14 02:38:51,792 [Thread-1260] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-15189898AA08 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-15189898AA08:t0, leader=null, voted=, raftlog=Memoized:s2@group-15189898AA08-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:51,794 [s0@group-15189898AA08-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-15189898AA08-LeaderElection39 ELECTION round 0: submit vote requests at term 1 for -1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:51,795 [Thread-1231] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s3@group-15189898AA08: receive requestVote(ELECTION, s0, group-15189898AA08, 1, (t:0, i:0))
2022-07-14 02:38:51,799 [Thread-1231] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-15189898AA08-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-07-14 02:38:51,799 [Thread-1238] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s4@group-15189898AA08: receive requestVote(ELECTION, s0, group-15189898AA08, 1, (t:0, i:0))
2022-07-14 02:38:51,799 [Thread-1231] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s3@group-15189898AA08: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-07-14 02:38:51,800 [Thread-1231] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-15189898AA08-FollowerState
2022-07-14 02:38:51,800 [Thread-1231] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-15189898AA08-FollowerState
2022-07-14 02:38:51,800 [s3@group-15189898AA08-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s3@group-15189898AA08-FollowerState was interrupted
2022-07-14 02:38:51,800 [Thread-1254] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-15189898AA08: receive requestVote(ELECTION, s0, group-15189898AA08, 1, (t:0, i:0))
2022-07-14 02:38:51,800 [Thread-1261] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-15189898AA08: receive requestVote(ELECTION, s0, group-15189898AA08, 1, (t:0, i:0))
2022-07-14 02:38:51,801 [Thread-1238] INFO  impl.VoteContext (VoteContext.java:log(48)) - s4@group-15189898AA08-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-07-14 02:38:51,801 [Thread-1238] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s4@group-15189898AA08: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-07-14 02:38:51,801 [Thread-1238] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-15189898AA08-FollowerState
2022-07-14 02:38:51,801 [Thread-1238] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-15189898AA08-FollowerState
2022-07-14 02:38:51,801 [s4@group-15189898AA08-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s4@group-15189898AA08-FollowerState was interrupted
2022-07-14 02:38:51,801 [Thread-1261] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-15189898AA08-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-07-14 02:38:51,801 [Thread-1261] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-15189898AA08: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-07-14 02:38:51,801 [Thread-1261] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-15189898AA08-FollowerState
2022-07-14 02:38:51,801 [Thread-1254] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-15189898AA08-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-07-14 02:38:51,801 [Thread-1254] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-15189898AA08: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-07-14 02:38:51,801 [Thread-1254] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-15189898AA08-FollowerState
2022-07-14 02:38:51,802 [Thread-1231] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s3@group-15189898AA08 replies to ELECTION vote request: s0<-s3#0:OK-t1. Peer's state: s3@group-15189898AA08:t1, leader=null, voted=s0, raftlog=Memoized:s3@group-15189898AA08-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:51,802 [Thread-1254] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-15189898AA08-FollowerState
2022-07-14 02:38:51,802 [s1@group-15189898AA08-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-15189898AA08-FollowerState was interrupted
2022-07-14 02:38:51,802 [Thread-1261] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-15189898AA08-FollowerState
2022-07-14 02:38:51,802 [s2@group-15189898AA08-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-15189898AA08-FollowerState was interrupted
2022-07-14 02:38:51,804 [Thread-1238] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s4@group-15189898AA08 replies to ELECTION vote request: s0<-s4#0:OK-t1. Peer's state: s4@group-15189898AA08:t1, leader=null, voted=s0, raftlog=Memoized:s4@group-15189898AA08-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:51,804 [Thread-1254] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-15189898AA08 replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-15189898AA08:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-15189898AA08-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:51,804 [s0@group-15189898AA08-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-15189898AA08-LeaderElection39: ELECTION PASSED received 2 response(s) and 0 exception(s):
2022-07-14 02:38:51,805 [s0@group-15189898AA08-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s3#0:OK-t1
2022-07-14 02:38:51,805 [Thread-1261] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-15189898AA08 replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-15189898AA08:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-15189898AA08-SegmentedRaftLog:OPENED:c-1, conf=-1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:51,805 [s0@group-15189898AA08-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s4#0:OK-t1
2022-07-14 02:38:51,805 [s0@group-15189898AA08-LeaderElection39] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-15189898AA08-LeaderElection39 ELECTION round 0: result PASSED
2022-07-14 02:38:51,805 [s0@group-15189898AA08-LeaderElection39] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-15189898AA08-LeaderElection39
2022-07-14 02:38:51,805 [s0@group-15189898AA08-LeaderElection39] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s0@group-15189898AA08: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-07-14 02:38:51,805 [s0@group-15189898AA08-LeaderElection39] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s0@group-15189898AA08: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 197ms
2022-07-14 02:38:51,805 [s0@group-15189898AA08-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-07-14 02:38:51,805 [s0@group-15189898AA08-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-14 02:38:51,805 [s0@group-15189898AA08-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-07-14 02:38:51,805 [s0@group-15189898AA08-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-07-14 02:38:51,805 [s0@group-15189898AA08-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-07-14 02:38:51,805 [s0@group-15189898AA08-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-07-14 02:38:51,805 [s0@group-15189898AA08-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-14 02:38:51,806 [s0@group-15189898AA08-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-07-14 02:38:51,806 [s0@group-15189898AA08-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-14 02:38:51,806 [s0@group-15189898AA08-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:38:51,806 [s0@group-15189898AA08-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-14 02:38:51,807 [s0@group-15189898AA08-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-14 02:38:51,807 [s0@group-15189898AA08-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:38:51,807 [s0@group-15189898AA08-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-14 02:38:51,807 [s0@group-15189898AA08-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-14 02:38:51,807 [s0@group-15189898AA08-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:38:51,807 [s0@group-15189898AA08-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-14 02:38:51,807 [s0@group-15189898AA08-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-14 02:38:51,807 [s0@group-15189898AA08-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:38:51,808 [s0@group-15189898AA08-LeaderElection39] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-14 02:38:51,808 [s0@group-15189898AA08-LeaderElection39] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-15189898AA08-LeaderStateImpl
2022-07-14 02:38:51,808 [s0@group-15189898AA08-LeaderElection39] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s0@group-15189898AA08-SegmentedRaftLogWorker: Starting segment from index:0
2022-07-14 02:38:51,814 [Thread-1232] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s3@group-15189898AA08: change Leader from null to s0 at term 1 for appendEntries, leader elected after 263ms
2022-07-14 02:38:51,815 [Thread-1255] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s1@group-15189898AA08: change Leader from null to s0 at term 1 for appendEntries, leader elected after 205ms
2022-07-14 02:38:51,816 [Thread-1262] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s2@group-15189898AA08: change Leader from null to s0 at term 1 for appendEntries, leader elected after 203ms
2022-07-14 02:38:51,816 [Thread-1230] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s3@group-15189898AA08: receive appendEntries(s0, 1, null, -1, true, commits[s0:c-1, s3:c-1, s4:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-07-14 02:38:51,817 [s0@group-15189898AA08-LeaderElection39] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s0@group-15189898AA08: set configuration 0: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:51,817 [Thread-1239] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s4@group-15189898AA08: change Leader from null to s0 at term 1 for appendEntries, leader elected after 212ms
2022-07-14 02:38:51,818 [Thread-1230] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s3@group-15189898AA08: set configuration 0: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:51,818 [Thread-1253] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-15189898AA08: receive appendEntries(s0, 1, null, -1, true, commits[s0:c-1, s3:c-1, s4:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-07-14 02:38:51,819 [Thread-1237] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s4@group-15189898AA08: receive appendEntries(s0, 1, null, -1, true, commits[s0:c-1, s3:c-1, s4:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-07-14 02:38:51,818 [Thread-1230] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s3@group-15189898AA08-SegmentedRaftLogWorker: Starting segment from index:0
2022-07-14 02:38:51,820 [s0@group-15189898AA08-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-15189898AA08-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s0/33accc56-04b2-4858-8636-15189898aa08/current/log_inprogress_0
2022-07-14 02:38:51,820 [Thread-1260] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-15189898AA08: receive appendEntries(s0, 1, null, -1, true, commits[s0:c-1, s3:c-1, s4:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-07-14 02:38:51,821 [Thread-1253] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s1@group-15189898AA08: set configuration 0: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:51,821 [Thread-1253] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s1@group-15189898AA08-SegmentedRaftLogWorker: Starting segment from index:0
2022-07-14 02:38:51,821 [Thread-1237] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s4@group-15189898AA08: set configuration 0: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:51,822 [Thread-1237] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s4@group-15189898AA08-SegmentedRaftLogWorker: Starting segment from index:0
2022-07-14 02:38:51,829 [Thread-1260] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s2@group-15189898AA08: set configuration 0: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:51,829 [Thread-1260] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s2@group-15189898AA08-SegmentedRaftLogWorker: Starting segment from index:0
2022-07-14 02:38:51,854 [s2@group-15189898AA08-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-15189898AA08-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s2/33accc56-04b2-4858-8636-15189898aa08/current/log_inprogress_0
2022-07-14 02:38:51,854 [s3@group-15189898AA08-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s3@group-15189898AA08-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s3/33accc56-04b2-4858-8636-15189898aa08/current/log_inprogress_0
2022-07-14 02:38:51,854 [s1@group-15189898AA08-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-15189898AA08-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s1/33accc56-04b2-4858-8636-15189898aa08/current/log_inprogress_0
2022-07-14 02:38:51,854 [s4@group-15189898AA08-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s4@group-15189898AA08-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s4/33accc56-04b2-4858-8636-15189898aa08/current/log_inprogress_0
2022-07-14 02:38:51,855 [Thread-1309] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-15189898AA08: succeeded to handle AppendEntries. Reply: s0<-s2#743:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1
2022-07-14 02:38:51,856 [Thread-1310] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s3@group-15189898AA08: succeeded to handle AppendEntries. Reply: s0<-s3#740:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1
2022-07-14 02:38:51,856 [Thread-1311] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-15189898AA08: succeeded to handle AppendEntries. Reply: s0<-s1#741:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1
2022-07-14 02:38:51,856 [Thread-1312] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s4@group-15189898AA08: succeeded to handle AppendEntries. Reply: s0<-s4#742:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1
2022-07-14 02:38:52,103 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-15189898AA08:t1, leader=s0, voted=s0, raftlog=Memoized:s3@group-15189898AA08-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-15189898AA08:t1, leader=s0, voted=s0, raftlog=Memoized:s4@group-15189898AA08-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
  s0:  RUNNING    LEADER s0@group-15189898AA08:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-15189898AA08-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-15189898AA08:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-15189898AA08-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-15189898AA08:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-15189898AA08-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
2022-07-14 02:38:52,103 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitAndKillLeader(135)) - killing leader =    LEADER s0@group-15189898AA08:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-15189898AA08-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
2022-07-14 02:38:52,103 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(487)) - killServer s0
2022-07-14 02:38:52,104 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s0: close
2022-07-14 02:38:52,104 [Time-limited test] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(437)) - s0@group-15189898AA08: shutdown
2022-07-14 02:38:52,104 [Time-limited test] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-15189898AA08,id=s0
2022-07-14 02:38:52,104 [Time-limited test] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-15189898AA08-LeaderStateImpl
2022-07-14 02:38:52,104 [Time-limited test] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-15189898AA08-PendingRequests: sendNotLeaderResponses
2022-07-14 02:38:52,105 [s0@group-15189898AA08->s4-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s0@group-15189898AA08->s4-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-07-14 02:38:52,105 [s0@group-15189898AA08->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s0@group-15189898AA08->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-07-14 02:38:52,105 [s0@group-15189898AA08->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s0@group-15189898AA08->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-07-14 02:38:52,105 [Time-limited test] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-15189898AA08-StateMachineUpdater: set stopIndex = 0
2022-07-14 02:38:52,106 [Time-limited test] INFO  server.RaftServer$Division (ServerState.java:close(456)) - s0@group-15189898AA08: closes. applyIndex: 0
2022-07-14 02:38:52,106 [s0@group-15189898AA08->s3-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s0@group-15189898AA08->s3-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-07-14 02:38:52,106 [s0@group-15189898AA08-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s0@group-15189898AA08-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-07-14 02:38:52,108 [Time-limited test] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s0@group-15189898AA08-SegmentedRaftLogWorker close()
2022-07-14 02:38:52,110 [Thread-1247] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:52,111 [Thread-1248] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:52,110 [Thread-1249] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:52,111 [Thread-1244] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:52,111 [Thread-1245] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:52,111 [Thread-1246] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:52,111 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$250/1367845902@620d713d] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-07-14 02:38:52,111 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:38:52,112 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-15189898AA08:t1, leader=s0, voted=s0, raftlog=Memoized:s3@group-15189898AA08-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-15189898AA08:t1, leader=s0, voted=s0, raftlog=Memoized:s4@group-15189898AA08-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
  s0:   CLOSED    LEADER s0@group-15189898AA08:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-15189898AA08-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s1:  RUNNING  FOLLOWER s1@group-15189898AA08:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-15189898AA08-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-15189898AA08:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-15189898AA08-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
2022-07-14 02:38:52,112 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-15189898AA08:t1, leader=s0, voted=s0, raftlog=Memoized:s3@group-15189898AA08-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-15189898AA08:t1, leader=s0, voted=s0, raftlog=Memoized:s4@group-15189898AA08-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
  s0:   CLOSED    LEADER s0@group-15189898AA08:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-15189898AA08-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s1:  RUNNING  FOLLOWER s1@group-15189898AA08:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-15189898AA08-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-15189898AA08:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-15189898AA08-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-15189898AA08:t1, leader=s0, voted=s0, raftlog=Memoized:s3@group-15189898AA08-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-15189898AA08:t1, leader=s0, voted=s0, raftlog=Memoized:s4@group-15189898AA08-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
  s0:   CLOSED    LEADER s0@group-15189898AA08:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-15189898AA08-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s1:  RUNNING  FOLLOWER s1@group-15189898AA08:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-15189898AA08-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-15189898AA08:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-15189898AA08-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:535)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:569)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:562)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.RaftTestUtil.waitAndKillLeader(RaftTestUtil.java:132)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:84)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:38:52,253 [s4@group-15189898AA08-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-15189898AA08-FollowerState: change to CANDIDATE, lastRpcElapsedTime:169518619ns, electionTimeout:169ms
2022-07-14 02:38:52,253 [s4@group-15189898AA08-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-15189898AA08-FollowerState
2022-07-14 02:38:52,254 [s4@group-15189898AA08-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s4@group-15189898AA08: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-07-14 02:38:52,254 [s4@group-15189898AA08-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:38:52,254 [s4@group-15189898AA08-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-15189898AA08-LeaderElection40
2022-07-14 02:38:52,254 [s4@group-15189898AA08-LeaderElection40] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s4@group-15189898AA08: change Leader from s0 to null at term 1 for PRE_VOTE
2022-07-14 02:38:52,255 [s4@group-15189898AA08-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s4@group-15189898AA08-LeaderElection40 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:52,255 [Thread-1231] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s3@group-15189898AA08: receive requestVote(PRE_VOTE, s4, group-15189898AA08, 1, (t:1, i:0))
2022-07-14 02:38:52,255 [Thread-1231] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-15189898AA08-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-07-14 02:38:52,256 [Thread-1231] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s3@group-15189898AA08 replies to PRE_VOTE vote request: s4<-s3#0:OK-t1. Peer's state: s3@group-15189898AA08:t1, leader=s0, voted=s0, raftlog=Memoized:s3@group-15189898AA08-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:52,256 [Thread-1254] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-15189898AA08: receive requestVote(PRE_VOTE, s4, group-15189898AA08, 1, (t:1, i:0))
2022-07-14 02:38:52,256 [Thread-1254] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-15189898AA08-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-07-14 02:38:52,256 [Thread-1254] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-15189898AA08 replies to PRE_VOTE vote request: s4<-s1#0:OK-t1. Peer's state: s1@group-15189898AA08:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-15189898AA08-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:52,257 [s4@group-15189898AA08-LeaderElection40] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-15189898AA08-LeaderElection40 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-07-14 02:38:52,257 [Thread-1261] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-15189898AA08: receive requestVote(PRE_VOTE, s4, group-15189898AA08, 1, (t:1, i:0))
2022-07-14 02:38:52,257 [Thread-1261] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-15189898AA08-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2022-07-14 02:38:52,257 [Thread-1261] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-15189898AA08 replies to PRE_VOTE vote request: s4<-s2#0:OK-t1. Peer's state: s2@group-15189898AA08:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-15189898AA08-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:52,258 [s4@group-15189898AA08-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-15189898AA08-LeaderElection40: PRE_VOTE PASSED received 2 response(s) and 1 exception(s):
2022-07-14 02:38:52,258 [s4@group-15189898AA08-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s4<-s3#0:OK-t1
2022-07-14 02:38:52,258 [s4@group-15189898AA08-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s4<-s2#0:OK-t1
2022-07-14 02:38:52,258 [s4@group-15189898AA08-LeaderElection40] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-07-14 02:38:52,258 [s4@group-15189898AA08-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s4@group-15189898AA08-LeaderElection40 PRE_VOTE round 0: result PASSED
2022-07-14 02:38:52,260 [s4@group-15189898AA08-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s4@group-15189898AA08-LeaderElection40 ELECTION round 0: submit vote requests at term 2 for 0: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:52,265 [Thread-1232] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s3@group-15189898AA08: receive requestVote(ELECTION, s4, group-15189898AA08, 2, (t:1, i:0))
2022-07-14 02:38:52,265 [Thread-1232] INFO  impl.VoteContext (VoteContext.java:log(48)) - s3@group-15189898AA08-FOLLOWER: accept ELECTION from s4: our priority 0 <= candidate's priority 0
2022-07-14 02:38:52,265 [Thread-1232] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s3@group-15189898AA08: change Leader from s0 to null at term 2 for updateCurrentTerm
2022-07-14 02:38:52,265 [Thread-1232] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s3@group-15189898AA08: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s4
2022-07-14 02:38:52,265 [Thread-1232] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-15189898AA08-FollowerState
2022-07-14 02:38:52,271 [Thread-1255] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-15189898AA08: receive requestVote(ELECTION, s4, group-15189898AA08, 2, (t:1, i:0))
2022-07-14 02:38:52,272 [Thread-1255] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-15189898AA08-FOLLOWER: accept ELECTION from s4: our priority 0 <= candidate's priority 0
2022-07-14 02:38:52,272 [Thread-1255] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s1@group-15189898AA08: change Leader from s0 to null at term 2 for updateCurrentTerm
2022-07-14 02:38:52,272 [Thread-1255] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-15189898AA08: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s4
2022-07-14 02:38:52,272 [Thread-1255] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-15189898AA08-FollowerState
2022-07-14 02:38:52,272 [s4@group-15189898AA08-LeaderElection40] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s4@group-15189898AA08-LeaderElection40 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-07-14 02:38:52,272 [Thread-1255] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-15189898AA08-FollowerState
2022-07-14 02:38:52,272 [s1@group-15189898AA08-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-15189898AA08-FollowerState was interrupted
2022-07-14 02:38:52,272 [Thread-1262] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-15189898AA08: receive requestVote(ELECTION, s4, group-15189898AA08, 2, (t:1, i:0))
2022-07-14 02:38:52,272 [Thread-1262] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-15189898AA08-FOLLOWER: accept ELECTION from s4: our priority 0 <= candidate's priority 0
2022-07-14 02:38:52,272 [Thread-1262] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s2@group-15189898AA08: change Leader from s0 to null at term 2 for updateCurrentTerm
2022-07-14 02:38:52,272 [Thread-1262] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-15189898AA08: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s4
2022-07-14 02:38:52,272 [Thread-1262] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-15189898AA08-FollowerState
2022-07-14 02:38:52,273 [Thread-1232] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-15189898AA08-FollowerState
2022-07-14 02:38:52,273 [s3@group-15189898AA08-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s3@group-15189898AA08-FollowerState was interrupted
2022-07-14 02:38:52,274 [Thread-1262] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-15189898AA08-FollowerState
2022-07-14 02:38:52,274 [s2@group-15189898AA08-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-15189898AA08-FollowerState was interrupted
2022-07-14 02:38:52,274 [Thread-1255] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-15189898AA08 replies to ELECTION vote request: s4<-s1#0:OK-t2. Peer's state: s1@group-15189898AA08:t2, leader=null, voted=s4, raftlog=Memoized:s1@group-15189898AA08-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:52,277 [Thread-1232] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s3@group-15189898AA08 replies to ELECTION vote request: s4<-s3#0:OK-t2. Peer's state: s3@group-15189898AA08:t2, leader=null, voted=s4, raftlog=Memoized:s3@group-15189898AA08-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:52,277 [s4@group-15189898AA08-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s4@group-15189898AA08-LeaderElection40: ELECTION PASSED received 2 response(s) and 1 exception(s):
2022-07-14 02:38:52,277 [s4@group-15189898AA08-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s4<-s3#0:OK-t2
2022-07-14 02:38:52,277 [s4@group-15189898AA08-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s4<-s1#0:OK-t2
2022-07-14 02:38:52,278 [s4@group-15189898AA08-LeaderElection40] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-07-14 02:38:52,278 [s4@group-15189898AA08-LeaderElection40] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s4@group-15189898AA08-LeaderElection40 ELECTION round 0: result PASSED
2022-07-14 02:38:52,278 [s4@group-15189898AA08-LeaderElection40] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-15189898AA08-LeaderElection40
2022-07-14 02:38:52,278 [s4@group-15189898AA08-LeaderElection40] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s4@group-15189898AA08: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2022-07-14 02:38:52,278 [s4@group-15189898AA08-LeaderElection40] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s4@group-15189898AA08: change Leader from null to s4 at term 2 for becomeLeader, leader elected after 23ms
2022-07-14 02:38:52,278 [s4@group-15189898AA08-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-07-14 02:38:52,278 [s4@group-15189898AA08-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-14 02:38:52,278 [s4@group-15189898AA08-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-07-14 02:38:52,278 [s4@group-15189898AA08-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-07-14 02:38:52,278 [s4@group-15189898AA08-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-07-14 02:38:52,278 [s4@group-15189898AA08-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-07-14 02:38:52,278 [s4@group-15189898AA08-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-14 02:38:52,278 [s4@group-15189898AA08-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-07-14 02:38:52,279 [s4@group-15189898AA08-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-14 02:38:52,279 [s4@group-15189898AA08-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:38:52,279 [s4@group-15189898AA08-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-14 02:38:52,279 [s4@group-15189898AA08-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-14 02:38:52,279 [s4@group-15189898AA08-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:38:52,279 [s4@group-15189898AA08-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-14 02:38:52,279 [s4@group-15189898AA08-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-14 02:38:52,279 [s4@group-15189898AA08-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:38:52,279 [s4@group-15189898AA08-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-14 02:38:52,280 [s4@group-15189898AA08-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-14 02:38:52,280 [s4@group-15189898AA08-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:38:52,280 [s4@group-15189898AA08-LeaderElection40] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-14 02:38:52,280 [s4@group-15189898AA08-LeaderElection40] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-15189898AA08-LeaderStateImpl
2022-07-14 02:38:52,280 [s4@group-15189898AA08-LeaderElection40] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s4@group-15189898AA08-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2022-07-14 02:38:52,281 [s4@group-15189898AA08-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s4/33accc56-04b2-4858-8636-15189898aa08/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s4/33accc56-04b2-4858-8636-15189898aa08/current/log_0-0
2022-07-14 02:38:52,281 [s4@group-15189898AA08-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s4@group-15189898AA08-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s4/33accc56-04b2-4858-8636-15189898aa08/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s4/33accc56-04b2-4858-8636-15189898aa08/current/log_0-0
2022-07-14 02:38:52,281 [Thread-1262] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-15189898AA08 replies to ELECTION vote request: s4<-s2#0:OK-t2. Peer's state: s2@group-15189898AA08:t2, leader=null, voted=s4, raftlog=Memoized:s2@group-15189898AA08-SegmentedRaftLog:OPENED:c0, conf=0: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:52,286 [Thread-1230] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s3@group-15189898AA08: change Leader from null to s4 at term 2 for appendEntries, leader elected after 20ms
2022-07-14 02:38:52,286 [s4@group-15189898AA08->s0-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(76)) - s4@group-15189898AA08->s0-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:112)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:66)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:142)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:77)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:38:52,286 [Thread-1253] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s1@group-15189898AA08: change Leader from null to s4 at term 2 for appendEntries, leader elected after 14ms
2022-07-14 02:38:52,287 [s4@group-15189898AA08-LeaderElection40] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s4@group-15189898AA08: set configuration 1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:52,287 [Thread-1260] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s2@group-15189898AA08: change Leader from null to s4 at term 2 for appendEntries, leader elected after 14ms
2022-07-14 02:38:52,287 [Thread-1254] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-15189898AA08: receive appendEntries(s4, 2, (t:1, i:0), 0, true, commits[s4:c0, s3:c0, s0:c0, s1:c0, s2:c0], entries: (t:2, i:1), CONFIGURATIONENTRY
2022-07-14 02:38:52,288 [Thread-1254] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s1@group-15189898AA08: set configuration 1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:52,288 [Thread-1254] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s1@group-15189898AA08-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2022-07-14 02:38:52,289 [s1@group-15189898AA08-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s1/33accc56-04b2-4858-8636-15189898aa08/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s1/33accc56-04b2-4858-8636-15189898aa08/current/log_0-0
2022-07-14 02:38:52,289 [s1@group-15189898AA08-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s1@group-15189898AA08-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s1/33accc56-04b2-4858-8636-15189898aa08/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s1/33accc56-04b2-4858-8636-15189898aa08/current/log_0-0
2022-07-14 02:38:52,293 [Thread-1231] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s3@group-15189898AA08: receive appendEntries(s4, 2, (t:1, i:0), 0, true, commits[s4:c0, s3:c0, s0:c0, s1:c0, s2:c0], entries: (t:2, i:1), CONFIGURATIONENTRY
2022-07-14 02:38:52,294 [Thread-1231] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s3@group-15189898AA08: set configuration 1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:52,294 [Thread-1231] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s3@group-15189898AA08-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2022-07-14 02:38:52,294 [Thread-1261] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-15189898AA08: receive appendEntries(s4, 2, (t:1, i:0), 0, true, commits[s4:c0, s3:c0, s0:c0, s1:c0, s2:c0], entries: (t:2, i:1), CONFIGURATIONENTRY
2022-07-14 02:38:52,295 [Thread-1261] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s2@group-15189898AA08: set configuration 1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:52,295 [Thread-1261] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s2@group-15189898AA08-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2022-07-14 02:38:52,297 [s3@group-15189898AA08-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s3/33accc56-04b2-4858-8636-15189898aa08/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s3/33accc56-04b2-4858-8636-15189898aa08/current/log_0-0
2022-07-14 02:38:52,298 [s3@group-15189898AA08-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s3@group-15189898AA08-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s3/33accc56-04b2-4858-8636-15189898aa08/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s3/33accc56-04b2-4858-8636-15189898aa08/current/log_0-0
2022-07-14 02:38:52,298 [s2@group-15189898AA08-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s2/33accc56-04b2-4858-8636-15189898aa08/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s2/33accc56-04b2-4858-8636-15189898aa08/current/log_0-0
2022-07-14 02:38:52,298 [s2@group-15189898AA08-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s2@group-15189898AA08-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s2/33accc56-04b2-4858-8636-15189898aa08/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s2/33accc56-04b2-4858-8636-15189898aa08/current/log_0-0
2022-07-14 02:38:52,302 [s4@group-15189898AA08-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s4@group-15189898AA08-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s4/33accc56-04b2-4858-8636-15189898aa08/current/log_inprogress_1
2022-07-14 02:38:52,316 [s1@group-15189898AA08-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-15189898AA08-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s1/33accc56-04b2-4858-8636-15189898aa08/current/log_inprogress_1
2022-07-14 02:38:52,317 [Thread-1355] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-15189898AA08: succeeded to handle AppendEntries. Reply: s4<-s1#770:OK-t2,SUCCESS,nextIndex=2,followerCommit=0
2022-07-14 02:38:52,317 [s2@group-15189898AA08-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-15189898AA08-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s2/33accc56-04b2-4858-8636-15189898aa08/current/log_inprogress_1
2022-07-14 02:38:52,317 [s3@group-15189898AA08-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s3@group-15189898AA08-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s3/33accc56-04b2-4858-8636-15189898aa08/current/log_inprogress_1
2022-07-14 02:38:52,318 [Thread-1357] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-15189898AA08: succeeded to handle AppendEntries. Reply: s4<-s2#772:OK-t2,SUCCESS,nextIndex=2,followerCommit=0
2022-07-14 02:38:52,321 [Thread-1358] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s3@group-15189898AA08: succeeded to handle AppendEntries. Reply: s4<-s3#771:OK-t2,SUCCESS,nextIndex=2,followerCommit=0
2022-07-14 02:38:52,321 [Thread-1232] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s3@group-15189898AA08: receive appendEntries(s4, 2, (t:2, i:1), 1, true, commits[s4:c1, s3:c0, s0:c0, s1:c0, s2:c0], entries: (t:2, i:2), METADATAENTRY(c:1)
2022-07-14 02:38:52,322 [Thread-1262] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-15189898AA08: receive appendEntries(s4, 2, (t:2, i:1), 1, true, commits[s4:c1, s3:c0, s0:c0, s1:c0, s2:c0], entries: (t:2, i:2), METADATAENTRY(c:1)
2022-07-14 02:38:52,322 [Thread-1255] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-15189898AA08: receive appendEntries(s4, 2, (t:2, i:1), 1, true, commits[s4:c1, s3:c0, s0:c0, s1:c0, s2:c0], entries: (t:2, i:2), METADATAENTRY(c:1)
2022-07-14 02:38:52,323 [Thread-1360] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s3@group-15189898AA08: succeeded to handle AppendEntries. Reply: s4<-s3#776:OK-t2,SUCCESS,nextIndex=3,followerCommit=1
2022-07-14 02:38:52,325 [Thread-1362] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-15189898AA08: succeeded to handle AppendEntries. Reply: s4<-s1#777:OK-t2,SUCCESS,nextIndex=3,followerCommit=1
2022-07-14 02:38:52,330 [Thread-1361] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-15189898AA08: succeeded to handle AppendEntries. Reply: s4<-s2#778:OK-t2,SUCCESS,nextIndex=3,followerCommit=1
2022-07-14 02:38:52,512 [s4@group-15189898AA08->s0-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(76)) - s4@group-15189898AA08->s0-LogAppenderDefault: Failed to appendEntries (retry=11): {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:112)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:66)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:142)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:77)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:38:52,566 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-15189898AA08:t2, leader=s4, voted=s4, raftlog=Memoized:s3@group-15189898AA08-SegmentedRaftLog:OPENED:c2, conf=1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
  s4:  RUNNING    LEADER s4@group-15189898AA08:t2, leader=s4, voted=s4, raftlog=Memoized:s4@group-15189898AA08-SegmentedRaftLog:OPENED:c2, conf=1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
  s0:   CLOSED    LEADER s0@group-15189898AA08:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-15189898AA08-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s1:  RUNNING  FOLLOWER s1@group-15189898AA08:t2, leader=s4, voted=s4, raftlog=Memoized:s1@group-15189898AA08-SegmentedRaftLog:OPENED:c2, conf=1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-15189898AA08:t2, leader=s4, voted=s4, raftlog=Memoized:s2@group-15189898AA08-SegmentedRaftLog:OPENED:c2, conf=1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
2022-07-14 02:38:52,567 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitAndKillLeader(135)) - killing leader =    LEADER s4@group-15189898AA08:t2, leader=s4, voted=s4, raftlog=Memoized:s4@group-15189898AA08-SegmentedRaftLog:OPENED:c2, conf=1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
2022-07-14 02:38:52,567 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(487)) - killServer s4
2022-07-14 02:38:52,567 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s4: close
2022-07-14 02:38:52,567 [Time-limited test] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(437)) - s4@group-15189898AA08: shutdown
2022-07-14 02:38:52,567 [Time-limited test] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-15189898AA08,id=s4
2022-07-14 02:38:52,567 [Time-limited test] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s4: shutdown s4@group-15189898AA08-LeaderStateImpl
2022-07-14 02:38:52,567 [Time-limited test] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s4@group-15189898AA08-PendingRequests: sendNotLeaderResponses
2022-07-14 02:38:52,567 [s4@group-15189898AA08->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s4@group-15189898AA08->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-07-14 02:38:52,567 [s4@group-15189898AA08->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s4@group-15189898AA08->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-07-14 02:38:52,567 [s4@group-15189898AA08->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s4@group-15189898AA08->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException: sleep interrupted
2022-07-14 02:38:52,569 [Time-limited test] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s4@group-15189898AA08-StateMachineUpdater: set stopIndex = 2
2022-07-14 02:38:52,568 [s4@group-15189898AA08->s3-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s4@group-15189898AA08->s3-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-07-14 02:38:52,569 [Time-limited test] INFO  server.RaftServer$Division (ServerState.java:close(456)) - s4@group-15189898AA08: closes. applyIndex: 2
2022-07-14 02:38:52,569 [s4@group-15189898AA08-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s4@group-15189898AA08-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-07-14 02:38:52,570 [Time-limited test] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s4@group-15189898AA08-SegmentedRaftLogWorker close()
2022-07-14 02:38:52,571 [Thread-1240] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s4.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:52,571 [Thread-1241] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s4.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:52,571 [Thread-1242] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s4.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:52,571 [Thread-1237] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s4.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:52,572 [Thread-1238] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s4.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:52,572 [Thread-1239] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s4.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:52,572 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$250/1367845902@73894683] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s4: Stopped
2022-07-14 02:38:52,572 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:38:52,574 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-15189898AA08:t2, leader=s4, voted=s4, raftlog=Memoized:s3@group-15189898AA08-SegmentedRaftLog:OPENED:c2, conf=1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
  s4:   CLOSED    LEADER s4@group-15189898AA08:t2, leader=s4, voted=s4, raftlog=Memoized:s4@group-15189898AA08-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-15189898AA08:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-15189898AA08-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s1:  RUNNING  FOLLOWER s1@group-15189898AA08:t2, leader=s4, voted=s4, raftlog=Memoized:s1@group-15189898AA08-SegmentedRaftLog:OPENED:c2, conf=1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-15189898AA08:t2, leader=s4, voted=s4, raftlog=Memoized:s2@group-15189898AA08-SegmentedRaftLog:OPENED:c2, conf=1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
2022-07-14 02:38:52,575 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-15189898AA08:t2, leader=s4, voted=s4, raftlog=Memoized:s3@group-15189898AA08-SegmentedRaftLog:OPENED:c2, conf=1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
  s4:   CLOSED    LEADER s4@group-15189898AA08:t2, leader=s4, voted=s4, raftlog=Memoized:s4@group-15189898AA08-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-15189898AA08:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-15189898AA08-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s1:  RUNNING  FOLLOWER s1@group-15189898AA08:t2, leader=s4, voted=s4, raftlog=Memoized:s1@group-15189898AA08-SegmentedRaftLog:OPENED:c2, conf=1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-15189898AA08:t2, leader=s4, voted=s4, raftlog=Memoized:s2@group-15189898AA08-SegmentedRaftLog:OPENED:c2, conf=1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-15189898AA08:t2, leader=s4, voted=s4, raftlog=Memoized:s3@group-15189898AA08-SegmentedRaftLog:OPENED:c2, conf=1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
  s4:   CLOSED    LEADER s4@group-15189898AA08:t2, leader=s4, voted=s4, raftlog=Memoized:s4@group-15189898AA08-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-15189898AA08:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-15189898AA08-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s1:  RUNNING  FOLLOWER s1@group-15189898AA08:t2, leader=s4, voted=s4, raftlog=Memoized:s1@group-15189898AA08-SegmentedRaftLog:OPENED:c2, conf=1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-15189898AA08:t2, leader=s4, voted=s4, raftlog=Memoized:s2@group-15189898AA08-SegmentedRaftLog:OPENED:c2, conf=1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:535)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:569)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:562)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.RaftTestUtil.waitAndKillLeader(RaftTestUtil.java:132)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:85)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:38:52,822 [s3@group-15189898AA08-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s3@group-15189898AA08-FollowerState: change to CANDIDATE, lastRpcElapsedTime:270279382ns, electionTimeout:265ms
2022-07-14 02:38:52,823 [s3@group-15189898AA08-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-15189898AA08-FollowerState
2022-07-14 02:38:52,823 [s3@group-15189898AA08-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s3@group-15189898AA08: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2022-07-14 02:38:52,823 [s3@group-15189898AA08-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:38:52,823 [s3@group-15189898AA08-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-15189898AA08-LeaderElection41
2022-07-14 02:38:52,824 [s3@group-15189898AA08-LeaderElection41] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s3@group-15189898AA08: change Leader from s4 to null at term 2 for PRE_VOTE
2022-07-14 02:38:52,824 [s3@group-15189898AA08-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s3@group-15189898AA08-LeaderElection41 PRE_VOTE round 0: submit vote requests at term 2 for 1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:52,824 [Thread-1253] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-15189898AA08: receive requestVote(PRE_VOTE, s3, group-15189898AA08, 2, (t:2, i:2))
2022-07-14 02:38:52,825 [Thread-1253] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-15189898AA08-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2022-07-14 02:38:52,825 [Thread-1253] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-15189898AA08 replies to PRE_VOTE vote request: s3<-s1#0:OK-t2. Peer's state: s1@group-15189898AA08:t2, leader=s4, voted=s4, raftlog=Memoized:s1@group-15189898AA08-SegmentedRaftLog:OPENED:c2, conf=1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:52,825 [s3@group-15189898AA08-LeaderElection41] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s3@group-15189898AA08-LeaderElection41 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-07-14 02:38:52,825 [s3@group-15189898AA08-LeaderElection41] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s3@group-15189898AA08-LeaderElection41 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-07-14 02:38:52,825 [Thread-1260] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-15189898AA08: receive requestVote(PRE_VOTE, s3, group-15189898AA08, 2, (t:2, i:2))
2022-07-14 02:38:52,825 [Thread-1260] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-15189898AA08-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2022-07-14 02:38:52,825 [Thread-1260] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-15189898AA08 replies to PRE_VOTE vote request: s3<-s2#0:OK-t2. Peer's state: s2@group-15189898AA08:t2, leader=s4, voted=s4, raftlog=Memoized:s2@group-15189898AA08-SegmentedRaftLog:OPENED:c2, conf=1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:52,825 [s3@group-15189898AA08-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s3@group-15189898AA08-LeaderElection41: PRE_VOTE PASSED received 2 response(s) and 2 exception(s):
2022-07-14 02:38:52,825 [s3@group-15189898AA08-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s3<-s1#0:OK-t2
2022-07-14 02:38:52,825 [s3@group-15189898AA08-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s3<-s2#0:OK-t2
2022-07-14 02:38:52,826 [s3@group-15189898AA08-LeaderElection41] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-07-14 02:38:52,826 [s3@group-15189898AA08-LeaderElection41] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-07-14 02:38:52,826 [s3@group-15189898AA08-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s3@group-15189898AA08-LeaderElection41 PRE_VOTE round 0: result PASSED
2022-07-14 02:38:52,827 [s3@group-15189898AA08-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s3@group-15189898AA08-LeaderElection41 ELECTION round 0: submit vote requests at term 3 for 1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:52,828 [Thread-1254] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-15189898AA08: receive requestVote(ELECTION, s3, group-15189898AA08, 3, (t:2, i:2))
2022-07-14 02:38:52,828 [s3@group-15189898AA08-LeaderElection41] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s3@group-15189898AA08-LeaderElection41 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-07-14 02:38:52,828 [Thread-1254] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-15189898AA08-FOLLOWER: accept ELECTION from s3: our priority 0 <= candidate's priority 0
2022-07-14 02:38:52,829 [Thread-1254] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s1@group-15189898AA08: change Leader from s4 to null at term 3 for updateCurrentTerm
2022-07-14 02:38:52,829 [Thread-1254] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-15189898AA08: changes role from  FOLLOWER to FOLLOWER at term 3 for candidate:s3
2022-07-14 02:38:52,829 [Thread-1254] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-15189898AA08-FollowerState
2022-07-14 02:38:52,829 [Thread-1254] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-15189898AA08-FollowerState
2022-07-14 02:38:52,829 [Thread-1261] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-15189898AA08: receive requestVote(ELECTION, s3, group-15189898AA08, 3, (t:2, i:2))
2022-07-14 02:38:52,829 [Thread-1261] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-15189898AA08-FOLLOWER: accept ELECTION from s3: our priority 0 <= candidate's priority 0
2022-07-14 02:38:52,829 [Thread-1261] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s2@group-15189898AA08: change Leader from s4 to null at term 3 for updateCurrentTerm
2022-07-14 02:38:52,829 [Thread-1261] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-15189898AA08: changes role from  FOLLOWER to FOLLOWER at term 3 for candidate:s3
2022-07-14 02:38:52,829 [Thread-1261] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-15189898AA08-FollowerState
2022-07-14 02:38:52,829 [Thread-1261] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-15189898AA08-FollowerState
2022-07-14 02:38:52,830 [s1@group-15189898AA08-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-15189898AA08-FollowerState was interrupted
2022-07-14 02:38:52,830 [s2@group-15189898AA08-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-15189898AA08-FollowerState was interrupted
2022-07-14 02:38:52,830 [s3@group-15189898AA08-LeaderElection41] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s3@group-15189898AA08-LeaderElection41 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-07-14 02:38:52,832 [Thread-1254] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-15189898AA08 replies to ELECTION vote request: s3<-s1#0:OK-t3. Peer's state: s1@group-15189898AA08:t3, leader=null, voted=s3, raftlog=Memoized:s1@group-15189898AA08-SegmentedRaftLog:OPENED:c2, conf=1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:52,832 [Thread-1261] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-15189898AA08 replies to ELECTION vote request: s3<-s2#0:OK-t3. Peer's state: s2@group-15189898AA08:t3, leader=null, voted=s3, raftlog=Memoized:s2@group-15189898AA08-SegmentedRaftLog:OPENED:c2, conf=1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:52,833 [s3@group-15189898AA08-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s3@group-15189898AA08-LeaderElection41: ELECTION PASSED received 2 response(s) and 2 exception(s):
2022-07-14 02:38:52,833 [s3@group-15189898AA08-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s3<-s1#0:OK-t3
2022-07-14 02:38:52,833 [s3@group-15189898AA08-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s3<-s2#0:OK-t3
2022-07-14 02:38:52,833 [s3@group-15189898AA08-LeaderElection41] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-07-14 02:38:52,833 [s3@group-15189898AA08-LeaderElection41] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-07-14 02:38:52,834 [s3@group-15189898AA08-LeaderElection41] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s3@group-15189898AA08-LeaderElection41 ELECTION round 0: result PASSED
2022-07-14 02:38:52,834 [s3@group-15189898AA08-LeaderElection41] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s3: shutdown s3@group-15189898AA08-LeaderElection41
2022-07-14 02:38:52,834 [s3@group-15189898AA08-LeaderElection41] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s3@group-15189898AA08: changes role from CANDIDATE to LEADER at term 3 for changeToLeader
2022-07-14 02:38:52,835 [s3@group-15189898AA08-LeaderElection41] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s3@group-15189898AA08: change Leader from null to s3 at term 3 for becomeLeader, leader elected after 10ms
2022-07-14 02:38:52,835 [s3@group-15189898AA08-LeaderElection41] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-07-14 02:38:52,835 [s3@group-15189898AA08-LeaderElection41] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-14 02:38:52,835 [s3@group-15189898AA08-LeaderElection41] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-07-14 02:38:52,836 [s3@group-15189898AA08-LeaderElection41] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-07-14 02:38:52,836 [s3@group-15189898AA08-LeaderElection41] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-07-14 02:38:52,836 [s3@group-15189898AA08-LeaderElection41] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-07-14 02:38:52,837 [s3@group-15189898AA08-LeaderElection41] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-14 02:38:52,838 [s3@group-15189898AA08-LeaderElection41] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-07-14 02:38:52,839 [s3@group-15189898AA08-LeaderElection41] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-14 02:38:52,841 [s3@group-15189898AA08-LeaderElection41] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:38:52,841 [s3@group-15189898AA08-LeaderElection41] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-14 02:38:52,842 [s3@group-15189898AA08-LeaderElection41] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-14 02:38:52,842 [s3@group-15189898AA08-LeaderElection41] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:38:52,842 [s3@group-15189898AA08-LeaderElection41] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-14 02:38:52,843 [s3@group-15189898AA08-LeaderElection41] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-14 02:38:52,843 [s3@group-15189898AA08-LeaderElection41] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:38:52,843 [s3@group-15189898AA08-LeaderElection41] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-14 02:38:52,844 [s3@group-15189898AA08-LeaderElection41] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-14 02:38:52,845 [s3@group-15189898AA08-LeaderElection41] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:38:52,845 [s3@group-15189898AA08-LeaderElection41] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-14 02:38:52,845 [s3@group-15189898AA08-LeaderElection41] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-15189898AA08-LeaderStateImpl
2022-07-14 02:38:52,846 [s3@group-15189898AA08-LeaderElection41] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s3@group-15189898AA08-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2022-07-14 02:38:52,849 [s3@group-15189898AA08-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s3/33accc56-04b2-4858-8636-15189898aa08/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s3/33accc56-04b2-4858-8636-15189898aa08/current/log_1-2
2022-07-14 02:38:52,849 [s3@group-15189898AA08-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s3@group-15189898AA08-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s3/33accc56-04b2-4858-8636-15189898aa08/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s3/33accc56-04b2-4858-8636-15189898aa08/current/log_1-2
2022-07-14 02:38:52,860 [s3@group-15189898AA08->s4-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(76)) - s3@group-15189898AA08->s4-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s4 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:112)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:66)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:142)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:77)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:38:52,860 [Thread-1255] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s1@group-15189898AA08: change Leader from null to s3 at term 3 for appendEntries, leader elected after 31ms
2022-07-14 02:38:52,860 [s3@group-15189898AA08->s0-LogAppenderDefault-LogAppenderDaemon] WARN  leader.LogAppender (LogAppenderDefault.java:sendAppendEntriesWithRetries(76)) - s3@group-15189898AA08->s0-LogAppenderDefault: Failed to appendEntries (retry=1): {}
java.io.IOException: The peer s0 is not alive.
	at org.apache.ratis.server.simulation.SimulatedRequestReply.sendRequest(SimulatedRequestReply.java:117)
	at org.apache.ratis.server.simulation.SimulatedServerRpc.appendEntries(SimulatedServerRpc.java:112)
	at org.apache.ratis.server.leader.LogAppenderDefault.sendAppendEntriesWithRetries(LogAppenderDefault.java:66)
	at org.apache.ratis.server.leader.LogAppenderDefault.run(LogAppenderDefault.java:142)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:77)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:38:52,861 [s3@group-15189898AA08-LeaderElection41] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s3@group-15189898AA08: set configuration 3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:52,861 [Thread-1262] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s2@group-15189898AA08: change Leader from null to s3 at term 3 for appendEntries, leader elected after 32ms
2022-07-14 02:38:52,862 [Thread-1253] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-15189898AA08: receive appendEntries(s3, 3, (t:2, i:2), 2, true, commits[s3:c2, s4:c2, s0:c0, s1:c2, s2:c2], entries: (t:3, i:3), CONFIGURATIONENTRY
2022-07-14 02:38:52,862 [Thread-1253] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s1@group-15189898AA08: set configuration 3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:52,863 [Thread-1253] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s1@group-15189898AA08-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2022-07-14 02:38:52,864 [s1@group-15189898AA08-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s1/33accc56-04b2-4858-8636-15189898aa08/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s1/33accc56-04b2-4858-8636-15189898aa08/current/log_1-2
2022-07-14 02:38:52,864 [s1@group-15189898AA08-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s1@group-15189898AA08-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s1/33accc56-04b2-4858-8636-15189898aa08/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s1/33accc56-04b2-4858-8636-15189898aa08/current/log_1-2
2022-07-14 02:38:52,866 [s3@group-15189898AA08-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s3@group-15189898AA08-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s3/33accc56-04b2-4858-8636-15189898aa08/current/log_inprogress_3
2022-07-14 02:38:52,869 [Thread-1260] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-15189898AA08: receive appendEntries(s3, 3, (t:2, i:2), 2, true, commits[s3:c2, s4:c2, s0:c0, s1:c2, s2:c2], entries: (t:3, i:3), CONFIGURATIONENTRY
2022-07-14 02:38:52,869 [Thread-1260] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s2@group-15189898AA08: set configuration 3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:52,870 [Thread-1260] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s2@group-15189898AA08-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2022-07-14 02:38:52,872 [s2@group-15189898AA08-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s2/33accc56-04b2-4858-8636-15189898aa08/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s2/33accc56-04b2-4858-8636-15189898aa08/current/log_1-2
2022-07-14 02:38:52,872 [s2@group-15189898AA08-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s2@group-15189898AA08-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s2/33accc56-04b2-4858-8636-15189898aa08/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s2/33accc56-04b2-4858-8636-15189898aa08/current/log_1-2
2022-07-14 02:38:52,876 [s1@group-15189898AA08-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-15189898AA08-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s1/33accc56-04b2-4858-8636-15189898aa08/current/log_inprogress_3
2022-07-14 02:38:52,876 [Thread-1402] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-15189898AA08: succeeded to handle AppendEntries. Reply: s3<-s1#803:OK-t3,SUCCESS,nextIndex=4,followerCommit=2
2022-07-14 02:38:52,888 [s2@group-15189898AA08-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-15189898AA08-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc89877883/s2/33accc56-04b2-4858-8636-15189898aa08/current/log_inprogress_3
2022-07-14 02:38:52,889 [Thread-1403] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-15189898AA08: succeeded to handle AppendEntries. Reply: s3<-s2#805:OK-t3,SUCCESS,nextIndex=4,followerCommit=2
2022-07-14 02:38:52,891 [Thread-1261] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-15189898AA08: receive appendEntries(s3, 3, (t:3, i:3), 3, true, commits[s3:c3, s4:c2, s0:c0, s1:c2, s2:c2], entries: (t:3, i:4), METADATAENTRY(c:3)
2022-07-14 02:38:52,892 [Thread-1254] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-15189898AA08: receive appendEntries(s3, 3, (t:3, i:3), 3, true, commits[s3:c3, s4:c2, s0:c0, s1:c2, s2:c2], entries: (t:3, i:4), METADATAENTRY(c:3)
2022-07-14 02:38:52,899 [Thread-1404] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-15189898AA08: succeeded to handle AppendEntries. Reply: s3<-s1#809:OK-t3,SUCCESS,nextIndex=5,followerCommit=3
2022-07-14 02:38:52,902 [Thread-1405] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-15189898AA08: succeeded to handle AppendEntries. Reply: s3<-s2#808:OK-t3,SUCCESS,nextIndex=5,followerCommit=3
2022-07-14 02:38:53,026 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s3:  RUNNING    LEADER s3@group-15189898AA08:t3, leader=s3, voted=s3, raftlog=Memoized:s3@group-15189898AA08-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
  s4:   CLOSED    LEADER s4@group-15189898AA08:t2, leader=s4, voted=s4, raftlog=Memoized:s4@group-15189898AA08-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-15189898AA08:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-15189898AA08-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s1:  RUNNING  FOLLOWER s1@group-15189898AA08:t3, leader=s3, voted=s3, raftlog=Memoized:s1@group-15189898AA08-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-15189898AA08:t3, leader=s3, voted=s3, raftlog=Memoized:s2@group-15189898AA08-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
2022-07-14 02:38:53,026 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitAndKillLeader(135)) - killing leader =    LEADER s3@group-15189898AA08:t3, leader=s3, voted=s3, raftlog=Memoized:s3@group-15189898AA08-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
2022-07-14 02:38:53,027 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:killServer(487)) - killServer s3
2022-07-14 02:38:53,027 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s3: close
2022-07-14 02:38:53,027 [Time-limited test] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(437)) - s3@group-15189898AA08: shutdown
2022-07-14 02:38:53,027 [Time-limited test] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-15189898AA08,id=s3
2022-07-14 02:38:53,027 [Time-limited test] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s3: shutdown s3@group-15189898AA08-LeaderStateImpl
2022-07-14 02:38:53,027 [Time-limited test] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s3@group-15189898AA08-PendingRequests: sendNotLeaderResponses
2022-07-14 02:38:53,028 [s3@group-15189898AA08->s4-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s3@group-15189898AA08->s4-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException: sleep interrupted
2022-07-14 02:38:53,028 [Time-limited test] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s3@group-15189898AA08-StateMachineUpdater: set stopIndex = 4
2022-07-14 02:38:53,028 [Time-limited test] INFO  server.RaftServer$Division (ServerState.java:close(456)) - s3@group-15189898AA08: closes. applyIndex: 4
2022-07-14 02:38:53,028 [s3@group-15189898AA08->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s3@group-15189898AA08->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException: sleep interrupted
2022-07-14 02:38:53,028 [s3@group-15189898AA08-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s3@group-15189898AA08-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-07-14 02:38:53,028 [s3@group-15189898AA08->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s3@group-15189898AA08->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-07-14 02:38:53,028 [s3@group-15189898AA08->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s3@group-15189898AA08->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-07-14 02:38:53,030 [Time-limited test] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s3@group-15189898AA08-SegmentedRaftLogWorker close()
2022-07-14 02:38:53,031 [Thread-1233] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:53,031 [Thread-1234] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:53,031 [Thread-1235] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:53,031 [Thread-1230] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:53,031 [Thread-1231] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:53,032 [Thread-1232] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s3.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:53,032 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$250/1367845902@2b5ceb9a] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s3: Stopped
2022-07-14 02:38:53,032 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (BaseTest.java:testFailureCase(151)) - run 'waitForLeader after killed a majority of servers'
2022-07-14 02:38:53,033 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:38:53,033 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s3:   CLOSED    LEADER s3@group-15189898AA08:t3, leader=s3, voted=s3, raftlog=Memoized:s3@group-15189898AA08-SegmentedRaftLog:CLOSED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-15189898AA08:t2, leader=s4, voted=s4, raftlog=Memoized:s4@group-15189898AA08-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-15189898AA08:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-15189898AA08-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s1:  RUNNING  FOLLOWER s1@group-15189898AA08:t3, leader=s3, voted=s3, raftlog=Memoized:s1@group-15189898AA08-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-15189898AA08:t3, leader=s3, voted=s3, raftlog=Memoized:s2@group-15189898AA08-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
2022-07-14 02:38:53,033 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #1/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-15189898AA08:t3, leader=s3, voted=s3, raftlog=Memoized:s3@group-15189898AA08-SegmentedRaftLog:CLOSED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-15189898AA08:t2, leader=s4, voted=s4, raftlog=Memoized:s4@group-15189898AA08-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-15189898AA08:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-15189898AA08-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s1:  RUNNING  FOLLOWER s1@group-15189898AA08:t3, leader=s3, voted=s3, raftlog=Memoized:s1@group-15189898AA08-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-15189898AA08:t3, leader=s3, voted=s3, raftlog=Memoized:s2@group-15189898AA08-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-15189898AA08:t3, leader=s3, voted=s3, raftlog=Memoized:s3@group-15189898AA08-SegmentedRaftLog:CLOSED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-15189898AA08:t2, leader=s4, voted=s4, raftlog=Memoized:s4@group-15189898AA08-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-15189898AA08:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-15189898AA08-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s1:  RUNNING  FOLLOWER s1@group-15189898AA08:t3, leader=s3, voted=s3, raftlog=Memoized:s1@group-15189898AA08-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-15189898AA08:t3, leader=s3, voted=s3, raftlog=Memoized:s2@group-15189898AA08-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:535)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:569)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:562)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:87)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:86)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:38:53,183 [s1@group-15189898AA08-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-15189898AA08-FollowerState: change to CANDIDATE, lastRpcElapsedTime:207422399ns, electionTimeout:172ms
2022-07-14 02:38:53,183 [s1@group-15189898AA08-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-15189898AA08-FollowerState
2022-07-14 02:38:53,183 [s1@group-15189898AA08-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-15189898AA08: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-07-14 02:38:53,183 [s1@group-15189898AA08-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:38:53,183 [s1@group-15189898AA08-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-15189898AA08-LeaderElection42
2022-07-14 02:38:53,184 [s1@group-15189898AA08-LeaderElection42] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s1@group-15189898AA08: change Leader from s3 to null at term 3 for PRE_VOTE
2022-07-14 02:38:53,184 [s1@group-15189898AA08-LeaderElection42] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-15189898AA08-LeaderElection42 PRE_VOTE round 0: submit vote requests at term 3 for 3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:53,185 [s1@group-15189898AA08-LeaderElection42] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-15189898AA08-LeaderElection42 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-14 02:38:53,185 [Thread-1260] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-15189898AA08: receive requestVote(PRE_VOTE, s1, group-15189898AA08, 3, (t:3, i:4))
2022-07-14 02:38:53,185 [s1@group-15189898AA08-LeaderElection42] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-15189898AA08-LeaderElection42 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-07-14 02:38:53,185 [Thread-1260] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-15189898AA08-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-07-14 02:38:53,185 [s1@group-15189898AA08-LeaderElection42] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-15189898AA08-LeaderElection42 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-07-14 02:38:53,185 [Thread-1260] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-15189898AA08 replies to PRE_VOTE vote request: s1<-s2#0:OK-t3. Peer's state: s2@group-15189898AA08:t3, leader=s3, voted=s3, raftlog=Memoized:s2@group-15189898AA08-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:53,187 [s1@group-15189898AA08-LeaderElection42] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-15189898AA08-LeaderElection42: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-07-14 02:38:53,187 [s1@group-15189898AA08-LeaderElection42] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s2#0:OK-t3
2022-07-14 02:38:53,187 [s1@group-15189898AA08-LeaderElection42] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-14 02:38:53,187 [s1@group-15189898AA08-LeaderElection42] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-07-14 02:38:53,187 [s1@group-15189898AA08-LeaderElection42] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-07-14 02:38:53,187 [s1@group-15189898AA08-LeaderElection42] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-15189898AA08-LeaderElection42 PRE_VOTE round 0: result REJECTED
2022-07-14 02:38:53,187 [s1@group-15189898AA08-LeaderElection42] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-15189898AA08: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-07-14 02:38:53,187 [s1@group-15189898AA08-LeaderElection42] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-15189898AA08-LeaderElection42
2022-07-14 02:38:53,187 [s1@group-15189898AA08-LeaderElection42] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-15189898AA08-FollowerState
2022-07-14 02:38:53,359 [s1@group-15189898AA08-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-15189898AA08-FollowerState: change to CANDIDATE, lastRpcElapsedTime:171527236ns, electionTimeout:171ms
2022-07-14 02:38:53,359 [s1@group-15189898AA08-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-15189898AA08-FollowerState
2022-07-14 02:38:53,359 [s1@group-15189898AA08-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-15189898AA08: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-07-14 02:38:53,359 [s1@group-15189898AA08-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:38:53,359 [s1@group-15189898AA08-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-15189898AA08-LeaderElection43
2022-07-14 02:38:53,360 [s1@group-15189898AA08-LeaderElection43] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-15189898AA08-LeaderElection43 PRE_VOTE round 0: submit vote requests at term 3 for 3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:53,362 [s1@group-15189898AA08-LeaderElection43] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-15189898AA08-LeaderElection43 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-14 02:38:53,363 [s1@group-15189898AA08-LeaderElection43] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-15189898AA08-LeaderElection43 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-07-14 02:38:53,363 [Thread-1261] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-15189898AA08: receive requestVote(PRE_VOTE, s1, group-15189898AA08, 3, (t:3, i:4))
2022-07-14 02:38:53,363 [s1@group-15189898AA08-LeaderElection43] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-15189898AA08-LeaderElection43 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-07-14 02:38:53,363 [Thread-1261] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-15189898AA08-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-07-14 02:38:53,363 [Thread-1261] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-15189898AA08 replies to PRE_VOTE vote request: s1<-s2#0:OK-t3. Peer's state: s2@group-15189898AA08:t3, leader=s3, voted=s3, raftlog=Memoized:s2@group-15189898AA08-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:53,363 [s1@group-15189898AA08-LeaderElection43] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-15189898AA08-LeaderElection43: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-07-14 02:38:53,363 [s1@group-15189898AA08-LeaderElection43] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s2#0:OK-t3
2022-07-14 02:38:53,363 [s1@group-15189898AA08-LeaderElection43] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-14 02:38:53,363 [s1@group-15189898AA08-LeaderElection43] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-07-14 02:38:53,363 [s1@group-15189898AA08-LeaderElection43] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-07-14 02:38:53,363 [s1@group-15189898AA08-LeaderElection43] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-15189898AA08-LeaderElection43 PRE_VOTE round 0: result REJECTED
2022-07-14 02:38:53,363 [s1@group-15189898AA08-LeaderElection43] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-15189898AA08: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-07-14 02:38:53,364 [s1@group-15189898AA08-LeaderElection43] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-15189898AA08-LeaderElection43
2022-07-14 02:38:53,364 [s1@group-15189898AA08-LeaderElection43] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-15189898AA08-FollowerState
2022-07-14 02:38:53,486 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #2/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-15189898AA08:t3, leader=s3, voted=s3, raftlog=Memoized:s3@group-15189898AA08-SegmentedRaftLog:CLOSED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-15189898AA08:t2, leader=s4, voted=s4, raftlog=Memoized:s4@group-15189898AA08-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-15189898AA08:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-15189898AA08-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s1:  RUNNING  FOLLOWER s1@group-15189898AA08:t3, leader=null, voted=s3, raftlog=Memoized:s1@group-15189898AA08-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-15189898AA08:t3, leader=s3, voted=s3, raftlog=Memoized:s2@group-15189898AA08-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-15189898AA08:t3, leader=s3, voted=s3, raftlog=Memoized:s3@group-15189898AA08-SegmentedRaftLog:CLOSED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-15189898AA08:t2, leader=s4, voted=s4, raftlog=Memoized:s4@group-15189898AA08-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-15189898AA08:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-15189898AA08-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s1:  RUNNING  FOLLOWER s1@group-15189898AA08:t3, leader=null, voted=s3, raftlog=Memoized:s1@group-15189898AA08-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-15189898AA08:t3, leader=s3, voted=s3, raftlog=Memoized:s2@group-15189898AA08-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:535)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:569)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:562)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:87)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:86)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:38:53,608 [s1@group-15189898AA08-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-15189898AA08-FollowerState: change to CANDIDATE, lastRpcElapsedTime:244587624ns, electionTimeout:244ms
2022-07-14 02:38:53,608 [s1@group-15189898AA08-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-15189898AA08-FollowerState
2022-07-14 02:38:53,608 [s1@group-15189898AA08-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-15189898AA08: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-07-14 02:38:53,609 [s1@group-15189898AA08-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:38:53,609 [s1@group-15189898AA08-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-15189898AA08-LeaderElection44
2022-07-14 02:38:53,609 [s1@group-15189898AA08-LeaderElection44] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-15189898AA08-LeaderElection44 PRE_VOTE round 0: submit vote requests at term 3 for 3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:53,610 [s1@group-15189898AA08-LeaderElection44] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-15189898AA08-LeaderElection44 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-14 02:38:53,610 [Thread-1262] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-15189898AA08: receive requestVote(PRE_VOTE, s1, group-15189898AA08, 3, (t:3, i:4))
2022-07-14 02:38:53,610 [s1@group-15189898AA08-LeaderElection44] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-15189898AA08-LeaderElection44 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-07-14 02:38:53,610 [Thread-1262] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-15189898AA08-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-07-14 02:38:53,611 [s1@group-15189898AA08-LeaderElection44] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-15189898AA08-LeaderElection44 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-07-14 02:38:53,611 [Thread-1262] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-15189898AA08 replies to PRE_VOTE vote request: s1<-s2#0:OK-t3. Peer's state: s2@group-15189898AA08:t3, leader=s3, voted=s3, raftlog=Memoized:s2@group-15189898AA08-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:53,611 [s1@group-15189898AA08-LeaderElection44] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-15189898AA08-LeaderElection44: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-07-14 02:38:53,611 [s1@group-15189898AA08-LeaderElection44] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s2#0:OK-t3
2022-07-14 02:38:53,611 [s1@group-15189898AA08-LeaderElection44] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-14 02:38:53,611 [s1@group-15189898AA08-LeaderElection44] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-07-14 02:38:53,611 [s1@group-15189898AA08-LeaderElection44] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-07-14 02:38:53,611 [s1@group-15189898AA08-LeaderElection44] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-15189898AA08-LeaderElection44 PRE_VOTE round 0: result REJECTED
2022-07-14 02:38:53,611 [s1@group-15189898AA08-LeaderElection44] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-15189898AA08: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-07-14 02:38:53,611 [s1@group-15189898AA08-LeaderElection44] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-15189898AA08-LeaderElection44
2022-07-14 02:38:53,611 [s1@group-15189898AA08-LeaderElection44] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-15189898AA08-FollowerState
2022-07-14 02:38:53,899 [s1@group-15189898AA08-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-15189898AA08-FollowerState: change to CANDIDATE, lastRpcElapsedTime:287629424ns, electionTimeout:287ms
2022-07-14 02:38:53,899 [s1@group-15189898AA08-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-15189898AA08-FollowerState
2022-07-14 02:38:53,899 [s1@group-15189898AA08-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-15189898AA08: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-07-14 02:38:53,899 [s1@group-15189898AA08-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:38:53,900 [s1@group-15189898AA08-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-15189898AA08-LeaderElection45
2022-07-14 02:38:53,900 [s1@group-15189898AA08-LeaderElection45] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-15189898AA08-LeaderElection45 PRE_VOTE round 0: submit vote requests at term 3 for 3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:53,901 [s1@group-15189898AA08-LeaderElection45] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-15189898AA08-LeaderElection45 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-14 02:38:53,901 [Thread-1260] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-15189898AA08: receive requestVote(PRE_VOTE, s1, group-15189898AA08, 3, (t:3, i:4))
2022-07-14 02:38:53,901 [Thread-1260] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-15189898AA08-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-07-14 02:38:53,901 [Thread-1260] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-15189898AA08 replies to PRE_VOTE vote request: s1<-s2#0:OK-t3. Peer's state: s2@group-15189898AA08:t3, leader=s3, voted=s3, raftlog=Memoized:s2@group-15189898AA08-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:53,901 [s1@group-15189898AA08-LeaderElection45] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-15189898AA08-LeaderElection45 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-07-14 02:38:53,901 [s1@group-15189898AA08-LeaderElection45] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-15189898AA08-LeaderElection45 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-07-14 02:38:53,902 [s1@group-15189898AA08-LeaderElection45] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-15189898AA08-LeaderElection45: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-07-14 02:38:53,902 [s1@group-15189898AA08-LeaderElection45] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s2#0:OK-t3
2022-07-14 02:38:53,902 [s1@group-15189898AA08-LeaderElection45] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-14 02:38:53,902 [s1@group-15189898AA08-LeaderElection45] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-07-14 02:38:53,902 [s1@group-15189898AA08-LeaderElection45] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-07-14 02:38:53,902 [s1@group-15189898AA08-LeaderElection45] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-15189898AA08-LeaderElection45 PRE_VOTE round 0: result REJECTED
2022-07-14 02:38:53,902 [s1@group-15189898AA08-LeaderElection45] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-15189898AA08: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-07-14 02:38:53,902 [s1@group-15189898AA08-LeaderElection45] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-15189898AA08-LeaderElection45
2022-07-14 02:38:53,902 [s1@group-15189898AA08-LeaderElection45] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-15189898AA08-FollowerState
2022-07-14 02:38:53,938 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #3/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-15189898AA08:t3, leader=s3, voted=s3, raftlog=Memoized:s3@group-15189898AA08-SegmentedRaftLog:CLOSED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-15189898AA08:t2, leader=s4, voted=s4, raftlog=Memoized:s4@group-15189898AA08-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-15189898AA08:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-15189898AA08-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s1:  RUNNING  FOLLOWER s1@group-15189898AA08:t3, leader=null, voted=s3, raftlog=Memoized:s1@group-15189898AA08-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-15189898AA08:t3, leader=s3, voted=s3, raftlog=Memoized:s2@group-15189898AA08-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-15189898AA08:t3, leader=s3, voted=s3, raftlog=Memoized:s3@group-15189898AA08-SegmentedRaftLog:CLOSED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-15189898AA08:t2, leader=s4, voted=s4, raftlog=Memoized:s4@group-15189898AA08-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-15189898AA08:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-15189898AA08-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s1:  RUNNING  FOLLOWER s1@group-15189898AA08:t3, leader=null, voted=s3, raftlog=Memoized:s1@group-15189898AA08-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-15189898AA08:t3, leader=s3, voted=s3, raftlog=Memoized:s2@group-15189898AA08-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:535)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:569)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:562)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:87)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:86)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:38:54,182 [s2@group-15189898AA08-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-15189898AA08-FollowerState: change to CANDIDATE, lastRpcElapsedTime:280347468ns, electionTimeout:154ms
2022-07-14 02:38:54,182 [s2@group-15189898AA08-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-15189898AA08-FollowerState
2022-07-14 02:38:54,182 [s2@group-15189898AA08-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-15189898AA08: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-07-14 02:38:54,182 [s2@group-15189898AA08-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:38:54,182 [s2@group-15189898AA08-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-15189898AA08-LeaderElection46
2022-07-14 02:38:54,183 [s2@group-15189898AA08-LeaderElection46] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s2@group-15189898AA08: change Leader from s3 to null at term 3 for PRE_VOTE
2022-07-14 02:38:54,183 [s2@group-15189898AA08-LeaderElection46] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-15189898AA08-LeaderElection46 PRE_VOTE round 0: submit vote requests at term 3 for 3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:54,184 [s2@group-15189898AA08-LeaderElection46] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-15189898AA08-LeaderElection46 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-14 02:38:54,184 [s2@group-15189898AA08-LeaderElection46] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-15189898AA08-LeaderElection46 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-07-14 02:38:54,184 [s2@group-15189898AA08-LeaderElection46] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-15189898AA08-LeaderElection46 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-07-14 02:38:54,184 [Thread-1253] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-15189898AA08: receive requestVote(PRE_VOTE, s2, group-15189898AA08, 3, (t:3, i:4))
2022-07-14 02:38:54,185 [Thread-1253] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-15189898AA08-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-07-14 02:38:54,185 [Thread-1253] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-15189898AA08 replies to PRE_VOTE vote request: s2<-s1#0:OK-t3. Peer's state: s1@group-15189898AA08:t3, leader=null, voted=s3, raftlog=Memoized:s1@group-15189898AA08-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:54,185 [s2@group-15189898AA08-LeaderElection46] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-15189898AA08-LeaderElection46: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-07-14 02:38:54,185 [s2@group-15189898AA08-LeaderElection46] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s1#0:OK-t3
2022-07-14 02:38:54,185 [s2@group-15189898AA08-LeaderElection46] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-14 02:38:54,185 [s2@group-15189898AA08-LeaderElection46] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-07-14 02:38:54,185 [s2@group-15189898AA08-LeaderElection46] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-07-14 02:38:54,185 [s2@group-15189898AA08-LeaderElection46] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-15189898AA08-LeaderElection46 PRE_VOTE round 0: result REJECTED
2022-07-14 02:38:54,185 [s2@group-15189898AA08-LeaderElection46] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-15189898AA08: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-07-14 02:38:54,185 [s2@group-15189898AA08-LeaderElection46] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-15189898AA08-LeaderElection46
2022-07-14 02:38:54,185 [s2@group-15189898AA08-LeaderElection46] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-15189898AA08-FollowerState
2022-07-14 02:38:54,348 [s2@group-15189898AA08-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-15189898AA08-FollowerState: change to CANDIDATE, lastRpcElapsedTime:162461734ns, electionTimeout:162ms
2022-07-14 02:38:54,348 [s2@group-15189898AA08-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-15189898AA08-FollowerState
2022-07-14 02:38:54,348 [s2@group-15189898AA08-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-15189898AA08: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-07-14 02:38:54,348 [s2@group-15189898AA08-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:38:54,348 [s2@group-15189898AA08-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-15189898AA08-LeaderElection47
2022-07-14 02:38:54,349 [s2@group-15189898AA08-LeaderElection47] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-15189898AA08-LeaderElection47 PRE_VOTE round 0: submit vote requests at term 3 for 3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:54,350 [s2@group-15189898AA08-LeaderElection47] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-15189898AA08-LeaderElection47 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-14 02:38:54,350 [s2@group-15189898AA08-LeaderElection47] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-15189898AA08-LeaderElection47 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-07-14 02:38:54,350 [Thread-1254] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-15189898AA08: receive requestVote(PRE_VOTE, s2, group-15189898AA08, 3, (t:3, i:4))
2022-07-14 02:38:54,350 [Thread-1254] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-15189898AA08-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-07-14 02:38:54,350 [s2@group-15189898AA08-LeaderElection47] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-15189898AA08-LeaderElection47 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-07-14 02:38:54,350 [Thread-1254] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-15189898AA08 replies to PRE_VOTE vote request: s2<-s1#0:OK-t3. Peer's state: s1@group-15189898AA08:t3, leader=null, voted=s3, raftlog=Memoized:s1@group-15189898AA08-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:54,351 [s2@group-15189898AA08-LeaderElection47] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-15189898AA08-LeaderElection47: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-07-14 02:38:54,351 [s2@group-15189898AA08-LeaderElection47] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s1#0:OK-t3
2022-07-14 02:38:54,351 [s2@group-15189898AA08-LeaderElection47] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-14 02:38:54,351 [s2@group-15189898AA08-LeaderElection47] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-07-14 02:38:54,351 [s2@group-15189898AA08-LeaderElection47] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-07-14 02:38:54,351 [s2@group-15189898AA08-LeaderElection47] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-15189898AA08-LeaderElection47 PRE_VOTE round 0: result REJECTED
2022-07-14 02:38:54,351 [s2@group-15189898AA08-LeaderElection47] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-15189898AA08: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-07-14 02:38:54,351 [s2@group-15189898AA08-LeaderElection47] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-15189898AA08-LeaderElection47
2022-07-14 02:38:54,351 [s2@group-15189898AA08-LeaderElection47] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-15189898AA08-FollowerState
2022-07-14 02:38:54,389 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #4/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-15189898AA08:t3, leader=s3, voted=s3, raftlog=Memoized:s3@group-15189898AA08-SegmentedRaftLog:CLOSED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-15189898AA08:t2, leader=s4, voted=s4, raftlog=Memoized:s4@group-15189898AA08-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-15189898AA08:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-15189898AA08-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s1:  RUNNING  FOLLOWER s1@group-15189898AA08:t3, leader=null, voted=s3, raftlog=Memoized:s1@group-15189898AA08-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-15189898AA08:t3, leader=null, voted=s3, raftlog=Memoized:s2@group-15189898AA08-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-15189898AA08:t3, leader=s3, voted=s3, raftlog=Memoized:s3@group-15189898AA08-SegmentedRaftLog:CLOSED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-15189898AA08:t2, leader=s4, voted=s4, raftlog=Memoized:s4@group-15189898AA08-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-15189898AA08:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-15189898AA08-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s1:  RUNNING  FOLLOWER s1@group-15189898AA08:t3, leader=null, voted=s3, raftlog=Memoized:s1@group-15189898AA08-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-15189898AA08:t3, leader=null, voted=s3, raftlog=Memoized:s2@group-15189898AA08-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:535)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:569)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:562)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:87)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:86)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:38:54,610 [s2@group-15189898AA08-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-15189898AA08-FollowerState: change to CANDIDATE, lastRpcElapsedTime:258663977ns, electionTimeout:258ms
2022-07-14 02:38:54,610 [s2@group-15189898AA08-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-15189898AA08-FollowerState
2022-07-14 02:38:54,610 [s2@group-15189898AA08-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-15189898AA08: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-07-14 02:38:54,610 [s2@group-15189898AA08-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:38:54,610 [s2@group-15189898AA08-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-15189898AA08-LeaderElection48
2022-07-14 02:38:54,611 [s2@group-15189898AA08-LeaderElection48] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-15189898AA08-LeaderElection48 PRE_VOTE round 0: submit vote requests at term 3 for 3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:54,612 [s2@group-15189898AA08-LeaderElection48] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-15189898AA08-LeaderElection48 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-14 02:38:54,612 [s2@group-15189898AA08-LeaderElection48] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-15189898AA08-LeaderElection48 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-07-14 02:38:54,612 [Thread-1255] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-15189898AA08: receive requestVote(PRE_VOTE, s2, group-15189898AA08, 3, (t:3, i:4))
2022-07-14 02:38:54,612 [s2@group-15189898AA08-LeaderElection48] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-15189898AA08-LeaderElection48 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-07-14 02:38:54,612 [Thread-1255] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-15189898AA08-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-07-14 02:38:54,612 [Thread-1255] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-15189898AA08 replies to PRE_VOTE vote request: s2<-s1#0:OK-t3. Peer's state: s1@group-15189898AA08:t3, leader=null, voted=s3, raftlog=Memoized:s1@group-15189898AA08-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:54,612 [s2@group-15189898AA08-LeaderElection48] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-15189898AA08-LeaderElection48: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-07-14 02:38:54,612 [s2@group-15189898AA08-LeaderElection48] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s1#0:OK-t3
2022-07-14 02:38:54,612 [s2@group-15189898AA08-LeaderElection48] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-14 02:38:54,612 [s2@group-15189898AA08-LeaderElection48] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-07-14 02:38:54,612 [s2@group-15189898AA08-LeaderElection48] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-07-14 02:38:54,612 [s2@group-15189898AA08-LeaderElection48] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-15189898AA08-LeaderElection48 PRE_VOTE round 0: result REJECTED
2022-07-14 02:38:54,612 [s2@group-15189898AA08-LeaderElection48] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-15189898AA08: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-07-14 02:38:54,612 [s2@group-15189898AA08-LeaderElection48] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-15189898AA08-LeaderElection48
2022-07-14 02:38:54,613 [s2@group-15189898AA08-LeaderElection48] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-15189898AA08-FollowerState
2022-07-14 02:38:54,841 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #5/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-15189898AA08:t3, leader=s3, voted=s3, raftlog=Memoized:s3@group-15189898AA08-SegmentedRaftLog:CLOSED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-15189898AA08:t2, leader=s4, voted=s4, raftlog=Memoized:s4@group-15189898AA08-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-15189898AA08:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-15189898AA08-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s1:  RUNNING  FOLLOWER s1@group-15189898AA08:t3, leader=null, voted=s3, raftlog=Memoized:s1@group-15189898AA08-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-15189898AA08:t3, leader=null, voted=s3, raftlog=Memoized:s2@group-15189898AA08-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-15189898AA08:t3, leader=s3, voted=s3, raftlog=Memoized:s3@group-15189898AA08-SegmentedRaftLog:CLOSED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-15189898AA08:t2, leader=s4, voted=s4, raftlog=Memoized:s4@group-15189898AA08-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-15189898AA08:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-15189898AA08-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s1:  RUNNING  FOLLOWER s1@group-15189898AA08:t3, leader=null, voted=s3, raftlog=Memoized:s1@group-15189898AA08-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-15189898AA08:t3, leader=null, voted=s3, raftlog=Memoized:s2@group-15189898AA08-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:535)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:569)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:562)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:87)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:86)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:38:54,855 [s2@group-15189898AA08-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-15189898AA08-FollowerState: change to CANDIDATE, lastRpcElapsedTime:242951133ns, electionTimeout:240ms
2022-07-14 02:38:54,856 [s2@group-15189898AA08-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-15189898AA08-FollowerState
2022-07-14 02:38:54,856 [s2@group-15189898AA08-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-15189898AA08: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-07-14 02:38:54,856 [s2@group-15189898AA08-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:38:54,856 [s2@group-15189898AA08-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-15189898AA08-LeaderElection49
2022-07-14 02:38:54,857 [s2@group-15189898AA08-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-15189898AA08-LeaderElection49 PRE_VOTE round 0: submit vote requests at term 3 for 3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:54,861 [s2@group-15189898AA08-LeaderElection49] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-15189898AA08-LeaderElection49 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-07-14 02:38:54,861 [s2@group-15189898AA08-LeaderElection49] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-15189898AA08-LeaderElection49 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-14 02:38:54,861 [s2@group-15189898AA08-LeaderElection49] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-15189898AA08-LeaderElection49 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-07-14 02:38:54,865 [Thread-1253] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-15189898AA08: receive requestVote(PRE_VOTE, s2, group-15189898AA08, 3, (t:3, i:4))
2022-07-14 02:38:54,865 [Thread-1253] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-15189898AA08-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-07-14 02:38:54,865 [Thread-1253] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-15189898AA08 replies to PRE_VOTE vote request: s2<-s1#0:OK-t3. Peer's state: s1@group-15189898AA08:t3, leader=null, voted=s3, raftlog=Memoized:s1@group-15189898AA08-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:54,865 [s2@group-15189898AA08-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-15189898AA08-LeaderElection49: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-07-14 02:38:54,865 [s2@group-15189898AA08-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s1#0:OK-t3
2022-07-14 02:38:54,865 [s2@group-15189898AA08-LeaderElection49] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-07-14 02:38:54,865 [s2@group-15189898AA08-LeaderElection49] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-14 02:38:54,865 [s2@group-15189898AA08-LeaderElection49] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-07-14 02:38:54,865 [s2@group-15189898AA08-LeaderElection49] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-15189898AA08-LeaderElection49 PRE_VOTE round 0: result REJECTED
2022-07-14 02:38:54,866 [s2@group-15189898AA08-LeaderElection49] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-15189898AA08: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-07-14 02:38:54,866 [s2@group-15189898AA08-LeaderElection49] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-15189898AA08-LeaderElection49
2022-07-14 02:38:54,866 [s2@group-15189898AA08-LeaderElection49] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-15189898AA08-FollowerState
2022-07-14 02:38:55,130 [s2@group-15189898AA08-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-15189898AA08-FollowerState: change to CANDIDATE, lastRpcElapsedTime:264378288ns, electionTimeout:264ms
2022-07-14 02:38:55,130 [s2@group-15189898AA08-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-15189898AA08-FollowerState
2022-07-14 02:38:55,130 [s2@group-15189898AA08-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-15189898AA08: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-07-14 02:38:55,131 [s2@group-15189898AA08-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:38:55,131 [s2@group-15189898AA08-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-15189898AA08-LeaderElection50
2022-07-14 02:38:55,131 [s2@group-15189898AA08-LeaderElection50] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-15189898AA08-LeaderElection50 PRE_VOTE round 0: submit vote requests at term 3 for 3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:55,132 [s2@group-15189898AA08-LeaderElection50] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-15189898AA08-LeaderElection50 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-14 02:38:55,132 [s2@group-15189898AA08-LeaderElection50] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-15189898AA08-LeaderElection50 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-07-14 02:38:55,132 [Thread-1254] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-15189898AA08: receive requestVote(PRE_VOTE, s2, group-15189898AA08, 3, (t:3, i:4))
2022-07-14 02:38:55,132 [s2@group-15189898AA08-LeaderElection50] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-15189898AA08-LeaderElection50 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-07-14 02:38:55,132 [Thread-1254] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-15189898AA08-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-07-14 02:38:55,132 [Thread-1254] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-15189898AA08 replies to PRE_VOTE vote request: s2<-s1#0:OK-t3. Peer's state: s1@group-15189898AA08:t3, leader=null, voted=s3, raftlog=Memoized:s1@group-15189898AA08-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:55,133 [s2@group-15189898AA08-LeaderElection50] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-15189898AA08-LeaderElection50: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-07-14 02:38:55,133 [s2@group-15189898AA08-LeaderElection50] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s1#0:OK-t3
2022-07-14 02:38:55,133 [s2@group-15189898AA08-LeaderElection50] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-14 02:38:55,133 [s2@group-15189898AA08-LeaderElection50] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-07-14 02:38:55,133 [s2@group-15189898AA08-LeaderElection50] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-07-14 02:38:55,133 [s2@group-15189898AA08-LeaderElection50] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-15189898AA08-LeaderElection50 PRE_VOTE round 0: result REJECTED
2022-07-14 02:38:55,133 [s2@group-15189898AA08-LeaderElection50] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-15189898AA08: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-07-14 02:38:55,133 [s2@group-15189898AA08-LeaderElection50] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-15189898AA08-LeaderElection50
2022-07-14 02:38:55,133 [s2@group-15189898AA08-LeaderElection50] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-15189898AA08-FollowerState
2022-07-14 02:38:55,292 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #6/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-15189898AA08:t3, leader=s3, voted=s3, raftlog=Memoized:s3@group-15189898AA08-SegmentedRaftLog:CLOSED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-15189898AA08:t2, leader=s4, voted=s4, raftlog=Memoized:s4@group-15189898AA08-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-15189898AA08:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-15189898AA08-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s1:  RUNNING  FOLLOWER s1@group-15189898AA08:t3, leader=null, voted=s3, raftlog=Memoized:s1@group-15189898AA08-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-15189898AA08:t3, leader=null, voted=s3, raftlog=Memoized:s2@group-15189898AA08-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-15189898AA08:t3, leader=s3, voted=s3, raftlog=Memoized:s3@group-15189898AA08-SegmentedRaftLog:CLOSED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-15189898AA08:t2, leader=s4, voted=s4, raftlog=Memoized:s4@group-15189898AA08-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-15189898AA08:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-15189898AA08-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s1:  RUNNING  FOLLOWER s1@group-15189898AA08:t3, leader=null, voted=s3, raftlog=Memoized:s1@group-15189898AA08-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-15189898AA08:t3, leader=null, voted=s3, raftlog=Memoized:s2@group-15189898AA08-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:535)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:569)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:562)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:87)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:86)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:38:55,295 [s2@group-15189898AA08-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-15189898AA08-FollowerState: change to CANDIDATE, lastRpcElapsedTime:161704008ns, electionTimeout:161ms
2022-07-14 02:38:55,295 [s2@group-15189898AA08-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-15189898AA08-FollowerState
2022-07-14 02:38:55,295 [s2@group-15189898AA08-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-15189898AA08: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-07-14 02:38:55,295 [s2@group-15189898AA08-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:38:55,296 [s2@group-15189898AA08-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-15189898AA08-LeaderElection51
2022-07-14 02:38:55,296 [s2@group-15189898AA08-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-15189898AA08-LeaderElection51 PRE_VOTE round 0: submit vote requests at term 3 for 3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:55,297 [s2@group-15189898AA08-LeaderElection51] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-15189898AA08-LeaderElection51 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-14 02:38:55,297 [Thread-1255] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-15189898AA08: receive requestVote(PRE_VOTE, s2, group-15189898AA08, 3, (t:3, i:4))
2022-07-14 02:38:55,297 [s2@group-15189898AA08-LeaderElection51] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-15189898AA08-LeaderElection51 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-07-14 02:38:55,297 [Thread-1255] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-15189898AA08-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-07-14 02:38:55,297 [s2@group-15189898AA08-LeaderElection51] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-15189898AA08-LeaderElection51 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-07-14 02:38:55,297 [Thread-1255] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-15189898AA08 replies to PRE_VOTE vote request: s2<-s1#0:OK-t3. Peer's state: s1@group-15189898AA08:t3, leader=null, voted=s3, raftlog=Memoized:s1@group-15189898AA08-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:55,298 [s2@group-15189898AA08-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-15189898AA08-LeaderElection51: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-07-14 02:38:55,298 [s2@group-15189898AA08-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s1#0:OK-t3
2022-07-14 02:38:55,298 [s2@group-15189898AA08-LeaderElection51] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-14 02:38:55,298 [s2@group-15189898AA08-LeaderElection51] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-07-14 02:38:55,298 [s2@group-15189898AA08-LeaderElection51] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-07-14 02:38:55,298 [s2@group-15189898AA08-LeaderElection51] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-15189898AA08-LeaderElection51 PRE_VOTE round 0: result REJECTED
2022-07-14 02:38:55,298 [s2@group-15189898AA08-LeaderElection51] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-15189898AA08: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-07-14 02:38:55,298 [s2@group-15189898AA08-LeaderElection51] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-15189898AA08-LeaderElection51
2022-07-14 02:38:55,298 [s2@group-15189898AA08-LeaderElection51] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-15189898AA08-FollowerState
2022-07-14 02:38:55,462 [s2@group-15189898AA08-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-15189898AA08-FollowerState: change to CANDIDATE, lastRpcElapsedTime:163553776ns, electionTimeout:163ms
2022-07-14 02:38:55,462 [s2@group-15189898AA08-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-15189898AA08-FollowerState
2022-07-14 02:38:55,462 [s2@group-15189898AA08-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-15189898AA08: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-07-14 02:38:55,462 [s2@group-15189898AA08-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:38:55,462 [s2@group-15189898AA08-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-15189898AA08-LeaderElection52
2022-07-14 02:38:55,463 [s2@group-15189898AA08-LeaderElection52] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-15189898AA08-LeaderElection52 PRE_VOTE round 0: submit vote requests at term 3 for 3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:55,464 [s2@group-15189898AA08-LeaderElection52] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-15189898AA08-LeaderElection52 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-14 02:38:55,464 [Thread-1253] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-15189898AA08: receive requestVote(PRE_VOTE, s2, group-15189898AA08, 3, (t:3, i:4))
2022-07-14 02:38:55,464 [s2@group-15189898AA08-LeaderElection52] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-15189898AA08-LeaderElection52 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-07-14 02:38:55,464 [Thread-1253] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-15189898AA08-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-07-14 02:38:55,464 [Thread-1253] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-15189898AA08 replies to PRE_VOTE vote request: s2<-s1#0:OK-t3. Peer's state: s1@group-15189898AA08:t3, leader=null, voted=s3, raftlog=Memoized:s1@group-15189898AA08-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:55,464 [s2@group-15189898AA08-LeaderElection52] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-15189898AA08-LeaderElection52 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-07-14 02:38:55,464 [s2@group-15189898AA08-LeaderElection52] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-15189898AA08-LeaderElection52: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-07-14 02:38:55,465 [s2@group-15189898AA08-LeaderElection52] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s1#0:OK-t3
2022-07-14 02:38:55,465 [s2@group-15189898AA08-LeaderElection52] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-14 02:38:55,465 [s2@group-15189898AA08-LeaderElection52] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-07-14 02:38:55,465 [s2@group-15189898AA08-LeaderElection52] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-07-14 02:38:55,465 [s2@group-15189898AA08-LeaderElection52] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-15189898AA08-LeaderElection52 PRE_VOTE round 0: result REJECTED
2022-07-14 02:38:55,465 [s2@group-15189898AA08-LeaderElection52] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-15189898AA08: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-07-14 02:38:55,465 [s2@group-15189898AA08-LeaderElection52] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-15189898AA08-LeaderElection52
2022-07-14 02:38:55,465 [s2@group-15189898AA08-LeaderElection52] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-15189898AA08-FollowerState
2022-07-14 02:38:55,677 [s2@group-15189898AA08-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-15189898AA08-FollowerState: change to CANDIDATE, lastRpcElapsedTime:211778063ns, electionTimeout:204ms
2022-07-14 02:38:55,677 [s2@group-15189898AA08-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-15189898AA08-FollowerState
2022-07-14 02:38:55,677 [s2@group-15189898AA08-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-15189898AA08: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-07-14 02:38:55,677 [s2@group-15189898AA08-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:38:55,677 [s2@group-15189898AA08-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-15189898AA08-LeaderElection53
2022-07-14 02:38:55,678 [s2@group-15189898AA08-LeaderElection53] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-15189898AA08-LeaderElection53 PRE_VOTE round 0: submit vote requests at term 3 for 3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:55,679 [s2@group-15189898AA08-LeaderElection53] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-15189898AA08-LeaderElection53 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-14 02:38:55,679 [s2@group-15189898AA08-LeaderElection53] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-15189898AA08-LeaderElection53 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-07-14 02:38:55,679 [Thread-1254] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-15189898AA08: receive requestVote(PRE_VOTE, s2, group-15189898AA08, 3, (t:3, i:4))
2022-07-14 02:38:55,679 [Thread-1254] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-15189898AA08-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-07-14 02:38:55,679 [Thread-1254] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-15189898AA08 replies to PRE_VOTE vote request: s2<-s1#0:OK-t3. Peer's state: s1@group-15189898AA08:t3, leader=null, voted=s3, raftlog=Memoized:s1@group-15189898AA08-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:55,680 [s2@group-15189898AA08-LeaderElection53] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-15189898AA08-LeaderElection53 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-07-14 02:38:55,681 [s2@group-15189898AA08-LeaderElection53] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-15189898AA08-LeaderElection53: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-07-14 02:38:55,681 [s2@group-15189898AA08-LeaderElection53] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s1#0:OK-t3
2022-07-14 02:38:55,681 [s2@group-15189898AA08-LeaderElection53] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-14 02:38:55,681 [s2@group-15189898AA08-LeaderElection53] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-07-14 02:38:55,681 [s2@group-15189898AA08-LeaderElection53] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-07-14 02:38:55,681 [s2@group-15189898AA08-LeaderElection53] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-15189898AA08-LeaderElection53 PRE_VOTE round 0: result REJECTED
2022-07-14 02:38:55,681 [s2@group-15189898AA08-LeaderElection53] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-15189898AA08: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-07-14 02:38:55,681 [s2@group-15189898AA08-LeaderElection53] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-15189898AA08-LeaderElection53
2022-07-14 02:38:55,681 [s2@group-15189898AA08-LeaderElection53] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-15189898AA08-FollowerState
2022-07-14 02:38:55,743 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #7/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-15189898AA08:t3, leader=s3, voted=s3, raftlog=Memoized:s3@group-15189898AA08-SegmentedRaftLog:CLOSED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-15189898AA08:t2, leader=s4, voted=s4, raftlog=Memoized:s4@group-15189898AA08-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-15189898AA08:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-15189898AA08-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s1:  RUNNING  FOLLOWER s1@group-15189898AA08:t3, leader=null, voted=s3, raftlog=Memoized:s1@group-15189898AA08-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-15189898AA08:t3, leader=null, voted=s3, raftlog=Memoized:s2@group-15189898AA08-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-15189898AA08:t3, leader=s3, voted=s3, raftlog=Memoized:s3@group-15189898AA08-SegmentedRaftLog:CLOSED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-15189898AA08:t2, leader=s4, voted=s4, raftlog=Memoized:s4@group-15189898AA08-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-15189898AA08:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-15189898AA08-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s1:  RUNNING  FOLLOWER s1@group-15189898AA08:t3, leader=null, voted=s3, raftlog=Memoized:s1@group-15189898AA08-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-15189898AA08:t3, leader=null, voted=s3, raftlog=Memoized:s2@group-15189898AA08-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:535)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:569)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:562)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:87)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:86)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:38:55,869 [s2@group-15189898AA08-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-15189898AA08-FollowerState: change to CANDIDATE, lastRpcElapsedTime:187649067ns, electionTimeout:187ms
2022-07-14 02:38:55,869 [s2@group-15189898AA08-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-15189898AA08-FollowerState
2022-07-14 02:38:55,869 [s2@group-15189898AA08-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-15189898AA08: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-07-14 02:38:55,869 [s2@group-15189898AA08-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:38:55,869 [s2@group-15189898AA08-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-15189898AA08-LeaderElection54
2022-07-14 02:38:55,870 [s2@group-15189898AA08-LeaderElection54] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-15189898AA08-LeaderElection54 PRE_VOTE round 0: submit vote requests at term 3 for 3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:55,871 [s2@group-15189898AA08-LeaderElection54] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-15189898AA08-LeaderElection54 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-14 02:38:55,871 [s2@group-15189898AA08-LeaderElection54] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-15189898AA08-LeaderElection54 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-07-14 02:38:55,871 [s2@group-15189898AA08-LeaderElection54] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-15189898AA08-LeaderElection54 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-07-14 02:38:55,871 [Thread-1255] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-15189898AA08: receive requestVote(PRE_VOTE, s2, group-15189898AA08, 3, (t:3, i:4))
2022-07-14 02:38:55,871 [Thread-1255] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-15189898AA08-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-07-14 02:38:55,872 [Thread-1255] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-15189898AA08 replies to PRE_VOTE vote request: s2<-s1#0:OK-t3. Peer's state: s1@group-15189898AA08:t3, leader=null, voted=s3, raftlog=Memoized:s1@group-15189898AA08-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:55,872 [s2@group-15189898AA08-LeaderElection54] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-15189898AA08-LeaderElection54: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-07-14 02:38:55,872 [s2@group-15189898AA08-LeaderElection54] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s1#0:OK-t3
2022-07-14 02:38:55,872 [s2@group-15189898AA08-LeaderElection54] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-14 02:38:55,872 [s2@group-15189898AA08-LeaderElection54] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-07-14 02:38:55,872 [s2@group-15189898AA08-LeaderElection54] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-07-14 02:38:55,872 [s2@group-15189898AA08-LeaderElection54] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-15189898AA08-LeaderElection54 PRE_VOTE round 0: result REJECTED
2022-07-14 02:38:55,872 [s2@group-15189898AA08-LeaderElection54] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-15189898AA08: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-07-14 02:38:55,872 [s2@group-15189898AA08-LeaderElection54] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-15189898AA08-LeaderElection54
2022-07-14 02:38:55,872 [s2@group-15189898AA08-LeaderElection54] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-15189898AA08-FollowerState
2022-07-14 02:38:56,079 [s2@group-15189898AA08-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-15189898AA08-FollowerState: change to CANDIDATE, lastRpcElapsedTime:206758841ns, electionTimeout:206ms
2022-07-14 02:38:56,079 [s2@group-15189898AA08-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-15189898AA08-FollowerState
2022-07-14 02:38:56,079 [s2@group-15189898AA08-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-15189898AA08: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-07-14 02:38:56,079 [s2@group-15189898AA08-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:38:56,080 [s2@group-15189898AA08-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-15189898AA08-LeaderElection55
2022-07-14 02:38:56,080 [s2@group-15189898AA08-LeaderElection55] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-15189898AA08-LeaderElection55 PRE_VOTE round 0: submit vote requests at term 3 for 3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:56,081 [s2@group-15189898AA08-LeaderElection55] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-15189898AA08-LeaderElection55 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-14 02:38:56,081 [s2@group-15189898AA08-LeaderElection55] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-15189898AA08-LeaderElection55 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-07-14 02:38:56,081 [s2@group-15189898AA08-LeaderElection55] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-15189898AA08-LeaderElection55 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-07-14 02:38:56,081 [Thread-1253] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-15189898AA08: receive requestVote(PRE_VOTE, s2, group-15189898AA08, 3, (t:3, i:4))
2022-07-14 02:38:56,081 [Thread-1253] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-15189898AA08-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-07-14 02:38:56,081 [Thread-1253] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-15189898AA08 replies to PRE_VOTE vote request: s2<-s1#0:OK-t3. Peer's state: s1@group-15189898AA08:t3, leader=null, voted=s3, raftlog=Memoized:s1@group-15189898AA08-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:56,082 [s2@group-15189898AA08-LeaderElection55] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-15189898AA08-LeaderElection55: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-07-14 02:38:56,082 [s2@group-15189898AA08-LeaderElection55] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s1#0:OK-t3
2022-07-14 02:38:56,082 [s2@group-15189898AA08-LeaderElection55] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-14 02:38:56,082 [s2@group-15189898AA08-LeaderElection55] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-07-14 02:38:56,082 [s2@group-15189898AA08-LeaderElection55] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-07-14 02:38:56,082 [s2@group-15189898AA08-LeaderElection55] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-15189898AA08-LeaderElection55 PRE_VOTE round 0: result REJECTED
2022-07-14 02:38:56,082 [s2@group-15189898AA08-LeaderElection55] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-15189898AA08: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-07-14 02:38:56,082 [s2@group-15189898AA08-LeaderElection55] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-15189898AA08-LeaderElection55
2022-07-14 02:38:56,082 [s2@group-15189898AA08-LeaderElection55] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-15189898AA08-FollowerState
2022-07-14 02:38:56,195 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #8/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-15189898AA08:t3, leader=s3, voted=s3, raftlog=Memoized:s3@group-15189898AA08-SegmentedRaftLog:CLOSED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-15189898AA08:t2, leader=s4, voted=s4, raftlog=Memoized:s4@group-15189898AA08-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-15189898AA08:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-15189898AA08-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s1:  RUNNING  FOLLOWER s1@group-15189898AA08:t3, leader=null, voted=s3, raftlog=Memoized:s1@group-15189898AA08-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-15189898AA08:t3, leader=null, voted=s3, raftlog=Memoized:s2@group-15189898AA08-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-15189898AA08:t3, leader=s3, voted=s3, raftlog=Memoized:s3@group-15189898AA08-SegmentedRaftLog:CLOSED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-15189898AA08:t2, leader=s4, voted=s4, raftlog=Memoized:s4@group-15189898AA08-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-15189898AA08:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-15189898AA08-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s1:  RUNNING  FOLLOWER s1@group-15189898AA08:t3, leader=null, voted=s3, raftlog=Memoized:s1@group-15189898AA08-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-15189898AA08:t3, leader=null, voted=s3, raftlog=Memoized:s2@group-15189898AA08-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:535)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:569)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:562)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:87)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:86)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:38:56,236 [s2@group-15189898AA08-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-15189898AA08-FollowerState: change to CANDIDATE, lastRpcElapsedTime:153685732ns, electionTimeout:153ms
2022-07-14 02:38:56,236 [s2@group-15189898AA08-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-15189898AA08-FollowerState
2022-07-14 02:38:56,236 [s2@group-15189898AA08-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-15189898AA08: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-07-14 02:38:56,236 [s2@group-15189898AA08-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:38:56,237 [s2@group-15189898AA08-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-15189898AA08-LeaderElection56
2022-07-14 02:38:56,237 [s2@group-15189898AA08-LeaderElection56] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-15189898AA08-LeaderElection56 PRE_VOTE round 0: submit vote requests at term 3 for 3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:56,238 [s2@group-15189898AA08-LeaderElection56] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-15189898AA08-LeaderElection56 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-14 02:38:56,238 [s2@group-15189898AA08-LeaderElection56] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-15189898AA08-LeaderElection56 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-07-14 02:38:56,238 [Thread-1254] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-15189898AA08: receive requestVote(PRE_VOTE, s2, group-15189898AA08, 3, (t:3, i:4))
2022-07-14 02:38:56,238 [s2@group-15189898AA08-LeaderElection56] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-15189898AA08-LeaderElection56 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-07-14 02:38:56,238 [Thread-1254] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-15189898AA08-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-07-14 02:38:56,238 [Thread-1254] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-15189898AA08 replies to PRE_VOTE vote request: s2<-s1#0:OK-t3. Peer's state: s1@group-15189898AA08:t3, leader=null, voted=s3, raftlog=Memoized:s1@group-15189898AA08-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:56,238 [s2@group-15189898AA08-LeaderElection56] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-15189898AA08-LeaderElection56: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-07-14 02:38:56,238 [s2@group-15189898AA08-LeaderElection56] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s1#0:OK-t3
2022-07-14 02:38:56,238 [s2@group-15189898AA08-LeaderElection56] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-14 02:38:56,238 [s2@group-15189898AA08-LeaderElection56] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-07-14 02:38:56,238 [s2@group-15189898AA08-LeaderElection56] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-07-14 02:38:56,238 [s2@group-15189898AA08-LeaderElection56] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-15189898AA08-LeaderElection56 PRE_VOTE round 0: result REJECTED
2022-07-14 02:38:56,238 [s2@group-15189898AA08-LeaderElection56] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-15189898AA08: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-07-14 02:38:56,239 [s2@group-15189898AA08-LeaderElection56] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-15189898AA08-LeaderElection56
2022-07-14 02:38:56,239 [s2@group-15189898AA08-LeaderElection56] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-15189898AA08-FollowerState
2022-07-14 02:38:56,434 [s2@group-15189898AA08-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-15189898AA08-FollowerState: change to CANDIDATE, lastRpcElapsedTime:195685512ns, electionTimeout:195ms
2022-07-14 02:38:56,434 [s2@group-15189898AA08-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-15189898AA08-FollowerState
2022-07-14 02:38:56,435 [s2@group-15189898AA08-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-15189898AA08: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-07-14 02:38:56,435 [s2@group-15189898AA08-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:38:56,435 [s2@group-15189898AA08-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-15189898AA08-LeaderElection57
2022-07-14 02:38:56,435 [s2@group-15189898AA08-LeaderElection57] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-15189898AA08-LeaderElection57 PRE_VOTE round 0: submit vote requests at term 3 for 3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:56,436 [s2@group-15189898AA08-LeaderElection57] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-15189898AA08-LeaderElection57 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-14 02:38:56,436 [s2@group-15189898AA08-LeaderElection57] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-15189898AA08-LeaderElection57 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-07-14 02:38:56,436 [Thread-1255] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-15189898AA08: receive requestVote(PRE_VOTE, s2, group-15189898AA08, 3, (t:3, i:4))
2022-07-14 02:38:56,436 [Thread-1255] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-15189898AA08-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-07-14 02:38:56,437 [Thread-1255] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-15189898AA08 replies to PRE_VOTE vote request: s2<-s1#0:OK-t3. Peer's state: s1@group-15189898AA08:t3, leader=null, voted=s3, raftlog=Memoized:s1@group-15189898AA08-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:56,437 [s2@group-15189898AA08-LeaderElection57] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-15189898AA08-LeaderElection57 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-07-14 02:38:56,437 [s2@group-15189898AA08-LeaderElection57] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-15189898AA08-LeaderElection57: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-07-14 02:38:56,437 [s2@group-15189898AA08-LeaderElection57] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s1#0:OK-t3
2022-07-14 02:38:56,437 [s2@group-15189898AA08-LeaderElection57] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-14 02:38:56,437 [s2@group-15189898AA08-LeaderElection57] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-07-14 02:38:56,437 [s2@group-15189898AA08-LeaderElection57] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-07-14 02:38:56,437 [s2@group-15189898AA08-LeaderElection57] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-15189898AA08-LeaderElection57 PRE_VOTE round 0: result REJECTED
2022-07-14 02:38:56,437 [s2@group-15189898AA08-LeaderElection57] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-15189898AA08: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-07-14 02:38:56,438 [s2@group-15189898AA08-LeaderElection57] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-15189898AA08-LeaderElection57
2022-07-14 02:38:56,438 [s2@group-15189898AA08-LeaderElection57] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-15189898AA08-FollowerState
2022-07-14 02:38:56,596 [s2@group-15189898AA08-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-15189898AA08-FollowerState: change to CANDIDATE, lastRpcElapsedTime:158518967ns, electionTimeout:158ms
2022-07-14 02:38:56,596 [s2@group-15189898AA08-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-15189898AA08-FollowerState
2022-07-14 02:38:56,596 [s2@group-15189898AA08-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-15189898AA08: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-07-14 02:38:56,596 [s2@group-15189898AA08-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:38:56,597 [s2@group-15189898AA08-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-15189898AA08-LeaderElection58
2022-07-14 02:38:56,597 [s2@group-15189898AA08-LeaderElection58] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-15189898AA08-LeaderElection58 PRE_VOTE round 0: submit vote requests at term 3 for 3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:56,598 [s2@group-15189898AA08-LeaderElection58] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-15189898AA08-LeaderElection58 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-14 02:38:56,598 [s2@group-15189898AA08-LeaderElection58] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-15189898AA08-LeaderElection58 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-07-14 02:38:56,598 [s2@group-15189898AA08-LeaderElection58] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-15189898AA08-LeaderElection58 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-07-14 02:38:56,598 [Thread-1253] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-15189898AA08: receive requestVote(PRE_VOTE, s2, group-15189898AA08, 3, (t:3, i:4))
2022-07-14 02:38:56,598 [Thread-1253] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-15189898AA08-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-07-14 02:38:56,598 [Thread-1253] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-15189898AA08 replies to PRE_VOTE vote request: s2<-s1#0:OK-t3. Peer's state: s1@group-15189898AA08:t3, leader=null, voted=s3, raftlog=Memoized:s1@group-15189898AA08-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:56,598 [s2@group-15189898AA08-LeaderElection58] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-15189898AA08-LeaderElection58: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-07-14 02:38:56,598 [s2@group-15189898AA08-LeaderElection58] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s1#0:OK-t3
2022-07-14 02:38:56,598 [s2@group-15189898AA08-LeaderElection58] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-14 02:38:56,598 [s2@group-15189898AA08-LeaderElection58] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-07-14 02:38:56,598 [s2@group-15189898AA08-LeaderElection58] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-07-14 02:38:56,598 [s2@group-15189898AA08-LeaderElection58] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-15189898AA08-LeaderElection58 PRE_VOTE round 0: result REJECTED
2022-07-14 02:38:56,598 [s2@group-15189898AA08-LeaderElection58] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-15189898AA08: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-07-14 02:38:56,599 [s2@group-15189898AA08-LeaderElection58] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-15189898AA08-LeaderElection58
2022-07-14 02:38:56,599 [s2@group-15189898AA08-LeaderElection58] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-15189898AA08-FollowerState
2022-07-14 02:38:56,646 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? false)", attempt #9/10: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-15189898AA08:t3, leader=s3, voted=s3, raftlog=Memoized:s3@group-15189898AA08-SegmentedRaftLog:CLOSED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-15189898AA08:t2, leader=s4, voted=s4, raftlog=Memoized:s4@group-15189898AA08-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-15189898AA08:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-15189898AA08-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s1:  RUNNING  FOLLOWER s1@group-15189898AA08:t3, leader=null, voted=s3, raftlog=Memoized:s1@group-15189898AA08-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-15189898AA08:t3, leader=null, voted=s3, raftlog=Memoized:s2@group-15189898AA08-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-15189898AA08:t3, leader=s3, voted=s3, raftlog=Memoized:s3@group-15189898AA08-SegmentedRaftLog:CLOSED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-15189898AA08:t2, leader=s4, voted=s4, raftlog=Memoized:s4@group-15189898AA08-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-15189898AA08:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-15189898AA08-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s1:  RUNNING  FOLLOWER s1@group-15189898AA08:t3, leader=null, voted=s3, raftlog=Memoized:s1@group-15189898AA08-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-15189898AA08:t3, leader=null, voted=s3, raftlog=Memoized:s2@group-15189898AA08-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:535)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:569)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:562)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:87)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:86)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:38:56,797 [s2@group-15189898AA08-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-15189898AA08-FollowerState: change to CANDIDATE, lastRpcElapsedTime:198559670ns, electionTimeout:198ms
2022-07-14 02:38:56,797 [s2@group-15189898AA08-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-15189898AA08-FollowerState
2022-07-14 02:38:56,797 [s2@group-15189898AA08-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-15189898AA08: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-07-14 02:38:56,798 [s2@group-15189898AA08-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:38:56,798 [s2@group-15189898AA08-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-15189898AA08-LeaderElection59
2022-07-14 02:38:56,798 [s2@group-15189898AA08-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-15189898AA08-LeaderElection59 PRE_VOTE round 0: submit vote requests at term 3 for 3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:56,799 [s2@group-15189898AA08-LeaderElection59] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-15189898AA08-LeaderElection59 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-14 02:38:56,799 [Thread-1254] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-15189898AA08: receive requestVote(PRE_VOTE, s2, group-15189898AA08, 3, (t:3, i:4))
2022-07-14 02:38:56,799 [s2@group-15189898AA08-LeaderElection59] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-15189898AA08-LeaderElection59 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-07-14 02:38:56,799 [Thread-1254] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-15189898AA08-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-07-14 02:38:56,799 [s2@group-15189898AA08-LeaderElection59] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s2@group-15189898AA08-LeaderElection59 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-07-14 02:38:56,799 [Thread-1254] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-15189898AA08 replies to PRE_VOTE vote request: s2<-s1#0:OK-t3. Peer's state: s1@group-15189898AA08:t3, leader=null, voted=s3, raftlog=Memoized:s1@group-15189898AA08-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:56,800 [s2@group-15189898AA08-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-15189898AA08-LeaderElection59: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-07-14 02:38:56,800 [s2@group-15189898AA08-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s1#0:OK-t3
2022-07-14 02:38:56,800 [s2@group-15189898AA08-LeaderElection59] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-14 02:38:56,800 [s2@group-15189898AA08-LeaderElection59] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-07-14 02:38:56,800 [s2@group-15189898AA08-LeaderElection59] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-07-14 02:38:56,800 [s2@group-15189898AA08-LeaderElection59] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-15189898AA08-LeaderElection59 PRE_VOTE round 0: result REJECTED
2022-07-14 02:38:56,800 [s2@group-15189898AA08-LeaderElection59] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-15189898AA08: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-07-14 02:38:56,800 [s2@group-15189898AA08-LeaderElection59] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-15189898AA08-LeaderElection59
2022-07-14 02:38:56,800 [s2@group-15189898AA08-LeaderElection59] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-15189898AA08-FollowerState
2022-07-14 02:38:57,022 [s1@group-15189898AA08-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-15189898AA08-FollowerState: change to CANDIDATE, lastRpcElapsedTime:222125879ns, electionTimeout:199ms
2022-07-14 02:38:57,022 [s1@group-15189898AA08-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-15189898AA08-FollowerState
2022-07-14 02:38:57,022 [s1@group-15189898AA08-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-15189898AA08: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-07-14 02:38:57,022 [s1@group-15189898AA08-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:38:57,022 [s1@group-15189898AA08-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-15189898AA08-LeaderElection60
2022-07-14 02:38:57,022 [s1@group-15189898AA08-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-15189898AA08-LeaderElection60 PRE_VOTE round 0: submit vote requests at term 3 for 3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:57,023 [s1@group-15189898AA08-LeaderElection60] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-15189898AA08-LeaderElection60 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-14 02:38:57,023 [Thread-1261] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-15189898AA08: receive requestVote(PRE_VOTE, s1, group-15189898AA08, 3, (t:3, i:4))
2022-07-14 02:38:57,023 [s1@group-15189898AA08-LeaderElection60] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-15189898AA08-LeaderElection60 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-07-14 02:38:57,023 [Thread-1261] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-15189898AA08-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-07-14 02:38:57,023 [Thread-1261] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-15189898AA08 replies to PRE_VOTE vote request: s1<-s2#0:OK-t3. Peer's state: s2@group-15189898AA08:t3, leader=null, voted=s3, raftlog=Memoized:s2@group-15189898AA08-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null
2022-07-14 02:38:57,024 [s1@group-15189898AA08-LeaderElection60] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) - s1@group-15189898AA08-LeaderElection60 got exception when requesting votes: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-07-14 02:38:57,024 [s1@group-15189898AA08-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-15189898AA08-LeaderElection60: PRE_VOTE REJECTED received 1 response(s) and 3 exception(s):
2022-07-14 02:38:57,024 [s1@group-15189898AA08-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s2#0:OK-t3
2022-07-14 02:38:57,024 [s1@group-15189898AA08-LeaderElection60] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 1: java.util.concurrent.ExecutionException: java.io.IOException: The peer s3 is not alive.
2022-07-14 02:38:57,024 [s1@group-15189898AA08-LeaderElection60] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 2: java.util.concurrent.ExecutionException: java.io.IOException: The peer s0 is not alive.
2022-07-14 02:38:57,024 [s1@group-15189898AA08-LeaderElection60] INFO  impl.LeaderElection (LogUtils.java:infoOrTrace(137)) -   Exception 3: java.util.concurrent.ExecutionException: java.io.IOException: The peer s4 is not alive.
2022-07-14 02:38:57,024 [s1@group-15189898AA08-LeaderElection60] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-15189898AA08-LeaderElection60 PRE_VOTE round 0: result REJECTED
2022-07-14 02:38:57,024 [s1@group-15189898AA08-LeaderElection60] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-15189898AA08: changes role from CANDIDATE to FOLLOWER at term 3 for REJECTED
2022-07-14 02:38:57,024 [s1@group-15189898AA08-LeaderElection60] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-15189898AA08-LeaderElection60
2022-07-14 02:38:57,024 [s1@group-15189898AA08-LeaderElection60] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-15189898AA08-FollowerState
2022-07-14 02:38:57,097 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (BaseTest.java:assertThrowable(133)) - The test "waitForLeader after killed a majority of servers" throws IllegalStateException
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s3:   CLOSED    LEADER s3@group-15189898AA08:t3, leader=s3, voted=s3, raftlog=Memoized:s3@group-15189898AA08-SegmentedRaftLog:CLOSED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-15189898AA08:t2, leader=s4, voted=s4, raftlog=Memoized:s4@group-15189898AA08-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-15189898AA08:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-15189898AA08-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s1:  RUNNING  FOLLOWER s1@group-15189898AA08:t3, leader=null, voted=s3, raftlog=Memoized:s1@group-15189898AA08-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-15189898AA08:t3, leader=null, voted=s3, raftlog=Memoized:s2@group-15189898AA08-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:535)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:569)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:562)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$testBasicLeaderElection$0(LeaderElectionTests.java:87)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.server.impl.LeaderElectionTests.testBasicLeaderElection(LeaderElectionTests.java:86)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:38:57,097 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(779)) - ************************************************************** 
2022-07-14 02:38:57,098 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(780)) - *** 
2022-07-14 02:38:57,098 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(781)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-07-14 02:38:57,098 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(782)) - *** 
2022-07-14 02:38:57,098 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(783)) - ************************************************************** 
2022-07-14 02:38:57,098 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(784)) - printing ALL groups
  s3:   CLOSED    LEADER s3@group-15189898AA08:t3, leader=s3, voted=s3, raftlog=Memoized:s3@group-15189898AA08-SegmentedRaftLog:CLOSED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s4:   CLOSED    LEADER s4@group-15189898AA08:t2, leader=s4, voted=s4, raftlog=Memoized:s4@group-15189898AA08-SegmentedRaftLog:CLOSED:c2, conf=1: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s0:   CLOSED    LEADER s0@group-15189898AA08:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-15189898AA08-SegmentedRaftLog:CLOSED:c0, conf=0: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null CLOSED
  s1:  RUNNING  FOLLOWER s1@group-15189898AA08:t3, leader=null, voted=s3, raftlog=Memoized:s1@group-15189898AA08-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-15189898AA08:t3, leader=null, voted=s3, raftlog=Memoized:s2@group-15189898AA08-SegmentedRaftLog:OPENED:c4, conf=3: [s3|rpc:localhost:45631|admin:localhost:40859|client:localhost:39905|dataStream:localhost:34939|priority:0, s4|rpc:localhost:39347|admin:localhost:43905|client:localhost:38533|dataStream:localhost:33583|priority:0, s0|rpc:localhost:37993|admin:localhost:34099|client:localhost:41275|dataStream:localhost:35371|priority:0, s1|rpc:localhost:41319|admin:localhost:37985|client:localhost:39031|dataStream:localhost:46629|priority:0, s2|rpc:localhost:34637|admin:localhost:42077|client:localhost:36901|dataStream:localhost:38929|priority:0], old=null RUNNING
2022-07-14 02:38:57,099 [java.util.concurrent.ThreadPoolExecutor$Worker@30554c0a[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s2: close
2022-07-14 02:38:57,099 [java.util.concurrent.ThreadPoolExecutor$Worker@591f4855[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s1: close
2022-07-14 02:38:57,100 [java.util.concurrent.ThreadPoolExecutor$Worker@30554c0a[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(437)) - s2@group-15189898AA08: shutdown
2022-07-14 02:38:57,101 [java.util.concurrent.ThreadPoolExecutor$Worker@30554c0a[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-15189898AA08,id=s2
2022-07-14 02:38:57,101 [java.util.concurrent.ThreadPoolExecutor$Worker@30554c0a[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-15189898AA08-FollowerState
2022-07-14 02:38:57,101 [java.util.concurrent.ThreadPoolExecutor$Worker@591f4855[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(437)) - s1@group-15189898AA08: shutdown
2022-07-14 02:38:57,101 [java.util.concurrent.ThreadPoolExecutor$Worker@591f4855[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-15189898AA08,id=s1
2022-07-14 02:38:57,101 [java.util.concurrent.ThreadPoolExecutor$Worker@591f4855[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-15189898AA08-FollowerState
2022-07-14 02:38:57,101 [s2@group-15189898AA08-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-15189898AA08-FollowerState was interrupted
2022-07-14 02:38:57,101 [java.util.concurrent.ThreadPoolExecutor$Worker@30554c0a[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-15189898AA08-StateMachineUpdater: set stopIndex = 4
2022-07-14 02:38:57,102 [s1@group-15189898AA08-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-15189898AA08-FollowerState was interrupted
2022-07-14 02:38:57,102 [java.util.concurrent.ThreadPoolExecutor$Worker@591f4855[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-15189898AA08-StateMachineUpdater: set stopIndex = 4
2022-07-14 02:38:57,102 [java.util.concurrent.ThreadPoolExecutor$Worker@591f4855[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(456)) - s1@group-15189898AA08: closes. applyIndex: 4
2022-07-14 02:38:57,102 [java.util.concurrent.ThreadPoolExecutor$Worker@30554c0a[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(456)) - s2@group-15189898AA08: closes. applyIndex: 4
2022-07-14 02:38:57,102 [s2@group-15189898AA08-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s2@group-15189898AA08-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-07-14 02:38:57,103 [s1@group-15189898AA08-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s1@group-15189898AA08-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-07-14 02:38:57,104 [java.util.concurrent.ThreadPoolExecutor$Worker@591f4855[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s1@group-15189898AA08-SegmentedRaftLogWorker close()
2022-07-14 02:38:57,104 [java.util.concurrent.ThreadPoolExecutor$Worker@30554c0a[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s2@group-15189898AA08-SegmentedRaftLogWorker close()
2022-07-14 02:38:57,105 [Thread-1256] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:57,105 [Thread-1257] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:57,105 [Thread-1258] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:57,106 [Thread-1253] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:57,106 [Thread-1254] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:57,106 [Thread-1255] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:57,106 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$250/1367845902@36adf4f8] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-07-14 02:38:57,106 [Thread-1263] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:57,106 [Thread-1264] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:57,107 [Thread-1265] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:57,107 [Thread-1260] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:57,107 [Thread-1261] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:57,107 [Thread-1262] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:57,107 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$250/1367845902@7ae1c98c] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-07-14 02:38:57,107 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(802)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-07-14 02:38:57,108 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-07-14 02:38:57,108 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-07-14 02:38:57,108 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-07-14 02:38:57,108 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-07-14 02:38:57,109 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-07-14 02:38:57,109 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(272)) - new MiniRaftClusterWithSimulatedRpc with group-FE4E88459DD9:[s0|rpc:localhost:42207|admin:localhost:45741|client:localhost:42301|dataStream:localhost:36929|priority:0, s1|rpc:localhost:35281|admin:localhost:33977|client:localhost:40615|dataStream:localhost:39201|priority:0, s2|rpc:localhost:38061|admin:localhost:40173|client:localhost:41755|dataStream:localhost:44757|priority:0]
2022-07-14 02:38:57,109 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(304)) - .............................................................. 
2022-07-14 02:38:57,109 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(305)) - ... 
2022-07-14 02:38:57,109 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(306)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-07-14 02:38:57,109 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(307)) - ... 
2022-07-14 02:38:57,109 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(308)) - .............................................................. 
2022-07-14 02:38:57,109 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(284)) - servers = {}
2022-07-14 02:38:57,110 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(348)) - newRaftServer: s0, group-FE4E88459DD9:[s0|rpc:localhost:42207|admin:localhost:45741|client:localhost:42301|dataStream:localhost:36929|priority:0, s1|rpc:localhost:35281|admin:localhost:33977|client:localhost:40615|dataStream:localhost:39201|priority:0, s2|rpc:localhost:38061|admin:localhost:40173|client:localhost:41755|dataStream:localhost:44757|priority:0], format? true
2022-07-14 02:38:57,110 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc25ab1fbb/s0
2022-07-14 02:38:57,110 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc25ab1fbb/s0 does not exist.
2022-07-14 02:38:57,110 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(353)) - Formatted directory target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc25ab1fbb/s0
2022-07-14 02:38:57,110 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-14 02:38:57,110 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-07-14 02:38:57,110 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-07-14 02:38:57,111 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-07-14 02:38:57,111 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-14 02:38:57,111 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-14 02:38:57,111 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc25ab1fbb/s0] (custom)
2022-07-14 02:38:57,112 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-FE4E88459DD9:[s0|rpc:localhost:42207|admin:localhost:45741|client:localhost:42301|dataStream:localhost:36929|priority:0, s1|rpc:localhost:35281|admin:localhost:33977|client:localhost:40615|dataStream:localhost:39201|priority:0, s2|rpc:localhost:38061|admin:localhost:40173|client:localhost:41755|dataStream:localhost:44757|priority:0] returns group-FE4E88459DD9:java.util.concurrent.CompletableFuture@138cfb38[Not completed]
2022-07-14 02:38:57,112 [pool-23-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(191)) - s0: new RaftServerImpl for group-FE4E88459DD9:[s0|rpc:localhost:42207|admin:localhost:45741|client:localhost:42301|dataStream:localhost:36929|priority:0, s1|rpc:localhost:35281|admin:localhost:33977|client:localhost:40615|dataStream:localhost:39201|priority:0, s2|rpc:localhost:38061|admin:localhost:40173|client:localhost:41755|dataStream:localhost:44757|priority:0] with BaseStateMachine:uninitialized
2022-07-14 02:38:57,112 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(348)) - newRaftServer: s1, group-FE4E88459DD9:[s0|rpc:localhost:42207|admin:localhost:45741|client:localhost:42301|dataStream:localhost:36929|priority:0, s1|rpc:localhost:35281|admin:localhost:33977|client:localhost:40615|dataStream:localhost:39201|priority:0, s2|rpc:localhost:38061|admin:localhost:40173|client:localhost:41755|dataStream:localhost:44757|priority:0], format? true
2022-07-14 02:38:57,113 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc25ab1fbb/s1
2022-07-14 02:38:57,113 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-07-14 02:38:57,113 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc25ab1fbb/s1 does not exist.
2022-07-14 02:38:57,113 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(353)) - Formatted directory target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc25ab1fbb/s1
2022-07-14 02:38:57,113 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:38:57,113 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-07-14 02:38:57,113 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-14 02:38:57,113 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-14 02:38:57,113 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-14 02:38:57,114 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-07-14 02:38:57,113 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-07-14 02:38:57,114 [pool-23-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(109)) - s0@group-FE4E88459DD9: ConfigurationManager, init=-1: [s0|rpc:localhost:42207|admin:localhost:45741|client:localhost:42301|dataStream:localhost:36929|priority:0, s1|rpc:localhost:35281|admin:localhost:33977|client:localhost:40615|dataStream:localhost:39201|priority:0, s2|rpc:localhost:38061|admin:localhost:40173|client:localhost:41755|dataStream:localhost:44757|priority:0], old=null, confs=<EMPTY_MAP>
2022-07-14 02:38:57,114 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-07-14 02:38:57,114 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc25ab1fbb/s0] (custom)
2022-07-14 02:38:57,114 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-07-14 02:38:57,114 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-14 02:38:57,114 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-14 02:38:57,114 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-07-14 02:38:57,115 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-07-14 02:38:57,115 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc25ab1fbb/s1] (custom)
2022-07-14 02:38:57,115 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-07-14 02:38:57,115 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-07-14 02:38:57,115 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-07-14 02:38:57,116 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-07-14 02:38:57,116 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-07-14 02:38:57,116 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-07-14 02:38:57,116 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-07-14 02:38:57,116 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-07-14 02:38:57,116 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s1: addNew group-FE4E88459DD9:[s0|rpc:localhost:42207|admin:localhost:45741|client:localhost:42301|dataStream:localhost:36929|priority:0, s1|rpc:localhost:35281|admin:localhost:33977|client:localhost:40615|dataStream:localhost:39201|priority:0, s2|rpc:localhost:38061|admin:localhost:40173|client:localhost:41755|dataStream:localhost:44757|priority:0] returns group-FE4E88459DD9:java.util.concurrent.CompletableFuture@6792c0d7[Not completed]
2022-07-14 02:38:57,116 [pool-24-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(191)) - s1: new RaftServerImpl for group-FE4E88459DD9:[s0|rpc:localhost:42207|admin:localhost:45741|client:localhost:42301|dataStream:localhost:36929|priority:0, s1|rpc:localhost:35281|admin:localhost:33977|client:localhost:40615|dataStream:localhost:39201|priority:0, s2|rpc:localhost:38061|admin:localhost:40173|client:localhost:41755|dataStream:localhost:44757|priority:0] with BaseStateMachine:uninitialized
2022-07-14 02:38:57,116 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(348)) - newRaftServer: s2, group-FE4E88459DD9:[s0|rpc:localhost:42207|admin:localhost:45741|client:localhost:42301|dataStream:localhost:36929|priority:0, s1|rpc:localhost:35281|admin:localhost:33977|client:localhost:40615|dataStream:localhost:39201|priority:0, s2|rpc:localhost:38061|admin:localhost:40173|client:localhost:41755|dataStream:localhost:44757|priority:0], format? true
2022-07-14 02:38:57,116 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc25ab1fbb/s2
2022-07-14 02:38:57,116 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-07-14 02:38:57,116 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc25ab1fbb/s2 does not exist.
2022-07-14 02:38:57,116 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(353)) - Formatted directory target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc25ab1fbb/s2
2022-07-14 02:38:57,116 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:38:57,117 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-07-14 02:38:57,117 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-14 02:38:57,118 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-14 02:38:57,118 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-07-14 02:38:57,117 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-14 02:38:57,118 [pool-24-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(109)) - s1@group-FE4E88459DD9: ConfigurationManager, init=-1: [s0|rpc:localhost:42207|admin:localhost:45741|client:localhost:42301|dataStream:localhost:36929|priority:0, s1|rpc:localhost:35281|admin:localhost:33977|client:localhost:40615|dataStream:localhost:39201|priority:0, s2|rpc:localhost:38061|admin:localhost:40173|client:localhost:41755|dataStream:localhost:44757|priority:0], old=null, confs=<EMPTY_MAP>
2022-07-14 02:38:57,119 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc25ab1fbb/s1] (custom)
2022-07-14 02:38:57,119 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-07-14 02:38:57,119 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-07-14 02:38:57,118 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-07-14 02:38:57,119 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-07-14 02:38:57,119 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-07-14 02:38:57,119 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-07-14 02:38:57,119 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-07-14 02:38:57,119 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-14 02:38:57,119 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-07-14 02:38:57,119 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-14 02:38:57,120 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc25ab1fbb/s2] (custom)
2022-07-14 02:38:57,120 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-07-14 02:38:57,120 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-07-14 02:38:57,120 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-07-14 02:38:57,120 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-07-14 02:38:57,120 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-07-14 02:38:57,121 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s2: addNew group-FE4E88459DD9:[s0|rpc:localhost:42207|admin:localhost:45741|client:localhost:42301|dataStream:localhost:36929|priority:0, s1|rpc:localhost:35281|admin:localhost:33977|client:localhost:40615|dataStream:localhost:39201|priority:0, s2|rpc:localhost:38061|admin:localhost:40173|client:localhost:41755|dataStream:localhost:44757|priority:0] returns group-FE4E88459DD9:java.util.concurrent.CompletableFuture@777e7ba9[Not completed]
2022-07-14 02:38:57,121 [pool-25-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(191)) - s2: new RaftServerImpl for group-FE4E88459DD9:[s0|rpc:localhost:42207|admin:localhost:45741|client:localhost:42301|dataStream:localhost:36929|priority:0, s1|rpc:localhost:35281|admin:localhost:33977|client:localhost:40615|dataStream:localhost:39201|priority:0, s2|rpc:localhost:38061|admin:localhost:40173|client:localhost:41755|dataStream:localhost:44757|priority:0] with BaseStateMachine:uninitialized
2022-07-14 02:38:57,121 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-07-14 02:38:57,121 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:38:57,121 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc25ab1fbb/s0/7c1f1d1b-62d0-4c04-abe4-fe4e88459dd9 does not exist. Creating ...
2022-07-14 02:38:57,121 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-07-14 02:38:57,121 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-14 02:38:57,121 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-14 02:38:57,121 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-07-14 02:38:57,121 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc25ab1fbb/s0/7c1f1d1b-62d0-4c04-abe4-fe4e88459dd9
2022-07-14 02:38:57,121 [pool-25-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(109)) - s2@group-FE4E88459DD9: ConfigurationManager, init=-1: [s0|rpc:localhost:42207|admin:localhost:45741|client:localhost:42301|dataStream:localhost:36929|priority:0, s1|rpc:localhost:35281|admin:localhost:33977|client:localhost:40615|dataStream:localhost:39201|priority:0, s2|rpc:localhost:38061|admin:localhost:40173|client:localhost:41755|dataStream:localhost:44757|priority:0], old=null, confs=<EMPTY_MAP>
2022-07-14 02:38:57,122 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc25ab1fbb/s2] (custom)
2022-07-14 02:38:57,123 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-07-14 02:38:57,123 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-07-14 02:38:57,123 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-07-14 02:38:57,123 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-07-14 02:38:57,123 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-07-14 02:38:57,125 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc25ab1fbb/s0/7c1f1d1b-62d0-4c04-abe4-fe4e88459dd9/in_use.lock acquired by nodename 16254@fv-az54-379.qczjibyfz4dularrisj3jz1gre.bx.internal.cloudapp.net
2022-07-14 02:38:57,125 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc25ab1fbb/s0/7c1f1d1b-62d0-4c04-abe4-fe4e88459dd9/current
2022-07-14 02:38:57,125 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc25ab1fbb/s0/7c1f1d1b-62d0-4c04-abe4-fe4e88459dd9/sm
2022-07-14 02:38:57,128 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc25ab1fbb/s0/7c1f1d1b-62d0-4c04-abe4-fe4e88459dd9 has been successfully formatted.
2022-07-14 02:38:57,128 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-07-14 02:38:57,128 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-07-14 02:38:57,128 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:38:57,128 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-07-14 02:38:57,128 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-14 02:38:57,128 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-07-14 02:38:57,128 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-07-14 02:38:57,128 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-FE4E88459DD9-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc25ab1fbb/s0/7c1f1d1b-62d0-4c04-abe4-fe4e88459dd9
2022-07-14 02:38:57,128 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-07-14 02:38:57,128 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-07-14 02:38:57,128 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-14 02:38:57,128 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-07-14 02:38:57,128 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-07-14 02:38:57,129 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-07-14 02:38:57,129 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-07-14 02:38:57,129 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-07-14 02:38:57,129 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-07-14 02:38:57,129 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-07-14 02:38:57,129 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-07-14 02:38:57,129 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-FE4E88459DD9-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-07-14 02:38:57,129 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-FE4E88459DD9-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-07-14 02:38:57,129 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-07-14 02:38:57,130 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-07-14 02:38:57,130 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-07-14 02:38:57,130 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-07-14 02:38:57,130 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-07-14 02:38:57,134 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(313)) - s0@group-FE4E88459DD9: start as a follower, conf=-1: [s0|rpc:localhost:42207|admin:localhost:45741|client:localhost:42301|dataStream:localhost:36929|priority:0, s1|rpc:localhost:35281|admin:localhost:33977|client:localhost:40615|dataStream:localhost:39201|priority:0, s2|rpc:localhost:38061|admin:localhost:40173|client:localhost:41755|dataStream:localhost:44757|priority:0], old=null
2022-07-14 02:38:57,134 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s0@group-FE4E88459DD9: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-07-14 02:38:57,134 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-FE4E88459DD9-FollowerState
2022-07-14 02:38:57,135 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-FE4E88459DD9,id=s0
2022-07-14 02:38:57,135 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-07-14 02:38:57,135 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-07-14 02:38:57,136 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-07-14 02:38:57,136 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s0: start RPC server
2022-07-14 02:38:57,137 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$250/1367845902@69b89e9] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-07-14 02:38:57,137 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc25ab1fbb/s1/7c1f1d1b-62d0-4c04-abe4-fe4e88459dd9 does not exist. Creating ...
2022-07-14 02:38:57,138 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc25ab1fbb/s1/7c1f1d1b-62d0-4c04-abe4-fe4e88459dd9
2022-07-14 02:38:57,139 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc25ab1fbb/s1/7c1f1d1b-62d0-4c04-abe4-fe4e88459dd9/in_use.lock acquired by nodename 16254@fv-az54-379.qczjibyfz4dularrisj3jz1gre.bx.internal.cloudapp.net
2022-07-14 02:38:57,139 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc25ab1fbb/s1/7c1f1d1b-62d0-4c04-abe4-fe4e88459dd9/current
2022-07-14 02:38:57,139 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc25ab1fbb/s1/7c1f1d1b-62d0-4c04-abe4-fe4e88459dd9/sm
2022-07-14 02:38:57,141 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc25ab1fbb/s1/7c1f1d1b-62d0-4c04-abe4-fe4e88459dd9 has been successfully formatted.
2022-07-14 02:38:57,141 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-07-14 02:38:57,142 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-07-14 02:38:57,142 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:38:57,142 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-07-14 02:38:57,142 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-14 02:38:57,142 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-07-14 02:38:57,142 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-07-14 02:38:57,142 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-FE4E88459DD9-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc25ab1fbb/s1/7c1f1d1b-62d0-4c04-abe4-fe4e88459dd9
2022-07-14 02:38:57,142 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-07-14 02:38:57,142 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-07-14 02:38:57,142 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-14 02:38:57,142 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-07-14 02:38:57,142 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-07-14 02:38:57,142 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-07-14 02:38:57,142 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-07-14 02:38:57,142 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-07-14 02:38:57,142 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-07-14 02:38:57,143 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-07-14 02:38:57,143 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-07-14 02:38:57,143 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-FE4E88459DD9-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-07-14 02:38:57,143 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-FE4E88459DD9-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-07-14 02:38:57,146 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(313)) - s1@group-FE4E88459DD9: start as a follower, conf=-1: [s0|rpc:localhost:42207|admin:localhost:45741|client:localhost:42301|dataStream:localhost:36929|priority:0, s1|rpc:localhost:35281|admin:localhost:33977|client:localhost:40615|dataStream:localhost:39201|priority:0, s2|rpc:localhost:38061|admin:localhost:40173|client:localhost:41755|dataStream:localhost:44757|priority:0], old=null
2022-07-14 02:38:57,146 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-FE4E88459DD9: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-07-14 02:38:57,146 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-FE4E88459DD9-FollowerState
2022-07-14 02:38:57,146 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-FE4E88459DD9,id=s1
2022-07-14 02:38:57,146 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-07-14 02:38:57,146 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-07-14 02:38:57,146 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-07-14 02:38:57,147 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s1: start RPC server
2022-07-14 02:38:57,147 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$250/1367845902@8b7399e] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-07-14 02:38:57,147 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc25ab1fbb/s2/7c1f1d1b-62d0-4c04-abe4-fe4e88459dd9 does not exist. Creating ...
2022-07-14 02:38:57,148 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc25ab1fbb/s2/7c1f1d1b-62d0-4c04-abe4-fe4e88459dd9
2022-07-14 02:38:57,149 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc25ab1fbb/s2/7c1f1d1b-62d0-4c04-abe4-fe4e88459dd9/in_use.lock acquired by nodename 16254@fv-az54-379.qczjibyfz4dularrisj3jz1gre.bx.internal.cloudapp.net
2022-07-14 02:38:57,149 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc25ab1fbb/s2/7c1f1d1b-62d0-4c04-abe4-fe4e88459dd9/current
2022-07-14 02:38:57,149 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc25ab1fbb/s2/7c1f1d1b-62d0-4c04-abe4-fe4e88459dd9/sm
2022-07-14 02:38:57,152 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc25ab1fbb/s2/7c1f1d1b-62d0-4c04-abe4-fe4e88459dd9 has been successfully formatted.
2022-07-14 02:38:57,153 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-07-14 02:38:57,153 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-07-14 02:38:57,153 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:38:57,153 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-07-14 02:38:57,153 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-14 02:38:57,153 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-07-14 02:38:57,153 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-07-14 02:38:57,153 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-FE4E88459DD9-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc25ab1fbb/s2/7c1f1d1b-62d0-4c04-abe4-fe4e88459dd9
2022-07-14 02:38:57,153 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-07-14 02:38:57,153 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-07-14 02:38:57,153 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-14 02:38:57,153 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-07-14 02:38:57,153 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-07-14 02:38:57,153 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-07-14 02:38:57,153 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-07-14 02:38:57,153 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-07-14 02:38:57,154 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-07-14 02:38:57,154 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-07-14 02:38:57,154 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-07-14 02:38:57,154 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-FE4E88459DD9-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-07-14 02:38:57,154 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-FE4E88459DD9-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-07-14 02:38:57,154 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(313)) - s2@group-FE4E88459DD9: start as a follower, conf=-1: [s0|rpc:localhost:42207|admin:localhost:45741|client:localhost:42301|dataStream:localhost:36929|priority:0, s1|rpc:localhost:35281|admin:localhost:33977|client:localhost:40615|dataStream:localhost:39201|priority:0, s2|rpc:localhost:38061|admin:localhost:40173|client:localhost:41755|dataStream:localhost:44757|priority:0], old=null
2022-07-14 02:38:57,155 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-FE4E88459DD9: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-07-14 02:38:57,155 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-FE4E88459DD9-FollowerState
2022-07-14 02:38:57,156 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-FE4E88459DD9,id=s2
2022-07-14 02:38:57,156 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-07-14 02:38:57,156 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-07-14 02:38:57,156 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-07-14 02:38:57,156 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s2: start RPC server
2022-07-14 02:38:57,157 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$250/1367845902@32ef5272] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-07-14 02:38:57,157 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:38:57,157 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-FE4E88459DD9:t0, leader=null, voted=, raftlog=Memoized:s0@group-FE4E88459DD9-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:42207|admin:localhost:45741|client:localhost:42301|dataStream:localhost:36929|priority:0, s1|rpc:localhost:35281|admin:localhost:33977|client:localhost:40615|dataStream:localhost:39201|priority:0, s2|rpc:localhost:38061|admin:localhost:40173|client:localhost:41755|dataStream:localhost:44757|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FE4E88459DD9:t0, leader=null, voted=, raftlog=Memoized:s1@group-FE4E88459DD9-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:42207|admin:localhost:45741|client:localhost:42301|dataStream:localhost:36929|priority:0, s1|rpc:localhost:35281|admin:localhost:33977|client:localhost:40615|dataStream:localhost:39201|priority:0, s2|rpc:localhost:38061|admin:localhost:40173|client:localhost:41755|dataStream:localhost:44757|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-FE4E88459DD9:t0, leader=null, voted=, raftlog=Memoized:s2@group-FE4E88459DD9-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:42207|admin:localhost:45741|client:localhost:42301|dataStream:localhost:36929|priority:0, s1|rpc:localhost:35281|admin:localhost:33977|client:localhost:40615|dataStream:localhost:39201|priority:0, s2|rpc:localhost:38061|admin:localhost:40173|client:localhost:41755|dataStream:localhost:44757|priority:0], old=null RUNNING
2022-07-14 02:38:57,157 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-FE4E88459DD9:t0, leader=null, voted=, raftlog=Memoized:s0@group-FE4E88459DD9-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:42207|admin:localhost:45741|client:localhost:42301|dataStream:localhost:36929|priority:0, s1|rpc:localhost:35281|admin:localhost:33977|client:localhost:40615|dataStream:localhost:39201|priority:0, s2|rpc:localhost:38061|admin:localhost:40173|client:localhost:41755|dataStream:localhost:44757|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FE4E88459DD9:t0, leader=null, voted=, raftlog=Memoized:s1@group-FE4E88459DD9-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:42207|admin:localhost:45741|client:localhost:42301|dataStream:localhost:36929|priority:0, s1|rpc:localhost:35281|admin:localhost:33977|client:localhost:40615|dataStream:localhost:39201|priority:0, s2|rpc:localhost:38061|admin:localhost:40173|client:localhost:41755|dataStream:localhost:44757|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-FE4E88459DD9:t0, leader=null, voted=, raftlog=Memoized:s2@group-FE4E88459DD9-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:42207|admin:localhost:45741|client:localhost:42301|dataStream:localhost:36929|priority:0, s1|rpc:localhost:35281|admin:localhost:33977|client:localhost:40615|dataStream:localhost:39201|priority:0, s2|rpc:localhost:38061|admin:localhost:40173|client:localhost:41755|dataStream:localhost:44757|priority:0], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-FE4E88459DD9:t0, leader=null, voted=, raftlog=Memoized:s0@group-FE4E88459DD9-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:42207|admin:localhost:45741|client:localhost:42301|dataStream:localhost:36929|priority:0, s1|rpc:localhost:35281|admin:localhost:33977|client:localhost:40615|dataStream:localhost:39201|priority:0, s2|rpc:localhost:38061|admin:localhost:40173|client:localhost:41755|dataStream:localhost:44757|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FE4E88459DD9:t0, leader=null, voted=, raftlog=Memoized:s1@group-FE4E88459DD9-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:42207|admin:localhost:45741|client:localhost:42301|dataStream:localhost:36929|priority:0, s1|rpc:localhost:35281|admin:localhost:33977|client:localhost:40615|dataStream:localhost:39201|priority:0, s2|rpc:localhost:38061|admin:localhost:40173|client:localhost:41755|dataStream:localhost:44757|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-FE4E88459DD9:t0, leader=null, voted=, raftlog=Memoized:s2@group-FE4E88459DD9-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:42207|admin:localhost:45741|client:localhost:42301|dataStream:localhost:36929|priority:0, s1|rpc:localhost:35281|admin:localhost:33977|client:localhost:40615|dataStream:localhost:39201|priority:0, s2|rpc:localhost:38061|admin:localhost:40173|client:localhost:41755|dataStream:localhost:44757|priority:0], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:535)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:569)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:562)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testTransferLeader(LeaderElectionTests.java:131)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:38:57,297 [s0@group-FE4E88459DD9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-FE4E88459DD9-FollowerState: change to CANDIDATE, lastRpcElapsedTime:162489672ns, electionTimeout:162ms
2022-07-14 02:38:57,297 [s0@group-FE4E88459DD9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-FE4E88459DD9-FollowerState
2022-07-14 02:38:57,297 [s0@group-FE4E88459DD9-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s0@group-FE4E88459DD9: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-07-14 02:38:57,297 [s0@group-FE4E88459DD9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:38:57,297 [s0@group-FE4E88459DD9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-FE4E88459DD9-LeaderElection61
2022-07-14 02:38:57,300 [s0@group-FE4E88459DD9-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-FE4E88459DD9-LeaderElection61 PRE_VOTE round 0: submit vote requests at term 0 for -1: [s0|rpc:localhost:42207|admin:localhost:45741|client:localhost:42301|dataStream:localhost:36929|priority:0, s1|rpc:localhost:35281|admin:localhost:33977|client:localhost:40615|dataStream:localhost:39201|priority:0, s2|rpc:localhost:38061|admin:localhost:40173|client:localhost:41755|dataStream:localhost:44757|priority:0], old=null
2022-07-14 02:38:57,301 [Thread-1626] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-FE4E88459DD9: receive requestVote(PRE_VOTE, s0, group-FE4E88459DD9, 0, (t:0, i:0))
2022-07-14 02:38:57,301 [Thread-1626] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-FE4E88459DD9-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-07-14 02:38:57,301 [Thread-1633] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-FE4E88459DD9: receive requestVote(PRE_VOTE, s0, group-FE4E88459DD9, 0, (t:0, i:0))
2022-07-14 02:38:57,301 [Thread-1633] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-FE4E88459DD9-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-07-14 02:38:57,302 [Thread-1633] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-FE4E88459DD9 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-FE4E88459DD9:t0, leader=null, voted=, raftlog=Memoized:s2@group-FE4E88459DD9-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:42207|admin:localhost:45741|client:localhost:42301|dataStream:localhost:36929|priority:0, s1|rpc:localhost:35281|admin:localhost:33977|client:localhost:40615|dataStream:localhost:39201|priority:0, s2|rpc:localhost:38061|admin:localhost:40173|client:localhost:41755|dataStream:localhost:44757|priority:0], old=null
2022-07-14 02:38:57,301 [Thread-1626] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-FE4E88459DD9 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-FE4E88459DD9:t0, leader=null, voted=, raftlog=Memoized:s1@group-FE4E88459DD9-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:42207|admin:localhost:45741|client:localhost:42301|dataStream:localhost:36929|priority:0, s1|rpc:localhost:35281|admin:localhost:33977|client:localhost:40615|dataStream:localhost:39201|priority:0, s2|rpc:localhost:38061|admin:localhost:40173|client:localhost:41755|dataStream:localhost:44757|priority:0], old=null
2022-07-14 02:38:57,303 [s0@group-FE4E88459DD9-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-FE4E88459DD9-LeaderElection61: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-07-14 02:38:57,303 [s0@group-FE4E88459DD9-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s2#0:OK-t0
2022-07-14 02:38:57,303 [s0@group-FE4E88459DD9-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-FE4E88459DD9-LeaderElection61 PRE_VOTE round 0: result PASSED
2022-07-14 02:38:57,305 [s0@group-FE4E88459DD9-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-FE4E88459DD9-LeaderElection61 ELECTION round 0: submit vote requests at term 1 for -1: [s0|rpc:localhost:42207|admin:localhost:45741|client:localhost:42301|dataStream:localhost:36929|priority:0, s1|rpc:localhost:35281|admin:localhost:33977|client:localhost:40615|dataStream:localhost:39201|priority:0, s2|rpc:localhost:38061|admin:localhost:40173|client:localhost:41755|dataStream:localhost:44757|priority:0], old=null
2022-07-14 02:38:57,305 [Thread-1627] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-FE4E88459DD9: receive requestVote(ELECTION, s0, group-FE4E88459DD9, 1, (t:0, i:0))
2022-07-14 02:38:57,305 [Thread-1634] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-FE4E88459DD9: receive requestVote(ELECTION, s0, group-FE4E88459DD9, 1, (t:0, i:0))
2022-07-14 02:38:57,305 [Thread-1627] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-FE4E88459DD9-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-07-14 02:38:57,306 [Thread-1627] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-FE4E88459DD9: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-07-14 02:38:57,306 [Thread-1627] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-FE4E88459DD9-FollowerState
2022-07-14 02:38:57,306 [Thread-1627] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-FE4E88459DD9-FollowerState
2022-07-14 02:38:57,306 [s1@group-FE4E88459DD9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-FE4E88459DD9-FollowerState was interrupted
2022-07-14 02:38:57,307 [Thread-1634] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-FE4E88459DD9-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-07-14 02:38:57,307 [Thread-1634] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-FE4E88459DD9: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-07-14 02:38:57,307 [Thread-1634] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-FE4E88459DD9-FollowerState
2022-07-14 02:38:57,307 [Thread-1634] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-FE4E88459DD9-FollowerState
2022-07-14 02:38:57,307 [s2@group-FE4E88459DD9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-FE4E88459DD9-FollowerState was interrupted
2022-07-14 02:38:57,309 [Thread-1627] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-FE4E88459DD9 replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-FE4E88459DD9:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-FE4E88459DD9-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:42207|admin:localhost:45741|client:localhost:42301|dataStream:localhost:36929|priority:0, s1|rpc:localhost:35281|admin:localhost:33977|client:localhost:40615|dataStream:localhost:39201|priority:0, s2|rpc:localhost:38061|admin:localhost:40173|client:localhost:41755|dataStream:localhost:44757|priority:0], old=null
2022-07-14 02:38:57,309 [s0@group-FE4E88459DD9-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-FE4E88459DD9-LeaderElection61: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-07-14 02:38:57,309 [s0@group-FE4E88459DD9-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t1
2022-07-14 02:38:57,309 [s0@group-FE4E88459DD9-LeaderElection61] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-FE4E88459DD9-LeaderElection61 ELECTION round 0: result PASSED
2022-07-14 02:38:57,309 [s0@group-FE4E88459DD9-LeaderElection61] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-FE4E88459DD9-LeaderElection61
2022-07-14 02:38:57,309 [s0@group-FE4E88459DD9-LeaderElection61] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s0@group-FE4E88459DD9: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-07-14 02:38:57,309 [s0@group-FE4E88459DD9-LeaderElection61] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s0@group-FE4E88459DD9: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 194ms
2022-07-14 02:38:57,309 [s0@group-FE4E88459DD9-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-07-14 02:38:57,309 [s0@group-FE4E88459DD9-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-14 02:38:57,309 [s0@group-FE4E88459DD9-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-07-14 02:38:57,310 [s0@group-FE4E88459DD9-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-07-14 02:38:57,310 [s0@group-FE4E88459DD9-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-07-14 02:38:57,310 [s0@group-FE4E88459DD9-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-07-14 02:38:57,310 [s0@group-FE4E88459DD9-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-14 02:38:57,310 [s0@group-FE4E88459DD9-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-07-14 02:38:57,310 [s0@group-FE4E88459DD9-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-14 02:38:57,310 [s0@group-FE4E88459DD9-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:38:57,310 [s0@group-FE4E88459DD9-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-14 02:38:57,310 [s0@group-FE4E88459DD9-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-14 02:38:57,310 [s0@group-FE4E88459DD9-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:38:57,310 [s0@group-FE4E88459DD9-LeaderElection61] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-14 02:38:57,311 [s0@group-FE4E88459DD9-LeaderElection61] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-FE4E88459DD9-LeaderStateImpl
2022-07-14 02:38:57,311 [s0@group-FE4E88459DD9-LeaderElection61] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s0@group-FE4E88459DD9-SegmentedRaftLogWorker: Starting segment from index:0
2022-07-14 02:38:57,315 [Thread-1634] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-FE4E88459DD9 replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-FE4E88459DD9:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-FE4E88459DD9-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:42207|admin:localhost:45741|client:localhost:42301|dataStream:localhost:36929|priority:0, s1|rpc:localhost:35281|admin:localhost:33977|client:localhost:40615|dataStream:localhost:39201|priority:0, s2|rpc:localhost:38061|admin:localhost:40173|client:localhost:41755|dataStream:localhost:44757|priority:0], old=null
2022-07-14 02:38:57,322 [s0@group-FE4E88459DD9-LeaderElection61] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s0@group-FE4E88459DD9: set configuration 0: [s0|rpc:localhost:42207|admin:localhost:45741|client:localhost:42301|dataStream:localhost:36929|priority:0, s1|rpc:localhost:35281|admin:localhost:33977|client:localhost:40615|dataStream:localhost:39201|priority:0, s2|rpc:localhost:38061|admin:localhost:40173|client:localhost:41755|dataStream:localhost:44757|priority:0], old=null
2022-07-14 02:38:57,322 [Thread-1628] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s1@group-FE4E88459DD9: change Leader from null to s0 at term 1 for appendEntries, leader elected after 203ms
2022-07-14 02:38:57,323 [Thread-1635] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s2@group-FE4E88459DD9: change Leader from null to s0 at term 1 for appendEntries, leader elected after 199ms
2022-07-14 02:38:57,325 [Thread-1626] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-FE4E88459DD9: receive appendEntries(s0, 1, null, -1, true, commits[s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-07-14 02:38:57,326 [Thread-1626] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s1@group-FE4E88459DD9: set configuration 0: [s0|rpc:localhost:42207|admin:localhost:45741|client:localhost:42301|dataStream:localhost:36929|priority:0, s1|rpc:localhost:35281|admin:localhost:33977|client:localhost:40615|dataStream:localhost:39201|priority:0, s2|rpc:localhost:38061|admin:localhost:40173|client:localhost:41755|dataStream:localhost:44757|priority:0], old=null
2022-07-14 02:38:57,326 [Thread-1626] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s1@group-FE4E88459DD9-SegmentedRaftLogWorker: Starting segment from index:0
2022-07-14 02:38:57,326 [s0@group-FE4E88459DD9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-FE4E88459DD9-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc25ab1fbb/s0/7c1f1d1b-62d0-4c04-abe4-fe4e88459dd9/current/log_inprogress_0
2022-07-14 02:38:57,331 [Thread-1633] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-FE4E88459DD9: receive appendEntries(s0, 1, null, 0, true, commits[s0:c0, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-07-14 02:38:57,332 [Thread-1633] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s2@group-FE4E88459DD9: set configuration 0: [s0|rpc:localhost:42207|admin:localhost:45741|client:localhost:42301|dataStream:localhost:36929|priority:0, s1|rpc:localhost:35281|admin:localhost:33977|client:localhost:40615|dataStream:localhost:39201|priority:0, s2|rpc:localhost:38061|admin:localhost:40173|client:localhost:41755|dataStream:localhost:44757|priority:0], old=null
2022-07-14 02:38:57,332 [Thread-1633] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s2@group-FE4E88459DD9-SegmentedRaftLogWorker: Starting segment from index:0
2022-07-14 02:38:57,345 [s1@group-FE4E88459DD9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-FE4E88459DD9-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc25ab1fbb/s1/7c1f1d1b-62d0-4c04-abe4-fe4e88459dd9/current/log_inprogress_0
2022-07-14 02:38:57,345 [s2@group-FE4E88459DD9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-FE4E88459DD9-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc25ab1fbb/s2/7c1f1d1b-62d0-4c04-abe4-fe4e88459dd9/current/log_inprogress_0
2022-07-14 02:38:57,346 [Thread-1668] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-FE4E88459DD9: succeeded to handle AppendEntries. Reply: s0<-s1#912:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1
2022-07-14 02:38:57,347 [Thread-1669] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-FE4E88459DD9: succeeded to handle AppendEntries. Reply: s0<-s2#913:OK-t1,SUCCESS,nextIndex=1,followerCommit=0
2022-07-14 02:38:57,608 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-FE4E88459DD9:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-FE4E88459DD9-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:42207|admin:localhost:45741|client:localhost:42301|dataStream:localhost:36929|priority:0, s1|rpc:localhost:35281|admin:localhost:33977|client:localhost:40615|dataStream:localhost:39201|priority:0, s2|rpc:localhost:38061|admin:localhost:40173|client:localhost:41755|dataStream:localhost:44757|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FE4E88459DD9:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-FE4E88459DD9-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:42207|admin:localhost:45741|client:localhost:42301|dataStream:localhost:36929|priority:0, s1|rpc:localhost:35281|admin:localhost:33977|client:localhost:40615|dataStream:localhost:39201|priority:0, s2|rpc:localhost:38061|admin:localhost:40173|client:localhost:41755|dataStream:localhost:44757|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-FE4E88459DD9:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-FE4E88459DD9-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:42207|admin:localhost:45741|client:localhost:42301|dataStream:localhost:36929|priority:0, s1|rpc:localhost:35281|admin:localhost:33977|client:localhost:40615|dataStream:localhost:39201|priority:0, s2|rpc:localhost:38061|admin:localhost:40173|client:localhost:41755|dataStream:localhost:44757|priority:0], old=null RUNNING
2022-07-14 02:38:57,608 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-14 02:38:57,609 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(794)) - s0@group-FE4E88459DD9: receive client request(RaftClientRequest:client-7D7925E58F97->s0@group-FE4E88459DD9, cid=926, seq=0, RW, message)
2022-07-14 02:38:57,610 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(401)) - s0@group-FE4E88459DD9-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-7D7925E58F97->s0@group-FE4E88459DD9, cid=926, seq=0, RW, message, entry=(t:1, i:1), STATEMACHINELOGENTRY, 926@client-7D7925E58F97
2022-07-14 02:38:57,611 [Thread-1634] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-FE4E88459DD9: receive appendEntries(s0, 1, (t:1, i:0), 0, true, commits[s0:c0, s1:c0, s2:c0], entries: (t:1, i:1), STATEMACHINELOGENTRY, 926@client-7D7925E58F97
2022-07-14 02:38:57,611 [Thread-1627] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-FE4E88459DD9: receive appendEntries(s0, 1, (t:1, i:0), 0, true, commits[s0:c0, s1:c0, s2:c0], entries: (t:1, i:1), STATEMACHINELOGENTRY, 926@client-7D7925E58F97
2022-07-14 02:38:57,612 [Thread-1683] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-FE4E88459DD9: succeeded to handle AppendEntries. Reply: s0<-s1#928:OK-t1,SUCCESS,nextIndex=2,followerCommit=0
2022-07-14 02:38:57,614 [Thread-1628] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-FE4E88459DD9: receive appendEntries(s0, 1, (t:1, i:1), 1, true, commits[s0:c1, s1:c0, s2:c0], entries: (t:1, i:2), METADATAENTRY(c:1)
2022-07-14 02:38:57,615 [Thread-1685] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-FE4E88459DD9: succeeded to handle AppendEntries. Reply: s0<-s2#927:OK-t1,SUCCESS,nextIndex=2,followerCommit=0
2022-07-14 02:38:57,616 [Thread-1635] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-FE4E88459DD9: receive appendEntries(s0, 1, (t:1, i:1), 1, true, commits[s0:c1, s1:c0, s2:c0], entries: (t:1, i:2), METADATAENTRY(c:1)
2022-07-14 02:38:57,616 [Thread-1686] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-FE4E88459DD9: succeeded to handle AppendEntries. Reply: s0<-s1#929:OK-t1,SUCCESS,nextIndex=3,followerCommit=1
2022-07-14 02:38:57,617 [s0-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setConfigurationAsync(1083)) - s0@group-FE4E88459DD9: receive setConfiguration SetConfigurationRequest:client-7D7925E58F97->s0@group-FE4E88459DD9, cid=930, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s0|priority:1, s1|priority:2, s2|priority:1], listeners:[]
2022-07-14 02:38:57,617 [Thread-1688] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-FE4E88459DD9: succeeded to handle AppendEntries. Reply: s0<-s2#931:OK-t1,SUCCESS,nextIndex=3,followerCommit=1
2022-07-14 02:38:57,618 [s0-server-thread1] INFO  server.RaftServer$Division (LeaderStateImpl.java:startSetConfiguration(368)) - s0@group-FE4E88459DD9-LeaderStateImpl: startSetConfiguration SetConfigurationRequest:client-7D7925E58F97->s0@group-FE4E88459DD9, cid=930, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s0|priority:1, s1|priority:2, s2|priority:1], listeners:[]
2022-07-14 02:38:57,619 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s0@group-FE4E88459DD9: set configuration 3: [s0|priority:1, s1|priority:2, s2|priority:1], old=[s0|rpc:localhost:42207|admin:localhost:45741|client:localhost:42301|dataStream:localhost:36929|priority:0, s1|rpc:localhost:35281|admin:localhost:33977|client:localhost:40615|dataStream:localhost:39201|priority:0, s2|rpc:localhost:38061|admin:localhost:40173|client:localhost:41755|dataStream:localhost:44757|priority:0]
2022-07-14 02:38:57,619 [Thread-1633] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-FE4E88459DD9: receive appendEntries(s0, 1, (t:1, i:2), 2, true, commits[s0:c2, s1:c1, s2:c1], entries: (t:1, i:3), CONFIGURATIONENTRY
2022-07-14 02:38:57,619 [Thread-1633] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s2@group-FE4E88459DD9: set configuration 3: [s0|rpc:|dataStream:|priority:1, s1|rpc:|dataStream:|priority:2, s2|rpc:|dataStream:|priority:1], old=[s0|rpc:localhost:42207|admin:localhost:45741|client:localhost:42301|dataStream:localhost:36929|priority:0, s1|rpc:localhost:35281|admin:localhost:33977|client:localhost:40615|dataStream:localhost:39201|priority:0, s2|rpc:localhost:38061|admin:localhost:40173|client:localhost:41755|dataStream:localhost:44757|priority:0]
2022-07-14 02:38:57,620 [Thread-1626] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-FE4E88459DD9: receive appendEntries(s0, 1, (t:1, i:2), 2, true, commits[s0:c2, s1:c1, s2:c1], entries: (t:1, i:3), CONFIGURATIONENTRY
2022-07-14 02:38:57,620 [Thread-1626] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s1@group-FE4E88459DD9: set configuration 3: [s0|rpc:|dataStream:|priority:1, s1|rpc:|dataStream:|priority:2, s2|rpc:|dataStream:|priority:1], old=[s0|rpc:localhost:42207|admin:localhost:45741|client:localhost:42301|dataStream:localhost:36929|priority:0, s1|rpc:localhost:35281|admin:localhost:33977|client:localhost:40615|dataStream:localhost:39201|priority:0, s2|rpc:localhost:38061|admin:localhost:40173|client:localhost:41755|dataStream:localhost:44757|priority:0]
2022-07-14 02:38:57,621 [Thread-1689] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-FE4E88459DD9: succeeded to handle AppendEntries. Reply: s0<-s2#933:OK-t1,SUCCESS,nextIndex=4,followerCommit=2
2022-07-14 02:38:57,621 [Thread-1690] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-FE4E88459DD9: succeeded to handle AppendEntries. Reply: s0<-s1#932:OK-t1,SUCCESS,nextIndex=4,followerCommit=2
2022-07-14 02:38:57,623 [Thread-1634] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-FE4E88459DD9: receive appendEntries(s0, 1, (t:1, i:3), 3, true, commits[s0:c3, s1:c1, s2:c2], entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY]
2022-07-14 02:38:57,625 [Thread-1634] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s2@group-FE4E88459DD9: set configuration 5: [s0|rpc:|dataStream:|priority:1, s1|rpc:|dataStream:|priority:2, s2|rpc:|dataStream:|priority:1], old=null
2022-07-14 02:38:57,623 [s0@group-FE4E88459DD9-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s0@group-FE4E88459DD9: set configuration 5: [s0|priority:1, s1|priority:2, s2|priority:1], old=null
2022-07-14 02:38:57,626 [Thread-1627] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-FE4E88459DD9: receive appendEntries(s0, 1, (t:1, i:3), 3, true, commits[s0:c3, s1:c2, s2:c2], entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY]
2022-07-14 02:38:57,626 [Thread-1627] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s1@group-FE4E88459DD9: set configuration 5: [s0|rpc:|dataStream:|priority:1, s1|rpc:|dataStream:|priority:2, s2|rpc:|dataStream:|priority:1], old=null
2022-07-14 02:38:57,626 [Thread-1691] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-FE4E88459DD9: succeeded to handle AppendEntries. Reply: s0<-s2#934:OK-t1,SUCCESS,nextIndex=6,followerCommit=3
2022-07-14 02:38:57,627 [Thread-1635] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-FE4E88459DD9: receive appendEntries(s0, 1, (t:1, i:5), 5, true, commits[s0:c5, s1:c2, s2:c3], entries: (t:1, i:6), METADATAENTRY(c:5)
2022-07-14 02:38:57,628 [Thread-1693] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-FE4E88459DD9: succeeded to handle AppendEntries. Reply: s0<-s1#935:OK-t1,SUCCESS,nextIndex=6,followerCommit=3
2022-07-14 02:38:57,629 [Thread-1628] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-FE4E88459DD9: receive appendEntries(s0, 1, (t:1, i:5), 5, true, commits[s0:c5, s1:c3, s2:c3], entries: (t:1, i:6), METADATAENTRY(c:5)
2022-07-14 02:38:57,629 [s0-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:transferLeadershipAsync(975)) - s0@group-FE4E88459DD9: receive transferLeadership TransferLeadershipRequest:client-7D7925E58F97->s0@group-FE4E88459DD9, cid=937, seq=0, RO, null
2022-07-14 02:38:57,629 [Thread-1694] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-FE4E88459DD9: succeeded to handle AppendEntries. Reply: s0<-s2#936:OK-t1,SUCCESS,nextIndex=7,followerCommit=5
2022-07-14 02:38:57,630 [Thread-1696] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-FE4E88459DD9: succeeded to handle AppendEntries. Reply: s0<-s1#938:OK-t1,SUCCESS,nextIndex=7,followerCommit=5
2022-07-14 02:38:57,930 [s0@group-FE4E88459DD9-LeaderStateImpl] INFO  server.RaftServer$Division (LeaderStateImpl.java:yieldLeaderToHigherPriorityPeer(974)) - s0@group-FE4E88459DD9-LeaderStateImpl send StartLeaderElectionRequest to follower:s1 on term:1 because follower's priority:2 is higher than leader's:1 and follower's lastEntry index:6 catch up with leader's:6
2022-07-14 02:38:57,989 [Thread-1627] DEBUG server.RaftServer$Division (RaftServerImpl.java:startLeaderElection(1508)) - s1@group-FE4E88459DD9: receive startLeaderElection from:s0, leaderLastEntry:term: 1
index: 6
,
2022-07-14 02:38:57,989 [Thread-1627] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-FE4E88459DD9-FollowerState
2022-07-14 02:38:57,989 [s1@group-FE4E88459DD9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-FE4E88459DD9-FollowerState was interrupted
2022-07-14 02:38:57,989 [Thread-1627] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-FE4E88459DD9: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-07-14 02:38:57,989 [Thread-1627] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-FE4E88459DD9-LeaderElection62
2022-07-14 02:38:57,992 [s1@group-FE4E88459DD9-LeaderElection62] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s1@group-FE4E88459DD9: change Leader from s0 to null at term 1 for ELECTION
2022-07-14 02:38:57,992 [Thread-1712] INFO  server.RaftServer$Division (LeaderStateImpl.java:lambda$sendStartLeaderElectionToHigherPriorityPeer$9(593)) - s0@group-FE4E88459DD9-LeaderStateImpl received success reply of StartLeaderElectionRequest from follower:s1
2022-07-14 02:38:57,994 [s1@group-FE4E88459DD9-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-FE4E88459DD9-LeaderElection62 ELECTION round 0: submit vote requests at term 2 for 5: [s0|rpc:|dataStream:|priority:1, s1|rpc:|dataStream:|priority:2, s2|rpc:|dataStream:|priority:1], old=null
2022-07-14 02:38:57,995 [Thread-1619] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s0@group-FE4E88459DD9: receive requestVote(ELECTION, s1, group-FE4E88459DD9, 2, (t:1, i:6))
2022-07-14 02:38:57,995 [Thread-1619] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-FE4E88459DD9-LEADER: accept ELECTION from s1: our priority 1 <= candidate's priority 2
2022-07-14 02:38:57,995 [Thread-1634] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-FE4E88459DD9: receive requestVote(ELECTION, s1, group-FE4E88459DD9, 2, (t:1, i:6))
2022-07-14 02:38:57,995 [Thread-1619] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s0@group-FE4E88459DD9: change Leader from s0 to null at term 2 for updateCurrentTerm
2022-07-14 02:38:57,995 [Thread-1634] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-FE4E88459DD9-FOLLOWER: accept ELECTION from s1: our priority 1 <= candidate's priority 2
2022-07-14 02:38:57,995 [Thread-1634] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s2@group-FE4E88459DD9: change Leader from s0 to null at term 2 for updateCurrentTerm
2022-07-14 02:38:57,995 [Thread-1619] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s0@group-FE4E88459DD9: changes role from    LEADER to FOLLOWER at term 2 for candidate:s1
2022-07-14 02:38:57,995 [Thread-1619] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-FE4E88459DD9-LeaderStateImpl
2022-07-14 02:38:57,995 [Thread-1619] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-FE4E88459DD9-PendingRequests: sendNotLeaderResponses
2022-07-14 02:38:57,995 [s0@group-FE4E88459DD9->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s0@group-FE4E88459DD9->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-07-14 02:38:57,995 [s0@group-FE4E88459DD9->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s0@group-FE4E88459DD9->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-07-14 02:38:57,995 [Thread-1634] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-FE4E88459DD9: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s1
2022-07-14 02:38:57,996 [Thread-1634] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-FE4E88459DD9-FollowerState
2022-07-14 02:38:57,996 [Thread-1634] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-FE4E88459DD9-FollowerState
2022-07-14 02:38:57,996 [s2@group-FE4E88459DD9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-FE4E88459DD9-FollowerState was interrupted
2022-07-14 02:38:57,997 [Thread-1619] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-FE4E88459DD9-FollowerState
2022-07-14 02:38:57,999 [Thread-1619] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s0@group-FE4E88459DD9 replies to ELECTION vote request: s1<-s0#0:OK-t2. Peer's state: s0@group-FE4E88459DD9:t2, leader=null, voted=s1, raftlog=Memoized:s0@group-FE4E88459DD9-SegmentedRaftLog:OPENED:c6, conf=5: [s0|priority:1, s1|priority:2, s2|priority:1], old=null
2022-07-14 02:38:57,999 [Thread-1634] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-FE4E88459DD9 replies to ELECTION vote request: s1<-s2#0:OK-t2. Peer's state: s2@group-FE4E88459DD9:t2, leader=null, voted=s1, raftlog=Memoized:s2@group-FE4E88459DD9-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:|dataStream:|priority:1, s1|rpc:|dataStream:|priority:2, s2|rpc:|dataStream:|priority:1], old=null
2022-07-14 02:38:57,999 [s1@group-FE4E88459DD9-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-FE4E88459DD9-LeaderElection62: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-07-14 02:38:57,999 [s1@group-FE4E88459DD9-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s2#0:OK-t2
2022-07-14 02:38:57,999 [s1@group-FE4E88459DD9-LeaderElection62] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-FE4E88459DD9-LeaderElection62 ELECTION round 0: result PASSED
2022-07-14 02:38:57,999 [s1@group-FE4E88459DD9-LeaderElection62] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-FE4E88459DD9-LeaderElection62
2022-07-14 02:38:57,999 [s1@group-FE4E88459DD9-LeaderElection62] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-FE4E88459DD9: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2022-07-14 02:38:57,999 [s1@group-FE4E88459DD9-LeaderElection62] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s1@group-FE4E88459DD9: change Leader from null to s1 at term 2 for becomeLeader, leader elected after 7ms
2022-07-14 02:38:57,999 [s1@group-FE4E88459DD9-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-07-14 02:38:57,999 [s1@group-FE4E88459DD9-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-14 02:38:57,999 [s1@group-FE4E88459DD9-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-07-14 02:38:57,999 [s1@group-FE4E88459DD9-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-07-14 02:38:57,999 [s1@group-FE4E88459DD9-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-07-14 02:38:57,999 [s1@group-FE4E88459DD9-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-07-14 02:38:58,000 [s1@group-FE4E88459DD9-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-14 02:38:58,000 [s1@group-FE4E88459DD9-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-07-14 02:38:58,000 [s1@group-FE4E88459DD9-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-14 02:38:58,000 [s1@group-FE4E88459DD9-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:38:58,000 [s1@group-FE4E88459DD9-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-14 02:38:58,000 [s1@group-FE4E88459DD9-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-14 02:38:58,000 [s1@group-FE4E88459DD9-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:38:58,000 [s1@group-FE4E88459DD9-LeaderElection62] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-14 02:38:58,000 [s1@group-FE4E88459DD9-LeaderElection62] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-FE4E88459DD9-LeaderStateImpl
2022-07-14 02:38:58,001 [s1@group-FE4E88459DD9-LeaderElection62] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s1@group-FE4E88459DD9-SegmentedRaftLogWorker: Rolling segment log-0_6 to index:6
2022-07-14 02:38:58,002 [s1@group-FE4E88459DD9-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc25ab1fbb/s1/7c1f1d1b-62d0-4c04-abe4-fe4e88459dd9/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc25ab1fbb/s1/7c1f1d1b-62d0-4c04-abe4-fe4e88459dd9/current/log_0-6
2022-07-14 02:38:58,002 [s1@group-FE4E88459DD9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s1@group-FE4E88459DD9-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc25ab1fbb/s1/7c1f1d1b-62d0-4c04-abe4-fe4e88459dd9/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc25ab1fbb/s1/7c1f1d1b-62d0-4c04-abe4-fe4e88459dd9/current/log_0-6
2022-07-14 02:38:58,005 [s1@group-FE4E88459DD9-LeaderElection62] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s1@group-FE4E88459DD9: set configuration 7: [s0|rpc:|dataStream:|priority:1, s1|rpc:|dataStream:|priority:2, s2|rpc:|dataStream:|priority:1], old=null
2022-07-14 02:38:58,006 [Thread-1620] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s0@group-FE4E88459DD9: change Leader from null to s1 at term 2 for appendEntries, leader elected after 10ms
2022-07-14 02:38:58,006 [Thread-1635] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s2@group-FE4E88459DD9: change Leader from null to s1 at term 2 for appendEntries, leader elected after 10ms
2022-07-14 02:38:58,006 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:38:58,006 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-FE4E88459DD9:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-FE4E88459DD9-SegmentedRaftLog:OPENED:c6, conf=5: [s0|priority:1, s1|priority:2, s2|priority:1], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-FE4E88459DD9:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-FE4E88459DD9-SegmentedRaftLog:OPENED:c6, conf=7: [s0|rpc:|dataStream:|priority:1, s1|rpc:|dataStream:|priority:2, s2|rpc:|dataStream:|priority:1], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-FE4E88459DD9:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-FE4E88459DD9-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:|dataStream:|priority:1, s1|rpc:|dataStream:|priority:2, s2|rpc:|dataStream:|priority:1], old=null RUNNING
2022-07-14 02:38:58,007 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: Leader: s1@group-FE4E88459DD9 not ready, sleep 450ms and then retry.
java.lang.IllegalStateException: Leader: s1@group-FE4E88459DD9 not ready
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:114)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testTransferLeader(LeaderElectionTests.java:147)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:38:58,008 [Thread-1633] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-FE4E88459DD9: receive appendEntries(s1, 2, (t:1, i:6), 6, true, commits[s1:c6, s0:c6, s2:c6], entries: (t:2, i:7), CONFIGURATIONENTRY
2022-07-14 02:38:58,008 [Thread-1633] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s2@group-FE4E88459DD9: set configuration 7: [s0|rpc:|dataStream:|priority:1, s1|rpc:|dataStream:|priority:2, s2|rpc:|dataStream:|priority:1], old=null
2022-07-14 02:38:58,009 [Thread-1633] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s2@group-FE4E88459DD9-SegmentedRaftLogWorker: Rolling segment log-0_6 to index:6
2022-07-14 02:38:58,010 [s2@group-FE4E88459DD9-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc25ab1fbb/s2/7c1f1d1b-62d0-4c04-abe4-fe4e88459dd9/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc25ab1fbb/s2/7c1f1d1b-62d0-4c04-abe4-fe4e88459dd9/current/log_0-6
2022-07-14 02:38:58,010 [s2@group-FE4E88459DD9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s2@group-FE4E88459DD9-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc25ab1fbb/s2/7c1f1d1b-62d0-4c04-abe4-fe4e88459dd9/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc25ab1fbb/s2/7c1f1d1b-62d0-4c04-abe4-fe4e88459dd9/current/log_0-6
2022-07-14 02:38:58,013 [Thread-1621] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s0@group-FE4E88459DD9: receive appendEntries(s1, 2, (t:1, i:6), 6, true, commits[s1:c6, s0:c6, s2:c6], entries: (t:2, i:7), CONFIGURATIONENTRY
2022-07-14 02:38:58,013 [Thread-1621] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s0@group-FE4E88459DD9: set configuration 7: [s0|rpc:|dataStream:|priority:1, s1|rpc:|dataStream:|priority:2, s2|rpc:|dataStream:|priority:1], old=null
2022-07-14 02:38:58,013 [Thread-1621] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s0@group-FE4E88459DD9-SegmentedRaftLogWorker: Rolling segment log-0_6 to index:6
2022-07-14 02:38:58,014 [s1@group-FE4E88459DD9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-FE4E88459DD9-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc25ab1fbb/s1/7c1f1d1b-62d0-4c04-abe4-fe4e88459dd9/current/log_inprogress_7
2022-07-14 02:38:58,015 [s0@group-FE4E88459DD9-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc25ab1fbb/s0/7c1f1d1b-62d0-4c04-abe4-fe4e88459dd9/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc25ab1fbb/s0/7c1f1d1b-62d0-4c04-abe4-fe4e88459dd9/current/log_0-6
2022-07-14 02:38:58,015 [s0@group-FE4E88459DD9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s0@group-FE4E88459DD9-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc25ab1fbb/s0/7c1f1d1b-62d0-4c04-abe4-fe4e88459dd9/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc25ab1fbb/s0/7c1f1d1b-62d0-4c04-abe4-fe4e88459dd9/current/log_0-6
2022-07-14 02:38:58,028 [s0@group-FE4E88459DD9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-FE4E88459DD9-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc25ab1fbb/s0/7c1f1d1b-62d0-4c04-abe4-fe4e88459dd9/current/log_inprogress_7
2022-07-14 02:38:58,028 [s2@group-FE4E88459DD9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-FE4E88459DD9-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc25ab1fbb/s2/7c1f1d1b-62d0-4c04-abe4-fe4e88459dd9/current/log_inprogress_7
2022-07-14 02:38:58,031 [Thread-1727] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-FE4E88459DD9: succeeded to handle AppendEntries. Reply: s1<-s2#957:OK-t2,SUCCESS,nextIndex=8,followerCommit=6
2022-07-14 02:38:58,031 [Thread-1726] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s0@group-FE4E88459DD9: succeeded to handle AppendEntries. Reply: s1<-s0#958:OK-t2,SUCCESS,nextIndex=8,followerCommit=6
2022-07-14 02:38:58,032 [Thread-1634] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-FE4E88459DD9: receive appendEntries(s1, 2, (t:2, i:7), 7, true, commits[s1:c7, s0:c6, s2:c6], entries: (t:2, i:8), METADATAENTRY(c:7)
2022-07-14 02:38:58,032 [Thread-1619] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s0@group-FE4E88459DD9: receive appendEntries(s1, 2, (t:2, i:7), 7, true, commits[s1:c7, s0:c6, s2:c6], entries: (t:2, i:8), METADATAENTRY(c:7)
2022-07-14 02:38:58,034 [Thread-1728] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s0@group-FE4E88459DD9: succeeded to handle AppendEntries. Reply: s1<-s0#961:OK-t2,SUCCESS,nextIndex=9,followerCommit=7
2022-07-14 02:38:58,034 [Thread-1729] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-FE4E88459DD9: succeeded to handle AppendEntries. Reply: s1<-s2#960:OK-t2,SUCCESS,nextIndex=9,followerCommit=7
2022-07-14 02:38:58,458 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-FE4E88459DD9:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-FE4E88459DD9-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:|dataStream:|priority:1, s1|rpc:|dataStream:|priority:2, s2|rpc:|dataStream:|priority:1], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-FE4E88459DD9:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-FE4E88459DD9-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:|dataStream:|priority:1, s1|rpc:|dataStream:|priority:2, s2|rpc:|dataStream:|priority:1], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-FE4E88459DD9:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-FE4E88459DD9-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:|dataStream:|priority:1, s1|rpc:|dataStream:|priority:2, s2|rpc:|dataStream:|priority:1], old=null RUNNING
2022-07-14 02:38:58,459 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(794)) - s0@group-FE4E88459DD9: receive client request(RaftClientRequest:client-7D7925E58F97->s0@group-FE4E88459DD9, cid=981, seq=0, RW, message)
2022-07-14 02:38:58,459 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(366)) - client-7D7925E58F97: suggested new leader: s1. Failed RaftClientRequest:client-7D7925E58F97->s0@group-FE4E88459DD9, cid=981, seq=0, RW, message with {}
org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-FE4E88459DD9 is not the leader s1|rpc:|dataStream:|priority:2
	at org.apache.ratis.server.impl.RaftServerImpl.generateNotLeaderException(RaftServerImpl.java:699)
	at org.apache.ratis.server.impl.RaftServerImpl.checkLeaderState(RaftServerImpl.java:664)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:803)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$null$12(RaftServerImpl.java:786)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:115)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:786)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:38:58,460 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(385)) - client-7D7925E58F97: oldLeader=s0,  curLeader=s0, newLeader=s1
2022-07-14 02:38:58,460 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(391)) - group-FE4E88459DD9 client-7D7925E58F97: client change Leader from s0 to s1 ex=org.apache.ratis.protocol.exceptions.NotLeaderException
2022-07-14 02:38:58,561 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(794)) - s1@group-FE4E88459DD9: receive client request(RaftClientRequest:client-7D7925E58F97->s1@group-FE4E88459DD9, cid=981, seq=0, RW, message)
2022-07-14 02:38:58,562 [s1-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(401)) - s1@group-FE4E88459DD9-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-7D7925E58F97->s1@group-FE4E88459DD9, cid=981, seq=0, RW, message, entry=(t:2, i:9), STATEMACHINELOGENTRY, 981@client-7D7925E58F97
2022-07-14 02:38:58,562 [Thread-1620] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s0@group-FE4E88459DD9: receive appendEntries(s1, 2, (t:2, i:8), 8, true, commits[s1:c8, s0:c8, s2:c8], entries: (t:2, i:9), STATEMACHINELOGENTRY, 981@client-7D7925E58F97
2022-07-14 02:38:58,563 [Thread-1635] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-FE4E88459DD9: receive appendEntries(s1, 2, (t:2, i:8), 8, true, commits[s1:c8, s0:c8, s2:c8], entries: (t:2, i:9), STATEMACHINELOGENTRY, 981@client-7D7925E58F97
2022-07-14 02:38:58,564 [Thread-1755] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-FE4E88459DD9: succeeded to handle AppendEntries. Reply: s1<-s2#987:OK-t2,SUCCESS,nextIndex=10,followerCommit=8
2022-07-14 02:38:58,564 [Thread-1754] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s0@group-FE4E88459DD9: succeeded to handle AppendEntries. Reply: s1<-s0#986:OK-t2,SUCCESS,nextIndex=10,followerCommit=8
2022-07-14 02:38:58,566 [Thread-1633] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-FE4E88459DD9: receive appendEntries(s1, 2, (t:2, i:9), 9, true, commits[s1:c9, s0:c8, s2:c8], entries: (t:2, i:10), METADATAENTRY(c:9)
2022-07-14 02:38:58,568 [Thread-1621] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s0@group-FE4E88459DD9: receive appendEntries(s1, 2, (t:2, i:9), 9, true, commits[s1:c9, s0:c8, s2:c8], entries: (t:2, i:10), METADATAENTRY(c:9)
2022-07-14 02:38:58,568 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(779)) - ************************************************************** 
2022-07-14 02:38:58,568 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(780)) - *** 
2022-07-14 02:38:58,568 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(781)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-07-14 02:38:58,568 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(782)) - *** 
2022-07-14 02:38:58,568 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(783)) - ************************************************************** 
2022-07-14 02:38:58,569 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(784)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-FE4E88459DD9:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-FE4E88459DD9-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:|dataStream:|priority:1, s1|rpc:|dataStream:|priority:2, s2|rpc:|dataStream:|priority:1], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-FE4E88459DD9:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-FE4E88459DD9-SegmentedRaftLog:OPENED:c9, conf=7: [s0|rpc:|dataStream:|priority:1, s1|rpc:|dataStream:|priority:2, s2|rpc:|dataStream:|priority:1], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-FE4E88459DD9:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-FE4E88459DD9-SegmentedRaftLog:OPENED:c9, conf=7: [s0|rpc:|dataStream:|priority:1, s1|rpc:|dataStream:|priority:2, s2|rpc:|dataStream:|priority:1], old=null RUNNING
2022-07-14 02:38:58,568 [Thread-1758] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-FE4E88459DD9: succeeded to handle AppendEntries. Reply: s1<-s2#990:OK-t2,SUCCESS,nextIndex=11,followerCommit=9
2022-07-14 02:38:58,570 [Thread-1759] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s0@group-FE4E88459DD9: succeeded to handle AppendEntries. Reply: s1<-s0#989:OK-t2,SUCCESS,nextIndex=11,followerCommit=9
2022-07-14 02:38:58,571 [java.util.concurrent.ThreadPoolExecutor$Worker@19ebc9d5[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s0: close
2022-07-14 02:38:58,571 [java.util.concurrent.ThreadPoolExecutor$Worker@146e6284[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s2: close
2022-07-14 02:38:58,572 [java.util.concurrent.ThreadPoolExecutor$Worker@3882534a[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s1: close
2022-07-14 02:38:58,572 [java.util.concurrent.ThreadPoolExecutor$Worker@19ebc9d5[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(437)) - s0@group-FE4E88459DD9: shutdown
2022-07-14 02:38:58,572 [java.util.concurrent.ThreadPoolExecutor$Worker@19ebc9d5[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-FE4E88459DD9,id=s0
2022-07-14 02:38:58,572 [java.util.concurrent.ThreadPoolExecutor$Worker@19ebc9d5[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-FE4E88459DD9-FollowerState
2022-07-14 02:38:58,572 [s0@group-FE4E88459DD9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-FE4E88459DD9-FollowerState was interrupted
2022-07-14 02:38:58,573 [java.util.concurrent.ThreadPoolExecutor$Worker@19ebc9d5[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-FE4E88459DD9-StateMachineUpdater: set stopIndex = 9
2022-07-14 02:38:58,573 [java.util.concurrent.ThreadPoolExecutor$Worker@19ebc9d5[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(456)) - s0@group-FE4E88459DD9: closes. applyIndex: 9
2022-07-14 02:38:58,572 [java.util.concurrent.ThreadPoolExecutor$Worker@146e6284[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(437)) - s2@group-FE4E88459DD9: shutdown
2022-07-14 02:38:58,573 [s0@group-FE4E88459DD9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s0@group-FE4E88459DD9-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-07-14 02:38:58,572 [java.util.concurrent.ThreadPoolExecutor$Worker@3882534a[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(437)) - s1@group-FE4E88459DD9: shutdown
2022-07-14 02:38:58,573 [java.util.concurrent.ThreadPoolExecutor$Worker@3882534a[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-FE4E88459DD9,id=s1
2022-07-14 02:38:58,573 [java.util.concurrent.ThreadPoolExecutor$Worker@3882534a[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-FE4E88459DD9-LeaderStateImpl
2022-07-14 02:38:58,573 [java.util.concurrent.ThreadPoolExecutor$Worker@146e6284[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-FE4E88459DD9,id=s2
2022-07-14 02:38:58,573 [java.util.concurrent.ThreadPoolExecutor$Worker@146e6284[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-FE4E88459DD9-FollowerState
2022-07-14 02:38:58,574 [s1@group-FE4E88459DD9->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s1@group-FE4E88459DD9->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-07-14 02:38:58,574 [s2@group-FE4E88459DD9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-FE4E88459DD9-FollowerState was interrupted
2022-07-14 02:38:58,574 [java.util.concurrent.ThreadPoolExecutor$Worker@146e6284[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-FE4E88459DD9-StateMachineUpdater: set stopIndex = 9
2022-07-14 02:38:58,574 [java.util.concurrent.ThreadPoolExecutor$Worker@146e6284[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(456)) - s2@group-FE4E88459DD9: closes. applyIndex: 9
2022-07-14 02:38:58,574 [s2@group-FE4E88459DD9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s2@group-FE4E88459DD9-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-07-14 02:38:58,574 [s1@group-FE4E88459DD9->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s1@group-FE4E88459DD9->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-07-14 02:38:58,574 [java.util.concurrent.ThreadPoolExecutor$Worker@19ebc9d5[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s0@group-FE4E88459DD9-SegmentedRaftLogWorker close()
2022-07-14 02:38:58,574 [java.util.concurrent.ThreadPoolExecutor$Worker@3882534a[State = -1, empty queue]] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-FE4E88459DD9-PendingRequests: sendNotLeaderResponses
2022-07-14 02:38:58,576 [Thread-1622] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:58,576 [java.util.concurrent.ThreadPoolExecutor$Worker@146e6284[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s2@group-FE4E88459DD9-SegmentedRaftLogWorker close()
2022-07-14 02:38:58,576 [Thread-1624] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:58,577 [java.util.concurrent.ThreadPoolExecutor$Worker@3882534a[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-FE4E88459DD9-StateMachineUpdater: set stopIndex = 10
2022-07-14 02:38:58,577 [java.util.concurrent.ThreadPoolExecutor$Worker@3882534a[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(456)) - s1@group-FE4E88459DD9: closes. applyIndex: 10
2022-07-14 02:38:58,576 [Thread-1623] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:58,577 [Thread-1620] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:58,577 [Thread-1619] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:58,577 [s1@group-FE4E88459DD9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s1@group-FE4E88459DD9-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-07-14 02:38:58,578 [Thread-1621] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:58,578 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$250/1367845902@69b89e9] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-07-14 02:38:58,579 [Thread-1636] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:58,579 [Thread-1637] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:58,579 [Thread-1638] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:58,579 [Thread-1633] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:58,579 [Thread-1634] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:58,579 [Thread-1635] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:58,580 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$250/1367845902@32ef5272] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-07-14 02:38:58,580 [java.util.concurrent.ThreadPoolExecutor$Worker@3882534a[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s1@group-FE4E88459DD9-SegmentedRaftLogWorker close()
2022-07-14 02:38:58,581 [Thread-1629] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:58,581 [Thread-1630] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:58,581 [Thread-1631] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:58,581 [Thread-1626] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:58,581 [Thread-1627] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:58,581 [Thread-1628] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:58,582 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$250/1367845902@8b7399e] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-07-14 02:38:58,582 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(802)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-07-14 02:38:58,582 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(779)) - ************************************************************** 
2022-07-14 02:38:58,582 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(780)) - *** 
2022-07-14 02:38:58,582 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(781)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-07-14 02:38:58,582 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(782)) - *** 
2022-07-14 02:38:58,582 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(783)) - ************************************************************** 
2022-07-14 02:38:58,583 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(784)) - printing ALL groups
  s0:   CLOSED  FOLLOWER s0@group-FE4E88459DD9:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-FE4E88459DD9-SegmentedRaftLog:CLOSED:c9, conf=7: [s0|rpc:|dataStream:|priority:1, s1|rpc:|dataStream:|priority:2, s2|rpc:|dataStream:|priority:1], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-FE4E88459DD9:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-FE4E88459DD9-SegmentedRaftLog:CLOSED:c10, conf=7: [s0|rpc:|dataStream:|priority:1, s1|rpc:|dataStream:|priority:2, s2|rpc:|dataStream:|priority:1], old=null CLOSED
  s2:   CLOSED  FOLLOWER s2@group-FE4E88459DD9:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-FE4E88459DD9-SegmentedRaftLog:CLOSED:c9, conf=7: [s0|rpc:|dataStream:|priority:1, s1|rpc:|dataStream:|priority:2, s2|rpc:|dataStream:|priority:1], old=null CLOSED
2022-07-14 02:38:58,590 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(802)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-07-14 02:38:58,590 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-07-14 02:38:58,590 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-07-14 02:38:58,590 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-07-14 02:38:58,591 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-07-14 02:38:58,591 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(119)) - Running runWithNewCluster
2022-07-14 02:38:58,591 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-07-14 02:38:58,592 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(272)) - new MiniRaftClusterWithSimulatedRpc with group-9AED4EBF25D4:[s0|rpc:localhost:34215|admin:localhost:46865|client:localhost:43041|dataStream:localhost:34001|priority:0, s1|rpc:localhost:33723|admin:localhost:45329|client:localhost:36097|dataStream:localhost:38005|priority:0, s2|rpc:localhost:33797|admin:localhost:41161|client:localhost:33497|dataStream:localhost:32949|priority:0]
2022-07-14 02:38:58,592 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(304)) - .............................................................. 
2022-07-14 02:38:58,592 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(305)) - ... 
2022-07-14 02:38:58,592 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(306)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-07-14 02:38:58,592 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(307)) - ... 
2022-07-14 02:38:58,592 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(308)) - .............................................................. 
2022-07-14 02:38:58,592 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(284)) - servers = {}
2022-07-14 02:38:58,592 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(348)) - newRaftServer: s0, group-9AED4EBF25D4:[s0|rpc:localhost:34215|admin:localhost:46865|client:localhost:43041|dataStream:localhost:34001|priority:0, s1|rpc:localhost:33723|admin:localhost:45329|client:localhost:36097|dataStream:localhost:38005|priority:0, s2|rpc:localhost:33797|admin:localhost:41161|client:localhost:33497|dataStream:localhost:32949|priority:0], format? true
2022-07-14 02:38:58,593 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a797318/s0
2022-07-14 02:38:58,593 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a797318/s0 does not exist.
2022-07-14 02:38:58,593 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(353)) - Formatted directory target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a797318/s0
2022-07-14 02:38:58,594 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-14 02:38:58,594 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-07-14 02:38:58,594 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-07-14 02:38:58,594 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-07-14 02:38:58,594 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-14 02:38:58,594 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-14 02:38:58,594 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a797318/s0] (custom)
2022-07-14 02:38:58,598 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-9AED4EBF25D4:[s0|rpc:localhost:34215|admin:localhost:46865|client:localhost:43041|dataStream:localhost:34001|priority:0, s1|rpc:localhost:33723|admin:localhost:45329|client:localhost:36097|dataStream:localhost:38005|priority:0, s2|rpc:localhost:33797|admin:localhost:41161|client:localhost:33497|dataStream:localhost:32949|priority:0] returns group-9AED4EBF25D4:java.util.concurrent.CompletableFuture@688b521b[Not completed]
2022-07-14 02:38:58,598 [pool-26-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(191)) - s0: new RaftServerImpl for group-9AED4EBF25D4:[s0|rpc:localhost:34215|admin:localhost:46865|client:localhost:43041|dataStream:localhost:34001|priority:0, s1|rpc:localhost:33723|admin:localhost:45329|client:localhost:36097|dataStream:localhost:38005|priority:0, s2|rpc:localhost:33797|admin:localhost:41161|client:localhost:33497|dataStream:localhost:32949|priority:0] with BaseStateMachine:uninitialized
2022-07-14 02:38:58,598 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(348)) - newRaftServer: s1, group-9AED4EBF25D4:[s0|rpc:localhost:34215|admin:localhost:46865|client:localhost:43041|dataStream:localhost:34001|priority:0, s1|rpc:localhost:33723|admin:localhost:45329|client:localhost:36097|dataStream:localhost:38005|priority:0, s2|rpc:localhost:33797|admin:localhost:41161|client:localhost:33497|dataStream:localhost:32949|priority:0], format? true
2022-07-14 02:38:58,598 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a797318/s1
2022-07-14 02:38:58,598 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-07-14 02:38:58,598 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a797318/s1 does not exist.
2022-07-14 02:38:58,598 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(353)) - Formatted directory target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a797318/s1
2022-07-14 02:38:58,598 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:38:58,598 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-07-14 02:38:58,598 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-14 02:38:58,599 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-14 02:38:58,599 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-14 02:38:58,599 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-07-14 02:38:58,599 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-07-14 02:38:58,599 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-07-14 02:38:58,599 [pool-26-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(109)) - s0@group-9AED4EBF25D4: ConfigurationManager, init=-1: [s0|rpc:localhost:34215|admin:localhost:46865|client:localhost:43041|dataStream:localhost:34001|priority:0, s1|rpc:localhost:33723|admin:localhost:45329|client:localhost:36097|dataStream:localhost:38005|priority:0, s2|rpc:localhost:33797|admin:localhost:41161|client:localhost:33497|dataStream:localhost:32949|priority:0], old=null, confs=<EMPTY_MAP>
2022-07-14 02:38:58,599 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-07-14 02:38:58,599 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a797318/s0] (custom)
2022-07-14 02:38:58,599 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-14 02:38:58,599 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-14 02:38:58,599 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-07-14 02:38:58,600 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a797318/s1] (custom)
2022-07-14 02:38:58,600 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-07-14 02:38:58,600 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-07-14 02:38:58,600 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-07-14 02:38:58,600 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-07-14 02:38:58,600 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-07-14 02:38:58,600 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-07-14 02:38:58,600 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-07-14 02:38:58,600 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-07-14 02:38:58,600 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-07-14 02:38:58,601 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s1: addNew group-9AED4EBF25D4:[s0|rpc:localhost:34215|admin:localhost:46865|client:localhost:43041|dataStream:localhost:34001|priority:0, s1|rpc:localhost:33723|admin:localhost:45329|client:localhost:36097|dataStream:localhost:38005|priority:0, s2|rpc:localhost:33797|admin:localhost:41161|client:localhost:33497|dataStream:localhost:32949|priority:0] returns group-9AED4EBF25D4:java.util.concurrent.CompletableFuture@3a0d2b84[Not completed]
2022-07-14 02:38:58,601 [pool-27-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(191)) - s1: new RaftServerImpl for group-9AED4EBF25D4:[s0|rpc:localhost:34215|admin:localhost:46865|client:localhost:43041|dataStream:localhost:34001|priority:0, s1|rpc:localhost:33723|admin:localhost:45329|client:localhost:36097|dataStream:localhost:38005|priority:0, s2|rpc:localhost:33797|admin:localhost:41161|client:localhost:33497|dataStream:localhost:32949|priority:0] with BaseStateMachine:uninitialized
2022-07-14 02:38:58,601 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(348)) - newRaftServer: s2, group-9AED4EBF25D4:[s0|rpc:localhost:34215|admin:localhost:46865|client:localhost:43041|dataStream:localhost:34001|priority:0, s1|rpc:localhost:33723|admin:localhost:45329|client:localhost:36097|dataStream:localhost:38005|priority:0, s2|rpc:localhost:33797|admin:localhost:41161|client:localhost:33497|dataStream:localhost:32949|priority:0], format? true
2022-07-14 02:38:58,601 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a797318/s2
2022-07-14 02:38:58,601 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-07-14 02:38:58,601 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a797318/s2 does not exist.
2022-07-14 02:38:58,601 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(353)) - Formatted directory target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a797318/s2
2022-07-14 02:38:58,601 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:38:58,601 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-07-14 02:38:58,601 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-14 02:38:58,601 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-14 02:38:58,601 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-07-14 02:38:58,602 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-14 02:38:58,602 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-07-14 02:38:58,602 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-07-14 02:38:58,602 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-07-14 02:38:58,602 [pool-27-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(109)) - s1@group-9AED4EBF25D4: ConfigurationManager, init=-1: [s0|rpc:localhost:34215|admin:localhost:46865|client:localhost:43041|dataStream:localhost:34001|priority:0, s1|rpc:localhost:33723|admin:localhost:45329|client:localhost:36097|dataStream:localhost:38005|priority:0, s2|rpc:localhost:33797|admin:localhost:41161|client:localhost:33497|dataStream:localhost:32949|priority:0], old=null, confs=<EMPTY_MAP>
2022-07-14 02:38:58,603 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-14 02:38:58,603 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-14 02:38:58,603 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a797318/s2] (custom)
2022-07-14 02:38:58,603 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s2: addNew group-9AED4EBF25D4:[s0|rpc:localhost:34215|admin:localhost:46865|client:localhost:43041|dataStream:localhost:34001|priority:0, s1|rpc:localhost:33723|admin:localhost:45329|client:localhost:36097|dataStream:localhost:38005|priority:0, s2|rpc:localhost:33797|admin:localhost:41161|client:localhost:33497|dataStream:localhost:32949|priority:0] returns group-9AED4EBF25D4:java.util.concurrent.CompletableFuture@728b52ff[Not completed]
2022-07-14 02:38:58,603 [pool-28-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(191)) - s2: new RaftServerImpl for group-9AED4EBF25D4:[s0|rpc:localhost:34215|admin:localhost:46865|client:localhost:43041|dataStream:localhost:34001|priority:0, s1|rpc:localhost:33723|admin:localhost:45329|client:localhost:36097|dataStream:localhost:38005|priority:0, s2|rpc:localhost:33797|admin:localhost:41161|client:localhost:33497|dataStream:localhost:32949|priority:0] with BaseStateMachine:uninitialized
2022-07-14 02:38:58,603 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-07-14 02:38:58,603 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:38:58,604 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-07-14 02:38:58,604 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-14 02:38:58,604 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-14 02:38:58,604 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-07-14 02:38:58,604 [pool-28-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(109)) - s2@group-9AED4EBF25D4: ConfigurationManager, init=-1: [s0|rpc:localhost:34215|admin:localhost:46865|client:localhost:43041|dataStream:localhost:34001|priority:0, s1|rpc:localhost:33723|admin:localhost:45329|client:localhost:36097|dataStream:localhost:38005|priority:0, s2|rpc:localhost:33797|admin:localhost:41161|client:localhost:33497|dataStream:localhost:32949|priority:0], old=null, confs=<EMPTY_MAP>
2022-07-14 02:38:58,604 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a797318/s2] (custom)
2022-07-14 02:38:58,604 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-07-14 02:38:58,604 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-07-14 02:38:58,604 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-07-14 02:38:58,604 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-07-14 02:38:58,604 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-07-14 02:38:58,605 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-07-14 02:38:58,605 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-07-14 02:38:58,605 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-07-14 02:38:58,605 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-07-14 02:38:58,605 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-07-14 02:38:58,606 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a797318/s0/3913e3ed-6351-4bde-a323-9aed4ebf25d4 does not exist. Creating ...
2022-07-14 02:38:58,606 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a797318/s0/3913e3ed-6351-4bde-a323-9aed4ebf25d4
2022-07-14 02:38:58,607 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a797318/s1] (custom)
2022-07-14 02:38:58,607 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-07-14 02:38:58,607 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-07-14 02:38:58,607 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-07-14 02:38:58,607 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-07-14 02:38:58,607 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-07-14 02:38:58,608 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-07-14 02:38:58,608 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-07-14 02:38:58,608 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-07-14 02:38:58,608 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-07-14 02:38:58,608 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-07-14 02:38:58,608 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a797318/s0/3913e3ed-6351-4bde-a323-9aed4ebf25d4/in_use.lock acquired by nodename 16254@fv-az54-379.qczjibyfz4dularrisj3jz1gre.bx.internal.cloudapp.net
2022-07-14 02:38:58,608 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a797318/s0/3913e3ed-6351-4bde-a323-9aed4ebf25d4/current
2022-07-14 02:38:58,608 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a797318/s0/3913e3ed-6351-4bde-a323-9aed4ebf25d4/sm
2022-07-14 02:38:58,609 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a797318/s0/3913e3ed-6351-4bde-a323-9aed4ebf25d4 has been successfully formatted.
2022-07-14 02:38:58,610 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-07-14 02:38:58,610 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-07-14 02:38:58,610 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:38:58,610 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-07-14 02:38:58,610 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-14 02:38:58,610 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-07-14 02:38:58,610 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-07-14 02:38:58,610 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-9AED4EBF25D4-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a797318/s0/3913e3ed-6351-4bde-a323-9aed4ebf25d4
2022-07-14 02:38:58,610 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-07-14 02:38:58,610 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-07-14 02:38:58,610 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-14 02:38:58,610 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-07-14 02:38:58,610 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-07-14 02:38:58,610 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-07-14 02:38:58,610 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-07-14 02:38:58,611 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-07-14 02:38:58,611 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-07-14 02:38:58,611 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-07-14 02:38:58,611 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-07-14 02:38:58,611 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-9AED4EBF25D4-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-07-14 02:38:58,611 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-9AED4EBF25D4-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-07-14 02:38:58,611 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(313)) - s0@group-9AED4EBF25D4: start as a follower, conf=-1: [s0|rpc:localhost:34215|admin:localhost:46865|client:localhost:43041|dataStream:localhost:34001|priority:0, s1|rpc:localhost:33723|admin:localhost:45329|client:localhost:36097|dataStream:localhost:38005|priority:0, s2|rpc:localhost:33797|admin:localhost:41161|client:localhost:33497|dataStream:localhost:32949|priority:0], old=null
2022-07-14 02:38:58,611 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s0@group-9AED4EBF25D4: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-07-14 02:38:58,611 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-9AED4EBF25D4-FollowerState
2022-07-14 02:38:58,612 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-9AED4EBF25D4,id=s0
2022-07-14 02:38:58,612 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-07-14 02:38:58,612 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-07-14 02:38:58,612 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-07-14 02:38:58,612 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s0: start RPC server
2022-07-14 02:38:58,613 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a797318/s1/3913e3ed-6351-4bde-a323-9aed4ebf25d4 does not exist. Creating ...
2022-07-14 02:38:58,613 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a797318/s1/3913e3ed-6351-4bde-a323-9aed4ebf25d4
2022-07-14 02:38:58,613 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$250/1367845902@21090621] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-07-14 02:38:58,614 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a797318/s1/3913e3ed-6351-4bde-a323-9aed4ebf25d4/in_use.lock acquired by nodename 16254@fv-az54-379.qczjibyfz4dularrisj3jz1gre.bx.internal.cloudapp.net
2022-07-14 02:38:58,615 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a797318/s1/3913e3ed-6351-4bde-a323-9aed4ebf25d4/current
2022-07-14 02:38:58,615 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a797318/s1/3913e3ed-6351-4bde-a323-9aed4ebf25d4/sm
2022-07-14 02:38:58,617 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a797318/s1/3913e3ed-6351-4bde-a323-9aed4ebf25d4 has been successfully formatted.
2022-07-14 02:38:58,617 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-07-14 02:38:58,617 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-07-14 02:38:58,617 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:38:58,617 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-07-14 02:38:58,617 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-14 02:38:58,617 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-07-14 02:38:58,617 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-07-14 02:38:58,617 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-9AED4EBF25D4-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a797318/s1/3913e3ed-6351-4bde-a323-9aed4ebf25d4
2022-07-14 02:38:58,617 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-07-14 02:38:58,617 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-07-14 02:38:58,617 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-14 02:38:58,617 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-07-14 02:38:58,617 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-07-14 02:38:58,618 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-07-14 02:38:58,618 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-07-14 02:38:58,618 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-07-14 02:38:58,618 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-07-14 02:38:58,618 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-07-14 02:38:58,618 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-07-14 02:38:58,618 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-9AED4EBF25D4-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-07-14 02:38:58,618 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-9AED4EBF25D4-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-07-14 02:38:58,629 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(313)) - s1@group-9AED4EBF25D4: start as a follower, conf=-1: [s0|rpc:localhost:34215|admin:localhost:46865|client:localhost:43041|dataStream:localhost:34001|priority:0, s1|rpc:localhost:33723|admin:localhost:45329|client:localhost:36097|dataStream:localhost:38005|priority:0, s2|rpc:localhost:33797|admin:localhost:41161|client:localhost:33497|dataStream:localhost:32949|priority:0], old=null
2022-07-14 02:38:58,629 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-9AED4EBF25D4: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-07-14 02:38:58,629 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-9AED4EBF25D4-FollowerState
2022-07-14 02:38:58,629 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-9AED4EBF25D4,id=s1
2022-07-14 02:38:58,629 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-07-14 02:38:58,629 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-07-14 02:38:58,629 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-07-14 02:38:58,633 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s1: start RPC server
2022-07-14 02:38:58,635 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$250/1367845902@cead159] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-07-14 02:38:58,635 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a797318/s2/3913e3ed-6351-4bde-a323-9aed4ebf25d4 does not exist. Creating ...
2022-07-14 02:38:58,635 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a797318/s2/3913e3ed-6351-4bde-a323-9aed4ebf25d4
2022-07-14 02:38:58,637 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a797318/s2/3913e3ed-6351-4bde-a323-9aed4ebf25d4/in_use.lock acquired by nodename 16254@fv-az54-379.qczjibyfz4dularrisj3jz1gre.bx.internal.cloudapp.net
2022-07-14 02:38:58,637 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a797318/s2/3913e3ed-6351-4bde-a323-9aed4ebf25d4/current
2022-07-14 02:38:58,637 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a797318/s2/3913e3ed-6351-4bde-a323-9aed4ebf25d4/sm
2022-07-14 02:38:58,638 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a797318/s2/3913e3ed-6351-4bde-a323-9aed4ebf25d4 has been successfully formatted.
2022-07-14 02:38:58,639 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-07-14 02:38:58,639 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-07-14 02:38:58,639 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:38:58,639 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-07-14 02:38:58,639 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-14 02:38:58,639 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-07-14 02:38:58,639 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-07-14 02:38:58,639 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-9AED4EBF25D4-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a797318/s2/3913e3ed-6351-4bde-a323-9aed4ebf25d4
2022-07-14 02:38:58,639 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-07-14 02:38:58,639 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-07-14 02:38:58,639 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-14 02:38:58,639 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-07-14 02:38:58,639 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-07-14 02:38:58,639 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-07-14 02:38:58,639 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-07-14 02:38:58,639 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-07-14 02:38:58,640 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-07-14 02:38:58,640 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-07-14 02:38:58,640 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-07-14 02:38:58,640 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-9AED4EBF25D4-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-07-14 02:38:58,640 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-9AED4EBF25D4-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-07-14 02:38:58,640 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(313)) - s2@group-9AED4EBF25D4: start as a follower, conf=-1: [s0|rpc:localhost:34215|admin:localhost:46865|client:localhost:43041|dataStream:localhost:34001|priority:0, s1|rpc:localhost:33723|admin:localhost:45329|client:localhost:36097|dataStream:localhost:38005|priority:0, s2|rpc:localhost:33797|admin:localhost:41161|client:localhost:33497|dataStream:localhost:32949|priority:0], old=null
2022-07-14 02:38:58,640 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-9AED4EBF25D4: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-07-14 02:38:58,640 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-9AED4EBF25D4-FollowerState
2022-07-14 02:38:58,641 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-9AED4EBF25D4,id=s2
2022-07-14 02:38:58,641 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-07-14 02:38:58,641 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-07-14 02:38:58,641 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-07-14 02:38:58,641 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s2: start RPC server
2022-07-14 02:38:58,642 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$250/1367845902@5688ef3c] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-07-14 02:38:58,642 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:38:58,643 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-9AED4EBF25D4:t0, leader=null, voted=, raftlog=Memoized:s0@group-9AED4EBF25D4-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:34215|admin:localhost:46865|client:localhost:43041|dataStream:localhost:34001|priority:0, s1|rpc:localhost:33723|admin:localhost:45329|client:localhost:36097|dataStream:localhost:38005|priority:0, s2|rpc:localhost:33797|admin:localhost:41161|client:localhost:33497|dataStream:localhost:32949|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-9AED4EBF25D4:t0, leader=null, voted=, raftlog=Memoized:s1@group-9AED4EBF25D4-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:34215|admin:localhost:46865|client:localhost:43041|dataStream:localhost:34001|priority:0, s1|rpc:localhost:33723|admin:localhost:45329|client:localhost:36097|dataStream:localhost:38005|priority:0, s2|rpc:localhost:33797|admin:localhost:41161|client:localhost:33497|dataStream:localhost:32949|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-9AED4EBF25D4:t0, leader=null, voted=, raftlog=Memoized:s2@group-9AED4EBF25D4-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:34215|admin:localhost:46865|client:localhost:43041|dataStream:localhost:34001|priority:0, s1|rpc:localhost:33723|admin:localhost:45329|client:localhost:36097|dataStream:localhost:38005|priority:0, s2|rpc:localhost:33797|admin:localhost:41161|client:localhost:33497|dataStream:localhost:32949|priority:0], old=null RUNNING
2022-07-14 02:38:58,643 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-9AED4EBF25D4:t0, leader=null, voted=, raftlog=Memoized:s0@group-9AED4EBF25D4-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:34215|admin:localhost:46865|client:localhost:43041|dataStream:localhost:34001|priority:0, s1|rpc:localhost:33723|admin:localhost:45329|client:localhost:36097|dataStream:localhost:38005|priority:0, s2|rpc:localhost:33797|admin:localhost:41161|client:localhost:33497|dataStream:localhost:32949|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-9AED4EBF25D4:t0, leader=null, voted=, raftlog=Memoized:s1@group-9AED4EBF25D4-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:34215|admin:localhost:46865|client:localhost:43041|dataStream:localhost:34001|priority:0, s1|rpc:localhost:33723|admin:localhost:45329|client:localhost:36097|dataStream:localhost:38005|priority:0, s2|rpc:localhost:33797|admin:localhost:41161|client:localhost:33497|dataStream:localhost:32949|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-9AED4EBF25D4:t0, leader=null, voted=, raftlog=Memoized:s2@group-9AED4EBF25D4-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:34215|admin:localhost:46865|client:localhost:43041|dataStream:localhost:34001|priority:0, s1|rpc:localhost:33723|admin:localhost:45329|client:localhost:36097|dataStream:localhost:38005|priority:0, s2|rpc:localhost:33797|admin:localhost:41161|client:localhost:33497|dataStream:localhost:32949|priority:0], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-9AED4EBF25D4:t0, leader=null, voted=, raftlog=Memoized:s0@group-9AED4EBF25D4-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:34215|admin:localhost:46865|client:localhost:43041|dataStream:localhost:34001|priority:0, s1|rpc:localhost:33723|admin:localhost:45329|client:localhost:36097|dataStream:localhost:38005|priority:0, s2|rpc:localhost:33797|admin:localhost:41161|client:localhost:33497|dataStream:localhost:32949|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-9AED4EBF25D4:t0, leader=null, voted=, raftlog=Memoized:s1@group-9AED4EBF25D4-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:34215|admin:localhost:46865|client:localhost:43041|dataStream:localhost:34001|priority:0, s1|rpc:localhost:33723|admin:localhost:45329|client:localhost:36097|dataStream:localhost:38005|priority:0, s2|rpc:localhost:33797|admin:localhost:41161|client:localhost:33497|dataStream:localhost:32949|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-9AED4EBF25D4:t0, leader=null, voted=, raftlog=Memoized:s2@group-9AED4EBF25D4-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:34215|admin:localhost:46865|client:localhost:43041|dataStream:localhost:34001|priority:0, s1|rpc:localhost:33723|admin:localhost:45329|client:localhost:36097|dataStream:localhost:38005|priority:0, s2|rpc:localhost:33797|admin:localhost:41161|client:localhost:33497|dataStream:localhost:32949|priority:0], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:535)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:569)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:562)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.runTestPauseResumeLeaderElection(LeaderElectionTests.java:418)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.LeaderElectionTests.testPauseResumeLeaderElection(LeaderElectionTests.java:413)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:38:58,821 [s2@group-9AED4EBF25D4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-9AED4EBF25D4-FollowerState: change to CANDIDATE, lastRpcElapsedTime:181013254ns, electionTimeout:180ms
2022-07-14 02:38:58,822 [s2@group-9AED4EBF25D4-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-9AED4EBF25D4-FollowerState
2022-07-14 02:38:58,822 [s2@group-9AED4EBF25D4-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-9AED4EBF25D4: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-07-14 02:38:58,822 [s2@group-9AED4EBF25D4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:38:58,822 [s2@group-9AED4EBF25D4-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-9AED4EBF25D4-LeaderElection63
2022-07-14 02:38:58,823 [s2@group-9AED4EBF25D4-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-9AED4EBF25D4-LeaderElection63 PRE_VOTE round 0: submit vote requests at term 0 for -1: [s0|rpc:localhost:34215|admin:localhost:46865|client:localhost:43041|dataStream:localhost:34001|priority:0, s1|rpc:localhost:33723|admin:localhost:45329|client:localhost:36097|dataStream:localhost:38005|priority:0, s2|rpc:localhost:33797|admin:localhost:41161|client:localhost:33497|dataStream:localhost:32949|priority:0], old=null
2022-07-14 02:38:58,824 [Thread-1767] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s0@group-9AED4EBF25D4: receive requestVote(PRE_VOTE, s2, group-9AED4EBF25D4, 0, (t:0, i:0))
2022-07-14 02:38:58,824 [Thread-1767] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-9AED4EBF25D4-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-07-14 02:38:58,824 [Thread-1774] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-9AED4EBF25D4: receive requestVote(PRE_VOTE, s2, group-9AED4EBF25D4, 0, (t:0, i:0))
2022-07-14 02:38:58,824 [Thread-1767] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s0@group-9AED4EBF25D4 replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-9AED4EBF25D4:t0, leader=null, voted=, raftlog=Memoized:s0@group-9AED4EBF25D4-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:34215|admin:localhost:46865|client:localhost:43041|dataStream:localhost:34001|priority:0, s1|rpc:localhost:33723|admin:localhost:45329|client:localhost:36097|dataStream:localhost:38005|priority:0, s2|rpc:localhost:33797|admin:localhost:41161|client:localhost:33497|dataStream:localhost:32949|priority:0], old=null
2022-07-14 02:38:58,824 [Thread-1774] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-9AED4EBF25D4-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-07-14 02:38:58,824 [Thread-1774] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-9AED4EBF25D4 replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-9AED4EBF25D4:t0, leader=null, voted=, raftlog=Memoized:s1@group-9AED4EBF25D4-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:34215|admin:localhost:46865|client:localhost:43041|dataStream:localhost:34001|priority:0, s1|rpc:localhost:33723|admin:localhost:45329|client:localhost:36097|dataStream:localhost:38005|priority:0, s2|rpc:localhost:33797|admin:localhost:41161|client:localhost:33497|dataStream:localhost:32949|priority:0], old=null
2022-07-14 02:38:58,824 [s2@group-9AED4EBF25D4-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-9AED4EBF25D4-LeaderElection63: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-07-14 02:38:58,824 [s2@group-9AED4EBF25D4-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:OK-t0
2022-07-14 02:38:58,824 [s2@group-9AED4EBF25D4-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-9AED4EBF25D4-LeaderElection63 PRE_VOTE round 0: result PASSED
2022-07-14 02:38:58,826 [s2@group-9AED4EBF25D4-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-9AED4EBF25D4-LeaderElection63 ELECTION round 0: submit vote requests at term 1 for -1: [s0|rpc:localhost:34215|admin:localhost:46865|client:localhost:43041|dataStream:localhost:34001|priority:0, s1|rpc:localhost:33723|admin:localhost:45329|client:localhost:36097|dataStream:localhost:38005|priority:0, s2|rpc:localhost:33797|admin:localhost:41161|client:localhost:33497|dataStream:localhost:32949|priority:0], old=null
2022-07-14 02:38:58,826 [Thread-1768] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s0@group-9AED4EBF25D4: receive requestVote(ELECTION, s2, group-9AED4EBF25D4, 1, (t:0, i:0))
2022-07-14 02:38:58,826 [Thread-1775] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-9AED4EBF25D4: receive requestVote(ELECTION, s2, group-9AED4EBF25D4, 1, (t:0, i:0))
2022-07-14 02:38:58,827 [Thread-1768] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-9AED4EBF25D4-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-07-14 02:38:58,831 [Thread-1768] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s0@group-9AED4EBF25D4: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2022-07-14 02:38:58,831 [Thread-1768] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-9AED4EBF25D4-FollowerState
2022-07-14 02:38:58,831 [Thread-1768] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-9AED4EBF25D4-FollowerState
2022-07-14 02:38:58,830 [Thread-1775] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-9AED4EBF25D4-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-07-14 02:38:58,831 [Thread-1775] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-9AED4EBF25D4: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2022-07-14 02:38:58,831 [Thread-1775] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-9AED4EBF25D4-FollowerState
2022-07-14 02:38:58,831 [Thread-1775] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-9AED4EBF25D4-FollowerState
2022-07-14 02:38:58,831 [s1@group-9AED4EBF25D4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-9AED4EBF25D4-FollowerState was interrupted
2022-07-14 02:38:58,831 [s0@group-9AED4EBF25D4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-9AED4EBF25D4-FollowerState was interrupted
2022-07-14 02:38:58,833 [Thread-1768] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s0@group-9AED4EBF25D4 replies to ELECTION vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-9AED4EBF25D4:t1, leader=null, voted=s2, raftlog=Memoized:s0@group-9AED4EBF25D4-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:34215|admin:localhost:46865|client:localhost:43041|dataStream:localhost:34001|priority:0, s1|rpc:localhost:33723|admin:localhost:45329|client:localhost:36097|dataStream:localhost:38005|priority:0, s2|rpc:localhost:33797|admin:localhost:41161|client:localhost:33497|dataStream:localhost:32949|priority:0], old=null
2022-07-14 02:38:58,833 [s2@group-9AED4EBF25D4-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-9AED4EBF25D4-LeaderElection63: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-07-14 02:38:58,833 [s2@group-9AED4EBF25D4-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:OK-t1
2022-07-14 02:38:58,833 [s2@group-9AED4EBF25D4-LeaderElection63] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-9AED4EBF25D4-LeaderElection63 ELECTION round 0: result PASSED
2022-07-14 02:38:58,833 [s2@group-9AED4EBF25D4-LeaderElection63] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-9AED4EBF25D4-LeaderElection63
2022-07-14 02:38:58,833 [s2@group-9AED4EBF25D4-LeaderElection63] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-9AED4EBF25D4: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-07-14 02:38:58,833 [s2@group-9AED4EBF25D4-LeaderElection63] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s2@group-9AED4EBF25D4: change Leader from null to s2 at term 1 for becomeLeader, leader elected after 228ms
2022-07-14 02:38:58,833 [s2@group-9AED4EBF25D4-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-07-14 02:38:58,833 [s2@group-9AED4EBF25D4-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-14 02:38:58,833 [s2@group-9AED4EBF25D4-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-07-14 02:38:58,833 [s2@group-9AED4EBF25D4-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-07-14 02:38:58,833 [s2@group-9AED4EBF25D4-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-07-14 02:38:58,833 [s2@group-9AED4EBF25D4-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-07-14 02:38:58,833 [s2@group-9AED4EBF25D4-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-14 02:38:58,834 [s2@group-9AED4EBF25D4-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-07-14 02:38:58,834 [s2@group-9AED4EBF25D4-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-14 02:38:58,834 [s2@group-9AED4EBF25D4-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:38:58,834 [s2@group-9AED4EBF25D4-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-14 02:38:58,834 [s2@group-9AED4EBF25D4-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-14 02:38:58,834 [s2@group-9AED4EBF25D4-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:38:58,834 [s2@group-9AED4EBF25D4-LeaderElection63] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-14 02:38:58,834 [s2@group-9AED4EBF25D4-LeaderElection63] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-9AED4EBF25D4-LeaderStateImpl
2022-07-14 02:38:58,835 [s2@group-9AED4EBF25D4-LeaderElection63] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s2@group-9AED4EBF25D4-SegmentedRaftLogWorker: Starting segment from index:0
2022-07-14 02:38:58,833 [Thread-1775] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-9AED4EBF25D4 replies to ELECTION vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-9AED4EBF25D4:t1, leader=null, voted=s2, raftlog=Memoized:s1@group-9AED4EBF25D4-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:34215|admin:localhost:46865|client:localhost:43041|dataStream:localhost:34001|priority:0, s1|rpc:localhost:33723|admin:localhost:45329|client:localhost:36097|dataStream:localhost:38005|priority:0, s2|rpc:localhost:33797|admin:localhost:41161|client:localhost:33497|dataStream:localhost:32949|priority:0], old=null
2022-07-14 02:38:58,844 [s2@group-9AED4EBF25D4-LeaderElection63] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s2@group-9AED4EBF25D4: set configuration 0: [s0|rpc:localhost:34215|admin:localhost:46865|client:localhost:43041|dataStream:localhost:34001|priority:0, s1|rpc:localhost:33723|admin:localhost:45329|client:localhost:36097|dataStream:localhost:38005|priority:0, s2|rpc:localhost:33797|admin:localhost:41161|client:localhost:33497|dataStream:localhost:32949|priority:0], old=null
2022-07-14 02:38:58,845 [Thread-1769] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s0@group-9AED4EBF25D4: change Leader from null to s2 at term 1 for appendEntries, leader elected after 244ms
2022-07-14 02:38:58,845 [Thread-1776] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s1@group-9AED4EBF25D4: change Leader from null to s2 at term 1 for appendEntries, leader elected after 238ms
2022-07-14 02:38:58,846 [Thread-1767] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s0@group-9AED4EBF25D4: receive appendEntries(s2, 1, null, -1, true, commits[s2:c-1, s0:c-1, s1:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-07-14 02:38:58,846 [Thread-1774] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-9AED4EBF25D4: receive appendEntries(s2, 1, null, -1, true, commits[s2:c-1, s0:c-1, s1:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-07-14 02:38:58,847 [s2@group-9AED4EBF25D4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-9AED4EBF25D4-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a797318/s2/3913e3ed-6351-4bde-a323-9aed4ebf25d4/current/log_inprogress_0
2022-07-14 02:38:58,847 [Thread-1774] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s1@group-9AED4EBF25D4: set configuration 0: [s0|rpc:localhost:34215|admin:localhost:46865|client:localhost:43041|dataStream:localhost:34001|priority:0, s1|rpc:localhost:33723|admin:localhost:45329|client:localhost:36097|dataStream:localhost:38005|priority:0, s2|rpc:localhost:33797|admin:localhost:41161|client:localhost:33497|dataStream:localhost:32949|priority:0], old=null
2022-07-14 02:38:58,847 [Thread-1774] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s1@group-9AED4EBF25D4-SegmentedRaftLogWorker: Starting segment from index:0
2022-07-14 02:38:58,847 [Thread-1767] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s0@group-9AED4EBF25D4: set configuration 0: [s0|rpc:localhost:34215|admin:localhost:46865|client:localhost:43041|dataStream:localhost:34001|priority:0, s1|rpc:localhost:33723|admin:localhost:45329|client:localhost:36097|dataStream:localhost:38005|priority:0, s2|rpc:localhost:33797|admin:localhost:41161|client:localhost:33497|dataStream:localhost:32949|priority:0], old=null
2022-07-14 02:38:58,847 [Thread-1767] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s0@group-9AED4EBF25D4-SegmentedRaftLogWorker: Starting segment from index:0
2022-07-14 02:38:58,866 [s1@group-9AED4EBF25D4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-9AED4EBF25D4-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a797318/s1/3913e3ed-6351-4bde-a323-9aed4ebf25d4/current/log_inprogress_0
2022-07-14 02:38:58,867 [s0@group-9AED4EBF25D4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-9AED4EBF25D4-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a797318/s0/3913e3ed-6351-4bde-a323-9aed4ebf25d4/current/log_inprogress_0
2022-07-14 02:38:58,867 [Thread-1816] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-9AED4EBF25D4: succeeded to handle AppendEntries. Reply: s2<-s1#1000:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1
2022-07-14 02:38:58,868 [Thread-1817] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s0@group-9AED4EBF25D4: succeeded to handle AppendEntries. Reply: s2<-s0#999:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1
2022-07-14 02:38:59,093 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-9AED4EBF25D4:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-9AED4EBF25D4-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:34215|admin:localhost:46865|client:localhost:43041|dataStream:localhost:34001|priority:0, s1|rpc:localhost:33723|admin:localhost:45329|client:localhost:36097|dataStream:localhost:38005|priority:0, s2|rpc:localhost:33797|admin:localhost:41161|client:localhost:33497|dataStream:localhost:32949|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-9AED4EBF25D4:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-9AED4EBF25D4-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:34215|admin:localhost:46865|client:localhost:43041|dataStream:localhost:34001|priority:0, s1|rpc:localhost:33723|admin:localhost:45329|client:localhost:36097|dataStream:localhost:38005|priority:0, s2|rpc:localhost:33797|admin:localhost:41161|client:localhost:33497|dataStream:localhost:32949|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-9AED4EBF25D4:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-9AED4EBF25D4-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:34215|admin:localhost:46865|client:localhost:43041|dataStream:localhost:34001|priority:0, s1|rpc:localhost:33723|admin:localhost:45329|client:localhost:36097|dataStream:localhost:38005|priority:0, s2|rpc:localhost:33797|admin:localhost:41161|client:localhost:33497|dataStream:localhost:32949|priority:0], old=null RUNNING
2022-07-14 02:38:59,094 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-14 02:38:59,099 [s0-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:leaderElectionManagementAsync(1048)) - s0@group-9AED4EBF25D4 receive leaderElectionManagement request LeaderElectionManagementRequest:client-715C78D969EC->s0@group-9AED4EBF25D4, cid=1010, seq=0, RO, null, Pause:
2022-07-14 02:38:59,100 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(794)) - s0@group-9AED4EBF25D4: receive client request(RaftClientRequest:client-715C78D969EC->s0@group-9AED4EBF25D4, cid=1013, seq=0, RW, message)
2022-07-14 02:38:59,101 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(366)) - client-715C78D969EC: suggested new leader: s2. Failed RaftClientRequest:client-715C78D969EC->s0@group-9AED4EBF25D4, cid=1013, seq=0, RW, message with {}
org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-9AED4EBF25D4 is not the leader s2|rpc:localhost:33797|admin:localhost:41161|client:localhost:33497|dataStream:localhost:32949|priority:0
	at org.apache.ratis.server.impl.RaftServerImpl.generateNotLeaderException(RaftServerImpl.java:699)
	at org.apache.ratis.server.impl.RaftServerImpl.checkLeaderState(RaftServerImpl.java:664)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:803)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$null$12(RaftServerImpl.java:786)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:115)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:786)
	at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:38:59,101 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(385)) - client-715C78D969EC: oldLeader=s0,  curLeader=s0, newLeader=s2
2022-07-14 02:38:59,101 [Time-limited test] DEBUG client.RaftClient (RaftClientImpl.java:handleIOException(391)) - group-9AED4EBF25D4 client-715C78D969EC: client change Leader from s0 to s2 ex=org.apache.ratis.protocol.exceptions.NotLeaderException
2022-07-14 02:38:59,202 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(794)) - s2@group-9AED4EBF25D4: receive client request(RaftClientRequest:client-715C78D969EC->s2@group-9AED4EBF25D4, cid=1013, seq=0, RW, message)
2022-07-14 02:38:59,203 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(401)) - s2@group-9AED4EBF25D4-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-715C78D969EC->s2@group-9AED4EBF25D4, cid=1013, seq=0, RW, message, entry=(t:1, i:1), STATEMACHINELOGENTRY, 1013@client-715C78D969EC
2022-07-14 02:38:59,204 [Thread-1769] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s0@group-9AED4EBF25D4: receive appendEntries(s2, 1, (t:1, i:0), 0, true, commits[s2:c0, s0:c0, s1:c0], entries: (t:1, i:1), STATEMACHINELOGENTRY, 1013@client-715C78D969EC
2022-07-14 02:38:59,204 [Thread-1776] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-9AED4EBF25D4: receive appendEntries(s2, 1, (t:1, i:0), 0, true, commits[s2:c0, s0:c0, s1:c0], entries: (t:1, i:1), STATEMACHINELOGENTRY, 1013@client-715C78D969EC
2022-07-14 02:38:59,207 [Thread-1838] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s0@group-9AED4EBF25D4: succeeded to handle AppendEntries. Reply: s2<-s0#1018:OK-t1,SUCCESS,nextIndex=2,followerCommit=0
2022-07-14 02:38:59,207 [Thread-1837] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-9AED4EBF25D4: succeeded to handle AppendEntries. Reply: s2<-s1#1019:OK-t1,SUCCESS,nextIndex=2,followerCommit=0
2022-07-14 02:38:59,208 [Thread-1774] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-9AED4EBF25D4: receive appendEntries(s2, 1, (t:1, i:1), 1, true, commits[s2:c1, s0:c0, s1:c0], entries: (t:1, i:2), METADATAENTRY(c:1)
2022-07-14 02:38:59,209 [Thread-1767] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s0@group-9AED4EBF25D4: receive appendEntries(s2, 1, (t:1, i:1), 1, true, commits[s2:c1, s0:c0, s1:c0], entries: (t:1, i:2), METADATAENTRY(c:1)
2022-07-14 02:38:59,210 [Thread-1840] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-9AED4EBF25D4: succeeded to handle AppendEntries. Reply: s2<-s1#1020:OK-t1,SUCCESS,nextIndex=3,followerCommit=1
2022-07-14 02:38:59,210 [s2-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setConfigurationAsync(1083)) - s2@group-9AED4EBF25D4: receive setConfiguration SetConfigurationRequest:client-715C78D969EC->s2@group-9AED4EBF25D4, cid=1022, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s0|priority:2, s1|priority:1, s2|priority:1], listeners:[]
2022-07-14 02:38:59,211 [s2-server-thread1] INFO  server.RaftServer$Division (LeaderStateImpl.java:startSetConfiguration(368)) - s2@group-9AED4EBF25D4-LeaderStateImpl: startSetConfiguration SetConfigurationRequest:client-715C78D969EC->s2@group-9AED4EBF25D4, cid=1022, seq=0, RW, null, SET_UNCONDITIONALLY, servers:[s0|priority:2, s1|priority:1, s2|priority:1], listeners:[]
2022-07-14 02:38:59,211 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s2@group-9AED4EBF25D4: set configuration 3: [s0|priority:2, s1|priority:1, s2|priority:1], old=[s0|rpc:localhost:34215|admin:localhost:46865|client:localhost:43041|dataStream:localhost:34001|priority:0, s1|rpc:localhost:33723|admin:localhost:45329|client:localhost:36097|dataStream:localhost:38005|priority:0, s2|rpc:localhost:33797|admin:localhost:41161|client:localhost:33497|dataStream:localhost:32949|priority:0]
2022-07-14 02:38:59,211 [Thread-1775] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-9AED4EBF25D4: receive appendEntries(s2, 1, (t:1, i:2), 2, true, commits[s2:c2, s0:c0, s1:c1], entries: (t:1, i:3), CONFIGURATIONENTRY
2022-07-14 02:38:59,212 [Thread-1775] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s1@group-9AED4EBF25D4: set configuration 3: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=[s0|rpc:localhost:34215|admin:localhost:46865|client:localhost:43041|dataStream:localhost:34001|priority:0, s1|rpc:localhost:33723|admin:localhost:45329|client:localhost:36097|dataStream:localhost:38005|priority:0, s2|rpc:localhost:33797|admin:localhost:41161|client:localhost:33497|dataStream:localhost:32949|priority:0]
2022-07-14 02:38:59,213 [Thread-1842] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s0@group-9AED4EBF25D4: succeeded to handle AppendEntries. Reply: s2<-s0#1021:OK-t1,SUCCESS,nextIndex=3,followerCommit=1
2022-07-14 02:38:59,213 [Thread-1844] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-9AED4EBF25D4: succeeded to handle AppendEntries. Reply: s2<-s1#1023:OK-t1,SUCCESS,nextIndex=4,followerCommit=2
2022-07-14 02:38:59,213 [Thread-1768] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s0@group-9AED4EBF25D4: receive appendEntries(s2, 1, (t:1, i:2), 2, true, commits[s2:c2, s0:c1, s1:c1], entries: (t:1, i:3), CONFIGURATIONENTRY
2022-07-14 02:38:59,213 [Thread-1768] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s0@group-9AED4EBF25D4: set configuration 3: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=[s0|rpc:localhost:34215|admin:localhost:46865|client:localhost:43041|dataStream:localhost:34001|priority:0, s1|rpc:localhost:33723|admin:localhost:45329|client:localhost:36097|dataStream:localhost:38005|priority:0, s2|rpc:localhost:33797|admin:localhost:41161|client:localhost:33497|dataStream:localhost:32949|priority:0]
2022-07-14 02:38:59,213 [s2@group-9AED4EBF25D4-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s2@group-9AED4EBF25D4: set configuration 5: [s0|priority:2, s1|priority:1, s2|priority:1], old=null
2022-07-14 02:38:59,214 [Thread-1776] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-9AED4EBF25D4: receive appendEntries(s2, 1, (t:1, i:3), 3, true, commits[s2:c3, s0:c1, s1:c2], entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY]
2022-07-14 02:38:59,214 [Thread-1776] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s1@group-9AED4EBF25D4: set configuration 5: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=null
2022-07-14 02:38:59,221 [Thread-1845] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s0@group-9AED4EBF25D4: succeeded to handle AppendEntries. Reply: s2<-s0#1025:OK-t1,SUCCESS,nextIndex=4,followerCommit=2
2022-07-14 02:38:59,221 [Thread-1846] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-9AED4EBF25D4: succeeded to handle AppendEntries. Reply: s2<-s1#1026:OK-t1,SUCCESS,nextIndex=6,followerCommit=3
2022-07-14 02:38:59,222 [Thread-1774] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-9AED4EBF25D4: receive appendEntries(s2, 1, (t:1, i:5), 5, true, commits[s2:c5, s0:c2, s1:c3], entries: (t:1, i:6), METADATAENTRY(c:5)
2022-07-14 02:38:59,222 [Thread-1769] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s0@group-9AED4EBF25D4: receive appendEntries(s2, 1, (t:1, i:3), 3, true, commits[s2:c3, s0:c2, s1:c3], entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), CONFIGURATIONENTRY]
2022-07-14 02:38:59,222 [Thread-1769] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s0@group-9AED4EBF25D4: set configuration 5: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=null
2022-07-14 02:38:59,224 [Thread-1849] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-9AED4EBF25D4: succeeded to handle AppendEntries. Reply: s2<-s1#1029:OK-t1,SUCCESS,nextIndex=7,followerCommit=5
2022-07-14 02:38:59,225 [s0-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:leaderElectionManagementAsync(1048)) - s0@group-9AED4EBF25D4 receive leaderElectionManagement request LeaderElectionManagementRequest:client-715C78D969EC->s0@group-9AED4EBF25D4, cid=1030, seq=0, RO, null, Resume:
2022-07-14 02:38:59,225 [Thread-1850] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s0@group-9AED4EBF25D4: succeeded to handle AppendEntries. Reply: s2<-s0#1028:OK-t1,SUCCESS,nextIndex=6,followerCommit=3
2022-07-14 02:38:59,225 [Thread-1767] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s0@group-9AED4EBF25D4: receive appendEntries(s2, 1, (t:1, i:5), 6, true, commits[s2:c6, s0:c3, s1:c5], entries: (t:1, i:6), METADATAENTRY(c:5)
2022-07-14 02:38:59,227 [Time-limited test] WARN  simulation.TestLeaderElectionWithSimulatedRpc (JavaUtils.java:attempt(172)) - FAILED "check new leader", attempt #1/20: java.lang.AssertionError: expected:<s0> but was:<s2>, sleep 100ms and then retry.
java.lang.AssertionError: expected:<s0> but was:<s2>
	at org.junit.Assert.fail(Assert.java:89)
	at org.junit.Assert.failNotEquals(Assert.java:835)
	at org.junit.Assert.assertEquals(Assert.java:120)
	at org.junit.Assert.assertEquals(Assert.java:146)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestPauseResumeLeaderElection$7(LeaderElectionTests.java:437)
	at org.apache.ratis.util.function.CheckedRunnable.lambda$asCheckedSupplier$0(CheckedRunnable.java:32)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:186)
	at org.apache.ratis.server.impl.LeaderElectionTests.runTestPauseResumeLeaderElection(LeaderElectionTests.java:437)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.LeaderElectionTests.testPauseResumeLeaderElection(LeaderElectionTests.java:413)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:38:59,228 [Thread-1852] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s0@group-9AED4EBF25D4: succeeded to handle AppendEntries. Reply: s2<-s0#1031:OK-t1,SUCCESS,nextIndex=7,followerCommit=6
2022-07-14 02:38:59,328 [Time-limited test] WARN  simulation.TestLeaderElectionWithSimulatedRpc (JavaUtils.java:attempt(172)) - FAILED "check new leader", attempt #2/20: java.lang.AssertionError: expected:<s0> but was:<s2>, sleep 100ms and then retry.
java.lang.AssertionError: expected:<s0> but was:<s2>
	at org.junit.Assert.fail(Assert.java:89)
	at org.junit.Assert.failNotEquals(Assert.java:835)
	at org.junit.Assert.assertEquals(Assert.java:120)
	at org.junit.Assert.assertEquals(Assert.java:146)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestPauseResumeLeaderElection$7(LeaderElectionTests.java:437)
	at org.apache.ratis.util.function.CheckedRunnable.lambda$asCheckedSupplier$0(CheckedRunnable.java:32)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:186)
	at org.apache.ratis.server.impl.LeaderElectionTests.runTestPauseResumeLeaderElection(LeaderElectionTests.java:437)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.LeaderElectionTests.testPauseResumeLeaderElection(LeaderElectionTests.java:413)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:38:59,429 [Time-limited test] WARN  simulation.TestLeaderElectionWithSimulatedRpc (JavaUtils.java:attempt(172)) - FAILED "check new leader", attempt #3/20: java.lang.AssertionError: expected:<s0> but was:<s2>, sleep 100ms and then retry.
java.lang.AssertionError: expected:<s0> but was:<s2>
	at org.junit.Assert.fail(Assert.java:89)
	at org.junit.Assert.failNotEquals(Assert.java:835)
	at org.junit.Assert.assertEquals(Assert.java:120)
	at org.junit.Assert.assertEquals(Assert.java:146)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestPauseResumeLeaderElection$7(LeaderElectionTests.java:437)
	at org.apache.ratis.util.function.CheckedRunnable.lambda$asCheckedSupplier$0(CheckedRunnable.java:32)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:186)
	at org.apache.ratis.server.impl.LeaderElectionTests.runTestPauseResumeLeaderElection(LeaderElectionTests.java:437)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.LeaderElectionTests.testPauseResumeLeaderElection(LeaderElectionTests.java:413)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:38:59,529 [s2@group-9AED4EBF25D4-LeaderStateImpl] INFO  server.RaftServer$Division (LeaderStateImpl.java:yieldLeaderToHigherPriorityPeer(974)) - s2@group-9AED4EBF25D4-LeaderStateImpl send StartLeaderElectionRequest to follower:s0 on term:1 because follower's priority:2 is higher than leader's:1 and follower's lastEntry index:6 catch up with leader's:6
2022-07-14 02:38:59,535 [Time-limited test] WARN  simulation.TestLeaderElectionWithSimulatedRpc (JavaUtils.java:attempt(172)) - FAILED "check new leader", attempt #4/20: java.lang.AssertionError: expected:<s0> but was:<s2>, sleep 100ms and then retry.
java.lang.AssertionError: expected:<s0> but was:<s2>
	at org.junit.Assert.fail(Assert.java:89)
	at org.junit.Assert.failNotEquals(Assert.java:835)
	at org.junit.Assert.assertEquals(Assert.java:120)
	at org.junit.Assert.assertEquals(Assert.java:146)
	at org.apache.ratis.server.impl.LeaderElectionTests.lambda$runTestPauseResumeLeaderElection$7(LeaderElectionTests.java:437)
	at org.apache.ratis.util.function.CheckedRunnable.lambda$asCheckedSupplier$0(CheckedRunnable.java:32)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:186)
	at org.apache.ratis.server.impl.LeaderElectionTests.runTestPauseResumeLeaderElection(LeaderElectionTests.java:437)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:125)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:113)
	at org.apache.ratis.server.impl.LeaderElectionTests.testPauseResumeLeaderElection(LeaderElectionTests.java:413)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:38:59,536 [Thread-1769] DEBUG server.RaftServer$Division (RaftServerImpl.java:startLeaderElection(1508)) - s0@group-9AED4EBF25D4: receive startLeaderElection from:s2, leaderLastEntry:term: 1
index: 6
,
2022-07-14 02:38:59,536 [Thread-1769] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-9AED4EBF25D4-FollowerState
2022-07-14 02:38:59,536 [Thread-1769] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s0@group-9AED4EBF25D4: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-07-14 02:38:59,536 [Thread-1769] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-9AED4EBF25D4-LeaderElection64
2022-07-14 02:38:59,537 [s0@group-9AED4EBF25D4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-9AED4EBF25D4-FollowerState was interrupted
2022-07-14 02:38:59,537 [Thread-1866] INFO  server.RaftServer$Division (LeaderStateImpl.java:lambda$sendStartLeaderElectionToHigherPriorityPeer$9(593)) - s2@group-9AED4EBF25D4-LeaderStateImpl received success reply of StartLeaderElectionRequest from follower:s0
2022-07-14 02:38:59,537 [s0@group-9AED4EBF25D4-LeaderElection64] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s0@group-9AED4EBF25D4: change Leader from s2 to null at term 1 for ELECTION
2022-07-14 02:38:59,539 [s0@group-9AED4EBF25D4-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-9AED4EBF25D4-LeaderElection64 ELECTION round 0: submit vote requests at term 2 for 5: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=null
2022-07-14 02:38:59,539 [Thread-1776] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-9AED4EBF25D4: receive requestVote(ELECTION, s0, group-9AED4EBF25D4, 2, (t:1, i:6))
2022-07-14 02:38:59,539 [Thread-1781] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-9AED4EBF25D4: receive requestVote(ELECTION, s0, group-9AED4EBF25D4, 2, (t:1, i:6))
2022-07-14 02:38:59,539 [Thread-1781] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-9AED4EBF25D4-LEADER: accept ELECTION from s0: our priority 1 <= candidate's priority 2
2022-07-14 02:38:59,539 [Thread-1781] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s2@group-9AED4EBF25D4: change Leader from s2 to null at term 2 for updateCurrentTerm
2022-07-14 02:38:59,539 [Thread-1781] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-9AED4EBF25D4: changes role from    LEADER to FOLLOWER at term 2 for candidate:s0
2022-07-14 02:38:59,539 [Thread-1781] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-9AED4EBF25D4-LeaderStateImpl
2022-07-14 02:38:59,539 [s2@group-9AED4EBF25D4->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s2@group-9AED4EBF25D4->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-07-14 02:38:59,539 [s2@group-9AED4EBF25D4->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s2@group-9AED4EBF25D4->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-07-14 02:38:59,539 [Thread-1776] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-9AED4EBF25D4-FOLLOWER: accept ELECTION from s0: our priority 1 <= candidate's priority 2
2022-07-14 02:38:59,540 [Thread-1776] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s1@group-9AED4EBF25D4: change Leader from s2 to null at term 2 for updateCurrentTerm
2022-07-14 02:38:59,540 [Thread-1776] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-9AED4EBF25D4: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s0
2022-07-14 02:38:59,540 [Thread-1776] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-9AED4EBF25D4-FollowerState
2022-07-14 02:38:59,540 [Thread-1776] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-9AED4EBF25D4-FollowerState
2022-07-14 02:38:59,540 [s1@group-9AED4EBF25D4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-9AED4EBF25D4-FollowerState was interrupted
2022-07-14 02:38:59,539 [Thread-1781] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s2@group-9AED4EBF25D4-PendingRequests: sendNotLeaderResponses
2022-07-14 02:38:59,541 [Thread-1781] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-9AED4EBF25D4-FollowerState
2022-07-14 02:38:59,543 [Thread-1781] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-9AED4EBF25D4 replies to ELECTION vote request: s0<-s2#0:OK-t2. Peer's state: s2@group-9AED4EBF25D4:t2, leader=null, voted=s0, raftlog=Memoized:s2@group-9AED4EBF25D4-SegmentedRaftLog:OPENED:c6, conf=5: [s0|priority:2, s1|priority:1, s2|priority:1], old=null
2022-07-14 02:38:59,543 [Thread-1776] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-9AED4EBF25D4 replies to ELECTION vote request: s0<-s1#0:OK-t2. Peer's state: s1@group-9AED4EBF25D4:t2, leader=null, voted=s0, raftlog=Memoized:s1@group-9AED4EBF25D4-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=null
2022-07-14 02:38:59,543 [s0@group-9AED4EBF25D4-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-9AED4EBF25D4-LeaderElection64: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-07-14 02:38:59,543 [s0@group-9AED4EBF25D4-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s2#0:OK-t2
2022-07-14 02:38:59,543 [s0@group-9AED4EBF25D4-LeaderElection64] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-9AED4EBF25D4-LeaderElection64 ELECTION round 0: result PASSED
2022-07-14 02:38:59,543 [s0@group-9AED4EBF25D4-LeaderElection64] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-9AED4EBF25D4-LeaderElection64
2022-07-14 02:38:59,543 [s0@group-9AED4EBF25D4-LeaderElection64] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s0@group-9AED4EBF25D4: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2022-07-14 02:38:59,543 [s0@group-9AED4EBF25D4-LeaderElection64] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s0@group-9AED4EBF25D4: change Leader from null to s0 at term 2 for becomeLeader, leader elected after 5ms
2022-07-14 02:38:59,543 [s0@group-9AED4EBF25D4-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-07-14 02:38:59,543 [s0@group-9AED4EBF25D4-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-14 02:38:59,543 [s0@group-9AED4EBF25D4-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-07-14 02:38:59,543 [s0@group-9AED4EBF25D4-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-07-14 02:38:59,543 [s0@group-9AED4EBF25D4-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-07-14 02:38:59,543 [s0@group-9AED4EBF25D4-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-07-14 02:38:59,544 [s0@group-9AED4EBF25D4-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-14 02:38:59,544 [s0@group-9AED4EBF25D4-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-07-14 02:38:59,544 [s0@group-9AED4EBF25D4-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-14 02:38:59,544 [s0@group-9AED4EBF25D4-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:38:59,544 [s0@group-9AED4EBF25D4-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-14 02:38:59,544 [s0@group-9AED4EBF25D4-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-14 02:38:59,544 [s0@group-9AED4EBF25D4-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:38:59,544 [s0@group-9AED4EBF25D4-LeaderElection64] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-14 02:38:59,544 [s0@group-9AED4EBF25D4-LeaderElection64] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-9AED4EBF25D4-LeaderStateImpl
2022-07-14 02:38:59,545 [s0@group-9AED4EBF25D4-LeaderElection64] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s0@group-9AED4EBF25D4-SegmentedRaftLogWorker: Rolling segment log-0_6 to index:6
2022-07-14 02:38:59,546 [s0@group-9AED4EBF25D4-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a797318/s0/3913e3ed-6351-4bde-a323-9aed4ebf25d4/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a797318/s0/3913e3ed-6351-4bde-a323-9aed4ebf25d4/current/log_0-6
2022-07-14 02:38:59,546 [s0@group-9AED4EBF25D4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s0@group-9AED4EBF25D4-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a797318/s0/3913e3ed-6351-4bde-a323-9aed4ebf25d4/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a797318/s0/3913e3ed-6351-4bde-a323-9aed4ebf25d4/current/log_0-6
2022-07-14 02:38:59,550 [Thread-1774] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s1@group-9AED4EBF25D4: change Leader from null to s0 at term 2 for appendEntries, leader elected after 10ms
2022-07-14 02:38:59,550 [s0@group-9AED4EBF25D4-LeaderElection64] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s0@group-9AED4EBF25D4: set configuration 7: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=null
2022-07-14 02:38:59,551 [Thread-1775] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-9AED4EBF25D4: receive appendEntries(s0, 2, (t:1, i:6), 6, true, commits[s0:c6, s1:c6, s2:c6], entries: (t:2, i:7), CONFIGURATIONENTRY
2022-07-14 02:38:59,551 [Thread-1782] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s2@group-9AED4EBF25D4: change Leader from null to s0 at term 2 for appendEntries, leader elected after 11ms
2022-07-14 02:38:59,551 [Thread-1775] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s1@group-9AED4EBF25D4: set configuration 7: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=null
2022-07-14 02:38:59,551 [Thread-1775] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s1@group-9AED4EBF25D4-SegmentedRaftLogWorker: Rolling segment log-0_6 to index:6
2022-07-14 02:38:59,552 [s1@group-9AED4EBF25D4-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a797318/s1/3913e3ed-6351-4bde-a323-9aed4ebf25d4/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a797318/s1/3913e3ed-6351-4bde-a323-9aed4ebf25d4/current/log_0-6
2022-07-14 02:38:59,553 [s1@group-9AED4EBF25D4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s1@group-9AED4EBF25D4-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a797318/s1/3913e3ed-6351-4bde-a323-9aed4ebf25d4/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a797318/s1/3913e3ed-6351-4bde-a323-9aed4ebf25d4/current/log_0-6
2022-07-14 02:38:59,556 [Thread-1783] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-9AED4EBF25D4: receive appendEntries(s0, 2, (t:1, i:6), 6, true, commits[s0:c6, s1:c6, s2:c6], entries: (t:2, i:7), CONFIGURATIONENTRY
2022-07-14 02:38:59,556 [Thread-1783] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s2@group-9AED4EBF25D4: set configuration 7: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=null
2022-07-14 02:38:59,556 [Thread-1783] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s2@group-9AED4EBF25D4-SegmentedRaftLogWorker: Rolling segment log-0_6 to index:6
2022-07-14 02:38:59,557 [s2@group-9AED4EBF25D4-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a797318/s2/3913e3ed-6351-4bde-a323-9aed4ebf25d4/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a797318/s2/3913e3ed-6351-4bde-a323-9aed4ebf25d4/current/log_0-6
2022-07-14 02:38:59,557 [s2@group-9AED4EBF25D4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s2@group-9AED4EBF25D4-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a797318/s2/3913e3ed-6351-4bde-a323-9aed4ebf25d4/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a797318/s2/3913e3ed-6351-4bde-a323-9aed4ebf25d4/current/log_0-6
2022-07-14 02:38:59,573 [s0@group-9AED4EBF25D4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-9AED4EBF25D4-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a797318/s0/3913e3ed-6351-4bde-a323-9aed4ebf25d4/current/log_inprogress_7
2022-07-14 02:38:59,575 [s1@group-9AED4EBF25D4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-9AED4EBF25D4-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a797318/s1/3913e3ed-6351-4bde-a323-9aed4ebf25d4/current/log_inprogress_7
2022-07-14 02:38:59,575 [s2@group-9AED4EBF25D4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-9AED4EBF25D4-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc5a797318/s2/3913e3ed-6351-4bde-a323-9aed4ebf25d4/current/log_inprogress_7
2022-07-14 02:38:59,577 [Thread-1879] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-9AED4EBF25D4: succeeded to handle AppendEntries. Reply: s0<-s1#1047:OK-t2,SUCCESS,nextIndex=8,followerCommit=6
2022-07-14 02:38:59,577 [Thread-1880] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-9AED4EBF25D4: succeeded to handle AppendEntries. Reply: s0<-s2#1049:OK-t2,SUCCESS,nextIndex=8,followerCommit=6
2022-07-14 02:38:59,578 [Thread-1776] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-9AED4EBF25D4: receive appendEntries(s0, 2, (t:2, i:7), 7, true, commits[s0:c7, s1:c6, s2:c6], entries: (t:2, i:8), METADATAENTRY(c:7)
2022-07-14 02:38:59,578 [Thread-1781] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-9AED4EBF25D4: receive appendEntries(s0, 2, (t:2, i:7), 7, true, commits[s0:c7, s1:c6, s2:c6], entries: (t:2, i:8), METADATAENTRY(c:7)
2022-07-14 02:38:59,579 [Thread-1882] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-9AED4EBF25D4: succeeded to handle AppendEntries. Reply: s0<-s2#1052:OK-t2,SUCCESS,nextIndex=9,followerCommit=7
2022-07-14 02:38:59,580 [Thread-1881] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-9AED4EBF25D4: succeeded to handle AppendEntries. Reply: s0<-s1#1051:OK-t2,SUCCESS,nextIndex=9,followerCommit=7
2022-07-14 02:38:59,636 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(779)) - ************************************************************** 
2022-07-14 02:38:59,636 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(780)) - *** 
2022-07-14 02:38:59,636 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(781)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-07-14 02:38:59,637 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(782)) - *** 
2022-07-14 02:38:59,637 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(783)) - ************************************************************** 
2022-07-14 02:38:59,637 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(784)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-9AED4EBF25D4:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-9AED4EBF25D4-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-9AED4EBF25D4:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-9AED4EBF25D4-SegmentedRaftLog:OPENED:c7, conf=7: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-9AED4EBF25D4:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-9AED4EBF25D4-SegmentedRaftLog:OPENED:c7, conf=7: [s0|rpc:|dataStream:|priority:2, s1|rpc:|dataStream:|priority:1, s2|rpc:|dataStream:|priority:1], old=null RUNNING
2022-07-14 02:38:59,638 [java.util.concurrent.ThreadPoolExecutor$Worker@172c46e1[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s0: close
2022-07-14 02:38:59,638 [java.util.concurrent.ThreadPoolExecutor$Worker@437b6b86[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s2: close
2022-07-14 02:38:59,639 [java.util.concurrent.ThreadPoolExecutor$Worker@172c46e1[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(437)) - s0@group-9AED4EBF25D4: shutdown
2022-07-14 02:38:59,639 [java.util.concurrent.ThreadPoolExecutor$Worker@172c46e1[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-9AED4EBF25D4,id=s0
2022-07-14 02:38:59,639 [java.util.concurrent.ThreadPoolExecutor$Worker@172c46e1[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-9AED4EBF25D4-LeaderStateImpl
2022-07-14 02:38:59,639 [s0@group-9AED4EBF25D4->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s0@group-9AED4EBF25D4->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-07-14 02:38:59,639 [java.util.concurrent.ThreadPoolExecutor$Worker@172c46e1[State = -1, empty queue]] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-9AED4EBF25D4-PendingRequests: sendNotLeaderResponses
2022-07-14 02:38:59,640 [java.util.concurrent.ThreadPoolExecutor$Worker@43846e3[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s1: close
2022-07-14 02:38:59,640 [java.util.concurrent.ThreadPoolExecutor$Worker@437b6b86[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(437)) - s2@group-9AED4EBF25D4: shutdown
2022-07-14 02:38:59,640 [java.util.concurrent.ThreadPoolExecutor$Worker@172c46e1[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-9AED4EBF25D4-StateMachineUpdater: set stopIndex = 8
2022-07-14 02:38:59,640 [s0@group-9AED4EBF25D4->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s0@group-9AED4EBF25D4->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-07-14 02:38:59,646 [java.util.concurrent.ThreadPoolExecutor$Worker@172c46e1[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(456)) - s0@group-9AED4EBF25D4: closes. applyIndex: 8
2022-07-14 02:38:59,646 [java.util.concurrent.ThreadPoolExecutor$Worker@43846e3[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(437)) - s1@group-9AED4EBF25D4: shutdown
2022-07-14 02:38:59,647 [s0@group-9AED4EBF25D4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s0@group-9AED4EBF25D4-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-07-14 02:38:59,647 [java.util.concurrent.ThreadPoolExecutor$Worker@43846e3[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-9AED4EBF25D4,id=s1
2022-07-14 02:38:59,649 [java.util.concurrent.ThreadPoolExecutor$Worker@43846e3[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-9AED4EBF25D4-FollowerState
2022-07-14 02:38:59,649 [s1@group-9AED4EBF25D4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-9AED4EBF25D4-FollowerState was interrupted
2022-07-14 02:38:59,649 [java.util.concurrent.ThreadPoolExecutor$Worker@43846e3[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-9AED4EBF25D4-StateMachineUpdater: set stopIndex = 7
2022-07-14 02:38:59,649 [java.util.concurrent.ThreadPoolExecutor$Worker@43846e3[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(456)) - s1@group-9AED4EBF25D4: closes. applyIndex: 7
2022-07-14 02:38:59,649 [java.util.concurrent.ThreadPoolExecutor$Worker@437b6b86[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-9AED4EBF25D4,id=s2
2022-07-14 02:38:59,649 [java.util.concurrent.ThreadPoolExecutor$Worker@172c46e1[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s0@group-9AED4EBF25D4-SegmentedRaftLogWorker close()
2022-07-14 02:38:59,649 [s1@group-9AED4EBF25D4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s1@group-9AED4EBF25D4-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-07-14 02:38:59,654 [java.util.concurrent.ThreadPoolExecutor$Worker@437b6b86[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-9AED4EBF25D4-FollowerState
2022-07-14 02:38:59,654 [s2@group-9AED4EBF25D4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-9AED4EBF25D4-FollowerState was interrupted
2022-07-14 02:38:59,654 [java.util.concurrent.ThreadPoolExecutor$Worker@437b6b86[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-9AED4EBF25D4-StateMachineUpdater: set stopIndex = 7
2022-07-14 02:38:59,655 [java.util.concurrent.ThreadPoolExecutor$Worker@437b6b86[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(456)) - s2@group-9AED4EBF25D4: closes. applyIndex: 7
2022-07-14 02:38:59,655 [s2@group-9AED4EBF25D4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s2@group-9AED4EBF25D4-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-07-14 02:38:59,656 [java.util.concurrent.ThreadPoolExecutor$Worker@43846e3[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s1@group-9AED4EBF25D4-SegmentedRaftLogWorker close()
2022-07-14 02:38:59,656 [Thread-1770] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:59,656 [Thread-1771] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:59,656 [Thread-1772] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:59,656 [Thread-1767] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:59,656 [Thread-1769] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:59,657 [Thread-1768] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:59,657 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$250/1367845902@21090621] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-07-14 02:38:59,658 [java.util.concurrent.ThreadPoolExecutor$Worker@437b6b86[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s2@group-9AED4EBF25D4-SegmentedRaftLogWorker close()
2022-07-14 02:38:59,660 [Thread-1784] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:59,660 [Thread-1778] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:59,665 [Thread-1777] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:59,665 [Thread-1779] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:59,665 [Thread-1774] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:59,665 [Thread-1775] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:59,665 [Thread-1776] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:59,665 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$250/1367845902@cead159] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-07-14 02:38:59,666 [Thread-1786] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:59,666 [Thread-1785] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:59,666 [Thread-1781] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:59,666 [Thread-1782] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:59,666 [Thread-1783] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:38:59,667 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$250/1367845902@5688ef3c] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-07-14 02:38:59,667 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(802)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-07-14 02:38:59,668 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-07-14 02:38:59,668 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-07-14 02:38:59,668 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-07-14 02:38:59,668 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-07-14 02:38:59,675 [Time-limited test] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogWorker log level to TRACE
2022-07-14 02:38:59,675 [Time-limited test] INFO  simulation.TestLeaderElectionWithSimulatedRpc (LeaderElectionTests.java:testChangeLeader(95)) - Running testChangeLeader
2022-07-14 02:38:59,675 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-07-14 02:38:59,676 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(272)) - new MiniRaftClusterWithSimulatedRpc with group-F8D60CD02D9E:[s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0]
2022-07-14 02:38:59,676 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(304)) - .............................................................. 
2022-07-14 02:38:59,676 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(305)) - ... 
2022-07-14 02:38:59,676 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(306)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-07-14 02:38:59,676 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(307)) - ... 
2022-07-14 02:38:59,676 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(308)) - .............................................................. 
2022-07-14 02:38:59,676 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(284)) - servers = {}
2022-07-14 02:38:59,676 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(348)) - newRaftServer: s0, group-F8D60CD02D9E:[s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], format? true
2022-07-14 02:38:59,676 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0
2022-07-14 02:38:59,677 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0 does not exist.
2022-07-14 02:38:59,677 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(353)) - Formatted directory target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0
2022-07-14 02:38:59,677 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-14 02:38:59,677 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-07-14 02:38:59,677 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-07-14 02:38:59,677 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-07-14 02:38:59,678 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-14 02:38:59,678 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-14 02:38:59,678 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0] (custom)
2022-07-14 02:38:59,681 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-F8D60CD02D9E:[s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0] returns group-F8D60CD02D9E:java.util.concurrent.CompletableFuture@cbc603f[Not completed]
2022-07-14 02:38:59,681 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(348)) - newRaftServer: s1, group-F8D60CD02D9E:[s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], format? true
2022-07-14 02:38:59,681 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1
2022-07-14 02:38:59,681 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1 does not exist.
2022-07-14 02:38:59,682 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(353)) - Formatted directory target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1
2022-07-14 02:38:59,682 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-14 02:38:59,682 [pool-29-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(191)) - s0: new RaftServerImpl for group-F8D60CD02D9E:[s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0] with BaseStateMachine:uninitialized
2022-07-14 02:38:59,682 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-07-14 02:38:59,682 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:38:59,682 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-07-14 02:38:59,682 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-14 02:38:59,682 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-14 02:38:59,682 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-07-14 02:38:59,682 [pool-29-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(109)) - s0@group-F8D60CD02D9E: ConfigurationManager, init=-1: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null, confs=<EMPTY_MAP>
2022-07-14 02:38:59,683 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0] (custom)
2022-07-14 02:38:59,683 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-07-14 02:38:59,683 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-07-14 02:38:59,683 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-07-14 02:38:59,683 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-07-14 02:38:59,683 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-07-14 02:38:59,683 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-07-14 02:38:59,684 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-07-14 02:38:59,684 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-07-14 02:38:59,684 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-07-14 02:38:59,684 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-07-14 02:38:59,684 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-07-14 02:38:59,684 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-07-14 02:38:59,684 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-07-14 02:38:59,684 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-14 02:38:59,684 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-14 02:38:59,684 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1] (custom)
2022-07-14 02:38:59,685 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s1: addNew group-F8D60CD02D9E:[s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0] returns group-F8D60CD02D9E:java.util.concurrent.CompletableFuture@78bd678d[Not completed]
2022-07-14 02:38:59,685 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(348)) - newRaftServer: s2, group-F8D60CD02D9E:[s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], format? true
2022-07-14 02:38:59,685 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2
2022-07-14 02:38:59,685 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2 does not exist.
2022-07-14 02:38:59,685 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(353)) - Formatted directory target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2
2022-07-14 02:38:59,686 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-14 02:38:59,686 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-07-14 02:38:59,686 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-07-14 02:38:59,686 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-07-14 02:38:59,686 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-14 02:38:59,686 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-14 02:38:59,686 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2] (custom)
2022-07-14 02:38:59,686 [pool-30-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(191)) - s1: new RaftServerImpl for group-F8D60CD02D9E:[s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0] with BaseStateMachine:uninitialized
2022-07-14 02:38:59,687 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-07-14 02:38:59,687 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:38:59,687 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-07-14 02:38:59,687 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-14 02:38:59,687 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-14 02:38:59,687 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-07-14 02:38:59,687 [pool-30-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(109)) - s1@group-F8D60CD02D9E: ConfigurationManager, init=-1: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null, confs=<EMPTY_MAP>
2022-07-14 02:38:59,687 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1] (custom)
2022-07-14 02:38:59,687 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-07-14 02:38:59,687 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-07-14 02:38:59,687 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-07-14 02:38:59,687 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-07-14 02:38:59,687 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-07-14 02:38:59,688 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-07-14 02:38:59,688 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-07-14 02:38:59,688 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-07-14 02:38:59,688 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-07-14 02:38:59,688 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-07-14 02:38:59,698 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s2: addNew group-F8D60CD02D9E:[s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0] returns group-F8D60CD02D9E:java.util.concurrent.CompletableFuture@7212eec5[Not completed]
2022-07-14 02:38:59,698 [pool-31-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(191)) - s2: new RaftServerImpl for group-F8D60CD02D9E:[s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0] with BaseStateMachine:uninitialized
2022-07-14 02:38:59,698 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-07-14 02:38:59,698 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:38:59,698 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e does not exist. Creating ...
2022-07-14 02:38:59,698 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-07-14 02:38:59,698 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-14 02:38:59,698 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-14 02:38:59,699 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-07-14 02:38:59,699 [pool-31-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(109)) - s2@group-F8D60CD02D9E: ConfigurationManager, init=-1: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null, confs=<EMPTY_MAP>
2022-07-14 02:38:59,699 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e
2022-07-14 02:38:59,699 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2] (custom)
2022-07-14 02:38:59,699 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-07-14 02:38:59,700 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-07-14 02:38:59,700 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-07-14 02:38:59,700 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-07-14 02:38:59,700 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-07-14 02:38:59,700 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-07-14 02:38:59,700 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-07-14 02:38:59,700 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-07-14 02:38:59,700 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-07-14 02:38:59,700 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-07-14 02:38:59,701 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/in_use.lock acquired by nodename 16254@fv-az54-379.qczjibyfz4dularrisj3jz1gre.bx.internal.cloudapp.net
2022-07-14 02:38:59,701 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current
2022-07-14 02:38:59,701 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/sm
2022-07-14 02:38:59,702 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e has been successfully formatted.
2022-07-14 02:38:59,702 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-07-14 02:38:59,702 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-07-14 02:38:59,702 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:38:59,702 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-07-14 02:38:59,703 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-14 02:38:59,703 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-07-14 02:38:59,703 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-07-14 02:38:59,703 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-F8D60CD02D9E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e
2022-07-14 02:38:59,703 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-07-14 02:38:59,703 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-07-14 02:38:59,703 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-14 02:38:59,703 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-07-14 02:38:59,703 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-07-14 02:38:59,703 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-07-14 02:38:59,703 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-07-14 02:38:59,703 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-07-14 02:38:59,703 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-07-14 02:38:59,704 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-07-14 02:38:59,704 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-07-14 02:38:59,704 [s0-impl-thread1] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:start(225)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker start(latestIndex=-1, openSegmentFile=null)
2022-07-14 02:38:59,704 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-07-14 02:38:59,704 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-07-14 02:38:59,704 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(313)) - s0@group-F8D60CD02D9E: start as a follower, conf=-1: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:38:59,704 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s0@group-F8D60CD02D9E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-07-14 02:38:59,704 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-F8D60CD02D9E-FollowerState
2022-07-14 02:38:59,706 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-F8D60CD02D9E,id=s0
2022-07-14 02:38:59,706 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-07-14 02:38:59,706 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-07-14 02:38:59,706 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-07-14 02:38:59,706 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s0: start RPC server
2022-07-14 02:38:59,707 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$250/1367845902@61806e05] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-07-14 02:38:59,707 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e does not exist. Creating ...
2022-07-14 02:38:59,707 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e
2022-07-14 02:38:59,709 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/in_use.lock acquired by nodename 16254@fv-az54-379.qczjibyfz4dularrisj3jz1gre.bx.internal.cloudapp.net
2022-07-14 02:38:59,709 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current
2022-07-14 02:38:59,709 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/sm
2022-07-14 02:38:59,711 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e has been successfully formatted.
2022-07-14 02:38:59,711 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-07-14 02:38:59,711 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-07-14 02:38:59,712 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:38:59,712 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-07-14 02:38:59,712 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-14 02:38:59,712 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-07-14 02:38:59,712 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-07-14 02:38:59,712 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-F8D60CD02D9E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e
2022-07-14 02:38:59,712 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-07-14 02:38:59,712 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-07-14 02:38:59,712 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-14 02:38:59,712 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-07-14 02:38:59,712 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-07-14 02:38:59,712 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-07-14 02:38:59,713 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-07-14 02:38:59,713 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-07-14 02:38:59,713 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-07-14 02:38:59,713 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-07-14 02:38:59,713 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-07-14 02:38:59,713 [s1-impl-thread1] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:start(225)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker start(latestIndex=-1, openSegmentFile=null)
2022-07-14 02:38:59,713 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-07-14 02:38:59,713 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-07-14 02:38:59,714 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(313)) - s1@group-F8D60CD02D9E: start as a follower, conf=-1: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:38:59,714 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-F8D60CD02D9E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-07-14 02:38:59,714 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-F8D60CD02D9E-FollowerState
2022-07-14 02:38:59,714 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-F8D60CD02D9E,id=s1
2022-07-14 02:38:59,714 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-07-14 02:38:59,714 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-07-14 02:38:59,714 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-07-14 02:38:59,715 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s1: start RPC server
2022-07-14 02:38:59,721 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$250/1367845902@cebd1bd] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-07-14 02:38:59,721 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e does not exist. Creating ...
2022-07-14 02:38:59,721 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e
2022-07-14 02:38:59,722 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/in_use.lock acquired by nodename 16254@fv-az54-379.qczjibyfz4dularrisj3jz1gre.bx.internal.cloudapp.net
2022-07-14 02:38:59,723 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current
2022-07-14 02:38:59,723 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/sm
2022-07-14 02:38:59,724 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e has been successfully formatted.
2022-07-14 02:38:59,725 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-07-14 02:38:59,725 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-07-14 02:38:59,725 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:38:59,725 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-07-14 02:38:59,725 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-14 02:38:59,725 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-07-14 02:38:59,725 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-07-14 02:38:59,725 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-F8D60CD02D9E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e
2022-07-14 02:38:59,725 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-07-14 02:38:59,725 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-07-14 02:38:59,725 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-14 02:38:59,725 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-07-14 02:38:59,725 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-07-14 02:38:59,725 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-07-14 02:38:59,725 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-07-14 02:38:59,725 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-07-14 02:38:59,726 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-07-14 02:38:59,726 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-07-14 02:38:59,726 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-07-14 02:38:59,726 [s2-impl-thread1] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:start(225)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker start(latestIndex=-1, openSegmentFile=null)
2022-07-14 02:38:59,726 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-07-14 02:38:59,726 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-07-14 02:38:59,726 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(313)) - s2@group-F8D60CD02D9E: start as a follower, conf=-1: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:38:59,726 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-F8D60CD02D9E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-07-14 02:38:59,726 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-F8D60CD02D9E-FollowerState
2022-07-14 02:38:59,727 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-F8D60CD02D9E,id=s2
2022-07-14 02:38:59,727 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-07-14 02:38:59,727 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-07-14 02:38:59,727 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-07-14 02:38:59,727 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s2: start RPC server
2022-07-14 02:38:59,728 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$250/1367845902@2ddfcdab] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-07-14 02:38:59,728 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:38:59,728 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t0, leader=null, voted=, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F8D60CD02D9E:t0, leader=null, voted=, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F8D60CD02D9E:t0, leader=null, voted=, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:38:59,729 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t0, leader=null, voted=, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F8D60CD02D9E:t0, leader=null, voted=, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F8D60CD02D9E:t0, leader=null, voted=, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t0, leader=null, voted=, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F8D60CD02D9E:t0, leader=null, voted=, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F8D60CD02D9E:t0, leader=null, voted=, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:535)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:569)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:562)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:99)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:38:59,893 [s0@group-F8D60CD02D9E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-F8D60CD02D9E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:188238920ns, electionTimeout:187ms
2022-07-14 02:38:59,893 [s0@group-F8D60CD02D9E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-F8D60CD02D9E-FollowerState
2022-07-14 02:38:59,893 [s0@group-F8D60CD02D9E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s0@group-F8D60CD02D9E: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-07-14 02:38:59,893 [s0@group-F8D60CD02D9E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:38:59,893 [s0@group-F8D60CD02D9E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-F8D60CD02D9E-LeaderElection65
2022-07-14 02:38:59,894 [s0@group-F8D60CD02D9E-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-F8D60CD02D9E-LeaderElection65 PRE_VOTE round 0: submit vote requests at term 0 for -1: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:38:59,895 [Thread-1896] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-F8D60CD02D9E: receive requestVote(PRE_VOTE, s0, group-F8D60CD02D9E, 0, (t:0, i:0))
2022-07-14 02:38:59,895 [Thread-1903] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-F8D60CD02D9E: receive requestVote(PRE_VOTE, s0, group-F8D60CD02D9E, 0, (t:0, i:0))
2022-07-14 02:38:59,895 [Thread-1903] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-F8D60CD02D9E-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-07-14 02:38:59,895 [Thread-1896] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-F8D60CD02D9E-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-07-14 02:38:59,896 [Thread-1903] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-F8D60CD02D9E replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-F8D60CD02D9E:t0, leader=null, voted=, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:38:59,896 [Thread-1896] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-F8D60CD02D9E replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-F8D60CD02D9E:t0, leader=null, voted=, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:38:59,896 [s0@group-F8D60CD02D9E-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-F8D60CD02D9E-LeaderElection65: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-07-14 02:38:59,896 [s0@group-F8D60CD02D9E-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s2#0:OK-t0
2022-07-14 02:38:59,896 [s0@group-F8D60CD02D9E-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-F8D60CD02D9E-LeaderElection65 PRE_VOTE round 0: result PASSED
2022-07-14 02:38:59,900 [s0@group-F8D60CD02D9E-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-F8D60CD02D9E-LeaderElection65 ELECTION round 0: submit vote requests at term 1 for -1: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:38:59,901 [Thread-1897] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-F8D60CD02D9E: receive requestVote(ELECTION, s0, group-F8D60CD02D9E, 1, (t:0, i:0))
2022-07-14 02:38:59,905 [Thread-1897] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-F8D60CD02D9E-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-07-14 02:38:59,905 [Thread-1897] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-F8D60CD02D9E: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-07-14 02:38:59,905 [Thread-1897] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-F8D60CD02D9E-FollowerState
2022-07-14 02:38:59,905 [Thread-1897] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-F8D60CD02D9E-FollowerState
2022-07-14 02:38:59,905 [s1@group-F8D60CD02D9E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-F8D60CD02D9E-FollowerState was interrupted
2022-07-14 02:38:59,905 [Thread-1904] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-F8D60CD02D9E: receive requestVote(ELECTION, s0, group-F8D60CD02D9E, 1, (t:0, i:0))
2022-07-14 02:38:59,908 [Thread-1904] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-F8D60CD02D9E-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-07-14 02:38:59,908 [Thread-1904] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-F8D60CD02D9E: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-07-14 02:38:59,908 [Thread-1904] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-F8D60CD02D9E-FollowerState
2022-07-14 02:38:59,908 [Thread-1904] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-F8D60CD02D9E-FollowerState
2022-07-14 02:38:59,909 [s2@group-F8D60CD02D9E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-F8D60CD02D9E-FollowerState was interrupted
2022-07-14 02:38:59,909 [Thread-1897] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-F8D60CD02D9E replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-F8D60CD02D9E:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:38:59,909 [s0@group-F8D60CD02D9E-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-F8D60CD02D9E-LeaderElection65: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-07-14 02:38:59,909 [s0@group-F8D60CD02D9E-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t1
2022-07-14 02:38:59,909 [s0@group-F8D60CD02D9E-LeaderElection65] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-F8D60CD02D9E-LeaderElection65 ELECTION round 0: result PASSED
2022-07-14 02:38:59,909 [s0@group-F8D60CD02D9E-LeaderElection65] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-F8D60CD02D9E-LeaderElection65
2022-07-14 02:38:59,909 [s0@group-F8D60CD02D9E-LeaderElection65] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s0@group-F8D60CD02D9E: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-07-14 02:38:59,909 [s0@group-F8D60CD02D9E-LeaderElection65] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s0@group-F8D60CD02D9E: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 226ms
2022-07-14 02:38:59,909 [s0@group-F8D60CD02D9E-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-07-14 02:38:59,909 [s0@group-F8D60CD02D9E-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-14 02:38:59,909 [s0@group-F8D60CD02D9E-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-07-14 02:38:59,910 [s0@group-F8D60CD02D9E-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-07-14 02:38:59,910 [s0@group-F8D60CD02D9E-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-07-14 02:38:59,910 [s0@group-F8D60CD02D9E-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-07-14 02:38:59,910 [s0@group-F8D60CD02D9E-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-14 02:38:59,910 [s0@group-F8D60CD02D9E-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-07-14 02:38:59,910 [s0@group-F8D60CD02D9E-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-14 02:38:59,910 [s0@group-F8D60CD02D9E-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:38:59,910 [s0@group-F8D60CD02D9E-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-14 02:38:59,910 [s0@group-F8D60CD02D9E-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-14 02:38:59,910 [s0@group-F8D60CD02D9E-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:38:59,910 [s0@group-F8D60CD02D9E-LeaderElection65] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-14 02:38:59,910 [s0@group-F8D60CD02D9E-LeaderElection65] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-F8D60CD02D9E-LeaderStateImpl
2022-07-14 02:38:59,911 [s0@group-F8D60CD02D9E-LeaderElection65] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: Starting segment from index:0
2022-07-14 02:38:59,911 [s0@group-F8D60CD02D9E-LeaderElection65] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task StartLogSegment:0
2022-07-14 02:38:59,912 [s0@group-F8D60CD02D9E-LeaderElection65] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task WriteLog:0: (t:1, i:0), CONFIGURATIONENTRY
2022-07-14 02:38:59,913 [Thread-1904] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-F8D60CD02D9E replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-F8D60CD02D9E:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:38:59,931 [s0@group-F8D60CD02D9E-LeaderElection65] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s0@group-F8D60CD02D9E: set configuration 0: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:38:59,932 [Thread-1898] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s1@group-F8D60CD02D9E: change Leader from null to s0 at term 1 for appendEntries, leader elected after 244ms
2022-07-14 02:38:59,932 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_0
2022-07-14 02:38:59,932 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_0)
2022-07-14 02:38:59,932 [Thread-1896] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-F8D60CD02D9E: receive appendEntries(s0, 1, null, -1, true, commits[s0:c-1, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-07-14 02:38:59,933 [Thread-1896] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s1@group-F8D60CD02D9E: set configuration 0: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:38:59,933 [Thread-1896] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: Starting segment from index:0
2022-07-14 02:38:59,933 [Thread-1896] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task StartLogSegment:0
2022-07-14 02:38:59,933 [Thread-1896] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task WriteLog:0: (t:1, i:0), CONFIGURATIONENTRY
2022-07-14 02:38:59,933 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly -1 -> 0
2022-07-14 02:38:59,937 [Thread-1905] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s2@group-F8D60CD02D9E: change Leader from null to s0 at term 1 for appendEntries, leader elected after 236ms
2022-07-14 02:38:59,937 [Thread-1903] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-F8D60CD02D9E: receive appendEntries(s0, 1, null, 0, true, commits[s0:c0, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-07-14 02:38:59,938 [Thread-1903] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s2@group-F8D60CD02D9E: set configuration 0: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:38:59,938 [Thread-1903] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: Starting segment from index:0
2022-07-14 02:38:59,938 [Thread-1903] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task StartLogSegment:0
2022-07-14 02:38:59,938 [Thread-1903] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task WriteLog:0: (t:1, i:0), CONFIGURATIONENTRY
2022-07-14 02:38:59,951 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_0
2022-07-14 02:38:59,951 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_0
2022-07-14 02:38:59,952 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_0)
2022-07-14 02:38:59,952 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_0)
2022-07-14 02:38:59,952 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly -1 -> 0
2022-07-14 02:38:59,952 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly -1 -> 0
2022-07-14 02:38:59,952 [Thread-1937] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-F8D60CD02D9E: succeeded to handle AppendEntries. Reply: s0<-s2#1063:OK-t1,SUCCESS,nextIndex=1,followerCommit=0
2022-07-14 02:38:59,953 [Thread-1938] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-F8D60CD02D9E: succeeded to handle AppendEntries. Reply: s0<-s1#1062:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1
2022-07-14 02:39:00,179 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-F8D60CD02D9E:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F8D60CD02D9E:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F8D60CD02D9E:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:00,181 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:39:00,181 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-F8D60CD02D9E:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F8D60CD02D9E:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F8D60CD02D9E:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:00,181 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-F8D60CD02D9E:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F8D60CD02D9E:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F8D60CD02D9E:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:00,182 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:39:00,282 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:39:00,283 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-F8D60CD02D9E:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F8D60CD02D9E:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F8D60CD02D9E:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:00,283 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-F8D60CD02D9E:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F8D60CD02D9E:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F8D60CD02D9E:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:00,283 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:39:00,311 [s1@group-F8D60CD02D9E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-F8D60CD02D9E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:206277808ns, electionTimeout:192ms
2022-07-14 02:39:00,311 [s1@group-F8D60CD02D9E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-F8D60CD02D9E-FollowerState
2022-07-14 02:39:00,311 [s1@group-F8D60CD02D9E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-F8D60CD02D9E: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-07-14 02:39:00,311 [s1@group-F8D60CD02D9E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:39:00,311 [s1@group-F8D60CD02D9E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-F8D60CD02D9E-LeaderElection66
2022-07-14 02:39:00,311 [s1@group-F8D60CD02D9E-LeaderElection66] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s1@group-F8D60CD02D9E: change Leader from s0 to null at term 1 for PRE_VOTE
2022-07-14 02:39:00,312 [s1@group-F8D60CD02D9E-LeaderElection66] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-F8D60CD02D9E-LeaderElection66 PRE_VOTE round 0: submit vote requests at term 1 for 0: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:00,313 [Thread-1888] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s0@group-F8D60CD02D9E: receive requestVote(PRE_VOTE, s1, group-F8D60CD02D9E, 1, (t:1, i:0))
2022-07-14 02:39:00,313 [Thread-1904] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-F8D60CD02D9E: receive requestVote(PRE_VOTE, s1, group-F8D60CD02D9E, 1, (t:1, i:0))
2022-07-14 02:39:00,313 [Thread-1888] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-F8D60CD02D9E-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2022-07-14 02:39:00,313 [Thread-1888] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s0@group-F8D60CD02D9E replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-F8D60CD02D9E:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:00,313 [Thread-1904] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-F8D60CD02D9E-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-07-14 02:39:00,313 [Thread-1904] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-F8D60CD02D9E replies to PRE_VOTE vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-F8D60CD02D9E:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:00,315 [s1@group-F8D60CD02D9E-LeaderElection66] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-F8D60CD02D9E-LeaderElection66: PRE_VOTE PASSED received 2 response(s) and 0 exception(s):
2022-07-14 02:39:00,315 [s1@group-F8D60CD02D9E-LeaderElection66] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:FAIL-t1
2022-07-14 02:39:00,315 [s1@group-F8D60CD02D9E-LeaderElection66] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s1<-s2#0:OK-t1
2022-07-14 02:39:00,315 [s1@group-F8D60CD02D9E-LeaderElection66] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-F8D60CD02D9E-LeaderElection66 PRE_VOTE round 0: result PASSED
2022-07-14 02:39:00,317 [s1@group-F8D60CD02D9E-LeaderElection66] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-F8D60CD02D9E-LeaderElection66 ELECTION round 0: submit vote requests at term 2 for 0: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:00,317 [Thread-1905] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-F8D60CD02D9E: receive requestVote(ELECTION, s1, group-F8D60CD02D9E, 2, (t:1, i:0))
2022-07-14 02:39:00,318 [Thread-1889] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s0@group-F8D60CD02D9E: receive requestVote(ELECTION, s1, group-F8D60CD02D9E, 2, (t:1, i:0))
2022-07-14 02:39:00,318 [Thread-1889] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-F8D60CD02D9E-LEADER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-07-14 02:39:00,318 [Thread-1889] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s0@group-F8D60CD02D9E: change Leader from s0 to null at term 2 for updateCurrentTerm
2022-07-14 02:39:00,318 [Thread-1889] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s0@group-F8D60CD02D9E: changes role from    LEADER to FOLLOWER at term 2 for candidate:s1
2022-07-14 02:39:00,318 [Thread-1889] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-F8D60CD02D9E-LeaderStateImpl
2022-07-14 02:39:00,318 [s0@group-F8D60CD02D9E->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s0@group-F8D60CD02D9E->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-07-14 02:39:00,318 [s0@group-F8D60CD02D9E->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s0@group-F8D60CD02D9E->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-07-14 02:39:00,318 [Thread-1905] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-F8D60CD02D9E-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-07-14 02:39:00,319 [Thread-1905] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s2@group-F8D60CD02D9E: change Leader from s0 to null at term 2 for updateCurrentTerm
2022-07-14 02:39:00,319 [Thread-1905] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-F8D60CD02D9E: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s1
2022-07-14 02:39:00,319 [Thread-1905] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-F8D60CD02D9E-FollowerState
2022-07-14 02:39:00,318 [Thread-1889] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-F8D60CD02D9E-PendingRequests: sendNotLeaderResponses
2022-07-14 02:39:00,319 [Thread-1889] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-F8D60CD02D9E-FollowerState
2022-07-14 02:39:00,319 [Thread-1905] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-F8D60CD02D9E-FollowerState
2022-07-14 02:39:00,320 [s2@group-F8D60CD02D9E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-F8D60CD02D9E-FollowerState was interrupted
2022-07-14 02:39:00,320 [Thread-1889] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s0@group-F8D60CD02D9E replies to ELECTION vote request: s1<-s0#0:OK-t2. Peer's state: s0@group-F8D60CD02D9E:t2, leader=null, voted=s1, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:00,321 [s1@group-F8D60CD02D9E-LeaderElection66] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-F8D60CD02D9E-LeaderElection66: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-07-14 02:39:00,321 [s1@group-F8D60CD02D9E-LeaderElection66] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t2
2022-07-14 02:39:00,321 [s1@group-F8D60CD02D9E-LeaderElection66] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-F8D60CD02D9E-LeaderElection66 ELECTION round 0: result PASSED
2022-07-14 02:39:00,321 [s1@group-F8D60CD02D9E-LeaderElection66] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-F8D60CD02D9E-LeaderElection66
2022-07-14 02:39:00,321 [s1@group-F8D60CD02D9E-LeaderElection66] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-F8D60CD02D9E: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2022-07-14 02:39:00,321 [s1@group-F8D60CD02D9E-LeaderElection66] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s1@group-F8D60CD02D9E: change Leader from null to s1 at term 2 for becomeLeader, leader elected after 9ms
2022-07-14 02:39:00,321 [s1@group-F8D60CD02D9E-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-07-14 02:39:00,321 [s1@group-F8D60CD02D9E-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-14 02:39:00,321 [s1@group-F8D60CD02D9E-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-07-14 02:39:00,321 [s1@group-F8D60CD02D9E-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-07-14 02:39:00,321 [s1@group-F8D60CD02D9E-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-07-14 02:39:00,321 [s1@group-F8D60CD02D9E-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-07-14 02:39:00,321 [s1@group-F8D60CD02D9E-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-14 02:39:00,321 [s1@group-F8D60CD02D9E-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-07-14 02:39:00,322 [s1@group-F8D60CD02D9E-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-14 02:39:00,322 [Thread-1905] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-F8D60CD02D9E replies to ELECTION vote request: s1<-s2#0:OK-t2. Peer's state: s2@group-F8D60CD02D9E:t2, leader=null, voted=s1, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:00,322 [s1@group-F8D60CD02D9E-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:39:00,322 [s1@group-F8D60CD02D9E-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-14 02:39:00,322 [s1@group-F8D60CD02D9E-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-14 02:39:00,322 [s1@group-F8D60CD02D9E-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:39:00,322 [s1@group-F8D60CD02D9E-LeaderElection66] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-14 02:39:00,322 [s1@group-F8D60CD02D9E-LeaderElection66] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-F8D60CD02D9E-LeaderStateImpl
2022-07-14 02:39:00,323 [s1@group-F8D60CD02D9E-LeaderElection66] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2022-07-14 02:39:00,323 [s1@group-F8D60CD02D9E-LeaderElection66] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:0: startIndex=0 endIndex=0
2022-07-14 02:39:00,324 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_0-0
2022-07-14 02:39:00,324 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_0-0
2022-07-14 02:39:00,324 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 0 -> 0
2022-07-14 02:39:00,324 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=-1, new=0, updated? true
2022-07-14 02:39:00,324 [s1@group-F8D60CD02D9E-LeaderElection66] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task StartLogSegment:1
2022-07-14 02:39:00,324 [s1@group-F8D60CD02D9E-LeaderElection66] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task WriteLog:1: (t:2, i:1), CONFIGURATIONENTRY
2022-07-14 02:39:00,328 [s1@group-F8D60CD02D9E-LeaderElection66] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s1@group-F8D60CD02D9E: set configuration 1: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:00,328 [Thread-1903] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s2@group-F8D60CD02D9E: change Leader from null to s1 at term 2 for appendEntries, leader elected after 9ms
2022-07-14 02:39:00,328 [Thread-1890] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s0@group-F8D60CD02D9E: change Leader from null to s1 at term 2 for appendEntries, leader elected after 10ms
2022-07-14 02:39:00,329 [Thread-1904] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-F8D60CD02D9E: receive appendEntries(s1, 2, (t:1, i:0), 0, true, commits[s1:c0, s0:c0, s2:c0], entries: (t:2, i:1), CONFIGURATIONENTRY
2022-07-14 02:39:00,329 [Thread-1904] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s2@group-F8D60CD02D9E: set configuration 1: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:00,329 [Thread-1904] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2022-07-14 02:39:00,329 [Thread-1904] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:0: startIndex=0 endIndex=0
2022-07-14 02:39:00,329 [Thread-1904] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task StartLogSegment:1
2022-07-14 02:39:00,330 [Thread-1904] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task WriteLog:1: (t:2, i:1), CONFIGURATIONENTRY
2022-07-14 02:39:00,330 [Thread-1888] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s0@group-F8D60CD02D9E: receive appendEntries(s1, 2, (t:1, i:0), 0, true, commits[s1:c0, s0:c0, s2:c0], entries: (t:2, i:1), CONFIGURATIONENTRY
2022-07-14 02:39:00,330 [Thread-1888] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s0@group-F8D60CD02D9E: set configuration 1: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:00,330 [Thread-1888] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: Rolling segment log-0_0 to index:0
2022-07-14 02:39:00,330 [Thread-1888] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:0: startIndex=0 endIndex=0
2022-07-14 02:39:00,330 [Thread-1888] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task StartLogSegment:1
2022-07-14 02:39:00,330 [Thread-1888] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task WriteLog:1: (t:2, i:1), CONFIGURATIONENTRY
2022-07-14 02:39:00,331 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_0-0
2022-07-14 02:39:00,331 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_0-0
2022-07-14 02:39:00,331 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 0 -> 0
2022-07-14 02:39:00,331 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=-1, new=0, updated? true
2022-07-14 02:39:00,331 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_0-0
2022-07-14 02:39:00,332 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_0-0
2022-07-14 02:39:00,332 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 0 -> 0
2022-07-14 02:39:00,332 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=-1, new=0, updated? true
2022-07-14 02:39:00,336 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_1
2022-07-14 02:39:00,336 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_1)
2022-07-14 02:39:00,338 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 0 -> 1
2022-07-14 02:39:00,349 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_1
2022-07-14 02:39:00,349 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_1)
2022-07-14 02:39:00,349 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_1
2022-07-14 02:39:00,350 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_1)
2022-07-14 02:39:00,350 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 0 -> 1
2022-07-14 02:39:00,350 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 0 -> 1
2022-07-14 02:39:00,350 [Thread-1964] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s0@group-F8D60CD02D9E: succeeded to handle AppendEntries. Reply: s1<-s0#1083:OK-t2,SUCCESS,nextIndex=2,followerCommit=0
2022-07-14 02:39:00,351 [s1@group-F8D60CD02D9E-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task WriteLog:2: (t:2, i:2), METADATAENTRY(c:1)
2022-07-14 02:39:00,351 [Thread-1889] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s0@group-F8D60CD02D9E: receive appendEntries(s1, 2, (t:2, i:1), 1, true, commits[s1:c1, s0:c0, s2:c0], entries: (t:2, i:2), METADATAENTRY(c:1)
2022-07-14 02:39:00,351 [Thread-1889] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task WriteLog:2: (t:2, i:2), METADATAENTRY(c:1)
2022-07-14 02:39:00,351 [Thread-1965] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-F8D60CD02D9E: succeeded to handle AppendEntries. Reply: s1<-s2#1082:OK-t2,SUCCESS,nextIndex=2,followerCommit=0
2022-07-14 02:39:00,356 [Thread-1905] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-F8D60CD02D9E: receive appendEntries(s1, 2, (t:2, i:1), 1, true, commits[s1:c1, s0:c0, s2:c0], entries: (t:2, i:2), METADATAENTRY(c:1)
2022-07-14 02:39:00,356 [Thread-1905] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task WriteLog:2: (t:2, i:2), METADATAENTRY(c:1)
2022-07-14 02:39:00,356 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_1)
2022-07-14 02:39:00,356 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_1)
2022-07-14 02:39:00,357 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_1)
2022-07-14 02:39:00,357 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 1 -> 2
2022-07-14 02:39:00,357 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 1 -> 2
2022-07-14 02:39:00,357 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 1 -> 2
2022-07-14 02:39:00,360 [Thread-1966] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-F8D60CD02D9E: succeeded to handle AppendEntries. Reply: s1<-s2#1085:OK-t2,SUCCESS,nextIndex=3,followerCommit=1
2022-07-14 02:39:00,361 [Thread-1967] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s0@group-F8D60CD02D9E: succeeded to handle AppendEntries. Reply: s1<-s0#1084:OK-t2,SUCCESS,nextIndex=3,followerCommit=1
2022-07-14 02:39:00,384 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:39:00,384 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-F8D60CD02D9E:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c2, conf=1: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F8D60CD02D9E:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:00,384 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-F8D60CD02D9E:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c2, conf=1: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F8D60CD02D9E:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:00,384 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s0 to s1
2022-07-14 02:39:00,384 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:39:00,385 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-F8D60CD02D9E:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c2, conf=1: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F8D60CD02D9E:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:00,385 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-F8D60CD02D9E:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c2, conf=1: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F8D60CD02D9E:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:00,385 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:39:00,485 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:39:00,486 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-F8D60CD02D9E:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c2, conf=1: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F8D60CD02D9E:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:00,486 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-F8D60CD02D9E:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c2, conf=1: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F8D60CD02D9E:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:00,486 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:39:00,586 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:39:00,587 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-F8D60CD02D9E:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c2, conf=1: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F8D60CD02D9E:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:00,587 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-F8D60CD02D9E:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c2, conf=1: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F8D60CD02D9E:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:00,587 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:39:00,688 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:39:00,688 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-F8D60CD02D9E:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c2, conf=1: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F8D60CD02D9E:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:00,689 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-F8D60CD02D9E:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c2, conf=1: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F8D60CD02D9E:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:00,689 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #4/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:39:00,701 [s0@group-F8D60CD02D9E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-F8D60CD02D9E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:339765032ns, electionTimeout:207ms
2022-07-14 02:39:00,701 [s0@group-F8D60CD02D9E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-F8D60CD02D9E-FollowerState
2022-07-14 02:39:00,701 [s0@group-F8D60CD02D9E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s0@group-F8D60CD02D9E: changes role from  FOLLOWER to CANDIDATE at term 2 for changeToCandidate
2022-07-14 02:39:00,701 [s0@group-F8D60CD02D9E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:39:00,701 [s0@group-F8D60CD02D9E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-F8D60CD02D9E-LeaderElection67
2022-07-14 02:39:00,701 [s0@group-F8D60CD02D9E-LeaderElection67] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s0@group-F8D60CD02D9E: change Leader from s1 to null at term 2 for PRE_VOTE
2022-07-14 02:39:00,701 [s0@group-F8D60CD02D9E-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-F8D60CD02D9E-LeaderElection67 PRE_VOTE round 0: submit vote requests at term 2 for 1: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:00,702 [Thread-1897] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-F8D60CD02D9E: receive requestVote(PRE_VOTE, s0, group-F8D60CD02D9E, 2, (t:2, i:2))
2022-07-14 02:39:00,702 [Thread-1897] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1017)) - s1@group-F8D60CD02D9E-LeaderStateImpl: Lost leadership on term: 2. Election timeout: 300ms. In charge for: 380ms. Conf: 1: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:00,702 [Thread-1897] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1021)) - Follower s1@group-F8D60CD02D9E->s0(c1,m2,n3, attendVote=true, lastRpcSendTime=265, lastRpcResponseTime=340)
2022-07-14 02:39:00,702 [Thread-1897] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1021)) - Follower s1@group-F8D60CD02D9E->s2(c1,m2,n3, attendVote=true, lastRpcSendTime=265, lastRpcResponseTime=341)
2022-07-14 02:39:00,702 [Thread-1897] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-F8D60CD02D9E: changes role from    LEADER to FOLLOWER at term 2 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2022-07-14 02:39:00,702 [Thread-1897] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-F8D60CD02D9E-LeaderStateImpl
2022-07-14 02:39:00,702 [Thread-1897] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-F8D60CD02D9E-PendingRequests: sendNotLeaderResponses
2022-07-14 02:39:00,702 [s1@group-F8D60CD02D9E->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s1@group-F8D60CD02D9E->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-07-14 02:39:00,702 [Thread-1904] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-F8D60CD02D9E: receive requestVote(PRE_VOTE, s0, group-F8D60CD02D9E, 2, (t:2, i:2))
2022-07-14 02:39:00,702 [Thread-1904] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-F8D60CD02D9E-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-07-14 02:39:00,702 [Thread-1904] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-F8D60CD02D9E replies to PRE_VOTE vote request: s0<-s2#0:OK-t2. Peer's state: s2@group-F8D60CD02D9E:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:00,703 [s1@group-F8D60CD02D9E->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s1@group-F8D60CD02D9E->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-07-14 02:39:00,704 [Thread-1897] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-F8D60CD02D9E-FollowerState
2022-07-14 02:39:00,704 [Thread-1897] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-F8D60CD02D9E-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-07-14 02:39:00,704 [Thread-1897] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-F8D60CD02D9E replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t2. Peer's state: s1@group-F8D60CD02D9E:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c2, conf=1: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:00,705 [s0@group-F8D60CD02D9E-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-F8D60CD02D9E-LeaderElection67: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-07-14 02:39:00,705 [s0@group-F8D60CD02D9E-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s2#0:OK-t2
2022-07-14 02:39:00,705 [s0@group-F8D60CD02D9E-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-F8D60CD02D9E-LeaderElection67 PRE_VOTE round 0: result PASSED
2022-07-14 02:39:00,707 [s0@group-F8D60CD02D9E-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-F8D60CD02D9E-LeaderElection67 ELECTION round 0: submit vote requests at term 3 for 1: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:00,707 [Thread-1898] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-F8D60CD02D9E: receive requestVote(ELECTION, s0, group-F8D60CD02D9E, 3, (t:2, i:2))
2022-07-14 02:39:00,707 [Thread-1898] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-F8D60CD02D9E-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-07-14 02:39:00,707 [Thread-1898] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s1@group-F8D60CD02D9E: change Leader from s1 to null at term 3 for updateCurrentTerm
2022-07-14 02:39:00,707 [Thread-1898] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-F8D60CD02D9E: changes role from  FOLLOWER to FOLLOWER at term 3 for candidate:s0
2022-07-14 02:39:00,707 [Thread-1898] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-F8D60CD02D9E-FollowerState
2022-07-14 02:39:00,707 [Thread-1898] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-F8D60CD02D9E-FollowerState
2022-07-14 02:39:00,707 [s1@group-F8D60CD02D9E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-F8D60CD02D9E-FollowerState was interrupted
2022-07-14 02:39:00,709 [Thread-1898] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-F8D60CD02D9E replies to ELECTION vote request: s0<-s1#0:OK-t3. Peer's state: s1@group-F8D60CD02D9E:t3, leader=null, voted=s0, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c2, conf=1: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:00,709 [s0@group-F8D60CD02D9E-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-F8D60CD02D9E-LeaderElection67: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-07-14 02:39:00,709 [s0@group-F8D60CD02D9E-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t3
2022-07-14 02:39:00,709 [s0@group-F8D60CD02D9E-LeaderElection67] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-F8D60CD02D9E-LeaderElection67 ELECTION round 0: result PASSED
2022-07-14 02:39:00,709 [s0@group-F8D60CD02D9E-LeaderElection67] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-F8D60CD02D9E-LeaderElection67
2022-07-14 02:39:00,709 [s0@group-F8D60CD02D9E-LeaderElection67] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s0@group-F8D60CD02D9E: changes role from CANDIDATE to LEADER at term 3 for changeToLeader
2022-07-14 02:39:00,709 [s0@group-F8D60CD02D9E-LeaderElection67] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s0@group-F8D60CD02D9E: change Leader from null to s0 at term 3 for becomeLeader, leader elected after 8ms
2022-07-14 02:39:00,710 [s0@group-F8D60CD02D9E-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-07-14 02:39:00,710 [s0@group-F8D60CD02D9E-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-14 02:39:00,710 [s0@group-F8D60CD02D9E-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-07-14 02:39:00,710 [s0@group-F8D60CD02D9E-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-07-14 02:39:00,710 [s0@group-F8D60CD02D9E-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-07-14 02:39:00,710 [s0@group-F8D60CD02D9E-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-07-14 02:39:00,710 [s0@group-F8D60CD02D9E-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-14 02:39:00,710 [s0@group-F8D60CD02D9E-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-07-14 02:39:00,710 [s0@group-F8D60CD02D9E-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-14 02:39:00,710 [s0@group-F8D60CD02D9E-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:39:00,710 [s0@group-F8D60CD02D9E-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-14 02:39:00,710 [s0@group-F8D60CD02D9E-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-14 02:39:00,711 [s0@group-F8D60CD02D9E-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:39:00,711 [s0@group-F8D60CD02D9E-LeaderElection67] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-14 02:39:00,711 [s0@group-F8D60CD02D9E-LeaderElection67] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-F8D60CD02D9E-LeaderStateImpl
2022-07-14 02:39:00,711 [s0@group-F8D60CD02D9E-LeaderElection67] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2022-07-14 02:39:00,711 [s0@group-F8D60CD02D9E-LeaderElection67] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:2: startIndex=1 endIndex=2
2022-07-14 02:39:00,711 [s0@group-F8D60CD02D9E-LeaderElection67] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task StartLogSegment:3
2022-07-14 02:39:00,711 [s0@group-F8D60CD02D9E-LeaderElection67] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task WriteLog:3: (t:3, i:3), CONFIGURATIONENTRY
2022-07-14 02:39:00,713 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_1-2
2022-07-14 02:39:00,713 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_1-2
2022-07-14 02:39:00,713 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 2 -> 2
2022-07-14 02:39:00,713 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=0, new=2, updated? true
2022-07-14 02:39:00,717 [Thread-1905] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-F8D60CD02D9E: receive requestVote(ELECTION, s0, group-F8D60CD02D9E, 3, (t:2, i:2))
2022-07-14 02:39:00,717 [Thread-1905] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-F8D60CD02D9E-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-07-14 02:39:00,717 [Thread-1905] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s2@group-F8D60CD02D9E: change Leader from s1 to null at term 3 for updateCurrentTerm
2022-07-14 02:39:00,717 [Thread-1905] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-F8D60CD02D9E: changes role from  FOLLOWER to FOLLOWER at term 3 for candidate:s0
2022-07-14 02:39:00,717 [Thread-1905] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-F8D60CD02D9E-FollowerState
2022-07-14 02:39:00,717 [s0@group-F8D60CD02D9E-LeaderElection67] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s0@group-F8D60CD02D9E: set configuration 3: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:00,717 [Thread-1905] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-F8D60CD02D9E-FollowerState
2022-07-14 02:39:00,718 [s2@group-F8D60CD02D9E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-F8D60CD02D9E-FollowerState was interrupted
2022-07-14 02:39:00,717 [Thread-1896] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s1@group-F8D60CD02D9E: change Leader from null to s0 at term 3 for appendEntries, leader elected after 10ms
2022-07-14 02:39:00,718 [Thread-1897] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-F8D60CD02D9E: receive appendEntries(s0, 3, (t:2, i:2), 1, true, commits[s0:c1, s1:c2, s2:c0], entries: (t:3, i:3), CONFIGURATIONENTRY
2022-07-14 02:39:00,719 [Thread-1897] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s1@group-F8D60CD02D9E: set configuration 3: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:00,719 [Thread-1897] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2022-07-14 02:39:00,719 [Thread-1897] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:2: startIndex=1 endIndex=2
2022-07-14 02:39:00,719 [Thread-1897] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task StartLogSegment:3
2022-07-14 02:39:00,719 [Thread-1897] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task WriteLog:3: (t:3, i:3), CONFIGURATIONENTRY
2022-07-14 02:39:00,720 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_1-2
2022-07-14 02:39:00,720 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_1-2
2022-07-14 02:39:00,720 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 2 -> 2
2022-07-14 02:39:00,720 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=0, new=2, updated? true
2022-07-14 02:39:00,734 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_3
2022-07-14 02:39:00,734 [Thread-1905] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-F8D60CD02D9E replies to ELECTION vote request: s0<-s2#0:OK-t3. Peer's state: s2@group-F8D60CD02D9E:t3, leader=null, voted=s0, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c1, conf=1: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:00,734 [Thread-1903] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s2@group-F8D60CD02D9E: change Leader from null to s0 at term 3 for appendEntries, leader elected after 17ms
2022-07-14 02:39:00,734 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_3)
2022-07-14 02:39:00,734 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_3
2022-07-14 02:39:00,735 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_3)
2022-07-14 02:39:00,735 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 2 -> 3
2022-07-14 02:39:00,735 [Thread-1989] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-F8D60CD02D9E: succeeded to handle AppendEntries. Reply: s0<-s1#1098:OK-t3,SUCCESS,nextIndex=4,followerCommit=2
2022-07-14 02:39:00,735 [Thread-1904] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-F8D60CD02D9E: receive appendEntries(s0, 3, (t:2, i:2), 1, true, commits[s0:c1, s1:c2, s2:c1], entries: (t:3, i:3), CONFIGURATIONENTRY
2022-07-14 02:39:00,735 [Thread-1904] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s2@group-F8D60CD02D9E: set configuration 3: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:00,735 [Thread-1904] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: Rolling segment log-1_2 to index:2
2022-07-14 02:39:00,735 [Thread-1904] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:2: startIndex=1 endIndex=2
2022-07-14 02:39:00,735 [Thread-1904] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task StartLogSegment:3
2022-07-14 02:39:00,736 [Thread-1904] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task WriteLog:3: (t:3, i:3), CONFIGURATIONENTRY
2022-07-14 02:39:00,736 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_1-2
2022-07-14 02:39:00,736 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_1 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_1-2
2022-07-14 02:39:00,735 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 2 -> 3
2022-07-14 02:39:00,736 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 2 -> 2
2022-07-14 02:39:00,736 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=0, new=2, updated? true
2022-07-14 02:39:00,735 [s0@group-F8D60CD02D9E-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task WriteLog:4: (t:3, i:4), METADATAENTRY(c:3)
2022-07-14 02:39:00,740 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_3)
2022-07-14 02:39:00,740 [Thread-1898] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-F8D60CD02D9E: receive appendEntries(s0, 3, (t:3, i:3), 3, true, commits[s0:c3, s1:c2, s2:c1], entries: (t:3, i:4), METADATAENTRY(c:3)
2022-07-14 02:39:00,741 [Thread-1898] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task WriteLog:4: (t:3, i:4), METADATAENTRY(c:3)
2022-07-14 02:39:00,741 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 3 -> 4
2022-07-14 02:39:00,741 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_3)
2022-07-14 02:39:00,747 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 3 -> 4
2022-07-14 02:39:00,747 [Thread-1990] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-F8D60CD02D9E: succeeded to handle AppendEntries. Reply: s0<-s1#1100:OK-t3,SUCCESS,nextIndex=5,followerCommit=3
2022-07-14 02:39:00,749 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_3
2022-07-14 02:39:00,749 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_3)
2022-07-14 02:39:00,749 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 2 -> 3
2022-07-14 02:39:00,749 [Thread-1991] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-F8D60CD02D9E: succeeded to handle AppendEntries. Reply: s0<-s2#1099:OK-t3,SUCCESS,nextIndex=4,followerCommit=1
2022-07-14 02:39:00,750 [Thread-1905] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-F8D60CD02D9E: receive appendEntries(s0, 3, (t:3, i:3), 4, true, commits[s0:c4, s1:c3, s2:c1], entries: (t:3, i:4), METADATAENTRY(c:3)
2022-07-14 02:39:00,750 [Thread-1905] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task WriteLog:4: (t:3, i:4), METADATAENTRY(c:3)
2022-07-14 02:39:00,750 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_3)
2022-07-14 02:39:00,751 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 3 -> 4
2022-07-14 02:39:00,751 [Thread-1992] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-F8D60CD02D9E: succeeded to handle AppendEntries. Reply: s0<-s2#1101:OK-t3,SUCCESS,nextIndex=5,followerCommit=4
2022-07-14 02:39:00,789 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:39:00,789 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-F8D60CD02D9E:t3, leader=s0, voted=s0, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c4, conf=3: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F8D60CD02D9E:t3, leader=s0, voted=s0, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c3, conf=3: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F8D60CD02D9E:t3, leader=s0, voted=s0, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c4, conf=3: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:00,790 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-F8D60CD02D9E:t3, leader=s0, voted=s0, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c4, conf=3: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F8D60CD02D9E:t3, leader=s0, voted=s0, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c3, conf=3: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F8D60CD02D9E:t3, leader=s0, voted=s0, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c4, conf=3: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:00,790 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s1 to s0
2022-07-14 02:39:00,790 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:39:00,790 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-F8D60CD02D9E:t3, leader=s0, voted=s0, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c4, conf=3: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F8D60CD02D9E:t3, leader=s0, voted=s0, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c3, conf=3: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F8D60CD02D9E:t3, leader=s0, voted=s0, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c4, conf=3: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:00,790 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-F8D60CD02D9E:t3, leader=s0, voted=s0, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c4, conf=3: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F8D60CD02D9E:t3, leader=s0, voted=s0, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c3, conf=3: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F8D60CD02D9E:t3, leader=s0, voted=s0, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c4, conf=3: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:00,790 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:39:00,890 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:39:00,891 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-F8D60CD02D9E:t3, leader=s0, voted=s0, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c4, conf=3: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F8D60CD02D9E:t3, leader=s0, voted=s0, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c3, conf=3: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F8D60CD02D9E:t3, leader=s0, voted=s0, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c4, conf=3: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:00,891 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-F8D60CD02D9E:t3, leader=s0, voted=s0, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c4, conf=3: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F8D60CD02D9E:t3, leader=s0, voted=s0, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c3, conf=3: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F8D60CD02D9E:t3, leader=s0, voted=s0, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c4, conf=3: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:00,891 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:39:00,991 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:39:00,992 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-F8D60CD02D9E:t3, leader=s0, voted=s0, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c4, conf=3: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F8D60CD02D9E:t3, leader=s0, voted=s0, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c3, conf=3: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F8D60CD02D9E:t3, leader=s0, voted=s0, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c4, conf=3: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:00,992 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-F8D60CD02D9E:t3, leader=s0, voted=s0, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c4, conf=3: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F8D60CD02D9E:t3, leader=s0, voted=s0, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c3, conf=3: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F8D60CD02D9E:t3, leader=s0, voted=s0, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c4, conf=3: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:00,992 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:39:01,093 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:39:01,093 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-F8D60CD02D9E:t3, leader=s0, voted=s0, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c4, conf=3: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F8D60CD02D9E:t3, leader=s0, voted=s0, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c3, conf=3: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F8D60CD02D9E:t3, leader=s0, voted=s0, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c4, conf=3: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:01,093 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-F8D60CD02D9E:t3, leader=s0, voted=s0, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c4, conf=3: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F8D60CD02D9E:t3, leader=s0, voted=s0, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c3, conf=3: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F8D60CD02D9E:t3, leader=s0, voted=s0, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c4, conf=3: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:01,094 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #4/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:39:01,161 [s1@group-F8D60CD02D9E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-F8D60CD02D9E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:413980298ns, electionTimeout:271ms
2022-07-14 02:39:01,161 [s1@group-F8D60CD02D9E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-F8D60CD02D9E-FollowerState
2022-07-14 02:39:01,161 [s1@group-F8D60CD02D9E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-F8D60CD02D9E: changes role from  FOLLOWER to CANDIDATE at term 3 for changeToCandidate
2022-07-14 02:39:01,162 [s1@group-F8D60CD02D9E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:39:01,162 [s1@group-F8D60CD02D9E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-F8D60CD02D9E-LeaderElection68
2022-07-14 02:39:01,162 [s1@group-F8D60CD02D9E-LeaderElection68] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s1@group-F8D60CD02D9E: change Leader from s0 to null at term 3 for PRE_VOTE
2022-07-14 02:39:01,162 [s1@group-F8D60CD02D9E-LeaderElection68] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-F8D60CD02D9E-LeaderElection68 PRE_VOTE round 0: submit vote requests at term 3 for 3: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:01,163 [Thread-1888] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s0@group-F8D60CD02D9E: receive requestVote(PRE_VOTE, s1, group-F8D60CD02D9E, 3, (t:3, i:4))
2022-07-14 02:39:01,163 [Thread-1888] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1017)) - s0@group-F8D60CD02D9E-LeaderStateImpl: Lost leadership on term: 3. Election timeout: 300ms. In charge for: 453ms. Conf: 3: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:01,163 [Thread-1888] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1021)) - Follower s0@group-F8D60CD02D9E->s1(c3,m4,n5, attendVote=true, lastRpcSendTime=340, lastRpcResponseTime=415)
2022-07-14 02:39:01,163 [Thread-1904] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-F8D60CD02D9E: receive requestVote(PRE_VOTE, s1, group-F8D60CD02D9E, 3, (t:3, i:4))
2022-07-14 02:39:01,163 [Thread-1888] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1021)) - Follower s0@group-F8D60CD02D9E->s2(c4,m4,n5, attendVote=true, lastRpcSendTime=336, lastRpcResponseTime=411)
2022-07-14 02:39:01,163 [Thread-1904] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-F8D60CD02D9E-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-07-14 02:39:01,163 [Thread-1888] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s0@group-F8D60CD02D9E: changes role from    LEADER to FOLLOWER at term 3 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2022-07-14 02:39:01,163 [Thread-1904] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-F8D60CD02D9E replies to PRE_VOTE vote request: s1<-s2#0:OK-t3. Peer's state: s2@group-F8D60CD02D9E:t3, leader=s0, voted=s0, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c4, conf=3: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:01,163 [Thread-1888] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-F8D60CD02D9E-LeaderStateImpl
2022-07-14 02:39:01,163 [Thread-1888] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-F8D60CD02D9E-PendingRequests: sendNotLeaderResponses
2022-07-14 02:39:01,164 [s0@group-F8D60CD02D9E->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s0@group-F8D60CD02D9E->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-07-14 02:39:01,164 [s0@group-F8D60CD02D9E->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s0@group-F8D60CD02D9E->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-07-14 02:39:01,164 [Thread-1888] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-F8D60CD02D9E-FollowerState
2022-07-14 02:39:01,165 [Thread-1888] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-F8D60CD02D9E-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s0
2022-07-14 02:39:01,165 [Thread-1888] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s0@group-F8D60CD02D9E replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t3. Peer's state: s0@group-F8D60CD02D9E:t3, leader=s0, voted=s0, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c4, conf=3: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:01,165 [s1@group-F8D60CD02D9E-LeaderElection68] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-F8D60CD02D9E-LeaderElection68: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-07-14 02:39:01,165 [s1@group-F8D60CD02D9E-LeaderElection68] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s2#0:OK-t3
2022-07-14 02:39:01,165 [s1@group-F8D60CD02D9E-LeaderElection68] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-F8D60CD02D9E-LeaderElection68 PRE_VOTE round 0: result PASSED
2022-07-14 02:39:01,169 [s1@group-F8D60CD02D9E-LeaderElection68] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-F8D60CD02D9E-LeaderElection68 ELECTION round 0: submit vote requests at term 4 for 3: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:01,169 [Thread-1889] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s0@group-F8D60CD02D9E: receive requestVote(ELECTION, s1, group-F8D60CD02D9E, 4, (t:3, i:4))
2022-07-14 02:39:01,169 [Thread-1905] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-F8D60CD02D9E: receive requestVote(ELECTION, s1, group-F8D60CD02D9E, 4, (t:3, i:4))
2022-07-14 02:39:01,169 [Thread-1889] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-F8D60CD02D9E-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-07-14 02:39:01,170 [Thread-1889] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s0@group-F8D60CD02D9E: change Leader from s0 to null at term 4 for updateCurrentTerm
2022-07-14 02:39:01,170 [Thread-1889] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s0@group-F8D60CD02D9E: changes role from  FOLLOWER to FOLLOWER at term 4 for candidate:s1
2022-07-14 02:39:01,170 [Thread-1889] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-F8D60CD02D9E-FollowerState
2022-07-14 02:39:01,170 [Thread-1905] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-F8D60CD02D9E-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-07-14 02:39:01,170 [Thread-1905] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s2@group-F8D60CD02D9E: change Leader from s0 to null at term 4 for updateCurrentTerm
2022-07-14 02:39:01,170 [Thread-1905] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-F8D60CD02D9E: changes role from  FOLLOWER to FOLLOWER at term 4 for candidate:s1
2022-07-14 02:39:01,170 [Thread-1905] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-F8D60CD02D9E-FollowerState
2022-07-14 02:39:01,170 [Thread-1889] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-F8D60CD02D9E-FollowerState
2022-07-14 02:39:01,170 [s0@group-F8D60CD02D9E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-F8D60CD02D9E-FollowerState was interrupted
2022-07-14 02:39:01,170 [Thread-1905] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-F8D60CD02D9E-FollowerState
2022-07-14 02:39:01,170 [s2@group-F8D60CD02D9E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-F8D60CD02D9E-FollowerState was interrupted
2022-07-14 02:39:01,172 [Thread-1889] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s0@group-F8D60CD02D9E replies to ELECTION vote request: s1<-s0#0:OK-t4. Peer's state: s0@group-F8D60CD02D9E:t4, leader=null, voted=s1, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c4, conf=3: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:01,172 [Thread-1905] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-F8D60CD02D9E replies to ELECTION vote request: s1<-s2#0:OK-t4. Peer's state: s2@group-F8D60CD02D9E:t4, leader=null, voted=s1, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c4, conf=3: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:01,173 [s1@group-F8D60CD02D9E-LeaderElection68] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-F8D60CD02D9E-LeaderElection68: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-07-14 02:39:01,173 [s1@group-F8D60CD02D9E-LeaderElection68] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s2#0:OK-t4
2022-07-14 02:39:01,173 [s1@group-F8D60CD02D9E-LeaderElection68] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-F8D60CD02D9E-LeaderElection68 ELECTION round 0: result PASSED
2022-07-14 02:39:01,173 [s1@group-F8D60CD02D9E-LeaderElection68] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-F8D60CD02D9E-LeaderElection68
2022-07-14 02:39:01,173 [s1@group-F8D60CD02D9E-LeaderElection68] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-F8D60CD02D9E: changes role from CANDIDATE to LEADER at term 4 for changeToLeader
2022-07-14 02:39:01,173 [s1@group-F8D60CD02D9E-LeaderElection68] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s1@group-F8D60CD02D9E: change Leader from null to s1 at term 4 for becomeLeader, leader elected after 10ms
2022-07-14 02:39:01,173 [s1@group-F8D60CD02D9E-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-07-14 02:39:01,173 [s1@group-F8D60CD02D9E-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-14 02:39:01,173 [s1@group-F8D60CD02D9E-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-07-14 02:39:01,173 [s1@group-F8D60CD02D9E-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-07-14 02:39:01,173 [s1@group-F8D60CD02D9E-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-07-14 02:39:01,173 [s1@group-F8D60CD02D9E-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-07-14 02:39:01,173 [s1@group-F8D60CD02D9E-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-14 02:39:01,173 [s1@group-F8D60CD02D9E-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-07-14 02:39:01,174 [s1@group-F8D60CD02D9E-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-14 02:39:01,174 [s1@group-F8D60CD02D9E-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:39:01,174 [s1@group-F8D60CD02D9E-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-14 02:39:01,174 [s1@group-F8D60CD02D9E-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-14 02:39:01,174 [s1@group-F8D60CD02D9E-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:39:01,174 [s1@group-F8D60CD02D9E-LeaderElection68] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-14 02:39:01,174 [s1@group-F8D60CD02D9E-LeaderElection68] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-F8D60CD02D9E-LeaderStateImpl
2022-07-14 02:39:01,174 [s1@group-F8D60CD02D9E-LeaderElection68] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: Rolling segment log-3_4 to index:4
2022-07-14 02:39:01,174 [s1@group-F8D60CD02D9E-LeaderElection68] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:4: startIndex=3 endIndex=4
2022-07-14 02:39:01,174 [s1@group-F8D60CD02D9E-LeaderElection68] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task StartLogSegment:5
2022-07-14 02:39:01,174 [s1@group-F8D60CD02D9E-LeaderElection68] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task WriteLog:5: (t:4, i:5), CONFIGURATIONENTRY
2022-07-14 02:39:01,175 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_3 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_3-4
2022-07-14 02:39:01,175 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_3 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_3-4
2022-07-14 02:39:01,175 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 4 -> 4
2022-07-14 02:39:01,175 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=2, new=4, updated? true
2022-07-14 02:39:01,179 [s1@group-F8D60CD02D9E-LeaderElection68] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s1@group-F8D60CD02D9E: set configuration 5: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:01,179 [Thread-1903] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s2@group-F8D60CD02D9E: change Leader from null to s1 at term 4 for appendEntries, leader elected after 9ms
2022-07-14 02:39:01,180 [Thread-1890] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s0@group-F8D60CD02D9E: change Leader from null to s1 at term 4 for appendEntries, leader elected after 10ms
2022-07-14 02:39:01,181 [Thread-1904] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-F8D60CD02D9E: receive appendEntries(s1, 4, (t:3, i:4), 3, true, commits[s1:c3, s0:c3, s2:c4], entries: (t:4, i:5), CONFIGURATIONENTRY
2022-07-14 02:39:01,181 [Thread-1904] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s2@group-F8D60CD02D9E: set configuration 5: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:01,181 [Thread-1904] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: Rolling segment log-3_4 to index:4
2022-07-14 02:39:01,181 [Thread-1904] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:4: startIndex=3 endIndex=4
2022-07-14 02:39:01,181 [Thread-1904] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task StartLogSegment:5
2022-07-14 02:39:01,181 [Thread-1904] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task WriteLog:5: (t:4, i:5), CONFIGURATIONENTRY
2022-07-14 02:39:01,182 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_3 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_3-4
2022-07-14 02:39:01,182 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_3 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_3-4
2022-07-14 02:39:01,182 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 4 -> 4
2022-07-14 02:39:01,182 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=2, new=4, updated? true
2022-07-14 02:39:01,185 [Thread-1888] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s0@group-F8D60CD02D9E: receive appendEntries(s1, 4, (t:3, i:4), 3, true, commits[s1:c3, s0:c4, s2:c4], entries: (t:4, i:5), CONFIGURATIONENTRY
2022-07-14 02:39:01,185 [Thread-1888] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s0@group-F8D60CD02D9E: set configuration 5: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:01,185 [Thread-1888] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: Rolling segment log-3_4 to index:4
2022-07-14 02:39:01,185 [Thread-1888] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:4: startIndex=3 endIndex=4
2022-07-14 02:39:01,185 [Thread-1888] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task StartLogSegment:5
2022-07-14 02:39:01,185 [Thread-1888] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task WriteLog:5: (t:4, i:5), CONFIGURATIONENTRY
2022-07-14 02:39:01,186 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_3 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_3-4
2022-07-14 02:39:01,186 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_3 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_3-4
2022-07-14 02:39:01,186 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 4 -> 4
2022-07-14 02:39:01,186 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=2, new=4, updated? true
2022-07-14 02:39:01,189 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_5
2022-07-14 02:39:01,189 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_5)
2022-07-14 02:39:01,193 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 4 -> 5
2022-07-14 02:39:01,194 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:39:01,194 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t4, leader=s1, voted=s1, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c4, conf=5: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-F8D60CD02D9E:t4, leader=s1, voted=s1, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c3, conf=5: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F8D60CD02D9E:t4, leader=s1, voted=s1, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c4, conf=5: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:01,194 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: Leader: s1@group-F8D60CD02D9E not ready, sleep 450ms and then retry.
java.lang.IllegalStateException: Leader: s1@group-F8D60CD02D9E not ready
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:114)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:431)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:39:01,205 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_5
2022-07-14 02:39:01,205 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_5
2022-07-14 02:39:01,206 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_5)
2022-07-14 02:39:01,206 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_5)
2022-07-14 02:39:01,206 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 4 -> 5
2022-07-14 02:39:01,206 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 4 -> 5
2022-07-14 02:39:01,206 [Thread-2017] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-F8D60CD02D9E: succeeded to handle AppendEntries. Reply: s1<-s2#1116:OK-t4,SUCCESS,nextIndex=6,followerCommit=4
2022-07-14 02:39:01,206 [Thread-2016] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s0@group-F8D60CD02D9E: succeeded to handle AppendEntries. Reply: s1<-s0#1117:OK-t4,SUCCESS,nextIndex=6,followerCommit=4
2022-07-14 02:39:01,207 [s1@group-F8D60CD02D9E-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task WriteLog:6: (t:4, i:6), METADATAENTRY(c:5)
2022-07-14 02:39:01,207 [Thread-1889] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s0@group-F8D60CD02D9E: receive appendEntries(s1, 4, (t:4, i:5), 5, true, commits[s1:c5, s0:c4, s2:c4], entries: (t:4, i:6), METADATAENTRY(c:5)
2022-07-14 02:39:01,207 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_5)
2022-07-14 02:39:01,207 [Thread-1889] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task WriteLog:6: (t:4, i:6), METADATAENTRY(c:5)
2022-07-14 02:39:01,208 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_5)
2022-07-14 02:39:01,208 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 5 -> 6
2022-07-14 02:39:01,209 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 5 -> 6
2022-07-14 02:39:01,209 [Thread-1905] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-F8D60CD02D9E: receive appendEntries(s1, 4, (t:4, i:5), 5, true, commits[s1:c5, s0:c4, s2:c4], entries: (t:4, i:6), METADATAENTRY(c:5)
2022-07-14 02:39:01,210 [Thread-1905] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task WriteLog:6: (t:4, i:6), METADATAENTRY(c:5)
2022-07-14 02:39:01,210 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_5)
2022-07-14 02:39:01,210 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 5 -> 6
2022-07-14 02:39:01,210 [Thread-2018] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s0@group-F8D60CD02D9E: succeeded to handle AppendEntries. Reply: s1<-s0#1118:OK-t4,SUCCESS,nextIndex=7,followerCommit=5
2022-07-14 02:39:01,211 [Thread-2019] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-F8D60CD02D9E: succeeded to handle AppendEntries. Reply: s1<-s2#1119:OK-t4,SUCCESS,nextIndex=7,followerCommit=5
2022-07-14 02:39:01,646 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t4, leader=s1, voted=s1, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-F8D60CD02D9E:t4, leader=s1, voted=s1, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F8D60CD02D9E:t4, leader=s1, voted=s1, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:01,646 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s0 to s1
2022-07-14 02:39:01,646 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:39:01,647 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t4, leader=s1, voted=s1, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-F8D60CD02D9E:t4, leader=s1, voted=s1, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F8D60CD02D9E:t4, leader=s1, voted=s1, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:01,647 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t4, leader=s1, voted=s1, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-F8D60CD02D9E:t4, leader=s1, voted=s1, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F8D60CD02D9E:t4, leader=s1, voted=s1, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:01,647 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:39:01,748 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:39:01,748 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t4, leader=s1, voted=s1, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-F8D60CD02D9E:t4, leader=s1, voted=s1, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F8D60CD02D9E:t4, leader=s1, voted=s1, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:01,748 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t4, leader=s1, voted=s1, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-F8D60CD02D9E:t4, leader=s1, voted=s1, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F8D60CD02D9E:t4, leader=s1, voted=s1, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:01,748 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:39:01,849 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:39:01,849 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t4, leader=s1, voted=s1, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-F8D60CD02D9E:t4, leader=s1, voted=s1, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F8D60CD02D9E:t4, leader=s1, voted=s1, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:01,850 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t4, leader=s1, voted=s1, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-F8D60CD02D9E:t4, leader=s1, voted=s1, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F8D60CD02D9E:t4, leader=s1, voted=s1, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:01,850 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:39:01,933 [s2@group-F8D60CD02D9E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-F8D60CD02D9E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:340320179ns, electionTimeout:284ms
2022-07-14 02:39:01,933 [s2@group-F8D60CD02D9E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-F8D60CD02D9E-FollowerState
2022-07-14 02:39:01,933 [s2@group-F8D60CD02D9E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-F8D60CD02D9E: changes role from  FOLLOWER to CANDIDATE at term 4 for changeToCandidate
2022-07-14 02:39:01,933 [s2@group-F8D60CD02D9E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:39:01,933 [s2@group-F8D60CD02D9E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-F8D60CD02D9E-LeaderElection69
2022-07-14 02:39:01,934 [s2@group-F8D60CD02D9E-LeaderElection69] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s2@group-F8D60CD02D9E: change Leader from s1 to null at term 4 for PRE_VOTE
2022-07-14 02:39:01,934 [s2@group-F8D60CD02D9E-LeaderElection69] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-F8D60CD02D9E-LeaderElection69 PRE_VOTE round 0: submit vote requests at term 4 for 5: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:01,934 [Thread-1897] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-F8D60CD02D9E: receive requestVote(PRE_VOTE, s2, group-F8D60CD02D9E, 4, (t:4, i:6))
2022-07-14 02:39:01,935 [Thread-1897] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1017)) - s1@group-F8D60CD02D9E-LeaderStateImpl: Lost leadership on term: 4. Election timeout: 300ms. In charge for: 761ms. Conf: 5: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:01,935 [Thread-1897] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1021)) - Follower s1@group-F8D60CD02D9E->s0(c6,m6,n7, attendVote=true, lastRpcSendTime=269, lastRpcResponseTime=344)
2022-07-14 02:39:01,935 [Thread-1897] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1021)) - Follower s1@group-F8D60CD02D9E->s2(c6,m6,n7, attendVote=true, lastRpcSendTime=266, lastRpcResponseTime=342)
2022-07-14 02:39:01,935 [Thread-1897] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-F8D60CD02D9E: changes role from    LEADER to FOLLOWER at term 4 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2022-07-14 02:39:01,935 [Thread-1897] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-F8D60CD02D9E-LeaderStateImpl
2022-07-14 02:39:01,935 [Thread-1897] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-F8D60CD02D9E-PendingRequests: sendNotLeaderResponses
2022-07-14 02:39:01,935 [s1@group-F8D60CD02D9E->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s1@group-F8D60CD02D9E->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-07-14 02:39:01,936 [s1@group-F8D60CD02D9E->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s1@group-F8D60CD02D9E->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-07-14 02:39:01,936 [Thread-1897] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-F8D60CD02D9E-FollowerState
2022-07-14 02:39:01,936 [Thread-1890] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s0@group-F8D60CD02D9E: receive requestVote(PRE_VOTE, s2, group-F8D60CD02D9E, 4, (t:4, i:6))
2022-07-14 02:39:01,936 [Thread-1897] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-F8D60CD02D9E-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s1
2022-07-14 02:39:01,936 [Thread-1890] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-F8D60CD02D9E-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-07-14 02:39:01,937 [Thread-1897] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-F8D60CD02D9E replies to PRE_VOTE vote request: s2<-s1#0:FAIL-t4. Peer's state: s1@group-F8D60CD02D9E:t4, leader=s1, voted=s1, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:01,937 [Thread-1890] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s0@group-F8D60CD02D9E replies to PRE_VOTE vote request: s2<-s0#0:OK-t4. Peer's state: s0@group-F8D60CD02D9E:t4, leader=s1, voted=s1, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:01,937 [s2@group-F8D60CD02D9E-LeaderElection69] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-F8D60CD02D9E-LeaderElection69: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-07-14 02:39:01,937 [s2@group-F8D60CD02D9E-LeaderElection69] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:OK-t4
2022-07-14 02:39:01,937 [s2@group-F8D60CD02D9E-LeaderElection69] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-F8D60CD02D9E-LeaderElection69 PRE_VOTE round 0: result PASSED
2022-07-14 02:39:01,939 [s2@group-F8D60CD02D9E-LeaderElection69] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-F8D60CD02D9E-LeaderElection69 ELECTION round 0: submit vote requests at term 5 for 5: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:01,939 [Thread-1888] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s0@group-F8D60CD02D9E: receive requestVote(ELECTION, s2, group-F8D60CD02D9E, 5, (t:4, i:6))
2022-07-14 02:39:01,940 [Thread-1888] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-F8D60CD02D9E-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-07-14 02:39:01,940 [Thread-1888] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s0@group-F8D60CD02D9E: change Leader from s1 to null at term 5 for updateCurrentTerm
2022-07-14 02:39:01,940 [Thread-1888] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s0@group-F8D60CD02D9E: changes role from  FOLLOWER to FOLLOWER at term 5 for candidate:s2
2022-07-14 02:39:01,940 [Thread-1888] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-F8D60CD02D9E-FollowerState
2022-07-14 02:39:01,940 [Thread-1898] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-F8D60CD02D9E: receive requestVote(ELECTION, s2, group-F8D60CD02D9E, 5, (t:4, i:6))
2022-07-14 02:39:01,940 [Thread-1888] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-F8D60CD02D9E-FollowerState
2022-07-14 02:39:01,940 [Thread-1898] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-F8D60CD02D9E-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-07-14 02:39:01,940 [Thread-1898] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s1@group-F8D60CD02D9E: change Leader from s1 to null at term 5 for updateCurrentTerm
2022-07-14 02:39:01,940 [Thread-1898] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-F8D60CD02D9E: changes role from  FOLLOWER to FOLLOWER at term 5 for candidate:s2
2022-07-14 02:39:01,940 [Thread-1898] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-F8D60CD02D9E-FollowerState
2022-07-14 02:39:01,940 [s0@group-F8D60CD02D9E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-F8D60CD02D9E-FollowerState was interrupted
2022-07-14 02:39:01,940 [Thread-1898] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-F8D60CD02D9E-FollowerState
2022-07-14 02:39:01,941 [s1@group-F8D60CD02D9E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-F8D60CD02D9E-FollowerState was interrupted
2022-07-14 02:39:01,942 [Thread-1888] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s0@group-F8D60CD02D9E replies to ELECTION vote request: s2<-s0#0:OK-t5. Peer's state: s0@group-F8D60CD02D9E:t5, leader=null, voted=s2, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:01,942 [s2@group-F8D60CD02D9E-LeaderElection69] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-F8D60CD02D9E-LeaderElection69: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-07-14 02:39:01,943 [s2@group-F8D60CD02D9E-LeaderElection69] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:OK-t5
2022-07-14 02:39:01,943 [s2@group-F8D60CD02D9E-LeaderElection69] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-F8D60CD02D9E-LeaderElection69 ELECTION round 0: result PASSED
2022-07-14 02:39:01,943 [s2@group-F8D60CD02D9E-LeaderElection69] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-F8D60CD02D9E-LeaderElection69
2022-07-14 02:39:01,943 [s2@group-F8D60CD02D9E-LeaderElection69] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-F8D60CD02D9E: changes role from CANDIDATE to LEADER at term 5 for changeToLeader
2022-07-14 02:39:01,943 [s2@group-F8D60CD02D9E-LeaderElection69] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s2@group-F8D60CD02D9E: change Leader from null to s2 at term 5 for becomeLeader, leader elected after 8ms
2022-07-14 02:39:01,943 [s2@group-F8D60CD02D9E-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-07-14 02:39:01,943 [Thread-1898] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-F8D60CD02D9E replies to ELECTION vote request: s2<-s1#0:OK-t5. Peer's state: s1@group-F8D60CD02D9E:t5, leader=null, voted=s2, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:01,943 [s2@group-F8D60CD02D9E-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-14 02:39:01,943 [s2@group-F8D60CD02D9E-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-07-14 02:39:01,943 [s2@group-F8D60CD02D9E-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-07-14 02:39:01,943 [s2@group-F8D60CD02D9E-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-07-14 02:39:01,943 [s2@group-F8D60CD02D9E-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-07-14 02:39:01,943 [s2@group-F8D60CD02D9E-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-14 02:39:01,943 [s2@group-F8D60CD02D9E-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-07-14 02:39:01,943 [s2@group-F8D60CD02D9E-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-14 02:39:01,943 [s2@group-F8D60CD02D9E-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:39:01,944 [s2@group-F8D60CD02D9E-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-14 02:39:01,944 [s2@group-F8D60CD02D9E-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-14 02:39:01,944 [s2@group-F8D60CD02D9E-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:39:01,944 [s2@group-F8D60CD02D9E-LeaderElection69] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-14 02:39:01,944 [s2@group-F8D60CD02D9E-LeaderElection69] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-F8D60CD02D9E-LeaderStateImpl
2022-07-14 02:39:01,944 [s2@group-F8D60CD02D9E-LeaderElection69] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: Rolling segment log-5_6 to index:6
2022-07-14 02:39:01,944 [s2@group-F8D60CD02D9E-LeaderElection69] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:6: startIndex=5 endIndex=6
2022-07-14 02:39:01,944 [s2@group-F8D60CD02D9E-LeaderElection69] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task StartLogSegment:7
2022-07-14 02:39:01,944 [s2@group-F8D60CD02D9E-LeaderElection69] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task WriteLog:7: (t:5, i:7), CONFIGURATIONENTRY
2022-07-14 02:39:01,945 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_5 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_5-6
2022-07-14 02:39:01,945 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_5 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_5-6
2022-07-14 02:39:01,945 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 6 -> 6
2022-07-14 02:39:01,945 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=4, new=6, updated? true
2022-07-14 02:39:01,949 [s2@group-F8D60CD02D9E-LeaderElection69] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s2@group-F8D60CD02D9E: set configuration 7: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:01,949 [Thread-1889] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s0@group-F8D60CD02D9E: change Leader from null to s2 at term 5 for appendEntries, leader elected after 9ms
2022-07-14 02:39:01,950 [Thread-1896] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s1@group-F8D60CD02D9E: change Leader from null to s2 at term 5 for appendEntries, leader elected after 9ms
2022-07-14 02:39:01,950 [Thread-1890] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s0@group-F8D60CD02D9E: receive appendEntries(s2, 5, (t:4, i:6), 6, true, commits[s2:c6, s0:c6, s1:c6], entries: (t:5, i:7), CONFIGURATIONENTRY
2022-07-14 02:39:01,950 [Thread-1890] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s0@group-F8D60CD02D9E: set configuration 7: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:01,950 [Thread-1890] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: Rolling segment log-5_6 to index:6
2022-07-14 02:39:01,950 [Thread-1890] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:6: startIndex=5 endIndex=6
2022-07-14 02:39:01,950 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:39:01,950 [Thread-1890] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task StartLogSegment:7
2022-07-14 02:39:01,951 [Thread-1890] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task WriteLog:7: (t:5, i:7), CONFIGURATIONENTRY
2022-07-14 02:39:01,951 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t5, leader=s2, voted=s2, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c6, conf=7: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F8D60CD02D9E:t5, leader=s2, voted=s2, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c6, conf=5: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-F8D60CD02D9E:t5, leader=s2, voted=s2, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c6, conf=7: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:01,951 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: Leader: s2@group-F8D60CD02D9E not ready, sleep 450ms and then retry.
java.lang.IllegalStateException: Leader: s2@group-F8D60CD02D9E not ready
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:114)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:431)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:39:01,951 [Thread-1897] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-F8D60CD02D9E: receive appendEntries(s2, 5, (t:4, i:6), 6, true, commits[s2:c6, s0:c6, s1:c6], entries: (t:5, i:7), CONFIGURATIONENTRY
2022-07-14 02:39:01,951 [Thread-1897] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s1@group-F8D60CD02D9E: set configuration 7: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:01,951 [Thread-1897] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: Rolling segment log-5_6 to index:6
2022-07-14 02:39:01,951 [Thread-1897] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:6: startIndex=5 endIndex=6
2022-07-14 02:39:01,951 [Thread-1897] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task StartLogSegment:7
2022-07-14 02:39:01,952 [Thread-1897] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task WriteLog:7: (t:5, i:7), CONFIGURATIONENTRY
2022-07-14 02:39:01,952 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_5 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_5-6
2022-07-14 02:39:01,952 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_5 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_5-6
2022-07-14 02:39:01,952 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 6 -> 6
2022-07-14 02:39:01,952 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=4, new=6, updated? true
2022-07-14 02:39:01,952 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_5 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_5-6
2022-07-14 02:39:01,952 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_5 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_5-6
2022-07-14 02:39:01,952 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 6 -> 6
2022-07-14 02:39:01,952 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=4, new=6, updated? true
2022-07-14 02:39:01,971 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_7
2022-07-14 02:39:01,971 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_7
2022-07-14 02:39:01,972 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_7)
2022-07-14 02:39:01,972 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_7
2022-07-14 02:39:01,972 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 6 -> 7
2022-07-14 02:39:01,972 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_7)
2022-07-14 02:39:01,972 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_7)
2022-07-14 02:39:01,972 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 6 -> 7
2022-07-14 02:39:01,972 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 6 -> 7
2022-07-14 02:39:01,973 [Thread-2061] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s0@group-F8D60CD02D9E: succeeded to handle AppendEntries. Reply: s2<-s0#1152:OK-t5,SUCCESS,nextIndex=8,followerCommit=6
2022-07-14 02:39:01,973 [Thread-2062] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-F8D60CD02D9E: succeeded to handle AppendEntries. Reply: s2<-s1#1153:OK-t5,SUCCESS,nextIndex=8,followerCommit=6
2022-07-14 02:39:01,973 [s2@group-F8D60CD02D9E-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task WriteLog:8: (t:5, i:8), METADATAENTRY(c:7)
2022-07-14 02:39:01,974 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_7)
2022-07-14 02:39:01,974 [Thread-1898] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-F8D60CD02D9E: receive appendEntries(s2, 5, (t:5, i:7), 7, true, commits[s2:c7, s0:c6, s1:c6], entries: (t:5, i:8), METADATAENTRY(c:7)
2022-07-14 02:39:01,974 [Thread-1888] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s0@group-F8D60CD02D9E: receive appendEntries(s2, 5, (t:5, i:7), 7, true, commits[s2:c7, s0:c6, s1:c6], entries: (t:5, i:8), METADATAENTRY(c:7)
2022-07-14 02:39:01,974 [Thread-1898] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task WriteLog:8: (t:5, i:8), METADATAENTRY(c:7)
2022-07-14 02:39:01,974 [Thread-1888] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task WriteLog:8: (t:5, i:8), METADATAENTRY(c:7)
2022-07-14 02:39:01,974 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_7)
2022-07-14 02:39:01,975 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_7)
2022-07-14 02:39:01,975 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 7 -> 8
2022-07-14 02:39:01,975 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 7 -> 8
2022-07-14 02:39:01,975 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 7 -> 8
2022-07-14 02:39:01,976 [Thread-2063] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s0@group-F8D60CD02D9E: succeeded to handle AppendEntries. Reply: s2<-s0#1155:OK-t5,SUCCESS,nextIndex=9,followerCommit=7
2022-07-14 02:39:01,976 [Thread-2064] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-F8D60CD02D9E: succeeded to handle AppendEntries. Reply: s2<-s1#1154:OK-t5,SUCCESS,nextIndex=9,followerCommit=7
2022-07-14 02:39:02,401 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t5, leader=s2, voted=s2, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F8D60CD02D9E:t5, leader=s2, voted=s2, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-F8D60CD02D9E:t5, leader=s2, voted=s2, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:02,402 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s1 to s2
2022-07-14 02:39:02,402 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:39:02,402 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t5, leader=s2, voted=s2, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F8D60CD02D9E:t5, leader=s2, voted=s2, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-F8D60CD02D9E:t5, leader=s2, voted=s2, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:02,402 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t5, leader=s2, voted=s2, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F8D60CD02D9E:t5, leader=s2, voted=s2, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-F8D60CD02D9E:t5, leader=s2, voted=s2, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:02,402 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:39:02,503 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:39:02,503 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t5, leader=s2, voted=s2, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F8D60CD02D9E:t5, leader=s2, voted=s2, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-F8D60CD02D9E:t5, leader=s2, voted=s2, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:02,503 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t5, leader=s2, voted=s2, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F8D60CD02D9E:t5, leader=s2, voted=s2, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-F8D60CD02D9E:t5, leader=s2, voted=s2, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:02,503 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:39:02,604 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:39:02,604 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t5, leader=s2, voted=s2, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F8D60CD02D9E:t5, leader=s2, voted=s2, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-F8D60CD02D9E:t5, leader=s2, voted=s2, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:02,605 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t5, leader=s2, voted=s2, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F8D60CD02D9E:t5, leader=s2, voted=s2, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-F8D60CD02D9E:t5, leader=s2, voted=s2, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:02,605 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:39:02,618 [s1@group-F8D60CD02D9E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-F8D60CD02D9E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:261656431ns, electionTimeout:251ms
2022-07-14 02:39:02,618 [s1@group-F8D60CD02D9E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-F8D60CD02D9E-FollowerState
2022-07-14 02:39:02,618 [s1@group-F8D60CD02D9E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-F8D60CD02D9E: changes role from  FOLLOWER to CANDIDATE at term 5 for changeToCandidate
2022-07-14 02:39:02,618 [s1@group-F8D60CD02D9E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:39:02,618 [s1@group-F8D60CD02D9E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-F8D60CD02D9E-LeaderElection70
2022-07-14 02:39:02,618 [s1@group-F8D60CD02D9E-LeaderElection70] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s1@group-F8D60CD02D9E: change Leader from s2 to null at term 5 for PRE_VOTE
2022-07-14 02:39:02,618 [s1@group-F8D60CD02D9E-LeaderElection70] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-F8D60CD02D9E-LeaderElection70 PRE_VOTE round 0: submit vote requests at term 5 for 7: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:02,619 [Thread-1889] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s0@group-F8D60CD02D9E: receive requestVote(PRE_VOTE, s1, group-F8D60CD02D9E, 5, (t:5, i:8))
2022-07-14 02:39:02,619 [Thread-1889] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-F8D60CD02D9E-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-07-14 02:39:02,619 [Thread-1889] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s0@group-F8D60CD02D9E replies to PRE_VOTE vote request: s1<-s0#0:OK-t5. Peer's state: s0@group-F8D60CD02D9E:t5, leader=s2, voted=s2, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:02,619 [s1@group-F8D60CD02D9E-LeaderElection70] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-F8D60CD02D9E-LeaderElection70: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-07-14 02:39:02,619 [s1@group-F8D60CD02D9E-LeaderElection70] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t5
2022-07-14 02:39:02,619 [s1@group-F8D60CD02D9E-LeaderElection70] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-F8D60CD02D9E-LeaderElection70 PRE_VOTE round 0: result PASSED
2022-07-14 02:39:02,620 [Thread-1903] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-F8D60CD02D9E: receive requestVote(PRE_VOTE, s1, group-F8D60CD02D9E, 5, (t:5, i:8))
2022-07-14 02:39:02,620 [Thread-1903] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-F8D60CD02D9E-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2022-07-14 02:39:02,620 [Thread-1903] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-F8D60CD02D9E replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t5. Peer's state: s2@group-F8D60CD02D9E:t5, leader=s2, voted=s2, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:02,622 [s1@group-F8D60CD02D9E-LeaderElection70] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-F8D60CD02D9E-LeaderElection70 ELECTION round 0: submit vote requests at term 6 for 7: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:02,622 [Thread-1890] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s0@group-F8D60CD02D9E: receive requestVote(ELECTION, s1, group-F8D60CD02D9E, 6, (t:5, i:8))
2022-07-14 02:39:02,622 [Thread-1890] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-F8D60CD02D9E-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-07-14 02:39:02,622 [Thread-1904] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-F8D60CD02D9E: receive requestVote(ELECTION, s1, group-F8D60CD02D9E, 6, (t:5, i:8))
2022-07-14 02:39:02,622 [Thread-1890] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s0@group-F8D60CD02D9E: change Leader from s2 to null at term 6 for updateCurrentTerm
2022-07-14 02:39:02,622 [Thread-1904] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-F8D60CD02D9E-LEADER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-07-14 02:39:02,622 [Thread-1904] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s2@group-F8D60CD02D9E: change Leader from s2 to null at term 6 for updateCurrentTerm
2022-07-14 02:39:02,622 [Thread-1904] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-F8D60CD02D9E: changes role from    LEADER to FOLLOWER at term 6 for candidate:s1
2022-07-14 02:39:02,622 [Thread-1904] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-F8D60CD02D9E-LeaderStateImpl
2022-07-14 02:39:02,622 [s2@group-F8D60CD02D9E->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s2@group-F8D60CD02D9E->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-07-14 02:39:02,623 [s2@group-F8D60CD02D9E->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s2@group-F8D60CD02D9E->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-07-14 02:39:02,622 [Thread-1890] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s0@group-F8D60CD02D9E: changes role from  FOLLOWER to FOLLOWER at term 6 for candidate:s1
2022-07-14 02:39:02,623 [Thread-1890] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-F8D60CD02D9E-FollowerState
2022-07-14 02:39:02,623 [Thread-1890] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-F8D60CD02D9E-FollowerState
2022-07-14 02:39:02,623 [s0@group-F8D60CD02D9E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-F8D60CD02D9E-FollowerState was interrupted
2022-07-14 02:39:02,622 [Thread-1904] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s2@group-F8D60CD02D9E-PendingRequests: sendNotLeaderResponses
2022-07-14 02:39:02,624 [Thread-1904] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-F8D60CD02D9E-FollowerState
2022-07-14 02:39:02,625 [Thread-1904] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-F8D60CD02D9E replies to ELECTION vote request: s1<-s2#0:OK-t6. Peer's state: s2@group-F8D60CD02D9E:t6, leader=null, voted=s1, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:02,625 [Thread-1890] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s0@group-F8D60CD02D9E replies to ELECTION vote request: s1<-s0#0:OK-t6. Peer's state: s0@group-F8D60CD02D9E:t6, leader=null, voted=s1, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c8, conf=7: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:02,625 [s1@group-F8D60CD02D9E-LeaderElection70] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-F8D60CD02D9E-LeaderElection70: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-07-14 02:39:02,625 [s1@group-F8D60CD02D9E-LeaderElection70] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s2#0:OK-t6
2022-07-14 02:39:02,625 [s1@group-F8D60CD02D9E-LeaderElection70] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-F8D60CD02D9E-LeaderElection70 ELECTION round 0: result PASSED
2022-07-14 02:39:02,625 [s1@group-F8D60CD02D9E-LeaderElection70] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-F8D60CD02D9E-LeaderElection70
2022-07-14 02:39:02,625 [s1@group-F8D60CD02D9E-LeaderElection70] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-F8D60CD02D9E: changes role from CANDIDATE to LEADER at term 6 for changeToLeader
2022-07-14 02:39:02,626 [s1@group-F8D60CD02D9E-LeaderElection70] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s1@group-F8D60CD02D9E: change Leader from null to s1 at term 6 for becomeLeader, leader elected after 7ms
2022-07-14 02:39:02,626 [s1@group-F8D60CD02D9E-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-07-14 02:39:02,626 [s1@group-F8D60CD02D9E-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-14 02:39:02,626 [s1@group-F8D60CD02D9E-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-07-14 02:39:02,626 [s1@group-F8D60CD02D9E-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-07-14 02:39:02,626 [s1@group-F8D60CD02D9E-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-07-14 02:39:02,626 [s1@group-F8D60CD02D9E-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-07-14 02:39:02,626 [s1@group-F8D60CD02D9E-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-14 02:39:02,626 [s1@group-F8D60CD02D9E-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-07-14 02:39:02,626 [s1@group-F8D60CD02D9E-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-14 02:39:02,626 [s1@group-F8D60CD02D9E-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:39:02,626 [s1@group-F8D60CD02D9E-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-14 02:39:02,626 [s1@group-F8D60CD02D9E-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-14 02:39:02,627 [s1@group-F8D60CD02D9E-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:39:02,627 [s1@group-F8D60CD02D9E-LeaderElection70] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-14 02:39:02,627 [s1@group-F8D60CD02D9E-LeaderElection70] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-F8D60CD02D9E-LeaderStateImpl
2022-07-14 02:39:02,627 [s1@group-F8D60CD02D9E-LeaderElection70] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: Rolling segment log-7_8 to index:8
2022-07-14 02:39:02,627 [s1@group-F8D60CD02D9E-LeaderElection70] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:8: startIndex=7 endIndex=8
2022-07-14 02:39:02,627 [s1@group-F8D60CD02D9E-LeaderElection70] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task StartLogSegment:9
2022-07-14 02:39:02,627 [s1@group-F8D60CD02D9E-LeaderElection70] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task WriteLog:9: (t:6, i:9), CONFIGURATIONENTRY
2022-07-14 02:39:02,628 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_7 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_7-8
2022-07-14 02:39:02,628 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_7 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_7-8
2022-07-14 02:39:02,628 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 8 -> 8
2022-07-14 02:39:02,628 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=6, new=8, updated? true
2022-07-14 02:39:02,632 [s1@group-F8D60CD02D9E-LeaderElection70] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s1@group-F8D60CD02D9E: set configuration 9: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:02,633 [Thread-1905] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s2@group-F8D60CD02D9E: change Leader from null to s1 at term 6 for appendEntries, leader elected after 10ms
2022-07-14 02:39:02,633 [Thread-1903] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-F8D60CD02D9E: receive appendEntries(s1, 6, (t:5, i:8), 8, true, commits[s1:c8, s0:c8, s2:c8], entries: (t:6, i:9), CONFIGURATIONENTRY
2022-07-14 02:39:02,633 [Thread-1903] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s2@group-F8D60CD02D9E: set configuration 9: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:02,633 [Thread-1903] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: Rolling segment log-7_8 to index:8
2022-07-14 02:39:02,633 [Thread-1903] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:8: startIndex=7 endIndex=8
2022-07-14 02:39:02,634 [Thread-1903] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task StartLogSegment:9
2022-07-14 02:39:02,634 [Thread-1903] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task WriteLog:9: (t:6, i:9), CONFIGURATIONENTRY
2022-07-14 02:39:02,634 [Thread-1888] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s0@group-F8D60CD02D9E: change Leader from null to s1 at term 6 for appendEntries, leader elected after 12ms
2022-07-14 02:39:02,635 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_7 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_7-8
2022-07-14 02:39:02,635 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_7 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_7-8
2022-07-14 02:39:02,635 [Thread-1889] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s0@group-F8D60CD02D9E: receive appendEntries(s1, 6, (t:5, i:8), 8, true, commits[s1:c8, s0:c8, s2:c8], entries: (t:6, i:9), CONFIGURATIONENTRY
2022-07-14 02:39:02,635 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 8 -> 8
2022-07-14 02:39:02,635 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=6, new=8, updated? true
2022-07-14 02:39:02,635 [Thread-1889] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s0@group-F8D60CD02D9E: set configuration 9: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:02,639 [Thread-1889] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: Rolling segment log-7_8 to index:8
2022-07-14 02:39:02,639 [Thread-1889] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:8: startIndex=7 endIndex=8
2022-07-14 02:39:02,639 [Thread-1889] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task StartLogSegment:9
2022-07-14 02:39:02,639 [Thread-1889] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task WriteLog:9: (t:6, i:9), CONFIGURATIONENTRY
2022-07-14 02:39:02,644 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_7 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_7-8
2022-07-14 02:39:02,644 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_7 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_7-8
2022-07-14 02:39:02,644 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 8 -> 8
2022-07-14 02:39:02,644 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=6, new=8, updated? true
2022-07-14 02:39:02,651 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_9
2022-07-14 02:39:02,651 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_9
2022-07-14 02:39:02,651 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_9)
2022-07-14 02:39:02,651 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_9)
2022-07-14 02:39:02,655 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 8 -> 9
2022-07-14 02:39:02,655 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 8 -> 9
2022-07-14 02:39:02,655 [Thread-2101] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-F8D60CD02D9E: succeeded to handle AppendEntries. Reply: s1<-s2#1184:OK-t6,SUCCESS,nextIndex=10,followerCommit=8
2022-07-14 02:39:02,656 [s1@group-F8D60CD02D9E-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task WriteLog:10: (t:6, i:10), METADATAENTRY(c:9)
2022-07-14 02:39:02,657 [Thread-1904] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-F8D60CD02D9E: receive appendEntries(s1, 6, (t:6, i:9), 9, true, commits[s1:c9, s0:c8, s2:c8], entries: (t:6, i:10), METADATAENTRY(c:9)
2022-07-14 02:39:02,657 [Thread-1904] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task WriteLog:10: (t:6, i:10), METADATAENTRY(c:9)
2022-07-14 02:39:02,657 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_9)
2022-07-14 02:39:02,657 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_9
2022-07-14 02:39:02,658 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_9)
2022-07-14 02:39:02,658 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 9 -> 10
2022-07-14 02:39:02,658 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 8 -> 9
2022-07-14 02:39:02,658 [Thread-2102] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-F8D60CD02D9E: succeeded to handle AppendEntries. Reply: s1<-s2#1186:OK-t6,SUCCESS,nextIndex=11,followerCommit=9
2022-07-14 02:39:02,661 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_9)
2022-07-14 02:39:02,661 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 9 -> 10
2022-07-14 02:39:02,662 [Thread-2103] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s0@group-F8D60CD02D9E: succeeded to handle AppendEntries. Reply: s1<-s0#1185:OK-t6,SUCCESS,nextIndex=10,followerCommit=8
2022-07-14 02:39:02,662 [Thread-1890] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s0@group-F8D60CD02D9E: receive appendEntries(s1, 6, (t:6, i:9), 10, true, commits[s1:c10, s0:c8, s2:c9], entries: (t:6, i:10), METADATAENTRY(c:9)
2022-07-14 02:39:02,662 [Thread-1890] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task WriteLog:10: (t:6, i:10), METADATAENTRY(c:9)
2022-07-14 02:39:02,662 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_9)
2022-07-14 02:39:02,663 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 9 -> 10
2022-07-14 02:39:02,664 [Thread-2104] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s0@group-F8D60CD02D9E: succeeded to handle AppendEntries. Reply: s1<-s0#1187:OK-t6,SUCCESS,nextIndex=11,followerCommit=10
2022-07-14 02:39:02,706 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:39:02,707 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t6, leader=s1, voted=s1, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c10, conf=9: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-F8D60CD02D9E:t6, leader=s1, voted=s1, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c10, conf=9: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F8D60CD02D9E:t6, leader=s1, voted=s1, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c9, conf=9: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:02,707 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t6, leader=s1, voted=s1, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c10, conf=9: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-F8D60CD02D9E:t6, leader=s1, voted=s1, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c10, conf=9: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F8D60CD02D9E:t6, leader=s1, voted=s1, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c9, conf=9: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:02,707 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s2 to s1
2022-07-14 02:39:02,707 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:39:02,707 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t6, leader=s1, voted=s1, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c10, conf=9: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-F8D60CD02D9E:t6, leader=s1, voted=s1, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c10, conf=9: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F8D60CD02D9E:t6, leader=s1, voted=s1, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c9, conf=9: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:02,708 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t6, leader=s1, voted=s1, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c10, conf=9: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-F8D60CD02D9E:t6, leader=s1, voted=s1, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c10, conf=9: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F8D60CD02D9E:t6, leader=s1, voted=s1, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c9, conf=9: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:02,708 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:39:02,808 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:39:02,809 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t6, leader=s1, voted=s1, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c10, conf=9: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-F8D60CD02D9E:t6, leader=s1, voted=s1, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c10, conf=9: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F8D60CD02D9E:t6, leader=s1, voted=s1, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c9, conf=9: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:02,809 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t6, leader=s1, voted=s1, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c10, conf=9: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-F8D60CD02D9E:t6, leader=s1, voted=s1, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c10, conf=9: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F8D60CD02D9E:t6, leader=s1, voted=s1, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c9, conf=9: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:02,809 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:39:02,909 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:39:02,910 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t6, leader=s1, voted=s1, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c10, conf=9: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-F8D60CD02D9E:t6, leader=s1, voted=s1, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c10, conf=9: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F8D60CD02D9E:t6, leader=s1, voted=s1, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c9, conf=9: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:02,910 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t6, leader=s1, voted=s1, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c10, conf=9: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-F8D60CD02D9E:t6, leader=s1, voted=s1, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c10, conf=9: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F8D60CD02D9E:t6, leader=s1, voted=s1, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c9, conf=9: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:02,910 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:39:03,011 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:39:03,011 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t6, leader=s1, voted=s1, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c10, conf=9: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-F8D60CD02D9E:t6, leader=s1, voted=s1, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c10, conf=9: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F8D60CD02D9E:t6, leader=s1, voted=s1, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c9, conf=9: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:03,012 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t6, leader=s1, voted=s1, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c10, conf=9: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-F8D60CD02D9E:t6, leader=s1, voted=s1, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c10, conf=9: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F8D60CD02D9E:t6, leader=s1, voted=s1, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c9, conf=9: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:03,012 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #4/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:39:03,015 [s2@group-F8D60CD02D9E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-F8D60CD02D9E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:357236306ns, electionTimeout:169ms
2022-07-14 02:39:03,015 [s2@group-F8D60CD02D9E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-F8D60CD02D9E-FollowerState
2022-07-14 02:39:03,016 [s2@group-F8D60CD02D9E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-F8D60CD02D9E: changes role from  FOLLOWER to CANDIDATE at term 6 for changeToCandidate
2022-07-14 02:39:03,016 [s2@group-F8D60CD02D9E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:39:03,016 [s2@group-F8D60CD02D9E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-F8D60CD02D9E-LeaderElection71
2022-07-14 02:39:03,016 [s2@group-F8D60CD02D9E-LeaderElection71] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s2@group-F8D60CD02D9E: change Leader from s1 to null at term 6 for PRE_VOTE
2022-07-14 02:39:03,016 [s2@group-F8D60CD02D9E-LeaderElection71] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-F8D60CD02D9E-LeaderElection71 PRE_VOTE round 0: submit vote requests at term 6 for 9: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:03,016 [Thread-1889] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s0@group-F8D60CD02D9E: receive requestVote(PRE_VOTE, s2, group-F8D60CD02D9E, 6, (t:6, i:10))
2022-07-14 02:39:03,017 [Thread-1896] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-F8D60CD02D9E: receive requestVote(PRE_VOTE, s2, group-F8D60CD02D9E, 6, (t:6, i:10))
2022-07-14 02:39:03,017 [Thread-1889] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-F8D60CD02D9E-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-07-14 02:39:03,017 [Thread-1896] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1017)) - s1@group-F8D60CD02D9E-LeaderStateImpl: Lost leadership on term: 6. Election timeout: 300ms. In charge for: 391ms. Conf: 9: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:03,017 [Thread-1889] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s0@group-F8D60CD02D9E replies to PRE_VOTE vote request: s2<-s0#0:OK-t6. Peer's state: s0@group-F8D60CD02D9E:t6, leader=s1, voted=s1, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c10, conf=9: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:03,017 [Thread-1896] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1021)) - Follower s1@group-F8D60CD02D9E->s0(c10,m10,n11, attendVote=true, lastRpcSendTime=277, lastRpcResponseTime=352)
2022-07-14 02:39:03,017 [Thread-1896] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1021)) - Follower s1@group-F8D60CD02D9E->s2(c9,m10,n11, attendVote=true, lastRpcSendTime=282, lastRpcResponseTime=358)
2022-07-14 02:39:03,017 [Thread-1896] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-F8D60CD02D9E: changes role from    LEADER to FOLLOWER at term 6 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2022-07-14 02:39:03,017 [Thread-1896] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-F8D60CD02D9E-LeaderStateImpl
2022-07-14 02:39:03,017 [s1@group-F8D60CD02D9E->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s1@group-F8D60CD02D9E->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-07-14 02:39:03,017 [s2@group-F8D60CD02D9E-LeaderElection71] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-F8D60CD02D9E-LeaderElection71: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-07-14 02:39:03,017 [s2@group-F8D60CD02D9E-LeaderElection71] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:OK-t6
2022-07-14 02:39:03,017 [s2@group-F8D60CD02D9E-LeaderElection71] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-F8D60CD02D9E-LeaderElection71 PRE_VOTE round 0: result PASSED
2022-07-14 02:39:03,018 [s1@group-F8D60CD02D9E->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s1@group-F8D60CD02D9E->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-07-14 02:39:03,017 [Thread-1896] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-F8D60CD02D9E-PendingRequests: sendNotLeaderResponses
2022-07-14 02:39:03,018 [Thread-1896] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-F8D60CD02D9E-FollowerState
2022-07-14 02:39:03,019 [Thread-1896] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-F8D60CD02D9E-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s1
2022-07-14 02:39:03,019 [Thread-1896] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-F8D60CD02D9E replies to PRE_VOTE vote request: s2<-s1#0:FAIL-t6. Peer's state: s1@group-F8D60CD02D9E:t6, leader=s1, voted=s1, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c10, conf=9: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:03,019 [s2@group-F8D60CD02D9E-LeaderElection71] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-F8D60CD02D9E-LeaderElection71 ELECTION round 0: submit vote requests at term 7 for 9: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:03,020 [Thread-1890] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s0@group-F8D60CD02D9E: receive requestVote(ELECTION, s2, group-F8D60CD02D9E, 7, (t:6, i:10))
2022-07-14 02:39:03,020 [Thread-1890] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-F8D60CD02D9E-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-07-14 02:39:03,020 [Thread-1890] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s0@group-F8D60CD02D9E: change Leader from s1 to null at term 7 for updateCurrentTerm
2022-07-14 02:39:03,020 [Thread-1890] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s0@group-F8D60CD02D9E: changes role from  FOLLOWER to FOLLOWER at term 7 for candidate:s2
2022-07-14 02:39:03,020 [Thread-1890] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-F8D60CD02D9E-FollowerState
2022-07-14 02:39:03,020 [Thread-1890] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-F8D60CD02D9E-FollowerState
2022-07-14 02:39:03,020 [s0@group-F8D60CD02D9E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-F8D60CD02D9E-FollowerState was interrupted
2022-07-14 02:39:03,020 [Thread-1897] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-F8D60CD02D9E: receive requestVote(ELECTION, s2, group-F8D60CD02D9E, 7, (t:6, i:10))
2022-07-14 02:39:03,020 [Thread-1897] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-F8D60CD02D9E-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-07-14 02:39:03,020 [Thread-1897] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s1@group-F8D60CD02D9E: change Leader from s1 to null at term 7 for updateCurrentTerm
2022-07-14 02:39:03,020 [Thread-1897] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-F8D60CD02D9E: changes role from  FOLLOWER to FOLLOWER at term 7 for candidate:s2
2022-07-14 02:39:03,020 [Thread-1897] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-F8D60CD02D9E-FollowerState
2022-07-14 02:39:03,021 [Thread-1897] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-F8D60CD02D9E-FollowerState
2022-07-14 02:39:03,021 [s1@group-F8D60CD02D9E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-F8D60CD02D9E-FollowerState was interrupted
2022-07-14 02:39:03,023 [Thread-1890] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s0@group-F8D60CD02D9E replies to ELECTION vote request: s2<-s0#0:OK-t7. Peer's state: s0@group-F8D60CD02D9E:t7, leader=null, voted=s2, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c10, conf=9: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:03,023 [s2@group-F8D60CD02D9E-LeaderElection71] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-F8D60CD02D9E-LeaderElection71: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-07-14 02:39:03,023 [s2@group-F8D60CD02D9E-LeaderElection71] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s0#0:OK-t7
2022-07-14 02:39:03,023 [s2@group-F8D60CD02D9E-LeaderElection71] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-F8D60CD02D9E-LeaderElection71 ELECTION round 0: result PASSED
2022-07-14 02:39:03,023 [s2@group-F8D60CD02D9E-LeaderElection71] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-F8D60CD02D9E-LeaderElection71
2022-07-14 02:39:03,023 [Thread-1897] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-F8D60CD02D9E replies to ELECTION vote request: s2<-s1#0:OK-t7. Peer's state: s1@group-F8D60CD02D9E:t7, leader=null, voted=s2, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c10, conf=9: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:03,023 [s2@group-F8D60CD02D9E-LeaderElection71] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-F8D60CD02D9E: changes role from CANDIDATE to LEADER at term 7 for changeToLeader
2022-07-14 02:39:03,023 [s2@group-F8D60CD02D9E-LeaderElection71] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s2@group-F8D60CD02D9E: change Leader from null to s2 at term 7 for becomeLeader, leader elected after 7ms
2022-07-14 02:39:03,023 [s2@group-F8D60CD02D9E-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-07-14 02:39:03,023 [s2@group-F8D60CD02D9E-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-14 02:39:03,023 [s2@group-F8D60CD02D9E-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-07-14 02:39:03,024 [s2@group-F8D60CD02D9E-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-07-14 02:39:03,024 [s2@group-F8D60CD02D9E-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-07-14 02:39:03,024 [s2@group-F8D60CD02D9E-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-07-14 02:39:03,024 [s2@group-F8D60CD02D9E-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-14 02:39:03,024 [s2@group-F8D60CD02D9E-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-07-14 02:39:03,024 [s2@group-F8D60CD02D9E-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-14 02:39:03,024 [s2@group-F8D60CD02D9E-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:39:03,024 [s2@group-F8D60CD02D9E-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-14 02:39:03,024 [s2@group-F8D60CD02D9E-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-14 02:39:03,024 [s2@group-F8D60CD02D9E-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:39:03,024 [s2@group-F8D60CD02D9E-LeaderElection71] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-14 02:39:03,024 [s2@group-F8D60CD02D9E-LeaderElection71] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-F8D60CD02D9E-LeaderStateImpl
2022-07-14 02:39:03,025 [s2@group-F8D60CD02D9E-LeaderElection71] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: Rolling segment log-9_10 to index:10
2022-07-14 02:39:03,025 [s2@group-F8D60CD02D9E-LeaderElection71] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:10: startIndex=9 endIndex=10
2022-07-14 02:39:03,025 [s2@group-F8D60CD02D9E-LeaderElection71] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task StartLogSegment:11
2022-07-14 02:39:03,025 [s2@group-F8D60CD02D9E-LeaderElection71] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task WriteLog:11: (t:7, i:11), CONFIGURATIONENTRY
2022-07-14 02:39:03,026 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_9 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_9-10
2022-07-14 02:39:03,026 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_9 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_9-10
2022-07-14 02:39:03,026 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 10 -> 10
2022-07-14 02:39:03,026 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=8, new=10, updated? true
2022-07-14 02:39:03,030 [s2@group-F8D60CD02D9E-LeaderElection71] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s2@group-F8D60CD02D9E: set configuration 11: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:03,030 [Thread-1898] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s1@group-F8D60CD02D9E: change Leader from null to s2 at term 7 for appendEntries, leader elected after 10ms
2022-07-14 02:39:03,031 [Thread-1888] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s0@group-F8D60CD02D9E: change Leader from null to s2 at term 7 for appendEntries, leader elected after 10ms
2022-07-14 02:39:03,035 [Thread-1896] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-F8D60CD02D9E: receive appendEntries(s2, 7, (t:6, i:10), 9, true, commits[s2:c9, s0:c8, s1:c10], entries: (t:7, i:11), CONFIGURATIONENTRY
2022-07-14 02:39:03,035 [Thread-1889] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s0@group-F8D60CD02D9E: receive appendEntries(s2, 7, (t:6, i:10), 9, true, commits[s2:c9, s0:c10, s1:c10], entries: (t:7, i:11), CONFIGURATIONENTRY
2022-07-14 02:39:03,035 [Thread-1896] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s1@group-F8D60CD02D9E: set configuration 11: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:03,035 [Thread-1889] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s0@group-F8D60CD02D9E: set configuration 11: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:03,035 [Thread-1896] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: Rolling segment log-9_10 to index:10
2022-07-14 02:39:03,035 [Thread-1896] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:10: startIndex=9 endIndex=10
2022-07-14 02:39:03,035 [Thread-1896] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task StartLogSegment:11
2022-07-14 02:39:03,035 [Thread-1889] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: Rolling segment log-9_10 to index:10
2022-07-14 02:39:03,036 [Thread-1889] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:10: startIndex=9 endIndex=10
2022-07-14 02:39:03,036 [Thread-1889] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task StartLogSegment:11
2022-07-14 02:39:03,036 [Thread-1889] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task WriteLog:11: (t:7, i:11), CONFIGURATIONENTRY
2022-07-14 02:39:03,036 [Thread-1896] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task WriteLog:11: (t:7, i:11), CONFIGURATIONENTRY
2022-07-14 02:39:03,037 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_9 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_9-10
2022-07-14 02:39:03,037 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_9 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_9-10
2022-07-14 02:39:03,037 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 10 -> 10
2022-07-14 02:39:03,037 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=8, new=10, updated? true
2022-07-14 02:39:03,037 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_9 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_9-10
2022-07-14 02:39:03,037 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_9 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_9-10
2022-07-14 02:39:03,037 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 10 -> 10
2022-07-14 02:39:03,037 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=8, new=10, updated? true
2022-07-14 02:39:03,042 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_11
2022-07-14 02:39:03,042 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_11)
2022-07-14 02:39:03,043 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 10 -> 11
2022-07-14 02:39:03,060 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_11
2022-07-14 02:39:03,060 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_11
2022-07-14 02:39:03,060 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_11)
2022-07-14 02:39:03,060 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_11)
2022-07-14 02:39:03,061 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 10 -> 11
2022-07-14 02:39:03,061 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 10 -> 11
2022-07-14 02:39:03,061 [Thread-2129] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s0@group-F8D60CD02D9E: succeeded to handle AppendEntries. Reply: s2<-s0#1201:OK-t7,SUCCESS,nextIndex=12,followerCommit=10
2022-07-14 02:39:03,062 [s2@group-F8D60CD02D9E-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task WriteLog:12: (t:7, i:12), METADATAENTRY(c:11)
2022-07-14 02:39:03,062 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_11)
2022-07-14 02:39:03,063 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 11 -> 12
2022-07-14 02:39:03,063 [Thread-2128] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-F8D60CD02D9E: succeeded to handle AppendEntries. Reply: s2<-s1#1200:OK-t7,SUCCESS,nextIndex=12,followerCommit=10
2022-07-14 02:39:03,063 [Thread-1897] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-F8D60CD02D9E: receive appendEntries(s2, 7, (t:7, i:11), 11, true, commits[s2:c11, s0:c10, s1:c10], entries: (t:7, i:12), METADATAENTRY(c:11)
2022-07-14 02:39:03,063 [Thread-1897] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task WriteLog:12: (t:7, i:12), METADATAENTRY(c:11)
2022-07-14 02:39:03,064 [Thread-1890] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s0@group-F8D60CD02D9E: receive appendEntries(s2, 7, (t:7, i:11), 11, true, commits[s2:c11, s0:c10, s1:c10], entries: (t:7, i:12), METADATAENTRY(c:11)
2022-07-14 02:39:03,064 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_11)
2022-07-14 02:39:03,064 [Thread-1890] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task WriteLog:12: (t:7, i:12), METADATAENTRY(c:11)
2022-07-14 02:39:03,064 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_11)
2022-07-14 02:39:03,065 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 11 -> 12
2022-07-14 02:39:03,065 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 11 -> 12
2022-07-14 02:39:03,065 [Thread-2130] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s0@group-F8D60CD02D9E: succeeded to handle AppendEntries. Reply: s2<-s0#1204:OK-t7,SUCCESS,nextIndex=13,followerCommit=11
2022-07-14 02:39:03,066 [Thread-2131] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-F8D60CD02D9E: succeeded to handle AppendEntries. Reply: s2<-s1#1205:OK-t7,SUCCESS,nextIndex=13,followerCommit=11
2022-07-14 02:39:03,112 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:39:03,112 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t7, leader=s2, voted=s2, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c11, conf=11: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F8D60CD02D9E:t7, leader=s2, voted=s2, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c11, conf=11: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-F8D60CD02D9E:t7, leader=s2, voted=s2, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c12, conf=11: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:03,113 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t7, leader=s2, voted=s2, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c11, conf=11: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F8D60CD02D9E:t7, leader=s2, voted=s2, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c11, conf=11: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-F8D60CD02D9E:t7, leader=s2, voted=s2, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c12, conf=11: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:03,113 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s1 to s2
2022-07-14 02:39:03,113 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:39:03,113 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t7, leader=s2, voted=s2, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c11, conf=11: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F8D60CD02D9E:t7, leader=s2, voted=s2, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c11, conf=11: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-F8D60CD02D9E:t7, leader=s2, voted=s2, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c12, conf=11: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:03,114 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t7, leader=s2, voted=s2, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c11, conf=11: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F8D60CD02D9E:t7, leader=s2, voted=s2, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c11, conf=11: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-F8D60CD02D9E:t7, leader=s2, voted=s2, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c12, conf=11: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:03,114 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:39:03,214 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:39:03,214 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t7, leader=s2, voted=s2, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c11, conf=11: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F8D60CD02D9E:t7, leader=s2, voted=s2, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c11, conf=11: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-F8D60CD02D9E:t7, leader=s2, voted=s2, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c12, conf=11: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:03,215 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t7, leader=s2, voted=s2, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c11, conf=11: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F8D60CD02D9E:t7, leader=s2, voted=s2, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c11, conf=11: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-F8D60CD02D9E:t7, leader=s2, voted=s2, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c12, conf=11: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:03,215 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:39:03,315 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:39:03,316 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t7, leader=s2, voted=s2, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c11, conf=11: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F8D60CD02D9E:t7, leader=s2, voted=s2, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c11, conf=11: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-F8D60CD02D9E:t7, leader=s2, voted=s2, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c12, conf=11: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:03,316 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t7, leader=s2, voted=s2, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c11, conf=11: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F8D60CD02D9E:t7, leader=s2, voted=s2, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c11, conf=11: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-F8D60CD02D9E:t7, leader=s2, voted=s2, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c12, conf=11: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:03,316 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:39:03,416 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:39:03,417 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t7, leader=s2, voted=s2, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c11, conf=11: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F8D60CD02D9E:t7, leader=s2, voted=s2, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c11, conf=11: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-F8D60CD02D9E:t7, leader=s2, voted=s2, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c12, conf=11: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:03,417 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t7, leader=s2, voted=s2, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c11, conf=11: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F8D60CD02D9E:t7, leader=s2, voted=s2, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c11, conf=11: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-F8D60CD02D9E:t7, leader=s2, voted=s2, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c12, conf=11: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:03,417 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #4/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:39:03,518 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:39:03,518 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t7, leader=s2, voted=s2, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c11, conf=11: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F8D60CD02D9E:t7, leader=s2, voted=s2, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c11, conf=11: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-F8D60CD02D9E:t7, leader=s2, voted=s2, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c12, conf=11: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:03,518 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t7, leader=s2, voted=s2, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c11, conf=11: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F8D60CD02D9E:t7, leader=s2, voted=s2, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c11, conf=11: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-F8D60CD02D9E:t7, leader=s2, voted=s2, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c12, conf=11: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:03,518 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #5/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:39:03,532 [s0@group-F8D60CD02D9E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-F8D60CD02D9E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:467428935ns, electionTimeout:223ms
2022-07-14 02:39:03,532 [s0@group-F8D60CD02D9E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-F8D60CD02D9E-FollowerState
2022-07-14 02:39:03,532 [s0@group-F8D60CD02D9E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s0@group-F8D60CD02D9E: changes role from  FOLLOWER to CANDIDATE at term 7 for changeToCandidate
2022-07-14 02:39:03,532 [s0@group-F8D60CD02D9E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:39:03,532 [s0@group-F8D60CD02D9E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-F8D60CD02D9E-LeaderElection72
2022-07-14 02:39:03,533 [s0@group-F8D60CD02D9E-LeaderElection72] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s0@group-F8D60CD02D9E: change Leader from s2 to null at term 7 for PRE_VOTE
2022-07-14 02:39:03,533 [s0@group-F8D60CD02D9E-LeaderElection72] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-F8D60CD02D9E-LeaderElection72 PRE_VOTE round 0: submit vote requests at term 7 for 11: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:03,534 [Thread-1896] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-F8D60CD02D9E: receive requestVote(PRE_VOTE, s0, group-F8D60CD02D9E, 7, (t:7, i:12))
2022-07-14 02:39:03,534 [Thread-1896] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-F8D60CD02D9E-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-07-14 02:39:03,534 [Thread-1896] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-F8D60CD02D9E replies to PRE_VOTE vote request: s0<-s1#0:OK-t7. Peer's state: s1@group-F8D60CD02D9E:t7, leader=s2, voted=s2, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c11, conf=11: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:03,534 [Thread-1903] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-F8D60CD02D9E: receive requestVote(PRE_VOTE, s0, group-F8D60CD02D9E, 7, (t:7, i:12))
2022-07-14 02:39:03,534 [s0@group-F8D60CD02D9E-LeaderElection72] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-F8D60CD02D9E-LeaderElection72: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-07-14 02:39:03,534 [Thread-1903] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1017)) - s2@group-F8D60CD02D9E-LeaderStateImpl: Lost leadership on term: 7. Election timeout: 300ms. In charge for: 511ms. Conf: 11: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:03,534 [s0@group-F8D60CD02D9E-LeaderElection72] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t7
2022-07-14 02:39:03,534 [s0@group-F8D60CD02D9E-LeaderElection72] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-F8D60CD02D9E-LeaderElection72 PRE_VOTE round 0: result PASSED
2022-07-14 02:39:03,534 [Thread-1903] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1021)) - Follower s2@group-F8D60CD02D9E->s0(c11,m12,n13, attendVote=true, lastRpcSendTime=394, lastRpcResponseTime=469)
2022-07-14 02:39:03,535 [Thread-1903] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1021)) - Follower s2@group-F8D60CD02D9E->s1(c11,m12,n13, attendVote=true, lastRpcSendTime=393, lastRpcResponseTime=469)
2022-07-14 02:39:03,535 [Thread-1903] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-F8D60CD02D9E: changes role from    LEADER to FOLLOWER at term 7 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2022-07-14 02:39:03,535 [Thread-1903] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-F8D60CD02D9E-LeaderStateImpl
2022-07-14 02:39:03,536 [s2@group-F8D60CD02D9E->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s2@group-F8D60CD02D9E->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-07-14 02:39:03,536 [s2@group-F8D60CD02D9E->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s2@group-F8D60CD02D9E->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-07-14 02:39:03,536 [Thread-1903] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s2@group-F8D60CD02D9E-PendingRequests: sendNotLeaderResponses
2022-07-14 02:39:03,536 [Thread-1903] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-F8D60CD02D9E-FollowerState
2022-07-14 02:39:03,537 [Thread-1903] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-F8D60CD02D9E-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s2
2022-07-14 02:39:03,537 [Thread-1903] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-F8D60CD02D9E replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t7. Peer's state: s2@group-F8D60CD02D9E:t7, leader=s2, voted=s2, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c12, conf=11: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:03,537 [s0@group-F8D60CD02D9E-LeaderElection72] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-F8D60CD02D9E-LeaderElection72 ELECTION round 0: submit vote requests at term 8 for 11: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:03,537 [Thread-1897] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-F8D60CD02D9E: receive requestVote(ELECTION, s0, group-F8D60CD02D9E, 8, (t:7, i:12))
2022-07-14 02:39:03,537 [Thread-1897] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-F8D60CD02D9E-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-07-14 02:39:03,537 [Thread-1897] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s1@group-F8D60CD02D9E: change Leader from s2 to null at term 8 for updateCurrentTerm
2022-07-14 02:39:03,537 [Thread-1897] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-F8D60CD02D9E: changes role from  FOLLOWER to FOLLOWER at term 8 for candidate:s0
2022-07-14 02:39:03,538 [Thread-1897] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-F8D60CD02D9E-FollowerState
2022-07-14 02:39:03,538 [Thread-1897] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-F8D60CD02D9E-FollowerState
2022-07-14 02:39:03,538 [Thread-1904] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-F8D60CD02D9E: receive requestVote(ELECTION, s0, group-F8D60CD02D9E, 8, (t:7, i:12))
2022-07-14 02:39:03,538 [s1@group-F8D60CD02D9E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-F8D60CD02D9E-FollowerState was interrupted
2022-07-14 02:39:03,538 [Thread-1904] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-F8D60CD02D9E-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-07-14 02:39:03,538 [Thread-1904] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s2@group-F8D60CD02D9E: change Leader from s2 to null at term 8 for updateCurrentTerm
2022-07-14 02:39:03,538 [Thread-1904] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-F8D60CD02D9E: changes role from  FOLLOWER to FOLLOWER at term 8 for candidate:s0
2022-07-14 02:39:03,538 [Thread-1904] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-F8D60CD02D9E-FollowerState
2022-07-14 02:39:03,538 [Thread-1904] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-F8D60CD02D9E-FollowerState
2022-07-14 02:39:03,538 [s2@group-F8D60CD02D9E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-F8D60CD02D9E-FollowerState was interrupted
2022-07-14 02:39:03,539 [Thread-1897] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-F8D60CD02D9E replies to ELECTION vote request: s0<-s1#0:OK-t8. Peer's state: s1@group-F8D60CD02D9E:t8, leader=null, voted=s0, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c11, conf=11: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:03,539 [Thread-1904] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-F8D60CD02D9E replies to ELECTION vote request: s0<-s2#0:OK-t8. Peer's state: s2@group-F8D60CD02D9E:t8, leader=null, voted=s0, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c12, conf=11: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:03,540 [s0@group-F8D60CD02D9E-LeaderElection72] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-F8D60CD02D9E-LeaderElection72: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-07-14 02:39:03,540 [s0@group-F8D60CD02D9E-LeaderElection72] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t8
2022-07-14 02:39:03,540 [s0@group-F8D60CD02D9E-LeaderElection72] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-F8D60CD02D9E-LeaderElection72 ELECTION round 0: result PASSED
2022-07-14 02:39:03,540 [s0@group-F8D60CD02D9E-LeaderElection72] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-F8D60CD02D9E-LeaderElection72
2022-07-14 02:39:03,540 [s0@group-F8D60CD02D9E-LeaderElection72] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s0@group-F8D60CD02D9E: changes role from CANDIDATE to LEADER at term 8 for changeToLeader
2022-07-14 02:39:03,540 [s0@group-F8D60CD02D9E-LeaderElection72] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s0@group-F8D60CD02D9E: change Leader from null to s0 at term 8 for becomeLeader, leader elected after 7ms
2022-07-14 02:39:03,540 [s0@group-F8D60CD02D9E-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-07-14 02:39:03,540 [s0@group-F8D60CD02D9E-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-14 02:39:03,540 [s0@group-F8D60CD02D9E-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-07-14 02:39:03,540 [s0@group-F8D60CD02D9E-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-07-14 02:39:03,540 [s0@group-F8D60CD02D9E-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-07-14 02:39:03,540 [s0@group-F8D60CD02D9E-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-07-14 02:39:03,540 [s0@group-F8D60CD02D9E-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-14 02:39:03,540 [s0@group-F8D60CD02D9E-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-07-14 02:39:03,541 [s0@group-F8D60CD02D9E-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-14 02:39:03,541 [s0@group-F8D60CD02D9E-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:39:03,541 [s0@group-F8D60CD02D9E-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-14 02:39:03,541 [s0@group-F8D60CD02D9E-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-14 02:39:03,541 [s0@group-F8D60CD02D9E-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:39:03,541 [s0@group-F8D60CD02D9E-LeaderElection72] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-14 02:39:03,541 [s0@group-F8D60CD02D9E-LeaderElection72] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-F8D60CD02D9E-LeaderStateImpl
2022-07-14 02:39:03,541 [s0@group-F8D60CD02D9E-LeaderElection72] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: Rolling segment log-11_12 to index:12
2022-07-14 02:39:03,541 [s0@group-F8D60CD02D9E-LeaderElection72] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:12: startIndex=11 endIndex=12
2022-07-14 02:39:03,541 [s0@group-F8D60CD02D9E-LeaderElection72] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task StartLogSegment:13
2022-07-14 02:39:03,542 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_11 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_11-12
2022-07-14 02:39:03,542 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_11 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_11-12
2022-07-14 02:39:03,542 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 12 -> 12
2022-07-14 02:39:03,542 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=10, new=12, updated? true
2022-07-14 02:39:03,543 [s0@group-F8D60CD02D9E-LeaderElection72] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task WriteLog:13: (t:8, i:13), CONFIGURATIONENTRY
2022-07-14 02:39:03,547 [Thread-1898] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s1@group-F8D60CD02D9E: change Leader from null to s0 at term 8 for appendEntries, leader elected after 9ms
2022-07-14 02:39:03,547 [s0@group-F8D60CD02D9E-LeaderElection72] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s0@group-F8D60CD02D9E: set configuration 13: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:03,547 [Thread-1905] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s2@group-F8D60CD02D9E: change Leader from null to s0 at term 8 for appendEntries, leader elected after 9ms
2022-07-14 02:39:03,549 [Thread-1896] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-F8D60CD02D9E: receive appendEntries(s0, 8, (t:7, i:12), 11, true, commits[s0:c11, s1:c11, s2:c11], entries: (t:8, i:13), CONFIGURATIONENTRY
2022-07-14 02:39:03,549 [Thread-1896] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s1@group-F8D60CD02D9E: set configuration 13: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:03,549 [Thread-1896] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: Rolling segment log-11_12 to index:12
2022-07-14 02:39:03,549 [Thread-1896] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:12: startIndex=11 endIndex=12
2022-07-14 02:39:03,549 [Thread-1896] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task StartLogSegment:13
2022-07-14 02:39:03,549 [Thread-1896] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task WriteLog:13: (t:8, i:13), CONFIGURATIONENTRY
2022-07-14 02:39:03,550 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_11 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_11-12
2022-07-14 02:39:03,550 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_11 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_11-12
2022-07-14 02:39:03,550 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 12 -> 12
2022-07-14 02:39:03,550 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=10, new=12, updated? true
2022-07-14 02:39:03,554 [Thread-1903] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-F8D60CD02D9E: receive appendEntries(s0, 8, (t:7, i:12), 11, true, commits[s0:c11, s1:c11, s2:c12], entries: (t:8, i:13), CONFIGURATIONENTRY
2022-07-14 02:39:03,555 [Thread-1903] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s2@group-F8D60CD02D9E: set configuration 13: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:03,555 [Thread-1903] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: Rolling segment log-11_12 to index:12
2022-07-14 02:39:03,555 [Thread-1903] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:12: startIndex=11 endIndex=12
2022-07-14 02:39:03,555 [Thread-1903] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task StartLogSegment:13
2022-07-14 02:39:03,555 [Thread-1903] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task WriteLog:13: (t:8, i:13), CONFIGURATIONENTRY
2022-07-14 02:39:03,556 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_11 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_11-12
2022-07-14 02:39:03,556 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_11 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_11-12
2022-07-14 02:39:03,556 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 12 -> 12
2022-07-14 02:39:03,556 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=10, new=12, updated? true
2022-07-14 02:39:03,564 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_13
2022-07-14 02:39:03,564 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_13
2022-07-14 02:39:03,564 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_13)
2022-07-14 02:39:03,564 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_13)
2022-07-14 02:39:03,564 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 12 -> 13
2022-07-14 02:39:03,565 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 12 -> 13
2022-07-14 02:39:03,566 [Thread-2155] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-F8D60CD02D9E: succeeded to handle AppendEntries. Reply: s0<-s1#1219:OK-t8,SUCCESS,nextIndex=14,followerCommit=11
2022-07-14 02:39:03,566 [s0@group-F8D60CD02D9E-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task WriteLog:14: (t:8, i:14), METADATAENTRY(c:13)
2022-07-14 02:39:03,567 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_13)
2022-07-14 02:39:03,567 [Thread-1897] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-F8D60CD02D9E: receive appendEntries(s0, 8, (t:8, i:13), 13, true, commits[s0:c13, s1:c11, s2:c12], entries: (t:8, i:14), METADATAENTRY(c:13)
2022-07-14 02:39:03,567 [Thread-1897] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task WriteLog:14: (t:8, i:14), METADATAENTRY(c:13)
2022-07-14 02:39:03,567 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_13)
2022-07-14 02:39:03,572 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 13 -> 14
2022-07-14 02:39:03,573 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 13 -> 14
2022-07-14 02:39:03,574 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_13
2022-07-14 02:39:03,574 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_13)
2022-07-14 02:39:03,574 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 12 -> 13
2022-07-14 02:39:03,581 [Thread-2158] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-F8D60CD02D9E: succeeded to handle AppendEntries. Reply: s0<-s2#1221:OK-t8,SUCCESS,nextIndex=14,followerCommit=12
2022-07-14 02:39:03,582 [Thread-1904] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-F8D60CD02D9E: receive appendEntries(s0, 8, (t:8, i:13), 13, true, commits[s0:c13, s1:c11, s2:c12], entries: (t:8, i:14), METADATAENTRY(c:13)
2022-07-14 02:39:03,583 [Thread-1904] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task WriteLog:14: (t:8, i:14), METADATAENTRY(c:13)
2022-07-14 02:39:03,583 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_13)
2022-07-14 02:39:03,582 [Thread-2157] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-F8D60CD02D9E: succeeded to handle AppendEntries. Reply: s0<-s1#1222:OK-t8,SUCCESS,nextIndex=15,followerCommit=13
2022-07-14 02:39:03,584 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 13 -> 14
2022-07-14 02:39:03,585 [Thread-2159] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-F8D60CD02D9E: succeeded to handle AppendEntries. Reply: s0<-s2#1224:OK-t8,SUCCESS,nextIndex=15,followerCommit=13
2022-07-14 02:39:03,619 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:39:03,619 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-F8D60CD02D9E:t8, leader=s0, voted=s0, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c14, conf=13: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F8D60CD02D9E:t8, leader=s0, voted=s0, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c13, conf=13: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F8D60CD02D9E:t8, leader=s0, voted=s0, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c13, conf=13: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:03,619 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-F8D60CD02D9E:t8, leader=s0, voted=s0, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c14, conf=13: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F8D60CD02D9E:t8, leader=s0, voted=s0, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c13, conf=13: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F8D60CD02D9E:t8, leader=s0, voted=s0, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c13, conf=13: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:03,619 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s2 to s0
2022-07-14 02:39:03,619 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:39:03,620 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-F8D60CD02D9E:t8, leader=s0, voted=s0, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c14, conf=13: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F8D60CD02D9E:t8, leader=s0, voted=s0, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c13, conf=13: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F8D60CD02D9E:t8, leader=s0, voted=s0, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c13, conf=13: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:03,620 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-F8D60CD02D9E:t8, leader=s0, voted=s0, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c14, conf=13: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F8D60CD02D9E:t8, leader=s0, voted=s0, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c13, conf=13: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F8D60CD02D9E:t8, leader=s0, voted=s0, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c13, conf=13: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:03,620 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:39:03,720 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:39:03,721 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-F8D60CD02D9E:t8, leader=s0, voted=s0, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c14, conf=13: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F8D60CD02D9E:t8, leader=s0, voted=s0, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c13, conf=13: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F8D60CD02D9E:t8, leader=s0, voted=s0, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c13, conf=13: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:03,721 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-F8D60CD02D9E:t8, leader=s0, voted=s0, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c14, conf=13: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F8D60CD02D9E:t8, leader=s0, voted=s0, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c13, conf=13: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F8D60CD02D9E:t8, leader=s0, voted=s0, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c13, conf=13: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:03,721 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:39:03,821 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:39:03,822 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-F8D60CD02D9E:t8, leader=s0, voted=s0, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c14, conf=13: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F8D60CD02D9E:t8, leader=s0, voted=s0, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c13, conf=13: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F8D60CD02D9E:t8, leader=s0, voted=s0, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c13, conf=13: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:03,822 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-F8D60CD02D9E:t8, leader=s0, voted=s0, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c14, conf=13: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F8D60CD02D9E:t8, leader=s0, voted=s0, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c13, conf=13: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F8D60CD02D9E:t8, leader=s0, voted=s0, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c13, conf=13: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:03,822 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:39:03,901 [s2@group-F8D60CD02D9E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-F8D60CD02D9E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:316337985ns, electionTimeout:171ms
2022-07-14 02:39:03,901 [s2@group-F8D60CD02D9E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-F8D60CD02D9E-FollowerState
2022-07-14 02:39:03,901 [s2@group-F8D60CD02D9E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-F8D60CD02D9E: changes role from  FOLLOWER to CANDIDATE at term 8 for changeToCandidate
2022-07-14 02:39:03,901 [s2@group-F8D60CD02D9E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:39:03,901 [s2@group-F8D60CD02D9E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-F8D60CD02D9E-LeaderElection73
2022-07-14 02:39:03,902 [s2@group-F8D60CD02D9E-LeaderElection73] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s2@group-F8D60CD02D9E: change Leader from s0 to null at term 8 for PRE_VOTE
2022-07-14 02:39:03,902 [s2@group-F8D60CD02D9E-LeaderElection73] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-F8D60CD02D9E-LeaderElection73 PRE_VOTE round 0: submit vote requests at term 8 for 13: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:03,903 [Thread-1889] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s0@group-F8D60CD02D9E: receive requestVote(PRE_VOTE, s2, group-F8D60CD02D9E, 8, (t:8, i:14))
2022-07-14 02:39:03,903 [Thread-1896] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-F8D60CD02D9E: receive requestVote(PRE_VOTE, s2, group-F8D60CD02D9E, 8, (t:8, i:14))
2022-07-14 02:39:03,903 [Thread-1889] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1017)) - s0@group-F8D60CD02D9E-LeaderStateImpl: Lost leadership on term: 8. Election timeout: 300ms. In charge for: 362ms. Conf: 13: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:03,903 [Thread-1889] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1021)) - Follower s0@group-F8D60CD02D9E->s1(c13,m14,n15, attendVote=true, lastRpcSendTime=244, lastRpcResponseTime=320)
2022-07-14 02:39:03,903 [Thread-1889] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1021)) - Follower s0@group-F8D60CD02D9E->s2(c13,m14,n15, attendVote=true, lastRpcSendTime=242, lastRpcResponseTime=318)
2022-07-14 02:39:03,903 [Thread-1889] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s0@group-F8D60CD02D9E: changes role from    LEADER to FOLLOWER at term 8 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2022-07-14 02:39:03,903 [Thread-1889] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-F8D60CD02D9E-LeaderStateImpl
2022-07-14 02:39:03,903 [Thread-1889] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-F8D60CD02D9E-PendingRequests: sendNotLeaderResponses
2022-07-14 02:39:03,904 [Thread-1889] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-F8D60CD02D9E-FollowerState
2022-07-14 02:39:03,904 [s0@group-F8D60CD02D9E->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s0@group-F8D60CD02D9E->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-07-14 02:39:03,903 [Thread-1896] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-F8D60CD02D9E-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-07-14 02:39:03,904 [Thread-1896] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-F8D60CD02D9E replies to PRE_VOTE vote request: s2<-s1#0:OK-t8. Peer's state: s1@group-F8D60CD02D9E:t8, leader=s0, voted=s0, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c13, conf=13: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:03,903 [s0@group-F8D60CD02D9E->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s0@group-F8D60CD02D9E->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-07-14 02:39:03,904 [Thread-1889] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-F8D60CD02D9E-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s0
2022-07-14 02:39:03,904 [Thread-1889] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s0@group-F8D60CD02D9E replies to PRE_VOTE vote request: s2<-s0#0:FAIL-t8. Peer's state: s0@group-F8D60CD02D9E:t8, leader=s0, voted=s0, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c14, conf=13: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:03,905 [s2@group-F8D60CD02D9E-LeaderElection73] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-F8D60CD02D9E-LeaderElection73: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-07-14 02:39:03,905 [s2@group-F8D60CD02D9E-LeaderElection73] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s1#0:OK-t8
2022-07-14 02:39:03,905 [s2@group-F8D60CD02D9E-LeaderElection73] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-F8D60CD02D9E-LeaderElection73 PRE_VOTE round 0: result PASSED
2022-07-14 02:39:03,907 [s2@group-F8D60CD02D9E-LeaderElection73] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s2@group-F8D60CD02D9E-LeaderElection73 ELECTION round 0: submit vote requests at term 9 for 13: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:03,908 [Thread-1890] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s0@group-F8D60CD02D9E: receive requestVote(ELECTION, s2, group-F8D60CD02D9E, 9, (t:8, i:14))
2022-07-14 02:39:03,908 [Thread-1890] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-F8D60CD02D9E-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-07-14 02:39:03,908 [Thread-1890] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s0@group-F8D60CD02D9E: change Leader from s0 to null at term 9 for updateCurrentTerm
2022-07-14 02:39:03,908 [Thread-1890] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s0@group-F8D60CD02D9E: changes role from  FOLLOWER to FOLLOWER at term 9 for candidate:s2
2022-07-14 02:39:03,908 [Thread-1890] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-F8D60CD02D9E-FollowerState
2022-07-14 02:39:03,908 [Thread-1897] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-F8D60CD02D9E: receive requestVote(ELECTION, s2, group-F8D60CD02D9E, 9, (t:8, i:14))
2022-07-14 02:39:03,908 [Thread-1897] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-F8D60CD02D9E-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-07-14 02:39:03,908 [Thread-1897] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s1@group-F8D60CD02D9E: change Leader from s0 to null at term 9 for updateCurrentTerm
2022-07-14 02:39:03,909 [Thread-1897] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-F8D60CD02D9E: changes role from  FOLLOWER to FOLLOWER at term 9 for candidate:s2
2022-07-14 02:39:03,909 [Thread-1897] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-F8D60CD02D9E-FollowerState
2022-07-14 02:39:03,909 [Thread-1897] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-F8D60CD02D9E-FollowerState
2022-07-14 02:39:03,909 [s1@group-F8D60CD02D9E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-F8D60CD02D9E-FollowerState was interrupted
2022-07-14 02:39:03,908 [Thread-1890] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-F8D60CD02D9E-FollowerState
2022-07-14 02:39:03,908 [s0@group-F8D60CD02D9E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-F8D60CD02D9E-FollowerState was interrupted
2022-07-14 02:39:03,911 [Thread-1897] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-F8D60CD02D9E replies to ELECTION vote request: s2<-s1#0:OK-t9. Peer's state: s1@group-F8D60CD02D9E:t9, leader=null, voted=s2, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c13, conf=13: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:03,911 [Thread-1890] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s0@group-F8D60CD02D9E replies to ELECTION vote request: s2<-s0#0:OK-t9. Peer's state: s0@group-F8D60CD02D9E:t9, leader=null, voted=s2, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c14, conf=13: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:03,911 [s2@group-F8D60CD02D9E-LeaderElection73] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s2@group-F8D60CD02D9E-LeaderElection73: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-07-14 02:39:03,911 [s2@group-F8D60CD02D9E-LeaderElection73] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s2<-s1#0:OK-t9
2022-07-14 02:39:03,911 [s2@group-F8D60CD02D9E-LeaderElection73] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s2@group-F8D60CD02D9E-LeaderElection73 ELECTION round 0: result PASSED
2022-07-14 02:39:03,911 [s2@group-F8D60CD02D9E-LeaderElection73] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-F8D60CD02D9E-LeaderElection73
2022-07-14 02:39:03,912 [s2@group-F8D60CD02D9E-LeaderElection73] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-F8D60CD02D9E: changes role from CANDIDATE to LEADER at term 9 for changeToLeader
2022-07-14 02:39:03,912 [s2@group-F8D60CD02D9E-LeaderElection73] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s2@group-F8D60CD02D9E: change Leader from null to s2 at term 9 for becomeLeader, leader elected after 9ms
2022-07-14 02:39:03,912 [s2@group-F8D60CD02D9E-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-07-14 02:39:03,912 [s2@group-F8D60CD02D9E-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-14 02:39:03,912 [s2@group-F8D60CD02D9E-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-07-14 02:39:03,912 [s2@group-F8D60CD02D9E-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-07-14 02:39:03,912 [s2@group-F8D60CD02D9E-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-07-14 02:39:03,912 [s2@group-F8D60CD02D9E-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-07-14 02:39:03,912 [s2@group-F8D60CD02D9E-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-14 02:39:03,912 [s2@group-F8D60CD02D9E-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-07-14 02:39:03,913 [s2@group-F8D60CD02D9E-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-14 02:39:03,913 [s2@group-F8D60CD02D9E-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:39:03,913 [s2@group-F8D60CD02D9E-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-14 02:39:03,913 [s2@group-F8D60CD02D9E-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-14 02:39:03,913 [s2@group-F8D60CD02D9E-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:39:03,913 [s2@group-F8D60CD02D9E-LeaderElection73] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-14 02:39:03,913 [s2@group-F8D60CD02D9E-LeaderElection73] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-F8D60CD02D9E-LeaderStateImpl
2022-07-14 02:39:03,914 [s2@group-F8D60CD02D9E-LeaderElection73] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: Rolling segment log-13_14 to index:14
2022-07-14 02:39:03,914 [s2@group-F8D60CD02D9E-LeaderElection73] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:14: startIndex=13 endIndex=14
2022-07-14 02:39:03,914 [s2@group-F8D60CD02D9E-LeaderElection73] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task StartLogSegment:15
2022-07-14 02:39:03,914 [s2@group-F8D60CD02D9E-LeaderElection73] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task WriteLog:15: (t:9, i:15), CONFIGURATIONENTRY
2022-07-14 02:39:03,914 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_13 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_13-14
2022-07-14 02:39:03,915 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_13 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_13-14
2022-07-14 02:39:03,915 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 14 -> 14
2022-07-14 02:39:03,915 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=12, new=14, updated? true
2022-07-14 02:39:03,921 [Thread-1888] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s0@group-F8D60CD02D9E: change Leader from null to s2 at term 9 for appendEntries, leader elected after 12ms
2022-07-14 02:39:03,922 [s2@group-F8D60CD02D9E-LeaderElection73] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s2@group-F8D60CD02D9E: set configuration 15: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:03,923 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:39:03,925 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t9, leader=s2, voted=s2, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c14, conf=13: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F8D60CD02D9E:t9, leader=null, voted=s2, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c13, conf=13: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-F8D60CD02D9E:t9, leader=s2, voted=s2, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c13, conf=15: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:03,925 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: Leader: s2@group-F8D60CD02D9E not ready, sleep 450ms and then retry.
java.lang.IllegalStateException: Leader: s2@group-F8D60CD02D9E not ready
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:114)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:431)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:39:03,923 [Thread-1898] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s1@group-F8D60CD02D9E: change Leader from null to s2 at term 9 for appendEntries, leader elected after 14ms
2022-07-14 02:39:03,926 [Thread-1896] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-F8D60CD02D9E: receive appendEntries(s2, 9, (t:8, i:14), 13, true, commits[s2:c13, s0:c14, s1:c13], entries: (t:9, i:15), CONFIGURATIONENTRY
2022-07-14 02:39:03,926 [Thread-1896] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s1@group-F8D60CD02D9E: set configuration 15: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:03,926 [Thread-1896] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: Rolling segment log-13_14 to index:14
2022-07-14 02:39:03,926 [Thread-1896] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:14: startIndex=13 endIndex=14
2022-07-14 02:39:03,926 [Thread-1896] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task StartLogSegment:15
2022-07-14 02:39:03,927 [Thread-1896] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task WriteLog:15: (t:9, i:15), CONFIGURATIONENTRY
2022-07-14 02:39:03,927 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_13 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_13-14
2022-07-14 02:39:03,928 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_13 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_13-14
2022-07-14 02:39:03,928 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 14 -> 14
2022-07-14 02:39:03,928 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=12, new=14, updated? true
2022-07-14 02:39:03,930 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_15
2022-07-14 02:39:03,930 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_15)
2022-07-14 02:39:03,930 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 14 -> 15
2022-07-14 02:39:03,931 [Thread-1889] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s0@group-F8D60CD02D9E: receive appendEntries(s2, 9, (t:8, i:14), 13, true, commits[s2:c13, s0:c14, s1:c13], entries: (t:9, i:15), CONFIGURATIONENTRY
2022-07-14 02:39:03,931 [Thread-1889] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s0@group-F8D60CD02D9E: set configuration 15: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:03,932 [Thread-1889] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: Rolling segment log-13_14 to index:14
2022-07-14 02:39:03,932 [Thread-1889] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:14: startIndex=13 endIndex=14
2022-07-14 02:39:03,932 [Thread-1889] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task StartLogSegment:15
2022-07-14 02:39:03,932 [Thread-1889] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task WriteLog:15: (t:9, i:15), CONFIGURATIONENTRY
2022-07-14 02:39:03,932 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_13 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_13-14
2022-07-14 02:39:03,933 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_13 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_13-14
2022-07-14 02:39:03,933 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 14 -> 14
2022-07-14 02:39:03,933 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=12, new=14, updated? true
2022-07-14 02:39:03,954 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_15
2022-07-14 02:39:03,954 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_15
2022-07-14 02:39:03,954 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_15)
2022-07-14 02:39:03,954 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_15)
2022-07-14 02:39:03,954 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 14 -> 15
2022-07-14 02:39:03,954 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 14 -> 15
2022-07-14 02:39:03,954 [Thread-2181] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s0@group-F8D60CD02D9E: succeeded to handle AppendEntries. Reply: s2<-s0#1236:OK-t9,SUCCESS,nextIndex=16,followerCommit=14
2022-07-14 02:39:03,954 [Thread-2182] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-F8D60CD02D9E: succeeded to handle AppendEntries. Reply: s2<-s1#1237:OK-t9,SUCCESS,nextIndex=16,followerCommit=13
2022-07-14 02:39:03,955 [s2@group-F8D60CD02D9E-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task WriteLog:16: (t:9, i:16), METADATAENTRY(c:15)
2022-07-14 02:39:03,955 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_15)
2022-07-14 02:39:03,956 [Thread-1897] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-F8D60CD02D9E: receive appendEntries(s2, 9, (t:9, i:15), 15, true, commits[s2:c15, s0:c14, s1:c13], entries: (t:9, i:16), METADATAENTRY(c:15)
2022-07-14 02:39:03,956 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 15 -> 16
2022-07-14 02:39:03,956 [Thread-1890] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s0@group-F8D60CD02D9E: receive appendEntries(s2, 9, (t:9, i:15), 15, true, commits[s2:c15, s0:c14, s1:c13], entries: (t:9, i:16), METADATAENTRY(c:15)
2022-07-14 02:39:03,956 [Thread-1897] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task WriteLog:16: (t:9, i:16), METADATAENTRY(c:15)
2022-07-14 02:39:03,956 [Thread-1890] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task WriteLog:16: (t:9, i:16), METADATAENTRY(c:15)
2022-07-14 02:39:03,956 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_15)
2022-07-14 02:39:03,956 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_15)
2022-07-14 02:39:03,957 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 15 -> 16
2022-07-14 02:39:03,957 [Thread-2183] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s0@group-F8D60CD02D9E: succeeded to handle AppendEntries. Reply: s2<-s0#1240:OK-t9,SUCCESS,nextIndex=17,followerCommit=15
2022-07-14 02:39:03,958 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 15 -> 16
2022-07-14 02:39:03,958 [Thread-2184] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-F8D60CD02D9E: succeeded to handle AppendEntries. Reply: s2<-s1#1239:OK-t9,SUCCESS,nextIndex=17,followerCommit=15
2022-07-14 02:39:04,375 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t9, leader=s2, voted=s2, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c16, conf=15: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F8D60CD02D9E:t9, leader=s2, voted=s2, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c16, conf=15: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-F8D60CD02D9E:t9, leader=s2, voted=s2, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c16, conf=15: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:04,376 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s0 to s2
2022-07-14 02:39:04,376 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:39:04,376 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t9, leader=s2, voted=s2, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c16, conf=15: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F8D60CD02D9E:t9, leader=s2, voted=s2, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c16, conf=15: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-F8D60CD02D9E:t9, leader=s2, voted=s2, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c16, conf=15: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:04,376 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t9, leader=s2, voted=s2, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c16, conf=15: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F8D60CD02D9E:t9, leader=s2, voted=s2, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c16, conf=15: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-F8D60CD02D9E:t9, leader=s2, voted=s2, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c16, conf=15: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:04,376 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:39:04,477 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:39:04,477 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t9, leader=s2, voted=s2, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c16, conf=15: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F8D60CD02D9E:t9, leader=s2, voted=s2, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c16, conf=15: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-F8D60CD02D9E:t9, leader=s2, voted=s2, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c16, conf=15: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:04,478 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t9, leader=s2, voted=s2, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c16, conf=15: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F8D60CD02D9E:t9, leader=s2, voted=s2, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c16, conf=15: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-F8D60CD02D9E:t9, leader=s2, voted=s2, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c16, conf=15: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:04,478 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:39:04,578 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:39:04,578 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t9, leader=s2, voted=s2, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c16, conf=15: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F8D60CD02D9E:t9, leader=s2, voted=s2, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c16, conf=15: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-F8D60CD02D9E:t9, leader=s2, voted=s2, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c16, conf=15: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:04,579 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t9, leader=s2, voted=s2, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c16, conf=15: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F8D60CD02D9E:t9, leader=s2, voted=s2, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c16, conf=15: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-F8D60CD02D9E:t9, leader=s2, voted=s2, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c16, conf=15: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:04,579 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:39:04,603 [s1@group-F8D60CD02D9E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-F8D60CD02D9E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:265620916ns, electionTimeout:193ms
2022-07-14 02:39:04,603 [s1@group-F8D60CD02D9E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-F8D60CD02D9E-FollowerState
2022-07-14 02:39:04,603 [s1@group-F8D60CD02D9E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-F8D60CD02D9E: changes role from  FOLLOWER to CANDIDATE at term 9 for changeToCandidate
2022-07-14 02:39:04,603 [s1@group-F8D60CD02D9E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:39:04,603 [s1@group-F8D60CD02D9E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-F8D60CD02D9E-LeaderElection74
2022-07-14 02:39:04,604 [s1@group-F8D60CD02D9E-LeaderElection74] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s1@group-F8D60CD02D9E: change Leader from s2 to null at term 9 for PRE_VOTE
2022-07-14 02:39:04,604 [s1@group-F8D60CD02D9E-LeaderElection74] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-F8D60CD02D9E-LeaderElection74 PRE_VOTE round 0: submit vote requests at term 9 for 15: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:04,604 [Thread-1888] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s0@group-F8D60CD02D9E: receive requestVote(PRE_VOTE, s1, group-F8D60CD02D9E, 9, (t:9, i:16))
2022-07-14 02:39:04,604 [Thread-1903] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-F8D60CD02D9E: receive requestVote(PRE_VOTE, s1, group-F8D60CD02D9E, 9, (t:9, i:16))
2022-07-14 02:39:04,604 [Thread-1888] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-F8D60CD02D9E-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-07-14 02:39:04,604 [Thread-1903] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-F8D60CD02D9E-LEADER: reject PRE_VOTE from s1: this server is the leader and still has leadership
2022-07-14 02:39:04,604 [Thread-1888] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s0@group-F8D60CD02D9E replies to PRE_VOTE vote request: s1<-s0#0:OK-t9. Peer's state: s0@group-F8D60CD02D9E:t9, leader=s2, voted=s2, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c16, conf=15: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:04,605 [Thread-1903] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-F8D60CD02D9E replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t9. Peer's state: s2@group-F8D60CD02D9E:t9, leader=s2, voted=s2, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c16, conf=15: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:04,605 [s1@group-F8D60CD02D9E-LeaderElection74] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-F8D60CD02D9E-LeaderElection74: PRE_VOTE PASSED received 2 response(s) and 0 exception(s):
2022-07-14 02:39:04,605 [s1@group-F8D60CD02D9E-LeaderElection74] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t9
2022-07-14 02:39:04,605 [s1@group-F8D60CD02D9E-LeaderElection74] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s1<-s2#0:FAIL-t9
2022-07-14 02:39:04,605 [s1@group-F8D60CD02D9E-LeaderElection74] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-F8D60CD02D9E-LeaderElection74 PRE_VOTE round 0: result PASSED
2022-07-14 02:39:04,608 [s1@group-F8D60CD02D9E-LeaderElection74] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s1@group-F8D60CD02D9E-LeaderElection74 ELECTION round 0: submit vote requests at term 10 for 15: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:04,608 [Thread-1889] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s0@group-F8D60CD02D9E: receive requestVote(ELECTION, s1, group-F8D60CD02D9E, 10, (t:9, i:16))
2022-07-14 02:39:04,608 [Thread-1904] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-F8D60CD02D9E: receive requestVote(ELECTION, s1, group-F8D60CD02D9E, 10, (t:9, i:16))
2022-07-14 02:39:04,608 [Thread-1904] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-F8D60CD02D9E-LEADER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-07-14 02:39:04,608 [Thread-1904] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s2@group-F8D60CD02D9E: change Leader from s2 to null at term 10 for updateCurrentTerm
2022-07-14 02:39:04,608 [Thread-1904] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-F8D60CD02D9E: changes role from    LEADER to FOLLOWER at term 10 for candidate:s1
2022-07-14 02:39:04,608 [Thread-1904] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-F8D60CD02D9E-LeaderStateImpl
2022-07-14 02:39:04,609 [Thread-1904] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s2@group-F8D60CD02D9E-PendingRequests: sendNotLeaderResponses
2022-07-14 02:39:04,609 [s2@group-F8D60CD02D9E->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s2@group-F8D60CD02D9E->s1-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-07-14 02:39:04,609 [Thread-1904] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-F8D60CD02D9E-FollowerState
2022-07-14 02:39:04,609 [s2@group-F8D60CD02D9E->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s2@group-F8D60CD02D9E->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-07-14 02:39:04,608 [Thread-1889] INFO  impl.VoteContext (VoteContext.java:log(48)) - s0@group-F8D60CD02D9E-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-07-14 02:39:04,609 [Thread-1889] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s0@group-F8D60CD02D9E: change Leader from s2 to null at term 10 for updateCurrentTerm
2022-07-14 02:39:04,609 [Thread-1889] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s0@group-F8D60CD02D9E: changes role from  FOLLOWER to FOLLOWER at term 10 for candidate:s1
2022-07-14 02:39:04,609 [Thread-1889] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-F8D60CD02D9E-FollowerState
2022-07-14 02:39:04,609 [Thread-1889] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-F8D60CD02D9E-FollowerState
2022-07-14 02:39:04,610 [s0@group-F8D60CD02D9E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-F8D60CD02D9E-FollowerState was interrupted
2022-07-14 02:39:04,612 [Thread-1889] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s0@group-F8D60CD02D9E replies to ELECTION vote request: s1<-s0#0:OK-t10. Peer's state: s0@group-F8D60CD02D9E:t10, leader=null, voted=s1, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c16, conf=15: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:04,612 [Thread-1904] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-F8D60CD02D9E replies to ELECTION vote request: s1<-s2#0:OK-t10. Peer's state: s2@group-F8D60CD02D9E:t10, leader=null, voted=s1, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c16, conf=15: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:04,612 [s1@group-F8D60CD02D9E-LeaderElection74] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s1@group-F8D60CD02D9E-LeaderElection74: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-07-14 02:39:04,612 [s1@group-F8D60CD02D9E-LeaderElection74] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s1<-s0#0:OK-t10
2022-07-14 02:39:04,612 [s1@group-F8D60CD02D9E-LeaderElection74] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s1@group-F8D60CD02D9E-LeaderElection74 ELECTION round 0: result PASSED
2022-07-14 02:39:04,612 [s1@group-F8D60CD02D9E-LeaderElection74] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-F8D60CD02D9E-LeaderElection74
2022-07-14 02:39:04,612 [s1@group-F8D60CD02D9E-LeaderElection74] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-F8D60CD02D9E: changes role from CANDIDATE to LEADER at term 10 for changeToLeader
2022-07-14 02:39:04,612 [s1@group-F8D60CD02D9E-LeaderElection74] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s1@group-F8D60CD02D9E: change Leader from null to s1 at term 10 for becomeLeader, leader elected after 8ms
2022-07-14 02:39:04,613 [s1@group-F8D60CD02D9E-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-07-14 02:39:04,613 [s1@group-F8D60CD02D9E-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-14 02:39:04,613 [s1@group-F8D60CD02D9E-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-07-14 02:39:04,613 [s1@group-F8D60CD02D9E-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-07-14 02:39:04,613 [s1@group-F8D60CD02D9E-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-07-14 02:39:04,613 [s1@group-F8D60CD02D9E-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-07-14 02:39:04,613 [s1@group-F8D60CD02D9E-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-14 02:39:04,613 [s1@group-F8D60CD02D9E-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-07-14 02:39:04,613 [s1@group-F8D60CD02D9E-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-14 02:39:04,613 [s1@group-F8D60CD02D9E-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:39:04,613 [s1@group-F8D60CD02D9E-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-14 02:39:04,613 [s1@group-F8D60CD02D9E-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-14 02:39:04,614 [s1@group-F8D60CD02D9E-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:39:04,614 [s1@group-F8D60CD02D9E-LeaderElection74] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-14 02:39:04,614 [s1@group-F8D60CD02D9E-LeaderElection74] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-F8D60CD02D9E-LeaderStateImpl
2022-07-14 02:39:04,614 [s1@group-F8D60CD02D9E-LeaderElection74] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: Rolling segment log-15_16 to index:16
2022-07-14 02:39:04,614 [s1@group-F8D60CD02D9E-LeaderElection74] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:16: startIndex=15 endIndex=16
2022-07-14 02:39:04,614 [s1@group-F8D60CD02D9E-LeaderElection74] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task StartLogSegment:17
2022-07-14 02:39:04,614 [s1@group-F8D60CD02D9E-LeaderElection74] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task WriteLog:17: (t:10, i:17), CONFIGURATIONENTRY
2022-07-14 02:39:04,615 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_15 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_15-16
2022-07-14 02:39:04,615 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_15 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_15-16
2022-07-14 02:39:04,615 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 16 -> 16
2022-07-14 02:39:04,615 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=14, new=16, updated? true
2022-07-14 02:39:04,620 [Thread-1890] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s0@group-F8D60CD02D9E: change Leader from null to s1 at term 10 for appendEntries, leader elected after 10ms
2022-07-14 02:39:04,620 [s1@group-F8D60CD02D9E-LeaderElection74] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s1@group-F8D60CD02D9E: set configuration 17: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:04,620 [Thread-1905] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s2@group-F8D60CD02D9E: change Leader from null to s1 at term 10 for appendEntries, leader elected after 11ms
2022-07-14 02:39:04,621 [Thread-1888] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s0@group-F8D60CD02D9E: receive appendEntries(s1, 10, (t:9, i:16), 16, true, commits[s1:c16, s0:c16, s2:c16], entries: (t:10, i:17), CONFIGURATIONENTRY
2022-07-14 02:39:04,621 [Thread-1888] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s0@group-F8D60CD02D9E: set configuration 17: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:04,621 [Thread-1903] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-F8D60CD02D9E: receive appendEntries(s1, 10, (t:9, i:16), 16, true, commits[s1:c16, s0:c16, s2:c16], entries: (t:10, i:17), CONFIGURATIONENTRY
2022-07-14 02:39:04,621 [Thread-1888] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: Rolling segment log-15_16 to index:16
2022-07-14 02:39:04,621 [Thread-1888] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:16: startIndex=15 endIndex=16
2022-07-14 02:39:04,621 [Thread-1903] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s2@group-F8D60CD02D9E: set configuration 17: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:04,621 [Thread-1903] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: Rolling segment log-15_16 to index:16
2022-07-14 02:39:04,621 [Thread-1903] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:16: startIndex=15 endIndex=16
2022-07-14 02:39:04,621 [Thread-1903] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task StartLogSegment:17
2022-07-14 02:39:04,622 [Thread-1903] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task WriteLog:17: (t:10, i:17), CONFIGURATIONENTRY
2022-07-14 02:39:04,621 [Thread-1888] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task StartLogSegment:17
2022-07-14 02:39:04,622 [Thread-1888] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task WriteLog:17: (t:10, i:17), CONFIGURATIONENTRY
2022-07-14 02:39:04,622 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_15 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_15-16
2022-07-14 02:39:04,622 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_15 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_15-16
2022-07-14 02:39:04,623 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 16 -> 16
2022-07-14 02:39:04,623 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=14, new=16, updated? true
2022-07-14 02:39:04,623 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_15 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_15-16
2022-07-14 02:39:04,623 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_15 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_15-16
2022-07-14 02:39:04,623 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 16 -> 16
2022-07-14 02:39:04,623 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=14, new=16, updated? true
2022-07-14 02:39:04,643 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_17
2022-07-14 02:39:04,643 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_17
2022-07-14 02:39:04,643 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_17)
2022-07-14 02:39:04,643 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_17
2022-07-14 02:39:04,643 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_17)
2022-07-14 02:39:04,644 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 16 -> 17
2022-07-14 02:39:04,644 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_17)
2022-07-14 02:39:04,644 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 16 -> 17
2022-07-14 02:39:04,644 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 16 -> 17
2022-07-14 02:39:04,644 [Thread-2222] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s0@group-F8D60CD02D9E: succeeded to handle AppendEntries. Reply: s1<-s0#1270:OK-t10,SUCCESS,nextIndex=18,followerCommit=16
2022-07-14 02:39:04,644 [Thread-2223] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-F8D60CD02D9E: succeeded to handle AppendEntries. Reply: s1<-s2#1271:OK-t10,SUCCESS,nextIndex=18,followerCommit=16
2022-07-14 02:39:04,645 [s1@group-F8D60CD02D9E-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task WriteLog:18: (t:10, i:18), METADATAENTRY(c:17)
2022-07-14 02:39:04,645 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_17)
2022-07-14 02:39:04,645 [Thread-1889] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s0@group-F8D60CD02D9E: receive appendEntries(s1, 10, (t:10, i:17), 17, true, commits[s1:c17, s0:c16, s2:c16], entries: (t:10, i:18), METADATAENTRY(c:17)
2022-07-14 02:39:04,646 [Thread-1889] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task WriteLog:18: (t:10, i:18), METADATAENTRY(c:17)
2022-07-14 02:39:04,646 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 17 -> 18
2022-07-14 02:39:04,646 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_17)
2022-07-14 02:39:04,646 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 17 -> 18
2022-07-14 02:39:04,647 [Thread-1904] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-F8D60CD02D9E: receive appendEntries(s1, 10, (t:10, i:17), 17, true, commits[s1:c17, s0:c16, s2:c16], entries: (t:10, i:18), METADATAENTRY(c:17)
2022-07-14 02:39:04,647 [Thread-1904] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task WriteLog:18: (t:10, i:18), METADATAENTRY(c:17)
2022-07-14 02:39:04,647 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_17)
2022-07-14 02:39:04,648 [Thread-2224] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s0@group-F8D60CD02D9E: succeeded to handle AppendEntries. Reply: s1<-s0#1272:OK-t10,SUCCESS,nextIndex=19,followerCommit=17
2022-07-14 02:39:04,648 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 17 -> 18
2022-07-14 02:39:04,649 [Thread-2225] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-F8D60CD02D9E: succeeded to handle AppendEntries. Reply: s1<-s2#1273:OK-t10,SUCCESS,nextIndex=19,followerCommit=17
2022-07-14 02:39:04,679 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:39:04,679 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t10, leader=s1, voted=s1, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c17, conf=17: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-F8D60CD02D9E:t10, leader=s1, voted=s1, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c18, conf=17: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F8D60CD02D9E:t10, leader=s1, voted=s1, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c17, conf=17: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:04,680 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t10, leader=s1, voted=s1, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c17, conf=17: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-F8D60CD02D9E:t10, leader=s1, voted=s1, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c18, conf=17: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F8D60CD02D9E:t10, leader=s1, voted=s1, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c17, conf=17: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:04,680 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s2 to s1
2022-07-14 02:39:04,680 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:39:04,680 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t10, leader=s1, voted=s1, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c17, conf=17: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-F8D60CD02D9E:t10, leader=s1, voted=s1, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c18, conf=17: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F8D60CD02D9E:t10, leader=s1, voted=s1, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c17, conf=17: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:04,680 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t10, leader=s1, voted=s1, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c17, conf=17: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-F8D60CD02D9E:t10, leader=s1, voted=s1, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c18, conf=17: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F8D60CD02D9E:t10, leader=s1, voted=s1, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c17, conf=17: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:04,680 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #1/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:39:04,781 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:39:04,781 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t10, leader=s1, voted=s1, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c17, conf=17: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-F8D60CD02D9E:t10, leader=s1, voted=s1, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c18, conf=17: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F8D60CD02D9E:t10, leader=s1, voted=s1, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c17, conf=17: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:04,781 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t10, leader=s1, voted=s1, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c17, conf=17: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-F8D60CD02D9E:t10, leader=s1, voted=s1, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c18, conf=17: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F8D60CD02D9E:t10, leader=s1, voted=s1, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c17, conf=17: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:04,781 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #2/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:39:04,882 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:39:04,882 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t10, leader=s1, voted=s1, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c17, conf=17: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-F8D60CD02D9E:t10, leader=s1, voted=s1, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c18, conf=17: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F8D60CD02D9E:t10, leader=s1, voted=s1, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c17, conf=17: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:04,882 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t10, leader=s1, voted=s1, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c17, conf=17: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-F8D60CD02D9E:t10, leader=s1, voted=s1, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c18, conf=17: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F8D60CD02D9E:t10, leader=s1, voted=s1, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c17, conf=17: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:04,882 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #3/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:39:04,983 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:39:04,983 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t10, leader=s1, voted=s1, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c17, conf=17: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-F8D60CD02D9E:t10, leader=s1, voted=s1, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c18, conf=17: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F8D60CD02D9E:t10, leader=s1, voted=s1, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c17, conf=17: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:04,984 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F8D60CD02D9E:t10, leader=s1, voted=s1, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c17, conf=17: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-F8D60CD02D9E:t10, leader=s1, voted=s1, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c18, conf=17: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F8D60CD02D9E:t10, leader=s1, voted=s1, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c17, conf=17: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:04,984 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "testChangeLeader-changeLeader", attempt #4/20: java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
java.lang.IllegalStateException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.server.impl.LeaderElectionTests.testChangeLeader(LeaderElectionTests.java:101)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:39:05,003 [s0@group-F8D60CD02D9E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-F8D60CD02D9E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:355193639ns, electionTimeout:178ms
2022-07-14 02:39:05,003 [s0@group-F8D60CD02D9E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-F8D60CD02D9E-FollowerState
2022-07-14 02:39:05,003 [s0@group-F8D60CD02D9E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s0@group-F8D60CD02D9E: changes role from  FOLLOWER to CANDIDATE at term 10 for changeToCandidate
2022-07-14 02:39:05,003 [s0@group-F8D60CD02D9E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:39:05,003 [s0@group-F8D60CD02D9E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-F8D60CD02D9E-LeaderElection75
2022-07-14 02:39:05,004 [s0@group-F8D60CD02D9E-LeaderElection75] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s0@group-F8D60CD02D9E: change Leader from s1 to null at term 10 for PRE_VOTE
2022-07-14 02:39:05,004 [s0@group-F8D60CD02D9E-LeaderElection75] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-F8D60CD02D9E-LeaderElection75 PRE_VOTE round 0: submit vote requests at term 10 for 17: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:05,004 [Thread-1898] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-F8D60CD02D9E: receive requestVote(PRE_VOTE, s0, group-F8D60CD02D9E, 10, (t:10, i:18))
2022-07-14 02:39:05,004 [Thread-1898] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1017)) - s1@group-F8D60CD02D9E-LeaderStateImpl: Lost leadership on term: 10. Election timeout: 300ms. In charge for: 391ms. Conf: 17: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:05,004 [Thread-1898] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1021)) - Follower s1@group-F8D60CD02D9E->s0(c17,m18,n19, attendVote=true, lastRpcSendTime=280, lastRpcResponseTime=356)
2022-07-14 02:39:05,005 [Thread-1898] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1021)) - Follower s1@group-F8D60CD02D9E->s2(c17,m18,n19, attendVote=true, lastRpcSendTime=280, lastRpcResponseTime=355)
2022-07-14 02:39:05,005 [Thread-1898] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-F8D60CD02D9E: changes role from    LEADER to FOLLOWER at term 10 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2022-07-14 02:39:05,005 [Thread-1898] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-F8D60CD02D9E-LeaderStateImpl
2022-07-14 02:39:05,005 [Thread-1898] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-F8D60CD02D9E-PendingRequests: sendNotLeaderResponses
2022-07-14 02:39:05,005 [s1@group-F8D60CD02D9E->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s1@group-F8D60CD02D9E->s2-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-07-14 02:39:05,005 [Thread-1898] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-F8D60CD02D9E-FollowerState
2022-07-14 02:39:05,005 [Thread-1898] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-F8D60CD02D9E-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s1
2022-07-14 02:39:05,005 [Thread-1898] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-F8D60CD02D9E replies to PRE_VOTE vote request: s0<-s1#0:FAIL-t10. Peer's state: s1@group-F8D60CD02D9E:t10, leader=s1, voted=s1, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c18, conf=17: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:05,007 [s1@group-F8D60CD02D9E->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(84)) - s1@group-F8D60CD02D9E->s0-LogAppenderDefault-LogAppenderDaemon I/O was interrupted: java.io.InterruptedIOException: 
2022-07-14 02:39:05,008 [Thread-1903] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-F8D60CD02D9E: receive requestVote(PRE_VOTE, s0, group-F8D60CD02D9E, 10, (t:10, i:18))
2022-07-14 02:39:05,008 [Thread-1903] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-F8D60CD02D9E-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-07-14 02:39:05,008 [Thread-1903] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-F8D60CD02D9E replies to PRE_VOTE vote request: s0<-s2#0:OK-t10. Peer's state: s2@group-F8D60CD02D9E:t10, leader=s1, voted=s1, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c17, conf=17: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:05,008 [s0@group-F8D60CD02D9E-LeaderElection75] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-F8D60CD02D9E-LeaderElection75: PRE_VOTE PASSED received 2 response(s) and 0 exception(s):
2022-07-14 02:39:05,008 [s0@group-F8D60CD02D9E-LeaderElection75] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:FAIL-t10
2022-07-14 02:39:05,008 [s0@group-F8D60CD02D9E-LeaderElection75] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 1: s0<-s2#0:OK-t10
2022-07-14 02:39:05,008 [s0@group-F8D60CD02D9E-LeaderElection75] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-F8D60CD02D9E-LeaderElection75 PRE_VOTE round 0: result PASSED
2022-07-14 02:39:05,010 [s0@group-F8D60CD02D9E-LeaderElection75] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-F8D60CD02D9E-LeaderElection75 ELECTION round 0: submit vote requests at term 11 for 17: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:05,010 [Thread-1896] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-F8D60CD02D9E: receive requestVote(ELECTION, s0, group-F8D60CD02D9E, 11, (t:10, i:18))
2022-07-14 02:39:05,010 [Thread-1896] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-F8D60CD02D9E-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-07-14 02:39:05,010 [Thread-1896] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s1@group-F8D60CD02D9E: change Leader from s1 to null at term 11 for updateCurrentTerm
2022-07-14 02:39:05,010 [Thread-1896] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-F8D60CD02D9E: changes role from  FOLLOWER to FOLLOWER at term 11 for candidate:s0
2022-07-14 02:39:05,010 [Thread-1896] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-F8D60CD02D9E-FollowerState
2022-07-14 02:39:05,011 [Thread-1896] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-F8D60CD02D9E-FollowerState
2022-07-14 02:39:05,011 [s1@group-F8D60CD02D9E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-F8D60CD02D9E-FollowerState was interrupted
2022-07-14 02:39:05,011 [Thread-1904] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-F8D60CD02D9E: receive requestVote(ELECTION, s0, group-F8D60CD02D9E, 11, (t:10, i:18))
2022-07-14 02:39:05,011 [Thread-1904] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-F8D60CD02D9E-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-07-14 02:39:05,011 [Thread-1904] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s2@group-F8D60CD02D9E: change Leader from s1 to null at term 11 for updateCurrentTerm
2022-07-14 02:39:05,011 [Thread-1904] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-F8D60CD02D9E: changes role from  FOLLOWER to FOLLOWER at term 11 for candidate:s0
2022-07-14 02:39:05,011 [Thread-1904] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-F8D60CD02D9E-FollowerState
2022-07-14 02:39:05,011 [Thread-1904] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-F8D60CD02D9E-FollowerState
2022-07-14 02:39:05,011 [s2@group-F8D60CD02D9E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-F8D60CD02D9E-FollowerState was interrupted
2022-07-14 02:39:05,013 [Thread-1904] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-F8D60CD02D9E replies to ELECTION vote request: s0<-s2#0:OK-t11. Peer's state: s2@group-F8D60CD02D9E:t11, leader=null, voted=s0, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c17, conf=17: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:05,013 [Thread-1896] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-F8D60CD02D9E replies to ELECTION vote request: s0<-s1#0:OK-t11. Peer's state: s1@group-F8D60CD02D9E:t11, leader=null, voted=s0, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c18, conf=17: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:05,013 [s0@group-F8D60CD02D9E-LeaderElection75] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-F8D60CD02D9E-LeaderElection75: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-07-14 02:39:05,013 [s0@group-F8D60CD02D9E-LeaderElection75] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t11
2022-07-14 02:39:05,013 [s0@group-F8D60CD02D9E-LeaderElection75] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-F8D60CD02D9E-LeaderElection75 ELECTION round 0: result PASSED
2022-07-14 02:39:05,013 [s0@group-F8D60CD02D9E-LeaderElection75] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-F8D60CD02D9E-LeaderElection75
2022-07-14 02:39:05,013 [s0@group-F8D60CD02D9E-LeaderElection75] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s0@group-F8D60CD02D9E: changes role from CANDIDATE to LEADER at term 11 for changeToLeader
2022-07-14 02:39:05,013 [s0@group-F8D60CD02D9E-LeaderElection75] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s0@group-F8D60CD02D9E: change Leader from null to s0 at term 11 for becomeLeader, leader elected after 9ms
2022-07-14 02:39:05,014 [s0@group-F8D60CD02D9E-LeaderElection75] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-07-14 02:39:05,014 [s0@group-F8D60CD02D9E-LeaderElection75] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-14 02:39:05,014 [s0@group-F8D60CD02D9E-LeaderElection75] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-07-14 02:39:05,014 [s0@group-F8D60CD02D9E-LeaderElection75] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-07-14 02:39:05,014 [s0@group-F8D60CD02D9E-LeaderElection75] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-07-14 02:39:05,014 [s0@group-F8D60CD02D9E-LeaderElection75] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-07-14 02:39:05,014 [s0@group-F8D60CD02D9E-LeaderElection75] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-14 02:39:05,014 [s0@group-F8D60CD02D9E-LeaderElection75] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-07-14 02:39:05,014 [s0@group-F8D60CD02D9E-LeaderElection75] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-14 02:39:05,014 [s0@group-F8D60CD02D9E-LeaderElection75] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:39:05,014 [s0@group-F8D60CD02D9E-LeaderElection75] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-14 02:39:05,014 [s0@group-F8D60CD02D9E-LeaderElection75] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-14 02:39:05,014 [s0@group-F8D60CD02D9E-LeaderElection75] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:39:05,015 [s0@group-F8D60CD02D9E-LeaderElection75] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-14 02:39:05,015 [s0@group-F8D60CD02D9E-LeaderElection75] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-F8D60CD02D9E-LeaderStateImpl
2022-07-14 02:39:05,015 [s0@group-F8D60CD02D9E-LeaderElection75] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: Rolling segment log-17_18 to index:18
2022-07-14 02:39:05,015 [s0@group-F8D60CD02D9E-LeaderElection75] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:18: startIndex=17 endIndex=18
2022-07-14 02:39:05,015 [s0@group-F8D60CD02D9E-LeaderElection75] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task StartLogSegment:19
2022-07-14 02:39:05,015 [s0@group-F8D60CD02D9E-LeaderElection75] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task WriteLog:19: (t:11, i:19), CONFIGURATIONENTRY
2022-07-14 02:39:05,016 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_17 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_17-18
2022-07-14 02:39:05,016 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_17 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_17-18
2022-07-14 02:39:05,016 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 18 -> 18
2022-07-14 02:39:05,016 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=16, new=18, updated? true
2022-07-14 02:39:05,026 [Thread-1897] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s1@group-F8D60CD02D9E: change Leader from null to s0 at term 11 for appendEntries, leader elected after 15ms
2022-07-14 02:39:05,026 [s0@group-F8D60CD02D9E-LeaderElection75] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s0@group-F8D60CD02D9E: set configuration 19: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:05,026 [Thread-1905] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s2@group-F8D60CD02D9E: change Leader from null to s0 at term 11 for appendEntries, leader elected after 15ms
2022-07-14 02:39:05,027 [Thread-1898] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-F8D60CD02D9E: receive appendEntries(s0, 11, (t:10, i:18), 17, true, commits[s0:c17, s1:c18, s2:c16], entries: (t:11, i:19), CONFIGURATIONENTRY
2022-07-14 02:39:05,027 [Thread-1898] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s1@group-F8D60CD02D9E: set configuration 19: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:05,027 [Thread-1898] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: Rolling segment log-17_18 to index:18
2022-07-14 02:39:05,027 [Thread-1898] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:18: startIndex=17 endIndex=18
2022-07-14 02:39:05,027 [Thread-1898] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task StartLogSegment:19
2022-07-14 02:39:05,027 [Thread-1898] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task WriteLog:19: (t:11, i:19), CONFIGURATIONENTRY
2022-07-14 02:39:05,028 [Thread-1903] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-F8D60CD02D9E: receive appendEntries(s0, 11, (t:10, i:18), 17, true, commits[s0:c17, s1:c18, s2:c17], entries: (t:11, i:19), CONFIGURATIONENTRY
2022-07-14 02:39:05,028 [Thread-1903] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s2@group-F8D60CD02D9E: set configuration 19: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null
2022-07-14 02:39:05,028 [Thread-1903] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(430)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: Rolling segment log-17_18 to index:18
2022-07-14 02:39:05,029 [Thread-1903] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task FinalizeLogSegment:18: startIndex=17 endIndex=18
2022-07-14 02:39:05,029 [Thread-1903] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task StartLogSegment:19
2022-07-14 02:39:05,029 [Thread-1903] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task WriteLog:19: (t:11, i:19), CONFIGURATIONENTRY
2022-07-14 02:39:05,028 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_19
2022-07-14 02:39:05,029 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_19)
2022-07-14 02:39:05,030 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_17 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_17-18
2022-07-14 02:39:05,030 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_17 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_17-18
2022-07-14 02:39:05,030 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 18 -> 18
2022-07-14 02:39:05,030 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=16, new=18, updated? true
2022-07-14 02:39:05,030 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_17 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_17-18
2022-07-14 02:39:05,030 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(586)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_17 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_17-18
2022-07-14 02:39:05,030 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 18 -> 18
2022-07-14 02:39:05,030 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: safeCacheEvictIndex: updateToMax old=16, new=18, updated? true
2022-07-14 02:39:05,034 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 18 -> 19
2022-07-14 02:39:05,049 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_19
2022-07-14 02:39:05,049 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_19
2022-07-14 02:39:05,050 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_19)
2022-07-14 02:39:05,050 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_19)
2022-07-14 02:39:05,050 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 18 -> 19
2022-07-14 02:39:05,050 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 18 -> 19
2022-07-14 02:39:05,050 [Thread-2249] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-F8D60CD02D9E: succeeded to handle AppendEntries. Reply: s0<-s1#1287:OK-t11,SUCCESS,nextIndex=20,followerCommit=18
2022-07-14 02:39:05,051 [Thread-2250] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-F8D60CD02D9E: succeeded to handle AppendEntries. Reply: s0<-s2#1288:OK-t11,SUCCESS,nextIndex=20,followerCommit=17
2022-07-14 02:39:05,051 [s0@group-F8D60CD02D9E-LeaderStateImpl] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task WriteLog:20: (t:11, i:20), METADATAENTRY(c:19)
2022-07-14 02:39:05,051 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s0/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_19)
2022-07-14 02:39:05,051 [Thread-1904] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-F8D60CD02D9E: receive appendEntries(s0, 11, (t:11, i:19), 19, true, commits[s0:c19, s1:c18, s2:c17], entries: (t:11, i:20), METADATAENTRY(c:19)
2022-07-14 02:39:05,052 [Thread-1904] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task WriteLog:20: (t:11, i:20), METADATAENTRY(c:19)
2022-07-14 02:39:05,052 [Thread-1896] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-F8D60CD02D9E: receive appendEntries(s0, 11, (t:11, i:19), 19, true, commits[s0:c19, s1:c18, s2:c17], entries: (t:11, i:20), METADATAENTRY(c:19)
2022-07-14 02:39:05,052 [Thread-1896] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:addIOTask(270)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker adds IO task WriteLog:20: (t:11, i:20), METADATAENTRY(c:19)
2022-07-14 02:39:05,052 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s2/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_19)
2022-07-14 02:39:05,052 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] DEBUG segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:flushIfNecessary(365)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: flush SegmentedRaftLogOutputStream(/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpc87a7caba/s1/078de069-fa18-4bd2-ac0b-f8d60cd02d9e/current/log_inprogress_19)
2022-07-14 02:39:05,053 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 19 -> 20
2022-07-14 02:39:05,053 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 19 -> 20
2022-07-14 02:39:05,053 [Thread-2251] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-F8D60CD02D9E: succeeded to handle AppendEntries. Reply: s0<-s2#1290:OK-t11,SUCCESS,nextIndex=21,followerCommit=19
2022-07-14 02:39:05,054 [Thread-2252] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-F8D60CD02D9E: succeeded to handle AppendEntries. Reply: s0<-s1#1291:OK-t11,SUCCESS,nextIndex=21,followerCommit=19
2022-07-14 02:39:05,055 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] TRACE segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$1(136)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker: flushIndex: updateIncreasingly 19 -> 20
2022-07-14 02:39:05,084 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:39:05,085 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-F8D60CD02D9E:t11, leader=s0, voted=s0, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c20, conf=19: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F8D60CD02D9E:t11, leader=s0, voted=s0, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c19, conf=19: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F8D60CD02D9E:t11, leader=s0, voted=s0, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c19, conf=19: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:05,085 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-F8D60CD02D9E:t11, leader=s0, voted=s0, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c20, conf=19: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F8D60CD02D9E:t11, leader=s0, voted=s0, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c19, conf=19: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F8D60CD02D9E:t11, leader=s0, voted=s0, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c19, conf=19: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:05,085 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s1 to s0
2022-07-14 02:39:05,085 [Time-limited test] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.raftlog.segmented.SegmentedRaftLogWorker log level to INFO
2022-07-14 02:39:05,085 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(779)) - ************************************************************** 
2022-07-14 02:39:05,085 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(780)) - *** 
2022-07-14 02:39:05,085 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(781)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2022-07-14 02:39:05,085 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(782)) - *** 
2022-07-14 02:39:05,085 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(783)) - ************************************************************** 
2022-07-14 02:39:05,085 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(784)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-F8D60CD02D9E:t11, leader=s0, voted=s0, raftlog=Memoized:s0@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c20, conf=19: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F8D60CD02D9E:t11, leader=s0, voted=s0, raftlog=Memoized:s1@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c19, conf=19: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F8D60CD02D9E:t11, leader=s0, voted=s0, raftlog=Memoized:s2@group-F8D60CD02D9E-SegmentedRaftLog:OPENED:c19, conf=19: [s0|rpc:localhost:38503|admin:localhost:35981|client:localhost:42373|dataStream:localhost:39561|priority:0, s1|rpc:localhost:43709|admin:localhost:35569|client:localhost:37101|dataStream:localhost:43793|priority:0, s2|rpc:localhost:35953|admin:localhost:33751|client:localhost:43789|dataStream:localhost:38515|priority:0], old=null RUNNING
2022-07-14 02:39:05,086 [java.util.concurrent.ThreadPoolExecutor$Worker@4c86809[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s0: close
2022-07-14 02:39:05,087 [java.util.concurrent.ThreadPoolExecutor$Worker@a2f6d1d[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s1: close
2022-07-14 02:39:05,087 [java.util.concurrent.ThreadPoolExecutor$Worker@569d32c7[State = -1, empty queue]] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$6(401)) - s2: close
2022-07-14 02:39:05,088 [java.util.concurrent.ThreadPoolExecutor$Worker@569d32c7[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(437)) - s2@group-F8D60CD02D9E: shutdown
2022-07-14 02:39:05,088 [java.util.concurrent.ThreadPoolExecutor$Worker@4c86809[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(437)) - s0@group-F8D60CD02D9E: shutdown
2022-07-14 02:39:05,088 [java.util.concurrent.ThreadPoolExecutor$Worker@569d32c7[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-F8D60CD02D9E,id=s2
2022-07-14 02:39:05,088 [java.util.concurrent.ThreadPoolExecutor$Worker@569d32c7[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-F8D60CD02D9E-FollowerState
2022-07-14 02:39:05,088 [java.util.concurrent.ThreadPoolExecutor$Worker@a2f6d1d[State = -1, empty queue]] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(437)) - s1@group-F8D60CD02D9E: shutdown
2022-07-14 02:39:05,088 [java.util.concurrent.ThreadPoolExecutor$Worker@a2f6d1d[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-F8D60CD02D9E,id=s1
2022-07-14 02:39:05,088 [s2@group-F8D60CD02D9E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-F8D60CD02D9E-FollowerState was interrupted
2022-07-14 02:39:05,088 [java.util.concurrent.ThreadPoolExecutor$Worker@4c86809[State = -1, empty queue]] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-F8D60CD02D9E,id=s0
2022-07-14 02:39:05,089 [java.util.concurrent.ThreadPoolExecutor$Worker@a2f6d1d[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-F8D60CD02D9E-FollowerState
2022-07-14 02:39:05,089 [s1@group-F8D60CD02D9E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-F8D60CD02D9E-FollowerState was interrupted
2022-07-14 02:39:05,089 [java.util.concurrent.ThreadPoolExecutor$Worker@569d32c7[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s2@group-F8D60CD02D9E-StateMachineUpdater: set stopIndex = 19
2022-07-14 02:39:05,089 [java.util.concurrent.ThreadPoolExecutor$Worker@4c86809[State = -1, empty queue]] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-F8D60CD02D9E-LeaderStateImpl
2022-07-14 02:39:05,089 [java.util.concurrent.ThreadPoolExecutor$Worker@a2f6d1d[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s1@group-F8D60CD02D9E-StateMachineUpdater: set stopIndex = 19
2022-07-14 02:39:05,089 [java.util.concurrent.ThreadPoolExecutor$Worker@569d32c7[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(456)) - s2@group-F8D60CD02D9E: closes. applyIndex: 19
2022-07-14 02:39:05,089 [s0@group-F8D60CD02D9E->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s0@group-F8D60CD02D9E->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-07-14 02:39:05,089 [java.util.concurrent.ThreadPoolExecutor$Worker@4c86809[State = -1, empty queue]] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-F8D60CD02D9E-PendingRequests: sendNotLeaderResponses
2022-07-14 02:39:05,089 [s0@group-F8D60CD02D9E->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(82)) - s0@group-F8D60CD02D9E->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2022-07-14 02:39:05,089 [java.util.concurrent.ThreadPoolExecutor$Worker@a2f6d1d[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(456)) - s1@group-F8D60CD02D9E: closes. applyIndex: 19
2022-07-14 02:39:05,090 [s2@group-F8D60CD02D9E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-07-14 02:39:05,090 [s1@group-F8D60CD02D9E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-07-14 02:39:05,091 [java.util.concurrent.ThreadPoolExecutor$Worker@4c86809[State = -1, empty queue]] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(153)) - s0@group-F8D60CD02D9E-StateMachineUpdater: set stopIndex = 20
2022-07-14 02:39:05,091 [java.util.concurrent.ThreadPoolExecutor$Worker@4c86809[State = -1, empty queue]] INFO  server.RaftServer$Division (ServerState.java:close(456)) - s0@group-F8D60CD02D9E: closes. applyIndex: 20
2022-07-14 02:39:05,091 [java.util.concurrent.ThreadPoolExecutor$Worker@569d32c7[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s2@group-F8D60CD02D9E-SegmentedRaftLogWorker close()
2022-07-14 02:39:05,091 [java.util.concurrent.ThreadPoolExecutor$Worker@a2f6d1d[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s1@group-F8D60CD02D9E-SegmentedRaftLogWorker close()
2022-07-14 02:39:05,092 [s0@group-F8D60CD02D9E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(336)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-07-14 02:39:05,097 [Thread-1906] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:39:05,097 [Thread-1907] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:39:05,097 [Thread-1908] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:39:05,097 [Thread-1903] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:39:05,097 [Thread-1904] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:39:05,098 [Thread-1905] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:39:05,098 [java.util.concurrent.ThreadPoolExecutor$Worker@4c86809[State = -1, empty queue]] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(246)) - s0@group-F8D60CD02D9E-SegmentedRaftLogWorker close()
2022-07-14 02:39:05,099 [Thread-1899] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:39:05,099 [Thread-1900] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:39:05,099 [Thread-1901] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:39:05,099 [Thread-1891] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:39:05,099 [Thread-1896] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:39:05,099 [Thread-1897] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:39:05,099 [Thread-1898] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:39:05,099 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$250/1367845902@cebd1bd] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2022-07-14 02:39:05,099 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$250/1367845902@2ddfcdab] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2022-07-14 02:39:05,100 [Thread-1892] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:39:05,100 [Thread-1893] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:39:05,100 [Thread-1888] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:39:05,100 [Thread-1889] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:39:05,100 [Thread-1890] INFO  simulation.RequestHandler (RequestHandler.java:run(126)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2022-07-14 02:39:05,100 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$250/1367845902@61806e05] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2022-07-14 02:39:05,100 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(802)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2022-07-14 02:39:05,101 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-07-14 02:39:05,101 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-07-14 02:39:05,101 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-07-14 02:39:05,101 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-07-14 02:39:06,795 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:39:06,796 [Time-limited test] INFO  impl.LeaderElection (LeaderElection.java:startIfNew(214)) - any@group-60C9AF2017E8-LeaderElection76: skip starting since this is already CLOSED
2022-07-14 02:39:06,796 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-07-14 02:39:06,797 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-07-14 02:39:06,797 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-07-14 02:39:06,797 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-07-14 02:39:06,812 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:39:06,813 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-07-14 02:39:06,813 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-07-14 02:39:06,813 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2022-07-14 02:39:06,813 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.client.RaftClient log level to DEBUG
2022-07-14 02:39:06,817 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2022-07-14 02:39:06,822 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(272)) - new MiniRaftClusterWithSimulatedRpc with group-76410F050E5B:[s0|rpc:localhost:43209|admin:localhost:42311|client:localhost:37987|dataStream:localhost:35845|priority:0, s1|rpc:localhost:39089|admin:localhost:34453|client:localhost:34169|dataStream:localhost:34431|priority:0, s2|rpc:localhost:35127|admin:localhost:45693|client:localhost:34933|dataStream:localhost:45879|priority:0]
2022-07-14 02:39:06,822 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(304)) - .............................................................. 
2022-07-14 02:39:06,822 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(305)) - ... 
2022-07-14 02:39:06,822 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(306)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2022-07-14 02:39:06,822 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(307)) - ... 
2022-07-14 02:39:06,822 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(308)) - .............................................................. 
2022-07-14 02:39:06,822 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(284)) - servers = {}
2022-07-14 02:39:06,823 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(348)) - newRaftServer: s0, group-76410F050E5B:[s0|rpc:localhost:43209|admin:localhost:42311|client:localhost:37987|dataStream:localhost:35845|priority:0, s1|rpc:localhost:39089|admin:localhost:34453|client:localhost:34169|dataStream:localhost:34431|priority:0, s2|rpc:localhost:35127|admin:localhost:45693|client:localhost:34933|dataStream:localhost:45879|priority:0], format? true
2022-07-14 02:39:06,823 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcfa4fed6/s0
2022-07-14 02:39:06,823 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcfa4fed6/s0 does not exist.
2022-07-14 02:39:06,823 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(353)) - Formatted directory target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcfa4fed6/s0
2022-07-14 02:39:06,824 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-14 02:39:06,827 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-07-14 02:39:06,828 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-07-14 02:39:06,828 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-07-14 02:39:06,828 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-14 02:39:06,828 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-14 02:39:06,836 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcfa4fed6/s0] (custom)
2022-07-14 02:39:06,847 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s0: addNew group-76410F050E5B:[s0|rpc:localhost:43209|admin:localhost:42311|client:localhost:37987|dataStream:localhost:35845|priority:0, s1|rpc:localhost:39089|admin:localhost:34453|client:localhost:34169|dataStream:localhost:34431|priority:0, s2|rpc:localhost:35127|admin:localhost:45693|client:localhost:34933|dataStream:localhost:45879|priority:0] returns group-76410F050E5B:java.util.concurrent.CompletableFuture@28db407e[Not completed]
2022-07-14 02:39:06,847 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(348)) - newRaftServer: s1, group-76410F050E5B:[s0|rpc:localhost:43209|admin:localhost:42311|client:localhost:37987|dataStream:localhost:35845|priority:0, s1|rpc:localhost:39089|admin:localhost:34453|client:localhost:34169|dataStream:localhost:34431|priority:0, s2|rpc:localhost:35127|admin:localhost:45693|client:localhost:34933|dataStream:localhost:45879|priority:0], format? true
2022-07-14 02:39:06,847 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcfa4fed6/s1
2022-07-14 02:39:06,847 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcfa4fed6/s1 does not exist.
2022-07-14 02:39:06,847 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(353)) - Formatted directory target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcfa4fed6/s1
2022-07-14 02:39:06,847 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-14 02:39:06,848 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-07-14 02:39:06,848 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-07-14 02:39:06,848 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-07-14 02:39:06,848 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-14 02:39:06,848 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-14 02:39:06,848 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcfa4fed6/s1] (custom)
2022-07-14 02:39:06,854 [pool-32-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(191)) - s0: new RaftServerImpl for group-76410F050E5B:[s0|rpc:localhost:43209|admin:localhost:42311|client:localhost:37987|dataStream:localhost:35845|priority:0, s1|rpc:localhost:39089|admin:localhost:34453|client:localhost:34169|dataStream:localhost:34431|priority:0, s2|rpc:localhost:35127|admin:localhost:45693|client:localhost:34933|dataStream:localhost:45879|priority:0] with BaseStateMachine:uninitialized
2022-07-14 02:39:06,854 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-07-14 02:39:06,854 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:39:06,855 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-07-14 02:39:06,855 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-14 02:39:06,855 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-14 02:39:06,855 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-07-14 02:39:06,855 [pool-32-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(109)) - s0@group-76410F050E5B: ConfigurationManager, init=-1: [s0|rpc:localhost:43209|admin:localhost:42311|client:localhost:37987|dataStream:localhost:35845|priority:0, s1|rpc:localhost:39089|admin:localhost:34453|client:localhost:34169|dataStream:localhost:34431|priority:0, s2|rpc:localhost:35127|admin:localhost:45693|client:localhost:34933|dataStream:localhost:45879|priority:0], old=null, confs=<EMPTY_MAP>
2022-07-14 02:39:06,855 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcfa4fed6/s0] (custom)
2022-07-14 02:39:06,855 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-07-14 02:39:06,856 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-07-14 02:39:06,856 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-07-14 02:39:06,856 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-07-14 02:39:06,856 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-07-14 02:39:06,858 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-07-14 02:39:06,858 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-07-14 02:39:06,858 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-07-14 02:39:06,858 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s1: addNew group-76410F050E5B:[s0|rpc:localhost:43209|admin:localhost:42311|client:localhost:37987|dataStream:localhost:35845|priority:0, s1|rpc:localhost:39089|admin:localhost:34453|client:localhost:34169|dataStream:localhost:34431|priority:0, s2|rpc:localhost:35127|admin:localhost:45693|client:localhost:34933|dataStream:localhost:45879|priority:0] returns group-76410F050E5B:java.util.concurrent.CompletableFuture@592d7262[Not completed]
2022-07-14 02:39:06,859 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(348)) - newRaftServer: s2, group-76410F050E5B:[s0|rpc:localhost:43209|admin:localhost:42311|client:localhost:37987|dataStream:localhost:35845|priority:0, s1|rpc:localhost:39089|admin:localhost:34453|client:localhost:34169|dataStream:localhost:34431|priority:0, s2|rpc:localhost:35127|admin:localhost:45693|client:localhost:34933|dataStream:localhost:45879|priority:0], format? true
2022-07-14 02:39:06,859 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(162)) - deleteFully target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcfa4fed6/s2
2022-07-14 02:39:06,859 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(178)) - deleteFully: target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcfa4fed6/s2 does not exist.
2022-07-14 02:39:06,859 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(353)) - Formatted directory target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcfa4fed6/s2
2022-07-14 02:39:06,859 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2022-07-14 02:39:06,859 [pool-33-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(191)) - s1: new RaftServerImpl for group-76410F050E5B:[s0|rpc:localhost:43209|admin:localhost:42311|client:localhost:37987|dataStream:localhost:35845|priority:0, s1|rpc:localhost:39089|admin:localhost:34453|client:localhost:34169|dataStream:localhost:34431|priority:0, s2|rpc:localhost:35127|admin:localhost:45693|client:localhost:34933|dataStream:localhost:45879|priority:0] with BaseStateMachine:uninitialized
2022-07-14 02:39:06,859 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-07-14 02:39:06,860 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-07-14 02:39:06,860 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-07-14 02:39:06,861 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:39:06,861 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-07-14 02:39:06,861 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-07-14 02:39:06,861 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-14 02:39:06,861 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-14 02:39:06,861 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-14 02:39:06,862 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-14 02:39:06,862 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcfa4fed6/s2] (custom)
2022-07-14 02:39:06,862 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-07-14 02:39:06,862 [pool-33-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(109)) - s1@group-76410F050E5B: ConfigurationManager, init=-1: [s0|rpc:localhost:43209|admin:localhost:42311|client:localhost:37987|dataStream:localhost:35845|priority:0, s1|rpc:localhost:39089|admin:localhost:34453|client:localhost:34169|dataStream:localhost:34431|priority:0, s2|rpc:localhost:35127|admin:localhost:45693|client:localhost:34933|dataStream:localhost:45879|priority:0], old=null, confs=<EMPTY_MAP>
2022-07-14 02:39:06,865 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcfa4fed6/s1] (custom)
2022-07-14 02:39:06,865 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-07-14 02:39:06,865 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-07-14 02:39:06,865 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-07-14 02:39:06,865 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-07-14 02:39:06,866 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-07-14 02:39:06,866 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-07-14 02:39:06,866 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-07-14 02:39:06,866 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-07-14 02:39:06,867 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-07-14 02:39:06,867 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-07-14 02:39:06,868 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-07-14 02:39:06,869 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-07-14 02:39:06,873 [pool-34-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(191)) - s2: new RaftServerImpl for group-76410F050E5B:[s0|rpc:localhost:43209|admin:localhost:42311|client:localhost:37987|dataStream:localhost:35845|priority:0, s1|rpc:localhost:39089|admin:localhost:34453|client:localhost:34169|dataStream:localhost:34431|priority:0, s2|rpc:localhost:35127|admin:localhost:45693|client:localhost:34933|dataStream:localhost:45879|priority:0] with BaseStateMachine:uninitialized
2022-07-14 02:39:06,873 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-07-14 02:39:06,873 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:39:06,873 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-07-14 02:39:06,873 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-07-14 02:39:06,873 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-07-14 02:39:06,873 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-07-14 02:39:06,873 [pool-34-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(109)) - s2@group-76410F050E5B: ConfigurationManager, init=-1: [s0|rpc:localhost:43209|admin:localhost:42311|client:localhost:37987|dataStream:localhost:35845|priority:0, s1|rpc:localhost:39089|admin:localhost:34453|client:localhost:34169|dataStream:localhost:34431|priority:0, s2|rpc:localhost:35127|admin:localhost:45693|client:localhost:34933|dataStream:localhost:45879|priority:0], old=null, confs=<EMPTY_MAP>
2022-07-14 02:39:06,874 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcfa4fed6/s2] (custom)
2022-07-14 02:39:06,874 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-07-14 02:39:06,874 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-07-14 02:39:06,874 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-07-14 02:39:06,874 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-07-14 02:39:06,874 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-07-14 02:39:06,875 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(96)) - s2: addNew group-76410F050E5B:[s0|rpc:localhost:43209|admin:localhost:42311|client:localhost:37987|dataStream:localhost:35845|priority:0, s1|rpc:localhost:39089|admin:localhost:34453|client:localhost:34169|dataStream:localhost:34431|priority:0, s2|rpc:localhost:35127|admin:localhost:45693|client:localhost:34933|dataStream:localhost:45879|priority:0] returns group-76410F050E5B:java.util.concurrent.CompletableFuture@6121e7ab[Not completed]
2022-07-14 02:39:06,879 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcfa4fed6/s0/263a0012-c67b-4196-84e1-76410f050e5b does not exist. Creating ...
2022-07-14 02:39:06,880 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcfa4fed6/s0/263a0012-c67b-4196-84e1-76410f050e5b
2022-07-14 02:39:06,880 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-07-14 02:39:06,881 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-07-14 02:39:06,881 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-07-14 02:39:06,881 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-07-14 02:39:06,881 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-07-14 02:39:06,883 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcfa4fed6/s0/263a0012-c67b-4196-84e1-76410f050e5b/in_use.lock acquired by nodename 16254@fv-az54-379.qczjibyfz4dularrisj3jz1gre.bx.internal.cloudapp.net
2022-07-14 02:39:06,883 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcfa4fed6/s0/263a0012-c67b-4196-84e1-76410f050e5b/current
2022-07-14 02:39:06,883 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcfa4fed6/s0/263a0012-c67b-4196-84e1-76410f050e5b/sm
2022-07-14 02:39:06,885 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcfa4fed6/s0/263a0012-c67b-4196-84e1-76410f050e5b has been successfully formatted.
2022-07-14 02:39:06,885 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-07-14 02:39:06,885 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-07-14 02:39:06,885 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:39:06,886 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-07-14 02:39:06,886 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-14 02:39:06,886 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-07-14 02:39:06,886 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-07-14 02:39:06,886 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s0@group-76410F050E5B-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcfa4fed6/s0/263a0012-c67b-4196-84e1-76410f050e5b
2022-07-14 02:39:06,886 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-07-14 02:39:06,886 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-07-14 02:39:06,886 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-14 02:39:06,886 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-07-14 02:39:06,887 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-07-14 02:39:06,887 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-07-14 02:39:06,887 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-07-14 02:39:06,887 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-07-14 02:39:06,887 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-07-14 02:39:06,887 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-07-14 02:39:06,887 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-07-14 02:39:06,888 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-76410F050E5B-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-07-14 02:39:06,888 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s0@group-76410F050E5B-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-07-14 02:39:06,897 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(313)) - s0@group-76410F050E5B: start as a follower, conf=-1: [s0|rpc:localhost:43209|admin:localhost:42311|client:localhost:37987|dataStream:localhost:35845|priority:0, s1|rpc:localhost:39089|admin:localhost:34453|client:localhost:34169|dataStream:localhost:34431|priority:0, s2|rpc:localhost:35127|admin:localhost:45693|client:localhost:34933|dataStream:localhost:45879|priority:0], old=null
2022-07-14 02:39:06,897 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s0@group-76410F050E5B: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-07-14 02:39:06,897 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-76410F050E5B-FollowerState
2022-07-14 02:39:06,898 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-76410F050E5B,id=s0
2022-07-14 02:39:06,898 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-07-14 02:39:06,899 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-07-14 02:39:06,899 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-07-14 02:39:06,902 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s0: start RPC server
2022-07-14 02:39:06,913 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$250/1367845902@38f6b036] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2022-07-14 02:39:06,913 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcfa4fed6/s1/263a0012-c67b-4196-84e1-76410f050e5b does not exist. Creating ...
2022-07-14 02:39:06,914 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcfa4fed6/s1/263a0012-c67b-4196-84e1-76410f050e5b
2022-07-14 02:39:06,915 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcfa4fed6/s1/263a0012-c67b-4196-84e1-76410f050e5b/in_use.lock acquired by nodename 16254@fv-az54-379.qczjibyfz4dularrisj3jz1gre.bx.internal.cloudapp.net
2022-07-14 02:39:06,915 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcfa4fed6/s1/263a0012-c67b-4196-84e1-76410f050e5b/current
2022-07-14 02:39:06,916 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcfa4fed6/s1/263a0012-c67b-4196-84e1-76410f050e5b/sm
2022-07-14 02:39:06,919 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcfa4fed6/s1/263a0012-c67b-4196-84e1-76410f050e5b has been successfully formatted.
2022-07-14 02:39:06,919 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-07-14 02:39:06,919 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-07-14 02:39:06,919 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:39:06,919 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-07-14 02:39:06,919 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-14 02:39:06,919 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-07-14 02:39:06,919 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-07-14 02:39:06,919 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s1@group-76410F050E5B-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcfa4fed6/s1/263a0012-c67b-4196-84e1-76410f050e5b
2022-07-14 02:39:06,920 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-07-14 02:39:06,920 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-07-14 02:39:06,920 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-14 02:39:06,920 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-07-14 02:39:06,920 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-07-14 02:39:06,920 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-07-14 02:39:06,920 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-07-14 02:39:06,920 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-07-14 02:39:06,920 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-07-14 02:39:06,920 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-07-14 02:39:06,920 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-07-14 02:39:06,921 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-76410F050E5B-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-07-14 02:39:06,921 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s1@group-76410F050E5B-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-07-14 02:39:06,924 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(313)) - s1@group-76410F050E5B: start as a follower, conf=-1: [s0|rpc:localhost:43209|admin:localhost:42311|client:localhost:37987|dataStream:localhost:35845|priority:0, s1|rpc:localhost:39089|admin:localhost:34453|client:localhost:34169|dataStream:localhost:34431|priority:0, s2|rpc:localhost:35127|admin:localhost:45693|client:localhost:34933|dataStream:localhost:45879|priority:0], old=null
2022-07-14 02:39:06,924 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-76410F050E5B: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-07-14 02:39:06,925 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-76410F050E5B-FollowerState
2022-07-14 02:39:06,927 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-76410F050E5B,id=s1
2022-07-14 02:39:06,927 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-07-14 02:39:06,927 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-07-14 02:39:06,927 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-07-14 02:39:06,928 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s1: start RPC server
2022-07-14 02:39:06,932 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(137)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcfa4fed6/s2/263a0012-c67b-4196-84e1-76410f050e5b does not exist. Creating ...
2022-07-14 02:39:06,932 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcfa4fed6/s2/263a0012-c67b-4196-84e1-76410f050e5b
2022-07-14 02:39:06,935 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcfa4fed6/s2/263a0012-c67b-4196-84e1-76410f050e5b/in_use.lock acquired by nodename 16254@fv-az54-379.qczjibyfz4dularrisj3jz1gre.bx.internal.cloudapp.net
2022-07-14 02:39:06,935 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$250/1367845902@6b0461e8] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2022-07-14 02:39:06,935 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcfa4fed6/s2/263a0012-c67b-4196-84e1-76410f050e5b/current
2022-07-14 02:39:06,935 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcfa4fed6/s2/263a0012-c67b-4196-84e1-76410f050e5b/sm
2022-07-14 02:39:06,937 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcfa4fed6/s2/263a0012-c67b-4196-84e1-76410f050e5b has been successfully formatted.
2022-07-14 02:39:06,937 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-07-14 02:39:06,937 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-07-14 02:39:06,937 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:39:06,938 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-07-14 02:39:06,938 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-14 02:39:06,938 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-07-14 02:39:06,938 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-07-14 02:39:06,938 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(187)) - new s2@group-76410F050E5B-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcfa4fed6/s2/263a0012-c67b-4196-84e1-76410f050e5b
2022-07-14 02:39:06,938 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-07-14 02:39:06,938 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-07-14 02:39:06,938 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-07-14 02:39:06,938 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-07-14 02:39:06,938 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-07-14 02:39:06,938 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-07-14 02:39:06,938 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-07-14 02:39:06,938 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-07-14 02:39:06,939 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-07-14 02:39:06,939 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-07-14 02:39:06,939 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-07-14 02:39:06,939 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-76410F050E5B-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-07-14 02:39:06,939 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(135)) - s2@group-76410F050E5B-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-07-14 02:39:06,949 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(313)) - s2@group-76410F050E5B: start as a follower, conf=-1: [s0|rpc:localhost:43209|admin:localhost:42311|client:localhost:37987|dataStream:localhost:35845|priority:0, s1|rpc:localhost:39089|admin:localhost:34453|client:localhost:34169|dataStream:localhost:34431|priority:0, s2|rpc:localhost:35127|admin:localhost:45693|client:localhost:34933|dataStream:localhost:45879|priority:0], old=null
2022-07-14 02:39:06,949 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-76410F050E5B: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-07-14 02:39:06,949 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-76410F050E5B-FollowerState
2022-07-14 02:39:06,953 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-76410F050E5B,id=s2
2022-07-14 02:39:06,953 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-07-14 02:39:06,953 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-07-14 02:39:06,953 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-07-14 02:39:06,957 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(385)) - s2: start RPC server
2022-07-14 02:39:06,965 [org.apache.ratis.util.JvmPauseMonitor$$Lambda$250/1367845902@682944f0] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2022-07-14 02:39:06,965 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-07-14 02:39:06,966 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-76410F050E5B:t0, leader=null, voted=, raftlog=Memoized:s0@group-76410F050E5B-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:43209|admin:localhost:42311|client:localhost:37987|dataStream:localhost:35845|priority:0, s1|rpc:localhost:39089|admin:localhost:34453|client:localhost:34169|dataStream:localhost:34431|priority:0, s2|rpc:localhost:35127|admin:localhost:45693|client:localhost:34933|dataStream:localhost:45879|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-76410F050E5B:t0, leader=null, voted=, raftlog=Memoized:s1@group-76410F050E5B-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:43209|admin:localhost:42311|client:localhost:37987|dataStream:localhost:35845|priority:0, s1|rpc:localhost:39089|admin:localhost:34453|client:localhost:34169|dataStream:localhost:34431|priority:0, s2|rpc:localhost:35127|admin:localhost:45693|client:localhost:34933|dataStream:localhost:45879|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-76410F050E5B:t0, leader=null, voted=, raftlog=Memoized:s2@group-76410F050E5B-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:43209|admin:localhost:42311|client:localhost:37987|dataStream:localhost:35845|priority:0, s1|rpc:localhost:39089|admin:localhost:34453|client:localhost:34169|dataStream:localhost:34431|priority:0, s2|rpc:localhost:35127|admin:localhost:45693|client:localhost:34933|dataStream:localhost:45879|priority:0], old=null RUNNING
2022-07-14 02:39:06,966 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(172)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-76410F050E5B:t0, leader=null, voted=, raftlog=Memoized:s0@group-76410F050E5B-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:43209|admin:localhost:42311|client:localhost:37987|dataStream:localhost:35845|priority:0, s1|rpc:localhost:39089|admin:localhost:34453|client:localhost:34169|dataStream:localhost:34431|priority:0, s2|rpc:localhost:35127|admin:localhost:45693|client:localhost:34933|dataStream:localhost:45879|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-76410F050E5B:t0, leader=null, voted=, raftlog=Memoized:s1@group-76410F050E5B-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:43209|admin:localhost:42311|client:localhost:37987|dataStream:localhost:35845|priority:0, s1|rpc:localhost:39089|admin:localhost:34453|client:localhost:34169|dataStream:localhost:34431|priority:0, s2|rpc:localhost:35127|admin:localhost:45693|client:localhost:34933|dataStream:localhost:45879|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-76410F050E5B:t0, leader=null, voted=, raftlog=Memoized:s2@group-76410F050E5B-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:43209|admin:localhost:42311|client:localhost:37987|dataStream:localhost:35845|priority:0, s1|rpc:localhost:39089|admin:localhost:34453|client:localhost:34169|dataStream:localhost:34431|priority:0, s2|rpc:localhost:35127|admin:localhost:45693|client:localhost:34933|dataStream:localhost:45879|priority:0], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-76410F050E5B:t0, leader=null, voted=, raftlog=Memoized:s0@group-76410F050E5B-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:43209|admin:localhost:42311|client:localhost:37987|dataStream:localhost:35845|priority:0, s1|rpc:localhost:39089|admin:localhost:34453|client:localhost:34169|dataStream:localhost:34431|priority:0, s2|rpc:localhost:35127|admin:localhost:45693|client:localhost:34933|dataStream:localhost:45879|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-76410F050E5B:t0, leader=null, voted=, raftlog=Memoized:s1@group-76410F050E5B-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:43209|admin:localhost:42311|client:localhost:37987|dataStream:localhost:35845|priority:0, s1|rpc:localhost:39089|admin:localhost:34453|client:localhost:34169|dataStream:localhost:34431|priority:0, s2|rpc:localhost:35127|admin:localhost:45693|client:localhost:34933|dataStream:localhost:45879|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-76410F050E5B:t0, leader=null, voted=, raftlog=Memoized:s2@group-76410F050E5B-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:43209|admin:localhost:42311|client:localhost:37987|dataStream:localhost:35845|priority:0, s1|rpc:localhost:39089|admin:localhost:34453|client:localhost:34169|dataStream:localhost:34431|priority:0, s2|rpc:localhost:35127|admin:localhost:45693|client:localhost:34933|dataStream:localhost:45879|priority:0], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:535)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:569)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:562)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:166)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:152)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.LeaderElectionTests.testLeaderElectionMetrics(LeaderElectionTests.java:320)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2022-07-14 02:39:07,057 [s0@group-76410F050E5B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-76410F050E5B-FollowerState: change to CANDIDATE, lastRpcElapsedTime:159653428ns, electionTimeout:159ms
2022-07-14 02:39:07,057 [s0@group-76410F050E5B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-76410F050E5B-FollowerState
2022-07-14 02:39:07,058 [s0@group-76410F050E5B-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s0@group-76410F050E5B: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-07-14 02:39:07,058 [s0@group-76410F050E5B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-07-14 02:39:07,058 [s0@group-76410F050E5B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-76410F050E5B-LeaderElection78
2022-07-14 02:39:07,059 [s0@group-76410F050E5B-LeaderElection78] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-76410F050E5B-LeaderElection78 PRE_VOTE round 0: submit vote requests at term 0 for -1: [s0|rpc:localhost:43209|admin:localhost:42311|client:localhost:37987|dataStream:localhost:35845|priority:0, s1|rpc:localhost:39089|admin:localhost:34453|client:localhost:34169|dataStream:localhost:34431|priority:0, s2|rpc:localhost:35127|admin:localhost:45693|client:localhost:34933|dataStream:localhost:45879|priority:0], old=null
2022-07-14 02:39:07,060 [Thread-2301] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-76410F050E5B: receive requestVote(PRE_VOTE, s0, group-76410F050E5B, 0, (t:0, i:0))
2022-07-14 02:39:07,060 [Thread-2308] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-76410F050E5B: receive requestVote(PRE_VOTE, s0, group-76410F050E5B, 0, (t:0, i:0))
2022-07-14 02:39:07,060 [Thread-2301] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-76410F050E5B-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-07-14 02:39:07,060 [Thread-2308] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-76410F050E5B-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-07-14 02:39:07,061 [Thread-2301] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-76410F050E5B replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-76410F050E5B:t0, leader=null, voted=, raftlog=Memoized:s1@group-76410F050E5B-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:43209|admin:localhost:42311|client:localhost:37987|dataStream:localhost:35845|priority:0, s1|rpc:localhost:39089|admin:localhost:34453|client:localhost:34169|dataStream:localhost:34431|priority:0, s2|rpc:localhost:35127|admin:localhost:45693|client:localhost:34933|dataStream:localhost:45879|priority:0], old=null
2022-07-14 02:39:07,061 [Thread-2308] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-76410F050E5B replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-76410F050E5B:t0, leader=null, voted=, raftlog=Memoized:s2@group-76410F050E5B-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:43209|admin:localhost:42311|client:localhost:37987|dataStream:localhost:35845|priority:0, s1|rpc:localhost:39089|admin:localhost:34453|client:localhost:34169|dataStream:localhost:34431|priority:0, s2|rpc:localhost:35127|admin:localhost:45693|client:localhost:34933|dataStream:localhost:45879|priority:0], old=null
2022-07-14 02:39:07,062 [s0@group-76410F050E5B-LeaderElection78] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-76410F050E5B-LeaderElection78: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-07-14 02:39:07,062 [s0@group-76410F050E5B-LeaderElection78] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t0
2022-07-14 02:39:07,062 [s0@group-76410F050E5B-LeaderElection78] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-76410F050E5B-LeaderElection78 PRE_VOTE round 0: result PASSED
2022-07-14 02:39:07,065 [s0@group-76410F050E5B-LeaderElection78] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(310)) - s0@group-76410F050E5B-LeaderElection78 ELECTION round 0: submit vote requests at term 1 for -1: [s0|rpc:localhost:43209|admin:localhost:42311|client:localhost:37987|dataStream:localhost:35845|priority:0, s1|rpc:localhost:39089|admin:localhost:34453|client:localhost:34169|dataStream:localhost:34431|priority:0, s2|rpc:localhost:35127|admin:localhost:45693|client:localhost:34933|dataStream:localhost:45879|priority:0], old=null
2022-07-14 02:39:07,072 [Thread-2309] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s2@group-76410F050E5B: receive requestVote(ELECTION, s0, group-76410F050E5B, 1, (t:0, i:0))
2022-07-14 02:39:07,072 [Thread-2309] INFO  impl.VoteContext (VoteContext.java:log(48)) - s2@group-76410F050E5B-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-07-14 02:39:07,072 [Thread-2309] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s2@group-76410F050E5B: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-07-14 02:39:07,072 [Thread-2309] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-76410F050E5B-FollowerState
2022-07-14 02:39:07,072 [Thread-2309] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-76410F050E5B-FollowerState
2022-07-14 02:39:07,073 [Thread-2302] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1175)) - s1@group-76410F050E5B: receive requestVote(ELECTION, s0, group-76410F050E5B, 1, (t:0, i:0))
2022-07-14 02:39:07,073 [Thread-2302] INFO  impl.VoteContext (VoteContext.java:log(48)) - s1@group-76410F050E5B-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-07-14 02:39:07,073 [Thread-2302] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s1@group-76410F050E5B: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-07-14 02:39:07,073 [Thread-2302] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-76410F050E5B-FollowerState
2022-07-14 02:39:07,073 [s2@group-76410F050E5B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-76410F050E5B-FollowerState was interrupted
2022-07-14 02:39:07,074 [Thread-2302] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-76410F050E5B-FollowerState
2022-07-14 02:39:07,074 [s1@group-76410F050E5B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-76410F050E5B-FollowerState was interrupted
2022-07-14 02:39:07,076 [Thread-2302] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s1@group-76410F050E5B replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-76410F050E5B:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-76410F050E5B-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:43209|admin:localhost:42311|client:localhost:37987|dataStream:localhost:35845|priority:0, s1|rpc:localhost:39089|admin:localhost:34453|client:localhost:34169|dataStream:localhost:34431|priority:0, s2|rpc:localhost:35127|admin:localhost:45693|client:localhost:34933|dataStream:localhost:45879|priority:0], old=null
2022-07-14 02:39:07,076 [s0@group-76410F050E5B-LeaderElection78] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(90)) - s0@group-76410F050E5B-LeaderElection78: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-07-14 02:39:07,076 [Thread-2309] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1207)) - s2@group-76410F050E5B replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-76410F050E5B:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-76410F050E5B-SegmentedRaftLog:OPENED:c-1, conf=-1: [s0|rpc:localhost:43209|admin:localhost:42311|client:localhost:37987|dataStream:localhost:35845|priority:0, s1|rpc:localhost:39089|admin:localhost:34453|client:localhost:34169|dataStream:localhost:34431|priority:0, s2|rpc:localhost:35127|admin:localhost:45693|client:localhost:34933|dataStream:localhost:45879|priority:0], old=null
2022-07-14 02:39:07,076 [s0@group-76410F050E5B-LeaderElection78] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(94)) -   Response 0: s0<-s1#0:OK-t1
2022-07-14 02:39:07,076 [s0@group-76410F050E5B-LeaderElection78] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(312)) - s0@group-76410F050E5B-LeaderElection78 ELECTION round 0: result PASSED
2022-07-14 02:39:07,076 [s0@group-76410F050E5B-LeaderElection78] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-76410F050E5B-LeaderElection78
2022-07-14 02:39:07,076 [s0@group-76410F050E5B-LeaderElection78] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(300)) - s0@group-76410F050E5B: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-07-14 02:39:07,076 [s0@group-76410F050E5B-LeaderElection78] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s0@group-76410F050E5B: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 220ms
2022-07-14 02:39:07,076 [s0@group-76410F050E5B-LeaderElection78] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-07-14 02:39:07,077 [s0@group-76410F050E5B-LeaderElection78] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-14 02:39:07,077 [s0@group-76410F050E5B-LeaderElection78] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-07-14 02:39:07,077 [s0@group-76410F050E5B-LeaderElection78] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-07-14 02:39:07,077 [s0@group-76410F050E5B-LeaderElection78] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-07-14 02:39:07,077 [s0@group-76410F050E5B-LeaderElection78] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-07-14 02:39:07,077 [s0@group-76410F050E5B-LeaderElection78] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-07-14 02:39:07,077 [s0@group-76410F050E5B-LeaderElection78] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-07-14 02:39:07,078 [s0@group-76410F050E5B-LeaderElection78] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-14 02:39:07,078 [s0@group-76410F050E5B-LeaderElection78] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:39:07,078 [s0@group-76410F050E5B-LeaderElection78] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-14 02:39:07,078 [s0@group-76410F050E5B-LeaderElection78] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-07-14 02:39:07,078 [s0@group-76410F050E5B-LeaderElection78] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-07-14 02:39:07,078 [s0@group-76410F050E5B-LeaderElection78] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-07-14 02:39:07,079 [s0@group-76410F050E5B-LeaderElection78] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-76410F050E5B-LeaderStateImpl
2022-07-14 02:39:07,079 [s0@group-76410F050E5B-LeaderElection78] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s0@group-76410F050E5B-SegmentedRaftLogWorker: Starting segment from index:0
2022-07-14 02:39:07,093 [s0@group-76410F050E5B-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s0@group-76410F050E5B-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcfa4fed6/s0/263a0012-c67b-4196-84e1-76410f050e5b/current/log_inprogress_0
2022-07-14 02:39:07,103 [s0@group-76410F050E5B-LeaderElection78] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s0@group-76410F050E5B: set configuration 0: [s0|rpc:localhost:43209|admin:localhost:42311|client:localhost:37987|dataStream:localhost:35845|priority:0, s1|rpc:localhost:39089|admin:localhost:34453|client:localhost:34169|dataStream:localhost:34431|priority:0, s2|rpc:localhost:35127|admin:localhost:45693|client:localhost:34933|dataStream:localhost:45879|priority:0], old=null
2022-07-14 02:39:07,103 [Thread-2303] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s1@group-76410F050E5B: change Leader from null to s0 at term 1 for appendEntries, leader elected after 237ms
2022-07-14 02:39:07,104 [Thread-2301] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-76410F050E5B: receive appendEntries(s0, 1, null, 0, true, commits[s0:c0, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-07-14 02:39:07,110 [Thread-2301] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s1@group-76410F050E5B: set configuration 0: [s0|rpc:localhost:43209|admin:localhost:42311|client:localhost:37987|dataStream:localhost:35845|priority:0, s1|rpc:localhost:39089|admin:localhost:34453|client:localhost:34169|dataStream:localhost:34431|priority:0, s2|rpc:localhost:35127|admin:localhost:45693|client:localhost:34933|dataStream:localhost:45879|priority:0], old=null
2022-07-14 02:39:07,110 [Thread-2301] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s1@group-76410F050E5B-SegmentedRaftLogWorker: Starting segment from index:0
2022-07-14 02:39:07,113 [Thread-2310] INFO  server.RaftServer$Division (ServerState.java:setLeader(304)) - s2@group-76410F050E5B: change Leader from null to s0 at term 1 for appendEntries, leader elected after 238ms
2022-07-14 02:39:07,115 [Thread-2308] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-76410F050E5B: receive appendEntries(s0, 1, null, 0, true, commits[s0:c0, s1:c-1, s2:c-1], entries: (t:1, i:0), CONFIGURATIONENTRY
2022-07-14 02:39:07,115 [Thread-2308] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(420)) - s2@group-76410F050E5B: set configuration 0: [s0|rpc:localhost:43209|admin:localhost:42311|client:localhost:37987|dataStream:localhost:35845|priority:0, s1|rpc:localhost:39089|admin:localhost:34453|client:localhost:34169|dataStream:localhost:34431|priority:0, s2|rpc:localhost:35127|admin:localhost:45693|client:localhost:34933|dataStream:localhost:45879|priority:0], old=null
2022-07-14 02:39:07,116 [Thread-2308] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(425)) - s2@group-76410F050E5B-SegmentedRaftLogWorker: Starting segment from index:0
2022-07-14 02:39:07,129 [s1@group-76410F050E5B-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s1@group-76410F050E5B-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcfa4fed6/s1/263a0012-c67b-4196-84e1-76410f050e5b/current/log_inprogress_0
2022-07-14 02:39:07,130 [s2@group-76410F050E5B-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(629)) - s2@group-76410F050E5B-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/7ab16eeb/MiniRaftClusterWithSimulatedRpcfa4fed6/s2/263a0012-c67b-4196-84e1-76410f050e5b/current/log_inprogress_0
2022-07-14 02:39:07,131 [Thread-2343] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s1@group-76410F050E5B: succeeded to handle AppendEntries. Reply: s0<-s1#1336:OK-t1,SUCCESS,nextIndex=1,followerCommit=0
2022-07-14 02:39:07,132 [Thread-2344] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1281)) - s2@group-76410F050E5B: succeeded to handle AppendEntries. Reply: s0<-s2#1337:OK-t1,SUCCESS,nextIndex=1,followerCommit=0
2022-07-14 02:39:07,417 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-76410F050E5B:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-76410F050E5B-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:43209|admin:localhost:42311|client:localhost:37987|dataStream:localhost:35845|priority:0, s1|rpc:localhost:39089|admin:localhost:34453|client:localhost:34169|dataStream:localhost:34431|priority:0, s2|rpc:localhost:35127|admin:localhost:45693|client:localhost:34933|dataStream:localhost:45879|priority:0], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-76410F050E5B:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-76410F050E5B-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:43209|admin:localhost:42311|client:localhost:37987|dataStream:localhost:35845|priority:0, s1|rpc:localhost:39089|admin:localhost:34453|client:localhost:34169|dataStream:localhost:34431|priority:0, s2|rpc:localhost:35127|admin:localhost:45693|client:localhost:34933|dataStream:localhost:45879|priority:0], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-76410F050E5B:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-76410F050E5B-SegmentedRaftLog:OPENED:c0, conf=0: [s0|rpc:localhost:43209|admin:localhost:42311|client:localhost:37987|dataStream:localhost:35845|priority:0, s1|rpc:localhost:39089|admin:localhost:34453|client:localhost:34169|dataStream:localhost:34431|priority:0, s2|rpc:localhost:35127|admin:localhost:45693|client:localhost:34933|dataStream:localhost:45879|priority:0], old=null RUNNING
