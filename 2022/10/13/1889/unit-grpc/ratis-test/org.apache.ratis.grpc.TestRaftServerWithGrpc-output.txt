SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/home/runner/.m2/repository/org/slf4j/slf4j-log4j12/1.7.29/slf4j-log4j12-1.7.29.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/home/runner/.m2/repository/org/slf4j/slf4j-simple/1.7.29/slf4j-simple-1.7.29.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
SLF4J: Actual binding is of type [org.slf4j.impl.Log4jLoggerFactory]
2022-10-13 02:47:36,316 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-10-13 02:47:36,319 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-10-13 02:47:36,323 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to ALL
2022-10-13 02:47:36,342 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2022-10-13 02:47:36,401 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-925896360766:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]
2022-10-13 02:47:36,402 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2022-10-13 02:47:36,403 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-10-13 02:47:36,403 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2022-10-13 02:47:36,404 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2022-10-13 02:47:36,404 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2022-10-13 02:47:36,405 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2022-10-13 02:47:36,411 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-925896360766:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER], format? true
2022-10-13 02:47:36,413 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/bc10d1de/MiniRaftClusterWithGrpc96c7fd62/s0
2022-10-13 02:47:36,414 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/bc10d1de/MiniRaftClusterWithGrpc96c7fd62/s0 does not exist.
2022-10-13 02:47:36,415 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/bc10d1de/MiniRaftClusterWithGrpc96c7fd62/s0
2022-10-13 02:47:36,462 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-10-13 02:47:36,546 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-10-13 02:47:36,548 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 43967 (custom)
2022-10-13 02:47:36,549 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-10-13 02:47:36,550 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 33491 (custom)
2022-10-13 02:47:36,550 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-10-13 02:47:36,552 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 37553 (custom)
2022-10-13 02:47:36,556 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:47:36,559 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-10-13 02:47:36,560 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:47:36,561 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-10-13 02:47:36,582 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-10-13 02:47:36,591 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-10-13 02:47:36,592 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-10-13 02:47:36,794 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-10-13 02:47:36,796 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-10-13 02:47:36,796 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-10-13 02:47:36,796 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-10-13 02:47:36,797 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-10-13 02:47:36,801 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc96c7fd62/s0] (custom)
2022-10-13 02:47:36,817 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-925896360766:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER] returns group-925896360766:java.util.concurrent.CompletableFuture@593d5f48[Not completed]
2022-10-13 02:47:36,817 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-925896360766:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER], format? true
2022-10-13 02:47:36,817 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/bc10d1de/MiniRaftClusterWithGrpc96c7fd62/s1
2022-10-13 02:47:36,818 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/bc10d1de/MiniRaftClusterWithGrpc96c7fd62/s1 does not exist.
2022-10-13 02:47:36,818 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/bc10d1de/MiniRaftClusterWithGrpc96c7fd62/s1
2022-10-13 02:47:36,818 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-10-13 02:47:36,819 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-10-13 02:47:36,819 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 41837 (custom)
2022-10-13 02:47:36,819 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-10-13 02:47:36,819 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 41895 (custom)
2022-10-13 02:47:36,819 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-10-13 02:47:36,819 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 36761 (custom)
2022-10-13 02:47:36,820 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:47:36,820 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-10-13 02:47:36,820 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:47:36,820 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-10-13 02:47:36,820 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-10-13 02:47:36,821 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-10-13 02:47:36,821 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-10-13 02:47:36,823 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-10-13 02:47:36,823 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-10-13 02:47:36,823 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-10-13 02:47:36,823 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-10-13 02:47:36,823 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-10-13 02:47:36,824 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc96c7fd62/s1] (custom)
2022-10-13 02:47:36,824 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-925896360766:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER] returns group-925896360766:java.util.concurrent.CompletableFuture@48790788[Not completed]
2022-10-13 02:47:36,825 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-925896360766:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER], format? true
2022-10-13 02:47:36,825 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/bc10d1de/MiniRaftClusterWithGrpc96c7fd62/s2
2022-10-13 02:47:36,825 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/bc10d1de/MiniRaftClusterWithGrpc96c7fd62/s2 does not exist.
2022-10-13 02:47:36,825 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/bc10d1de/MiniRaftClusterWithGrpc96c7fd62/s2
2022-10-13 02:47:36,825 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-10-13 02:47:36,826 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-10-13 02:47:36,826 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 45391 (custom)
2022-10-13 02:47:36,826 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-10-13 02:47:36,826 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 39119 (custom)
2022-10-13 02:47:36,826 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-10-13 02:47:36,827 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 37581 (custom)
2022-10-13 02:47:36,827 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:47:36,827 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-10-13 02:47:36,827 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:47:36,827 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-10-13 02:47:36,827 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-10-13 02:47:36,828 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-10-13 02:47:36,828 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-10-13 02:47:36,829 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-10-13 02:47:36,829 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-10-13 02:47:36,829 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-10-13 02:47:36,830 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-10-13 02:47:36,830 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-10-13 02:47:36,830 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc96c7fd62/s2] (custom)
2022-10-13 02:47:36,831 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-925896360766:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER] returns group-925896360766:java.util.concurrent.CompletableFuture@4421394[Not completed]
2022-10-13 02:47:36,845 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-10-13 02:47:36,846 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-10-13 02:47:36,846 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-10-13 02:47:36,847 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-10-13 02:47:36,846 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-10-13 02:47:36,847 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-10-13 02:47:36,847 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-10-13 02:47:36,847 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-10-13 02:47:36,848 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-10-13 02:47:36,850 [pool-3-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-925896360766:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-10-13 02:47:36,852 [pool-1-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-925896360766:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-10-13 02:47:36,853 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-10-13 02:47:36,853 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-10-13 02:47:36,854 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-10-13 02:47:36,853 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-10-13 02:47:36,852 [pool-2-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-925896360766:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-10-13 02:47:36,855 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-10-13 02:47:36,855 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-10-13 02:47:36,855 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-10-13 02:47:36,856 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-10-13 02:47:36,856 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-10-13 02:47:36,856 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-10-13 02:47:36,856 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-10-13 02:47:36,875 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-10-13 02:47:36,875 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-10-13 02:47:36,875 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-10-13 02:47:36,875 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-10-13 02:47:36,876 [pool-3-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-925896360766: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-10-13 02:47:36,869 [pool-2-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-925896360766: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-10-13 02:47:36,875 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-10-13 02:47:36,884 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-10-13 02:47:36,884 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-10-13 02:47:36,884 [pool-1-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-925896360766: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-10-13 02:47:36,884 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-10-13 02:47:36,883 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-10-13 02:47:36,883 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-10-13 02:47:36,889 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-10-13 02:47:36,889 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-10-13 02:47:36,890 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-10-13 02:47:36,894 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-10-13 02:47:36,894 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-10-13 02:47:36,892 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-10-13 02:47:36,899 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-10-13 02:47:36,892 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-10-13 02:47:36,899 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-10-13 02:47:36,913 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-10-13 02:47:36,914 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-10-13 02:47:36,919 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-10-13 02:47:36,927 [pool-1-thread-1] INFO  metrics.MetricRegistries (MetricRegistriesLoader.java:load(64)) - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2022-10-13 02:47:37,087 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-10-13 02:47:37,088 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-10-13 02:47:37,088 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-10-13 02:47:37,089 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-10-13 02:47:37,089 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-10-13 02:47:37,091 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-10-13 02:47:37,091 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-10-13 02:47:37,091 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-10-13 02:47:37,092 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-10-13 02:47:37,092 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-10-13 02:47:37,093 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-10-13 02:47:37,093 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-10-13 02:47:37,094 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc96c7fd62/s0] (custom)
2022-10-13 02:47:37,099 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-10-13 02:47:37,100 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-10-13 02:47:37,100 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-10-13 02:47:37,100 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-10-13 02:47:37,100 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-10-13 02:47:37,102 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc96c7fd62/s0/6b6a3f22-06ba-459a-846d-925896360766 does not exist. Creating ...
2022-10-13 02:47:37,104 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc96c7fd62/s0/6b6a3f22-06ba-459a-846d-925896360766
2022-10-13 02:47:37,109 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc96c7fd62/s0/6b6a3f22-06ba-459a-846d-925896360766/in_use.lock acquired by nodename 60246@fv-az318-428
2022-10-13 02:47:37,109 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc96c7fd62/s0/6b6a3f22-06ba-459a-846d-925896360766/current
2022-10-13 02:47:37,109 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc96c7fd62/s0/6b6a3f22-06ba-459a-846d-925896360766/sm
2022-10-13 02:47:37,124 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc96c7fd62/s0/6b6a3f22-06ba-459a-846d-925896360766 has been successfully formatted.
2022-10-13 02:47:37,125 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-10-13 02:47:37,127 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-10-13 02:47:37,129 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-10-13 02:47:37,137 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-10-13 02:47:37,137 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-10-13 02:47:37,138 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-10-13 02:47:37,138 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-10-13 02:47:37,144 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-10-13 02:47:37,150 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-10-13 02:47:37,150 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-10-13 02:47:37,154 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s0@group-925896360766-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc96c7fd62/s0/6b6a3f22-06ba-459a-846d-925896360766
2022-10-13 02:47:37,154 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-10-13 02:47:37,156 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-10-13 02:47:37,158 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-10-13 02:47:37,158 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-10-13 02:47:37,159 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-10-13 02:47:37,159 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-10-13 02:47:37,160 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-10-13 02:47:37,160 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-10-13 02:47:37,164 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-10-13 02:47:37,165 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-10-13 02:47:37,165 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-10-13 02:47:37,166 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-10-13 02:47:37,174 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-925896360766-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-10-13 02:47:37,174 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-925896360766-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-10-13 02:47:37,175 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-925896360766: start as a follower, conf=-1: peers:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:37,176 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-925896360766: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-10-13 02:47:37,176 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-925896360766-FollowerState
2022-10-13 02:47:37,194 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-925896360766,id=s0
2022-10-13 02:47:37,196 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-10-13 02:47:37,196 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-10-13 02:47:37,197 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-10-13 02:47:37,201 [s0@group-925896360766-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-10-13 02:47:37,202 [s0@group-925896360766-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-10-13 02:47:37,211 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2022-10-13 02:47:37,249 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(310)) - s0: GrpcService started, listening on 33491
2022-10-13 02:47:37,250 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(310)) - s0: GrpcService started, listening on 37553
2022-10-13 02:47:37,251 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(310)) - s0: GrpcService started, listening on 43967
2022-10-13 02:47:37,253 [JvmPauseMonitor0] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2022-10-13 02:47:37,253 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-10-13 02:47:37,258 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-10-13 02:47:37,258 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc96c7fd62/s1] (custom)
2022-10-13 02:47:37,259 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc96c7fd62/s1/6b6a3f22-06ba-459a-846d-925896360766 does not exist. Creating ...
2022-10-13 02:47:37,259 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc96c7fd62/s1/6b6a3f22-06ba-459a-846d-925896360766
2022-10-13 02:47:37,263 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc96c7fd62/s1/6b6a3f22-06ba-459a-846d-925896360766/in_use.lock acquired by nodename 60246@fv-az318-428
2022-10-13 02:47:37,263 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc96c7fd62/s1/6b6a3f22-06ba-459a-846d-925896360766/current
2022-10-13 02:47:37,263 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc96c7fd62/s1/6b6a3f22-06ba-459a-846d-925896360766/sm
2022-10-13 02:47:37,266 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc96c7fd62/s1/6b6a3f22-06ba-459a-846d-925896360766 has been successfully formatted.
2022-10-13 02:47:37,266 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-10-13 02:47:37,266 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-10-13 02:47:37,266 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-10-13 02:47:37,267 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-10-13 02:47:37,267 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-10-13 02:47:37,267 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-10-13 02:47:37,267 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-10-13 02:47:37,269 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-10-13 02:47:37,270 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-10-13 02:47:37,270 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-10-13 02:47:37,270 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s1@group-925896360766-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc96c7fd62/s1/6b6a3f22-06ba-459a-846d-925896360766
2022-10-13 02:47:37,270 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-10-13 02:47:37,270 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-10-13 02:47:37,270 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-10-13 02:47:37,270 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-10-13 02:47:37,271 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-10-13 02:47:37,271 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-10-13 02:47:37,271 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-10-13 02:47:37,271 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-10-13 02:47:37,271 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-10-13 02:47:37,271 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-10-13 02:47:37,272 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-10-13 02:47:37,272 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-10-13 02:47:37,272 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-925896360766-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-10-13 02:47:37,272 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-925896360766-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-10-13 02:47:37,275 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s1@group-925896360766: start as a follower, conf=-1: peers:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:37,275 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-925896360766: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-10-13 02:47:37,275 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-925896360766-FollowerState
2022-10-13 02:47:37,276 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-925896360766,id=s1
2022-10-13 02:47:37,276 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-10-13 02:47:37,276 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-10-13 02:47:37,276 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-10-13 02:47:37,278 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s1: start RPC server
2022-10-13 02:47:37,280 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(310)) - s1: GrpcService started, listening on 41895
2022-10-13 02:47:37,280 [s1@group-925896360766-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-10-13 02:47:37,281 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(310)) - s1: GrpcService started, listening on 36761
2022-10-13 02:47:37,286 [s1@group-925896360766-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-10-13 02:47:37,287 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(310)) - s1: GrpcService started, listening on 41837
2022-10-13 02:47:37,290 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-10-13 02:47:37,291 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-10-13 02:47:37,291 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc96c7fd62/s2] (custom)
2022-10-13 02:47:37,291 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc96c7fd62/s2/6b6a3f22-06ba-459a-846d-925896360766 does not exist. Creating ...
2022-10-13 02:47:37,292 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc96c7fd62/s2/6b6a3f22-06ba-459a-846d-925896360766
2022-10-13 02:47:37,290 [JvmPauseMonitor1] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2022-10-13 02:47:37,295 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc96c7fd62/s2/6b6a3f22-06ba-459a-846d-925896360766/in_use.lock acquired by nodename 60246@fv-az318-428
2022-10-13 02:47:37,295 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc96c7fd62/s2/6b6a3f22-06ba-459a-846d-925896360766/current
2022-10-13 02:47:37,295 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc96c7fd62/s2/6b6a3f22-06ba-459a-846d-925896360766/sm
2022-10-13 02:47:37,297 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc96c7fd62/s2/6b6a3f22-06ba-459a-846d-925896360766 has been successfully formatted.
2022-10-13 02:47:37,298 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-10-13 02:47:37,298 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-10-13 02:47:37,298 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-10-13 02:47:37,298 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-10-13 02:47:37,298 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-10-13 02:47:37,298 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-10-13 02:47:37,299 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-10-13 02:47:37,301 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-10-13 02:47:37,302 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-10-13 02:47:37,302 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-10-13 02:47:37,302 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s2@group-925896360766-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc96c7fd62/s2/6b6a3f22-06ba-459a-846d-925896360766
2022-10-13 02:47:37,302 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-10-13 02:47:37,302 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-10-13 02:47:37,302 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-10-13 02:47:37,302 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-10-13 02:47:37,303 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-10-13 02:47:37,303 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-10-13 02:47:37,303 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-10-13 02:47:37,303 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-10-13 02:47:37,303 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-10-13 02:47:37,303 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-10-13 02:47:37,304 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-10-13 02:47:37,304 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-10-13 02:47:37,304 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-925896360766-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-10-13 02:47:37,304 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-925896360766-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-10-13 02:47:37,310 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s2@group-925896360766: start as a follower, conf=-1: peers:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:37,310 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-925896360766: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-10-13 02:47:37,311 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-925896360766-FollowerState
2022-10-13 02:47:37,314 [s2@group-925896360766-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-10-13 02:47:37,314 [s2@group-925896360766-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-10-13 02:47:37,314 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-925896360766,id=s2
2022-10-13 02:47:37,315 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-10-13 02:47:37,315 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-10-13 02:47:37,315 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-10-13 02:47:37,316 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s2: start RPC server
2022-10-13 02:47:37,320 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(310)) - s2: GrpcService started, listening on 39119
2022-10-13 02:47:37,321 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(310)) - s2: GrpcService started, listening on 37581
2022-10-13 02:47:37,322 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(310)) - s2: GrpcService started, listening on 45391
2022-10-13 02:47:37,323 [JvmPauseMonitor2] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2022-10-13 02:47:37,326 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-10-13 02:47:37,328 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-925896360766:t0, leader=null, voted=, raftlog=Memoized:s0@group-925896360766-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-925896360766:t0, leader=null, voted=, raftlog=Memoized:s1@group-925896360766-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-925896360766:t0, leader=null, voted=, raftlog=Memoized:s2@group-925896360766-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-10-13 02:47:37,331 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-925896360766:t0, leader=null, voted=, raftlog=Memoized:s0@group-925896360766-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-925896360766:t0, leader=null, voted=, raftlog=Memoized:s1@group-925896360766-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-925896360766:t0, leader=null, voted=, raftlog=Memoized:s2@group-925896360766-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-925896360766:t0, leader=null, voted=, raftlog=Memoized:s0@group-925896360766-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-925896360766:t0, leader=null, voted=, raftlog=Memoized:s1@group-925896360766-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-925896360766:t0, leader=null, voted=, raftlog=Memoized:s2@group-925896360766-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientRequestMetrics(TestRaftServerWithGrpc.java:304)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientMetrics(TestRaftServerWithGrpc.java:215)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-10-13 02:47:37,371 [s0@group-925896360766-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-925896360766-FollowerState: change to CANDIDATE, lastRpcElapsedTime:194247579ns, electionTimeout:167ms
2022-10-13 02:47:37,372 [s0@group-925896360766-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-925896360766-FollowerState
2022-10-13 02:47:37,372 [s0@group-925896360766-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-925896360766: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-10-13 02:47:37,374 [s0@group-925896360766-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-10-13 02:47:37,375 [s0@group-925896360766-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-925896360766-LeaderElection1
2022-10-13 02:47:37,381 [s0@group-925896360766-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-925896360766-LeaderElection1 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:37,398 [s0@group-925896360766-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-10-13 02:47:37,398 [s0@group-925896360766-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-10-13 02:47:37,402 [s0@group-925896360766-LeaderElection1-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2022-10-13 02:47:37,402 [s0@group-925896360766-LeaderElection1-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2022-10-13 02:47:37,472 [s1@group-925896360766-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-925896360766-FollowerState: change to CANDIDATE, lastRpcElapsedTime:196801040ns, electionTimeout:186ms
2022-10-13 02:47:37,473 [s1@group-925896360766-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-925896360766-FollowerState
2022-10-13 02:47:37,473 [s1@group-925896360766-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-925896360766: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-10-13 02:47:37,482 [s1@group-925896360766-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-10-13 02:47:37,482 [s1@group-925896360766-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-925896360766-LeaderElection2
2022-10-13 02:47:37,488 [s1@group-925896360766-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-925896360766-LeaderElection2 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:37,490 [s1@group-925896360766-LeaderElection2-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2022-10-13 02:47:37,492 [s1@group-925896360766-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-10-13 02:47:37,493 [s1@group-925896360766-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-10-13 02:47:37,493 [s1@group-925896360766-LeaderElection2-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2022-10-13 02:47:37,612 [s2@group-925896360766-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-925896360766-FollowerState: change to CANDIDATE, lastRpcElapsedTime:301729772ns, electionTimeout:298ms
2022-10-13 02:47:37,612 [s2@group-925896360766-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-925896360766-FollowerState
2022-10-13 02:47:37,613 [s2@group-925896360766-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-925896360766: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-10-13 02:47:37,615 [s2@group-925896360766-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-10-13 02:47:37,616 [s2@group-925896360766-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-925896360766-LeaderElection3
2022-10-13 02:47:37,625 [s2@group-925896360766-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-925896360766-LeaderElection3 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:37,630 [s2@group-925896360766-LeaderElection3-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2022-10-13 02:47:37,634 [s2@group-925896360766-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-10-13 02:47:37,635 [s2@group-925896360766-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-10-13 02:47:37,635 [s2@group-925896360766-LeaderElection3-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2022-10-13 02:47:37,673 [s0@group-925896360766-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-925896360766-LeaderElection1: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-10-13 02:47:37,673 [s0@group-925896360766-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-925896360766-LeaderElection1 PRE_VOTE round 0: result TIMEOUT
2022-10-13 02:47:37,673 [s0@group-925896360766-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-925896360766-LeaderElection1 PRE_VOTE round 1: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:37,678 [s0@group-925896360766-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-10-13 02:47:37,678 [s0@group-925896360766-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-10-13 02:47:37,763 [s1@group-925896360766-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-925896360766-LeaderElection2: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-10-13 02:47:37,764 [s1@group-925896360766-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-925896360766-LeaderElection2 PRE_VOTE round 0: result TIMEOUT
2022-10-13 02:47:37,764 [s1@group-925896360766-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-925896360766-LeaderElection2 PRE_VOTE round 1: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:37,778 [s1@group-925896360766-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-10-13 02:47:37,779 [s1@group-925896360766-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-10-13 02:47:37,788 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #2/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-925896360766:t0, leader=null, voted=, raftlog=Memoized:s0@group-925896360766-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-925896360766:t0, leader=null, voted=, raftlog=Memoized:s1@group-925896360766-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-925896360766:t0, leader=null, voted=, raftlog=Memoized:s2@group-925896360766-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-925896360766:t0, leader=null, voted=, raftlog=Memoized:s0@group-925896360766-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-925896360766:t0, leader=null, voted=, raftlog=Memoized:s1@group-925896360766-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-925896360766:t0, leader=null, voted=, raftlog=Memoized:s2@group-925896360766-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientRequestMetrics(TestRaftServerWithGrpc.java:304)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientMetrics(TestRaftServerWithGrpc.java:215)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-10-13 02:47:37,792 [s2@group-925896360766-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-925896360766-LeaderElection3: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2022-10-13 02:47:37,793 [s2@group-925896360766-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-925896360766-LeaderElection3 PRE_VOTE round 0: result TIMEOUT
2022-10-13 02:47:37,793 [s2@group-925896360766-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-925896360766-LeaderElection3 PRE_VOTE round 1: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:37,794 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s1@group-925896360766: receive requestVote(PRE_VOTE, s2, group-925896360766, 0, (t:0, i:0))
2022-10-13 02:47:37,807 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-925896360766-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-10-13 02:47:37,802 [s2@group-925896360766-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-10-13 02:47:37,813 [s2@group-925896360766-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-10-13 02:47:37,814 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s1@group-925896360766: receive requestVote(PRE_VOTE, s0, group-925896360766, 0, (t:0, i:0))
2022-10-13 02:47:37,797 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s2@group-925896360766: receive requestVote(PRE_VOTE, s0, group-925896360766, 0, (t:0, i:0))
2022-10-13 02:47:37,797 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s0@group-925896360766: receive requestVote(PRE_VOTE, s2, group-925896360766, 0, (t:0, i:0))
2022-10-13 02:47:37,794 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s0@group-925896360766: receive requestVote(PRE_VOTE, s1, group-925896360766, 0, (t:0, i:0))
2022-10-13 02:47:37,794 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s2@group-925896360766: receive requestVote(PRE_VOTE, s0, group-925896360766, 0, (t:0, i:0))
2022-10-13 02:47:37,812 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1324)) - s1@group-925896360766 replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-925896360766:t0, leader=null, voted=, raftlog=Memoized:s1@group-925896360766-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:37,814 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-925896360766-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-10-13 02:47:37,817 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1324)) - s0@group-925896360766 replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-925896360766:t0, leader=null, voted=, raftlog=Memoized:s0@group-925896360766-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:37,819 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-925896360766-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-10-13 02:47:37,822 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1324)) - s0@group-925896360766 replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-925896360766:t0, leader=null, voted=, raftlog=Memoized:s0@group-925896360766-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:37,817 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s2@group-925896360766: receive requestVote(PRE_VOTE, s1, group-925896360766, 0, (t:0, i:0))
2022-10-13 02:47:37,814 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-925896360766-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-10-13 02:47:37,825 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1324)) - s2@group-925896360766 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-925896360766:t0, leader=null, voted=, raftlog=Memoized:s2@group-925896360766-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:37,826 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-925896360766-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-10-13 02:47:37,826 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1324)) - s2@group-925896360766 replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-925896360766:t0, leader=null, voted=, raftlog=Memoized:s2@group-925896360766-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:37,827 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-925896360766-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-10-13 02:47:37,827 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1324)) - s2@group-925896360766 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-925896360766:t0, leader=null, voted=, raftlog=Memoized:s2@group-925896360766-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:37,828 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s1@group-925896360766: receive requestVote(PRE_VOTE, s0, group-925896360766, 0, (t:0, i:0))
2022-10-13 02:47:37,815 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s2@group-925896360766: receive requestVote(PRE_VOTE, s1, group-925896360766, 0, (t:0, i:0))
2022-10-13 02:47:37,839 [s1@group-925896360766-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-925896360766-LeaderElection2: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-10-13 02:47:37,839 [s1@group-925896360766-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s2#0:OK-t0
2022-10-13 02:47:37,840 [s1@group-925896360766-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-925896360766-LeaderElection2 PRE_VOTE round 1: result PASSED
2022-10-13 02:47:37,828 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s0@group-925896360766: receive requestVote(PRE_VOTE, s2, group-925896360766, 0, (t:0, i:0))
2022-10-13 02:47:37,822 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-925896360766-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-10-13 02:47:37,844 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1324)) - s1@group-925896360766 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-925896360766:t0, leader=null, voted=, raftlog=Memoized:s1@group-925896360766-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:37,842 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-925896360766-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-10-13 02:47:37,842 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-925896360766-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-10-13 02:47:37,845 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1324)) - s0@group-925896360766 replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-925896360766:t0, leader=null, voted=, raftlog=Memoized:s0@group-925896360766-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:37,844 [grpc-default-executor-8] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-925896360766-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-10-13 02:47:37,844 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1324)) - s2@group-925896360766 replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-925896360766:t0, leader=null, voted=, raftlog=Memoized:s2@group-925896360766-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:37,844 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s1@group-925896360766: receive requestVote(PRE_VOTE, s2, group-925896360766, 0, (t:0, i:0))
2022-10-13 02:47:37,846 [s0@group-925896360766-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-925896360766-LeaderElection1: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-10-13 02:47:37,851 [s0@group-925896360766-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s2#0:OK-t0
2022-10-13 02:47:37,851 [s0@group-925896360766-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-925896360766-LeaderElection1 PRE_VOTE round 1: result PASSED
2022-10-13 02:47:37,851 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s0@group-925896360766: receive requestVote(PRE_VOTE, s1, group-925896360766, 0, (t:0, i:0))
2022-10-13 02:47:37,852 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1324)) - s1@group-925896360766 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-925896360766:t0, leader=null, voted=, raftlog=Memoized:s1@group-925896360766-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:37,854 [s0@group-925896360766-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-925896360766-LeaderElection1 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:37,855 [s1@group-925896360766-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-925896360766-LeaderElection2 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:37,856 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-925896360766-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-10-13 02:47:37,863 [s1@group-925896360766-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-10-13 02:47:37,868 [s1@group-925896360766-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-10-13 02:47:37,857 [s0@group-925896360766-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-10-13 02:47:37,868 [s0@group-925896360766-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-10-13 02:47:37,856 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-925896360766-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-10-13 02:47:37,869 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1324)) - s0@group-925896360766 replies to PRE_VOTE vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-925896360766:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-925896360766-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:37,867 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1324)) - s1@group-925896360766 replies to PRE_VOTE vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-925896360766:t1, leader=null, voted=s1, raftlog=Memoized:s1@group-925896360766-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:37,873 [s2@group-925896360766-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-925896360766-LeaderElection3: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-10-13 02:47:37,874 [s2@group-925896360766-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t0
2022-10-13 02:47:37,874 [s2@group-925896360766-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-925896360766-LeaderElection3 PRE_VOTE round 1: result PASSED
2022-10-13 02:47:37,875 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s2@group-925896360766: receive requestVote(ELECTION, s1, group-925896360766, 1, (t:0, i:0))
2022-10-13 02:47:37,877 [s2@group-925896360766-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-925896360766-LeaderElection3 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:37,877 [grpc-default-executor-8] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-925896360766-CANDIDATE: reject ELECTION from s1: already has voted for s2 at current term 1
2022-10-13 02:47:37,878 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1324)) - s2@group-925896360766 replies to ELECTION vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-925896360766:t1, leader=null, voted=s2, raftlog=Memoized:s2@group-925896360766-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:37,884 [s2@group-925896360766-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-10-13 02:47:37,887 [s2@group-925896360766-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-10-13 02:47:37,888 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s1@group-925896360766: receive requestVote(ELECTION, s0, group-925896360766, 1, (t:0, i:0))
2022-10-13 02:47:37,888 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s2@group-925896360766: receive requestVote(ELECTION, s0, group-925896360766, 1, (t:0, i:0))
2022-10-13 02:47:37,889 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-925896360766-CANDIDATE: reject ELECTION from s0: already has voted for s2 at current term 1
2022-10-13 02:47:37,889 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1324)) - s2@group-925896360766 replies to ELECTION vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-925896360766:t1, leader=null, voted=s2, raftlog=Memoized:s2@group-925896360766-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:37,888 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s0@group-925896360766: receive requestVote(ELECTION, s1, group-925896360766, 1, (t:0, i:0))
2022-10-13 02:47:37,890 [grpc-default-executor-8] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-925896360766-CANDIDATE: reject ELECTION from s1: already has voted for s0 at current term 1
2022-10-13 02:47:37,890 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1324)) - s0@group-925896360766 replies to ELECTION vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-925896360766:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-925896360766-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:37,889 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s1@group-925896360766: receive requestVote(ELECTION, s2, group-925896360766, 1, (t:0, i:0))
2022-10-13 02:47:37,889 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s0@group-925896360766: receive requestVote(ELECTION, s2, group-925896360766, 1, (t:0, i:0))
2022-10-13 02:47:37,891 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-925896360766-CANDIDATE: reject ELECTION from s2: already has voted for s0 at current term 1
2022-10-13 02:47:37,891 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1324)) - s0@group-925896360766 replies to ELECTION vote request: s2<-s0#0:FAIL-t1. Peer's state: s0@group-925896360766:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-925896360766-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:37,889 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-925896360766-CANDIDATE: reject ELECTION from s0: already has voted for s1 at current term 1
2022-10-13 02:47:37,892 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1324)) - s1@group-925896360766 replies to ELECTION vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-925896360766:t1, leader=null, voted=s1, raftlog=Memoized:s1@group-925896360766-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:37,892 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-925896360766-CANDIDATE: reject ELECTION from s2: already has voted for s1 at current term 1
2022-10-13 02:47:37,894 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1324)) - s1@group-925896360766 replies to ELECTION vote request: s2<-s1#0:FAIL-t1. Peer's state: s1@group-925896360766:t1, leader=null, voted=s1, raftlog=Memoized:s1@group-925896360766-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:37,895 [s1@group-925896360766-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-925896360766-LeaderElection2: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2022-10-13 02:47:37,896 [s1@group-925896360766-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:FAIL-t1
2022-10-13 02:47:37,896 [s1@group-925896360766-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s1<-s2#0:FAIL-t1
2022-10-13 02:47:37,896 [s1@group-925896360766-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-925896360766-LeaderElection2 ELECTION round 0: result REJECTED
2022-10-13 02:47:37,897 [s1@group-925896360766-LeaderElection2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-925896360766: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-10-13 02:47:37,897 [s1@group-925896360766-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-925896360766-LeaderElection2
2022-10-13 02:47:37,897 [s1@group-925896360766-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-925896360766-FollowerState
2022-10-13 02:47:37,898 [s0@group-925896360766-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-925896360766-LeaderElection1: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2022-10-13 02:47:37,902 [s0@group-925896360766-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2022-10-13 02:47:37,902 [s0@group-925896360766-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2022-10-13 02:47:37,902 [s0@group-925896360766-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-925896360766-LeaderElection1 ELECTION round 0: result REJECTED
2022-10-13 02:47:37,898 [s2@group-925896360766-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-925896360766-LeaderElection3: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2022-10-13 02:47:37,904 [s2@group-925896360766-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:FAIL-t1
2022-10-13 02:47:37,904 [s2@group-925896360766-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s2<-s1#0:FAIL-t1
2022-10-13 02:47:37,903 [s0@group-925896360766-LeaderElection1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-925896360766: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-10-13 02:47:37,904 [s0@group-925896360766-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-925896360766-LeaderElection1
2022-10-13 02:47:37,904 [s0@group-925896360766-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-925896360766-FollowerState
2022-10-13 02:47:37,904 [s2@group-925896360766-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-925896360766-LeaderElection3 ELECTION round 0: result REJECTED
2022-10-13 02:47:37,904 [s2@group-925896360766-LeaderElection3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-925896360766: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2022-10-13 02:47:37,904 [s2@group-925896360766-LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-925896360766-LeaderElection3
2022-10-13 02:47:37,904 [s2@group-925896360766-LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-925896360766-FollowerState
2022-10-13 02:47:37,909 [s1@group-925896360766-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-10-13 02:47:37,909 [s1@group-925896360766-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-10-13 02:47:37,910 [s0@group-925896360766-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-10-13 02:47:37,910 [s0@group-925896360766-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-10-13 02:47:37,910 [s2@group-925896360766-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-10-13 02:47:37,910 [s2@group-925896360766-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-10-13 02:47:38,141 [s1@group-925896360766-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-925896360766-FollowerState: change to CANDIDATE, lastRpcElapsedTime:244103230ns, electionTimeout:232ms
2022-10-13 02:47:38,142 [s1@group-925896360766-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-925896360766-FollowerState
2022-10-13 02:47:38,142 [s1@group-925896360766-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-925896360766: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-10-13 02:47:38,142 [s1@group-925896360766-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-10-13 02:47:38,142 [s1@group-925896360766-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-925896360766-LeaderElection4
2022-10-13 02:47:38,145 [s1@group-925896360766-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-925896360766-LeaderElection4 PRE_VOTE round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:38,150 [s1@group-925896360766-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-10-13 02:47:38,150 [s1@group-925896360766-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-10-13 02:47:38,151 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s0@group-925896360766: receive requestVote(PRE_VOTE, s1, group-925896360766, 1, (t:0, i:0))
2022-10-13 02:47:38,151 [grpc-default-executor-8] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-925896360766-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-10-13 02:47:38,156 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s2@group-925896360766: receive requestVote(PRE_VOTE, s1, group-925896360766, 1, (t:0, i:0))
2022-10-13 02:47:38,156 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-925896360766-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-10-13 02:47:38,157 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1324)) - s0@group-925896360766 replies to PRE_VOTE vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-925896360766:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-925896360766-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:38,157 [s0@group-925896360766-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-10-13 02:47:38,157 [s0@group-925896360766-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-10-13 02:47:38,157 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1324)) - s2@group-925896360766 replies to PRE_VOTE vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-925896360766:t1, leader=null, voted=s2, raftlog=Memoized:s2@group-925896360766-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:38,159 [s1@group-925896360766-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-925896360766-LeaderElection4: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-10-13 02:47:38,160 [s1@group-925896360766-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t1
2022-10-13 02:47:38,160 [s1@group-925896360766-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-925896360766-LeaderElection4 PRE_VOTE round 0: result PASSED
2022-10-13 02:47:38,162 [s1@group-925896360766-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-925896360766-LeaderElection4 ELECTION round 0: submit vote requests at term 2 for -1: peers:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:38,163 [s1@group-925896360766-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-10-13 02:47:38,163 [s1@group-925896360766-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-10-13 02:47:38,165 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s0@group-925896360766: receive requestVote(ELECTION, s1, group-925896360766, 2, (t:0, i:0))
2022-10-13 02:47:38,165 [grpc-default-executor-8] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-925896360766-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-10-13 02:47:38,165 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-925896360766: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s1
2022-10-13 02:47:38,165 [grpc-default-executor-8] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-925896360766-FollowerState
2022-10-13 02:47:38,165 [grpc-default-executor-8] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-925896360766-FollowerState
2022-10-13 02:47:38,165 [s0@group-925896360766-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-925896360766-FollowerState was interrupted
2022-10-13 02:47:38,174 [s0@group-925896360766-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-10-13 02:47:38,174 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s2@group-925896360766: receive requestVote(ELECTION, s1, group-925896360766, 2, (t:0, i:0))
2022-10-13 02:47:38,174 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-925896360766-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-10-13 02:47:38,174 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-925896360766: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s1
2022-10-13 02:47:38,175 [grpc-default-executor-7] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-925896360766-FollowerState
2022-10-13 02:47:38,175 [grpc-default-executor-7] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-925896360766-FollowerState
2022-10-13 02:47:38,175 [s2@group-925896360766-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-925896360766-FollowerState was interrupted
2022-10-13 02:47:38,176 [s0@group-925896360766-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-10-13 02:47:38,176 [s2@group-925896360766-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-10-13 02:47:38,176 [s2@group-925896360766-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-10-13 02:47:38,177 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1324)) - s0@group-925896360766 replies to ELECTION vote request: s1<-s0#0:OK-t2. Peer's state: s0@group-925896360766:t2, leader=null, voted=s1, raftlog=Memoized:s0@group-925896360766-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:38,177 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1324)) - s2@group-925896360766 replies to ELECTION vote request: s1<-s2#0:OK-t2. Peer's state: s2@group-925896360766:t2, leader=null, voted=s1, raftlog=Memoized:s2@group-925896360766-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:38,180 [s1@group-925896360766-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-925896360766-LeaderElection4: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-10-13 02:47:38,180 [s1@group-925896360766-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t2
2022-10-13 02:47:38,180 [s1@group-925896360766-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-925896360766-LeaderElection4 ELECTION round 0: result PASSED
2022-10-13 02:47:38,181 [s1@group-925896360766-LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-925896360766-LeaderElection4
2022-10-13 02:47:38,181 [s1@group-925896360766-LeaderElection4] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-925896360766: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2022-10-13 02:47:38,181 [s1@group-925896360766-LeaderElection4] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-925896360766: change Leader from null to s1 at term 2 for becomeLeader, leader elected after 1297ms
2022-10-13 02:47:38,186 [s1@group-925896360766-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-10-13 02:47:38,190 [s1@group-925896360766-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-10-13 02:47:38,190 [s1@group-925896360766-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2022-10-13 02:47:38,193 [s1@group-925896360766-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-10-13 02:47:38,193 [s1@group-925896360766-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-10-13 02:47:38,194 [s1@group-925896360766-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-10-13 02:47:38,198 [s1@group-925896360766-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-10-13 02:47:38,200 [s1@group-925896360766-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-10-13 02:47:38,212 [s1@group-925896360766-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-10-13 02:47:38,213 [s1@group-925896360766-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-10-13 02:47:38,213 [s1@group-925896360766-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-10-13 02:47:38,216 [s1@group-925896360766-LeaderElection4] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-10-13 02:47:38,217 [s1@group-925896360766-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-10-13 02:47:38,217 [s1@group-925896360766-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-10-13 02:47:38,218 [s1@group-925896360766-LeaderElection4] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-10-13 02:47:38,218 [s1@group-925896360766-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2022-10-13 02:47:38,220 [s1@group-925896360766-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-10-13 02:47:38,220 [s1@group-925896360766-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-10-13 02:47:38,221 [s1@group-925896360766-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-10-13 02:47:38,221 [s1@group-925896360766-LeaderElection4] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-10-13 02:47:38,221 [s1@group-925896360766-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-10-13 02:47:38,221 [s1@group-925896360766-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-10-13 02:47:38,221 [s1@group-925896360766-LeaderElection4] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-10-13 02:47:38,221 [s1@group-925896360766-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2022-10-13 02:47:38,223 [s1@group-925896360766-LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-925896360766-LeaderStateImpl
2022-10-13 02:47:38,237 [s1@group-925896360766-LeaderElection4] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(427)) - s1@group-925896360766-SegmentedRaftLogWorker: Starting segment from index:0
2022-10-13 02:47:38,244 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #3/100: java.lang.IllegalStateException: Leader: s1@group-925896360766 not ready, sleep 450ms and then retry.
java.lang.IllegalStateException: Leader: s1@group-925896360766 not ready
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:114)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientRequestMetrics(TestRaftServerWithGrpc.java:304)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientMetrics(TestRaftServerWithGrpc.java:215)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-10-13 02:47:38,287 [s1@group-925896360766-LeaderElection4] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-925896360766: set configuration 0: peers:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:38,332 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-925896360766: change Leader from null to s1 at term 2 for appendEntries, leader elected after 1449ms
2022-10-13 02:47:38,350 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-925896360766: change Leader from null to s1 at term 2 for appendEntries, leader elected after 1466ms
2022-10-13 02:47:38,383 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-925896360766: set configuration 0: peers:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:38,383 [s2-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(427)) - s2@group-925896360766-SegmentedRaftLogWorker: Starting segment from index:0
2022-10-13 02:47:38,411 [s0-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-925896360766: set configuration 0: peers:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:38,412 [s0-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(427)) - s0@group-925896360766-SegmentedRaftLogWorker: Starting segment from index:0
2022-10-13 02:47:38,438 [s0@group-925896360766-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(631)) - s0@group-925896360766-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc96c7fd62/s0/6b6a3f22-06ba-459a-846d-925896360766/current/log_inprogress_0
2022-10-13 02:47:38,438 [s2@group-925896360766-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(631)) - s2@group-925896360766-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc96c7fd62/s2/6b6a3f22-06ba-459a-846d-925896360766/current/log_inprogress_0
2022-10-13 02:47:38,440 [s1@group-925896360766-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(631)) - s1@group-925896360766-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc96c7fd62/s1/6b6a3f22-06ba-459a-846d-925896360766/current/log_inprogress_0
2022-10-13 02:47:38,695 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-925896360766:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-925896360766-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-925896360766:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-925896360766-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-925896360766:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-925896360766-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-10-13 02:47:38,723 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:47:38,723 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:47:38,787 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-2E8A1AEA63EB->s0: receive RaftClientReply:client-2E8A1AEA63EB->s0@group-925896360766, cid=0, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-925896360766 is not the leader s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s0:c0, s1:c0, s2:c0]
2022-10-13 02:47:38,803 [timer1] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:47:38,803 [timer1] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:47:38,814 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-2E8A1AEA63EB->s1: receive RaftClientReply:client-2E8A1AEA63EB->s1@group-925896360766, cid=0, SUCCESS, logIndex=0, commits[s1:c0, s0:c0, s2:c0]
2022-10-13 02:47:38,848 [s1@group-925896360766-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 1, testing -> (t:2, i:1), STATEMACHINELOGENTRY, 1@client-2E8A1AEA63EB
2022-10-13 02:47:38,854 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-2E8A1AEA63EB->s1: receive RaftClientReply:client-2E8A1AEA63EB->s1@group-925896360766, cid=1, SUCCESS, logIndex=1, commits[s1:c1, s0:c0, s2:c0]
2022-10-13 02:47:38,857 [s0@group-925896360766-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 1, testing -> (t:2, i:1), STATEMACHINELOGENTRY, 1@client-2E8A1AEA63EB
2022-10-13 02:47:38,857 [s2@group-925896360766-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 1, testing -> (t:2, i:1), STATEMACHINELOGENTRY, 1@client-2E8A1AEA63EB
2022-10-13 02:47:38,866 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-10-13 02:47:38,866 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-10-13 02:47:38,866 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2022-10-13 02:47:38,866 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-10-13 02:47:38,866 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-10-13 02:47:38,867 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-925896360766:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-925896360766-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-925896360766:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-925896360766-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-925896360766:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-925896360766-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|rpc:localhost:37553|admin:localhost:43967|client:localhost:33491|dataStream:localhost:41591|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36761|admin:localhost:41837|client:localhost:41895|dataStream:localhost:37405|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37581|admin:localhost:45391|client:localhost:39119|dataStream:localhost:42363|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-10-13 02:47:38,871 [MiniRaftCluster-2] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s1: close
2022-10-13 02:47:38,880 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s1@group-925896360766: shutdown
2022-10-13 02:47:38,880 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-925896360766,id=s1
2022-10-13 02:47:38,880 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-925896360766-LeaderStateImpl
2022-10-13 02:47:38,881 [s1-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-925896360766-PendingRequests: sendNotLeaderResponses
2022-10-13 02:47:38,885 [s1@group-925896360766->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s1@group-925896360766->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-10-13 02:47:38,887 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s0: Completed APPEND_ENTRIES, lastRequest: s1->s0#18-t2,previous=(t:2, i:1),leaderCommit=1,initializing? true,entries: size=1, first=(t:2, i:2), METADATAENTRY(c:1)
2022-10-13 02:47:38,889 [s1@group-925896360766->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s1@group-925896360766->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-10-13 02:47:38,889 [MiniRaftCluster-1] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2022-10-13 02:47:38,890 [MiniRaftCluster-3] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s2: close
2022-10-13 02:47:38,885 [MiniRaftCluster-2] INFO  server.GrpcService (GrpcService.java:closeImpl(319)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-10-13 02:47:38,888 [grpc-default-executor-8] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s1@group-925896360766->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-10-13 02:47:38,891 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s2: Completed APPEND_ENTRIES, lastRequest: s1->s2#16-t2,previous=(t:2, i:1),leaderCommit=1,initializing? true,entries: size=1, first=(t:2, i:2), METADATAENTRY(c:1)
2022-10-13 02:47:38,892 [grpc-default-executor-8] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s1@group-925896360766->s0: nextIndex: updateUnconditionally 3 -> 2
2022-10-13 02:47:38,895 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-925896360766-StateMachineUpdater: set stopIndex = 2
2022-10-13 02:47:38,896 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s1@group-925896360766: applyIndex: 2
2022-10-13 02:47:38,896 [s1@group-925896360766-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(329)) - s1@group-925896360766-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-10-13 02:47:38,898 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s1@group-925896360766-SegmentedRaftLogWorker close()
2022-10-13 02:47:38,898 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s2@group-925896360766: shutdown
2022-10-13 02:47:38,898 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-925896360766,id=s2
2022-10-13 02:47:38,899 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-925896360766-FollowerState
2022-10-13 02:47:38,899 [s2@group-925896360766-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-925896360766-FollowerState was interrupted
2022-10-13 02:47:38,899 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-925896360766: shutdown
2022-10-13 02:47:38,899 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-925896360766-StateMachineUpdater: set stopIndex = 1
2022-10-13 02:47:38,899 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s2@group-925896360766: applyIndex: 1
2022-10-13 02:47:38,899 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-925896360766,id=s0
2022-10-13 02:47:38,900 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-925896360766-FollowerState
2022-10-13 02:47:38,900 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-925896360766-StateMachineUpdater: set stopIndex = 1
2022-10-13 02:47:38,900 [s2@group-925896360766-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(329)) - s2@group-925896360766-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-10-13 02:47:38,901 [MiniRaftCluster-3] INFO  server.GrpcService (GrpcService.java:closeImpl(319)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-10-13 02:47:38,899 [MiniRaftCluster-1] INFO  server.GrpcService (GrpcService.java:closeImpl(319)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-10-13 02:47:38,901 [s0@group-925896360766-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-925896360766-FollowerState was interrupted
2022-10-13 02:47:38,902 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s0@group-925896360766: applyIndex: 1
2022-10-13 02:47:38,902 [s0@group-925896360766-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(329)) - s0@group-925896360766-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-10-13 02:47:38,907 [grpc-default-executor-7] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s1@group-925896360766->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-10-13 02:47:38,907 [MiniRaftCluster-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(111)) - s1 Close channels
2022-10-13 02:47:38,909 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s2@group-925896360766-SegmentedRaftLogWorker close()
2022-10-13 02:47:38,907 [grpc-default-executor-7] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s1@group-925896360766->s2: nextIndex: updateUnconditionally 3 -> 2
2022-10-13 02:47:38,910 [MiniRaftCluster-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(111)) - s0 Close channels
2022-10-13 02:47:38,911 [MiniRaftCluster-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(111)) - s2 Close channels
2022-10-13 02:47:38,911 [MiniRaftCluster-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(111)) - s0 Close channels
2022-10-13 02:47:38,910 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s0@group-925896360766-SegmentedRaftLogWorker close()
2022-10-13 02:47:38,913 [MiniRaftCluster-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(111)) - s2 Close channels
2022-10-13 02:47:38,914 [MiniRaftCluster-2] INFO  server.GrpcService (GrpcService.java:closeImpl(328)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-10-13 02:47:38,914 [MiniRaftCluster-2] INFO  server.GrpcService (GrpcService.java:closeImpl(319)) - s1: shutdown server GrpcServerProtocolService now
2022-10-13 02:47:38,919 [MiniRaftCluster-2] INFO  server.GrpcService (GrpcService.java:closeImpl(328)) - s1: shutdown server GrpcServerProtocolService successfully
2022-10-13 02:47:38,919 [MiniRaftCluster-2] INFO  server.GrpcService (GrpcService.java:closeImpl(319)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-10-13 02:47:38,920 [MiniRaftCluster-2] INFO  server.GrpcService (GrpcService.java:closeImpl(328)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-10-13 02:47:38,920 [MiniRaftCluster-1] INFO  server.GrpcService (GrpcService.java:closeImpl(328)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-10-13 02:47:38,920 [MiniRaftCluster-1] INFO  server.GrpcService (GrpcService.java:closeImpl(319)) - s0: shutdown server GrpcServerProtocolService now
2022-10-13 02:47:38,920 [JvmPauseMonitor1] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2022-10-13 02:47:38,920 [MiniRaftCluster-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(111)) - s1 Close channels
2022-10-13 02:47:38,921 [MiniRaftCluster-1] INFO  server.GrpcService (GrpcService.java:closeImpl(328)) - s0: shutdown server GrpcServerProtocolService successfully
2022-10-13 02:47:38,921 [MiniRaftCluster-1] INFO  server.GrpcService (GrpcService.java:closeImpl(319)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-10-13 02:47:38,922 [MiniRaftCluster-1] INFO  server.GrpcService (GrpcService.java:closeImpl(328)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-10-13 02:47:38,923 [MiniRaftCluster-3] INFO  server.GrpcService (GrpcService.java:closeImpl(328)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-10-13 02:47:38,923 [MiniRaftCluster-3] INFO  server.GrpcService (GrpcService.java:closeImpl(319)) - s2: shutdown server GrpcServerProtocolService now
2022-10-13 02:47:38,923 [JvmPauseMonitor0] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2022-10-13 02:47:38,924 [MiniRaftCluster-3] INFO  server.GrpcService (GrpcService.java:closeImpl(328)) - s2: shutdown server GrpcServerProtocolService successfully
2022-10-13 02:47:38,924 [MiniRaftCluster-3] INFO  server.GrpcService (GrpcService.java:closeImpl(319)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-10-13 02:47:38,925 [MiniRaftCluster-3] INFO  server.GrpcService (GrpcService.java:closeImpl(328)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-10-13 02:47:38,926 [JvmPauseMonitor2] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s2: Stopped
2022-10-13 02:47:38,926 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2022-10-13 02:47:38,934 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-10-13 02:47:38,934 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-10-13 02:47:38,934 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to ALL
2022-10-13 02:47:38,936 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2022-10-13 02:47:38,937 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-DEA4C3C5A74B:[s0|rpc:localhost:34271|admin:localhost:46123|client:localhost:39369|dataStream:localhost:33229|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35945|admin:localhost:42905|client:localhost:45081|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41817|admin:localhost:41025|client:localhost:32913|dataStream:localhost:34883|priority:0|startupRole:FOLLOWER]
2022-10-13 02:47:38,937 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2022-10-13 02:47:38,937 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-10-13 02:47:38,938 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2022-10-13 02:47:38,938 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2022-10-13 02:47:38,938 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2022-10-13 02:47:38,938 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2022-10-13 02:47:38,938 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-DEA4C3C5A74B:[s0|rpc:localhost:34271|admin:localhost:46123|client:localhost:39369|dataStream:localhost:33229|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35945|admin:localhost:42905|client:localhost:45081|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41817|admin:localhost:41025|client:localhost:32913|dataStream:localhost:34883|priority:0|startupRole:FOLLOWER], format? true
2022-10-13 02:47:38,939 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/bc10d1de/MiniRaftClusterWithGrpc66870552/s0
2022-10-13 02:47:38,939 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/bc10d1de/MiniRaftClusterWithGrpc66870552/s0 does not exist.
2022-10-13 02:47:38,939 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/bc10d1de/MiniRaftClusterWithGrpc66870552/s0
2022-10-13 02:47:38,940 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-10-13 02:47:38,940 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-10-13 02:47:38,940 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 46123 (custom)
2022-10-13 02:47:38,940 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-10-13 02:47:38,940 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 39369 (custom)
2022-10-13 02:47:38,940 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-10-13 02:47:38,940 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 34271 (custom)
2022-10-13 02:47:38,940 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:47:38,940 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-10-13 02:47:38,940 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:47:38,940 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-10-13 02:47:38,941 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-10-13 02:47:38,941 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-10-13 02:47:38,941 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-10-13 02:47:38,943 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-10-13 02:47:38,943 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-10-13 02:47:38,943 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-10-13 02:47:38,943 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-10-13 02:47:38,943 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-10-13 02:47:38,943 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc66870552/s0] (custom)
2022-10-13 02:47:38,953 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-DEA4C3C5A74B:[s0|rpc:localhost:34271|admin:localhost:46123|client:localhost:39369|dataStream:localhost:33229|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35945|admin:localhost:42905|client:localhost:45081|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41817|admin:localhost:41025|client:localhost:32913|dataStream:localhost:34883|priority:0|startupRole:FOLLOWER] returns group-DEA4C3C5A74B:java.util.concurrent.CompletableFuture@3abc65e5[Not completed]
2022-10-13 02:47:38,953 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-10-13 02:47:38,953 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-10-13 02:47:38,953 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-10-13 02:47:38,953 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-DEA4C3C5A74B:[s0|rpc:localhost:34271|admin:localhost:46123|client:localhost:39369|dataStream:localhost:33229|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35945|admin:localhost:42905|client:localhost:45081|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41817|admin:localhost:41025|client:localhost:32913|dataStream:localhost:34883|priority:0|startupRole:FOLLOWER], format? true
2022-10-13 02:47:38,953 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/bc10d1de/MiniRaftClusterWithGrpc66870552/s1
2022-10-13 02:47:38,954 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/bc10d1de/MiniRaftClusterWithGrpc66870552/s1 does not exist.
2022-10-13 02:47:38,954 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/bc10d1de/MiniRaftClusterWithGrpc66870552/s1
2022-10-13 02:47:38,954 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-10-13 02:47:38,954 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-10-13 02:47:38,954 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 42905 (custom)
2022-10-13 02:47:38,954 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-10-13 02:47:38,954 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 45081 (custom)
2022-10-13 02:47:38,954 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-10-13 02:47:38,955 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 35945 (custom)
2022-10-13 02:47:38,955 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:47:38,955 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-10-13 02:47:38,955 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:47:38,955 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-10-13 02:47:38,955 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-10-13 02:47:38,955 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-10-13 02:47:38,955 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-10-13 02:47:38,953 [pool-6-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-DEA4C3C5A74B:[s0|rpc:localhost:34271|admin:localhost:46123|client:localhost:39369|dataStream:localhost:33229|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35945|admin:localhost:42905|client:localhost:45081|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41817|admin:localhost:41025|client:localhost:32913|dataStream:localhost:34883|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-10-13 02:47:38,956 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-10-13 02:47:38,956 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-10-13 02:47:38,956 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-10-13 02:47:38,956 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-10-13 02:47:38,956 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-10-13 02:47:38,956 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-10-13 02:47:38,956 [pool-6-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-DEA4C3C5A74B: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:34271|admin:localhost:46123|client:localhost:39369|dataStream:localhost:33229|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35945|admin:localhost:42905|client:localhost:45081|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41817|admin:localhost:41025|client:localhost:32913|dataStream:localhost:34883|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-10-13 02:47:38,956 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-10-13 02:47:38,956 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-10-13 02:47:38,959 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-10-13 02:47:38,959 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-10-13 02:47:38,959 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-10-13 02:47:38,959 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-10-13 02:47:38,959 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-10-13 02:47:38,960 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc66870552/s1] (custom)
2022-10-13 02:47:38,960 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-10-13 02:47:38,960 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-DEA4C3C5A74B:[s0|rpc:localhost:34271|admin:localhost:46123|client:localhost:39369|dataStream:localhost:33229|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35945|admin:localhost:42905|client:localhost:45081|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41817|admin:localhost:41025|client:localhost:32913|dataStream:localhost:34883|priority:0|startupRole:FOLLOWER] returns group-DEA4C3C5A74B:java.util.concurrent.CompletableFuture@67b8e9a7[Not completed]
2022-10-13 02:47:38,960 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-DEA4C3C5A74B:[s0|rpc:localhost:34271|admin:localhost:46123|client:localhost:39369|dataStream:localhost:33229|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35945|admin:localhost:42905|client:localhost:45081|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41817|admin:localhost:41025|client:localhost:32913|dataStream:localhost:34883|priority:0|startupRole:FOLLOWER], format? true
2022-10-13 02:47:38,960 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/bc10d1de/MiniRaftClusterWithGrpc66870552/s2
2022-10-13 02:47:38,961 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-10-13 02:47:38,962 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-10-13 02:47:38,962 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-10-13 02:47:38,962 [pool-7-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-DEA4C3C5A74B:[s0|rpc:localhost:34271|admin:localhost:46123|client:localhost:39369|dataStream:localhost:33229|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35945|admin:localhost:42905|client:localhost:45081|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41817|admin:localhost:41025|client:localhost:32913|dataStream:localhost:34883|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-10-13 02:47:38,962 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-10-13 02:47:38,962 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-10-13 02:47:38,962 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-10-13 02:47:38,962 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-10-13 02:47:38,963 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-10-13 02:47:38,963 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-10-13 02:47:38,963 [pool-7-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-DEA4C3C5A74B: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:34271|admin:localhost:46123|client:localhost:39369|dataStream:localhost:33229|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35945|admin:localhost:42905|client:localhost:45081|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41817|admin:localhost:41025|client:localhost:32913|dataStream:localhost:34883|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-10-13 02:47:38,963 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-10-13 02:47:38,963 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-10-13 02:47:38,963 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-10-13 02:47:38,963 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-10-13 02:47:38,963 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-10-13 02:47:38,965 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-10-13 02:47:38,965 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-10-13 02:47:38,965 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-10-13 02:47:38,965 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-10-13 02:47:38,965 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-10-13 02:47:38,961 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-10-13 02:47:38,961 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/bc10d1de/MiniRaftClusterWithGrpc66870552/s2 does not exist.
2022-10-13 02:47:38,965 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/bc10d1de/MiniRaftClusterWithGrpc66870552/s2
2022-10-13 02:47:38,966 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-10-13 02:47:38,966 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-10-13 02:47:38,966 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 41025 (custom)
2022-10-13 02:47:38,966 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-10-13 02:47:38,966 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 32913 (custom)
2022-10-13 02:47:38,966 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-10-13 02:47:38,966 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 41817 (custom)
2022-10-13 02:47:38,966 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:47:38,967 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-10-13 02:47:38,967 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:47:38,967 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-10-13 02:47:38,967 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-10-13 02:47:38,967 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-10-13 02:47:38,967 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-10-13 02:47:38,968 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-10-13 02:47:38,968 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-10-13 02:47:38,968 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-10-13 02:47:38,968 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-10-13 02:47:38,968 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-10-13 02:47:38,969 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc66870552/s2] (custom)
2022-10-13 02:47:38,969 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-10-13 02:47:38,976 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-10-13 02:47:38,976 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-10-13 02:47:38,976 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-DEA4C3C5A74B:[s0|rpc:localhost:34271|admin:localhost:46123|client:localhost:39369|dataStream:localhost:33229|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35945|admin:localhost:42905|client:localhost:45081|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41817|admin:localhost:41025|client:localhost:32913|dataStream:localhost:34883|priority:0|startupRole:FOLLOWER] returns group-DEA4C3C5A74B:java.util.concurrent.CompletableFuture@4e8ab66f[Not completed]
2022-10-13 02:47:38,979 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-10-13 02:47:38,979 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-10-13 02:47:38,979 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-10-13 02:47:38,979 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-10-13 02:47:38,980 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-10-13 02:47:38,980 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-10-13 02:47:38,980 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-10-13 02:47:38,980 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-10-13 02:47:38,980 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc66870552/s0] (custom)
2022-10-13 02:47:38,980 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc66870552/s0/cf91d2f0-30ad-4208-b22e-dea4c3c5a74b does not exist. Creating ...
2022-10-13 02:47:38,981 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc66870552/s0/cf91d2f0-30ad-4208-b22e-dea4c3c5a74b
2022-10-13 02:47:38,981 [pool-8-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-DEA4C3C5A74B:[s0|rpc:localhost:34271|admin:localhost:46123|client:localhost:39369|dataStream:localhost:33229|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35945|admin:localhost:42905|client:localhost:45081|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41817|admin:localhost:41025|client:localhost:32913|dataStream:localhost:34883|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-10-13 02:47:38,981 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-10-13 02:47:38,982 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-10-13 02:47:38,982 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-10-13 02:47:38,982 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-10-13 02:47:38,982 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc66870552/s0/cf91d2f0-30ad-4208-b22e-dea4c3c5a74b/in_use.lock acquired by nodename 60246@fv-az318-428
2022-10-13 02:47:38,982 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc66870552/s0/cf91d2f0-30ad-4208-b22e-dea4c3c5a74b/current
2022-10-13 02:47:38,983 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc66870552/s0/cf91d2f0-30ad-4208-b22e-dea4c3c5a74b/sm
2022-10-13 02:47:38,983 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-10-13 02:47:38,983 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-10-13 02:47:38,983 [pool-8-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-DEA4C3C5A74B: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:34271|admin:localhost:46123|client:localhost:39369|dataStream:localhost:33229|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35945|admin:localhost:42905|client:localhost:45081|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41817|admin:localhost:41025|client:localhost:32913|dataStream:localhost:34883|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-10-13 02:47:38,983 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-10-13 02:47:38,983 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-10-13 02:47:38,983 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-10-13 02:47:38,983 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-10-13 02:47:38,983 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-10-13 02:47:38,985 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc66870552/s0/cf91d2f0-30ad-4208-b22e-dea4c3c5a74b has been successfully formatted.
2022-10-13 02:47:38,986 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-10-13 02:47:38,986 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-10-13 02:47:38,986 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-10-13 02:47:38,986 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-10-13 02:47:38,986 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-10-13 02:47:38,986 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-10-13 02:47:38,986 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-10-13 02:47:38,987 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-10-13 02:47:38,987 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-10-13 02:47:38,987 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-10-13 02:47:38,987 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s0@group-DEA4C3C5A74B-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc66870552/s0/cf91d2f0-30ad-4208-b22e-dea4c3c5a74b
2022-10-13 02:47:38,987 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-10-13 02:47:38,987 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-10-13 02:47:38,988 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-10-13 02:47:38,988 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-10-13 02:47:38,988 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-10-13 02:47:38,988 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-10-13 02:47:38,988 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-10-13 02:47:38,988 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-10-13 02:47:38,988 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-10-13 02:47:38,988 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-10-13 02:47:38,988 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-10-13 02:47:38,988 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-10-13 02:47:38,988 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-DEA4C3C5A74B-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-10-13 02:47:38,989 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-DEA4C3C5A74B-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-10-13 02:47:38,991 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-DEA4C3C5A74B: start as a follower, conf=-1: peers:[s0|rpc:localhost:34271|admin:localhost:46123|client:localhost:39369|dataStream:localhost:33229|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35945|admin:localhost:42905|client:localhost:45081|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41817|admin:localhost:41025|client:localhost:32913|dataStream:localhost:34883|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:38,991 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-DEA4C3C5A74B: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-10-13 02:47:38,991 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-DEA4C3C5A74B-FollowerState
2022-10-13 02:47:38,991 [s0@group-DEA4C3C5A74B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-10-13 02:47:38,991 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-DEA4C3C5A74B,id=s0
2022-10-13 02:47:38,991 [s0@group-DEA4C3C5A74B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-10-13 02:47:38,992 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-10-13 02:47:38,992 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-10-13 02:47:38,992 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-10-13 02:47:38,992 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-10-13 02:47:38,992 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-10-13 02:47:38,992 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-10-13 02:47:38,992 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-10-13 02:47:38,993 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-10-13 02:47:38,993 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2022-10-13 02:47:38,995 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(310)) - s0: GrpcService started, listening on 39369
2022-10-13 02:47:38,995 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(310)) - s0: GrpcService started, listening on 34271
2022-10-13 02:47:38,996 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(310)) - s0: GrpcService started, listening on 46123
2022-10-13 02:47:38,997 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-10-13 02:47:38,997 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-10-13 02:47:38,997 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc66870552/s1] (custom)
2022-10-13 02:47:38,997 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc66870552/s1/cf91d2f0-30ad-4208-b22e-dea4c3c5a74b does not exist. Creating ...
2022-10-13 02:47:38,997 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc66870552/s1/cf91d2f0-30ad-4208-b22e-dea4c3c5a74b
2022-10-13 02:47:38,998 [JvmPauseMonitor3] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2022-10-13 02:47:38,999 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc66870552/s1/cf91d2f0-30ad-4208-b22e-dea4c3c5a74b/in_use.lock acquired by nodename 60246@fv-az318-428
2022-10-13 02:47:38,999 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc66870552/s1/cf91d2f0-30ad-4208-b22e-dea4c3c5a74b/current
2022-10-13 02:47:38,999 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc66870552/s1/cf91d2f0-30ad-4208-b22e-dea4c3c5a74b/sm
2022-10-13 02:47:39,001 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc66870552/s1/cf91d2f0-30ad-4208-b22e-dea4c3c5a74b has been successfully formatted.
2022-10-13 02:47:39,001 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-10-13 02:47:39,001 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-10-13 02:47:39,002 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-10-13 02:47:39,002 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-10-13 02:47:39,002 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-10-13 02:47:39,002 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-10-13 02:47:39,002 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-10-13 02:47:39,003 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-10-13 02:47:39,006 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-10-13 02:47:39,006 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-10-13 02:47:39,006 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s1@group-DEA4C3C5A74B-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc66870552/s1/cf91d2f0-30ad-4208-b22e-dea4c3c5a74b
2022-10-13 02:47:39,010 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-10-13 02:47:39,010 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-10-13 02:47:39,010 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-10-13 02:47:39,010 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-10-13 02:47:39,010 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-10-13 02:47:39,010 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-10-13 02:47:39,011 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-10-13 02:47:39,011 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-10-13 02:47:39,011 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-10-13 02:47:39,011 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-10-13 02:47:39,011 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-10-13 02:47:39,011 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-10-13 02:47:39,012 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-DEA4C3C5A74B-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-10-13 02:47:39,012 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-DEA4C3C5A74B-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-10-13 02:47:39,014 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s1@group-DEA4C3C5A74B: start as a follower, conf=-1: peers:[s0|rpc:localhost:34271|admin:localhost:46123|client:localhost:39369|dataStream:localhost:33229|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35945|admin:localhost:42905|client:localhost:45081|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41817|admin:localhost:41025|client:localhost:32913|dataStream:localhost:34883|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:39,014 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-DEA4C3C5A74B: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-10-13 02:47:39,014 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-DEA4C3C5A74B-FollowerState
2022-10-13 02:47:39,015 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-DEA4C3C5A74B,id=s1
2022-10-13 02:47:39,015 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-10-13 02:47:39,015 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-10-13 02:47:39,015 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-10-13 02:47:39,016 [s1@group-DEA4C3C5A74B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-10-13 02:47:39,016 [s1@group-DEA4C3C5A74B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-10-13 02:47:39,016 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s1: start RPC server
2022-10-13 02:47:39,017 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(310)) - s1: GrpcService started, listening on 45081
2022-10-13 02:47:39,018 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(310)) - s1: GrpcService started, listening on 35945
2022-10-13 02:47:39,019 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(310)) - s1: GrpcService started, listening on 42905
2022-10-13 02:47:39,022 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-10-13 02:47:39,022 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-10-13 02:47:39,022 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc66870552/s2] (custom)
2022-10-13 02:47:39,023 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc66870552/s2/cf91d2f0-30ad-4208-b22e-dea4c3c5a74b does not exist. Creating ...
2022-10-13 02:47:39,023 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc66870552/s2/cf91d2f0-30ad-4208-b22e-dea4c3c5a74b
2022-10-13 02:47:39,024 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc66870552/s2/cf91d2f0-30ad-4208-b22e-dea4c3c5a74b/in_use.lock acquired by nodename 60246@fv-az318-428
2022-10-13 02:47:39,024 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc66870552/s2/cf91d2f0-30ad-4208-b22e-dea4c3c5a74b/current
2022-10-13 02:47:39,024 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc66870552/s2/cf91d2f0-30ad-4208-b22e-dea4c3c5a74b/sm
2022-10-13 02:47:39,026 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc66870552/s2/cf91d2f0-30ad-4208-b22e-dea4c3c5a74b has been successfully formatted.
2022-10-13 02:47:39,026 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-10-13 02:47:39,026 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-10-13 02:47:39,027 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-10-13 02:47:39,027 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-10-13 02:47:39,027 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-10-13 02:47:39,027 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-10-13 02:47:39,027 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-10-13 02:47:39,028 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-10-13 02:47:39,028 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-10-13 02:47:39,028 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-10-13 02:47:39,028 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s2@group-DEA4C3C5A74B-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc66870552/s2/cf91d2f0-30ad-4208-b22e-dea4c3c5a74b
2022-10-13 02:47:39,028 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-10-13 02:47:39,028 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-10-13 02:47:39,028 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-10-13 02:47:39,028 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-10-13 02:47:39,028 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-10-13 02:47:39,028 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-10-13 02:47:39,028 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-10-13 02:47:39,028 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-10-13 02:47:39,028 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-10-13 02:47:39,029 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-10-13 02:47:39,029 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-10-13 02:47:39,029 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-10-13 02:47:39,029 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-DEA4C3C5A74B-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-10-13 02:47:39,029 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-DEA4C3C5A74B-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-10-13 02:47:39,029 [JvmPauseMonitor4] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2022-10-13 02:47:39,030 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s2@group-DEA4C3C5A74B: start as a follower, conf=-1: peers:[s0|rpc:localhost:34271|admin:localhost:46123|client:localhost:39369|dataStream:localhost:33229|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35945|admin:localhost:42905|client:localhost:45081|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41817|admin:localhost:41025|client:localhost:32913|dataStream:localhost:34883|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:39,030 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-DEA4C3C5A74B: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-10-13 02:47:39,030 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-DEA4C3C5A74B-FollowerState
2022-10-13 02:47:39,033 [s2@group-DEA4C3C5A74B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-10-13 02:47:39,033 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-DEA4C3C5A74B,id=s2
2022-10-13 02:47:39,034 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-10-13 02:47:39,034 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-10-13 02:47:39,034 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-10-13 02:47:39,035 [s2@group-DEA4C3C5A74B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-10-13 02:47:39,036 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s2: start RPC server
2022-10-13 02:47:39,038 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(310)) - s2: GrpcService started, listening on 32913
2022-10-13 02:47:39,039 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(310)) - s2: GrpcService started, listening on 41817
2022-10-13 02:47:39,040 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(310)) - s2: GrpcService started, listening on 41025
2022-10-13 02:47:39,041 [JvmPauseMonitor5] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2022-10-13 02:47:39,042 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:47:39,042 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:47:39,060 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-7BDA9BE45DB0->s0: receive RaftClientReply:client-7BDA9BE45DB0->s0@group-DEA4C3C5A74B, cid=2, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-DEA4C3C5A74B is not the leader, logIndex=0, commits[s0:c-1]
2022-10-13 02:47:39,164 [timer1] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:47:39,164 [timer1] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:47:39,167 [s0@group-DEA4C3C5A74B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-DEA4C3C5A74B-FollowerState: change to CANDIDATE, lastRpcElapsedTime:175730707ns, electionTimeout:175ms
2022-10-13 02:47:39,167 [s0@group-DEA4C3C5A74B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-DEA4C3C5A74B-FollowerState
2022-10-13 02:47:39,167 [s0@group-DEA4C3C5A74B-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-DEA4C3C5A74B: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-10-13 02:47:39,168 [s0@group-DEA4C3C5A74B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-10-13 02:47:39,168 [s0@group-DEA4C3C5A74B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-DEA4C3C5A74B-LeaderElection5
2022-10-13 02:47:39,174 [s0@group-DEA4C3C5A74B-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-DEA4C3C5A74B-LeaderElection5 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:34271|admin:localhost:46123|client:localhost:39369|dataStream:localhost:33229|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35945|admin:localhost:42905|client:localhost:45081|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41817|admin:localhost:41025|client:localhost:32913|dataStream:localhost:34883|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:39,174 [s0@group-DEA4C3C5A74B-LeaderElection5-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2022-10-13 02:47:39,175 [s0@group-DEA4C3C5A74B-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-10-13 02:47:39,175 [s0@group-DEA4C3C5A74B-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-10-13 02:47:39,175 [s0@group-DEA4C3C5A74B-LeaderElection5-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2022-10-13 02:47:39,189 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s2@group-DEA4C3C5A74B: receive requestVote(PRE_VOTE, s0, group-DEA4C3C5A74B, 0, (t:0, i:0))
2022-10-13 02:47:39,189 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-DEA4C3C5A74B-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-10-13 02:47:39,189 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1324)) - s2@group-DEA4C3C5A74B replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-DEA4C3C5A74B:t0, leader=null, voted=, raftlog=Memoized:s2@group-DEA4C3C5A74B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34271|admin:localhost:46123|client:localhost:39369|dataStream:localhost:33229|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35945|admin:localhost:42905|client:localhost:45081|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41817|admin:localhost:41025|client:localhost:32913|dataStream:localhost:34883|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:39,190 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-7BDA9BE45DB0->s1: receive RaftClientReply:client-7BDA9BE45DB0->s1@group-DEA4C3C5A74B, cid=2, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s1@group-DEA4C3C5A74B is not the leader, logIndex=0, commits[s1:c-1]
2022-10-13 02:47:39,195 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s1@group-DEA4C3C5A74B: receive requestVote(PRE_VOTE, s0, group-DEA4C3C5A74B, 0, (t:0, i:0))
2022-10-13 02:47:39,195 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-DEA4C3C5A74B-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-10-13 02:47:39,195 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1324)) - s1@group-DEA4C3C5A74B replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-DEA4C3C5A74B:t0, leader=null, voted=, raftlog=Memoized:s1@group-DEA4C3C5A74B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34271|admin:localhost:46123|client:localhost:39369|dataStream:localhost:33229|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35945|admin:localhost:42905|client:localhost:45081|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41817|admin:localhost:41025|client:localhost:32913|dataStream:localhost:34883|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:39,195 [s0@group-DEA4C3C5A74B-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-DEA4C3C5A74B-LeaderElection5: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-10-13 02:47:39,195 [s0@group-DEA4C3C5A74B-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s2#0:OK-t0
2022-10-13 02:47:39,195 [s0@group-DEA4C3C5A74B-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-DEA4C3C5A74B-LeaderElection5 PRE_VOTE round 0: result PASSED
2022-10-13 02:47:39,197 [s0@group-DEA4C3C5A74B-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-DEA4C3C5A74B-LeaderElection5 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:34271|admin:localhost:46123|client:localhost:39369|dataStream:localhost:33229|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35945|admin:localhost:42905|client:localhost:45081|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41817|admin:localhost:41025|client:localhost:32913|dataStream:localhost:34883|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:39,199 [s0@group-DEA4C3C5A74B-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-10-13 02:47:39,199 [s0@group-DEA4C3C5A74B-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-10-13 02:47:39,205 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s1@group-DEA4C3C5A74B: receive requestVote(ELECTION, s0, group-DEA4C3C5A74B, 1, (t:0, i:0))
2022-10-13 02:47:39,205 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-DEA4C3C5A74B-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-10-13 02:47:39,205 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-DEA4C3C5A74B: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-10-13 02:47:39,206 [grpc-default-executor-7] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-DEA4C3C5A74B-FollowerState
2022-10-13 02:47:39,206 [grpc-default-executor-7] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-DEA4C3C5A74B-FollowerState
2022-10-13 02:47:39,206 [s1@group-DEA4C3C5A74B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-DEA4C3C5A74B-FollowerState was interrupted
2022-10-13 02:47:39,212 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1324)) - s1@group-DEA4C3C5A74B replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-DEA4C3C5A74B:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-DEA4C3C5A74B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34271|admin:localhost:46123|client:localhost:39369|dataStream:localhost:33229|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35945|admin:localhost:42905|client:localhost:45081|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41817|admin:localhost:41025|client:localhost:32913|dataStream:localhost:34883|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:39,214 [s1@group-DEA4C3C5A74B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-10-13 02:47:39,214 [s1@group-DEA4C3C5A74B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-10-13 02:47:39,215 [s0@group-DEA4C3C5A74B-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-DEA4C3C5A74B-LeaderElection5: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-10-13 02:47:39,215 [s0@group-DEA4C3C5A74B-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t1
2022-10-13 02:47:39,215 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s2@group-DEA4C3C5A74B: receive requestVote(ELECTION, s0, group-DEA4C3C5A74B, 1, (t:0, i:0))
2022-10-13 02:47:39,215 [s0@group-DEA4C3C5A74B-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-DEA4C3C5A74B-LeaderElection5 ELECTION round 0: result PASSED
2022-10-13 02:47:39,215 [s0@group-DEA4C3C5A74B-LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-DEA4C3C5A74B-LeaderElection5
2022-10-13 02:47:39,215 [s0@group-DEA4C3C5A74B-LeaderElection5] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-DEA4C3C5A74B: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-10-13 02:47:39,215 [s0@group-DEA4C3C5A74B-LeaderElection5] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-DEA4C3C5A74B: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 259ms
2022-10-13 02:47:39,215 [s0@group-DEA4C3C5A74B-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-10-13 02:47:39,215 [s0@group-DEA4C3C5A74B-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2022-10-13 02:47:39,216 [s0@group-DEA4C3C5A74B-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 1MB (=1048576) (custom)
2022-10-13 02:47:39,216 [s0@group-DEA4C3C5A74B-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-10-13 02:47:39,216 [s0@group-DEA4C3C5A74B-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-10-13 02:47:39,216 [s0@group-DEA4C3C5A74B-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-10-13 02:47:39,216 [s0@group-DEA4C3C5A74B-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2022-10-13 02:47:39,216 [s0@group-DEA4C3C5A74B-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-10-13 02:47:39,216 [s0@group-DEA4C3C5A74B-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-10-13 02:47:39,217 [s0@group-DEA4C3C5A74B-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-10-13 02:47:39,217 [s0@group-DEA4C3C5A74B-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-10-13 02:47:39,217 [s0@group-DEA4C3C5A74B-LeaderElection5] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-10-13 02:47:39,217 [s0@group-DEA4C3C5A74B-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-10-13 02:47:39,217 [s0@group-DEA4C3C5A74B-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-10-13 02:47:39,217 [s0@group-DEA4C3C5A74B-LeaderElection5] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-10-13 02:47:39,217 [s0@group-DEA4C3C5A74B-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2022-10-13 02:47:39,218 [s0@group-DEA4C3C5A74B-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-10-13 02:47:39,218 [s0@group-DEA4C3C5A74B-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-10-13 02:47:39,218 [s0@group-DEA4C3C5A74B-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-10-13 02:47:39,218 [s0@group-DEA4C3C5A74B-LeaderElection5] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-10-13 02:47:39,218 [s0@group-DEA4C3C5A74B-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-10-13 02:47:39,218 [s0@group-DEA4C3C5A74B-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-10-13 02:47:39,218 [s0@group-DEA4C3C5A74B-LeaderElection5] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-10-13 02:47:39,218 [s0@group-DEA4C3C5A74B-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2022-10-13 02:47:39,218 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-DEA4C3C5A74B-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-10-13 02:47:39,218 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-DEA4C3C5A74B: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-10-13 02:47:39,218 [s0@group-DEA4C3C5A74B-LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-DEA4C3C5A74B-LeaderStateImpl
2022-10-13 02:47:39,218 [s0@group-DEA4C3C5A74B-LeaderElection5] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(427)) - s0@group-DEA4C3C5A74B-SegmentedRaftLogWorker: Starting segment from index:0
2022-10-13 02:47:39,218 [grpc-default-executor-7] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-DEA4C3C5A74B-FollowerState
2022-10-13 02:47:39,222 [s2@group-DEA4C3C5A74B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-DEA4C3C5A74B-FollowerState was interrupted
2022-10-13 02:47:39,229 [grpc-default-executor-7] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-DEA4C3C5A74B-FollowerState
2022-10-13 02:47:39,233 [s0@group-DEA4C3C5A74B-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(631)) - s0@group-DEA4C3C5A74B-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc66870552/s0/cf91d2f0-30ad-4208-b22e-dea4c3c5a74b/current/log_inprogress_0
2022-10-13 02:47:39,237 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1324)) - s2@group-DEA4C3C5A74B replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-DEA4C3C5A74B:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-DEA4C3C5A74B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34271|admin:localhost:46123|client:localhost:39369|dataStream:localhost:33229|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35945|admin:localhost:42905|client:localhost:45081|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41817|admin:localhost:41025|client:localhost:32913|dataStream:localhost:34883|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:39,243 [s2@group-DEA4C3C5A74B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-10-13 02:47:39,243 [s2@group-DEA4C3C5A74B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-10-13 02:47:39,247 [s0@group-DEA4C3C5A74B-LeaderElection5] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-DEA4C3C5A74B: set configuration 0: peers:[s0|rpc:localhost:34271|admin:localhost:46123|client:localhost:39369|dataStream:localhost:33229|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35945|admin:localhost:42905|client:localhost:45081|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41817|admin:localhost:41025|client:localhost:32913|dataStream:localhost:34883|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:39,248 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-DEA4C3C5A74B: change Leader from null to s0 at term 1 for appendEntries, leader elected after 285ms
2022-10-13 02:47:39,255 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-DEA4C3C5A74B: change Leader from null to s0 at term 1 for appendEntries, leader elected after 271ms
2022-10-13 02:47:39,266 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-DEA4C3C5A74B: set configuration 0: peers:[s0|rpc:localhost:34271|admin:localhost:46123|client:localhost:39369|dataStream:localhost:33229|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35945|admin:localhost:42905|client:localhost:45081|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41817|admin:localhost:41025|client:localhost:32913|dataStream:localhost:34883|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:39,266 [s1-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-DEA4C3C5A74B: set configuration 0: peers:[s0|rpc:localhost:34271|admin:localhost:46123|client:localhost:39369|dataStream:localhost:33229|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35945|admin:localhost:42905|client:localhost:45081|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41817|admin:localhost:41025|client:localhost:32913|dataStream:localhost:34883|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:39,266 [s2-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(427)) - s2@group-DEA4C3C5A74B-SegmentedRaftLogWorker: Starting segment from index:0
2022-10-13 02:47:39,267 [s1-server-thread3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(427)) - s1@group-DEA4C3C5A74B-SegmentedRaftLogWorker: Starting segment from index:0
2022-10-13 02:47:39,286 [s2@group-DEA4C3C5A74B-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(631)) - s2@group-DEA4C3C5A74B-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc66870552/s2/cf91d2f0-30ad-4208-b22e-dea4c3c5a74b/current/log_inprogress_0
2022-10-13 02:47:39,287 [s1@group-DEA4C3C5A74B-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(631)) - s1@group-DEA4C3C5A74B-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc66870552/s1/cf91d2f0-30ad-4208-b22e-dea4c3c5a74b/current/log_inprogress_0
2022-10-13 02:47:39,304 [timer2] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:47:39,304 [timer2] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:47:39,313 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-7BDA9BE45DB0->s0: receive RaftClientReply:client-7BDA9BE45DB0->s0@group-DEA4C3C5A74B, cid=2, SUCCESS, logIndex=0, commits[s0:c0, s1:c-1, s2:c-1]
2022-10-13 02:47:39,320 [s0@group-DEA4C3C5A74B-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 3@client-7BDA9BE45DB0
2022-10-13 02:47:39,321 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-7BDA9BE45DB0->s0: receive RaftClientReply:client-7BDA9BE45DB0->s0@group-DEA4C3C5A74B, cid=3, SUCCESS, logIndex=1, commits[s0:c1, s1:c0, s2:c0]
2022-10-13 02:47:39,328 [s1@group-DEA4C3C5A74B-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 3@client-7BDA9BE45DB0
2022-10-13 02:47:39,329 [s2@group-DEA4C3C5A74B-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 3@client-7BDA9BE45DB0
2022-10-13 02:47:39,329 [Time-limited test] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:block(134)) - block FLUSH_STATE_MACHINE_DATA
2022-10-13 02:47:39,330 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:47:39,330 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:47:39,332 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:47:39,332 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:47:39,334 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:47:39,334 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:47:39,336 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:47:39,347 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:47:39,357 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:47:39,357 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:47:39,358 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-43B431FC1B1E->s0: receive RaftClientReply:client-43B431FC1B1E->s0@group-DEA4C3C5A74B, cid=8, SUCCESS, logIndex=2, commits[s0:c2, s1:c1, s2:c1]
2022-10-13 02:47:39,358 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-DCB4F4C39817->s0: receive RaftClientReply:client-DCB4F4C39817->s0@group-DEA4C3C5A74B, cid=4, SUCCESS, logIndex=2, commits[s0:c2, s1:c1, s2:c1]
2022-10-13 02:47:39,364 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:47:39,365 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:47:39,374 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-0EF2BB86E6C7->s0: receive RaftClientReply:client-0EF2BB86E6C7->s0@group-DEA4C3C5A74B, cid=6, SUCCESS, logIndex=2, commits[s0:c2, s1:c1, s2:c1]
2022-10-13 02:47:39,379 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-2D2FD65A321E->s0: receive RaftClientReply:client-2D2FD65A321E->s0@group-DEA4C3C5A74B, cid=10, SUCCESS, logIndex=2, commits[s0:c2, s1:c1, s2:c1]
2022-10-13 02:47:39,390 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:47:39,390 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:47:39,395 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:47:39,396 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:47:39,400 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:47:39,403 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:47:39,406 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:47:39,411 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-564C0058E9A1->s0: receive RaftClientReply:client-564C0058E9A1->s0@group-DEA4C3C5A74B, cid=12, SUCCESS, logIndex=2, commits[s0:c2, s1:c1, s2:c2]
2022-10-13 02:47:39,418 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:47:39,422 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:47:39,428 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:47:39,439 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-81A30693ECE8->s0: receive RaftClientReply:client-81A30693ECE8->s0@group-DEA4C3C5A74B, cid=14, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-10-13 02:47:39,440 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-1C3230A3960D->s0: receive RaftClientReply:client-1C3230A3960D->s0@group-DEA4C3C5A74B, cid=18, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-10-13 02:47:39,454 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-39AA33C21509->s0: receive RaftClientReply:client-39AA33C21509->s0@group-DEA4C3C5A74B, cid=16, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-10-13 02:47:39,460 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-E92E0E7BEC2F->s0: receive RaftClientReply:client-E92E0E7BEC2F->s0@group-DEA4C3C5A74B, cid=20, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-10-13 02:47:39,463 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-853D30953109->s0: receive RaftClientReply:client-853D30953109->s0@group-DEA4C3C5A74B, cid=24, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-10-13 02:47:39,473 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-34FEF7B94974->s0: receive RaftClientReply:client-34FEF7B94974->s0@group-DEA4C3C5A74B, cid=22, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-10-13 02:47:39,516 [grpc-default-executor-2] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=message 8
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-DEA4C3C5A74B: Failed to acquire a pending write request for RaftClientRequest:client-34FEF7B94974->s0@group-DEA4C3C5A74B, cid=23, seq=2, RW, Message:6d6573736167652038
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:392)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:404)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:310)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:341)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:487)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:468)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:432)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:465)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-DEA4C3C5A74B: Failed to acquire a pending write request for RaftClientRequest:client-34FEF7B94974->s0@group-DEA4C3C5A74B, cid=23, seq=2, RW, Message:6d6573736167652038
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:770)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:881)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:819)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:819)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	... 3 more
	Suppressed: java.lang.NullPointerException
		at org.apache.ratis.server.impl.RaftServerImpl.lambda$submitClientRequestAsync$15(RaftServerImpl.java:889)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883)
		at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251)
		at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:888)
		... 7 more
2022-10-13 02:47:39,732 [Time-limited test] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:unblock(141)) - unblock FLUSH_STATE_MACHINE_DATA
2022-10-13 02:47:39,736 [s0@group-DEA4C3C5A74B-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 3, message 1 -> (t:1, i:3), STATEMACHINELOGENTRY, 9@client-43B431FC1B1E
2022-10-13 02:47:39,738 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-43B431FC1B1E->s0: receive RaftClientReply:client-43B431FC1B1E->s0@group-DEA4C3C5A74B, cid=9, SUCCESS, logIndex=3, commits[s0:c3, s1:c2, s2:c2]
2022-10-13 02:47:39,740 [s2@group-DEA4C3C5A74B-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 3, message 1 -> (t:1, i:3), STATEMACHINELOGENTRY, 9@client-43B431FC1B1E
2022-10-13 02:47:39,740 [s1@group-DEA4C3C5A74B-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 3, message 1 -> (t:1, i:3), STATEMACHINELOGENTRY, 9@client-43B431FC1B1E
2022-10-13 02:47:39,741 [s0@group-DEA4C3C5A74B-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 4, 2nd Messag... -> (t:1, i:4), STATEMACHINELOGENTRY, 5@client-DCB4F4C39817
2022-10-13 02:47:39,742 [s0@group-DEA4C3C5A74B-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 5, message 0 -> (t:1, i:5), STATEMACHINELOGENTRY, 7@client-0EF2BB86E6C7
2022-10-13 02:47:39,742 [s0@group-DEA4C3C5A74B-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 6, message 2 -> (t:1, i:6), STATEMACHINELOGENTRY, 11@client-2D2FD65A321E
2022-10-13 02:47:39,742 [s0@group-DEA4C3C5A74B-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 7, message 3 -> (t:1, i:7), STATEMACHINELOGENTRY, 13@client-564C0058E9A1
2022-10-13 02:47:39,743 [s0@group-DEA4C3C5A74B-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 8, message 4 -> (t:1, i:8), STATEMACHINELOGENTRY, 15@client-81A30693ECE8
2022-10-13 02:47:39,743 [s0@group-DEA4C3C5A74B-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 9, message 6 -> (t:1, i:9), STATEMACHINELOGENTRY, 19@client-1C3230A3960D
2022-10-13 02:47:39,743 [s0@group-DEA4C3C5A74B-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 10, message 7 -> (t:1, i:10), STATEMACHINELOGENTRY, 21@client-E92E0E7BEC2F
2022-10-13 02:47:39,743 [s0@group-DEA4C3C5A74B-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 11, message 9 -> (t:1, i:11), STATEMACHINELOGENTRY, 25@client-853D30953109
2022-10-13 02:47:39,743 [s0@group-DEA4C3C5A74B-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 12, message 5 -> (t:1, i:12), STATEMACHINELOGENTRY, 17@client-39AA33C21509
2022-10-13 02:47:39,746 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-0EF2BB86E6C7->s0: receive RaftClientReply:client-0EF2BB86E6C7->s0@group-DEA4C3C5A74B, cid=7, SUCCESS, logIndex=5, commits[s0:c12, s1:c2, s2:c2]
2022-10-13 02:47:39,747 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-E92E0E7BEC2F->s0: receive RaftClientReply:client-E92E0E7BEC2F->s0@group-DEA4C3C5A74B, cid=21, SUCCESS, logIndex=10, commits[s0:c12, s1:c2, s2:c2]
2022-10-13 02:47:39,748 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-2D2FD65A321E->s0: receive RaftClientReply:client-2D2FD65A321E->s0@group-DEA4C3C5A74B, cid=11, SUCCESS, logIndex=6, commits[s0:c12, s1:c2, s2:c2]
2022-10-13 02:47:39,748 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-81A30693ECE8->s0: receive RaftClientReply:client-81A30693ECE8->s0@group-DEA4C3C5A74B, cid=15, SUCCESS, logIndex=8, commits[s0:c12, s1:c2, s2:c2]
2022-10-13 02:47:39,748 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-1C3230A3960D->s0: receive RaftClientReply:client-1C3230A3960D->s0@group-DEA4C3C5A74B, cid=19, SUCCESS, logIndex=9, commits[s0:c12, s1:c2, s2:c2]
2022-10-13 02:47:39,749 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-39AA33C21509->s0: receive RaftClientReply:client-39AA33C21509->s0@group-DEA4C3C5A74B, cid=17, SUCCESS, logIndex=12, commits[s0:c12, s1:c2, s2:c2]
2022-10-13 02:47:39,751 [s2@group-DEA4C3C5A74B-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 4, 2nd Messag... -> (t:1, i:4), STATEMACHINELOGENTRY, 5@client-DCB4F4C39817
2022-10-13 02:47:39,751 [s2@group-DEA4C3C5A74B-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 5, message 0 -> (t:1, i:5), STATEMACHINELOGENTRY, 7@client-0EF2BB86E6C7
2022-10-13 02:47:39,751 [s2@group-DEA4C3C5A74B-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 6, message 2 -> (t:1, i:6), STATEMACHINELOGENTRY, 11@client-2D2FD65A321E
2022-10-13 02:47:39,751 [s2@group-DEA4C3C5A74B-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 7, message 3 -> (t:1, i:7), STATEMACHINELOGENTRY, 13@client-564C0058E9A1
2022-10-13 02:47:39,752 [s2@group-DEA4C3C5A74B-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 8, message 4 -> (t:1, i:8), STATEMACHINELOGENTRY, 15@client-81A30693ECE8
2022-10-13 02:47:39,752 [s2@group-DEA4C3C5A74B-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 9, message 6 -> (t:1, i:9), STATEMACHINELOGENTRY, 19@client-1C3230A3960D
2022-10-13 02:47:39,752 [s2@group-DEA4C3C5A74B-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 10, message 7 -> (t:1, i:10), STATEMACHINELOGENTRY, 21@client-E92E0E7BEC2F
2022-10-13 02:47:39,753 [s2@group-DEA4C3C5A74B-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 11, message 9 -> (t:1, i:11), STATEMACHINELOGENTRY, 25@client-853D30953109
2022-10-13 02:47:39,753 [s2@group-DEA4C3C5A74B-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 12, message 5 -> (t:1, i:12), STATEMACHINELOGENTRY, 17@client-39AA33C21509
2022-10-13 02:47:39,754 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-853D30953109->s0: receive RaftClientReply:client-853D30953109->s0@group-DEA4C3C5A74B, cid=25, SUCCESS, logIndex=11, commits[s0:c12, s1:c2, s2:c2]
2022-10-13 02:47:39,754 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-564C0058E9A1->s0: receive RaftClientReply:client-564C0058E9A1->s0@group-DEA4C3C5A74B, cid=13, SUCCESS, logIndex=7, commits[s0:c12, s1:c2, s2:c2]
2022-10-13 02:47:39,755 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-DCB4F4C39817->s0: receive RaftClientReply:client-DCB4F4C39817->s0@group-DEA4C3C5A74B, cid=5, SUCCESS, logIndex=4, commits[s0:c12, s1:c2, s2:c2]
2022-10-13 02:47:39,756 [s1@group-DEA4C3C5A74B-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 4, 2nd Messag... -> (t:1, i:4), STATEMACHINELOGENTRY, 5@client-DCB4F4C39817
2022-10-13 02:47:39,757 [s1@group-DEA4C3C5A74B-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 5, message 0 -> (t:1, i:5), STATEMACHINELOGENTRY, 7@client-0EF2BB86E6C7
2022-10-13 02:47:39,757 [s1@group-DEA4C3C5A74B-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 6, message 2 -> (t:1, i:6), STATEMACHINELOGENTRY, 11@client-2D2FD65A321E
2022-10-13 02:47:39,757 [s1@group-DEA4C3C5A74B-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 7, message 3 -> (t:1, i:7), STATEMACHINELOGENTRY, 13@client-564C0058E9A1
2022-10-13 02:47:39,757 [s1@group-DEA4C3C5A74B-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 8, message 4 -> (t:1, i:8), STATEMACHINELOGENTRY, 15@client-81A30693ECE8
2022-10-13 02:47:39,758 [s1@group-DEA4C3C5A74B-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 9, message 6 -> (t:1, i:9), STATEMACHINELOGENTRY, 19@client-1C3230A3960D
2022-10-13 02:47:39,758 [s1@group-DEA4C3C5A74B-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 10, message 7 -> (t:1, i:10), STATEMACHINELOGENTRY, 21@client-E92E0E7BEC2F
2022-10-13 02:47:39,760 [s1@group-DEA4C3C5A74B-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 11, message 9 -> (t:1, i:11), STATEMACHINELOGENTRY, 25@client-853D30953109
2022-10-13 02:47:39,760 [s1@group-DEA4C3C5A74B-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 12, message 5 -> (t:1, i:12), STATEMACHINELOGENTRY, 17@client-39AA33C21509
2022-10-13 02:47:39,768 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:47:39,768 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:47:39,777 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-D464DCC1CCB5->s0: receive RaftClientReply:client-D464DCC1CCB5->s0@group-DEA4C3C5A74B, cid=26, SUCCESS, logIndex=14, commits[s0:c14, s1:c12, s2:c12]
2022-10-13 02:47:39,851 [grpc-default-executor-5] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=1025kb (=1049600)-message
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-DEA4C3C5A74B: Failed to acquire a pending write request for RaftClientRequest:client-D464DCC1CCB5->s0@group-DEA4C3C5A74B, cid=27, seq=2, RW, Message:665f3ab37b9507c6709f...(size=1049600)
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:392)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:404)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:310)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:341)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:487)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-DEA4C3C5A74B: Failed to acquire a pending write request for RaftClientRequest:client-D464DCC1CCB5->s0@group-DEA4C3C5A74B, cid=27, seq=2, RW, Message:665f3ab37b9507c6709f...(size=1049600)
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:770)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:881)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:819)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:819)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	... 3 more
	Suppressed: java.lang.NullPointerException
		at org.apache.ratis.server.impl.RaftServerImpl.lambda$submitClientRequestAsync$15(RaftServerImpl.java:889)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883)
		at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251)
		at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:888)
		... 7 more
2022-10-13 02:47:40,114 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-10-13 02:47:40,114 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-10-13 02:47:40,114 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2022-10-13 02:47:40,114 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-10-13 02:47:40,114 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-10-13 02:47:40,114 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-DEA4C3C5A74B:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-DEA4C3C5A74B-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s0|rpc:localhost:34271|admin:localhost:46123|client:localhost:39369|dataStream:localhost:33229|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35945|admin:localhost:42905|client:localhost:45081|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41817|admin:localhost:41025|client:localhost:32913|dataStream:localhost:34883|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-DEA4C3C5A74B:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-DEA4C3C5A74B-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s0|rpc:localhost:34271|admin:localhost:46123|client:localhost:39369|dataStream:localhost:33229|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35945|admin:localhost:42905|client:localhost:45081|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41817|admin:localhost:41025|client:localhost:32913|dataStream:localhost:34883|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-DEA4C3C5A74B:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-DEA4C3C5A74B-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s0|rpc:localhost:34271|admin:localhost:46123|client:localhost:39369|dataStream:localhost:33229|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:35945|admin:localhost:42905|client:localhost:45081|dataStream:localhost:43063|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:41817|admin:localhost:41025|client:localhost:32913|dataStream:localhost:34883|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-10-13 02:47:40,115 [MiniRaftCluster-4] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2022-10-13 02:47:40,119 [MiniRaftCluster-4] INFO  server.GrpcService (GrpcService.java:closeImpl(319)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-10-13 02:47:40,119 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-DEA4C3C5A74B: shutdown
2022-10-13 02:47:40,119 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-DEA4C3C5A74B,id=s0
2022-10-13 02:47:40,119 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-DEA4C3C5A74B-LeaderStateImpl
2022-10-13 02:47:40,119 [MiniRaftCluster-4] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(111)) - s1 Close channels
2022-10-13 02:47:40,120 [MiniRaftCluster-5] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s1: close
2022-10-13 02:47:40,120 [MiniRaftCluster-5] INFO  server.GrpcService (GrpcService.java:closeImpl(319)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-10-13 02:47:40,120 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-DEA4C3C5A74B-PendingRequests: sendNotLeaderResponses
2022-10-13 02:47:40,120 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s1@group-DEA4C3C5A74B: shutdown
2022-10-13 02:47:40,121 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-DEA4C3C5A74B,id=s1
2022-10-13 02:47:40,121 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-DEA4C3C5A74B-FollowerState
2022-10-13 02:47:40,121 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-DEA4C3C5A74B-StateMachineUpdater: set stopIndex = 14
2022-10-13 02:47:40,121 [s1@group-DEA4C3C5A74B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-DEA4C3C5A74B-FollowerState was interrupted
2022-10-13 02:47:40,121 [s0@group-DEA4C3C5A74B->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s0@group-DEA4C3C5A74B->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-10-13 02:47:40,122 [s0@group-DEA4C3C5A74B->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s0@group-DEA4C3C5A74B->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-10-13 02:47:40,123 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s1@group-DEA4C3C5A74B: applyIndex: 14
2022-10-13 02:47:40,123 [s1@group-DEA4C3C5A74B-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(329)) - s1@group-DEA4C3C5A74B-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-10-13 02:47:40,122 [MiniRaftCluster-5] INFO  server.GrpcService (GrpcService.java:closeImpl(328)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-10-13 02:47:40,122 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-DEA4C3C5A74B-StateMachineUpdater: set stopIndex = 14
2022-10-13 02:47:40,124 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s0@group-DEA4C3C5A74B: applyIndex: 14
2022-10-13 02:47:40,124 [MiniRaftCluster-5] INFO  server.GrpcService (GrpcService.java:closeImpl(319)) - s1: shutdown server GrpcServerProtocolService now
2022-10-13 02:47:40,124 [s0@group-DEA4C3C5A74B-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(329)) - s0@group-DEA4C3C5A74B-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-10-13 02:47:40,124 [MiniRaftCluster-6] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s2: close
2022-10-13 02:47:40,123 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s2: Completed APPEND_ENTRIES, lastRequest: s0->s2#28-t1,previous=(t:1, i:13),leaderCommit=12,initializing? true,entries: size=1, first=(t:1, i:14), METADATAENTRY(c:12)
2022-10-13 02:47:40,124 [grpc-default-executor-8] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#33-t1,previous=(t:1, i:13),leaderCommit=12,initializing? true,entries: size=1, first=(t:1, i:14), METADATAENTRY(c:12)
2022-10-13 02:47:40,127 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s2@group-DEA4C3C5A74B: shutdown
2022-10-13 02:47:40,127 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-DEA4C3C5A74B,id=s2
2022-10-13 02:47:40,127 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-DEA4C3C5A74B-FollowerState
2022-10-13 02:47:40,127 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-DEA4C3C5A74B-StateMachineUpdater: set stopIndex = 14
2022-10-13 02:47:40,127 [s2@group-DEA4C3C5A74B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-DEA4C3C5A74B-FollowerState was interrupted
2022-10-13 02:47:40,127 [grpc-default-executor-8] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s0@group-DEA4C3C5A74B->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-10-13 02:47:40,127 [grpc-default-executor-8] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(136)) - s0@group-DEA4C3C5A74B->s1-GrpcLogAppender: Failed to getClient for s1
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s0 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:61)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:115)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:115)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:120)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$500(GrpcLogAppender.java:57)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:414)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:485)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-10-13 02:47:40,128 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s0@group-DEA4C3C5A74B->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-10-13 02:47:40,129 [grpc-default-executor-5] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-DEA4C3C5A74B->s2: nextIndex: updateUnconditionally 15 -> 14
2022-10-13 02:47:40,129 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s2@group-DEA4C3C5A74B: applyIndex: 14
2022-10-13 02:47:40,129 [s2@group-DEA4C3C5A74B-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(329)) - s2@group-DEA4C3C5A74B-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-10-13 02:47:40,129 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s0@group-DEA4C3C5A74B-SegmentedRaftLogWorker close()
2022-10-13 02:47:40,129 [MiniRaftCluster-4] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(111)) - s2 Close channels
2022-10-13 02:47:40,129 [MiniRaftCluster-6] INFO  server.GrpcService (GrpcService.java:closeImpl(319)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-10-13 02:47:40,129 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s1@group-DEA4C3C5A74B-SegmentedRaftLogWorker close()
2022-10-13 02:47:40,129 [MiniRaftCluster-5] INFO  server.GrpcService (GrpcService.java:closeImpl(328)) - s1: shutdown server GrpcServerProtocolService successfully
2022-10-13 02:47:40,130 [MiniRaftCluster-5] INFO  server.GrpcService (GrpcService.java:closeImpl(319)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-10-13 02:47:40,130 [MiniRaftCluster-4] INFO  server.GrpcService (GrpcService.java:closeImpl(328)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-10-13 02:47:40,130 [MiniRaftCluster-4] INFO  server.GrpcService (GrpcService.java:closeImpl(319)) - s0: shutdown server GrpcServerProtocolService now
2022-10-13 02:47:40,130 [MiniRaftCluster-6] INFO  server.GrpcService (GrpcService.java:closeImpl(328)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-10-13 02:47:40,130 [MiniRaftCluster-6] INFO  server.GrpcService (GrpcService.java:closeImpl(319)) - s2: shutdown server GrpcServerProtocolService now
2022-10-13 02:47:40,132 [MiniRaftCluster-4] INFO  server.GrpcService (GrpcService.java:closeImpl(328)) - s0: shutdown server GrpcServerProtocolService successfully
2022-10-13 02:47:40,132 [MiniRaftCluster-4] INFO  server.GrpcService (GrpcService.java:closeImpl(319)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-10-13 02:47:40,133 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s2@group-DEA4C3C5A74B-SegmentedRaftLogWorker close()
2022-10-13 02:47:40,133 [MiniRaftCluster-6] INFO  server.GrpcService (GrpcService.java:closeImpl(328)) - s2: shutdown server GrpcServerProtocolService successfully
2022-10-13 02:47:40,133 [MiniRaftCluster-6] INFO  server.GrpcService (GrpcService.java:closeImpl(319)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-10-13 02:47:40,133 [MiniRaftCluster-4] INFO  server.GrpcService (GrpcService.java:closeImpl(328)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-10-13 02:47:40,134 [JvmPauseMonitor3] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2022-10-13 02:47:40,135 [MiniRaftCluster-5] INFO  server.GrpcService (GrpcService.java:closeImpl(328)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-10-13 02:47:40,135 [MiniRaftCluster-6] INFO  server.GrpcService (GrpcService.java:closeImpl(328)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-10-13 02:47:40,135 [JvmPauseMonitor4] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2022-10-13 02:47:40,135 [JvmPauseMonitor5] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s2: Stopped
2022-10-13 02:47:40,136 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2022-10-13 02:47:40,136 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-10-13 02:47:40,136 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-10-13 02:47:40,136 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to ALL
2022-10-13 02:47:40,141 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2022-10-13 02:47:40,142 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-3CBA76B9B8DD:[s0|rpc:localhost:35457|admin:localhost:41707|client:localhost:45071|dataStream:localhost:40717|priority:0|startupRole:FOLLOWER]
2022-10-13 02:47:40,142 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2022-10-13 02:47:40,142 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-10-13 02:47:40,142 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2022-10-13 02:47:40,142 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2022-10-13 02:47:40,142 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2022-10-13 02:47:40,142 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2022-10-13 02:47:40,142 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-3CBA76B9B8DD:[s0|rpc:localhost:35457|admin:localhost:41707|client:localhost:45071|dataStream:localhost:40717|priority:0|startupRole:FOLLOWER], format? true
2022-10-13 02:47:40,142 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/bc10d1de/MiniRaftClusterWithGrpcdf7c9546/s0
2022-10-13 02:47:40,142 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/bc10d1de/MiniRaftClusterWithGrpcdf7c9546/s0 does not exist.
2022-10-13 02:47:40,142 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/bc10d1de/MiniRaftClusterWithGrpcdf7c9546/s0
2022-10-13 02:47:40,143 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-10-13 02:47:40,143 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-10-13 02:47:40,143 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 41707 (custom)
2022-10-13 02:47:40,143 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-10-13 02:47:40,143 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 45071 (custom)
2022-10-13 02:47:40,143 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-10-13 02:47:40,143 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 35457 (custom)
2022-10-13 02:47:40,143 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:47:40,143 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-10-13 02:47:40,143 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:47:40,143 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-10-13 02:47:40,144 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-10-13 02:47:40,144 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-10-13 02:47:40,144 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-10-13 02:47:40,146 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-10-13 02:47:40,146 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-10-13 02:47:40,146 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-10-13 02:47:40,146 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-10-13 02:47:40,146 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-10-13 02:47:40,146 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcdf7c9546/s0] (custom)
2022-10-13 02:47:40,147 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-3CBA76B9B8DD:[s0|rpc:localhost:35457|admin:localhost:41707|client:localhost:45071|dataStream:localhost:40717|priority:0|startupRole:FOLLOWER] returns group-3CBA76B9B8DD:java.util.concurrent.CompletableFuture@692751a8[Not completed]
2022-10-13 02:47:40,147 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-10-13 02:47:40,147 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-10-13 02:47:40,147 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-10-13 02:47:40,147 [pool-9-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-3CBA76B9B8DD:[s0|rpc:localhost:35457|admin:localhost:41707|client:localhost:45071|dataStream:localhost:40717|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-10-13 02:47:40,147 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-10-13 02:47:40,148 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-10-13 02:47:40,148 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-10-13 02:47:40,148 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-10-13 02:47:40,148 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-10-13 02:47:40,148 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-10-13 02:47:40,148 [pool-9-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-3CBA76B9B8DD: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:35457|admin:localhost:41707|client:localhost:45071|dataStream:localhost:40717|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-10-13 02:47:40,148 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-10-13 02:47:40,148 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-10-13 02:47:40,149 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-10-13 02:47:40,149 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-10-13 02:47:40,149 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-10-13 02:47:40,151 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-10-13 02:47:40,151 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-10-13 02:47:40,151 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-10-13 02:47:40,151 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-10-13 02:47:40,151 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-10-13 02:47:40,151 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-10-13 02:47:40,151 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-10-13 02:47:40,151 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcdf7c9546/s0] (custom)
2022-10-13 02:47:40,151 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcdf7c9546/s0/7d96cab5-8ea7-4359-991b-3cba76b9b8dd does not exist. Creating ...
2022-10-13 02:47:40,153 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcdf7c9546/s0/7d96cab5-8ea7-4359-991b-3cba76b9b8dd
2022-10-13 02:47:40,154 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcdf7c9546/s0/7d96cab5-8ea7-4359-991b-3cba76b9b8dd/in_use.lock acquired by nodename 60246@fv-az318-428
2022-10-13 02:47:40,155 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcdf7c9546/s0/7d96cab5-8ea7-4359-991b-3cba76b9b8dd/current
2022-10-13 02:47:40,155 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcdf7c9546/s0/7d96cab5-8ea7-4359-991b-3cba76b9b8dd/sm
2022-10-13 02:47:40,157 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcdf7c9546/s0/7d96cab5-8ea7-4359-991b-3cba76b9b8dd has been successfully formatted.
2022-10-13 02:47:40,157 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-10-13 02:47:40,157 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-10-13 02:47:40,157 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-10-13 02:47:40,158 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-10-13 02:47:40,158 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-10-13 02:47:40,158 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-10-13 02:47:40,158 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-10-13 02:47:40,159 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-10-13 02:47:40,159 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-10-13 02:47:40,159 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-10-13 02:47:40,159 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s0@group-3CBA76B9B8DD-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcdf7c9546/s0/7d96cab5-8ea7-4359-991b-3cba76b9b8dd
2022-10-13 02:47:40,159 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-10-13 02:47:40,159 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-10-13 02:47:40,159 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-10-13 02:47:40,159 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-10-13 02:47:40,159 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-10-13 02:47:40,159 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-10-13 02:47:40,159 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-10-13 02:47:40,159 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-10-13 02:47:40,159 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-10-13 02:47:40,160 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-10-13 02:47:40,160 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-10-13 02:47:40,160 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-10-13 02:47:40,160 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-3CBA76B9B8DD-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-10-13 02:47:40,160 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-3CBA76B9B8DD-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-10-13 02:47:40,160 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-3CBA76B9B8DD: start as a follower, conf=-1: peers:[s0|rpc:localhost:35457|admin:localhost:41707|client:localhost:45071|dataStream:localhost:40717|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:40,160 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-3CBA76B9B8DD: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-10-13 02:47:40,160 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-3CBA76B9B8DD-FollowerState
2022-10-13 02:47:40,162 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-3CBA76B9B8DD,id=s0
2022-10-13 02:47:40,162 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-10-13 02:47:40,162 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-10-13 02:47:40,162 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-10-13 02:47:40,163 [s0@group-3CBA76B9B8DD-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-10-13 02:47:40,163 [s0@group-3CBA76B9B8DD-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-10-13 02:47:40,166 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2022-10-13 02:47:40,174 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(310)) - s0: GrpcService started, listening on 45071
2022-10-13 02:47:40,175 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(310)) - s0: GrpcService started, listening on 35457
2022-10-13 02:47:40,176 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(310)) - s0: GrpcService started, listening on 41707
2022-10-13 02:47:40,178 [JvmPauseMonitor6] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2022-10-13 02:47:40,179 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-10-13 02:47:40,179 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-3CBA76B9B8DD:t0, leader=null, voted=, raftlog=Memoized:s0@group-3CBA76B9B8DD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35457|admin:localhost:41707|client:localhost:45071|dataStream:localhost:40717|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-10-13 02:47:40,179 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-3CBA76B9B8DD:t0, leader=null, voted=, raftlog=Memoized:s0@group-3CBA76B9B8DD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35457|admin:localhost:41707|client:localhost:45071|dataStream:localhost:40717|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-3CBA76B9B8DD:t0, leader=null, voted=, raftlog=Memoized:s0@group-3CBA76B9B8DD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:35457|admin:localhost:41707|client:localhost:45071|dataStream:localhost:40717|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:151)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:147)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-10-13 02:47:40,369 [s0@group-3CBA76B9B8DD-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-3CBA76B9B8DD-FollowerState: change to CANDIDATE, lastRpcElapsedTime:208898704ns, electionTimeout:206ms
2022-10-13 02:47:40,369 [s0@group-3CBA76B9B8DD-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-3CBA76B9B8DD-FollowerState
2022-10-13 02:47:40,369 [s0@group-3CBA76B9B8DD-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-3CBA76B9B8DD: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-10-13 02:47:40,370 [s0@group-3CBA76B9B8DD-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-10-13 02:47:40,370 [s0@group-3CBA76B9B8DD-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-3CBA76B9B8DD-LeaderElection6
2022-10-13 02:47:40,374 [s0@group-3CBA76B9B8DD-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-3CBA76B9B8DD-LeaderElection6 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:35457|admin:localhost:41707|client:localhost:45071|dataStream:localhost:40717|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:40,374 [s0@group-3CBA76B9B8DD-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-3CBA76B9B8DD-LeaderElection6 PRE_VOTE round 0: result PASSED (term=0)
2022-10-13 02:47:40,376 [s0@group-3CBA76B9B8DD-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-3CBA76B9B8DD-LeaderElection6 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:35457|admin:localhost:41707|client:localhost:45071|dataStream:localhost:40717|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:40,376 [s0@group-3CBA76B9B8DD-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-3CBA76B9B8DD-LeaderElection6 ELECTION round 0: result PASSED (term=1)
2022-10-13 02:47:40,377 [s0@group-3CBA76B9B8DD-LeaderElection6] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-3CBA76B9B8DD-LeaderElection6
2022-10-13 02:47:40,377 [s0@group-3CBA76B9B8DD-LeaderElection6] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-3CBA76B9B8DD: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-10-13 02:47:40,377 [s0@group-3CBA76B9B8DD-LeaderElection6] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-3CBA76B9B8DD: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 228ms
2022-10-13 02:47:40,377 [s0@group-3CBA76B9B8DD-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-10-13 02:47:40,377 [s0@group-3CBA76B9B8DD-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-10-13 02:47:40,377 [s0@group-3CBA76B9B8DD-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-10-13 02:47:40,377 [s0@group-3CBA76B9B8DD-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-10-13 02:47:40,377 [s0@group-3CBA76B9B8DD-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-10-13 02:47:40,377 [s0@group-3CBA76B9B8DD-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-10-13 02:47:40,378 [s0@group-3CBA76B9B8DD-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-10-13 02:47:40,378 [s0@group-3CBA76B9B8DD-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-10-13 02:47:40,378 [s0@group-3CBA76B9B8DD-LeaderElection6] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-3CBA76B9B8DD-LeaderStateImpl
2022-10-13 02:47:40,378 [s0@group-3CBA76B9B8DD-LeaderElection6] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(427)) - s0@group-3CBA76B9B8DD-SegmentedRaftLogWorker: Starting segment from index:0
2022-10-13 02:47:40,382 [s0@group-3CBA76B9B8DD-LeaderElection6] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-3CBA76B9B8DD: set configuration 0: peers:[s0|rpc:localhost:35457|admin:localhost:41707|client:localhost:45071|dataStream:localhost:40717|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:40,394 [s0@group-3CBA76B9B8DD-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(631)) - s0@group-3CBA76B9B8DD-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcdf7c9546/s0/7d96cab5-8ea7-4359-991b-3cba76b9b8dd/current/log_inprogress_0
2022-10-13 02:47:40,630 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-3CBA76B9B8DD:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-3CBA76B9B8DD-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:35457|admin:localhost:41707|client:localhost:45071|dataStream:localhost:40717|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-10-13 02:47:40,630 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-10-13 02:47:40,631 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 41707 (custom)
2022-10-13 02:47:40,631 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-10-13 02:47:40,631 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 45071 (custom)
2022-10-13 02:47:40,631 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-10-13 02:47:40,631 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 35457 (custom)
2022-10-13 02:47:40,631 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:47:40,631 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-10-13 02:47:40,631 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:47:40,631 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-10-13 02:47:40,631 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-10-13 02:47:40,631 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-10-13 02:47:40,631 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-10-13 02:47:40,633 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'appendEntries'
2022-10-13 02:47:40,633 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "appendEntries" throws UnsupportedOperationException
java.lang.UnsupportedOperationException: Blocking appendEntries call is not supported
	at org.apache.ratis.grpc.server.GrpcService.appendEntries(GrpcService.java:363)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.lambda$runTestUnsupportedMethods$1(TestRaftServerWithGrpc.java:155)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:154)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:147)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-10-13 02:47:40,633 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'installSnapshot'
2022-10-13 02:47:40,634 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "installSnapshot" throws UnsupportedOperationException
java.lang.UnsupportedOperationException: Blocking installSnapshot call is not supported
	at org.apache.ratis.grpc.server.GrpcService.installSnapshot(GrpcService.java:369)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.lambda$runTestUnsupportedMethods$2(TestRaftServerWithGrpc.java:159)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:158)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:147)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-10-13 02:47:40,634 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-10-13 02:47:40,634 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-10-13 02:47:40,634 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2022-10-13 02:47:40,634 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-10-13 02:47:40,634 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-10-13 02:47:40,634 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-3CBA76B9B8DD:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-3CBA76B9B8DD-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:35457|admin:localhost:41707|client:localhost:45071|dataStream:localhost:40717|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-10-13 02:47:40,635 [MiniRaftCluster-7] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2022-10-13 02:47:40,635 [MiniRaftCluster-7] INFO  server.GrpcService (GrpcService.java:closeImpl(319)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-10-13 02:47:40,636 [MiniRaftCluster-7] INFO  server.GrpcService (GrpcService.java:closeImpl(328)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-10-13 02:47:40,636 [MiniRaftCluster-7] INFO  server.GrpcService (GrpcService.java:closeImpl(319)) - s0: shutdown server GrpcServerProtocolService now
2022-10-13 02:47:40,637 [MiniRaftCluster-7] INFO  server.GrpcService (GrpcService.java:closeImpl(328)) - s0: shutdown server GrpcServerProtocolService successfully
2022-10-13 02:47:40,637 [MiniRaftCluster-7] INFO  server.GrpcService (GrpcService.java:closeImpl(319)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-10-13 02:47:40,637 [MiniRaftCluster-7] INFO  server.GrpcService (GrpcService.java:closeImpl(328)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-10-13 02:47:40,638 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-3CBA76B9B8DD: shutdown
2022-10-13 02:47:40,638 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-3CBA76B9B8DD,id=s0
2022-10-13 02:47:40,638 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-3CBA76B9B8DD-LeaderStateImpl
2022-10-13 02:47:40,638 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-3CBA76B9B8DD-PendingRequests: sendNotLeaderResponses
2022-10-13 02:47:40,638 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-3CBA76B9B8DD-StateMachineUpdater: set stopIndex = 0
2022-10-13 02:47:40,639 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s0@group-3CBA76B9B8DD: applyIndex: 0
2022-10-13 02:47:40,639 [s0@group-3CBA76B9B8DD-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(329)) - s0@group-3CBA76B9B8DD-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-10-13 02:47:40,640 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s0@group-3CBA76B9B8DD-SegmentedRaftLogWorker close()
2022-10-13 02:47:40,640 [JvmPauseMonitor6] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2022-10-13 02:47:40,640 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2022-10-13 02:47:40,642 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-10-13 02:47:40,642 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-10-13 02:47:40,642 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to ALL
2022-10-13 02:47:40,643 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2022-10-13 02:47:40,643 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-6CC6C6AC2F7F:[s0|rpc:localhost:45353|admin:localhost:38839|client:localhost:37173|dataStream:localhost:42351|priority:0|startupRole:FOLLOWER]
2022-10-13 02:47:40,643 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2022-10-13 02:47:40,643 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-10-13 02:47:40,644 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2022-10-13 02:47:40,644 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2022-10-13 02:47:40,644 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2022-10-13 02:47:40,644 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2022-10-13 02:47:40,644 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-6CC6C6AC2F7F:[s0|rpc:localhost:45353|admin:localhost:38839|client:localhost:37173|dataStream:localhost:42351|priority:0|startupRole:FOLLOWER], format? true
2022-10-13 02:47:40,644 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/bc10d1de/MiniRaftClusterWithGrpc9c5fc20c/s0
2022-10-13 02:47:40,644 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/bc10d1de/MiniRaftClusterWithGrpc9c5fc20c/s0 does not exist.
2022-10-13 02:47:40,644 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/bc10d1de/MiniRaftClusterWithGrpc9c5fc20c/s0
2022-10-13 02:47:40,645 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-10-13 02:47:40,645 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-10-13 02:47:40,645 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 38839 (custom)
2022-10-13 02:47:40,645 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-10-13 02:47:40,645 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 37173 (custom)
2022-10-13 02:47:40,645 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-10-13 02:47:40,645 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 45353 (custom)
2022-10-13 02:47:40,645 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:47:40,645 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-10-13 02:47:40,645 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:47:40,646 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-10-13 02:47:40,646 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-10-13 02:47:40,646 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-10-13 02:47:40,646 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-10-13 02:47:40,647 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-10-13 02:47:40,647 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-10-13 02:47:40,647 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-10-13 02:47:40,647 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-10-13 02:47:40,647 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-10-13 02:47:40,648 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc9c5fc20c/s0] (custom)
2022-10-13 02:47:40,648 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-6CC6C6AC2F7F:[s0|rpc:localhost:45353|admin:localhost:38839|client:localhost:37173|dataStream:localhost:42351|priority:0|startupRole:FOLLOWER] returns group-6CC6C6AC2F7F:java.util.concurrent.CompletableFuture@2e091965[Not completed]
2022-10-13 02:47:40,648 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-10-13 02:47:40,649 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-10-13 02:47:40,649 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-10-13 02:47:40,649 [pool-10-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-6CC6C6AC2F7F:[s0|rpc:localhost:45353|admin:localhost:38839|client:localhost:37173|dataStream:localhost:42351|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-10-13 02:47:40,649 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-10-13 02:47:40,649 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-10-13 02:47:40,649 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-10-13 02:47:40,649 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-10-13 02:47:40,649 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-10-13 02:47:40,649 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-10-13 02:47:40,649 [pool-10-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-6CC6C6AC2F7F: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:45353|admin:localhost:38839|client:localhost:37173|dataStream:localhost:42351|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-10-13 02:47:40,649 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-10-13 02:47:40,649 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-10-13 02:47:40,649 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-10-13 02:47:40,649 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-10-13 02:47:40,649 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-10-13 02:47:40,651 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-10-13 02:47:40,651 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-10-13 02:47:40,651 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-10-13 02:47:40,651 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-10-13 02:47:40,651 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-10-13 02:47:40,652 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-10-13 02:47:40,652 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-10-13 02:47:40,652 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc9c5fc20c/s0] (custom)
2022-10-13 02:47:40,652 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc9c5fc20c/s0/4225068c-c8a0-4099-b456-6cc6c6ac2f7f does not exist. Creating ...
2022-10-13 02:47:40,652 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc9c5fc20c/s0/4225068c-c8a0-4099-b456-6cc6c6ac2f7f
2022-10-13 02:47:40,654 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc9c5fc20c/s0/4225068c-c8a0-4099-b456-6cc6c6ac2f7f/in_use.lock acquired by nodename 60246@fv-az318-428
2022-10-13 02:47:40,654 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc9c5fc20c/s0/4225068c-c8a0-4099-b456-6cc6c6ac2f7f/current
2022-10-13 02:47:40,654 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc9c5fc20c/s0/4225068c-c8a0-4099-b456-6cc6c6ac2f7f/sm
2022-10-13 02:47:40,656 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc9c5fc20c/s0/4225068c-c8a0-4099-b456-6cc6c6ac2f7f has been successfully formatted.
2022-10-13 02:47:40,657 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-10-13 02:47:40,658 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-10-13 02:47:40,658 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-10-13 02:47:40,658 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-10-13 02:47:40,658 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-10-13 02:47:40,658 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-10-13 02:47:40,658 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-10-13 02:47:40,659 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-10-13 02:47:40,659 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-10-13 02:47:40,659 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-10-13 02:47:40,659 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s0@group-6CC6C6AC2F7F-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc9c5fc20c/s0/4225068c-c8a0-4099-b456-6cc6c6ac2f7f
2022-10-13 02:47:40,659 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-10-13 02:47:40,659 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-10-13 02:47:40,659 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-10-13 02:47:40,659 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-10-13 02:47:40,660 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-10-13 02:47:40,660 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-10-13 02:47:40,660 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-10-13 02:47:40,660 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-10-13 02:47:40,660 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-10-13 02:47:40,660 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-10-13 02:47:40,660 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-10-13 02:47:40,660 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-10-13 02:47:40,660 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-6CC6C6AC2F7F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-10-13 02:47:40,660 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-6CC6C6AC2F7F-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-10-13 02:47:40,661 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-6CC6C6AC2F7F: start as a follower, conf=-1: peers:[s0|rpc:localhost:45353|admin:localhost:38839|client:localhost:37173|dataStream:localhost:42351|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:40,661 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-6CC6C6AC2F7F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-10-13 02:47:40,661 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-6CC6C6AC2F7F-FollowerState
2022-10-13 02:47:40,662 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-6CC6C6AC2F7F,id=s0
2022-10-13 02:47:40,662 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-10-13 02:47:40,662 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-10-13 02:47:40,662 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-10-13 02:47:40,663 [s0@group-6CC6C6AC2F7F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-10-13 02:47:40,663 [s0@group-6CC6C6AC2F7F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-10-13 02:47:40,666 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2022-10-13 02:47:40,667 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(310)) - s0: GrpcService started, listening on 37173
2022-10-13 02:47:40,668 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(310)) - s0: GrpcService started, listening on 45353
2022-10-13 02:47:40,669 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(310)) - s0: GrpcService started, listening on 38839
2022-10-13 02:47:40,670 [JvmPauseMonitor7] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2022-10-13 02:47:40,673 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-10-13 02:47:40,673 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-6CC6C6AC2F7F:t0, leader=null, voted=, raftlog=Memoized:s0@group-6CC6C6AC2F7F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45353|admin:localhost:38839|client:localhost:37173|dataStream:localhost:42351|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-10-13 02:47:40,674 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-6CC6C6AC2F7F:t0, leader=null, voted=, raftlog=Memoized:s0@group-6CC6C6AC2F7F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45353|admin:localhost:38839|client:localhost:37173|dataStream:localhost:42351|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-6CC6C6AC2F7F:t0, leader=null, voted=, raftlog=Memoized:s0@group-6CC6C6AC2F7F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45353|admin:localhost:38839|client:localhost:37173|dataStream:localhost:42351|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestServerRestartOnException(TestRaftServerWithGrpc.java:117)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testServerRestartOnException(TestRaftServerWithGrpc.java:100)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-10-13 02:47:40,882 [s0@group-6CC6C6AC2F7F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-6CC6C6AC2F7F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:221457499ns, electionTimeout:219ms
2022-10-13 02:47:40,882 [s0@group-6CC6C6AC2F7F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-6CC6C6AC2F7F-FollowerState
2022-10-13 02:47:40,882 [s0@group-6CC6C6AC2F7F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-6CC6C6AC2F7F: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-10-13 02:47:40,883 [s0@group-6CC6C6AC2F7F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-10-13 02:47:40,883 [s0@group-6CC6C6AC2F7F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-6CC6C6AC2F7F-LeaderElection7
2022-10-13 02:47:40,887 [s0@group-6CC6C6AC2F7F-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-6CC6C6AC2F7F-LeaderElection7 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:45353|admin:localhost:38839|client:localhost:37173|dataStream:localhost:42351|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:40,887 [s0@group-6CC6C6AC2F7F-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-6CC6C6AC2F7F-LeaderElection7 PRE_VOTE round 0: result PASSED (term=0)
2022-10-13 02:47:40,891 [s0@group-6CC6C6AC2F7F-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-6CC6C6AC2F7F-LeaderElection7 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:45353|admin:localhost:38839|client:localhost:37173|dataStream:localhost:42351|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:40,891 [s0@group-6CC6C6AC2F7F-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-6CC6C6AC2F7F-LeaderElection7 ELECTION round 0: result PASSED (term=1)
2022-10-13 02:47:40,891 [s0@group-6CC6C6AC2F7F-LeaderElection7] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-6CC6C6AC2F7F-LeaderElection7
2022-10-13 02:47:40,891 [s0@group-6CC6C6AC2F7F-LeaderElection7] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-6CC6C6AC2F7F: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-10-13 02:47:40,891 [s0@group-6CC6C6AC2F7F-LeaderElection7] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-6CC6C6AC2F7F: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 241ms
2022-10-13 02:47:40,891 [s0@group-6CC6C6AC2F7F-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-10-13 02:47:40,891 [s0@group-6CC6C6AC2F7F-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-10-13 02:47:40,891 [s0@group-6CC6C6AC2F7F-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-10-13 02:47:40,891 [s0@group-6CC6C6AC2F7F-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-10-13 02:47:40,892 [s0@group-6CC6C6AC2F7F-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-10-13 02:47:40,892 [s0@group-6CC6C6AC2F7F-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-10-13 02:47:40,892 [s0@group-6CC6C6AC2F7F-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-10-13 02:47:40,892 [s0@group-6CC6C6AC2F7F-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-10-13 02:47:40,892 [s0@group-6CC6C6AC2F7F-LeaderElection7] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-6CC6C6AC2F7F-LeaderStateImpl
2022-10-13 02:47:40,892 [s0@group-6CC6C6AC2F7F-LeaderElection7] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(427)) - s0@group-6CC6C6AC2F7F-SegmentedRaftLogWorker: Starting segment from index:0
2022-10-13 02:47:40,894 [s0@group-6CC6C6AC2F7F-LeaderElection7] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-6CC6C6AC2F7F: set configuration 0: peers:[s0|rpc:localhost:45353|admin:localhost:38839|client:localhost:37173|dataStream:localhost:42351|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:40,908 [s0@group-6CC6C6AC2F7F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(631)) - s0@group-6CC6C6AC2F7F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc9c5fc20c/s0/4225068c-c8a0-4099-b456-6cc6c6ac2f7f/current/log_inprogress_0
2022-10-13 02:47:41,124 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-6CC6C6AC2F7F:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-6CC6C6AC2F7F-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:45353|admin:localhost:38839|client:localhost:37173|dataStream:localhost:42351|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-10-13 02:47:41,128 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-10-13 02:47:41,129 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-10-13 02:47:41,129 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 38839 (custom)
2022-10-13 02:47:41,129 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-10-13 02:47:41,129 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 37173 (custom)
2022-10-13 02:47:41,129 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-10-13 02:47:41,129 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 45353 (custom)
2022-10-13 02:47:41,129 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:47:41,129 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-10-13 02:47:41,129 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:47:41,129 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-10-13 02:47:41,129 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-10-13 02:47:41,129 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-10-13 02:47:41,129 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-10-13 02:47:41,131 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-10-13 02:47:41,131 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-10-13 02:47:41,131 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-10-13 02:47:41,131 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-10-13 02:47:41,131 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-10-13 02:47:41,131 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc9c5fc20c/s0] (custom)
2022-10-13 02:47:41,132 [s0-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(254)) - s0: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc9c5fc20c/s0/4225068c-c8a0-4099-b456-6cc6c6ac2f7f
2022-10-13 02:47:41,133 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-6CC6C6AC2F7F:[s0|rpc:localhost:45353|admin:localhost:38839|client:localhost:37173|dataStream:localhost:42351|priority:0|startupRole:FOLLOWER] returns group-6CC6C6AC2F7F:java.util.concurrent.CompletableFuture@3386eb49[Not completed]
2022-10-13 02:47:41,133 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(319)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-10-13 02:47:41,133 [pool-11-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-6CC6C6AC2F7F:[s0|rpc:localhost:45353|admin:localhost:38839|client:localhost:37173|dataStream:localhost:42351|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:s0:group-6CC6C6AC2F7F
2022-10-13 02:47:41,133 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-10-13 02:47:41,134 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-10-13 02:47:41,134 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(328)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-10-13 02:47:41,134 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(319)) - s0: shutdown server GrpcServerProtocolService now
2022-10-13 02:47:41,134 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-10-13 02:47:41,134 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-10-13 02:47:41,134 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-10-13 02:47:41,134 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-10-13 02:47:41,134 [pool-11-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-6CC6C6AC2F7F: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:45353|admin:localhost:38839|client:localhost:37173|dataStream:localhost:42351|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-10-13 02:47:41,134 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-10-13 02:47:41,134 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-10-13 02:47:41,134 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-10-13 02:47:41,134 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-10-13 02:47:41,135 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-10-13 02:47:41,135 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-10-13 02:47:41,135 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-10-13 02:47:41,135 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-10-13 02:47:41,135 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-10-13 02:47:41,135 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-10-13 02:47:41,135 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(328)) - s0: shutdown server GrpcServerProtocolService successfully
2022-10-13 02:47:41,135 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(319)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-10-13 02:47:41,135 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(328)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-10-13 02:47:41,136 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'Starting a new server with the same address should fail'
2022-10-13 02:47:41,136 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-10-13 02:47:41,137 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-10-13 02:47:41,137 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 38839 (custom)
2022-10-13 02:47:41,137 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-10-13 02:47:41,137 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 37173 (custom)
2022-10-13 02:47:41,137 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-10-13 02:47:41,137 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 45353 (custom)
2022-10-13 02:47:41,137 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:47:41,137 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-10-13 02:47:41,137 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:47:41,137 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-10-13 02:47:41,137 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-10-13 02:47:41,137 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-10-13 02:47:41,137 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-10-13 02:47:41,138 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-10-13 02:47:41,139 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-10-13 02:47:41,139 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-10-13 02:47:41,139 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-10-13 02:47:41,139 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-10-13 02:47:41,139 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc9c5fc20c/s0] (custom)
2022-10-13 02:47:41,139 [s0-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(254)) - s0: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc9c5fc20c/s0/4225068c-c8a0-4099-b456-6cc6c6ac2f7f
2022-10-13 02:47:41,140 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-6CC6C6AC2F7F:[s0|rpc:localhost:45353|admin:localhost:38839|client:localhost:37173|dataStream:localhost:42351|priority:0|startupRole:FOLLOWER] returns group-6CC6C6AC2F7F:java.util.concurrent.CompletableFuture@204cee8d[Not completed]
2022-10-13 02:47:41,140 [pool-12-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-6CC6C6AC2F7F:[s0|rpc:localhost:45353|admin:localhost:38839|client:localhost:37173|dataStream:localhost:42351|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:s0:group-6CC6C6AC2F7F
2022-10-13 02:47:41,140 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-10-13 02:47:41,140 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-10-13 02:47:41,140 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-10-13 02:47:41,141 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-10-13 02:47:41,141 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-10-13 02:47:41,141 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-10-13 02:47:41,141 [pool-12-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-6CC6C6AC2F7F: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:45353|admin:localhost:38839|client:localhost:37173|dataStream:localhost:42351|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-10-13 02:47:41,141 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-10-13 02:47:41,141 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-10-13 02:47:41,141 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-10-13 02:47:41,141 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-10-13 02:47:41,141 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-10-13 02:47:41,141 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-10-13 02:47:41,141 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-10-13 02:47:41,141 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-10-13 02:47:41,141 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-10-13 02:47:41,141 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-10-13 02:47:41,142 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-10-13 02:47:41,142 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-10-13 02:47:41,142 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc9c5fc20c/s0] (custom)
2022-10-13 02:47:41,143 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc9c5fc20c/s0/4225068c-c8a0-4099-b456-6cc6c6ac2f7f
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-10-13 02:47:41,143 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc9c5fc20c/s0/4225068c-c8a0-4099-b456-6cc6c6ac2f7f/in_use.lock", attempt #1/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc9c5fc20c/s0/4225068c-c8a0-4099-b456-6cc6c6ac2f7f. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc9c5fc20c/s0/4225068c-c8a0-4099-b456-6cc6c6ac2f7f. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2022-10-13 02:47:42,144 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc9c5fc20c/s0/4225068c-c8a0-4099-b456-6cc6c6ac2f7f
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-10-13 02:47:42,144 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc9c5fc20c/s0/4225068c-c8a0-4099-b456-6cc6c6ac2f7f/in_use.lock", attempt #2/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc9c5fc20c/s0/4225068c-c8a0-4099-b456-6cc6c6ac2f7f. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc9c5fc20c/s0/4225068c-c8a0-4099-b456-6cc6c6ac2f7f. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2022-10-13 02:47:43,145 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc9c5fc20c/s0/4225068c-c8a0-4099-b456-6cc6c6ac2f7f
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-10-13 02:47:43,146 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc9c5fc20c/s0/4225068c-c8a0-4099-b456-6cc6c6ac2f7f/in_use.lock", attempt #3/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc9c5fc20c/s0/4225068c-c8a0-4099-b456-6cc6c6ac2f7f. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc9c5fc20c/s0/4225068c-c8a0-4099-b456-6cc6c6ac2f7f. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2022-10-13 02:47:44,146 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc9c5fc20c/s0/4225068c-c8a0-4099-b456-6cc6c6ac2f7f
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-10-13 02:47:44,147 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc9c5fc20c/s0/4225068c-c8a0-4099-b456-6cc6c6ac2f7f/in_use.lock", attempt #4/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc9c5fc20c/s0/4225068c-c8a0-4099-b456-6cc6c6ac2f7f. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc9c5fc20c/s0/4225068c-c8a0-4099-b456-6cc6c6ac2f7f. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2022-10-13 02:47:45,148 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc9c5fc20c/s0/4225068c-c8a0-4099-b456-6cc6c6ac2f7f
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-10-13 02:47:45,148 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "Starting a new server with the same address should fail" throws CompletionException
java.util.concurrent.CompletionException: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc9c5fc20c/s0/4225068c-c8a0-4099-b456-6cc6c6ac2f7f. The directory is already locked
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$BiRelay.tryFire(CompletableFuture.java:1423)
	at java.base/java.util.concurrent.CompletableFuture$CoCompletion.tryFire(CompletableFuture.java:1144)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:176)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc9c5fc20c/s0/4225068c-c8a0-4099-b456-6cc6c6ac2f7f. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	... 4 more
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2022-10-13 02:47:45,149 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-10-13 02:47:45,150 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 38839 (custom)
2022-10-13 02:47:45,150 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-10-13 02:47:45,150 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 37173 (custom)
2022-10-13 02:47:45,150 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-10-13 02:47:45,150 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 45353 (custom)
2022-10-13 02:47:45,150 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:47:45,150 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-10-13 02:47:45,150 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:47:45,150 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-10-13 02:47:45,150 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-10-13 02:47:45,150 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-10-13 02:47:45,150 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-10-13 02:47:45,151 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-10-13 02:47:45,152 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-10-13 02:47:45,152 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2022-10-13 02:47:45,152 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-10-13 02:47:45,152 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-10-13 02:47:45,152 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-6CC6C6AC2F7F:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-6CC6C6AC2F7F-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:45353|admin:localhost:38839|client:localhost:37173|dataStream:localhost:42351|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-10-13 02:47:45,152 [MiniRaftCluster-8] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2022-10-13 02:47:45,153 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-6CC6C6AC2F7F: shutdown
2022-10-13 02:47:45,154 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-6CC6C6AC2F7F,id=s0
2022-10-13 02:47:45,154 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-6CC6C6AC2F7F-LeaderStateImpl
2022-10-13 02:47:45,154 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-6CC6C6AC2F7F-PendingRequests: sendNotLeaderResponses
2022-10-13 02:47:45,154 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-6CC6C6AC2F7F-StateMachineUpdater: set stopIndex = 0
2022-10-13 02:47:45,154 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s0@group-6CC6C6AC2F7F: applyIndex: 0
2022-10-13 02:47:45,155 [s0@group-6CC6C6AC2F7F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(329)) - s0@group-6CC6C6AC2F7F-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-10-13 02:47:45,156 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s0@group-6CC6C6AC2F7F-SegmentedRaftLogWorker close()
2022-10-13 02:47:45,162 [JvmPauseMonitor7] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2022-10-13 02:47:45,163 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2022-10-13 02:47:45,164 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-10-13 02:47:45,164 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-10-13 02:47:45,164 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to ALL
2022-10-13 02:47:45,166 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2022-10-13 02:47:45,167 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-0A2A9591775A:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]
2022-10-13 02:47:45,167 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2022-10-13 02:47:45,167 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-10-13 02:47:45,167 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2022-10-13 02:47:45,167 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2022-10-13 02:47:45,167 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2022-10-13 02:47:45,167 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2022-10-13 02:47:45,167 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-0A2A9591775A:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER], format? true
2022-10-13 02:47:45,167 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/bc10d1de/MiniRaftClusterWithGrpcd255d2ef/s0
2022-10-13 02:47:45,167 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/bc10d1de/MiniRaftClusterWithGrpcd255d2ef/s0 does not exist.
2022-10-13 02:47:45,167 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/bc10d1de/MiniRaftClusterWithGrpcd255d2ef/s0
2022-10-13 02:47:45,168 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-10-13 02:47:45,168 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-10-13 02:47:45,168 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 43811 (custom)
2022-10-13 02:47:45,168 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-10-13 02:47:45,168 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 38113 (custom)
2022-10-13 02:47:45,168 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-10-13 02:47:45,168 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 34637 (custom)
2022-10-13 02:47:45,169 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:47:45,169 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-10-13 02:47:45,169 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:47:45,169 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-10-13 02:47:45,169 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-10-13 02:47:45,169 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-10-13 02:47:45,169 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-10-13 02:47:45,170 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-10-13 02:47:45,171 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-10-13 02:47:45,171 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-10-13 02:47:45,171 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-10-13 02:47:45,171 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-10-13 02:47:45,171 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd255d2ef/s0] (custom)
2022-10-13 02:47:45,172 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-0A2A9591775A:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER] returns group-0A2A9591775A:java.util.concurrent.CompletableFuture@45b4c49b[Not completed]
2022-10-13 02:47:45,172 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-0A2A9591775A:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER], format? true
2022-10-13 02:47:45,172 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/bc10d1de/MiniRaftClusterWithGrpcd255d2ef/s1
2022-10-13 02:47:45,172 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/bc10d1de/MiniRaftClusterWithGrpcd255d2ef/s1 does not exist.
2022-10-13 02:47:45,172 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/bc10d1de/MiniRaftClusterWithGrpcd255d2ef/s1
2022-10-13 02:47:45,172 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-10-13 02:47:45,172 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-10-13 02:47:45,173 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 38587 (custom)
2022-10-13 02:47:45,173 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-10-13 02:47:45,173 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 43501 (custom)
2022-10-13 02:47:45,173 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-10-13 02:47:45,173 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 40859 (custom)
2022-10-13 02:47:45,173 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:47:45,173 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-10-13 02:47:45,173 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:47:45,173 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-10-13 02:47:45,173 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-10-13 02:47:45,173 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-10-13 02:47:45,173 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-10-13 02:47:45,174 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-10-13 02:47:45,175 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-10-13 02:47:45,175 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-10-13 02:47:45,175 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-10-13 02:47:45,175 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-10-13 02:47:45,175 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd255d2ef/s1] (custom)
2022-10-13 02:47:45,175 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-10-13 02:47:45,176 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-10-13 02:47:45,176 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-10-13 02:47:45,176 [pool-13-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-0A2A9591775A:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-10-13 02:47:45,176 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-10-13 02:47:45,176 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-10-13 02:47:45,176 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-10-13 02:47:45,176 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-10-13 02:47:45,176 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-10-13 02:47:45,176 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-10-13 02:47:45,176 [pool-13-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-0A2A9591775A: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-10-13 02:47:45,176 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-10-13 02:47:45,176 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-10-13 02:47:45,177 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-10-13 02:47:45,177 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-10-13 02:47:45,177 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-10-13 02:47:45,178 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-10-13 02:47:45,178 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-10-13 02:47:45,178 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-10-13 02:47:45,178 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-10-13 02:47:45,179 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-10-13 02:47:45,183 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-0A2A9591775A:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER] returns group-0A2A9591775A:java.util.concurrent.CompletableFuture@46e8bf8e[Not completed]
2022-10-13 02:47:45,183 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-0A2A9591775A:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER], format? true
2022-10-13 02:47:45,183 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/bc10d1de/MiniRaftClusterWithGrpcd255d2ef/s2
2022-10-13 02:47:45,183 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/bc10d1de/MiniRaftClusterWithGrpcd255d2ef/s2 does not exist.
2022-10-13 02:47:45,183 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/bc10d1de/MiniRaftClusterWithGrpcd255d2ef/s2
2022-10-13 02:47:45,183 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-10-13 02:47:45,183 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-10-13 02:47:45,184 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 42025 (custom)
2022-10-13 02:47:45,184 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-10-13 02:47:45,184 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 46511 (custom)
2022-10-13 02:47:45,184 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-10-13 02:47:45,184 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 36741 (custom)
2022-10-13 02:47:45,184 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:47:45,184 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-10-13 02:47:45,184 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:47:45,184 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-10-13 02:47:45,184 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-10-13 02:47:45,184 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-10-13 02:47:45,184 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-10-13 02:47:45,185 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-10-13 02:47:45,186 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-10-13 02:47:45,186 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-10-13 02:47:45,186 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-10-13 02:47:45,186 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-10-13 02:47:45,186 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd255d2ef/s2] (custom)
2022-10-13 02:47:45,187 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-10-13 02:47:45,187 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-10-13 02:47:45,187 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-10-13 02:47:45,187 [pool-14-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-0A2A9591775A:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-10-13 02:47:45,187 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-10-13 02:47:45,187 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-10-13 02:47:45,187 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-10-13 02:47:45,187 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-10-13 02:47:45,187 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-10-13 02:47:45,187 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-10-13 02:47:45,187 [pool-14-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-0A2A9591775A: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-10-13 02:47:45,187 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-10-13 02:47:45,188 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-10-13 02:47:45,188 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-10-13 02:47:45,188 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-10-13 02:47:45,188 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-10-13 02:47:45,189 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-10-13 02:47:45,189 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-10-13 02:47:45,189 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-10-13 02:47:45,190 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-10-13 02:47:45,190 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-10-13 02:47:45,191 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-0A2A9591775A:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER] returns group-0A2A9591775A:java.util.concurrent.CompletableFuture@5efbe79a[Not completed]
2022-10-13 02:47:45,191 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-10-13 02:47:45,191 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-10-13 02:47:45,191 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd255d2ef/s0] (custom)
2022-10-13 02:47:45,191 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd255d2ef/s0/9d889276-b2be-451d-8697-0a2a9591775a does not exist. Creating ...
2022-10-13 02:47:45,192 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-10-13 02:47:45,192 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-10-13 02:47:45,192 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-10-13 02:47:45,192 [pool-15-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-0A2A9591775A:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-10-13 02:47:45,193 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd255d2ef/s0/9d889276-b2be-451d-8697-0a2a9591775a
2022-10-13 02:47:45,193 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-10-13 02:47:45,194 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-10-13 02:47:45,194 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-10-13 02:47:45,194 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-10-13 02:47:45,194 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-10-13 02:47:45,194 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-10-13 02:47:45,194 [pool-15-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-0A2A9591775A: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-10-13 02:47:45,194 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-10-13 02:47:45,194 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-10-13 02:47:45,194 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-10-13 02:47:45,194 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-10-13 02:47:45,194 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-10-13 02:47:45,196 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd255d2ef/s0/9d889276-b2be-451d-8697-0a2a9591775a/in_use.lock acquired by nodename 60246@fv-az318-428
2022-10-13 02:47:45,196 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd255d2ef/s0/9d889276-b2be-451d-8697-0a2a9591775a/current
2022-10-13 02:47:45,196 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd255d2ef/s0/9d889276-b2be-451d-8697-0a2a9591775a/sm
2022-10-13 02:47:45,197 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-10-13 02:47:45,197 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-10-13 02:47:45,197 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-10-13 02:47:45,197 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-10-13 02:47:45,197 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-10-13 02:47:45,200 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd255d2ef/s0/9d889276-b2be-451d-8697-0a2a9591775a has been successfully formatted.
2022-10-13 02:47:45,200 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-10-13 02:47:45,201 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-10-13 02:47:45,201 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-10-13 02:47:45,201 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-10-13 02:47:45,201 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-10-13 02:47:45,201 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-10-13 02:47:45,201 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-10-13 02:47:45,202 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-10-13 02:47:45,202 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-10-13 02:47:45,202 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-10-13 02:47:45,202 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s0@group-0A2A9591775A-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd255d2ef/s0/9d889276-b2be-451d-8697-0a2a9591775a
2022-10-13 02:47:45,202 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-10-13 02:47:45,202 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-10-13 02:47:45,202 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-10-13 02:47:45,202 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-10-13 02:47:45,202 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-10-13 02:47:45,202 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-10-13 02:47:45,203 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-10-13 02:47:45,203 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-10-13 02:47:45,203 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-10-13 02:47:45,203 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-10-13 02:47:45,203 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-10-13 02:47:45,203 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-10-13 02:47:45,203 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-0A2A9591775A-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-10-13 02:47:45,203 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-0A2A9591775A-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-10-13 02:47:45,204 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-0A2A9591775A: start as a follower, conf=-1: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:45,204 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-0A2A9591775A: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-10-13 02:47:45,204 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-0A2A9591775A-FollowerState
2022-10-13 02:47:45,204 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-0A2A9591775A,id=s0
2022-10-13 02:47:45,204 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-10-13 02:47:45,204 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-10-13 02:47:45,204 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-10-13 02:47:45,205 [s0@group-0A2A9591775A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-10-13 02:47:45,205 [s0@group-0A2A9591775A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-10-13 02:47:45,205 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2022-10-13 02:47:45,206 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(310)) - s0: GrpcService started, listening on 38113
2022-10-13 02:47:45,207 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(310)) - s0: GrpcService started, listening on 34637
2022-10-13 02:47:45,207 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(310)) - s0: GrpcService started, listening on 43811
2022-10-13 02:47:45,207 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-10-13 02:47:45,207 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-10-13 02:47:45,208 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd255d2ef/s1] (custom)
2022-10-13 02:47:45,208 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd255d2ef/s1/9d889276-b2be-451d-8697-0a2a9591775a does not exist. Creating ...
2022-10-13 02:47:45,208 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd255d2ef/s1/9d889276-b2be-451d-8697-0a2a9591775a
2022-10-13 02:47:45,209 [JvmPauseMonitor8] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2022-10-13 02:47:45,210 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd255d2ef/s1/9d889276-b2be-451d-8697-0a2a9591775a/in_use.lock acquired by nodename 60246@fv-az318-428
2022-10-13 02:47:45,210 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd255d2ef/s1/9d889276-b2be-451d-8697-0a2a9591775a/current
2022-10-13 02:47:45,210 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd255d2ef/s1/9d889276-b2be-451d-8697-0a2a9591775a/sm
2022-10-13 02:47:45,212 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd255d2ef/s1/9d889276-b2be-451d-8697-0a2a9591775a has been successfully formatted.
2022-10-13 02:47:45,212 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-10-13 02:47:45,212 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-10-13 02:47:45,212 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-10-13 02:47:45,212 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-10-13 02:47:45,212 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-10-13 02:47:45,213 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-10-13 02:47:45,213 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-10-13 02:47:45,213 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-10-13 02:47:45,213 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-10-13 02:47:45,214 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-10-13 02:47:45,214 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s1@group-0A2A9591775A-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd255d2ef/s1/9d889276-b2be-451d-8697-0a2a9591775a
2022-10-13 02:47:45,214 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-10-13 02:47:45,214 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-10-13 02:47:45,214 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-10-13 02:47:45,214 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-10-13 02:47:45,214 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-10-13 02:47:45,214 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-10-13 02:47:45,214 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-10-13 02:47:45,214 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-10-13 02:47:45,214 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-10-13 02:47:45,214 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-10-13 02:47:45,214 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-10-13 02:47:45,214 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-10-13 02:47:45,214 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-0A2A9591775A-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-10-13 02:47:45,215 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-0A2A9591775A-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-10-13 02:47:45,215 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s1@group-0A2A9591775A: start as a follower, conf=-1: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:45,215 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-0A2A9591775A: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-10-13 02:47:45,215 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-0A2A9591775A-FollowerState
2022-10-13 02:47:45,218 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-0A2A9591775A,id=s1
2022-10-13 02:47:45,218 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-10-13 02:47:45,218 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-10-13 02:47:45,218 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-10-13 02:47:45,219 [s1@group-0A2A9591775A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-10-13 02:47:45,219 [s1@group-0A2A9591775A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-10-13 02:47:45,219 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s1: start RPC server
2022-10-13 02:47:45,220 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(310)) - s1: GrpcService started, listening on 43501
2022-10-13 02:47:45,221 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(310)) - s1: GrpcService started, listening on 40859
2022-10-13 02:47:45,222 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(310)) - s1: GrpcService started, listening on 38587
2022-10-13 02:47:45,226 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-10-13 02:47:45,226 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-10-13 02:47:45,226 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd255d2ef/s2] (custom)
2022-10-13 02:47:45,227 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd255d2ef/s2/9d889276-b2be-451d-8697-0a2a9591775a does not exist. Creating ...
2022-10-13 02:47:45,227 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd255d2ef/s2/9d889276-b2be-451d-8697-0a2a9591775a
2022-10-13 02:47:45,228 [JvmPauseMonitor9] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2022-10-13 02:47:45,229 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd255d2ef/s2/9d889276-b2be-451d-8697-0a2a9591775a/in_use.lock acquired by nodename 60246@fv-az318-428
2022-10-13 02:47:45,230 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd255d2ef/s2/9d889276-b2be-451d-8697-0a2a9591775a/current
2022-10-13 02:47:45,230 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd255d2ef/s2/9d889276-b2be-451d-8697-0a2a9591775a/sm
2022-10-13 02:47:45,231 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd255d2ef/s2/9d889276-b2be-451d-8697-0a2a9591775a has been successfully formatted.
2022-10-13 02:47:45,231 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-10-13 02:47:45,232 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-10-13 02:47:45,232 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-10-13 02:47:45,232 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-10-13 02:47:45,232 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-10-13 02:47:45,232 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-10-13 02:47:45,232 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-10-13 02:47:45,233 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-10-13 02:47:45,233 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-10-13 02:47:45,233 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-10-13 02:47:45,233 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s2@group-0A2A9591775A-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd255d2ef/s2/9d889276-b2be-451d-8697-0a2a9591775a
2022-10-13 02:47:45,233 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-10-13 02:47:45,233 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-10-13 02:47:45,233 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-10-13 02:47:45,233 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-10-13 02:47:45,233 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-10-13 02:47:45,233 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-10-13 02:47:45,233 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-10-13 02:47:45,233 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-10-13 02:47:45,234 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-10-13 02:47:45,234 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-10-13 02:47:45,234 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-10-13 02:47:45,234 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-10-13 02:47:45,234 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-0A2A9591775A-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-10-13 02:47:45,235 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-0A2A9591775A-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-10-13 02:47:45,235 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s2@group-0A2A9591775A: start as a follower, conf=-1: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:45,235 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-0A2A9591775A: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-10-13 02:47:45,235 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-0A2A9591775A-FollowerState
2022-10-13 02:47:45,235 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-0A2A9591775A,id=s2
2022-10-13 02:47:45,235 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-10-13 02:47:45,235 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-10-13 02:47:45,236 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-10-13 02:47:45,239 [s2@group-0A2A9591775A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-10-13 02:47:45,239 [s2@group-0A2A9591775A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-10-13 02:47:45,239 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s2: start RPC server
2022-10-13 02:47:45,243 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(310)) - s2: GrpcService started, listening on 46511
2022-10-13 02:47:45,244 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(310)) - s2: GrpcService started, listening on 36741
2022-10-13 02:47:45,245 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(310)) - s2: GrpcService started, listening on 42025
2022-10-13 02:47:45,246 [JvmPauseMonitor10] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2022-10-13 02:47:45,246 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-10-13 02:47:45,246 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-0A2A9591775A:t0, leader=null, voted=, raftlog=Memoized:s0@group-0A2A9591775A-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0A2A9591775A:t0, leader=null, voted=, raftlog=Memoized:s1@group-0A2A9591775A-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0A2A9591775A:t0, leader=null, voted=, raftlog=Memoized:s2@group-0A2A9591775A-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-10-13 02:47:45,247 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-0A2A9591775A:t0, leader=null, voted=, raftlog=Memoized:s0@group-0A2A9591775A-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0A2A9591775A:t0, leader=null, voted=, raftlog=Memoized:s1@group-0A2A9591775A-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0A2A9591775A:t0, leader=null, voted=, raftlog=Memoized:s2@group-0A2A9591775A-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-0A2A9591775A:t0, leader=null, voted=, raftlog=Memoized:s0@group-0A2A9591775A-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0A2A9591775A:t0, leader=null, voted=, raftlog=Memoized:s1@group-0A2A9591775A-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0A2A9591775A:t0, leader=null, voted=, raftlog=Memoized:s2@group-0A2A9591775A-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:169)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:165)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-10-13 02:47:45,399 [s2@group-0A2A9591775A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-0A2A9591775A-FollowerState: change to CANDIDATE, lastRpcElapsedTime:164427117ns, electionTimeout:160ms
2022-10-13 02:47:45,400 [s2@group-0A2A9591775A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-0A2A9591775A-FollowerState
2022-10-13 02:47:45,400 [s2@group-0A2A9591775A-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-0A2A9591775A: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-10-13 02:47:45,400 [s2@group-0A2A9591775A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-10-13 02:47:45,400 [s2@group-0A2A9591775A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-0A2A9591775A-LeaderElection8
2022-10-13 02:47:45,403 [s2@group-0A2A9591775A-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-0A2A9591775A-LeaderElection8 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:45,403 [s2@group-0A2A9591775A-LeaderElection8-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2022-10-13 02:47:45,404 [s2@group-0A2A9591775A-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-10-13 02:47:45,404 [s2@group-0A2A9591775A-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-10-13 02:47:45,404 [s2@group-0A2A9591775A-LeaderElection8-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2022-10-13 02:47:45,417 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s1@group-0A2A9591775A: receive requestVote(PRE_VOTE, s2, group-0A2A9591775A, 0, (t:0, i:0))
2022-10-13 02:47:45,418 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-0A2A9591775A-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-10-13 02:47:45,418 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1324)) - s1@group-0A2A9591775A replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-0A2A9591775A:t0, leader=null, voted=, raftlog=Memoized:s1@group-0A2A9591775A-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:45,421 [s2@group-0A2A9591775A-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-0A2A9591775A-LeaderElection8: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-10-13 02:47:45,421 [s2@group-0A2A9591775A-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s1#0:OK-t0
2022-10-13 02:47:45,421 [s2@group-0A2A9591775A-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-0A2A9591775A-LeaderElection8 PRE_VOTE round 0: result PASSED
2022-10-13 02:47:45,423 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s0@group-0A2A9591775A: receive requestVote(PRE_VOTE, s2, group-0A2A9591775A, 0, (t:0, i:0))
2022-10-13 02:47:45,423 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-0A2A9591775A-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2022-10-13 02:47:45,423 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1324)) - s0@group-0A2A9591775A replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-0A2A9591775A:t0, leader=null, voted=, raftlog=Memoized:s0@group-0A2A9591775A-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:45,424 [s2@group-0A2A9591775A-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-0A2A9591775A-LeaderElection8 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:45,428 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s0@group-0A2A9591775A: receive requestVote(ELECTION, s2, group-0A2A9591775A, 1, (t:0, i:0))
2022-10-13 02:47:45,433 [s2@group-0A2A9591775A-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-10-13 02:47:45,433 [s2@group-0A2A9591775A-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-10-13 02:47:45,433 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-0A2A9591775A-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-10-13 02:47:45,434 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-0A2A9591775A: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2022-10-13 02:47:45,434 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-0A2A9591775A-FollowerState
2022-10-13 02:47:45,434 [s0@group-0A2A9591775A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-0A2A9591775A-FollowerState was interrupted
2022-10-13 02:47:45,434 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-0A2A9591775A-FollowerState
2022-10-13 02:47:45,435 [s0@group-0A2A9591775A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-10-13 02:47:45,435 [s0@group-0A2A9591775A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-10-13 02:47:45,437 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1324)) - s0@group-0A2A9591775A replies to ELECTION vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-0A2A9591775A:t1, leader=null, voted=s2, raftlog=Memoized:s0@group-0A2A9591775A-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:45,437 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s1@group-0A2A9591775A: receive requestVote(ELECTION, s2, group-0A2A9591775A, 1, (t:0, i:0))
2022-10-13 02:47:45,439 [s2@group-0A2A9591775A-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-0A2A9591775A-LeaderElection8: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-10-13 02:47:45,439 [s2@group-0A2A9591775A-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t1
2022-10-13 02:47:45,442 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-0A2A9591775A-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2022-10-13 02:47:45,442 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-0A2A9591775A: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2022-10-13 02:47:45,442 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-0A2A9591775A-FollowerState
2022-10-13 02:47:45,442 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-0A2A9591775A-FollowerState
2022-10-13 02:47:45,443 [s2@group-0A2A9591775A-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-0A2A9591775A-LeaderElection8 ELECTION round 0: result PASSED
2022-10-13 02:47:45,443 [s1@group-0A2A9591775A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-0A2A9591775A-FollowerState was interrupted
2022-10-13 02:47:45,443 [s2@group-0A2A9591775A-LeaderElection8] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-0A2A9591775A-LeaderElection8
2022-10-13 02:47:45,443 [s2@group-0A2A9591775A-LeaderElection8] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-0A2A9591775A: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-10-13 02:47:45,443 [s2@group-0A2A9591775A-LeaderElection8] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-0A2A9591775A: change Leader from null to s2 at term 1 for becomeLeader, leader elected after 249ms
2022-10-13 02:47:45,447 [s2@group-0A2A9591775A-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-10-13 02:47:45,447 [s2@group-0A2A9591775A-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-10-13 02:47:45,447 [s2@group-0A2A9591775A-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-10-13 02:47:45,447 [s2@group-0A2A9591775A-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-10-13 02:47:45,447 [s2@group-0A2A9591775A-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-10-13 02:47:45,447 [s2@group-0A2A9591775A-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-10-13 02:47:45,448 [s2@group-0A2A9591775A-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-10-13 02:47:45,448 [s2@group-0A2A9591775A-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-10-13 02:47:45,448 [s2@group-0A2A9591775A-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-10-13 02:47:45,448 [s2@group-0A2A9591775A-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-10-13 02:47:45,448 [s2@group-0A2A9591775A-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-10-13 02:47:45,448 [s2@group-0A2A9591775A-LeaderElection8] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-10-13 02:47:45,448 [s2@group-0A2A9591775A-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-10-13 02:47:45,448 [s2@group-0A2A9591775A-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-10-13 02:47:45,448 [s2@group-0A2A9591775A-LeaderElection8] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-10-13 02:47:45,448 [s2@group-0A2A9591775A-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2022-10-13 02:47:45,449 [s2@group-0A2A9591775A-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-10-13 02:47:45,449 [s2@group-0A2A9591775A-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-10-13 02:47:45,449 [s2@group-0A2A9591775A-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-10-13 02:47:45,449 [s2@group-0A2A9591775A-LeaderElection8] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-10-13 02:47:45,449 [s2@group-0A2A9591775A-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-10-13 02:47:45,449 [s2@group-0A2A9591775A-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-10-13 02:47:45,449 [s2@group-0A2A9591775A-LeaderElection8] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-10-13 02:47:45,449 [s2@group-0A2A9591775A-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2022-10-13 02:47:45,449 [s2@group-0A2A9591775A-LeaderElection8] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-0A2A9591775A-LeaderStateImpl
2022-10-13 02:47:45,450 [s2@group-0A2A9591775A-LeaderElection8] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(427)) - s2@group-0A2A9591775A-SegmentedRaftLogWorker: Starting segment from index:0
2022-10-13 02:47:45,458 [s2@group-0A2A9591775A-LeaderElection8] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-0A2A9591775A: set configuration 0: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:45,459 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1324)) - s1@group-0A2A9591775A replies to ELECTION vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-0A2A9591775A:t1, leader=null, voted=s2, raftlog=Memoized:s1@group-0A2A9591775A-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:45,459 [s1@group-0A2A9591775A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-10-13 02:47:45,459 [s1@group-0A2A9591775A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-10-13 02:47:45,463 [s2@group-0A2A9591775A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(631)) - s2@group-0A2A9591775A-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd255d2ef/s2/9d889276-b2be-451d-8697-0a2a9591775a/current/log_inprogress_0
2022-10-13 02:47:45,469 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-0A2A9591775A: change Leader from null to s2 at term 1 for appendEntries, leader elected after 281ms
2022-10-13 02:47:45,469 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-0A2A9591775A: change Leader from null to s2 at term 1 for appendEntries, leader elected after 292ms
2022-10-13 02:47:45,470 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-0A2A9591775A: set configuration 0: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:45,470 [s0-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(427)) - s0@group-0A2A9591775A-SegmentedRaftLogWorker: Starting segment from index:0
2022-10-13 02:47:45,476 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-0A2A9591775A: set configuration 0: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:45,476 [s1-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(427)) - s1@group-0A2A9591775A-SegmentedRaftLogWorker: Starting segment from index:0
2022-10-13 02:47:45,489 [s0@group-0A2A9591775A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(631)) - s0@group-0A2A9591775A-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd255d2ef/s0/9d889276-b2be-451d-8697-0a2a9591775a/current/log_inprogress_0
2022-10-13 02:47:45,491 [s1@group-0A2A9591775A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(631)) - s1@group-0A2A9591775A-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd255d2ef/s1/9d889276-b2be-451d-8697-0a2a9591775a/current/log_inprogress_0
2022-10-13 02:47:45,697 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-0A2A9591775A:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-0A2A9591775A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0A2A9591775A:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-0A2A9591775A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-0A2A9591775A:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-0A2A9591775A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-10-13 02:47:45,698 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:47:45,698 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:47:45,712 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-EE3C5E95AA62->s0: receive RaftClientReply:client-EE3C5E95AA62->s0@group-0A2A9591775A, cid=28, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-0A2A9591775A is not the leader s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s0:c0, s1:c0, s2:c0]
2022-10-13 02:47:45,716 [timer3] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:47:45,717 [timer3] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:47:45,726 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-EE3C5E95AA62->s2: receive RaftClientReply:client-EE3C5E95AA62->s2@group-0A2A9591775A, cid=28, SUCCESS, logIndex=0, commits[s2:c0, s0:c0, s1:c0]
2022-10-13 02:47:45,734 [s2@group-0A2A9591775A-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 29@client-EE3C5E95AA62
2022-10-13 02:47:45,736 [s0@group-0A2A9591775A-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 29@client-EE3C5E95AA62
2022-10-13 02:47:45,736 [s1@group-0A2A9591775A-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 29@client-EE3C5E95AA62
2022-10-13 02:47:45,739 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-EE3C5E95AA62->s2: receive RaftClientReply:client-EE3C5E95AA62->s2@group-0A2A9591775A, cid=29, SUCCESS, logIndex=1, commits[s2:c1, s0:c0, s1:c0]
2022-10-13 02:47:45,742 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:47:45,742 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:47:45,756 [s2@group-0A2A9591775A-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-0C2D1AC79BDF
2022-10-13 02:47:45,759 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-0C2D1AC79BDF->s2: receive RaftClientReply:client-0C2D1AC79BDF->s2@group-0A2A9591775A, cid=1, SUCCESS, logIndex=3, commits[s2:c3, s0:c2, s1:c1]
2022-10-13 02:47:45,759 [Time-limited test] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:block(134)) - block START_TRANSACTION
2022-10-13 02:47:45,761 [s1@group-0A2A9591775A-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-0C2D1AC79BDF
2022-10-13 02:47:45,762 [s0@group-0A2A9591775A-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-0C2D1AC79BDF
2022-10-13 02:47:45,763 [Time-limited test] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:blockRequestor(49)) - Block requestor s2
2022-10-13 02:47:45,764 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-10-13 02:47:45,764 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-0A2A9591775A:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-0A2A9591775A-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0A2A9591775A:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-0A2A9591775A-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-0A2A9591775A:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-0A2A9591775A-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-10-13 02:47:45,764 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-0A2A9591775A:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-0A2A9591775A-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0A2A9591775A:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-0A2A9591775A-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-0A2A9591775A:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-0A2A9591775A-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-10-13 02:47:45,771 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "changeLeader-changeLeader", attempt #1/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:195)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:165)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-10-13 02:47:45,838 [s1-server-thread1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s1: Block request from s2
2022-10-13 02:47:45,839 [s0-server-thread1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s2
2022-10-13 02:47:45,871 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-10-13 02:47:45,872 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-0A2A9591775A:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-0A2A9591775A-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0A2A9591775A:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-0A2A9591775A-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-0A2A9591775A:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-0A2A9591775A-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-10-13 02:47:45,872 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-0A2A9591775A:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-0A2A9591775A-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0A2A9591775A:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-0A2A9591775A-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-0A2A9591775A:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-0A2A9591775A-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-10-13 02:47:45,872 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "changeLeader-changeLeader", attempt #2/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:195)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:165)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-10-13 02:47:45,973 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-10-13 02:47:45,973 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-0A2A9591775A:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-0A2A9591775A-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0A2A9591775A:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-0A2A9591775A-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-0A2A9591775A:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-0A2A9591775A-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-10-13 02:47:45,973 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-0A2A9591775A:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-0A2A9591775A-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0A2A9591775A:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-0A2A9591775A-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-0A2A9591775A:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-0A2A9591775A-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-10-13 02:47:45,973 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "changeLeader-changeLeader", attempt #3/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:195)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:165)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-10-13 02:47:46,074 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-10-13 02:47:46,074 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-0A2A9591775A:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-0A2A9591775A-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0A2A9591775A:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-0A2A9591775A-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-0A2A9591775A:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-0A2A9591775A-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-10-13 02:47:46,074 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-0A2A9591775A:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-0A2A9591775A-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0A2A9591775A:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-0A2A9591775A-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-0A2A9591775A:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-0A2A9591775A-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-10-13 02:47:46,075 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "changeLeader-changeLeader", attempt #4/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s2, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s2
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:195)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:165)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-10-13 02:47:46,130 [s0@group-0A2A9591775A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-0A2A9591775A-FollowerState: change to CANDIDATE, lastRpcElapsedTime:368363040ns, electionTimeout:242ms
2022-10-13 02:47:46,130 [s0@group-0A2A9591775A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-0A2A9591775A-FollowerState
2022-10-13 02:47:46,130 [s0@group-0A2A9591775A-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-0A2A9591775A: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-10-13 02:47:46,130 [s0@group-0A2A9591775A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-10-13 02:47:46,130 [s0@group-0A2A9591775A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-0A2A9591775A-LeaderElection9
2022-10-13 02:47:46,131 [s0@group-0A2A9591775A-LeaderElection9] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-0A2A9591775A: change Leader from s2 to null at term 1 for PRE_VOTE
2022-10-13 02:47:46,131 [s0@group-0A2A9591775A-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-0A2A9591775A-LeaderElection9 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:46,132 [s0@group-0A2A9591775A-LeaderElection9-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2022-10-13 02:47:46,132 [s0@group-0A2A9591775A-LeaderElection9-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2022-10-13 02:47:46,143 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s2@group-0A2A9591775A: receive requestVote(PRE_VOTE, s0, group-0A2A9591775A, 1, (t:1, i:4))
2022-10-13 02:47:46,143 [grpc-default-executor-0] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1063)) - s2@group-0A2A9591775A-LeaderStateImpl: Lost leadership on term: 1. Election timeout: 300ms. In charge for: 699ms. Conf: 0: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:46,145 [grpc-default-executor-0] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1067)) - Follower s2@group-0A2A9591775A->s0(c3,m4,n5, attendVote=true, lastRpcSendTime=2, lastRpcResponseTime=382)
2022-10-13 02:47:46,145 [grpc-default-executor-0] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1067)) - Follower s2@group-0A2A9591775A->s1(c3,m4,n5, attendVote=true, lastRpcSendTime=3, lastRpcResponseTime=383)
2022-10-13 02:47:46,145 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-0A2A9591775A: changes role from    LEADER to FOLLOWER at term 1 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2022-10-13 02:47:46,146 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-0A2A9591775A-LeaderStateImpl
2022-10-13 02:47:46,146 [s2@group-0A2A9591775A->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s2@group-0A2A9591775A->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-10-13 02:47:46,146 [s2@group-0A2A9591775A->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s2@group-0A2A9591775A->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-10-13 02:47:46,146 [grpc-default-executor-0] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s2@group-0A2A9591775A-PendingRequests: sendNotLeaderResponses
2022-10-13 02:47:46,151 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-0A2A9591775A-FollowerState
2022-10-13 02:47:46,154 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-0A2A9591775A-FOLLOWER: reject PRE_VOTE from s0: this server is a follower and still has a valid leader s2
2022-10-13 02:47:46,154 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1324)) - s2@group-0A2A9591775A replies to PRE_VOTE vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-0A2A9591775A:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-0A2A9591775A-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:46,159 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s1@group-0A2A9591775A: receive requestVote(PRE_VOTE, s0, group-0A2A9591775A, 1, (t:1, i:4))
2022-10-13 02:47:46,159 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-0A2A9591775A-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-10-13 02:47:46,160 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1324)) - s1@group-0A2A9591775A replies to PRE_VOTE vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-0A2A9591775A:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-0A2A9591775A-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:46,161 [s0@group-0A2A9591775A-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-0A2A9591775A-LeaderElection9: PRE_VOTE PASSED received 2 response(s) and 0 exception(s):
2022-10-13 02:47:46,161 [s0@group-0A2A9591775A-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t1
2022-10-13 02:47:46,161 [s0@group-0A2A9591775A-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2022-10-13 02:47:46,161 [s0@group-0A2A9591775A-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-0A2A9591775A-LeaderElection9 PRE_VOTE round 0: result PASSED
2022-10-13 02:47:46,163 [s0@group-0A2A9591775A-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-0A2A9591775A-LeaderElection9 ELECTION round 0: submit vote requests at term 2 for 0: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:46,165 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s1@group-0A2A9591775A: receive requestVote(ELECTION, s0, group-0A2A9591775A, 2, (t:1, i:4))
2022-10-13 02:47:46,165 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-0A2A9591775A-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-10-13 02:47:46,165 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-0A2A9591775A: change Leader from s2 to null at term 2 for updateCurrentTerm
2022-10-13 02:47:46,165 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-0A2A9591775A: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s0
2022-10-13 02:47:46,165 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-0A2A9591775A-FollowerState
2022-10-13 02:47:46,165 [s1@group-0A2A9591775A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-0A2A9591775A-FollowerState was interrupted
2022-10-13 02:47:46,170 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-0A2A9591775A-FollowerState
2022-10-13 02:47:46,174 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s2@group-0A2A9591775A: receive requestVote(ELECTION, s0, group-0A2A9591775A, 2, (t:1, i:4))
2022-10-13 02:47:46,174 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-0A2A9591775A-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-10-13 02:47:46,175 [grpc-default-executor-5] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-0A2A9591775A: change Leader from s2 to null at term 2 for updateCurrentTerm
2022-10-13 02:47:46,175 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-0A2A9591775A: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s0
2022-10-13 02:47:46,175 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-0A2A9591775A-FollowerState
2022-10-13 02:47:46,175 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-0A2A9591775A-FollowerState
2022-10-13 02:47:46,175 [s2@group-0A2A9591775A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-0A2A9591775A-FollowerState was interrupted
2022-10-13 02:47:46,175 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-10-13 02:47:46,175 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-0A2A9591775A:t2, leader=null, voted=s0, raftlog=Memoized:s0@group-0A2A9591775A-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0A2A9591775A:t2, leader=null, voted=s0, raftlog=Memoized:s1@group-0A2A9591775A-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0A2A9591775A:t2, leader=null, voted=null, raftlog=Memoized:s2@group-0A2A9591775A-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-10-13 02:47:46,175 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-0A2A9591775A:t2, leader=null, voted=s0, raftlog=Memoized:s0@group-0A2A9591775A-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0A2A9591775A:t2, leader=null, voted=s0, raftlog=Memoized:s1@group-0A2A9591775A-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0A2A9591775A:t2, leader=null, voted=null, raftlog=Memoized:s2@group-0A2A9591775A-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-0A2A9591775A:t2, leader=null, voted=s0, raftlog=Memoized:s0@group-0A2A9591775A-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0A2A9591775A:t2, leader=null, voted=s0, raftlog=Memoized:s1@group-0A2A9591775A-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0A2A9591775A:t2, leader=null, voted=null, raftlog=Memoized:s2@group-0A2A9591775A-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:431)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:195)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:165)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-10-13 02:47:46,177 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1324)) - s1@group-0A2A9591775A replies to ELECTION vote request: s0<-s1#0:OK-t2. Peer's state: s1@group-0A2A9591775A:t2, leader=null, voted=s0, raftlog=Memoized:s1@group-0A2A9591775A-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:46,178 [s0@group-0A2A9591775A-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-0A2A9591775A-LeaderElection9: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-10-13 02:47:46,178 [s0@group-0A2A9591775A-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t2
2022-10-13 02:47:46,178 [s0@group-0A2A9591775A-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-0A2A9591775A-LeaderElection9 ELECTION round 0: result PASSED
2022-10-13 02:47:46,178 [s0@group-0A2A9591775A-LeaderElection9] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-0A2A9591775A-LeaderElection9
2022-10-13 02:47:46,178 [s0@group-0A2A9591775A-LeaderElection9] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-0A2A9591775A: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2022-10-13 02:47:46,178 [s0@group-0A2A9591775A-LeaderElection9] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-0A2A9591775A: change Leader from null to s0 at term 2 for becomeLeader, leader elected after 47ms
2022-10-13 02:47:46,178 [s0@group-0A2A9591775A-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-10-13 02:47:46,178 [s0@group-0A2A9591775A-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-10-13 02:47:46,178 [s0@group-0A2A9591775A-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-10-13 02:47:46,179 [s0@group-0A2A9591775A-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-10-13 02:47:46,179 [s0@group-0A2A9591775A-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-10-13 02:47:46,179 [s0@group-0A2A9591775A-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-10-13 02:47:46,179 [s0@group-0A2A9591775A-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-10-13 02:47:46,179 [s0@group-0A2A9591775A-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-10-13 02:47:46,180 [s0@group-0A2A9591775A-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-10-13 02:47:46,180 [s0@group-0A2A9591775A-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-10-13 02:47:46,180 [s0@group-0A2A9591775A-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-10-13 02:47:46,180 [s0@group-0A2A9591775A-LeaderElection9] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-10-13 02:47:46,180 [s0@group-0A2A9591775A-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-10-13 02:47:46,180 [s0@group-0A2A9591775A-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-10-13 02:47:46,180 [s0@group-0A2A9591775A-LeaderElection9] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-10-13 02:47:46,180 [s0@group-0A2A9591775A-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2022-10-13 02:47:46,181 [s0@group-0A2A9591775A-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-10-13 02:47:46,181 [s0@group-0A2A9591775A-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-10-13 02:47:46,181 [s0@group-0A2A9591775A-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-10-13 02:47:46,181 [s0@group-0A2A9591775A-LeaderElection9] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-10-13 02:47:46,181 [s0@group-0A2A9591775A-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-10-13 02:47:46,181 [s0@group-0A2A9591775A-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-10-13 02:47:46,181 [s0@group-0A2A9591775A-LeaderElection9] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2022-10-13 02:47:46,181 [s0@group-0A2A9591775A-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2022-10-13 02:47:46,181 [s0@group-0A2A9591775A-LeaderElection9] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-0A2A9591775A-LeaderStateImpl
2022-10-13 02:47:46,182 [s0@group-0A2A9591775A-LeaderElection9] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(432)) - s0@group-0A2A9591775A-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2022-10-13 02:47:46,184 [s0@group-0A2A9591775A-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd255d2ef/s0/9d889276-b2be-451d-8697-0a2a9591775a/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd255d2ef/s0/9d889276-b2be-451d-8697-0a2a9591775a/current/log_0-4
2022-10-13 02:47:46,184 [s0@group-0A2A9591775A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(588)) - s0@group-0A2A9591775A-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd255d2ef/s0/9d889276-b2be-451d-8697-0a2a9591775a/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd255d2ef/s0/9d889276-b2be-451d-8697-0a2a9591775a/current/log_0-4
2022-10-13 02:47:46,185 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1324)) - s2@group-0A2A9591775A replies to ELECTION vote request: s0<-s2#0:OK-t2. Peer's state: s2@group-0A2A9591775A:t2, leader=null, voted=s0, raftlog=Memoized:s2@group-0A2A9591775A-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:46,196 [s0@group-0A2A9591775A-LeaderElection9] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-0A2A9591775A: set configuration 5: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:46,198 [s1-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-0A2A9591775A: change Leader from null to s0 at term 2 for appendEntries, leader elected after 33ms
2022-10-13 02:47:46,200 [s0@group-0A2A9591775A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(631)) - s0@group-0A2A9591775A-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd255d2ef/s0/9d889276-b2be-451d-8697-0a2a9591775a/current/log_inprogress_5
2022-10-13 02:47:46,210 [s1-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-0A2A9591775A: set configuration 5: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:46,212 [s1-server-thread3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(432)) - s1@group-0A2A9591775A-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2022-10-13 02:47:46,213 [s1@group-0A2A9591775A-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd255d2ef/s1/9d889276-b2be-451d-8697-0a2a9591775a/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd255d2ef/s1/9d889276-b2be-451d-8697-0a2a9591775a/current/log_0-4
2022-10-13 02:47:46,213 [s1@group-0A2A9591775A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(588)) - s1@group-0A2A9591775A-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd255d2ef/s1/9d889276-b2be-451d-8697-0a2a9591775a/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd255d2ef/s1/9d889276-b2be-451d-8697-0a2a9591775a/current/log_0-4
2022-10-13 02:47:46,212 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-0A2A9591775A: change Leader from null to s0 at term 2 for appendEntries, leader elected after 37ms
2022-10-13 02:47:46,223 [s2-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-0A2A9591775A: set configuration 5: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:46,223 [s2-server-thread3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(432)) - s2@group-0A2A9591775A-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2022-10-13 02:47:46,224 [s2@group-0A2A9591775A-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd255d2ef/s2/9d889276-b2be-451d-8697-0a2a9591775a/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd255d2ef/s2/9d889276-b2be-451d-8697-0a2a9591775a/current/log_0-4
2022-10-13 02:47:46,224 [s2@group-0A2A9591775A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(588)) - s2@group-0A2A9591775A-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd255d2ef/s2/9d889276-b2be-451d-8697-0a2a9591775a/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd255d2ef/s2/9d889276-b2be-451d-8697-0a2a9591775a/current/log_0-4
2022-10-13 02:47:46,229 [s1@group-0A2A9591775A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(631)) - s1@group-0A2A9591775A-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd255d2ef/s1/9d889276-b2be-451d-8697-0a2a9591775a/current/log_inprogress_5
2022-10-13 02:47:46,242 [s2@group-0A2A9591775A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(631)) - s2@group-0A2A9591775A-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd255d2ef/s2/9d889276-b2be-451d-8697-0a2a9591775a/current/log_inprogress_5
2022-10-13 02:47:46,626 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-0A2A9591775A:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-0A2A9591775A-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0A2A9591775A:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-0A2A9591775A-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0A2A9591775A:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-0A2A9591775A-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-10-13 02:47:46,626 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s2 to s0
2022-10-13 02:47:46,626 [Time-limited test] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:unblockRequestor(54)) - UnBlock requestor s2
2022-10-13 02:47:46,627 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'request should fail'
2022-10-13 02:47:46,627 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "request should fail" throws ExecutionException
java.util.concurrent.ExecutionException: org.apache.ratis.protocol.exceptions.AlreadyClosedException: client-0C2D1AC79BDF->s2: Stream completed: no reply for async request cid=2
	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)
	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:199)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:165)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.AlreadyClosedException: client-0C2D1AC79BDF->s2: Stream completed: no reply for async request cid=2
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:406)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:310)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onCompleted(GrpcClientProtocolClient.java:346)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:485)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:468)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:432)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:465)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	... 1 more
2022-10-13 02:47:46,628 [Time-limited test] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:unblock(141)) - unblock START_TRANSACTION
2022-10-13 02:47:46,633 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:47:46,633 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:47:46,636 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'request should timeout'
2022-10-13 02:47:46,740 [s0-server-thread1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s2
2022-10-13 02:47:46,740 [s1-server-thread1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s1: unBlock request from s2
2022-10-13 02:47:46,745 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s1: Completed APPEND_ENTRIES, lastRequest: s2->s1#12-t1,previous=(t:1, i:3),leaderCommit=3,initializing? true,entries: size=1, first=(t:1, i:4), METADATAENTRY(c:3)
2022-10-13 02:47:46,748 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s0: Completed APPEND_ENTRIES, lastRequest: s2->s0#11-t1,previous=(t:1, i:3),leaderCommit=3,initializing? true,entries: size=1, first=(t:1, i:4), METADATAENTRY(c:3)
2022-10-13 02:47:46,748 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s2@group-0A2A9591775A->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-10-13 02:47:46,748 [grpc-default-executor-5] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s2@group-0A2A9591775A->s1: nextIndex: updateUnconditionally 5 -> 4
2022-10-13 02:47:46,749 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s2@group-0A2A9591775A->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-10-13 02:47:46,749 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s2@group-0A2A9591775A->s0: nextIndex: updateUnconditionally 5 -> 4
2022-10-13 02:47:47,636 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "request should timeout" throws ExecutionException
java.util.concurrent.ExecutionException: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-0C2D1AC79BDF->s2 request #3 timeout 1s
	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)
	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:207)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:165)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-0C2D1AC79BDF->s2 request #3 timeout 1s
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:384)
	at java.base/java.util.Optional.ifPresent(Optional.java:183)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.handleReplyFuture(GrpcClientProtocolClient.java:388)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.timeoutCheck(GrpcClientProtocolClient.java:383)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$onNext$3(GrpcClientProtocolClient.java:376)
	at org.apache.ratis.util.TimeoutTimer.lambda$onTimeout$2(TimeoutTimer.java:101)
	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:79)
	at org.apache.ratis.util.TimeoutTimer$Task.run(TimeoutTimer.java:55)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
2022-10-13 02:47:47,647 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-0C2D1AC79BDF->s2: receive RaftClientReply:client-0C2D1AC79BDF->s2@group-0A2A9591775A, cid=3, FAILED org.apache.ratis.protocol.exceptions.AlreadyClosedException: SlidingWindow$Server:2-OrderedRequestStreamObserver2 is closing: seq = 3 > nextToProcess = -1 will NEVER be processed; request = 3:null, logIndex=0, commits[]
2022-10-13 02:47:50,638 [Time-limited test] WARN  grpc.GrpcUtil (GrpcUtil.java:shutdownManagedChannel(216)) - Timed out gracefully shutting down connection: ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=324, target=localhost:46511}}. 
2022-10-13 02:47:50,643 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-10-13 02:47:50,643 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-10-13 02:47:50,643 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2022-10-13 02:47:50,643 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-10-13 02:47:50,643 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-10-13 02:47:50,643 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-0A2A9591775A:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-0A2A9591775A-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-0A2A9591775A:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-0A2A9591775A-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-0A2A9591775A:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-0A2A9591775A-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:34637|admin:localhost:43811|client:localhost:38113|dataStream:localhost:44259|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40859|admin:localhost:38587|client:localhost:43501|dataStream:localhost:34159|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36741|admin:localhost:42025|client:localhost:46511|dataStream:localhost:43003|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-10-13 02:47:50,644 [MiniRaftCluster-9] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2022-10-13 02:47:50,645 [MiniRaftCluster-10] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s1: close
2022-10-13 02:47:50,646 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s1@group-0A2A9591775A: shutdown
2022-10-13 02:47:50,646 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-0A2A9591775A,id=s1
2022-10-13 02:47:50,646 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-0A2A9591775A-FollowerState
2022-10-13 02:47:50,646 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-0A2A9591775A-StateMachineUpdater: set stopIndex = 6
2022-10-13 02:47:50,646 [s1@group-0A2A9591775A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-0A2A9591775A-FollowerState was interrupted
2022-10-13 02:47:50,647 [MiniRaftCluster-11] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s2: close
2022-10-13 02:47:50,647 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s1@group-0A2A9591775A: applyIndex: 6
2022-10-13 02:47:50,647 [MiniRaftCluster-9] INFO  server.GrpcService (GrpcService.java:closeImpl(319)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-10-13 02:47:50,647 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s2@group-0A2A9591775A: shutdown
2022-10-13 02:47:50,648 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-0A2A9591775A,id=s2
2022-10-13 02:47:50,648 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-0A2A9591775A-FollowerState
2022-10-13 02:47:50,648 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-0A2A9591775A-StateMachineUpdater: set stopIndex = 6
2022-10-13 02:47:50,648 [s2@group-0A2A9591775A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-0A2A9591775A-FollowerState was interrupted
2022-10-13 02:47:50,652 [MiniRaftCluster-10] INFO  server.GrpcService (GrpcService.java:closeImpl(319)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-10-13 02:47:50,652 [s1@group-0A2A9591775A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(329)) - s1@group-0A2A9591775A-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-10-13 02:47:50,652 [MiniRaftCluster-11] INFO  server.GrpcService (GrpcService.java:closeImpl(319)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-10-13 02:47:50,653 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-0A2A9591775A: shutdown
2022-10-13 02:47:50,653 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-0A2A9591775A,id=s0
2022-10-13 02:47:50,653 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-0A2A9591775A-LeaderStateImpl
2022-10-13 02:47:50,653 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-0A2A9591775A-PendingRequests: sendNotLeaderResponses
2022-10-13 02:47:50,653 [s0@group-0A2A9591775A->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s0@group-0A2A9591775A->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-10-13 02:47:50,653 [s0@group-0A2A9591775A->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s0@group-0A2A9591775A->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-10-13 02:47:50,654 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#2-t2,previous=(t:2, i:5),leaderCommit=5,initializing? true,entries: size=1, first=(t:2, i:6), METADATAENTRY(c:5)
2022-10-13 02:47:50,654 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s2: Completed APPEND_ENTRIES, lastRequest: s0->s2#2-t2,previous=(t:2, i:5),leaderCommit=5,initializing? true,entries: size=1, first=(t:2, i:6), METADATAENTRY(c:5)
2022-10-13 02:47:50,655 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s0@group-0A2A9591775A->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-10-13 02:47:50,655 [grpc-default-executor-1] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-0A2A9591775A->s2: nextIndex: updateUnconditionally 7 -> 6
2022-10-13 02:47:50,655 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s0@group-0A2A9591775A->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-10-13 02:47:50,655 [grpc-default-executor-5] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-0A2A9591775A->s1: nextIndex: updateUnconditionally 7 -> 6
2022-10-13 02:47:50,655 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s2@group-0A2A9591775A: applyIndex: 6
2022-10-13 02:47:50,655 [s2@group-0A2A9591775A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(329)) - s2@group-0A2A9591775A-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-10-13 02:47:50,655 [MiniRaftCluster-10] INFO  server.GrpcService (GrpcService.java:closeImpl(328)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-10-13 02:47:50,656 [MiniRaftCluster-10] INFO  server.GrpcService (GrpcService.java:closeImpl(319)) - s1: shutdown server GrpcServerProtocolService now
2022-10-13 02:47:50,658 [MiniRaftCluster-11] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(111)) - s0 Close channels
2022-10-13 02:47:50,660 [MiniRaftCluster-10] INFO  server.GrpcService (GrpcService.java:closeImpl(328)) - s1: shutdown server GrpcServerProtocolService successfully
2022-10-13 02:47:50,661 [MiniRaftCluster-10] INFO  server.GrpcService (GrpcService.java:closeImpl(319)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-10-13 02:47:50,661 [MiniRaftCluster-9] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(111)) - s1 Close channels
2022-10-13 02:47:50,661 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-0A2A9591775A-StateMachineUpdater: set stopIndex = 6
2022-10-13 02:47:50,661 [MiniRaftCluster-11] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(111)) - s1 Close channels
2022-10-13 02:47:50,662 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s0@group-0A2A9591775A: applyIndex: 6
2022-10-13 02:47:50,662 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s2@group-0A2A9591775A-SegmentedRaftLogWorker close()
2022-10-13 02:47:50,661 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s1@group-0A2A9591775A-SegmentedRaftLogWorker close()
2022-10-13 02:47:50,663 [s0@group-0A2A9591775A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(329)) - s0@group-0A2A9591775A-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-10-13 02:47:50,665 [MiniRaftCluster-11] INFO  server.GrpcService (GrpcService.java:closeImpl(328)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-10-13 02:47:50,666 [MiniRaftCluster-11] INFO  server.GrpcService (GrpcService.java:closeImpl(319)) - s2: shutdown server GrpcServerProtocolService now
2022-10-13 02:47:50,666 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s0@group-0A2A9591775A-SegmentedRaftLogWorker close()
2022-10-13 02:47:50,667 [MiniRaftCluster-9] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(111)) - s2 Close channels
2022-10-13 02:47:50,668 [MiniRaftCluster-11] INFO  server.GrpcService (GrpcService.java:closeImpl(328)) - s2: shutdown server GrpcServerProtocolService successfully
2022-10-13 02:47:50,668 [MiniRaftCluster-11] INFO  server.GrpcService (GrpcService.java:closeImpl(319)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-10-13 02:47:50,669 [MiniRaftCluster-10] INFO  server.GrpcService (GrpcService.java:closeImpl(328)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-10-13 02:47:50,670 [MiniRaftCluster-9] INFO  server.GrpcService (GrpcService.java:closeImpl(328)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-10-13 02:47:50,670 [MiniRaftCluster-11] INFO  server.GrpcService (GrpcService.java:closeImpl(328)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-10-13 02:47:50,670 [JvmPauseMonitor9] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2022-10-13 02:47:50,671 [MiniRaftCluster-9] INFO  server.GrpcService (GrpcService.java:closeImpl(319)) - s0: shutdown server GrpcServerProtocolService now
2022-10-13 02:47:50,672 [JvmPauseMonitor10] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s2: Stopped
2022-10-13 02:47:50,674 [MiniRaftCluster-9] INFO  server.GrpcService (GrpcService.java:closeImpl(328)) - s0: shutdown server GrpcServerProtocolService successfully
2022-10-13 02:47:50,674 [MiniRaftCluster-9] INFO  server.GrpcService (GrpcService.java:closeImpl(319)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-10-13 02:47:50,675 [MiniRaftCluster-9] INFO  server.GrpcService (GrpcService.java:closeImpl(328)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-10-13 02:47:50,675 [JvmPauseMonitor8] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2022-10-13 02:47:50,675 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2022-10-13 02:47:50,676 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-10-13 02:47:50,676 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-10-13 02:47:50,676 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to ALL
2022-10-13 02:47:50,680 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2022-10-13 02:47:50,681 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-C4E10AA5627C:[s0|rpc:localhost:44609|admin:localhost:44645|client:localhost:46447|dataStream:localhost:34585|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40031|admin:localhost:46435|client:localhost:35261|dataStream:localhost:41741|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36553|admin:localhost:33497|client:localhost:46633|dataStream:localhost:33349|priority:0|startupRole:FOLLOWER]
2022-10-13 02:47:50,681 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2022-10-13 02:47:50,681 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-10-13 02:47:50,681 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2022-10-13 02:47:50,681 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2022-10-13 02:47:50,681 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2022-10-13 02:47:50,681 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2022-10-13 02:47:50,681 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-C4E10AA5627C:[s0|rpc:localhost:44609|admin:localhost:44645|client:localhost:46447|dataStream:localhost:34585|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40031|admin:localhost:46435|client:localhost:35261|dataStream:localhost:41741|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36553|admin:localhost:33497|client:localhost:46633|dataStream:localhost:33349|priority:0|startupRole:FOLLOWER], format? true
2022-10-13 02:47:50,681 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/bc10d1de/MiniRaftClusterWithGrpcc299df49/s0
2022-10-13 02:47:50,681 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/bc10d1de/MiniRaftClusterWithGrpcc299df49/s0 does not exist.
2022-10-13 02:47:50,682 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/bc10d1de/MiniRaftClusterWithGrpcc299df49/s0
2022-10-13 02:47:50,682 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-10-13 02:47:50,682 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-10-13 02:47:50,682 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 44645 (custom)
2022-10-13 02:47:50,683 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-10-13 02:47:50,683 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 46447 (custom)
2022-10-13 02:47:50,683 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-10-13 02:47:50,683 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 44609 (custom)
2022-10-13 02:47:50,683 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:47:50,683 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-10-13 02:47:50,683 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:47:50,683 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-10-13 02:47:50,683 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-10-13 02:47:50,683 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-10-13 02:47:50,683 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-10-13 02:47:50,684 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-10-13 02:47:50,685 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-10-13 02:47:50,685 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-10-13 02:47:50,685 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-10-13 02:47:50,685 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-10-13 02:47:50,685 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcc299df49/s0] (custom)
2022-10-13 02:47:50,686 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-C4E10AA5627C:[s0|rpc:localhost:44609|admin:localhost:44645|client:localhost:46447|dataStream:localhost:34585|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40031|admin:localhost:46435|client:localhost:35261|dataStream:localhost:41741|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36553|admin:localhost:33497|client:localhost:46633|dataStream:localhost:33349|priority:0|startupRole:FOLLOWER] returns group-C4E10AA5627C:java.util.concurrent.CompletableFuture@76fe0fbf[Not completed]
2022-10-13 02:47:50,686 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-C4E10AA5627C:[s0|rpc:localhost:44609|admin:localhost:44645|client:localhost:46447|dataStream:localhost:34585|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40031|admin:localhost:46435|client:localhost:35261|dataStream:localhost:41741|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36553|admin:localhost:33497|client:localhost:46633|dataStream:localhost:33349|priority:0|startupRole:FOLLOWER], format? true
2022-10-13 02:47:50,686 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/bc10d1de/MiniRaftClusterWithGrpcc299df49/s1
2022-10-13 02:47:50,686 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/bc10d1de/MiniRaftClusterWithGrpcc299df49/s1 does not exist.
2022-10-13 02:47:50,686 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/bc10d1de/MiniRaftClusterWithGrpcc299df49/s1
2022-10-13 02:47:50,686 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-10-13 02:47:50,686 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-10-13 02:47:50,686 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 46435 (custom)
2022-10-13 02:47:50,686 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-10-13 02:47:50,687 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 35261 (custom)
2022-10-13 02:47:50,687 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-10-13 02:47:50,687 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 40031 (custom)
2022-10-13 02:47:50,687 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:47:50,687 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-10-13 02:47:50,687 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:47:50,687 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-10-13 02:47:50,687 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-10-13 02:47:50,687 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-10-13 02:47:50,687 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-10-13 02:47:50,688 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-10-13 02:47:50,688 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-10-13 02:47:50,688 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-10-13 02:47:50,688 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-10-13 02:47:50,688 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-10-13 02:47:50,688 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcc299df49/s1] (custom)
2022-10-13 02:47:50,689 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-10-13 02:47:50,689 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-10-13 02:47:50,689 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-10-13 02:47:50,690 [pool-17-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-C4E10AA5627C:[s0|rpc:localhost:44609|admin:localhost:44645|client:localhost:46447|dataStream:localhost:34585|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40031|admin:localhost:46435|client:localhost:35261|dataStream:localhost:41741|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36553|admin:localhost:33497|client:localhost:46633|dataStream:localhost:33349|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-10-13 02:47:50,690 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-10-13 02:47:50,690 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-10-13 02:47:50,690 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-10-13 02:47:50,690 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-10-13 02:47:50,690 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-10-13 02:47:50,690 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-10-13 02:47:50,690 [pool-17-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-C4E10AA5627C: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:44609|admin:localhost:44645|client:localhost:46447|dataStream:localhost:34585|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40031|admin:localhost:46435|client:localhost:35261|dataStream:localhost:41741|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36553|admin:localhost:33497|client:localhost:46633|dataStream:localhost:33349|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-10-13 02:47:50,690 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-10-13 02:47:50,690 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-10-13 02:47:50,690 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-10-13 02:47:50,690 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-10-13 02:47:50,690 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-10-13 02:47:50,692 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-10-13 02:47:50,692 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-10-13 02:47:50,692 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-10-13 02:47:50,692 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-10-13 02:47:50,693 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-10-13 02:47:50,695 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-C4E10AA5627C:[s0|rpc:localhost:44609|admin:localhost:44645|client:localhost:46447|dataStream:localhost:34585|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40031|admin:localhost:46435|client:localhost:35261|dataStream:localhost:41741|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36553|admin:localhost:33497|client:localhost:46633|dataStream:localhost:33349|priority:0|startupRole:FOLLOWER] returns group-C4E10AA5627C:java.util.concurrent.CompletableFuture@2853f68[Not completed]
2022-10-13 02:47:50,696 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-10-13 02:47:50,696 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-10-13 02:47:50,696 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-10-13 02:47:50,696 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-C4E10AA5627C:[s0|rpc:localhost:44609|admin:localhost:44645|client:localhost:46447|dataStream:localhost:34585|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40031|admin:localhost:46435|client:localhost:35261|dataStream:localhost:41741|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36553|admin:localhost:33497|client:localhost:46633|dataStream:localhost:33349|priority:0|startupRole:FOLLOWER], format? true
2022-10-13 02:47:50,696 [pool-18-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-C4E10AA5627C:[s0|rpc:localhost:44609|admin:localhost:44645|client:localhost:46447|dataStream:localhost:34585|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40031|admin:localhost:46435|client:localhost:35261|dataStream:localhost:41741|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36553|admin:localhost:33497|client:localhost:46633|dataStream:localhost:33349|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-10-13 02:47:50,696 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/bc10d1de/MiniRaftClusterWithGrpcc299df49/s2
2022-10-13 02:47:50,696 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-10-13 02:47:50,696 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/bc10d1de/MiniRaftClusterWithGrpcc299df49/s2 does not exist.
2022-10-13 02:47:50,696 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-10-13 02:47:50,696 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/bc10d1de/MiniRaftClusterWithGrpcc299df49/s2
2022-10-13 02:47:50,696 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-10-13 02:47:50,697 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-10-13 02:47:50,697 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-10-13 02:47:50,697 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-10-13 02:47:50,697 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-10-13 02:47:50,697 [pool-18-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-C4E10AA5627C: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:44609|admin:localhost:44645|client:localhost:46447|dataStream:localhost:34585|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40031|admin:localhost:46435|client:localhost:35261|dataStream:localhost:41741|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36553|admin:localhost:33497|client:localhost:46633|dataStream:localhost:33349|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-10-13 02:47:50,697 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-10-13 02:47:50,697 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-10-13 02:47:50,697 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 33497 (custom)
2022-10-13 02:47:50,697 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-10-13 02:47:50,697 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-10-13 02:47:50,697 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-10-13 02:47:50,697 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 46633 (custom)
2022-10-13 02:47:50,697 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-10-13 02:47:50,698 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-10-13 02:47:50,698 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-10-13 02:47:50,698 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 36553 (custom)
2022-10-13 02:47:50,698 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:47:50,698 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-10-13 02:47:50,698 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:47:50,698 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-10-13 02:47:50,698 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-10-13 02:47:50,698 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-10-13 02:47:50,698 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-10-13 02:47:50,699 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-10-13 02:47:50,700 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-10-13 02:47:50,700 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-10-13 02:47:50,700 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-10-13 02:47:50,700 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-10-13 02:47:50,700 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-10-13 02:47:50,700 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-10-13 02:47:50,700 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-10-13 02:47:50,700 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-10-13 02:47:50,700 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-10-13 02:47:50,700 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcc299df49/s2] (custom)
2022-10-13 02:47:50,703 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-C4E10AA5627C:[s0|rpc:localhost:44609|admin:localhost:44645|client:localhost:46447|dataStream:localhost:34585|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40031|admin:localhost:46435|client:localhost:35261|dataStream:localhost:41741|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36553|admin:localhost:33497|client:localhost:46633|dataStream:localhost:33349|priority:0|startupRole:FOLLOWER] returns group-C4E10AA5627C:java.util.concurrent.CompletableFuture@1f84b5aa[Not completed]
2022-10-13 02:47:50,703 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-10-13 02:47:50,703 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-10-13 02:47:50,703 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcc299df49/s0] (custom)
2022-10-13 02:47:50,703 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcc299df49/s0/fb8b6d13-ebc0-4bde-bd92-c4e10aa5627c does not exist. Creating ...
2022-10-13 02:47:50,703 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-10-13 02:47:50,704 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-10-13 02:47:50,704 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-10-13 02:47:50,704 [pool-19-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-C4E10AA5627C:[s0|rpc:localhost:44609|admin:localhost:44645|client:localhost:46447|dataStream:localhost:34585|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40031|admin:localhost:46435|client:localhost:35261|dataStream:localhost:41741|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36553|admin:localhost:33497|client:localhost:46633|dataStream:localhost:33349|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-10-13 02:47:50,704 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-10-13 02:47:50,704 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-10-13 02:47:50,704 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcc299df49/s0/fb8b6d13-ebc0-4bde-bd92-c4e10aa5627c
2022-10-13 02:47:50,704 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-10-13 02:47:50,704 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-10-13 02:47:50,704 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-10-13 02:47:50,704 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-10-13 02:47:50,704 [pool-19-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-C4E10AA5627C: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:44609|admin:localhost:44645|client:localhost:46447|dataStream:localhost:34585|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40031|admin:localhost:46435|client:localhost:35261|dataStream:localhost:41741|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36553|admin:localhost:33497|client:localhost:46633|dataStream:localhost:33349|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-10-13 02:47:50,704 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-10-13 02:47:50,704 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-10-13 02:47:50,704 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-10-13 02:47:50,704 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-10-13 02:47:50,704 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-10-13 02:47:50,706 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-10-13 02:47:50,707 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-10-13 02:47:50,707 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcc299df49/s0/fb8b6d13-ebc0-4bde-bd92-c4e10aa5627c/in_use.lock acquired by nodename 60246@fv-az318-428
2022-10-13 02:47:50,707 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-10-13 02:47:50,707 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcc299df49/s0/fb8b6d13-ebc0-4bde-bd92-c4e10aa5627c/current
2022-10-13 02:47:50,707 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-10-13 02:47:50,707 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcc299df49/s0/fb8b6d13-ebc0-4bde-bd92-c4e10aa5627c/sm
2022-10-13 02:47:50,707 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-10-13 02:47:50,709 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcc299df49/s0/fb8b6d13-ebc0-4bde-bd92-c4e10aa5627c has been successfully formatted.
2022-10-13 02:47:50,709 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-10-13 02:47:50,709 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-10-13 02:47:50,709 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-10-13 02:47:50,709 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-10-13 02:47:50,709 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-10-13 02:47:50,709 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-10-13 02:47:50,709 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-10-13 02:47:50,710 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-10-13 02:47:50,710 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-10-13 02:47:50,710 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-10-13 02:47:50,710 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s0@group-C4E10AA5627C-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcc299df49/s0/fb8b6d13-ebc0-4bde-bd92-c4e10aa5627c
2022-10-13 02:47:50,710 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-10-13 02:47:50,710 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-10-13 02:47:50,710 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-10-13 02:47:50,710 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-10-13 02:47:50,710 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-10-13 02:47:50,710 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-10-13 02:47:50,710 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-10-13 02:47:50,710 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-10-13 02:47:50,711 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-10-13 02:47:50,711 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-10-13 02:47:50,711 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-10-13 02:47:50,711 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-10-13 02:47:50,711 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-C4E10AA5627C-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-10-13 02:47:50,711 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-C4E10AA5627C-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-10-13 02:47:50,714 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-C4E10AA5627C: start as a follower, conf=-1: peers:[s0|rpc:localhost:44609|admin:localhost:44645|client:localhost:46447|dataStream:localhost:34585|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40031|admin:localhost:46435|client:localhost:35261|dataStream:localhost:41741|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36553|admin:localhost:33497|client:localhost:46633|dataStream:localhost:33349|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:50,714 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-C4E10AA5627C: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-10-13 02:47:50,714 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C4E10AA5627C-FollowerState
2022-10-13 02:47:50,717 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C4E10AA5627C,id=s0
2022-10-13 02:47:50,718 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-10-13 02:47:50,718 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-10-13 02:47:50,718 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-10-13 02:47:50,718 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2022-10-13 02:47:50,719 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(310)) - s0: GrpcService started, listening on 46447
2022-10-13 02:47:50,719 [s0@group-C4E10AA5627C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-10-13 02:47:50,719 [s0@group-C4E10AA5627C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-10-13 02:47:50,720 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(310)) - s0: GrpcService started, listening on 44609
2022-10-13 02:47:50,720 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(310)) - s0: GrpcService started, listening on 44645
2022-10-13 02:47:50,721 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-10-13 02:47:50,721 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-10-13 02:47:50,721 [JvmPauseMonitor11] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2022-10-13 02:47:50,721 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcc299df49/s1] (custom)
2022-10-13 02:47:50,721 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcc299df49/s1/fb8b6d13-ebc0-4bde-bd92-c4e10aa5627c does not exist. Creating ...
2022-10-13 02:47:50,722 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcc299df49/s1/fb8b6d13-ebc0-4bde-bd92-c4e10aa5627c
2022-10-13 02:47:50,723 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcc299df49/s1/fb8b6d13-ebc0-4bde-bd92-c4e10aa5627c/in_use.lock acquired by nodename 60246@fv-az318-428
2022-10-13 02:47:50,723 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcc299df49/s1/fb8b6d13-ebc0-4bde-bd92-c4e10aa5627c/current
2022-10-13 02:47:50,723 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcc299df49/s1/fb8b6d13-ebc0-4bde-bd92-c4e10aa5627c/sm
2022-10-13 02:47:50,726 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcc299df49/s1/fb8b6d13-ebc0-4bde-bd92-c4e10aa5627c has been successfully formatted.
2022-10-13 02:47:50,726 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-10-13 02:47:50,726 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-10-13 02:47:50,726 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-10-13 02:47:50,727 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-10-13 02:47:50,727 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-10-13 02:47:50,727 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-10-13 02:47:50,727 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-10-13 02:47:50,727 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-10-13 02:47:50,728 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-10-13 02:47:50,728 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-10-13 02:47:50,728 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s1@group-C4E10AA5627C-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcc299df49/s1/fb8b6d13-ebc0-4bde-bd92-c4e10aa5627c
2022-10-13 02:47:50,728 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-10-13 02:47:50,728 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-10-13 02:47:50,728 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-10-13 02:47:50,728 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-10-13 02:47:50,728 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-10-13 02:47:50,728 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-10-13 02:47:50,728 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-10-13 02:47:50,728 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-10-13 02:47:50,728 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-10-13 02:47:50,728 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-10-13 02:47:50,728 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-10-13 02:47:50,728 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-10-13 02:47:50,729 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-C4E10AA5627C-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-10-13 02:47:50,729 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-C4E10AA5627C-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-10-13 02:47:50,729 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s1@group-C4E10AA5627C: start as a follower, conf=-1: peers:[s0|rpc:localhost:44609|admin:localhost:44645|client:localhost:46447|dataStream:localhost:34585|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40031|admin:localhost:46435|client:localhost:35261|dataStream:localhost:41741|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36553|admin:localhost:33497|client:localhost:46633|dataStream:localhost:33349|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:50,729 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-C4E10AA5627C: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-10-13 02:47:50,729 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-C4E10AA5627C-FollowerState
2022-10-13 02:47:50,730 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C4E10AA5627C,id=s1
2022-10-13 02:47:50,730 [s1@group-C4E10AA5627C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-10-13 02:47:50,730 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-10-13 02:47:50,730 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-10-13 02:47:50,730 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-10-13 02:47:50,731 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s1: start RPC server
2022-10-13 02:47:50,731 [s1@group-C4E10AA5627C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-10-13 02:47:50,731 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(310)) - s1: GrpcService started, listening on 35261
2022-10-13 02:47:50,732 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(310)) - s1: GrpcService started, listening on 40031
2022-10-13 02:47:50,733 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(310)) - s1: GrpcService started, listening on 46435
2022-10-13 02:47:50,733 [JvmPauseMonitor12] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2022-10-13 02:47:50,734 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-10-13 02:47:50,734 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-10-13 02:47:50,734 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcc299df49/s2] (custom)
2022-10-13 02:47:50,734 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcc299df49/s2/fb8b6d13-ebc0-4bde-bd92-c4e10aa5627c does not exist. Creating ...
2022-10-13 02:47:50,735 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcc299df49/s2/fb8b6d13-ebc0-4bde-bd92-c4e10aa5627c
2022-10-13 02:47:50,736 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcc299df49/s2/fb8b6d13-ebc0-4bde-bd92-c4e10aa5627c/in_use.lock acquired by nodename 60246@fv-az318-428
2022-10-13 02:47:50,736 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcc299df49/s2/fb8b6d13-ebc0-4bde-bd92-c4e10aa5627c/current
2022-10-13 02:47:50,736 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcc299df49/s2/fb8b6d13-ebc0-4bde-bd92-c4e10aa5627c/sm
2022-10-13 02:47:50,739 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcc299df49/s2/fb8b6d13-ebc0-4bde-bd92-c4e10aa5627c has been successfully formatted.
2022-10-13 02:47:50,739 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-10-13 02:47:50,739 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-10-13 02:47:50,739 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-10-13 02:47:50,739 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-10-13 02:47:50,739 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-10-13 02:47:50,739 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-10-13 02:47:50,739 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-10-13 02:47:50,740 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-10-13 02:47:50,740 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-10-13 02:47:50,740 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-10-13 02:47:50,740 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s2@group-C4E10AA5627C-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcc299df49/s2/fb8b6d13-ebc0-4bde-bd92-c4e10aa5627c
2022-10-13 02:47:50,740 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-10-13 02:47:50,740 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-10-13 02:47:50,740 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-10-13 02:47:50,740 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-10-13 02:47:50,740 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-10-13 02:47:50,740 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-10-13 02:47:50,740 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-10-13 02:47:50,740 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-10-13 02:47:50,741 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-10-13 02:47:50,741 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-10-13 02:47:50,741 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-10-13 02:47:50,741 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-10-13 02:47:50,741 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-C4E10AA5627C-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-10-13 02:47:50,741 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-C4E10AA5627C-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-10-13 02:47:50,741 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s2@group-C4E10AA5627C: start as a follower, conf=-1: peers:[s0|rpc:localhost:44609|admin:localhost:44645|client:localhost:46447|dataStream:localhost:34585|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40031|admin:localhost:46435|client:localhost:35261|dataStream:localhost:41741|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36553|admin:localhost:33497|client:localhost:46633|dataStream:localhost:33349|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:50,741 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-C4E10AA5627C: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-10-13 02:47:50,741 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-C4E10AA5627C-FollowerState
2022-10-13 02:47:50,742 [s2@group-C4E10AA5627C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-10-13 02:47:50,742 [s2@group-C4E10AA5627C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-10-13 02:47:50,742 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C4E10AA5627C,id=s2
2022-10-13 02:47:50,742 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-10-13 02:47:50,742 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-10-13 02:47:50,742 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-10-13 02:47:50,742 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s2: start RPC server
2022-10-13 02:47:50,747 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(310)) - s2: GrpcService started, listening on 46633
2022-10-13 02:47:50,747 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(310)) - s2: GrpcService started, listening on 36553
2022-10-13 02:47:50,748 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(310)) - s2: GrpcService started, listening on 33497
2022-10-13 02:47:50,748 [JvmPauseMonitor13] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2022-10-13 02:47:50,748 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-10-13 02:47:50,748 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C4E10AA5627C:t0, leader=null, voted=, raftlog=Memoized:s0@group-C4E10AA5627C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44609|admin:localhost:44645|client:localhost:46447|dataStream:localhost:34585|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40031|admin:localhost:46435|client:localhost:35261|dataStream:localhost:41741|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36553|admin:localhost:33497|client:localhost:46633|dataStream:localhost:33349|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C4E10AA5627C:t0, leader=null, voted=, raftlog=Memoized:s1@group-C4E10AA5627C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44609|admin:localhost:44645|client:localhost:46447|dataStream:localhost:34585|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40031|admin:localhost:46435|client:localhost:35261|dataStream:localhost:41741|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36553|admin:localhost:33497|client:localhost:46633|dataStream:localhost:33349|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C4E10AA5627C:t0, leader=null, voted=, raftlog=Memoized:s2@group-C4E10AA5627C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44609|admin:localhost:44645|client:localhost:46447|dataStream:localhost:34585|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40031|admin:localhost:46435|client:localhost:35261|dataStream:localhost:41741|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36553|admin:localhost:33497|client:localhost:46633|dataStream:localhost:33349|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-10-13 02:47:50,748 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C4E10AA5627C:t0, leader=null, voted=, raftlog=Memoized:s0@group-C4E10AA5627C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44609|admin:localhost:44645|client:localhost:46447|dataStream:localhost:34585|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40031|admin:localhost:46435|client:localhost:35261|dataStream:localhost:41741|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36553|admin:localhost:33497|client:localhost:46633|dataStream:localhost:33349|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C4E10AA5627C:t0, leader=null, voted=, raftlog=Memoized:s1@group-C4E10AA5627C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44609|admin:localhost:44645|client:localhost:46447|dataStream:localhost:34585|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40031|admin:localhost:46435|client:localhost:35261|dataStream:localhost:41741|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36553|admin:localhost:33497|client:localhost:46633|dataStream:localhost:33349|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C4E10AA5627C:t0, leader=null, voted=, raftlog=Memoized:s2@group-C4E10AA5627C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44609|admin:localhost:44645|client:localhost:46447|dataStream:localhost:34585|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40031|admin:localhost:46435|client:localhost:35261|dataStream:localhost:41741|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36553|admin:localhost:33497|client:localhost:46633|dataStream:localhost:33349|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C4E10AA5627C:t0, leader=null, voted=, raftlog=Memoized:s0@group-C4E10AA5627C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44609|admin:localhost:44645|client:localhost:46447|dataStream:localhost:34585|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40031|admin:localhost:46435|client:localhost:35261|dataStream:localhost:41741|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36553|admin:localhost:33497|client:localhost:46633|dataStream:localhost:33349|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C4E10AA5627C:t0, leader=null, voted=, raftlog=Memoized:s1@group-C4E10AA5627C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44609|admin:localhost:44645|client:localhost:46447|dataStream:localhost:34585|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40031|admin:localhost:46435|client:localhost:35261|dataStream:localhost:41741|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36553|admin:localhost:33497|client:localhost:46633|dataStream:localhost:33349|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C4E10AA5627C:t0, leader=null, voted=, raftlog=Memoized:s2@group-C4E10AA5627C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44609|admin:localhost:44645|client:localhost:46447|dataStream:localhost:34585|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40031|admin:localhost:46435|client:localhost:35261|dataStream:localhost:41741|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36553|admin:localhost:33497|client:localhost:46633|dataStream:localhost:33349|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientRequestMetrics(TestRaftServerWithGrpc.java:304)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientMetrics(TestRaftServerWithGrpc.java:215)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-10-13 02:47:50,880 [s0@group-C4E10AA5627C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-C4E10AA5627C-FollowerState: change to CANDIDATE, lastRpcElapsedTime:166142477ns, electionTimeout:161ms
2022-10-13 02:47:50,881 [s0@group-C4E10AA5627C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-C4E10AA5627C-FollowerState
2022-10-13 02:47:50,881 [s0@group-C4E10AA5627C-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-C4E10AA5627C: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-10-13 02:47:50,881 [s0@group-C4E10AA5627C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-10-13 02:47:50,881 [s0@group-C4E10AA5627C-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C4E10AA5627C-LeaderElection10
2022-10-13 02:47:50,885 [s0@group-C4E10AA5627C-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-C4E10AA5627C-LeaderElection10 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:44609|admin:localhost:44645|client:localhost:46447|dataStream:localhost:34585|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40031|admin:localhost:46435|client:localhost:35261|dataStream:localhost:41741|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36553|admin:localhost:33497|client:localhost:46633|dataStream:localhost:33349|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:50,886 [s0@group-C4E10AA5627C-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-10-13 02:47:50,886 [s0@group-C4E10AA5627C-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-10-13 02:47:50,886 [s0@group-C4E10AA5627C-LeaderElection10-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2022-10-13 02:47:50,886 [s0@group-C4E10AA5627C-LeaderElection10-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2022-10-13 02:47:50,895 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s2@group-C4E10AA5627C: receive requestVote(PRE_VOTE, s0, group-C4E10AA5627C, 0, (t:0, i:0))
2022-10-13 02:47:50,895 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-C4E10AA5627C-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-10-13 02:47:50,896 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1324)) - s2@group-C4E10AA5627C replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-C4E10AA5627C:t0, leader=null, voted=, raftlog=Memoized:s2@group-C4E10AA5627C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44609|admin:localhost:44645|client:localhost:46447|dataStream:localhost:34585|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40031|admin:localhost:46435|client:localhost:35261|dataStream:localhost:41741|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36553|admin:localhost:33497|client:localhost:46633|dataStream:localhost:33349|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:50,897 [s0@group-C4E10AA5627C-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-C4E10AA5627C-LeaderElection10: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-10-13 02:47:50,897 [s0@group-C4E10AA5627C-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s2#0:OK-t0
2022-10-13 02:47:50,897 [s0@group-C4E10AA5627C-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-C4E10AA5627C-LeaderElection10 PRE_VOTE round 0: result PASSED
2022-10-13 02:47:50,899 [s0@group-C4E10AA5627C-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-C4E10AA5627C-LeaderElection10 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:44609|admin:localhost:44645|client:localhost:46447|dataStream:localhost:34585|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40031|admin:localhost:46435|client:localhost:35261|dataStream:localhost:41741|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36553|admin:localhost:33497|client:localhost:46633|dataStream:localhost:33349|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:50,900 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s1@group-C4E10AA5627C: receive requestVote(PRE_VOTE, s0, group-C4E10AA5627C, 0, (t:0, i:0))
2022-10-13 02:47:50,900 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-C4E10AA5627C-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-10-13 02:47:50,900 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1324)) - s1@group-C4E10AA5627C replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-C4E10AA5627C:t0, leader=null, voted=, raftlog=Memoized:s1@group-C4E10AA5627C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44609|admin:localhost:44645|client:localhost:46447|dataStream:localhost:34585|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40031|admin:localhost:46435|client:localhost:35261|dataStream:localhost:41741|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36553|admin:localhost:33497|client:localhost:46633|dataStream:localhost:33349|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:50,903 [s0@group-C4E10AA5627C-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-10-13 02:47:50,903 [s0@group-C4E10AA5627C-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-10-13 02:47:50,903 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s1@group-C4E10AA5627C: receive requestVote(ELECTION, s0, group-C4E10AA5627C, 1, (t:0, i:0))
2022-10-13 02:47:50,904 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-C4E10AA5627C-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-10-13 02:47:50,904 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-C4E10AA5627C: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-10-13 02:47:50,904 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s2@group-C4E10AA5627C: receive requestVote(ELECTION, s0, group-C4E10AA5627C, 1, (t:0, i:0))
2022-10-13 02:47:50,904 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-C4E10AA5627C-FollowerState
2022-10-13 02:47:50,905 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-C4E10AA5627C-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-10-13 02:47:50,905 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-C4E10AA5627C: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-10-13 02:47:50,905 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-C4E10AA5627C-FollowerState
2022-10-13 02:47:50,905 [s2@group-C4E10AA5627C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-C4E10AA5627C-FollowerState was interrupted
2022-10-13 02:47:50,906 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-C4E10AA5627C-FollowerState
2022-10-13 02:47:50,907 [s1@group-C4E10AA5627C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-C4E10AA5627C-FollowerState was interrupted
2022-10-13 02:47:50,907 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-C4E10AA5627C-FollowerState
2022-10-13 02:47:50,908 [s1@group-C4E10AA5627C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-10-13 02:47:50,908 [s1@group-C4E10AA5627C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-10-13 02:47:50,908 [s2@group-C4E10AA5627C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-10-13 02:47:50,908 [s2@group-C4E10AA5627C-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-10-13 02:47:50,909 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1324)) - s2@group-C4E10AA5627C replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-C4E10AA5627C:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-C4E10AA5627C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44609|admin:localhost:44645|client:localhost:46447|dataStream:localhost:34585|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40031|admin:localhost:46435|client:localhost:35261|dataStream:localhost:41741|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36553|admin:localhost:33497|client:localhost:46633|dataStream:localhost:33349|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:50,910 [s0@group-C4E10AA5627C-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-C4E10AA5627C-LeaderElection10: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-10-13 02:47:50,910 [s0@group-C4E10AA5627C-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s2#0:OK-t1
2022-10-13 02:47:50,910 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1324)) - s1@group-C4E10AA5627C replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-C4E10AA5627C:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-C4E10AA5627C-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44609|admin:localhost:44645|client:localhost:46447|dataStream:localhost:34585|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40031|admin:localhost:46435|client:localhost:35261|dataStream:localhost:41741|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36553|admin:localhost:33497|client:localhost:46633|dataStream:localhost:33349|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:50,910 [s0@group-C4E10AA5627C-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-C4E10AA5627C-LeaderElection10 ELECTION round 0: result PASSED
2022-10-13 02:47:50,910 [s0@group-C4E10AA5627C-LeaderElection10] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-C4E10AA5627C-LeaderElection10
2022-10-13 02:47:50,910 [s0@group-C4E10AA5627C-LeaderElection10] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-C4E10AA5627C: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-10-13 02:47:50,910 [s0@group-C4E10AA5627C-LeaderElection10] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-C4E10AA5627C: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 219ms
2022-10-13 02:47:50,910 [s0@group-C4E10AA5627C-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-10-13 02:47:50,910 [s0@group-C4E10AA5627C-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-10-13 02:47:50,910 [s0@group-C4E10AA5627C-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-10-13 02:47:50,910 [s0@group-C4E10AA5627C-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-10-13 02:47:50,910 [s0@group-C4E10AA5627C-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-10-13 02:47:50,910 [s0@group-C4E10AA5627C-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-10-13 02:47:50,911 [s0@group-C4E10AA5627C-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-10-13 02:47:50,911 [s0@group-C4E10AA5627C-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-10-13 02:47:50,911 [s0@group-C4E10AA5627C-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-10-13 02:47:50,911 [s0@group-C4E10AA5627C-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-10-13 02:47:50,911 [s0@group-C4E10AA5627C-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-10-13 02:47:50,911 [s0@group-C4E10AA5627C-LeaderElection10] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-10-13 02:47:50,911 [s0@group-C4E10AA5627C-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-10-13 02:47:50,911 [s0@group-C4E10AA5627C-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-10-13 02:47:50,911 [s0@group-C4E10AA5627C-LeaderElection10] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-10-13 02:47:50,911 [s0@group-C4E10AA5627C-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2022-10-13 02:47:50,912 [s0@group-C4E10AA5627C-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-10-13 02:47:50,912 [s0@group-C4E10AA5627C-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-10-13 02:47:50,912 [s0@group-C4E10AA5627C-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-10-13 02:47:50,912 [s0@group-C4E10AA5627C-LeaderElection10] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-10-13 02:47:50,912 [s0@group-C4E10AA5627C-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-10-13 02:47:50,912 [s0@group-C4E10AA5627C-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-10-13 02:47:50,912 [s0@group-C4E10AA5627C-LeaderElection10] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-10-13 02:47:50,912 [s0@group-C4E10AA5627C-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2022-10-13 02:47:50,912 [s0@group-C4E10AA5627C-LeaderElection10] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C4E10AA5627C-LeaderStateImpl
2022-10-13 02:47:50,912 [s0@group-C4E10AA5627C-LeaderElection10] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(427)) - s0@group-C4E10AA5627C-SegmentedRaftLogWorker: Starting segment from index:0
2022-10-13 02:47:50,928 [s0@group-C4E10AA5627C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(631)) - s0@group-C4E10AA5627C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcc299df49/s0/fb8b6d13-ebc0-4bde-bd92-c4e10aa5627c/current/log_inprogress_0
2022-10-13 02:47:50,935 [s0@group-C4E10AA5627C-LeaderElection10] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-C4E10AA5627C: set configuration 0: peers:[s0|rpc:localhost:44609|admin:localhost:44645|client:localhost:46447|dataStream:localhost:34585|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40031|admin:localhost:46435|client:localhost:35261|dataStream:localhost:41741|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36553|admin:localhost:33497|client:localhost:46633|dataStream:localhost:33349|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:50,935 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-C4E10AA5627C: change Leader from null to s0 at term 1 for appendEntries, leader elected after 238ms
2022-10-13 02:47:50,940 [s1-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-C4E10AA5627C: set configuration 0: peers:[s0|rpc:localhost:44609|admin:localhost:44645|client:localhost:46447|dataStream:localhost:34585|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40031|admin:localhost:46435|client:localhost:35261|dataStream:localhost:41741|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36553|admin:localhost:33497|client:localhost:46633|dataStream:localhost:33349|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:50,940 [s1-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(427)) - s1@group-C4E10AA5627C-SegmentedRaftLogWorker: Starting segment from index:0
2022-10-13 02:47:50,956 [s1@group-C4E10AA5627C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(631)) - s1@group-C4E10AA5627C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcc299df49/s1/fb8b6d13-ebc0-4bde-bd92-c4e10aa5627c/current/log_inprogress_0
2022-10-13 02:47:50,956 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-C4E10AA5627C: change Leader from null to s0 at term 1 for appendEntries, leader elected after 252ms
2022-10-13 02:47:50,963 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-C4E10AA5627C: set configuration 0: peers:[s0|rpc:localhost:44609|admin:localhost:44645|client:localhost:46447|dataStream:localhost:34585|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40031|admin:localhost:46435|client:localhost:35261|dataStream:localhost:41741|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36553|admin:localhost:33497|client:localhost:46633|dataStream:localhost:33349|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:50,963 [s2-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(427)) - s2@group-C4E10AA5627C-SegmentedRaftLogWorker: Starting segment from index:0
2022-10-13 02:47:50,976 [s2@group-C4E10AA5627C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(631)) - s2@group-C4E10AA5627C-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcc299df49/s2/fb8b6d13-ebc0-4bde-bd92-c4e10aa5627c/current/log_inprogress_0
2022-10-13 02:47:51,199 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-C4E10AA5627C:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-C4E10AA5627C-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:44609|admin:localhost:44645|client:localhost:46447|dataStream:localhost:34585|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40031|admin:localhost:46435|client:localhost:35261|dataStream:localhost:41741|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36553|admin:localhost:33497|client:localhost:46633|dataStream:localhost:33349|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C4E10AA5627C:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-C4E10AA5627C-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:44609|admin:localhost:44645|client:localhost:46447|dataStream:localhost:34585|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40031|admin:localhost:46435|client:localhost:35261|dataStream:localhost:41741|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36553|admin:localhost:33497|client:localhost:46633|dataStream:localhost:33349|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C4E10AA5627C:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-C4E10AA5627C-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:44609|admin:localhost:44645|client:localhost:46447|dataStream:localhost:34585|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40031|admin:localhost:46435|client:localhost:35261|dataStream:localhost:41741|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36553|admin:localhost:33497|client:localhost:46633|dataStream:localhost:33349|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-10-13 02:47:51,200 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:47:51,200 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:47:51,208 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-8BCEE8EE4499->s0: receive RaftClientReply:client-8BCEE8EE4499->s0@group-C4E10AA5627C, cid=30, SUCCESS, logIndex=0, commits[s0:c0, s1:c0, s2:c0]
2022-10-13 02:47:51,215 [s0@group-C4E10AA5627C-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 31@client-8BCEE8EE4499
2022-10-13 02:47:51,215 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-8BCEE8EE4499->s0: receive RaftClientReply:client-8BCEE8EE4499->s0@group-C4E10AA5627C, cid=31, SUCCESS, logIndex=1, commits[s0:c1, s1:c0, s2:c0]
2022-10-13 02:47:51,217 [s1@group-C4E10AA5627C-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 31@client-8BCEE8EE4499
2022-10-13 02:47:51,218 [s0-client-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:query(344)) - query testing
2022-10-13 02:47:51,220 [s2@group-C4E10AA5627C-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 31@client-8BCEE8EE4499
2022-10-13 02:47:51,221 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-8BCEE8EE4499->s0: receive RaftClientReply:client-8BCEE8EE4499->s0@group-C4E10AA5627C, cid=32, SUCCESS, logIndex=0, commits[s0:c2, s1:c1, s2:c0]
2022-10-13 02:47:55,226 [timer3] WARN  grpc.GrpcUtil (GrpcUtil.java:shutdownManagedChannel(216)) - Timed out gracefully shutting down connection: ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=378, target=localhost:46447}}. 
2022-10-13 02:47:55,329 [timer0] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:47:55,330 [timer0] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:47:55,337 [s0-client-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:query(344)) - query testing
2022-10-13 02:47:55,338 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-8BCEE8EE4499->s0: receive RaftClientReply:client-8BCEE8EE4499->s0@group-C4E10AA5627C, cid=33, SUCCESS, logIndex=0, commits[s0:c2, s1:c2, s2:c2]
2022-10-13 02:47:55,340 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:47:55,340 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:47:55,347 [null-request--thread1] INFO  server.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(284)) - Failed RaftClientRequest:client-8BCEE8EE4499->s1@group-C4E10AA5627C, cid=34, seq=0, Watch-ALL(0), Message:<EMPTY>, reply=RaftClientReply:client-8BCEE8EE4499->s1@group-C4E10AA5627C, cid=34, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s1@group-C4E10AA5627C is not the leader s0|rpc:localhost:44609|admin:localhost:44645|client:localhost:46447|dataStream:localhost:34585|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s1:c2, s0:c2, s2:c2]
2022-10-13 02:47:55,348 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-8BCEE8EE4499->s1: receive RaftClientReply:client-8BCEE8EE4499->s1@group-C4E10AA5627C, cid=34, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s1@group-C4E10AA5627C is not the leader s0|rpc:localhost:44609|admin:localhost:44645|client:localhost:46447|dataStream:localhost:34585|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s1:c2, s0:c2, s2:c2]
2022-10-13 02:47:55,354 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-8BCEE8EE4499->s0: receive RaftClientReply:client-8BCEE8EE4499->s0@group-C4E10AA5627C, cid=34, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-10-13 02:47:55,356 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-8BCEE8EE4499->s0: receive RaftClientReply:client-8BCEE8EE4499->s0@group-C4E10AA5627C, cid=35, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-10-13 02:47:55,360 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-10-13 02:47:55,361 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-10-13 02:47:55,361 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2022-10-13 02:47:55,361 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-10-13 02:47:55,361 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-10-13 02:47:55,361 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-C4E10AA5627C:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-C4E10AA5627C-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:44609|admin:localhost:44645|client:localhost:46447|dataStream:localhost:34585|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40031|admin:localhost:46435|client:localhost:35261|dataStream:localhost:41741|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36553|admin:localhost:33497|client:localhost:46633|dataStream:localhost:33349|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C4E10AA5627C:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-C4E10AA5627C-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:44609|admin:localhost:44645|client:localhost:46447|dataStream:localhost:34585|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40031|admin:localhost:46435|client:localhost:35261|dataStream:localhost:41741|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36553|admin:localhost:33497|client:localhost:46633|dataStream:localhost:33349|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C4E10AA5627C:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-C4E10AA5627C-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:44609|admin:localhost:44645|client:localhost:46447|dataStream:localhost:34585|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40031|admin:localhost:46435|client:localhost:35261|dataStream:localhost:41741|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36553|admin:localhost:33497|client:localhost:46633|dataStream:localhost:33349|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-10-13 02:47:55,361 [MiniRaftCluster-12] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2022-10-13 02:47:55,363 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-C4E10AA5627C: shutdown
2022-10-13 02:47:55,363 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C4E10AA5627C,id=s0
2022-10-13 02:47:55,363 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-C4E10AA5627C-LeaderStateImpl
2022-10-13 02:47:55,364 [s0@group-C4E10AA5627C->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s0@group-C4E10AA5627C->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-10-13 02:47:55,364 [MiniRaftCluster-12] INFO  server.GrpcService (GrpcService.java:closeImpl(319)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-10-13 02:47:55,364 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-C4E10AA5627C-PendingRequests: sendNotLeaderResponses
2022-10-13 02:47:55,364 [s0@group-C4E10AA5627C->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s0@group-C4E10AA5627C->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-10-13 02:47:55,364 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#17-t1,previous=(t:1, i:1),leaderCommit=1,initializing? true,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2022-10-13 02:47:55,365 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s1: Completed APPEND_ENTRIES, lastRequest: null
2022-10-13 02:47:55,365 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s2: Completed APPEND_ENTRIES, lastRequest: null
2022-10-13 02:47:55,365 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s2: Completed APPEND_ENTRIES, lastRequest: s0->s2#8-t1,previous=(t:1, i:1),leaderCommit=1,initializing? true,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2022-10-13 02:47:55,366 [MiniRaftCluster-14] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s2: close
2022-10-13 02:47:55,366 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s0@group-C4E10AA5627C->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-10-13 02:47:55,366 [grpc-default-executor-3] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s0@group-C4E10AA5627C->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-10-13 02:47:55,366 [grpc-default-executor-5] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-C4E10AA5627C->s2: nextIndex: updateUnconditionally 3 -> 2
2022-10-13 02:47:55,366 [grpc-default-executor-3] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-C4E10AA5627C->s1: nextIndex: updateUnconditionally 3 -> 2
2022-10-13 02:47:55,368 [grpc-default-executor-3] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s0@group-C4E10AA5627C->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-10-13 02:47:55,368 [grpc-default-executor-3] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-C4E10AA5627C->s2: nextIndex: updateUnconditionally 2 -> 1
2022-10-13 02:47:55,370 [ForkJoinPool.commonPool-worker-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(111)) - s1 Close channels
2022-10-13 02:47:55,370 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s2@group-C4E10AA5627C: shutdown
2022-10-13 02:47:55,371 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C4E10AA5627C,id=s2
2022-10-13 02:47:55,371 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-C4E10AA5627C-FollowerState
2022-10-13 02:47:55,371 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-C4E10AA5627C-StateMachineUpdater: set stopIndex = 2
2022-10-13 02:47:55,371 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s2@group-C4E10AA5627C: applyIndex: 2
2022-10-13 02:47:55,371 [s2@group-C4E10AA5627C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-C4E10AA5627C-FollowerState was interrupted
2022-10-13 02:47:55,371 [MiniRaftCluster-14] INFO  server.GrpcService (GrpcService.java:closeImpl(319)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-10-13 02:47:55,370 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s0@group-C4E10AA5627C->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-10-13 02:47:55,371 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(136)) - s0@group-C4E10AA5627C->s1-GrpcLogAppender: Failed to getClient for s1
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s0 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:61)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:115)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:115)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:120)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$500(GrpcLogAppender.java:57)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:414)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:485)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:468)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:432)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:465)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-10-13 02:47:55,371 [s2@group-C4E10AA5627C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(329)) - s2@group-C4E10AA5627C-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-10-13 02:47:55,374 [MiniRaftCluster-13] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s1: close
2022-10-13 02:47:55,374 [MiniRaftCluster-14] INFO  server.GrpcService (GrpcService.java:closeImpl(328)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-10-13 02:47:55,374 [MiniRaftCluster-14] INFO  server.GrpcService (GrpcService.java:closeImpl(319)) - s2: shutdown server GrpcServerProtocolService now
2022-10-13 02:47:55,375 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s2@group-C4E10AA5627C-SegmentedRaftLogWorker close()
2022-10-13 02:47:55,375 [MiniRaftCluster-13] INFO  server.GrpcService (GrpcService.java:closeImpl(319)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-10-13 02:47:55,375 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s1@group-C4E10AA5627C: shutdown
2022-10-13 02:47:55,376 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C4E10AA5627C,id=s1
2022-10-13 02:47:55,376 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-C4E10AA5627C-FollowerState
2022-10-13 02:47:55,376 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-C4E10AA5627C-StateMachineUpdater: set stopIndex = 2
2022-10-13 02:47:55,376 [s1@group-C4E10AA5627C-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-C4E10AA5627C-FollowerState was interrupted
2022-10-13 02:47:55,376 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s1@group-C4E10AA5627C: applyIndex: 2
2022-10-13 02:47:55,376 [s1@group-C4E10AA5627C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(329)) - s1@group-C4E10AA5627C-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-10-13 02:47:55,382 [MiniRaftCluster-13] INFO  server.GrpcService (GrpcService.java:closeImpl(328)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-10-13 02:47:55,383 [MiniRaftCluster-13] INFO  server.GrpcService (GrpcService.java:closeImpl(319)) - s1: shutdown server GrpcServerProtocolService now
2022-10-13 02:47:55,383 [ForkJoinPool.commonPool-worker-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(111)) - s2 Close channels
2022-10-13 02:47:55,383 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-C4E10AA5627C-StateMachineUpdater: set stopIndex = 2
2022-10-13 02:47:55,384 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s1@group-C4E10AA5627C-SegmentedRaftLogWorker close()
2022-10-13 02:47:55,384 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s0@group-C4E10AA5627C: applyIndex: 2
2022-10-13 02:47:55,384 [s0@group-C4E10AA5627C-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(329)) - s0@group-C4E10AA5627C-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-10-13 02:47:55,385 [MiniRaftCluster-14] INFO  server.GrpcService (GrpcService.java:closeImpl(328)) - s2: shutdown server GrpcServerProtocolService successfully
2022-10-13 02:47:55,386 [MiniRaftCluster-14] INFO  server.GrpcService (GrpcService.java:closeImpl(319)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-10-13 02:47:55,386 [MiniRaftCluster-13] INFO  server.GrpcService (GrpcService.java:closeImpl(328)) - s1: shutdown server GrpcServerProtocolService successfully
2022-10-13 02:47:55,386 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s0@group-C4E10AA5627C-SegmentedRaftLogWorker close()
2022-10-13 02:47:55,386 [MiniRaftCluster-12] INFO  server.GrpcService (GrpcService.java:closeImpl(328)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-10-13 02:47:55,386 [MiniRaftCluster-12] INFO  server.GrpcService (GrpcService.java:closeImpl(319)) - s0: shutdown server GrpcServerProtocolService now
2022-10-13 02:47:55,387 [MiniRaftCluster-13] INFO  server.GrpcService (GrpcService.java:closeImpl(319)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-10-13 02:47:55,387 [MiniRaftCluster-13] INFO  server.GrpcService (GrpcService.java:closeImpl(328)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-10-13 02:47:55,388 [MiniRaftCluster-12] INFO  server.GrpcService (GrpcService.java:closeImpl(328)) - s0: shutdown server GrpcServerProtocolService successfully
2022-10-13 02:47:55,388 [MiniRaftCluster-12] INFO  server.GrpcService (GrpcService.java:closeImpl(319)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-10-13 02:47:55,388 [MiniRaftCluster-12] INFO  server.GrpcService (GrpcService.java:closeImpl(328)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-10-13 02:47:55,388 [JvmPauseMonitor11] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2022-10-13 02:47:55,389 [JvmPauseMonitor12] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2022-10-13 02:47:55,389 [MiniRaftCluster-14] INFO  server.GrpcService (GrpcService.java:closeImpl(328)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-10-13 02:47:55,390 [JvmPauseMonitor13] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s2: Stopped
2022-10-13 02:47:55,390 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2022-10-13 02:47:55,390 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-10-13 02:47:55,391 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-10-13 02:47:55,391 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to ALL
2022-10-13 02:47:55,391 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2022-10-13 02:47:55,392 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-02A457E6AA38:[s0|rpc:localhost:45241|admin:localhost:37647|client:localhost:36091|dataStream:localhost:46199|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:33831|client:localhost:42845|dataStream:localhost:34793|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40149|admin:localhost:35059|client:localhost:37715|dataStream:localhost:42737|priority:0|startupRole:FOLLOWER]
2022-10-13 02:47:55,392 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2022-10-13 02:47:55,392 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-10-13 02:47:55,392 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2022-10-13 02:47:55,392 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2022-10-13 02:47:55,392 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2022-10-13 02:47:55,392 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2022-10-13 02:47:55,392 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-02A457E6AA38:[s0|rpc:localhost:45241|admin:localhost:37647|client:localhost:36091|dataStream:localhost:46199|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:33831|client:localhost:42845|dataStream:localhost:34793|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40149|admin:localhost:35059|client:localhost:37715|dataStream:localhost:42737|priority:0|startupRole:FOLLOWER], format? true
2022-10-13 02:47:55,392 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/bc10d1de/MiniRaftClusterWithGrpcd30523f6/s0
2022-10-13 02:47:55,392 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/bc10d1de/MiniRaftClusterWithGrpcd30523f6/s0 does not exist.
2022-10-13 02:47:55,392 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/bc10d1de/MiniRaftClusterWithGrpcd30523f6/s0
2022-10-13 02:47:55,393 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-10-13 02:47:55,393 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-10-13 02:47:55,393 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 37647 (custom)
2022-10-13 02:47:55,393 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-10-13 02:47:55,393 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 36091 (custom)
2022-10-13 02:47:55,393 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-10-13 02:47:55,393 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 45241 (custom)
2022-10-13 02:47:55,393 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:47:55,393 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-10-13 02:47:55,393 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:47:55,393 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-10-13 02:47:55,393 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-10-13 02:47:55,394 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-10-13 02:47:55,394 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-10-13 02:47:55,395 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-10-13 02:47:55,395 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-10-13 02:47:55,395 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-10-13 02:47:55,395 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-10-13 02:47:55,395 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-10-13 02:47:55,395 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd30523f6/s0] (custom)
2022-10-13 02:47:55,396 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-02A457E6AA38:[s0|rpc:localhost:45241|admin:localhost:37647|client:localhost:36091|dataStream:localhost:46199|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:33831|client:localhost:42845|dataStream:localhost:34793|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40149|admin:localhost:35059|client:localhost:37715|dataStream:localhost:42737|priority:0|startupRole:FOLLOWER] returns group-02A457E6AA38:java.util.concurrent.CompletableFuture@37fd6e17[Not completed]
2022-10-13 02:47:55,396 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-02A457E6AA38:[s0|rpc:localhost:45241|admin:localhost:37647|client:localhost:36091|dataStream:localhost:46199|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:33831|client:localhost:42845|dataStream:localhost:34793|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40149|admin:localhost:35059|client:localhost:37715|dataStream:localhost:42737|priority:0|startupRole:FOLLOWER], format? true
2022-10-13 02:47:55,396 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/bc10d1de/MiniRaftClusterWithGrpcd30523f6/s1
2022-10-13 02:47:55,396 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/bc10d1de/MiniRaftClusterWithGrpcd30523f6/s1 does not exist.
2022-10-13 02:47:55,396 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/bc10d1de/MiniRaftClusterWithGrpcd30523f6/s1
2022-10-13 02:47:55,397 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-10-13 02:47:55,397 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-10-13 02:47:55,397 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 33831 (custom)
2022-10-13 02:47:55,397 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-10-13 02:47:55,397 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 42845 (custom)
2022-10-13 02:47:55,397 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-10-13 02:47:55,397 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 43185 (custom)
2022-10-13 02:47:55,397 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:47:55,397 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-10-13 02:47:55,397 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:47:55,397 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-10-13 02:47:55,397 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-10-13 02:47:55,397 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-10-13 02:47:55,397 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-10-13 02:47:55,398 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-10-13 02:47:55,398 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-10-13 02:47:55,398 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-10-13 02:47:55,399 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-10-13 02:47:55,399 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-10-13 02:47:55,399 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd30523f6/s1] (custom)
2022-10-13 02:47:55,400 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-10-13 02:47:55,400 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-10-13 02:47:55,401 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-10-13 02:47:55,401 [pool-20-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-02A457E6AA38:[s0|rpc:localhost:45241|admin:localhost:37647|client:localhost:36091|dataStream:localhost:46199|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:33831|client:localhost:42845|dataStream:localhost:34793|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40149|admin:localhost:35059|client:localhost:37715|dataStream:localhost:42737|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-10-13 02:47:55,401 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-10-13 02:47:55,401 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-10-13 02:47:55,401 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-10-13 02:47:55,401 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-10-13 02:47:55,401 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-10-13 02:47:55,401 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-10-13 02:47:55,401 [pool-20-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-02A457E6AA38: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:45241|admin:localhost:37647|client:localhost:36091|dataStream:localhost:46199|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:33831|client:localhost:42845|dataStream:localhost:34793|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40149|admin:localhost:35059|client:localhost:37715|dataStream:localhost:42737|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-10-13 02:47:55,401 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-10-13 02:47:55,401 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-10-13 02:47:55,401 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-10-13 02:47:55,401 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-10-13 02:47:55,402 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-10-13 02:47:55,403 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-10-13 02:47:55,403 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-10-13 02:47:55,403 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-10-13 02:47:55,403 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-10-13 02:47:55,403 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-10-13 02:47:55,404 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-02A457E6AA38:[s0|rpc:localhost:45241|admin:localhost:37647|client:localhost:36091|dataStream:localhost:46199|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:33831|client:localhost:42845|dataStream:localhost:34793|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40149|admin:localhost:35059|client:localhost:37715|dataStream:localhost:42737|priority:0|startupRole:FOLLOWER] returns group-02A457E6AA38:java.util.concurrent.CompletableFuture@43478482[Not completed]
2022-10-13 02:47:55,404 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-02A457E6AA38:[s0|rpc:localhost:45241|admin:localhost:37647|client:localhost:36091|dataStream:localhost:46199|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:33831|client:localhost:42845|dataStream:localhost:34793|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40149|admin:localhost:35059|client:localhost:37715|dataStream:localhost:42737|priority:0|startupRole:FOLLOWER], format? true
2022-10-13 02:47:55,404 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/bc10d1de/MiniRaftClusterWithGrpcd30523f6/s2
2022-10-13 02:47:55,404 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/bc10d1de/MiniRaftClusterWithGrpcd30523f6/s2 does not exist.
2022-10-13 02:47:55,404 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/bc10d1de/MiniRaftClusterWithGrpcd30523f6/s2
2022-10-13 02:47:55,404 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-10-13 02:47:55,404 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-10-13 02:47:55,404 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 35059 (custom)
2022-10-13 02:47:55,405 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-10-13 02:47:55,405 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 37715 (custom)
2022-10-13 02:47:55,405 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-10-13 02:47:55,405 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 40149 (custom)
2022-10-13 02:47:55,405 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:47:55,405 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-10-13 02:47:55,405 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:47:55,405 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-10-13 02:47:55,405 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-10-13 02:47:55,405 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-10-13 02:47:55,405 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-10-13 02:47:55,406 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-10-13 02:47:55,406 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-10-13 02:47:55,406 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-10-13 02:47:55,406 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-10-13 02:47:55,406 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-10-13 02:47:55,406 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd30523f6/s2] (custom)
2022-10-13 02:47:55,407 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-10-13 02:47:55,407 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-10-13 02:47:55,407 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-10-13 02:47:55,407 [pool-21-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-02A457E6AA38:[s0|rpc:localhost:45241|admin:localhost:37647|client:localhost:36091|dataStream:localhost:46199|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:33831|client:localhost:42845|dataStream:localhost:34793|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40149|admin:localhost:35059|client:localhost:37715|dataStream:localhost:42737|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-10-13 02:47:55,407 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-10-13 02:47:55,407 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-10-13 02:47:55,407 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-10-13 02:47:55,407 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-10-13 02:47:55,407 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-10-13 02:47:55,407 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-10-13 02:47:55,409 [pool-21-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-02A457E6AA38: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:45241|admin:localhost:37647|client:localhost:36091|dataStream:localhost:46199|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:33831|client:localhost:42845|dataStream:localhost:34793|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40149|admin:localhost:35059|client:localhost:37715|dataStream:localhost:42737|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-10-13 02:47:55,409 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-10-13 02:47:55,409 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-10-13 02:47:55,410 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-10-13 02:47:55,410 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-10-13 02:47:55,410 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-10-13 02:47:55,411 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-10-13 02:47:55,412 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-10-13 02:47:55,412 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-10-13 02:47:55,412 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-10-13 02:47:55,412 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-10-13 02:47:55,412 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-02A457E6AA38:[s0|rpc:localhost:45241|admin:localhost:37647|client:localhost:36091|dataStream:localhost:46199|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:33831|client:localhost:42845|dataStream:localhost:34793|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40149|admin:localhost:35059|client:localhost:37715|dataStream:localhost:42737|priority:0|startupRole:FOLLOWER] returns group-02A457E6AA38:java.util.concurrent.CompletableFuture@5208a0a3[Not completed]
2022-10-13 02:47:55,412 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-10-13 02:47:55,412 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-10-13 02:47:55,413 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-10-13 02:47:55,413 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd30523f6/s0] (custom)
2022-10-13 02:47:55,413 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd30523f6/s0/1b649bfd-525d-46fe-a4ef-02a457e6aa38 does not exist. Creating ...
2022-10-13 02:47:55,413 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd30523f6/s0/1b649bfd-525d-46fe-a4ef-02a457e6aa38
2022-10-13 02:47:55,414 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-10-13 02:47:55,414 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-10-13 02:47:55,414 [pool-22-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-02A457E6AA38:[s0|rpc:localhost:45241|admin:localhost:37647|client:localhost:36091|dataStream:localhost:46199|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:33831|client:localhost:42845|dataStream:localhost:34793|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40149|admin:localhost:35059|client:localhost:37715|dataStream:localhost:42737|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-10-13 02:47:55,414 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-10-13 02:47:55,414 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-10-13 02:47:55,414 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-10-13 02:47:55,414 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-10-13 02:47:55,414 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-10-13 02:47:55,414 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-10-13 02:47:55,414 [pool-22-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-02A457E6AA38: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:45241|admin:localhost:37647|client:localhost:36091|dataStream:localhost:46199|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:33831|client:localhost:42845|dataStream:localhost:34793|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40149|admin:localhost:35059|client:localhost:37715|dataStream:localhost:42737|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-10-13 02:47:55,414 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-10-13 02:47:55,414 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-10-13 02:47:55,414 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-10-13 02:47:55,414 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-10-13 02:47:55,415 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd30523f6/s0/1b649bfd-525d-46fe-a4ef-02a457e6aa38/in_use.lock acquired by nodename 60246@fv-az318-428
2022-10-13 02:47:55,415 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd30523f6/s0/1b649bfd-525d-46fe-a4ef-02a457e6aa38/current
2022-10-13 02:47:55,415 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd30523f6/s0/1b649bfd-525d-46fe-a4ef-02a457e6aa38/sm
2022-10-13 02:47:55,415 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-10-13 02:47:55,416 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd30523f6/s0/1b649bfd-525d-46fe-a4ef-02a457e6aa38 has been successfully formatted.
2022-10-13 02:47:55,416 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-10-13 02:47:55,417 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-10-13 02:47:55,417 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-10-13 02:47:55,417 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-10-13 02:47:55,417 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-10-13 02:47:55,417 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-10-13 02:47:55,417 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-10-13 02:47:55,418 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-10-13 02:47:55,418 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-10-13 02:47:55,418 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-10-13 02:47:55,418 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s0@group-02A457E6AA38-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd30523f6/s0/1b649bfd-525d-46fe-a4ef-02a457e6aa38
2022-10-13 02:47:55,418 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-10-13 02:47:55,418 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-10-13 02:47:55,418 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-10-13 02:47:55,418 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-10-13 02:47:55,418 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-10-13 02:47:55,418 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-10-13 02:47:55,418 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-10-13 02:47:55,418 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-10-13 02:47:55,418 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-10-13 02:47:55,418 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-10-13 02:47:55,418 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-10-13 02:47:55,418 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-10-13 02:47:55,419 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-02A457E6AA38-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-10-13 02:47:55,419 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-02A457E6AA38-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-10-13 02:47:55,419 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-10-13 02:47:55,419 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-10-13 02:47:55,419 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-10-13 02:47:55,419 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-10-13 02:47:55,419 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-10-13 02:47:55,424 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-02A457E6AA38: start as a follower, conf=-1: peers:[s0|rpc:localhost:45241|admin:localhost:37647|client:localhost:36091|dataStream:localhost:46199|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:33831|client:localhost:42845|dataStream:localhost:34793|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40149|admin:localhost:35059|client:localhost:37715|dataStream:localhost:42737|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:55,424 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-02A457E6AA38: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-10-13 02:47:55,424 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-02A457E6AA38-FollowerState
2022-10-13 02:47:55,424 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-02A457E6AA38,id=s0
2022-10-13 02:47:55,424 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-10-13 02:47:55,425 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-10-13 02:47:55,425 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-10-13 02:47:55,425 [s0@group-02A457E6AA38-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-10-13 02:47:55,425 [s0@group-02A457E6AA38-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-10-13 02:47:55,428 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2022-10-13 02:47:55,429 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(310)) - s0: GrpcService started, listening on 36091
2022-10-13 02:47:55,429 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(310)) - s0: GrpcService started, listening on 45241
2022-10-13 02:47:55,430 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(310)) - s0: GrpcService started, listening on 37647
2022-10-13 02:47:55,430 [JvmPauseMonitor14] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2022-10-13 02:47:55,430 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-10-13 02:47:55,431 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-10-13 02:47:55,431 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd30523f6/s1] (custom)
2022-10-13 02:47:55,431 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd30523f6/s1/1b649bfd-525d-46fe-a4ef-02a457e6aa38 does not exist. Creating ...
2022-10-13 02:47:55,431 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd30523f6/s1/1b649bfd-525d-46fe-a4ef-02a457e6aa38
2022-10-13 02:47:55,433 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd30523f6/s1/1b649bfd-525d-46fe-a4ef-02a457e6aa38/in_use.lock acquired by nodename 60246@fv-az318-428
2022-10-13 02:47:55,433 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd30523f6/s1/1b649bfd-525d-46fe-a4ef-02a457e6aa38/current
2022-10-13 02:47:55,433 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd30523f6/s1/1b649bfd-525d-46fe-a4ef-02a457e6aa38/sm
2022-10-13 02:47:55,435 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd30523f6/s1/1b649bfd-525d-46fe-a4ef-02a457e6aa38 has been successfully formatted.
2022-10-13 02:47:55,435 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-10-13 02:47:55,435 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-10-13 02:47:55,435 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-10-13 02:47:55,435 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-10-13 02:47:55,435 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-10-13 02:47:55,435 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-10-13 02:47:55,435 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-10-13 02:47:55,436 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-10-13 02:47:55,436 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-10-13 02:47:55,436 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-10-13 02:47:55,436 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s1@group-02A457E6AA38-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd30523f6/s1/1b649bfd-525d-46fe-a4ef-02a457e6aa38
2022-10-13 02:47:55,436 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-10-13 02:47:55,436 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-10-13 02:47:55,437 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-10-13 02:47:55,437 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-10-13 02:47:55,437 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-10-13 02:47:55,437 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-10-13 02:47:55,437 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-10-13 02:47:55,437 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-10-13 02:47:55,437 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-10-13 02:47:55,437 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-10-13 02:47:55,437 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-10-13 02:47:55,437 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-10-13 02:47:55,437 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-02A457E6AA38-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-10-13 02:47:55,437 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-02A457E6AA38-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-10-13 02:47:55,438 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s1@group-02A457E6AA38: start as a follower, conf=-1: peers:[s0|rpc:localhost:45241|admin:localhost:37647|client:localhost:36091|dataStream:localhost:46199|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:33831|client:localhost:42845|dataStream:localhost:34793|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40149|admin:localhost:35059|client:localhost:37715|dataStream:localhost:42737|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:55,438 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-02A457E6AA38: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-10-13 02:47:55,438 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-02A457E6AA38-FollowerState
2022-10-13 02:47:55,438 [s1@group-02A457E6AA38-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-10-13 02:47:55,438 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-02A457E6AA38,id=s1
2022-10-13 02:47:55,438 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-10-13 02:47:55,438 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-10-13 02:47:55,438 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-10-13 02:47:55,438 [s1@group-02A457E6AA38-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-10-13 02:47:55,442 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s1: start RPC server
2022-10-13 02:47:55,443 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(310)) - s1: GrpcService started, listening on 42845
2022-10-13 02:47:55,443 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(310)) - s1: GrpcService started, listening on 43185
2022-10-13 02:47:55,443 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(310)) - s1: GrpcService started, listening on 33831
2022-10-13 02:47:55,446 [JvmPauseMonitor15] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2022-10-13 02:47:55,446 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-10-13 02:47:55,446 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-10-13 02:47:55,447 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd30523f6/s2] (custom)
2022-10-13 02:47:55,447 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd30523f6/s2/1b649bfd-525d-46fe-a4ef-02a457e6aa38 does not exist. Creating ...
2022-10-13 02:47:55,447 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd30523f6/s2/1b649bfd-525d-46fe-a4ef-02a457e6aa38
2022-10-13 02:47:55,448 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd30523f6/s2/1b649bfd-525d-46fe-a4ef-02a457e6aa38/in_use.lock acquired by nodename 60246@fv-az318-428
2022-10-13 02:47:55,448 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd30523f6/s2/1b649bfd-525d-46fe-a4ef-02a457e6aa38/current
2022-10-13 02:47:55,448 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd30523f6/s2/1b649bfd-525d-46fe-a4ef-02a457e6aa38/sm
2022-10-13 02:47:55,450 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd30523f6/s2/1b649bfd-525d-46fe-a4ef-02a457e6aa38 has been successfully formatted.
2022-10-13 02:47:55,450 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-10-13 02:47:55,450 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-10-13 02:47:55,450 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-10-13 02:47:55,450 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-10-13 02:47:55,450 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-10-13 02:47:55,450 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-10-13 02:47:55,450 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-10-13 02:47:55,451 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-10-13 02:47:55,451 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-10-13 02:47:55,451 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-10-13 02:47:55,451 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s2@group-02A457E6AA38-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd30523f6/s2/1b649bfd-525d-46fe-a4ef-02a457e6aa38
2022-10-13 02:47:55,451 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-10-13 02:47:55,451 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-10-13 02:47:55,451 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-10-13 02:47:55,451 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-10-13 02:47:55,451 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-10-13 02:47:55,451 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-10-13 02:47:55,451 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-10-13 02:47:55,451 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-10-13 02:47:55,452 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-10-13 02:47:55,452 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-10-13 02:47:55,452 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-10-13 02:47:55,452 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-10-13 02:47:55,452 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-02A457E6AA38-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-10-13 02:47:55,452 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-02A457E6AA38-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-10-13 02:47:55,456 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s2@group-02A457E6AA38: start as a follower, conf=-1: peers:[s0|rpc:localhost:45241|admin:localhost:37647|client:localhost:36091|dataStream:localhost:46199|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:33831|client:localhost:42845|dataStream:localhost:34793|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40149|admin:localhost:35059|client:localhost:37715|dataStream:localhost:42737|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:55,457 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-02A457E6AA38: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-10-13 02:47:55,457 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-02A457E6AA38-FollowerState
2022-10-13 02:47:55,458 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-02A457E6AA38,id=s2
2022-10-13 02:47:55,458 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-10-13 02:47:55,458 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-10-13 02:47:55,458 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-10-13 02:47:55,459 [s2@group-02A457E6AA38-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-10-13 02:47:55,459 [s2@group-02A457E6AA38-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-10-13 02:47:55,462 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s2: start RPC server
2022-10-13 02:47:55,463 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(310)) - s2: GrpcService started, listening on 37715
2022-10-13 02:47:55,464 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(310)) - s2: GrpcService started, listening on 40149
2022-10-13 02:47:55,465 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(310)) - s2: GrpcService started, listening on 35059
2022-10-13 02:47:55,465 [JvmPauseMonitor16] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2022-10-13 02:47:55,466 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:47:55,466 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:47:55,477 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-A06489C86C5A->s0: receive RaftClientReply:client-A06489C86C5A->s0@group-02A457E6AA38, cid=36, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-02A457E6AA38 is not the leader, logIndex=0, commits[s0:c-1]
2022-10-13 02:47:55,580 [timer3] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:47:55,580 [timer3] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:47:55,592 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-A06489C86C5A->s1: receive RaftClientReply:client-A06489C86C5A->s1@group-02A457E6AA38, cid=36, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s1@group-02A457E6AA38 is not the leader, logIndex=0, commits[s1:c-1]
2022-10-13 02:47:55,613 [s0@group-02A457E6AA38-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-02A457E6AA38-FollowerState: change to CANDIDATE, lastRpcElapsedTime:189240781ns, electionTimeout:188ms
2022-10-13 02:47:55,613 [s0@group-02A457E6AA38-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-02A457E6AA38-FollowerState
2022-10-13 02:47:55,613 [s0@group-02A457E6AA38-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-02A457E6AA38: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-10-13 02:47:55,614 [s0@group-02A457E6AA38-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-10-13 02:47:55,614 [s0@group-02A457E6AA38-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-02A457E6AA38-LeaderElection11
2022-10-13 02:47:55,618 [s0@group-02A457E6AA38-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-02A457E6AA38-LeaderElection11 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:45241|admin:localhost:37647|client:localhost:36091|dataStream:localhost:46199|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:33831|client:localhost:42845|dataStream:localhost:34793|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40149|admin:localhost:35059|client:localhost:37715|dataStream:localhost:42737|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:55,619 [s0@group-02A457E6AA38-LeaderElection11-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2022-10-13 02:47:55,627 [s0@group-02A457E6AA38-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-10-13 02:47:55,627 [s0@group-02A457E6AA38-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-10-13 02:47:55,627 [s0@group-02A457E6AA38-LeaderElection11-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2022-10-13 02:47:55,631 [s1@group-02A457E6AA38-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-02A457E6AA38-FollowerState: change to CANDIDATE, lastRpcElapsedTime:193537539ns, electionTimeout:189ms
2022-10-13 02:47:55,631 [s1@group-02A457E6AA38-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-02A457E6AA38-FollowerState
2022-10-13 02:47:55,631 [s1@group-02A457E6AA38-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-02A457E6AA38: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-10-13 02:47:55,632 [s1@group-02A457E6AA38-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-10-13 02:47:55,632 [s1@group-02A457E6AA38-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-02A457E6AA38-LeaderElection12
2022-10-13 02:47:55,635 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s2@group-02A457E6AA38: receive requestVote(PRE_VOTE, s0, group-02A457E6AA38, 0, (t:0, i:0))
2022-10-13 02:47:55,635 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-02A457E6AA38-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-10-13 02:47:55,635 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1324)) - s2@group-02A457E6AA38 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-02A457E6AA38:t0, leader=null, voted=, raftlog=Memoized:s2@group-02A457E6AA38-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45241|admin:localhost:37647|client:localhost:36091|dataStream:localhost:46199|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:33831|client:localhost:42845|dataStream:localhost:34793|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40149|admin:localhost:35059|client:localhost:37715|dataStream:localhost:42737|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:55,636 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s1@group-02A457E6AA38: receive requestVote(PRE_VOTE, s0, group-02A457E6AA38, 0, (t:0, i:0))
2022-10-13 02:47:55,636 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-02A457E6AA38-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-10-13 02:47:55,637 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1324)) - s1@group-02A457E6AA38 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-02A457E6AA38:t0, leader=null, voted=, raftlog=Memoized:s1@group-02A457E6AA38-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45241|admin:localhost:37647|client:localhost:36091|dataStream:localhost:46199|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:33831|client:localhost:42845|dataStream:localhost:34793|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40149|admin:localhost:35059|client:localhost:37715|dataStream:localhost:42737|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:55,638 [s0@group-02A457E6AA38-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-02A457E6AA38-LeaderElection11: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-10-13 02:47:55,638 [s0@group-02A457E6AA38-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s2#0:OK-t0
2022-10-13 02:47:55,638 [s0@group-02A457E6AA38-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-02A457E6AA38-LeaderElection11 PRE_VOTE round 0: result PASSED
2022-10-13 02:47:55,639 [s1@group-02A457E6AA38-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-02A457E6AA38-LeaderElection12 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:45241|admin:localhost:37647|client:localhost:36091|dataStream:localhost:46199|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:33831|client:localhost:42845|dataStream:localhost:34793|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40149|admin:localhost:35059|client:localhost:37715|dataStream:localhost:42737|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:55,640 [s1@group-02A457E6AA38-LeaderElection12-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2022-10-13 02:47:55,640 [s0@group-02A457E6AA38-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-02A457E6AA38-LeaderElection11 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:45241|admin:localhost:37647|client:localhost:36091|dataStream:localhost:46199|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:33831|client:localhost:42845|dataStream:localhost:34793|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40149|admin:localhost:35059|client:localhost:37715|dataStream:localhost:42737|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:55,648 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s0@group-02A457E6AA38: receive requestVote(PRE_VOTE, s1, group-02A457E6AA38, 0, (t:0, i:0))
2022-10-13 02:47:55,648 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-02A457E6AA38-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-10-13 02:47:55,648 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1324)) - s0@group-02A457E6AA38 replies to PRE_VOTE vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-02A457E6AA38:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-02A457E6AA38-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45241|admin:localhost:37647|client:localhost:36091|dataStream:localhost:46199|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:33831|client:localhost:42845|dataStream:localhost:34793|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40149|admin:localhost:35059|client:localhost:37715|dataStream:localhost:42737|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:55,648 [s1@group-02A457E6AA38-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-10-13 02:47:55,648 [s1@group-02A457E6AA38-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-10-13 02:47:55,648 [s1@group-02A457E6AA38-LeaderElection12-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2022-10-13 02:47:55,654 [s1@group-02A457E6AA38-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-02A457E6AA38-LeaderElection12: PRE_VOTE DISCOVERED_A_NEW_TERM (term=1) received 1 response(s) and 0 exception(s):
2022-10-13 02:47:55,654 [s1@group-02A457E6AA38-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t1
2022-10-13 02:47:55,654 [s1@group-02A457E6AA38-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-02A457E6AA38-LeaderElection12 PRE_VOTE round 0: result DISCOVERED_A_NEW_TERM (term=1)
2022-10-13 02:47:55,655 [s1@group-02A457E6AA38-LeaderElection12] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-02A457E6AA38: changes role from CANDIDATE to FOLLOWER at term 1 for DISCOVERED_A_NEW_TERM (term=1)
2022-10-13 02:47:55,655 [s1@group-02A457E6AA38-LeaderElection12] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-02A457E6AA38-LeaderElection12
2022-10-13 02:47:55,655 [s1@group-02A457E6AA38-LeaderElection12] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-02A457E6AA38-FollowerState
2022-10-13 02:47:55,655 [s0@group-02A457E6AA38-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-10-13 02:47:55,655 [s0@group-02A457E6AA38-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-10-13 02:47:55,657 [s1@group-02A457E6AA38-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-10-13 02:47:55,657 [s1@group-02A457E6AA38-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-10-13 02:47:55,659 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s1@group-02A457E6AA38: receive requestVote(ELECTION, s0, group-02A457E6AA38, 1, (t:0, i:0))
2022-10-13 02:47:55,659 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-02A457E6AA38-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-10-13 02:47:55,659 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-02A457E6AA38: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-10-13 02:47:55,660 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-02A457E6AA38-FollowerState
2022-10-13 02:47:55,660 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-02A457E6AA38-FollowerState
2022-10-13 02:47:55,660 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s2@group-02A457E6AA38: receive requestVote(ELECTION, s0, group-02A457E6AA38, 1, (t:0, i:0))
2022-10-13 02:47:55,660 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-02A457E6AA38-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-10-13 02:47:55,660 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-02A457E6AA38: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-10-13 02:47:55,660 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-02A457E6AA38-FollowerState
2022-10-13 02:47:55,660 [s2@group-02A457E6AA38-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-02A457E6AA38-FollowerState was interrupted
2022-10-13 02:47:55,660 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s2@group-02A457E6AA38: receive requestVote(PRE_VOTE, s1, group-02A457E6AA38, 0, (t:0, i:0))
2022-10-13 02:47:55,660 [s1@group-02A457E6AA38-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-02A457E6AA38-FollowerState was interrupted
2022-10-13 02:47:55,662 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-02A457E6AA38-FollowerState
2022-10-13 02:47:55,664 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1324)) - s1@group-02A457E6AA38 replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-02A457E6AA38:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-02A457E6AA38-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45241|admin:localhost:37647|client:localhost:36091|dataStream:localhost:46199|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:33831|client:localhost:42845|dataStream:localhost:34793|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40149|admin:localhost:35059|client:localhost:37715|dataStream:localhost:42737|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:55,666 [s0@group-02A457E6AA38-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-02A457E6AA38-LeaderElection11: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-10-13 02:47:55,666 [s0@group-02A457E6AA38-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t1
2022-10-13 02:47:55,666 [s0@group-02A457E6AA38-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-02A457E6AA38-LeaderElection11 ELECTION round 0: result PASSED
2022-10-13 02:47:55,666 [s0@group-02A457E6AA38-LeaderElection11] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-02A457E6AA38-LeaderElection11
2022-10-13 02:47:55,666 [s0@group-02A457E6AA38-LeaderElection11] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-02A457E6AA38: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-10-13 02:47:55,666 [s0@group-02A457E6AA38-LeaderElection11] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-02A457E6AA38: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 264ms
2022-10-13 02:47:55,666 [s0@group-02A457E6AA38-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-10-13 02:47:55,666 [s0@group-02A457E6AA38-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2022-10-13 02:47:55,666 [s0@group-02A457E6AA38-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 1MB (=1048576) (custom)
2022-10-13 02:47:55,667 [s2@group-02A457E6AA38-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-10-13 02:47:55,667 [s0@group-02A457E6AA38-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-10-13 02:47:55,667 [s0@group-02A457E6AA38-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-10-13 02:47:55,667 [s0@group-02A457E6AA38-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-10-13 02:47:55,667 [s0@group-02A457E6AA38-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2022-10-13 02:47:55,667 [s0@group-02A457E6AA38-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-10-13 02:47:55,667 [s0@group-02A457E6AA38-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-10-13 02:47:55,667 [s0@group-02A457E6AA38-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-10-13 02:47:55,671 [s0@group-02A457E6AA38-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-10-13 02:47:55,671 [s0@group-02A457E6AA38-LeaderElection11] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-10-13 02:47:55,671 [s0@group-02A457E6AA38-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-10-13 02:47:55,672 [s0@group-02A457E6AA38-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-10-13 02:47:55,672 [s0@group-02A457E6AA38-LeaderElection11] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-10-13 02:47:55,672 [s0@group-02A457E6AA38-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2022-10-13 02:47:55,672 [s0@group-02A457E6AA38-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-10-13 02:47:55,672 [s0@group-02A457E6AA38-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-10-13 02:47:55,672 [s0@group-02A457E6AA38-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-10-13 02:47:55,672 [s0@group-02A457E6AA38-LeaderElection11] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-10-13 02:47:55,672 [s0@group-02A457E6AA38-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-10-13 02:47:55,672 [s0@group-02A457E6AA38-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-10-13 02:47:55,672 [s0@group-02A457E6AA38-LeaderElection11] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-10-13 02:47:55,673 [s0@group-02A457E6AA38-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2022-10-13 02:47:55,673 [s0@group-02A457E6AA38-LeaderElection11] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-02A457E6AA38-LeaderStateImpl
2022-10-13 02:47:55,673 [s0@group-02A457E6AA38-LeaderElection11] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(427)) - s0@group-02A457E6AA38-SegmentedRaftLogWorker: Starting segment from index:0
2022-10-13 02:47:55,671 [s2@group-02A457E6AA38-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-10-13 02:47:55,671 [s1@group-02A457E6AA38-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-10-13 02:47:55,678 [s1@group-02A457E6AA38-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-10-13 02:47:55,678 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1324)) - s2@group-02A457E6AA38 replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-02A457E6AA38:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-02A457E6AA38-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45241|admin:localhost:37647|client:localhost:36091|dataStream:localhost:46199|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:33831|client:localhost:42845|dataStream:localhost:34793|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40149|admin:localhost:35059|client:localhost:37715|dataStream:localhost:42737|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:55,679 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-02A457E6AA38-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2022-10-13 02:47:55,679 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1324)) - s2@group-02A457E6AA38 replies to PRE_VOTE vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-02A457E6AA38:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-02A457E6AA38-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45241|admin:localhost:37647|client:localhost:36091|dataStream:localhost:46199|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:33831|client:localhost:42845|dataStream:localhost:34793|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40149|admin:localhost:35059|client:localhost:37715|dataStream:localhost:42737|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:55,685 [s0@group-02A457E6AA38-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(631)) - s0@group-02A457E6AA38-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd30523f6/s0/1b649bfd-525d-46fe-a4ef-02a457e6aa38/current/log_inprogress_0
2022-10-13 02:47:55,695 [timer2] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:47:55,695 [timer2] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:47:55,699 [s0@group-02A457E6AA38-LeaderElection11] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-02A457E6AA38: set configuration 0: peers:[s0|rpc:localhost:45241|admin:localhost:37647|client:localhost:36091|dataStream:localhost:46199|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:33831|client:localhost:42845|dataStream:localhost:34793|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40149|admin:localhost:35059|client:localhost:37715|dataStream:localhost:42737|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:55,705 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-02A457E6AA38: change Leader from null to s0 at term 1 for appendEntries, leader elected after 295ms
2022-10-13 02:47:55,725 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-02A457E6AA38: change Leader from null to s0 at term 1 for appendEntries, leader elected after 310ms
2022-10-13 02:47:55,729 [s1-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-02A457E6AA38: set configuration 0: peers:[s0|rpc:localhost:45241|admin:localhost:37647|client:localhost:36091|dataStream:localhost:46199|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:33831|client:localhost:42845|dataStream:localhost:34793|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40149|admin:localhost:35059|client:localhost:37715|dataStream:localhost:42737|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:55,729 [s1-server-thread3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(427)) - s1@group-02A457E6AA38-SegmentedRaftLogWorker: Starting segment from index:0
2022-10-13 02:47:55,735 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-02A457E6AA38: set configuration 0: peers:[s0|rpc:localhost:45241|admin:localhost:37647|client:localhost:36091|dataStream:localhost:46199|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:33831|client:localhost:42845|dataStream:localhost:34793|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40149|admin:localhost:35059|client:localhost:37715|dataStream:localhost:42737|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:55,736 [s2-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(427)) - s2@group-02A457E6AA38-SegmentedRaftLogWorker: Starting segment from index:0
2022-10-13 02:47:55,744 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-A06489C86C5A->s2: receive RaftClientReply:client-A06489C86C5A->s2@group-02A457E6AA38, cid=36, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s2@group-02A457E6AA38 is not the leader, logIndex=0, commits[s2:c-1]
2022-10-13 02:47:55,751 [s1@group-02A457E6AA38-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(631)) - s1@group-02A457E6AA38-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd30523f6/s1/1b649bfd-525d-46fe-a4ef-02a457e6aa38/current/log_inprogress_0
2022-10-13 02:47:55,758 [s2@group-02A457E6AA38-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(631)) - s2@group-02A457E6AA38-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcd30523f6/s2/1b649bfd-525d-46fe-a4ef-02a457e6aa38/current/log_inprogress_0
2022-10-13 02:47:55,849 [timer1] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:47:55,849 [timer1] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:47:55,855 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-A06489C86C5A->s0: receive RaftClientReply:client-A06489C86C5A->s0@group-02A457E6AA38, cid=36, SUCCESS, logIndex=0, commits[s0:c0, s1:c0, s2:c0]
2022-10-13 02:47:55,861 [s0@group-02A457E6AA38-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 37@client-A06489C86C5A
2022-10-13 02:47:55,862 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-A06489C86C5A->s0: receive RaftClientReply:client-A06489C86C5A->s0@group-02A457E6AA38, cid=37, SUCCESS, logIndex=1, commits[s0:c1, s1:c0, s2:c0]
2022-10-13 02:47:55,863 [s1@group-02A457E6AA38-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 37@client-A06489C86C5A
2022-10-13 02:47:55,863 [s2@group-02A457E6AA38-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 37@client-A06489C86C5A
2022-10-13 02:47:55,866 [Time-limited test] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:block(134)) - block FLUSH_STATE_MACHINE_DATA
2022-10-13 02:47:55,867 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:47:55,867 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:47:55,869 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:47:55,869 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:47:55,874 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:47:55,876 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:47:55,875 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-017670B88630->s0: receive RaftClientReply:client-017670B88630->s0@group-02A457E6AA38, cid=38, SUCCESS, logIndex=2, commits[s0:c2, s1:c1, s2:c1]
2022-10-13 02:47:55,880 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:47:55,880 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:47:55,880 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-A6A7B573BB0F->s0: receive RaftClientReply:client-A6A7B573BB0F->s0@group-02A457E6AA38, cid=40, SUCCESS, logIndex=2, commits[s0:c2, s1:c1, s2:c1]
2022-10-13 02:47:55,893 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-44B7B0B7B76B->s0: receive RaftClientReply:client-44B7B0B7B76B->s0@group-02A457E6AA38, cid=42, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c1]
2022-10-13 02:47:55,894 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:47:55,896 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:47:55,900 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-F57C8E693CAD->s0: receive RaftClientReply:client-F57C8E693CAD->s0@group-02A457E6AA38, cid=44, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-10-13 02:47:55,908 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:47:55,909 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-21DB203B566F->s0: receive RaftClientReply:client-21DB203B566F->s0@group-02A457E6AA38, cid=46, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-10-13 02:47:55,909 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:47:55,915 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:47:55,922 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:47:55,926 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:47:55,926 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:47:55,928 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-B5ACD8C461F8->s0: receive RaftClientReply:client-B5ACD8C461F8->s0@group-02A457E6AA38, cid=48, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-10-13 02:47:55,930 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:47:55,933 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:47:55,954 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:47:55,954 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:47:55,962 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:47:55,963 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:47:55,963 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-208126935E14->s0: receive RaftClientReply:client-208126935E14->s0@group-02A457E6AA38, cid=50, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-10-13 02:47:55,964 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-BA2EBEBE82D2->s0: receive RaftClientReply:client-BA2EBEBE82D2->s0@group-02A457E6AA38, cid=52, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-10-13 02:47:55,968 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-BDB6F0A852D0->s0: receive RaftClientReply:client-BDB6F0A852D0->s0@group-02A457E6AA38, cid=54, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-10-13 02:47:55,984 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-166656580CFF->s0: receive RaftClientReply:client-166656580CFF->s0@group-02A457E6AA38, cid=58, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-10-13 02:47:55,987 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-144D88614C95->s0: receive RaftClientReply:client-144D88614C95->s0@group-02A457E6AA38, cid=56, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2022-10-13 02:47:55,997 [grpc-default-executor-0] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=message 8
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-02A457E6AA38: Failed to acquire a pending write request for RaftClientRequest:client-144D88614C95->s0@group-02A457E6AA38, cid=57, seq=2, RW, Message:6d6573736167652038
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:392)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:404)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:310)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:341)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:487)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:468)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:432)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:465)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-02A457E6AA38: Failed to acquire a pending write request for RaftClientRequest:client-144D88614C95->s0@group-02A457E6AA38, cid=57, seq=2, RW, Message:6d6573736167652038
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:770)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:881)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:819)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:819)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	... 3 more
	Suppressed: java.lang.NullPointerException
		at org.apache.ratis.server.impl.RaftServerImpl.lambda$submitClientRequestAsync$15(RaftServerImpl.java:889)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883)
		at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251)
		at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:888)
		... 7 more
2022-10-13 02:47:56,266 [Time-limited test] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:unblock(141)) - unblock FLUSH_STATE_MACHINE_DATA
2022-10-13 02:47:56,269 [s0@group-02A457E6AA38-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, 39@client-017670B88630
2022-10-13 02:47:56,270 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-017670B88630->s0: receive RaftClientReply:client-017670B88630->s0@group-02A457E6AA38, cid=39, SUCCESS, logIndex=3, commits[s0:c3, s1:c2, s2:c2]
2022-10-13 02:47:56,271 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:47:56,271 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:47:56,271 [s1@group-02A457E6AA38-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, 39@client-017670B88630
2022-10-13 02:47:56,271 [s0@group-02A457E6AA38-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, 41@client-A6A7B573BB0F
2022-10-13 02:47:56,272 [s0@group-02A457E6AA38-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 5, message 1 -> (t:1, i:5), STATEMACHINELOGENTRY, 43@client-44B7B0B7B76B
2022-10-13 02:47:56,272 [s0@group-02A457E6AA38-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 6, message 2 -> (t:1, i:6), STATEMACHINELOGENTRY, 45@client-F57C8E693CAD
2022-10-13 02:47:56,272 [s0@group-02A457E6AA38-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 7, message 3 -> (t:1, i:7), STATEMACHINELOGENTRY, 47@client-21DB203B566F
2022-10-13 02:47:56,272 [s0@group-02A457E6AA38-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 8, message 4 -> (t:1, i:8), STATEMACHINELOGENTRY, 49@client-B5ACD8C461F8
2022-10-13 02:47:56,272 [s0@group-02A457E6AA38-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 9, message 6 -> (t:1, i:9), STATEMACHINELOGENTRY, 53@client-BA2EBEBE82D2
2022-10-13 02:47:56,273 [s0@group-02A457E6AA38-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 10, message 5 -> (t:1, i:10), STATEMACHINELOGENTRY, 51@client-208126935E14
2022-10-13 02:47:56,273 [s0@group-02A457E6AA38-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 11, message 7 -> (t:1, i:11), STATEMACHINELOGENTRY, 55@client-BDB6F0A852D0
2022-10-13 02:47:56,273 [s0@group-02A457E6AA38-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 12, message 9 -> (t:1, i:12), STATEMACHINELOGENTRY, 59@client-166656580CFF
2022-10-13 02:47:56,275 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-208126935E14->s0: receive RaftClientReply:client-208126935E14->s0@group-02A457E6AA38, cid=51, SUCCESS, logIndex=10, commits[s0:c12, s1:c2, s2:c2]
2022-10-13 02:47:56,277 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-B5ACD8C461F8->s0: receive RaftClientReply:client-B5ACD8C461F8->s0@group-02A457E6AA38, cid=49, SUCCESS, logIndex=8, commits[s0:c12, s1:c2, s2:c2]
2022-10-13 02:47:56,277 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-BA2EBEBE82D2->s0: receive RaftClientReply:client-BA2EBEBE82D2->s0@group-02A457E6AA38, cid=53, SUCCESS, logIndex=9, commits[s0:c12, s1:c2, s2:c2]
2022-10-13 02:47:56,277 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-F57C8E693CAD->s0: receive RaftClientReply:client-F57C8E693CAD->s0@group-02A457E6AA38, cid=45, SUCCESS, logIndex=6, commits[s0:c12, s1:c2, s2:c2]
2022-10-13 02:47:56,277 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-21DB203B566F->s0: receive RaftClientReply:client-21DB203B566F->s0@group-02A457E6AA38, cid=47, SUCCESS, logIndex=7, commits[s0:c12, s1:c2, s2:c2]
2022-10-13 02:47:56,278 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-166656580CFF->s0: receive RaftClientReply:client-166656580CFF->s0@group-02A457E6AA38, cid=59, SUCCESS, logIndex=12, commits[s0:c12, s1:c2, s2:c2]
2022-10-13 02:47:56,278 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-44B7B0B7B76B->s0: receive RaftClientReply:client-44B7B0B7B76B->s0@group-02A457E6AA38, cid=43, SUCCESS, logIndex=5, commits[s0:c12, s1:c2, s2:c2]
2022-10-13 02:47:56,278 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-BDB6F0A852D0->s0: receive RaftClientReply:client-BDB6F0A852D0->s0@group-02A457E6AA38, cid=55, SUCCESS, logIndex=11, commits[s0:c12, s1:c2, s2:c2]
2022-10-13 02:47:56,279 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-A6A7B573BB0F->s0: receive RaftClientReply:client-A6A7B573BB0F->s0@group-02A457E6AA38, cid=41, SUCCESS, logIndex=4, commits[s0:c12, s1:c2, s2:c2]
2022-10-13 02:47:56,281 [s2@group-02A457E6AA38-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, 39@client-017670B88630
2022-10-13 02:47:56,281 [s2@group-02A457E6AA38-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, 41@client-A6A7B573BB0F
2022-10-13 02:47:56,281 [s2@group-02A457E6AA38-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 5, message 1 -> (t:1, i:5), STATEMACHINELOGENTRY, 43@client-44B7B0B7B76B
2022-10-13 02:47:56,281 [s2@group-02A457E6AA38-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 6, message 2 -> (t:1, i:6), STATEMACHINELOGENTRY, 45@client-F57C8E693CAD
2022-10-13 02:47:56,281 [s2@group-02A457E6AA38-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 7, message 3 -> (t:1, i:7), STATEMACHINELOGENTRY, 47@client-21DB203B566F
2022-10-13 02:47:56,282 [s2@group-02A457E6AA38-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 8, message 4 -> (t:1, i:8), STATEMACHINELOGENTRY, 49@client-B5ACD8C461F8
2022-10-13 02:47:56,282 [s2@group-02A457E6AA38-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 9, message 6 -> (t:1, i:9), STATEMACHINELOGENTRY, 53@client-BA2EBEBE82D2
2022-10-13 02:47:56,282 [s2@group-02A457E6AA38-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 10, message 5 -> (t:1, i:10), STATEMACHINELOGENTRY, 51@client-208126935E14
2022-10-13 02:47:56,282 [s2@group-02A457E6AA38-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 11, message 7 -> (t:1, i:11), STATEMACHINELOGENTRY, 55@client-BDB6F0A852D0
2022-10-13 02:47:56,282 [s2@group-02A457E6AA38-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 12, message 9 -> (t:1, i:12), STATEMACHINELOGENTRY, 59@client-166656580CFF
2022-10-13 02:47:56,285 [s1@group-02A457E6AA38-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, 41@client-A6A7B573BB0F
2022-10-13 02:47:56,285 [s1@group-02A457E6AA38-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 5, message 1 -> (t:1, i:5), STATEMACHINELOGENTRY, 43@client-44B7B0B7B76B
2022-10-13 02:47:56,285 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-CA7CC5FEA4E4->s0: receive RaftClientReply:client-CA7CC5FEA4E4->s0@group-02A457E6AA38, cid=60, SUCCESS, logIndex=14, commits[s0:c14, s1:c3, s2:c12]
2022-10-13 02:47:56,285 [s1@group-02A457E6AA38-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 6, message 2 -> (t:1, i:6), STATEMACHINELOGENTRY, 45@client-F57C8E693CAD
2022-10-13 02:47:56,286 [s1@group-02A457E6AA38-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 7, message 3 -> (t:1, i:7), STATEMACHINELOGENTRY, 47@client-21DB203B566F
2022-10-13 02:47:56,287 [s1@group-02A457E6AA38-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 8, message 4 -> (t:1, i:8), STATEMACHINELOGENTRY, 49@client-B5ACD8C461F8
2022-10-13 02:47:56,287 [s1@group-02A457E6AA38-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 9, message 6 -> (t:1, i:9), STATEMACHINELOGENTRY, 53@client-BA2EBEBE82D2
2022-10-13 02:47:56,287 [s1@group-02A457E6AA38-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 10, message 5 -> (t:1, i:10), STATEMACHINELOGENTRY, 51@client-208126935E14
2022-10-13 02:47:56,287 [s1@group-02A457E6AA38-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 11, message 7 -> (t:1, i:11), STATEMACHINELOGENTRY, 55@client-BDB6F0A852D0
2022-10-13 02:47:56,287 [s1@group-02A457E6AA38-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 12, message 9 -> (t:1, i:12), STATEMACHINELOGENTRY, 59@client-166656580CFF
2022-10-13 02:47:56,302 [grpc-default-executor-2] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=1025kb (=1049600)-message
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-02A457E6AA38: Failed to acquire a pending write request for RaftClientRequest:client-CA7CC5FEA4E4->s0@group-02A457E6AA38, cid=61, seq=2, RW, Message:90ec5caa43c90209d135...(size=1049600)
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:392)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:404)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:310)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:341)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:487)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:468)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:432)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:465)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-02A457E6AA38: Failed to acquire a pending write request for RaftClientRequest:client-CA7CC5FEA4E4->s0@group-02A457E6AA38, cid=61, seq=2, RW, Message:90ec5caa43c90209d135...(size=1049600)
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:770)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:881)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:819)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:819)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	... 3 more
	Suppressed: java.lang.NullPointerException
		at org.apache.ratis.server.impl.RaftServerImpl.lambda$submitClientRequestAsync$15(RaftServerImpl.java:889)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883)
		at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251)
		at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:888)
		... 7 more
2022-10-13 02:47:56,600 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-10-13 02:47:56,600 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-10-13 02:47:56,600 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2022-10-13 02:47:56,600 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-10-13 02:47:56,600 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-10-13 02:47:56,601 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-02A457E6AA38:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-02A457E6AA38-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s0|rpc:localhost:45241|admin:localhost:37647|client:localhost:36091|dataStream:localhost:46199|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:33831|client:localhost:42845|dataStream:localhost:34793|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40149|admin:localhost:35059|client:localhost:37715|dataStream:localhost:42737|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-02A457E6AA38:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-02A457E6AA38-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s0|rpc:localhost:45241|admin:localhost:37647|client:localhost:36091|dataStream:localhost:46199|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:33831|client:localhost:42845|dataStream:localhost:34793|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40149|admin:localhost:35059|client:localhost:37715|dataStream:localhost:42737|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-02A457E6AA38:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-02A457E6AA38-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s0|rpc:localhost:45241|admin:localhost:37647|client:localhost:36091|dataStream:localhost:46199|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43185|admin:localhost:33831|client:localhost:42845|dataStream:localhost:34793|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:40149|admin:localhost:35059|client:localhost:37715|dataStream:localhost:42737|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-10-13 02:47:56,601 [MiniRaftCluster-15] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2022-10-13 02:47:56,601 [MiniRaftCluster-16] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s1: close
2022-10-13 02:47:56,602 [MiniRaftCluster-15] INFO  server.GrpcService (GrpcService.java:closeImpl(319)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-10-13 02:47:56,602 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s1@group-02A457E6AA38: shutdown
2022-10-13 02:47:56,603 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-02A457E6AA38,id=s1
2022-10-13 02:47:56,602 [MiniRaftCluster-16] INFO  server.GrpcService (GrpcService.java:closeImpl(319)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-10-13 02:47:56,602 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-02A457E6AA38: shutdown
2022-10-13 02:47:56,603 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-02A457E6AA38,id=s0
2022-10-13 02:47:56,603 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-02A457E6AA38-LeaderStateImpl
2022-10-13 02:47:56,603 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-02A457E6AA38-PendingRequests: sendNotLeaderResponses
2022-10-13 02:47:56,603 [s0@group-02A457E6AA38->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s0@group-02A457E6AA38->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-10-13 02:47:56,603 [s0@group-02A457E6AA38->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s0@group-02A457E6AA38->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-10-13 02:47:56,603 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-02A457E6AA38-FollowerState
2022-10-13 02:47:56,603 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-02A457E6AA38-StateMachineUpdater: set stopIndex = 14
2022-10-13 02:47:56,604 [s1@group-02A457E6AA38-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-02A457E6AA38-FollowerState was interrupted
2022-10-13 02:47:56,604 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s1@group-02A457E6AA38: applyIndex: 14
2022-10-13 02:47:56,604 [s1@group-02A457E6AA38-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(329)) - s1@group-02A457E6AA38-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-10-13 02:47:56,608 [MiniRaftCluster-16] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(111)) - s0 Close channels
2022-10-13 02:47:56,608 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-02A457E6AA38-StateMachineUpdater: set stopIndex = 14
2022-10-13 02:47:56,608 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s0@group-02A457E6AA38: applyIndex: 14
2022-10-13 02:47:56,608 [s0@group-02A457E6AA38-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(329)) - s0@group-02A457E6AA38-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-10-13 02:47:56,609 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s1@group-02A457E6AA38-SegmentedRaftLogWorker close()
2022-10-13 02:47:56,609 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#27-t1,previous=(t:1, i:13),leaderCommit=13,initializing? true,entries: size=1, first=(t:1, i:14), METADATAENTRY(c:12)
2022-10-13 02:47:56,610 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s2: Completed APPEND_ENTRIES, lastRequest: null
2022-10-13 02:47:56,610 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s1: Completed APPEND_ENTRIES, lastRequest: null
2022-10-13 02:47:56,610 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s2: Completed APPEND_ENTRIES, lastRequest: s0->s2#28-t1,previous=(t:1, i:12),leaderCommit=12,initializing? true,entries: size=2, first=(t:1, i:13), METADATAENTRY(c:3)
2022-10-13 02:47:56,611 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s0@group-02A457E6AA38->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-10-13 02:47:56,611 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-02A457E6AA38->s1: nextIndex: updateUnconditionally 15 -> 14
2022-10-13 02:47:56,612 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s0@group-02A457E6AA38->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-10-13 02:47:56,612 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-02A457E6AA38->s2: nextIndex: updateUnconditionally 15 -> 14
2022-10-13 02:47:56,612 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s0@group-02A457E6AA38->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-10-13 02:47:56,612 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-02A457E6AA38->s1: nextIndex: updateUnconditionally 14 -> 13
2022-10-13 02:47:56,612 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s0@group-02A457E6AA38->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-10-13 02:47:56,612 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-02A457E6AA38->s2: nextIndex: updateUnconditionally 14 -> 13
2022-10-13 02:47:56,613 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s0@group-02A457E6AA38-SegmentedRaftLogWorker close()
2022-10-13 02:47:56,613 [MiniRaftCluster-16] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(111)) - s2 Close channels
2022-10-13 02:47:56,614 [MiniRaftCluster-16] INFO  server.GrpcService (GrpcService.java:closeImpl(328)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-10-13 02:47:56,614 [MiniRaftCluster-16] INFO  server.GrpcService (GrpcService.java:closeImpl(319)) - s1: shutdown server GrpcServerProtocolService now
2022-10-13 02:47:56,613 [MiniRaftCluster-17] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s2: close
2022-10-13 02:47:56,615 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s2@group-02A457E6AA38: shutdown
2022-10-13 02:47:56,615 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-02A457E6AA38,id=s2
2022-10-13 02:47:56,616 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-02A457E6AA38-FollowerState
2022-10-13 02:47:56,616 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-02A457E6AA38-StateMachineUpdater: set stopIndex = 14
2022-10-13 02:47:56,616 [s2@group-02A457E6AA38-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-02A457E6AA38-FollowerState was interrupted
2022-10-13 02:47:56,616 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s2@group-02A457E6AA38: applyIndex: 14
2022-10-13 02:47:56,616 [s2@group-02A457E6AA38-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(329)) - s2@group-02A457E6AA38-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-10-13 02:47:56,616 [MiniRaftCluster-17] INFO  server.GrpcService (GrpcService.java:closeImpl(319)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-10-13 02:47:56,617 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s2@group-02A457E6AA38-SegmentedRaftLogWorker close()
2022-10-13 02:47:56,619 [MiniRaftCluster-16] INFO  server.GrpcService (GrpcService.java:closeImpl(328)) - s1: shutdown server GrpcServerProtocolService successfully
2022-10-13 02:47:56,619 [MiniRaftCluster-16] INFO  server.GrpcService (GrpcService.java:closeImpl(319)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-10-13 02:47:56,619 [MiniRaftCluster-16] INFO  server.GrpcService (GrpcService.java:closeImpl(328)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-10-13 02:47:56,619 [MiniRaftCluster-15] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(111)) - s1 Close channels
2022-10-13 02:47:56,620 [MiniRaftCluster-15] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(111)) - s2 Close channels
2022-10-13 02:47:56,621 [MiniRaftCluster-15] INFO  server.GrpcService (GrpcService.java:closeImpl(328)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-10-13 02:47:56,621 [MiniRaftCluster-15] INFO  server.GrpcService (GrpcService.java:closeImpl(319)) - s0: shutdown server GrpcServerProtocolService now
2022-10-13 02:47:56,621 [MiniRaftCluster-15] INFO  server.GrpcService (GrpcService.java:closeImpl(328)) - s0: shutdown server GrpcServerProtocolService successfully
2022-10-13 02:47:56,621 [MiniRaftCluster-15] INFO  server.GrpcService (GrpcService.java:closeImpl(319)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-10-13 02:47:56,622 [MiniRaftCluster-15] INFO  server.GrpcService (GrpcService.java:closeImpl(328)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-10-13 02:47:56,622 [MiniRaftCluster-17] INFO  server.GrpcService (GrpcService.java:closeImpl(328)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-10-13 02:47:56,622 [MiniRaftCluster-17] INFO  server.GrpcService (GrpcService.java:closeImpl(319)) - s2: shutdown server GrpcServerProtocolService now
2022-10-13 02:47:56,622 [JvmPauseMonitor15] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2022-10-13 02:47:56,623 [JvmPauseMonitor14] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2022-10-13 02:47:56,623 [MiniRaftCluster-17] INFO  server.GrpcService (GrpcService.java:closeImpl(328)) - s2: shutdown server GrpcServerProtocolService successfully
2022-10-13 02:47:56,623 [MiniRaftCluster-17] INFO  server.GrpcService (GrpcService.java:closeImpl(319)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-10-13 02:47:56,623 [MiniRaftCluster-17] INFO  server.GrpcService (GrpcService.java:closeImpl(328)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-10-13 02:47:56,623 [JvmPauseMonitor16] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s2: Stopped
2022-10-13 02:47:56,623 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2022-10-13 02:47:56,624 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-10-13 02:47:56,624 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-10-13 02:47:56,624 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to ALL
2022-10-13 02:47:56,629 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2022-10-13 02:47:56,629 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-5260CF4DCF62:[s0|rpc:localhost:37685|admin:localhost:35083|client:localhost:42631|dataStream:localhost:44145|priority:0|startupRole:FOLLOWER]
2022-10-13 02:47:56,629 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2022-10-13 02:47:56,629 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-10-13 02:47:56,629 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2022-10-13 02:47:56,629 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2022-10-13 02:47:56,629 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2022-10-13 02:47:56,629 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2022-10-13 02:47:56,629 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-5260CF4DCF62:[s0|rpc:localhost:37685|admin:localhost:35083|client:localhost:42631|dataStream:localhost:44145|priority:0|startupRole:FOLLOWER], format? true
2022-10-13 02:47:56,629 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/bc10d1de/MiniRaftClusterWithGrpcf0b7b95c/s0
2022-10-13 02:47:56,630 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/bc10d1de/MiniRaftClusterWithGrpcf0b7b95c/s0 does not exist.
2022-10-13 02:47:56,630 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/bc10d1de/MiniRaftClusterWithGrpcf0b7b95c/s0
2022-10-13 02:47:56,630 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-10-13 02:47:56,630 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-10-13 02:47:56,630 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 35083 (custom)
2022-10-13 02:47:56,630 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-10-13 02:47:56,630 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 42631 (custom)
2022-10-13 02:47:56,630 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-10-13 02:47:56,630 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 37685 (custom)
2022-10-13 02:47:56,631 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:47:56,631 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-10-13 02:47:56,631 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:47:56,631 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-10-13 02:47:56,631 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-10-13 02:47:56,631 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-10-13 02:47:56,631 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-10-13 02:47:56,632 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-10-13 02:47:56,632 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-10-13 02:47:56,632 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-10-13 02:47:56,632 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-10-13 02:47:56,632 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-10-13 02:47:56,632 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcf0b7b95c/s0] (custom)
2022-10-13 02:47:56,633 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-5260CF4DCF62:[s0|rpc:localhost:37685|admin:localhost:35083|client:localhost:42631|dataStream:localhost:44145|priority:0|startupRole:FOLLOWER] returns group-5260CF4DCF62:java.util.concurrent.CompletableFuture@7e21276a[Not completed]
2022-10-13 02:47:56,633 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-10-13 02:47:56,633 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-10-13 02:47:56,633 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-10-13 02:47:56,633 [pool-23-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-5260CF4DCF62:[s0|rpc:localhost:37685|admin:localhost:35083|client:localhost:42631|dataStream:localhost:44145|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-10-13 02:47:56,634 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-10-13 02:47:56,634 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-10-13 02:47:56,634 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-10-13 02:47:56,634 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-10-13 02:47:56,634 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-10-13 02:47:56,634 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-10-13 02:47:56,634 [pool-23-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-5260CF4DCF62: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:37685|admin:localhost:35083|client:localhost:42631|dataStream:localhost:44145|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-10-13 02:47:56,634 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-10-13 02:47:56,634 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-10-13 02:47:56,634 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-10-13 02:47:56,634 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-10-13 02:47:56,634 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-10-13 02:47:56,635 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-10-13 02:47:56,635 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-10-13 02:47:56,636 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-10-13 02:47:56,636 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-10-13 02:47:56,636 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-10-13 02:47:56,636 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-10-13 02:47:56,636 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-10-13 02:47:56,636 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcf0b7b95c/s0] (custom)
2022-10-13 02:47:56,636 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcf0b7b95c/s0/962fc1c9-d397-44fd-96ae-5260cf4dcf62 does not exist. Creating ...
2022-10-13 02:47:56,636 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcf0b7b95c/s0/962fc1c9-d397-44fd-96ae-5260cf4dcf62
2022-10-13 02:47:56,638 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcf0b7b95c/s0/962fc1c9-d397-44fd-96ae-5260cf4dcf62/in_use.lock acquired by nodename 60246@fv-az318-428
2022-10-13 02:47:56,639 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcf0b7b95c/s0/962fc1c9-d397-44fd-96ae-5260cf4dcf62/current
2022-10-13 02:47:56,639 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcf0b7b95c/s0/962fc1c9-d397-44fd-96ae-5260cf4dcf62/sm
2022-10-13 02:47:56,640 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcf0b7b95c/s0/962fc1c9-d397-44fd-96ae-5260cf4dcf62 has been successfully formatted.
2022-10-13 02:47:56,640 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-10-13 02:47:56,640 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-10-13 02:47:56,641 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-10-13 02:47:56,641 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-10-13 02:47:56,641 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-10-13 02:47:56,641 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-10-13 02:47:56,641 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-10-13 02:47:56,641 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-10-13 02:47:56,642 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-10-13 02:47:56,642 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-10-13 02:47:56,642 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s0@group-5260CF4DCF62-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcf0b7b95c/s0/962fc1c9-d397-44fd-96ae-5260cf4dcf62
2022-10-13 02:47:56,642 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-10-13 02:47:56,642 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-10-13 02:47:56,642 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-10-13 02:47:56,642 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-10-13 02:47:56,642 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-10-13 02:47:56,642 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-10-13 02:47:56,642 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-10-13 02:47:56,642 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-10-13 02:47:56,642 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-10-13 02:47:56,642 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-10-13 02:47:56,642 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-10-13 02:47:56,642 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-10-13 02:47:56,642 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-5260CF4DCF62-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-10-13 02:47:56,642 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-5260CF4DCF62-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-10-13 02:47:56,643 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-5260CF4DCF62: start as a follower, conf=-1: peers:[s0|rpc:localhost:37685|admin:localhost:35083|client:localhost:42631|dataStream:localhost:44145|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:56,643 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-5260CF4DCF62: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-10-13 02:47:56,643 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-5260CF4DCF62-FollowerState
2022-10-13 02:47:56,646 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-5260CF4DCF62,id=s0
2022-10-13 02:47:56,646 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-10-13 02:47:56,647 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-10-13 02:47:56,647 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-10-13 02:47:56,647 [s0@group-5260CF4DCF62-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-10-13 02:47:56,647 [s0@group-5260CF4DCF62-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-10-13 02:47:56,647 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2022-10-13 02:47:56,648 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(310)) - s0: GrpcService started, listening on 42631
2022-10-13 02:47:56,648 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(310)) - s0: GrpcService started, listening on 37685
2022-10-13 02:47:56,648 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(310)) - s0: GrpcService started, listening on 35083
2022-10-13 02:47:56,649 [JvmPauseMonitor17] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2022-10-13 02:47:56,649 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-10-13 02:47:56,649 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-5260CF4DCF62:t0, leader=null, voted=, raftlog=Memoized:s0@group-5260CF4DCF62-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37685|admin:localhost:35083|client:localhost:42631|dataStream:localhost:44145|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-10-13 02:47:56,649 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-5260CF4DCF62:t0, leader=null, voted=, raftlog=Memoized:s0@group-5260CF4DCF62-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37685|admin:localhost:35083|client:localhost:42631|dataStream:localhost:44145|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-5260CF4DCF62:t0, leader=null, voted=, raftlog=Memoized:s0@group-5260CF4DCF62-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37685|admin:localhost:35083|client:localhost:42631|dataStream:localhost:44145|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:151)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:147)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-10-13 02:47:56,913 [s0@group-5260CF4DCF62-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-5260CF4DCF62-FollowerState: change to CANDIDATE, lastRpcElapsedTime:270439364ns, electionTimeout:266ms
2022-10-13 02:47:56,913 [s0@group-5260CF4DCF62-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-5260CF4DCF62-FollowerState
2022-10-13 02:47:56,913 [s0@group-5260CF4DCF62-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-5260CF4DCF62: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-10-13 02:47:56,914 [s0@group-5260CF4DCF62-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-10-13 02:47:56,914 [s0@group-5260CF4DCF62-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-5260CF4DCF62-LeaderElection13
2022-10-13 02:47:56,919 [s0@group-5260CF4DCF62-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-5260CF4DCF62-LeaderElection13 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:37685|admin:localhost:35083|client:localhost:42631|dataStream:localhost:44145|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:56,919 [s0@group-5260CF4DCF62-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-5260CF4DCF62-LeaderElection13 PRE_VOTE round 0: result PASSED (term=0)
2022-10-13 02:47:56,921 [s0@group-5260CF4DCF62-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-5260CF4DCF62-LeaderElection13 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:37685|admin:localhost:35083|client:localhost:42631|dataStream:localhost:44145|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:56,921 [s0@group-5260CF4DCF62-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-5260CF4DCF62-LeaderElection13 ELECTION round 0: result PASSED (term=1)
2022-10-13 02:47:56,921 [s0@group-5260CF4DCF62-LeaderElection13] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-5260CF4DCF62-LeaderElection13
2022-10-13 02:47:56,921 [s0@group-5260CF4DCF62-LeaderElection13] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-5260CF4DCF62: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-10-13 02:47:56,922 [s0@group-5260CF4DCF62-LeaderElection13] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-5260CF4DCF62: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 287ms
2022-10-13 02:47:56,922 [s0@group-5260CF4DCF62-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-10-13 02:47:56,922 [s0@group-5260CF4DCF62-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-10-13 02:47:56,922 [s0@group-5260CF4DCF62-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-10-13 02:47:56,922 [s0@group-5260CF4DCF62-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-10-13 02:47:56,922 [s0@group-5260CF4DCF62-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-10-13 02:47:56,922 [s0@group-5260CF4DCF62-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-10-13 02:47:56,922 [s0@group-5260CF4DCF62-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-10-13 02:47:56,923 [s0@group-5260CF4DCF62-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-10-13 02:47:56,923 [s0@group-5260CF4DCF62-LeaderElection13] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-5260CF4DCF62-LeaderStateImpl
2022-10-13 02:47:56,923 [s0@group-5260CF4DCF62-LeaderElection13] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(427)) - s0@group-5260CF4DCF62-SegmentedRaftLogWorker: Starting segment from index:0
2022-10-13 02:47:56,935 [s0@group-5260CF4DCF62-LeaderElection13] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-5260CF4DCF62: set configuration 0: peers:[s0|rpc:localhost:37685|admin:localhost:35083|client:localhost:42631|dataStream:localhost:44145|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:56,936 [s0@group-5260CF4DCF62-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(631)) - s0@group-5260CF4DCF62-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcf0b7b95c/s0/962fc1c9-d397-44fd-96ae-5260cf4dcf62/current/log_inprogress_0
2022-10-13 02:47:57,100 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-5260CF4DCF62:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-5260CF4DCF62-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37685|admin:localhost:35083|client:localhost:42631|dataStream:localhost:44145|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-10-13 02:47:57,100 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-10-13 02:47:57,101 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 35083 (custom)
2022-10-13 02:47:57,101 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-10-13 02:47:57,101 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 42631 (custom)
2022-10-13 02:47:57,101 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-10-13 02:47:57,101 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 37685 (custom)
2022-10-13 02:47:57,101 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:47:57,101 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-10-13 02:47:57,101 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:47:57,101 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-10-13 02:47:57,101 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-10-13 02:47:57,101 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-10-13 02:47:57,101 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-10-13 02:47:57,102 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'appendEntries'
2022-10-13 02:47:57,102 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "appendEntries" throws UnsupportedOperationException
java.lang.UnsupportedOperationException: Blocking appendEntries call is not supported
	at org.apache.ratis.grpc.server.GrpcService.appendEntries(GrpcService.java:363)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.lambda$runTestUnsupportedMethods$1(TestRaftServerWithGrpc.java:155)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:154)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:147)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-10-13 02:47:57,103 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'installSnapshot'
2022-10-13 02:47:57,103 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "installSnapshot" throws UnsupportedOperationException
java.lang.UnsupportedOperationException: Blocking installSnapshot call is not supported
	at org.apache.ratis.grpc.server.GrpcService.installSnapshot(GrpcService.java:369)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.lambda$runTestUnsupportedMethods$2(TestRaftServerWithGrpc.java:159)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:158)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:147)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-10-13 02:47:57,103 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-10-13 02:47:57,103 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-10-13 02:47:57,103 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2022-10-13 02:47:57,103 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-10-13 02:47:57,103 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-10-13 02:47:57,103 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-5260CF4DCF62:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-5260CF4DCF62-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37685|admin:localhost:35083|client:localhost:42631|dataStream:localhost:44145|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-10-13 02:47:57,104 [MiniRaftCluster-18] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2022-10-13 02:47:57,104 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-5260CF4DCF62: shutdown
2022-10-13 02:47:57,104 [MiniRaftCluster-18] INFO  server.GrpcService (GrpcService.java:closeImpl(319)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-10-13 02:47:57,104 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-5260CF4DCF62,id=s0
2022-10-13 02:47:57,104 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-5260CF4DCF62-LeaderStateImpl
2022-10-13 02:47:57,104 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-5260CF4DCF62-PendingRequests: sendNotLeaderResponses
2022-10-13 02:47:57,105 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-5260CF4DCF62-StateMachineUpdater: set stopIndex = 0
2022-10-13 02:47:57,105 [MiniRaftCluster-18] INFO  server.GrpcService (GrpcService.java:closeImpl(328)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-10-13 02:47:57,105 [MiniRaftCluster-18] INFO  server.GrpcService (GrpcService.java:closeImpl(319)) - s0: shutdown server GrpcServerProtocolService now
2022-10-13 02:47:57,106 [MiniRaftCluster-18] INFO  server.GrpcService (GrpcService.java:closeImpl(328)) - s0: shutdown server GrpcServerProtocolService successfully
2022-10-13 02:47:57,106 [MiniRaftCluster-18] INFO  server.GrpcService (GrpcService.java:closeImpl(319)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-10-13 02:47:57,106 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s0@group-5260CF4DCF62: applyIndex: 0
2022-10-13 02:47:57,106 [s0@group-5260CF4DCF62-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(329)) - s0@group-5260CF4DCF62-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-10-13 02:47:57,106 [MiniRaftCluster-18] INFO  server.GrpcService (GrpcService.java:closeImpl(328)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-10-13 02:47:57,107 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s0@group-5260CF4DCF62-SegmentedRaftLogWorker close()
2022-10-13 02:47:57,107 [JvmPauseMonitor17] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2022-10-13 02:47:57,108 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2022-10-13 02:47:57,108 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-10-13 02:47:57,108 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-10-13 02:47:57,108 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to ALL
2022-10-13 02:47:57,109 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2022-10-13 02:47:57,109 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-06427001659A:[s0|rpc:localhost:43503|admin:localhost:33323|client:localhost:46073|dataStream:localhost:33039|priority:0|startupRole:FOLLOWER]
2022-10-13 02:47:57,109 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2022-10-13 02:47:57,109 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-10-13 02:47:57,109 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2022-10-13 02:47:57,109 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2022-10-13 02:47:57,109 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2022-10-13 02:47:57,109 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2022-10-13 02:47:57,109 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-06427001659A:[s0|rpc:localhost:43503|admin:localhost:33323|client:localhost:46073|dataStream:localhost:33039|priority:0|startupRole:FOLLOWER], format? true
2022-10-13 02:47:57,109 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/bc10d1de/MiniRaftClusterWithGrpc3dd82d4d/s0
2022-10-13 02:47:57,110 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/bc10d1de/MiniRaftClusterWithGrpc3dd82d4d/s0 does not exist.
2022-10-13 02:47:57,110 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/bc10d1de/MiniRaftClusterWithGrpc3dd82d4d/s0
2022-10-13 02:47:57,110 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-10-13 02:47:57,110 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-10-13 02:47:57,110 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 33323 (custom)
2022-10-13 02:47:57,110 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-10-13 02:47:57,110 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 46073 (custom)
2022-10-13 02:47:57,110 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-10-13 02:47:57,111 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 43503 (custom)
2022-10-13 02:47:57,111 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:47:57,111 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-10-13 02:47:57,111 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:47:57,111 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-10-13 02:47:57,111 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-10-13 02:47:57,111 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-10-13 02:47:57,111 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-10-13 02:47:57,112 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-10-13 02:47:57,112 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-10-13 02:47:57,112 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-10-13 02:47:57,112 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-10-13 02:47:57,112 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-10-13 02:47:57,112 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc3dd82d4d/s0] (custom)
2022-10-13 02:47:57,113 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-06427001659A:[s0|rpc:localhost:43503|admin:localhost:33323|client:localhost:46073|dataStream:localhost:33039|priority:0|startupRole:FOLLOWER] returns group-06427001659A:java.util.concurrent.CompletableFuture@17906979[Not completed]
2022-10-13 02:47:57,113 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-10-13 02:47:57,113 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-10-13 02:47:57,113 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-10-13 02:47:57,113 [pool-24-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-06427001659A:[s0|rpc:localhost:43503|admin:localhost:33323|client:localhost:46073|dataStream:localhost:33039|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-10-13 02:47:57,113 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-10-13 02:47:57,113 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-10-13 02:47:57,113 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-10-13 02:47:57,113 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-10-13 02:47:57,113 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-10-13 02:47:57,113 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-10-13 02:47:57,113 [pool-24-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-06427001659A: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:43503|admin:localhost:33323|client:localhost:46073|dataStream:localhost:33039|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-10-13 02:47:57,113 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-10-13 02:47:57,113 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-10-13 02:47:57,113 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-10-13 02:47:57,113 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-10-13 02:47:57,114 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-10-13 02:47:57,115 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-10-13 02:47:57,115 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-10-13 02:47:57,115 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-10-13 02:47:57,115 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-10-13 02:47:57,115 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-10-13 02:47:57,115 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-10-13 02:47:57,115 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-10-13 02:47:57,115 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc3dd82d4d/s0] (custom)
2022-10-13 02:47:57,115 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc3dd82d4d/s0/2fc17f64-b6d4-4e58-98b0-06427001659a does not exist. Creating ...
2022-10-13 02:47:57,116 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc3dd82d4d/s0/2fc17f64-b6d4-4e58-98b0-06427001659a
2022-10-13 02:47:57,117 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc3dd82d4d/s0/2fc17f64-b6d4-4e58-98b0-06427001659a/in_use.lock acquired by nodename 60246@fv-az318-428
2022-10-13 02:47:57,117 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc3dd82d4d/s0/2fc17f64-b6d4-4e58-98b0-06427001659a/current
2022-10-13 02:47:57,118 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc3dd82d4d/s0/2fc17f64-b6d4-4e58-98b0-06427001659a/sm
2022-10-13 02:47:57,119 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc3dd82d4d/s0/2fc17f64-b6d4-4e58-98b0-06427001659a has been successfully formatted.
2022-10-13 02:47:57,119 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-10-13 02:47:57,119 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-10-13 02:47:57,119 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-10-13 02:47:57,120 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-10-13 02:47:57,120 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-10-13 02:47:57,120 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-10-13 02:47:57,120 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-10-13 02:47:57,120 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-10-13 02:47:57,120 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-10-13 02:47:57,120 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-10-13 02:47:57,120 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s0@group-06427001659A-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc3dd82d4d/s0/2fc17f64-b6d4-4e58-98b0-06427001659a
2022-10-13 02:47:57,121 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-10-13 02:47:57,121 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-10-13 02:47:57,121 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-10-13 02:47:57,121 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-10-13 02:47:57,121 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-10-13 02:47:57,121 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-10-13 02:47:57,121 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-10-13 02:47:57,121 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-10-13 02:47:57,121 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-10-13 02:47:57,121 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-10-13 02:47:57,121 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-10-13 02:47:57,121 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-10-13 02:47:57,121 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-06427001659A-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-10-13 02:47:57,121 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-06427001659A-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-10-13 02:47:57,121 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-06427001659A: start as a follower, conf=-1: peers:[s0|rpc:localhost:43503|admin:localhost:33323|client:localhost:46073|dataStream:localhost:33039|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:57,122 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-06427001659A: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-10-13 02:47:57,122 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-06427001659A-FollowerState
2022-10-13 02:47:57,122 [s0@group-06427001659A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-10-13 02:47:57,122 [s0@group-06427001659A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-10-13 02:47:57,122 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-06427001659A,id=s0
2022-10-13 02:47:57,122 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-10-13 02:47:57,122 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-10-13 02:47:57,122 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-10-13 02:47:57,123 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2022-10-13 02:47:57,123 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(310)) - s0: GrpcService started, listening on 46073
2022-10-13 02:47:57,123 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(310)) - s0: GrpcService started, listening on 43503
2022-10-13 02:47:57,124 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(310)) - s0: GrpcService started, listening on 33323
2022-10-13 02:47:57,125 [JvmPauseMonitor18] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2022-10-13 02:47:57,125 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-10-13 02:47:57,125 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-06427001659A:t0, leader=null, voted=, raftlog=Memoized:s0@group-06427001659A-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43503|admin:localhost:33323|client:localhost:46073|dataStream:localhost:33039|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-10-13 02:47:57,125 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-06427001659A:t0, leader=null, voted=, raftlog=Memoized:s0@group-06427001659A-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43503|admin:localhost:33323|client:localhost:46073|dataStream:localhost:33039|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-06427001659A:t0, leader=null, voted=, raftlog=Memoized:s0@group-06427001659A-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43503|admin:localhost:33323|client:localhost:46073|dataStream:localhost:33039|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestServerRestartOnException(TestRaftServerWithGrpc.java:117)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testServerRestartOnException(TestRaftServerWithGrpc.java:100)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-10-13 02:47:57,296 [s0@group-06427001659A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-06427001659A-FollowerState: change to CANDIDATE, lastRpcElapsedTime:174724608ns, electionTimeout:174ms
2022-10-13 02:47:57,296 [s0@group-06427001659A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-06427001659A-FollowerState
2022-10-13 02:47:57,297 [s0@group-06427001659A-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-06427001659A: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-10-13 02:47:57,297 [s0@group-06427001659A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-10-13 02:47:57,297 [s0@group-06427001659A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-06427001659A-LeaderElection14
2022-10-13 02:47:57,299 [s0@group-06427001659A-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-06427001659A-LeaderElection14 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:43503|admin:localhost:33323|client:localhost:46073|dataStream:localhost:33039|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:57,299 [s0@group-06427001659A-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-06427001659A-LeaderElection14 PRE_VOTE round 0: result PASSED (term=0)
2022-10-13 02:47:57,303 [s0@group-06427001659A-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-06427001659A-LeaderElection14 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:43503|admin:localhost:33323|client:localhost:46073|dataStream:localhost:33039|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:57,303 [s0@group-06427001659A-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-06427001659A-LeaderElection14 ELECTION round 0: result PASSED (term=1)
2022-10-13 02:47:57,304 [s0@group-06427001659A-LeaderElection14] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-06427001659A-LeaderElection14
2022-10-13 02:47:57,304 [s0@group-06427001659A-LeaderElection14] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-06427001659A: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-10-13 02:47:57,304 [s0@group-06427001659A-LeaderElection14] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-06427001659A: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 190ms
2022-10-13 02:47:57,304 [s0@group-06427001659A-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-10-13 02:47:57,304 [s0@group-06427001659A-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-10-13 02:47:57,304 [s0@group-06427001659A-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-10-13 02:47:57,305 [s0@group-06427001659A-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-10-13 02:47:57,305 [s0@group-06427001659A-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-10-13 02:47:57,305 [s0@group-06427001659A-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-10-13 02:47:57,305 [s0@group-06427001659A-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-10-13 02:47:57,305 [s0@group-06427001659A-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-10-13 02:47:57,305 [s0@group-06427001659A-LeaderElection14] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-06427001659A-LeaderStateImpl
2022-10-13 02:47:57,305 [s0@group-06427001659A-LeaderElection14] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(427)) - s0@group-06427001659A-SegmentedRaftLogWorker: Starting segment from index:0
2022-10-13 02:47:57,306 [s0@group-06427001659A-LeaderElection14] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-06427001659A: set configuration 0: peers:[s0|rpc:localhost:43503|admin:localhost:33323|client:localhost:46073|dataStream:localhost:33039|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:47:57,319 [s0@group-06427001659A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(631)) - s0@group-06427001659A-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc3dd82d4d/s0/2fc17f64-b6d4-4e58-98b0-06427001659a/current/log_inprogress_0
2022-10-13 02:47:57,576 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-06427001659A:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-06427001659A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:43503|admin:localhost:33323|client:localhost:46073|dataStream:localhost:33039|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-10-13 02:47:57,577 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-10-13 02:47:57,577 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-10-13 02:47:57,577 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 33323 (custom)
2022-10-13 02:47:57,577 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-10-13 02:47:57,577 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 46073 (custom)
2022-10-13 02:47:57,577 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-10-13 02:47:57,577 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 43503 (custom)
2022-10-13 02:47:57,577 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:47:57,577 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-10-13 02:47:57,577 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:47:57,577 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-10-13 02:47:57,577 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-10-13 02:47:57,577 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-10-13 02:47:57,577 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-10-13 02:47:57,579 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-10-13 02:47:57,579 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-10-13 02:47:57,579 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-10-13 02:47:57,579 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-10-13 02:47:57,579 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-10-13 02:47:57,579 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc3dd82d4d/s0] (custom)
2022-10-13 02:47:57,580 [s0-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(254)) - s0: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc3dd82d4d/s0/2fc17f64-b6d4-4e58-98b0-06427001659a
2022-10-13 02:47:57,580 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-06427001659A:[s0|rpc:localhost:43503|admin:localhost:33323|client:localhost:46073|dataStream:localhost:33039|priority:0|startupRole:FOLLOWER] returns group-06427001659A:java.util.concurrent.CompletableFuture@77c5342a[Not completed]
2022-10-13 02:47:57,580 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(319)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-10-13 02:47:57,581 [pool-25-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-06427001659A:[s0|rpc:localhost:43503|admin:localhost:33323|client:localhost:46073|dataStream:localhost:33039|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:s0:group-06427001659A
2022-10-13 02:47:57,581 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-10-13 02:47:57,581 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-10-13 02:47:57,581 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-10-13 02:47:57,581 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-10-13 02:47:57,581 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(328)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-10-13 02:47:57,581 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(319)) - s0: shutdown server GrpcServerProtocolService now
2022-10-13 02:47:57,581 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-10-13 02:47:57,581 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-10-13 02:47:57,581 [pool-25-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-06427001659A: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:43503|admin:localhost:33323|client:localhost:46073|dataStream:localhost:33039|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-10-13 02:47:57,581 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-10-13 02:47:57,581 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-10-13 02:47:57,581 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-10-13 02:47:57,581 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(328)) - s0: shutdown server GrpcServerProtocolService successfully
2022-10-13 02:47:57,582 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(319)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-10-13 02:47:57,581 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-10-13 02:47:57,582 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-10-13 02:47:57,582 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(328)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-10-13 02:47:57,582 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-10-13 02:47:57,582 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'Starting a new server with the same address should fail'
2022-10-13 02:47:57,582 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-10-13 02:47:57,582 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-10-13 02:47:57,582 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-10-13 02:47:57,582 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-10-13 02:47:57,582 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-10-13 02:47:57,582 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-10-13 02:47:57,583 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 33323 (custom)
2022-10-13 02:47:57,583 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-10-13 02:47:57,583 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 46073 (custom)
2022-10-13 02:47:57,583 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-10-13 02:47:57,583 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 43503 (custom)
2022-10-13 02:47:57,583 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:47:57,583 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-10-13 02:47:57,583 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:47:57,583 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-10-13 02:47:57,583 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-10-13 02:47:57,583 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-10-13 02:47:57,583 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-10-13 02:47:57,584 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-10-13 02:47:57,584 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-10-13 02:47:57,584 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-10-13 02:47:57,584 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-10-13 02:47:57,584 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-10-13 02:47:57,584 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc3dd82d4d/s0] (custom)
2022-10-13 02:47:57,585 [s0-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(254)) - s0: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc3dd82d4d/s0/2fc17f64-b6d4-4e58-98b0-06427001659a
2022-10-13 02:47:57,585 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-06427001659A:[s0|rpc:localhost:43503|admin:localhost:33323|client:localhost:46073|dataStream:localhost:33039|priority:0|startupRole:FOLLOWER] returns group-06427001659A:java.util.concurrent.CompletableFuture@32fbbd87[Not completed]
2022-10-13 02:47:57,585 [pool-26-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-06427001659A:[s0|rpc:localhost:43503|admin:localhost:33323|client:localhost:46073|dataStream:localhost:33039|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:s0:group-06427001659A
2022-10-13 02:47:57,585 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-10-13 02:47:57,585 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-10-13 02:47:57,585 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-10-13 02:47:57,585 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-10-13 02:47:57,585 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-10-13 02:47:57,586 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-10-13 02:47:57,586 [pool-26-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-06427001659A: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:43503|admin:localhost:33323|client:localhost:46073|dataStream:localhost:33039|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-10-13 02:47:57,586 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-10-13 02:47:57,586 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-10-13 02:47:57,586 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-10-13 02:47:57,586 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-10-13 02:47:57,586 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-10-13 02:47:57,586 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-10-13 02:47:57,586 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-10-13 02:47:57,586 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-10-13 02:47:57,586 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-10-13 02:47:57,586 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-10-13 02:47:57,586 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-10-13 02:47:57,586 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-10-13 02:47:57,587 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc3dd82d4d/s0] (custom)
2022-10-13 02:47:57,587 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc3dd82d4d/s0/2fc17f64-b6d4-4e58-98b0-06427001659a
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-10-13 02:47:57,587 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc3dd82d4d/s0/2fc17f64-b6d4-4e58-98b0-06427001659a/in_use.lock", attempt #1/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc3dd82d4d/s0/2fc17f64-b6d4-4e58-98b0-06427001659a. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc3dd82d4d/s0/2fc17f64-b6d4-4e58-98b0-06427001659a. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2022-10-13 02:47:58,588 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc3dd82d4d/s0/2fc17f64-b6d4-4e58-98b0-06427001659a
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-10-13 02:47:58,588 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc3dd82d4d/s0/2fc17f64-b6d4-4e58-98b0-06427001659a/in_use.lock", attempt #2/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc3dd82d4d/s0/2fc17f64-b6d4-4e58-98b0-06427001659a. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc3dd82d4d/s0/2fc17f64-b6d4-4e58-98b0-06427001659a. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2022-10-13 02:47:59,589 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc3dd82d4d/s0/2fc17f64-b6d4-4e58-98b0-06427001659a
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-10-13 02:47:59,589 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc3dd82d4d/s0/2fc17f64-b6d4-4e58-98b0-06427001659a/in_use.lock", attempt #3/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc3dd82d4d/s0/2fc17f64-b6d4-4e58-98b0-06427001659a. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc3dd82d4d/s0/2fc17f64-b6d4-4e58-98b0-06427001659a. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2022-10-13 02:48:00,590 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc3dd82d4d/s0/2fc17f64-b6d4-4e58-98b0-06427001659a
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-10-13 02:48:00,591 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc3dd82d4d/s0/2fc17f64-b6d4-4e58-98b0-06427001659a/in_use.lock", attempt #4/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc3dd82d4d/s0/2fc17f64-b6d4-4e58-98b0-06427001659a. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc3dd82d4d/s0/2fc17f64-b6d4-4e58-98b0-06427001659a. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2022-10-13 02:48:01,591 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc3dd82d4d/s0/2fc17f64-b6d4-4e58-98b0-06427001659a
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-10-13 02:48:01,592 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "Starting a new server with the same address should fail" throws CompletionException
java.util.concurrent.CompletionException: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc3dd82d4d/s0/2fc17f64-b6d4-4e58-98b0-06427001659a. The directory is already locked
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$BiRelay.tryFire(CompletableFuture.java:1423)
	at java.base/java.util.concurrent.CompletableFuture$CoCompletion.tryFire(CompletableFuture.java:1144)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:176)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpc3dd82d4d/s0/2fc17f64-b6d4-4e58-98b0-06427001659a. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:164)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:124)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:95)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	... 4 more
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2022-10-13 02:48:01,593 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-10-13 02:48:01,593 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 33323 (custom)
2022-10-13 02:48:01,593 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-10-13 02:48:01,593 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 46073 (custom)
2022-10-13 02:48:01,593 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-10-13 02:48:01,593 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 43503 (custom)
2022-10-13 02:48:01,593 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:48:01,593 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-10-13 02:48:01,593 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:48:01,593 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-10-13 02:48:01,593 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-10-13 02:48:01,593 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-10-13 02:48:01,593 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-10-13 02:48:01,594 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-10-13 02:48:01,594 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-10-13 02:48:01,594 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2022-10-13 02:48:01,594 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-10-13 02:48:01,594 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-10-13 02:48:01,594 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-06427001659A:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-06427001659A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:43503|admin:localhost:33323|client:localhost:46073|dataStream:localhost:33039|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-10-13 02:48:01,595 [MiniRaftCluster-19] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2022-10-13 02:48:01,596 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-06427001659A: shutdown
2022-10-13 02:48:01,596 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-06427001659A,id=s0
2022-10-13 02:48:01,596 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-06427001659A-LeaderStateImpl
2022-10-13 02:48:01,596 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-06427001659A-PendingRequests: sendNotLeaderResponses
2022-10-13 02:48:01,596 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-06427001659A-StateMachineUpdater: set stopIndex = 0
2022-10-13 02:48:01,596 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s0@group-06427001659A: applyIndex: 0
2022-10-13 02:48:01,596 [s0@group-06427001659A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(329)) - s0@group-06427001659A-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-10-13 02:48:01,598 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s0@group-06427001659A-SegmentedRaftLogWorker close()
2022-10-13 02:48:01,598 [JvmPauseMonitor18] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2022-10-13 02:48:01,599 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2022-10-13 02:48:01,599 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.conf.ConfUtils log level to WARN
2022-10-13 02:48:01,599 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.util.FileUtils log level to TRACE
2022-10-13 02:48:01,599 [main] INFO  util.LogUtils (Log4jUtils.java:setLogLevel(32)) - Set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to ALL
2022-10-13 02:48:01,603 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2022-10-13 02:48:01,604 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-BAF3FF2B1492:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]
2022-10-13 02:48:01,604 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2022-10-13 02:48:01,604 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2022-10-13 02:48:01,604 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2022-10-13 02:48:01,604 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2022-10-13 02:48:01,604 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2022-10-13 02:48:01,604 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2022-10-13 02:48:01,604 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-BAF3FF2B1492:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER], format? true
2022-10-13 02:48:01,605 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/bc10d1de/MiniRaftClusterWithGrpcf3c21c1b/s0
2022-10-13 02:48:01,605 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/bc10d1de/MiniRaftClusterWithGrpcf3c21c1b/s0 does not exist.
2022-10-13 02:48:01,605 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/bc10d1de/MiniRaftClusterWithGrpcf3c21c1b/s0
2022-10-13 02:48:01,605 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-10-13 02:48:01,605 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-10-13 02:48:01,605 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 39001 (custom)
2022-10-13 02:48:01,605 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-10-13 02:48:01,606 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 45049 (custom)
2022-10-13 02:48:01,606 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-10-13 02:48:01,606 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 45651 (custom)
2022-10-13 02:48:01,606 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:48:01,606 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-10-13 02:48:01,606 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:48:01,606 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-10-13 02:48:01,606 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-10-13 02:48:01,606 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-10-13 02:48:01,606 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-10-13 02:48:01,607 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-10-13 02:48:01,607 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-10-13 02:48:01,608 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-10-13 02:48:01,608 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-10-13 02:48:01,608 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-10-13 02:48:01,608 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcf3c21c1b/s0] (custom)
2022-10-13 02:48:01,608 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-BAF3FF2B1492:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER] returns group-BAF3FF2B1492:java.util.concurrent.CompletableFuture@372f18e0[Not completed]
2022-10-13 02:48:01,608 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-BAF3FF2B1492:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER], format? true
2022-10-13 02:48:01,609 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/bc10d1de/MiniRaftClusterWithGrpcf3c21c1b/s1
2022-10-13 02:48:01,609 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/bc10d1de/MiniRaftClusterWithGrpcf3c21c1b/s1 does not exist.
2022-10-13 02:48:01,609 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/bc10d1de/MiniRaftClusterWithGrpcf3c21c1b/s1
2022-10-13 02:48:01,609 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-10-13 02:48:01,609 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-10-13 02:48:01,609 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 37323 (custom)
2022-10-13 02:48:01,609 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-10-13 02:48:01,609 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 40121 (custom)
2022-10-13 02:48:01,609 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-10-13 02:48:01,609 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 40641 (custom)
2022-10-13 02:48:01,609 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:48:01,609 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-10-13 02:48:01,609 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:48:01,609 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-10-13 02:48:01,609 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-10-13 02:48:01,610 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-10-13 02:48:01,610 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-10-13 02:48:01,610 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-10-13 02:48:01,610 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-10-13 02:48:01,610 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-10-13 02:48:01,610 [pool-27-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-BAF3FF2B1492:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-10-13 02:48:01,611 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-10-13 02:48:01,611 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-10-13 02:48:01,611 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-10-13 02:48:01,611 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-10-13 02:48:01,611 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-10-13 02:48:01,611 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-10-13 02:48:01,611 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-10-13 02:48:01,611 [pool-27-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-BAF3FF2B1492: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-10-13 02:48:01,611 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-10-13 02:48:01,611 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-10-13 02:48:01,611 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-10-13 02:48:01,611 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-10-13 02:48:01,611 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-10-13 02:48:01,612 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcf3c21c1b/s1] (custom)
2022-10-13 02:48:01,612 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-10-13 02:48:01,612 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-10-13 02:48:01,612 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-10-13 02:48:01,612 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-10-13 02:48:01,613 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-10-13 02:48:01,613 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-10-13 02:48:01,613 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-10-13 02:48:01,613 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-10-13 02:48:01,613 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-10-13 02:48:01,618 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-BAF3FF2B1492:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER] returns group-BAF3FF2B1492:java.util.concurrent.CompletableFuture@4315a0db[Not completed]
2022-10-13 02:48:01,618 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-BAF3FF2B1492:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER], format? true
2022-10-13 02:48:01,618 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-10-13 02:48:01,618 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-10-13 02:48:01,618 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(168)) - deleteFully target/test/data/bc10d1de/MiniRaftClusterWithGrpcf3c21c1b/s2
2022-10-13 02:48:01,618 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-10-13 02:48:01,619 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(184)) - deleteFully: target/test/data/bc10d1de/MiniRaftClusterWithGrpcf3c21c1b/s2 does not exist.
2022-10-13 02:48:01,619 [pool-28-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-BAF3FF2B1492:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-10-13 02:48:01,619 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/bc10d1de/MiniRaftClusterWithGrpcf3c21c1b/s2
2022-10-13 02:48:01,619 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-10-13 02:48:01,619 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-10-13 02:48:01,619 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-10-13 02:48:01,619 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-10-13 02:48:01,619 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-10-13 02:48:01,619 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-10-13 02:48:01,619 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2022-10-13 02:48:01,619 [pool-28-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-BAF3FF2B1492: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-10-13 02:48:01,619 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2022-10-13 02:48:01,619 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-10-13 02:48:01,619 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 45405 (custom)
2022-10-13 02:48:01,619 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-10-13 02:48:01,619 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2022-10-13 02:48:01,619 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-10-13 02:48:01,619 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 34927 (custom)
2022-10-13 02:48:01,619 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2022-10-13 02:48:01,619 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 38839 (custom)
2022-10-13 02:48:01,619 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:48:01,619 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-10-13 02:48:01,619 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:48:01,620 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-10-13 02:48:01,620 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-10-13 02:48:01,620 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2022-10-13 02:48:01,620 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2022-10-13 02:48:01,621 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2022-10-13 02:48:01,621 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2022-10-13 02:48:01,621 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2022-10-13 02:48:01,621 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-10-13 02:48:01,621 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-10-13 02:48:01,621 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcf3c21c1b/s2] (custom)
2022-10-13 02:48:01,621 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-10-13 02:48:01,621 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-10-13 02:48:01,622 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-BAF3FF2B1492:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER] returns group-BAF3FF2B1492:java.util.concurrent.CompletableFuture@67253137[Not completed]
2022-10-13 02:48:01,622 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-10-13 02:48:01,622 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-10-13 02:48:01,623 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-10-13 02:48:01,623 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcf3c21c1b/s0] (custom)
2022-10-13 02:48:01,623 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcf3c21c1b/s0/d23446d9-04fe-405e-b6f0-baf3ff2b1492 does not exist. Creating ...
2022-10-13 02:48:01,623 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-10-13 02:48:01,623 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-10-13 02:48:01,623 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-10-13 02:48:01,623 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcf3c21c1b/s0/d23446d9-04fe-405e-b6f0-baf3ff2b1492
2022-10-13 02:48:01,623 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-10-13 02:48:01,623 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-10-13 02:48:01,625 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-10-13 02:48:01,625 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-10-13 02:48:01,625 [pool-29-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-BAF3FF2B1492:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2022-10-13 02:48:01,625 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2022-10-13 02:48:01,625 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-10-13 02:48:01,625 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2022-10-13 02:48:01,625 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2022-10-13 02:48:01,625 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2022-10-13 02:48:01,626 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2022-10-13 02:48:01,626 [pool-29-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-BAF3FF2B1492: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2022-10-13 02:48:01,626 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2022-10-13 02:48:01,626 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2022-10-13 02:48:01,626 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2022-10-13 02:48:01,626 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2022-10-13 02:48:01,626 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2022-10-13 02:48:01,627 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcf3c21c1b/s0/d23446d9-04fe-405e-b6f0-baf3ff2b1492/in_use.lock acquired by nodename 60246@fv-az318-428
2022-10-13 02:48:01,627 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcf3c21c1b/s0/d23446d9-04fe-405e-b6f0-baf3ff2b1492/current
2022-10-13 02:48:01,627 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcf3c21c1b/s0/d23446d9-04fe-405e-b6f0-baf3ff2b1492/sm
2022-10-13 02:48:01,628 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-10-13 02:48:01,628 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2022-10-13 02:48:01,628 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2022-10-13 02:48:01,628 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2022-10-13 02:48:01,629 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2022-10-13 02:48:01,629 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcf3c21c1b/s0/d23446d9-04fe-405e-b6f0-baf3ff2b1492 has been successfully formatted.
2022-10-13 02:48:01,629 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-10-13 02:48:01,629 [s0-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-10-13 02:48:01,629 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-10-13 02:48:01,629 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-10-13 02:48:01,629 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-10-13 02:48:01,629 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-10-13 02:48:01,629 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-10-13 02:48:01,630 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-10-13 02:48:01,630 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-10-13 02:48:01,630 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-10-13 02:48:01,630 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s0@group-BAF3FF2B1492-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcf3c21c1b/s0/d23446d9-04fe-405e-b6f0-baf3ff2b1492
2022-10-13 02:48:01,630 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-10-13 02:48:01,630 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-10-13 02:48:01,630 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-10-13 02:48:01,630 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-10-13 02:48:01,630 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-10-13 02:48:01,630 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-10-13 02:48:01,630 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-10-13 02:48:01,630 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-10-13 02:48:01,631 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-10-13 02:48:01,631 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-10-13 02:48:01,631 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-10-13 02:48:01,631 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-10-13 02:48:01,631 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-BAF3FF2B1492-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-10-13 02:48:01,631 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-BAF3FF2B1492-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-10-13 02:48:01,631 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-BAF3FF2B1492: start as a follower, conf=-1: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:48:01,631 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-BAF3FF2B1492: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-10-13 02:48:01,631 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-BAF3FF2B1492-FollowerState
2022-10-13 02:48:01,638 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-BAF3FF2B1492,id=s0
2022-10-13 02:48:01,638 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-10-13 02:48:01,638 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-10-13 02:48:01,638 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-10-13 02:48:01,639 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2022-10-13 02:48:01,639 [s0@group-BAF3FF2B1492-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-10-13 02:48:01,639 [s0@group-BAF3FF2B1492-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-10-13 02:48:01,640 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(310)) - s0: GrpcService started, listening on 45049
2022-10-13 02:48:01,640 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(310)) - s0: GrpcService started, listening on 45651
2022-10-13 02:48:01,640 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(310)) - s0: GrpcService started, listening on 39001
2022-10-13 02:48:01,646 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-10-13 02:48:01,646 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-10-13 02:48:01,646 [JvmPauseMonitor19] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2022-10-13 02:48:01,647 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcf3c21c1b/s1] (custom)
2022-10-13 02:48:01,647 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcf3c21c1b/s1/d23446d9-04fe-405e-b6f0-baf3ff2b1492 does not exist. Creating ...
2022-10-13 02:48:01,647 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcf3c21c1b/s1/d23446d9-04fe-405e-b6f0-baf3ff2b1492
2022-10-13 02:48:01,648 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcf3c21c1b/s1/d23446d9-04fe-405e-b6f0-baf3ff2b1492/in_use.lock acquired by nodename 60246@fv-az318-428
2022-10-13 02:48:01,648 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcf3c21c1b/s1/d23446d9-04fe-405e-b6f0-baf3ff2b1492/current
2022-10-13 02:48:01,649 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcf3c21c1b/s1/d23446d9-04fe-405e-b6f0-baf3ff2b1492/sm
2022-10-13 02:48:01,650 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcf3c21c1b/s1/d23446d9-04fe-405e-b6f0-baf3ff2b1492 has been successfully formatted.
2022-10-13 02:48:01,651 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-10-13 02:48:01,651 [s1-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-10-13 02:48:01,651 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-10-13 02:48:01,651 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-10-13 02:48:01,651 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-10-13 02:48:01,651 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-10-13 02:48:01,651 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-10-13 02:48:01,652 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-10-13 02:48:01,652 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-10-13 02:48:01,652 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-10-13 02:48:01,652 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s1@group-BAF3FF2B1492-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcf3c21c1b/s1/d23446d9-04fe-405e-b6f0-baf3ff2b1492
2022-10-13 02:48:01,652 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-10-13 02:48:01,652 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-10-13 02:48:01,652 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-10-13 02:48:01,652 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-10-13 02:48:01,652 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-10-13 02:48:01,652 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-10-13 02:48:01,652 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-10-13 02:48:01,652 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-10-13 02:48:01,652 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-10-13 02:48:01,652 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-10-13 02:48:01,652 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-10-13 02:48:01,652 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-10-13 02:48:01,653 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-BAF3FF2B1492-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-10-13 02:48:01,653 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-BAF3FF2B1492-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-10-13 02:48:01,653 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s1@group-BAF3FF2B1492: start as a follower, conf=-1: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:48:01,653 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-BAF3FF2B1492: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-10-13 02:48:01,653 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-BAF3FF2B1492-FollowerState
2022-10-13 02:48:01,653 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-BAF3FF2B1492,id=s1
2022-10-13 02:48:01,653 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-10-13 02:48:01,653 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-10-13 02:48:01,653 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-10-13 02:48:01,654 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s1: start RPC server
2022-10-13 02:48:01,654 [s1@group-BAF3FF2B1492-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-10-13 02:48:01,654 [s1@group-BAF3FF2B1492-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-10-13 02:48:01,654 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(310)) - s1: GrpcService started, listening on 40121
2022-10-13 02:48:01,655 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(310)) - s1: GrpcService started, listening on 40641
2022-10-13 02:48:01,655 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(310)) - s1: GrpcService started, listening on 37323
2022-10-13 02:48:01,655 [JvmPauseMonitor20] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2022-10-13 02:48:01,655 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2022-10-13 02:48:01,655 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2022-10-13 02:48:01,656 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcf3c21c1b/s2] (custom)
2022-10-13 02:48:01,656 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcf3c21c1b/s2/d23446d9-04fe-405e-b6f0-baf3ff2b1492 does not exist. Creating ...
2022-10-13 02:48:01,656 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcf3c21c1b/s2/d23446d9-04fe-405e-b6f0-baf3ff2b1492
2022-10-13 02:48:01,657 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcf3c21c1b/s2/d23446d9-04fe-405e-b6f0-baf3ff2b1492/in_use.lock acquired by nodename 60246@fv-az318-428
2022-10-13 02:48:01,657 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcf3c21c1b/s2/d23446d9-04fe-405e-b6f0-baf3ff2b1492/current
2022-10-13 02:48:01,657 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcf3c21c1b/s2/d23446d9-04fe-405e-b6f0-baf3ff2b1492/sm
2022-10-13 02:48:01,659 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcf3c21c1b/s2/d23446d9-04fe-405e-b6f0-baf3ff2b1492 has been successfully formatted.
2022-10-13 02:48:01,659 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(212)) - Initializing SimpleStateMachine4Testing:uninitialized
2022-10-13 02:48:01,659 [s2-impl-thread1] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(306)) - The snapshot file null does not exist
2022-10-13 02:48:01,659 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2022-10-13 02:48:01,659 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2022-10-13 02:48:01,659 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-10-13 02:48:01,659 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2022-10-13 02:48:01,659 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2022-10-13 02:48:01,660 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-10-13 02:48:01,660 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2022-10-13 02:48:01,660 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2022-10-13 02:48:01,660 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s2@group-BAF3FF2B1492-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcf3c21c1b/s2/d23446d9-04fe-405e-b6f0-baf3ff2b1492
2022-10-13 02:48:01,660 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2022-10-13 02:48:01,660 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2022-10-13 02:48:01,660 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2022-10-13 02:48:01,660 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2022-10-13 02:48:01,660 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2022-10-13 02:48:01,660 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2022-10-13 02:48:01,661 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2022-10-13 02:48:01,661 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2022-10-13 02:48:01,661 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2022-10-13 02:48:01,661 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2022-10-13 02:48:01,661 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2022-10-13 02:48:01,661 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2022-10-13 02:48:01,661 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-BAF3FF2B1492-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2022-10-13 02:48:01,661 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-BAF3FF2B1492-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2022-10-13 02:48:01,661 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s2@group-BAF3FF2B1492: start as a follower, conf=-1: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:48:01,662 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-BAF3FF2B1492: changes role from      null to FOLLOWER at term 0 for startAsFollower
2022-10-13 02:48:01,662 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-BAF3FF2B1492-FollowerState
2022-10-13 02:48:01,662 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-BAF3FF2B1492,id=s2
2022-10-13 02:48:01,662 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2022-10-13 02:48:01,662 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2022-10-13 02:48:01,662 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2022-10-13 02:48:01,663 [s2@group-BAF3FF2B1492-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-10-13 02:48:01,663 [s2@group-BAF3FF2B1492-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-10-13 02:48:01,665 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s2: start RPC server
2022-10-13 02:48:01,665 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(310)) - s2: GrpcService started, listening on 34927
2022-10-13 02:48:01,666 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(310)) - s2: GrpcService started, listening on 38839
2022-10-13 02:48:01,666 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(310)) - s2: GrpcService started, listening on 45405
2022-10-13 02:48:01,666 [JvmPauseMonitor21] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2022-10-13 02:48:01,666 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-10-13 02:48:01,667 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-BAF3FF2B1492:t0, leader=null, voted=, raftlog=Memoized:s0@group-BAF3FF2B1492-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-BAF3FF2B1492:t0, leader=null, voted=, raftlog=Memoized:s1@group-BAF3FF2B1492-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-BAF3FF2B1492:t0, leader=null, voted=, raftlog=Memoized:s2@group-BAF3FF2B1492-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-10-13 02:48:01,667 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-BAF3FF2B1492:t0, leader=null, voted=, raftlog=Memoized:s0@group-BAF3FF2B1492-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-BAF3FF2B1492:t0, leader=null, voted=, raftlog=Memoized:s1@group-BAF3FF2B1492-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-BAF3FF2B1492:t0, leader=null, voted=, raftlog=Memoized:s2@group-BAF3FF2B1492-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-BAF3FF2B1492:t0, leader=null, voted=, raftlog=Memoized:s0@group-BAF3FF2B1492-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-BAF3FF2B1492:t0, leader=null, voted=, raftlog=Memoized:s1@group-BAF3FF2B1492-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-BAF3FF2B1492:t0, leader=null, voted=, raftlog=Memoized:s2@group-BAF3FF2B1492-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:169)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:165)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-10-13 02:48:01,899 [s0@group-BAF3FF2B1492-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-BAF3FF2B1492-FollowerState: change to CANDIDATE, lastRpcElapsedTime:267849729ns, electionTimeout:260ms
2022-10-13 02:48:01,899 [s0@group-BAF3FF2B1492-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-BAF3FF2B1492-FollowerState
2022-10-13 02:48:01,899 [s0@group-BAF3FF2B1492-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-BAF3FF2B1492: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2022-10-13 02:48:01,900 [s0@group-BAF3FF2B1492-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-10-13 02:48:01,900 [s0@group-BAF3FF2B1492-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-BAF3FF2B1492-LeaderElection15
2022-10-13 02:48:01,903 [s0@group-BAF3FF2B1492-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-BAF3FF2B1492-LeaderElection15 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:48:01,903 [s0@group-BAF3FF2B1492-LeaderElection15-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2022-10-13 02:48:01,903 [s0@group-BAF3FF2B1492-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-10-13 02:48:01,904 [s0@group-BAF3FF2B1492-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-10-13 02:48:01,904 [s0@group-BAF3FF2B1492-LeaderElection15-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2022-10-13 02:48:01,911 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s2@group-BAF3FF2B1492: receive requestVote(PRE_VOTE, s0, group-BAF3FF2B1492, 0, (t:0, i:0))
2022-10-13 02:48:01,911 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-BAF3FF2B1492-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-10-13 02:48:01,911 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1324)) - s2@group-BAF3FF2B1492 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-BAF3FF2B1492:t0, leader=null, voted=, raftlog=Memoized:s2@group-BAF3FF2B1492-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:48:01,912 [s0@group-BAF3FF2B1492-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-BAF3FF2B1492-LeaderElection15: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2022-10-13 02:48:01,912 [s0@group-BAF3FF2B1492-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s2#0:OK-t0
2022-10-13 02:48:01,912 [s0@group-BAF3FF2B1492-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-BAF3FF2B1492-LeaderElection15 PRE_VOTE round 0: result PASSED
2022-10-13 02:48:01,914 [s0@group-BAF3FF2B1492-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-BAF3FF2B1492-LeaderElection15 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:48:01,917 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s1@group-BAF3FF2B1492: receive requestVote(PRE_VOTE, s0, group-BAF3FF2B1492, 0, (t:0, i:0))
2022-10-13 02:48:01,917 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-BAF3FF2B1492-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2022-10-13 02:48:01,917 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1324)) - s1@group-BAF3FF2B1492 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-BAF3FF2B1492:t0, leader=null, voted=, raftlog=Memoized:s1@group-BAF3FF2B1492-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:48:01,918 [s0@group-BAF3FF2B1492-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-10-13 02:48:01,919 [s0@group-BAF3FF2B1492-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-10-13 02:48:01,919 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s1@group-BAF3FF2B1492: receive requestVote(ELECTION, s0, group-BAF3FF2B1492, 1, (t:0, i:0))
2022-10-13 02:48:01,919 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-BAF3FF2B1492-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-10-13 02:48:01,919 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-BAF3FF2B1492: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-10-13 02:48:01,919 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-BAF3FF2B1492-FollowerState
2022-10-13 02:48:01,919 [s1@group-BAF3FF2B1492-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-BAF3FF2B1492-FollowerState was interrupted
2022-10-13 02:48:01,919 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-BAF3FF2B1492-FollowerState
2022-10-13 02:48:01,920 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s2@group-BAF3FF2B1492: receive requestVote(ELECTION, s0, group-BAF3FF2B1492, 1, (t:0, i:0))
2022-10-13 02:48:01,920 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-BAF3FF2B1492-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2022-10-13 02:48:01,920 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-BAF3FF2B1492: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2022-10-13 02:48:01,920 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-BAF3FF2B1492-FollowerState
2022-10-13 02:48:01,921 [s2@group-BAF3FF2B1492-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-BAF3FF2B1492-FollowerState was interrupted
2022-10-13 02:48:01,921 [s1@group-BAF3FF2B1492-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-10-13 02:48:01,921 [s1@group-BAF3FF2B1492-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-10-13 02:48:01,921 [grpc-default-executor-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-BAF3FF2B1492-FollowerState
2022-10-13 02:48:01,925 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1324)) - s1@group-BAF3FF2B1492 replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-BAF3FF2B1492:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-BAF3FF2B1492-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:48:01,926 [s0@group-BAF3FF2B1492-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-BAF3FF2B1492-LeaderElection15: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-10-13 02:48:01,926 [s0@group-BAF3FF2B1492-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t1
2022-10-13 02:48:01,926 [s0@group-BAF3FF2B1492-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-BAF3FF2B1492-LeaderElection15 ELECTION round 0: result PASSED
2022-10-13 02:48:01,926 [s0@group-BAF3FF2B1492-LeaderElection15] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-BAF3FF2B1492-LeaderElection15
2022-10-13 02:48:01,926 [s0@group-BAF3FF2B1492-LeaderElection15] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-BAF3FF2B1492: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2022-10-13 02:48:01,927 [s0@group-BAF3FF2B1492-LeaderElection15] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-BAF3FF2B1492: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 315ms
2022-10-13 02:48:01,927 [s0@group-BAF3FF2B1492-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-10-13 02:48:01,927 [s0@group-BAF3FF2B1492-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-10-13 02:48:01,927 [s0@group-BAF3FF2B1492-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-10-13 02:48:01,927 [s0@group-BAF3FF2B1492-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-10-13 02:48:01,927 [s0@group-BAF3FF2B1492-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-10-13 02:48:01,927 [s0@group-BAF3FF2B1492-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-10-13 02:48:01,927 [s0@group-BAF3FF2B1492-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-10-13 02:48:01,927 [s0@group-BAF3FF2B1492-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-10-13 02:48:01,927 [s0@group-BAF3FF2B1492-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-10-13 02:48:01,928 [s0@group-BAF3FF2B1492-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-10-13 02:48:01,928 [s0@group-BAF3FF2B1492-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-10-13 02:48:01,928 [s0@group-BAF3FF2B1492-LeaderElection15] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-10-13 02:48:01,928 [s0@group-BAF3FF2B1492-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-10-13 02:48:01,928 [s0@group-BAF3FF2B1492-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-10-13 02:48:01,928 [s0@group-BAF3FF2B1492-LeaderElection15] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-10-13 02:48:01,928 [s0@group-BAF3FF2B1492-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2022-10-13 02:48:01,928 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1324)) - s2@group-BAF3FF2B1492 replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-BAF3FF2B1492:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-BAF3FF2B1492-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:48:01,928 [s0@group-BAF3FF2B1492-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-10-13 02:48:01,928 [s0@group-BAF3FF2B1492-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-10-13 02:48:01,928 [s0@group-BAF3FF2B1492-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-10-13 02:48:01,928 [s0@group-BAF3FF2B1492-LeaderElection15] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-10-13 02:48:01,928 [s0@group-BAF3FF2B1492-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-10-13 02:48:01,928 [s0@group-BAF3FF2B1492-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-10-13 02:48:01,929 [s0@group-BAF3FF2B1492-LeaderElection15] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-10-13 02:48:01,929 [s0@group-BAF3FF2B1492-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2022-10-13 02:48:01,929 [s0@group-BAF3FF2B1492-LeaderElection15] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-BAF3FF2B1492-LeaderStateImpl
2022-10-13 02:48:01,929 [s0@group-BAF3FF2B1492-LeaderElection15] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(427)) - s0@group-BAF3FF2B1492-SegmentedRaftLogWorker: Starting segment from index:0
2022-10-13 02:48:01,931 [s2@group-BAF3FF2B1492-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2022-10-13 02:48:01,931 [s2@group-BAF3FF2B1492-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2022-10-13 02:48:01,937 [s0@group-BAF3FF2B1492-LeaderElection15] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-BAF3FF2B1492: set configuration 0: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:48:01,945 [s0@group-BAF3FF2B1492-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(631)) - s0@group-BAF3FF2B1492-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcf3c21c1b/s0/d23446d9-04fe-405e-b6f0-baf3ff2b1492/current/log_inprogress_0
2022-10-13 02:48:01,955 [s1-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-BAF3FF2B1492: change Leader from null to s0 at term 1 for appendEntries, leader elected after 336ms
2022-10-13 02:48:01,959 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-BAF3FF2B1492: change Leader from null to s0 at term 1 for appendEntries, leader elected after 333ms
2022-10-13 02:48:01,959 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-BAF3FF2B1492: set configuration 0: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:48:01,959 [s2-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(427)) - s2@group-BAF3FF2B1492-SegmentedRaftLogWorker: Starting segment from index:0
2022-10-13 02:48:01,966 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-BAF3FF2B1492: set configuration 0: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:48:01,966 [s1-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(427)) - s1@group-BAF3FF2B1492-SegmentedRaftLogWorker: Starting segment from index:0
2022-10-13 02:48:01,980 [s2@group-BAF3FF2B1492-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(631)) - s2@group-BAF3FF2B1492-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcf3c21c1b/s2/d23446d9-04fe-405e-b6f0-baf3ff2b1492/current/log_inprogress_0
2022-10-13 02:48:01,981 [s1@group-BAF3FF2B1492-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(631)) - s1@group-BAF3FF2B1492-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcf3c21c1b/s1/d23446d9-04fe-405e-b6f0-baf3ff2b1492/current/log_inprogress_0
2022-10-13 02:48:02,118 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-BAF3FF2B1492:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-BAF3FF2B1492-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-BAF3FF2B1492:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-BAF3FF2B1492-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-BAF3FF2B1492:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-BAF3FF2B1492-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-10-13 02:48:02,118 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:48:02,118 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:48:02,127 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-814F68AF7225->s0: receive RaftClientReply:client-814F68AF7225->s0@group-BAF3FF2B1492, cid=62, SUCCESS, logIndex=0, commits[s0:c0, s1:c0, s2:c0]
2022-10-13 02:48:02,143 [s0@group-BAF3FF2B1492-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 63@client-814F68AF7225
2022-10-13 02:48:02,144 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-814F68AF7225->s0: receive RaftClientReply:client-814F68AF7225->s0@group-BAF3FF2B1492, cid=63, SUCCESS, logIndex=1, commits[s0:c1, s1:c0, s2:c0]
2022-10-13 02:48:02,145 [s2@group-BAF3FF2B1492-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 63@client-814F68AF7225
2022-10-13 02:48:02,146 [s1@group-BAF3FF2B1492-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 63@client-814F68AF7225
2022-10-13 02:48:02,148 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:48:02,148 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:48:02,159 [s0@group-BAF3FF2B1492-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s0: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-A0CC0C51E136
2022-10-13 02:48:02,169 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-A0CC0C51E136->s0: receive RaftClientReply:client-A0CC0C51E136->s0@group-BAF3FF2B1492, cid=1, SUCCESS, logIndex=3, commits[s0:c3, s1:c1, s2:c2]
2022-10-13 02:48:02,169 [s1@group-BAF3FF2B1492-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s1: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-A0CC0C51E136
2022-10-13 02:48:02,169 [Time-limited test] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:block(134)) - block START_TRANSACTION
2022-10-13 02:48:02,170 [Time-limited test] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:blockRequestor(49)) - Block requestor s0
2022-10-13 02:48:02,170 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-10-13 02:48:02,170 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-BAF3FF2B1492:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-BAF3FF2B1492-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-BAF3FF2B1492:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-BAF3FF2B1492-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-BAF3FF2B1492:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-BAF3FF2B1492-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-10-13 02:48:02,170 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-BAF3FF2B1492:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-BAF3FF2B1492-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-BAF3FF2B1492:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-BAF3FF2B1492-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-BAF3FF2B1492:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-BAF3FF2B1492-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-10-13 02:48:02,170 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "changeLeader-changeLeader", attempt #1/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:195)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:165)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-10-13 02:48:02,171 [s2-server-thread1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s2: Block request from s0
2022-10-13 02:48:02,235 [s2-server-thread3] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s2: Block request from s0
2022-10-13 02:48:02,248 [s1-server-thread3] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s1: Block request from s0
2022-10-13 02:48:02,270 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-10-13 02:48:02,271 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-BAF3FF2B1492:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-BAF3FF2B1492-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-BAF3FF2B1492:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-BAF3FF2B1492-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-BAF3FF2B1492:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-BAF3FF2B1492-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-10-13 02:48:02,271 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-BAF3FF2B1492:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-BAF3FF2B1492-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-BAF3FF2B1492:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-BAF3FF2B1492-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-BAF3FF2B1492:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-BAF3FF2B1492-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-10-13 02:48:02,271 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "changeLeader-changeLeader", attempt #2/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:195)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:165)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-10-13 02:48:02,371 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-10-13 02:48:02,372 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-BAF3FF2B1492:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-BAF3FF2B1492-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-BAF3FF2B1492:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-BAF3FF2B1492-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-BAF3FF2B1492:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-BAF3FF2B1492-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-10-13 02:48:02,372 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-BAF3FF2B1492:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-BAF3FF2B1492-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-BAF3FF2B1492:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-BAF3FF2B1492-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-BAF3FF2B1492:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-BAF3FF2B1492-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-10-13 02:48:02,372 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "changeLeader-changeLeader", attempt #3/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:195)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:165)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-10-13 02:48:02,472 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-10-13 02:48:02,473 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-BAF3FF2B1492:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-BAF3FF2B1492-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-BAF3FF2B1492:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-BAF3FF2B1492-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-BAF3FF2B1492:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-BAF3FF2B1492-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-10-13 02:48:02,473 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-BAF3FF2B1492:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-BAF3FF2B1492-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-BAF3FF2B1492:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-BAF3FF2B1492-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-BAF3FF2B1492:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-BAF3FF2B1492-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-10-13 02:48:02,473 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "changeLeader-changeLeader", attempt #4/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:195)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:165)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-10-13 02:48:02,573 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-10-13 02:48:02,574 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-BAF3FF2B1492:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-BAF3FF2B1492-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-BAF3FF2B1492:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-BAF3FF2B1492-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-BAF3FF2B1492:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-BAF3FF2B1492-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-10-13 02:48:02,574 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-BAF3FF2B1492:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-BAF3FF2B1492-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-BAF3FF2B1492:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-BAF3FF2B1492-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-BAF3FF2B1492:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-BAF3FF2B1492-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-10-13 02:48:02,574 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "changeLeader-changeLeader", attempt #5/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:195)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:165)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-10-13 02:48:02,582 [s1@group-BAF3FF2B1492-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-BAF3FF2B1492-FollowerState: change to CANDIDATE, lastRpcElapsedTime:413682278ns, electionTimeout:294ms
2022-10-13 02:48:02,583 [s1@group-BAF3FF2B1492-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-BAF3FF2B1492-FollowerState
2022-10-13 02:48:02,583 [s1@group-BAF3FF2B1492-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-BAF3FF2B1492: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2022-10-13 02:48:02,583 [s1@group-BAF3FF2B1492-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2022-10-13 02:48:02,583 [s1@group-BAF3FF2B1492-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-BAF3FF2B1492-LeaderElection16
2022-10-13 02:48:02,587 [s1@group-BAF3FF2B1492-LeaderElection16] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-BAF3FF2B1492: change Leader from s0 to null at term 1 for PRE_VOTE
2022-10-13 02:48:02,587 [s1@group-BAF3FF2B1492-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-BAF3FF2B1492-LeaderElection16 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:48:02,587 [s1@group-BAF3FF2B1492-LeaderElection16-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2022-10-13 02:48:02,592 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s0@group-BAF3FF2B1492: receive requestVote(PRE_VOTE, s1, group-BAF3FF2B1492, 1, (t:1, i:4))
2022-10-13 02:48:02,592 [grpc-default-executor-2] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1063)) - s0@group-BAF3FF2B1492-LeaderStateImpl: Lost leadership on term: 1. Election timeout: 300ms. In charge for: 665ms. Conf: 0: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:48:02,592 [grpc-default-executor-2] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1067)) - Follower s0@group-BAF3FF2B1492->s1(c3,m4,n5, attendVote=true, lastRpcSendTime=3, lastRpcResponseTime=421)
2022-10-13 02:48:02,592 [grpc-default-executor-2] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$17(1067)) - Follower s0@group-BAF3FF2B1492->s2(c2,m3,n5, attendVote=true, lastRpcSendTime=17, lastRpcResponseTime=434)
2022-10-13 02:48:02,592 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-BAF3FF2B1492: changes role from    LEADER to FOLLOWER at term 1 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2022-10-13 02:48:02,593 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-BAF3FF2B1492-LeaderStateImpl
2022-10-13 02:48:02,593 [grpc-default-executor-2] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-BAF3FF2B1492-PendingRequests: sendNotLeaderResponses
2022-10-13 02:48:02,594 [s0@group-BAF3FF2B1492->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s0@group-BAF3FF2B1492->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-10-13 02:48:02,594 [s0@group-BAF3FF2B1492->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s0@group-BAF3FF2B1492->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-10-13 02:48:02,595 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#12-t1,previous=(t:1, i:3),leaderCommit=3,initializing? true,entries: size=1, first=(t:1, i:4), METADATAENTRY(c:3)
2022-10-13 02:48:02,595 [grpc-default-executor-3] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s0@group-BAF3FF2B1492->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-10-13 02:48:02,599 [grpc-default-executor-3] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-BAF3FF2B1492->s1: nextIndex: updateUnconditionally 5 -> 4
2022-10-13 02:48:02,600 [s1@group-BAF3FF2B1492-LeaderElection16-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2022-10-13 02:48:02,601 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-BAF3FF2B1492-FollowerState
2022-10-13 02:48:02,602 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-BAF3FF2B1492-FOLLOWER: reject PRE_VOTE from s1: this server is a follower and still has a valid leader s0
2022-10-13 02:48:02,602 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1324)) - s0@group-BAF3FF2B1492 replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-BAF3FF2B1492:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-BAF3FF2B1492-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:48:02,613 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s2@group-BAF3FF2B1492: receive requestVote(PRE_VOTE, s1, group-BAF3FF2B1492, 1, (t:1, i:4))
2022-10-13 02:48:02,613 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-BAF3FF2B1492-FOLLOWER: accept PRE_VOTE from s1: our last entry (t:1, i:3) < candidate's last entry (t:1, i:4)
2022-10-13 02:48:02,613 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1324)) - s2@group-BAF3FF2B1492 replies to PRE_VOTE vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-BAF3FF2B1492:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-BAF3FF2B1492-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:48:02,614 [s1@group-BAF3FF2B1492-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-BAF3FF2B1492-LeaderElection16: PRE_VOTE PASSED received 2 response(s) and 0 exception(s):
2022-10-13 02:48:02,614 [s1@group-BAF3FF2B1492-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:FAIL-t1
2022-10-13 02:48:02,614 [s1@group-BAF3FF2B1492-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s1<-s2#0:OK-t1
2022-10-13 02:48:02,614 [s1@group-BAF3FF2B1492-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-BAF3FF2B1492-LeaderElection16 PRE_VOTE round 0: result PASSED
2022-10-13 02:48:02,616 [s1@group-BAF3FF2B1492-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-BAF3FF2B1492-LeaderElection16 ELECTION round 0: submit vote requests at term 2 for 0: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:48:02,620 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s0@group-BAF3FF2B1492: receive requestVote(ELECTION, s1, group-BAF3FF2B1492, 2, (t:1, i:4))
2022-10-13 02:48:02,620 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-BAF3FF2B1492-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2022-10-13 02:48:02,620 [grpc-default-executor-6] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-BAF3FF2B1492: change Leader from s0 to null at term 2 for updateCurrentTerm
2022-10-13 02:48:02,620 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-BAF3FF2B1492: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s1
2022-10-13 02:48:02,620 [grpc-default-executor-6] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-BAF3FF2B1492-FollowerState
2022-10-13 02:48:02,620 [grpc-default-executor-6] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-BAF3FF2B1492-FollowerState
2022-10-13 02:48:02,620 [s0@group-BAF3FF2B1492-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-BAF3FF2B1492-FollowerState was interrupted
2022-10-13 02:48:02,622 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1291)) - s2@group-BAF3FF2B1492: receive requestVote(ELECTION, s1, group-BAF3FF2B1492, 2, (t:1, i:4))
2022-10-13 02:48:02,622 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-BAF3FF2B1492-FOLLOWER: accept ELECTION from s1: our last entry (t:1, i:3) < candidate's last entry (t:1, i:4)
2022-10-13 02:48:02,622 [grpc-default-executor-3] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-BAF3FF2B1492: change Leader from s0 to null at term 2 for updateCurrentTerm
2022-10-13 02:48:02,622 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-BAF3FF2B1492: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s1
2022-10-13 02:48:02,622 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-BAF3FF2B1492-FollowerState
2022-10-13 02:48:02,622 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-BAF3FF2B1492-FollowerState
2022-10-13 02:48:02,622 [s2@group-BAF3FF2B1492-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-BAF3FF2B1492-FollowerState was interrupted
2022-10-13 02:48:02,629 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1324)) - s0@group-BAF3FF2B1492 replies to ELECTION vote request: s1<-s0#0:OK-t2. Peer's state: s0@group-BAF3FF2B1492:t2, leader=null, voted=s1, raftlog=Memoized:s0@group-BAF3FF2B1492-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:48:02,630 [s1@group-BAF3FF2B1492-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-BAF3FF2B1492-LeaderElection16: ELECTION PASSED received 1 response(s) and 0 exception(s):
2022-10-13 02:48:02,630 [s1@group-BAF3FF2B1492-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t2
2022-10-13 02:48:02,630 [s1@group-BAF3FF2B1492-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-BAF3FF2B1492-LeaderElection16 ELECTION round 0: result PASSED
2022-10-13 02:48:02,630 [s1@group-BAF3FF2B1492-LeaderElection16] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-BAF3FF2B1492-LeaderElection16
2022-10-13 02:48:02,630 [s1@group-BAF3FF2B1492-LeaderElection16] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-BAF3FF2B1492: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2022-10-13 02:48:02,630 [s1@group-BAF3FF2B1492-LeaderElection16] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s1@group-BAF3FF2B1492: change Leader from null to s1 at term 2 for becomeLeader, leader elected after 43ms
2022-10-13 02:48:02,630 [s1@group-BAF3FF2B1492-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2022-10-13 02:48:02,630 [s1@group-BAF3FF2B1492-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-10-13 02:48:02,631 [s1@group-BAF3FF2B1492-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2022-10-13 02:48:02,631 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1324)) - s2@group-BAF3FF2B1492 replies to ELECTION vote request: s1<-s2#0:OK-t2. Peer's state: s2@group-BAF3FF2B1492:t2, leader=null, voted=s1, raftlog=Memoized:s2@group-BAF3FF2B1492-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:48:02,631 [s1@group-BAF3FF2B1492-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2022-10-13 02:48:02,631 [s1@group-BAF3FF2B1492-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2022-10-13 02:48:02,631 [s1@group-BAF3FF2B1492-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2022-10-13 02:48:02,631 [s1@group-BAF3FF2B1492-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2022-10-13 02:48:02,631 [s1@group-BAF3FF2B1492-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2022-10-13 02:48:02,631 [s1@group-BAF3FF2B1492-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-10-13 02:48:02,631 [s1@group-BAF3FF2B1492-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-10-13 02:48:02,631 [s1@group-BAF3FF2B1492-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-10-13 02:48:02,631 [s1@group-BAF3FF2B1492-LeaderElection16] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-10-13 02:48:02,631 [s1@group-BAF3FF2B1492-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-10-13 02:48:02,631 [s1@group-BAF3FF2B1492-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-10-13 02:48:02,631 [s1@group-BAF3FF2B1492-LeaderElection16] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-10-13 02:48:02,631 [s1@group-BAF3FF2B1492-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2022-10-13 02:48:02,632 [s1@group-BAF3FF2B1492-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2022-10-13 02:48:02,633 [s1@group-BAF3FF2B1492-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2022-10-13 02:48:02,633 [s1@group-BAF3FF2B1492-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2022-10-13 02:48:02,633 [s1@group-BAF3FF2B1492-LeaderElection16] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2022-10-13 02:48:02,633 [s1@group-BAF3FF2B1492-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2022-10-13 02:48:02,633 [s1@group-BAF3FF2B1492-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2022-10-13 02:48:02,633 [s1@group-BAF3FF2B1492-LeaderElection16] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2022-10-13 02:48:02,633 [s1@group-BAF3FF2B1492-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2022-10-13 02:48:02,633 [s1@group-BAF3FF2B1492-LeaderElection16] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-BAF3FF2B1492-LeaderStateImpl
2022-10-13 02:48:02,633 [s1@group-BAF3FF2B1492-LeaderElection16] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(432)) - s1@group-BAF3FF2B1492-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2022-10-13 02:48:02,634 [s1@group-BAF3FF2B1492-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcf3c21c1b/s1/d23446d9-04fe-405e-b6f0-baf3ff2b1492/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcf3c21c1b/s1/d23446d9-04fe-405e-b6f0-baf3ff2b1492/current/log_0-4
2022-10-13 02:48:02,634 [s1@group-BAF3FF2B1492-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(588)) - s1@group-BAF3FF2B1492-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcf3c21c1b/s1/d23446d9-04fe-405e-b6f0-baf3ff2b1492/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcf3c21c1b/s1/d23446d9-04fe-405e-b6f0-baf3ff2b1492/current/log_0-4
2022-10-13 02:48:02,642 [s1@group-BAF3FF2B1492-LeaderElection16] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s1@group-BAF3FF2B1492: set configuration 5: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:48:02,646 [s1@group-BAF3FF2B1492-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(631)) - s1@group-BAF3FF2B1492-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcf3c21c1b/s1/d23446d9-04fe-405e-b6f0-baf3ff2b1492/current/log_inprogress_5
2022-10-13 02:48:02,659 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s2@group-BAF3FF2B1492: change Leader from null to s1 at term 2 for appendEntries, leader elected after 36ms
2022-10-13 02:48:02,659 [s2-server-thread2] INFO  server.RaftServer$Division (RaftServerImpl.java:checkInconsistentAppendEntries(1599)) - s2@group-BAF3FF2B1492: Failed appendEntries as previous log entry ((t:1, i:4)) is not found
2022-10-13 02:48:02,659 [s2-server-thread2] INFO  server.RaftServer$Division (RaftServerImpl.java:checkInconsistentAppendEntries(1569)) - s2@group-BAF3FF2B1492: inconsistency entries. Reply:s1<-s2#0:FAIL-t2,INCONSISTENCY,nextIndex=4,followerCommit=2,matchIndex=-1
2022-10-13 02:48:02,661 [grpc-default-executor-3] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s1@group-BAF3FF2B1492->s2: nextIndex: updateUnconditionally 6 -> 4
2022-10-13 02:48:02,661 [s2-server-thread2] INFO  server.RaftServer$Division (RaftServerImpl.java:checkInconsistentAppendEntries(1599)) - s2@group-BAF3FF2B1492: Failed appendEntries as previous log entry ((t:1, i:4)) is not found
2022-10-13 02:48:02,661 [s2-server-thread2] INFO  server.RaftServer$Division (RaftServerImpl.java:checkInconsistentAppendEntries(1569)) - s2@group-BAF3FF2B1492: inconsistency entries. Reply:s1<-s2#1:FAIL-t2,INCONSISTENCY,nextIndex=4,followerCommit=2,matchIndex=-1
2022-10-13 02:48:02,662 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(259)) - s0@group-BAF3FF2B1492: change Leader from null to s1 at term 2 for appendEntries, leader elected after 41ms
2022-10-13 02:48:02,662 [grpc-default-executor-3] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s1@group-BAF3FF2B1492->s2: nextIndex: updateUnconditionally 6 -> 4
2022-10-13 02:48:02,670 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-BAF3FF2B1492: set configuration 5: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:48:02,670 [s2-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(432)) - s2@group-BAF3FF2B1492-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2022-10-13 02:48:02,671 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s0@group-BAF3FF2B1492: set configuration 5: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:48:02,671 [s0-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(432)) - s0@group-BAF3FF2B1492-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2022-10-13 02:48:02,672 [s0@group-BAF3FF2B1492-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcf3c21c1b/s0/d23446d9-04fe-405e-b6f0-baf3ff2b1492/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcf3c21c1b/s0/d23446d9-04fe-405e-b6f0-baf3ff2b1492/current/log_0-4
2022-10-13 02:48:02,672 [s0@group-BAF3FF2B1492-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(588)) - s0@group-BAF3FF2B1492-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcf3c21c1b/s0/d23446d9-04fe-405e-b6f0-baf3ff2b1492/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcf3c21c1b/s0/d23446d9-04fe-405e-b6f0-baf3ff2b1492/current/log_0-4
2022-10-13 02:48:02,675 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2022-10-13 02:48:02,675 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-BAF3FF2B1492:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-BAF3FF2B1492-SegmentedRaftLog:OPENED:c4, conf=5: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-BAF3FF2B1492:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-BAF3FF2B1492-SegmentedRaftLog:OPENED:c3, conf=5: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-BAF3FF2B1492:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-BAF3FF2B1492-SegmentedRaftLog:OPENED:c2, conf=5: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-10-13 02:48:02,675 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: Leader: s1@group-BAF3FF2B1492 not ready, sleep 450ms and then retry.
java.lang.IllegalStateException: Leader: s1@group-BAF3FF2B1492 not ready
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:114)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:431)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:195)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:165)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-10-13 02:48:02,675 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(376)) - s2@group-BAF3FF2B1492: set configuration 5: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2022-10-13 02:48:02,675 [s2@group-BAF3FF2B1492-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcf3c21c1b/s2/d23446d9-04fe-405e-b6f0-baf3ff2b1492/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcf3c21c1b/s2/d23446d9-04fe-405e-b6f0-baf3ff2b1492/current/log_0-4
2022-10-13 02:48:02,676 [s2@group-BAF3FF2B1492-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(588)) - s2@group-BAF3FF2B1492-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcf3c21c1b/s2/d23446d9-04fe-405e-b6f0-baf3ff2b1492/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcf3c21c1b/s2/d23446d9-04fe-405e-b6f0-baf3ff2b1492/current/log_0-4
2022-10-13 02:48:02,683 [s2@group-BAF3FF2B1492-StateMachineUpdater] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(204)) - s2: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-A0CC0C51E136
2022-10-13 02:48:02,694 [s0@group-BAF3FF2B1492-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(631)) - s0@group-BAF3FF2B1492-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcf3c21c1b/s0/d23446d9-04fe-405e-b6f0-baf3ff2b1492/current/log_inprogress_5
2022-10-13 02:48:02,702 [s2@group-BAF3FF2B1492-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(631)) - s2@group-BAF3FF2B1492-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/bc10d1de/MiniRaftClusterWithGrpcf3c21c1b/s2/d23446d9-04fe-405e-b6f0-baf3ff2b1492/current/log_inprogress_5
2022-10-13 02:48:03,126 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-BAF3FF2B1492:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-BAF3FF2B1492-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-BAF3FF2B1492:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-BAF3FF2B1492-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-BAF3FF2B1492:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-BAF3FF2B1492-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-10-13 02:48:03,126 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s0 to s1
2022-10-13 02:48:03,126 [Time-limited test] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:unblockRequestor(54)) - UnBlock requestor s0
2022-10-13 02:48:03,126 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'request should fail'
2022-10-13 02:48:03,126 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "request should fail" throws ExecutionException
java.util.concurrent.ExecutionException: org.apache.ratis.protocol.exceptions.AlreadyClosedException: client-A0CC0C51E136->s0: Stream completed: no reply for async request cid=2
	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)
	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:199)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:165)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.AlreadyClosedException: client-A0CC0C51E136->s0: Stream completed: no reply for async request cid=2
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:406)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:310)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onCompleted(GrpcClientProtocolClient.java:346)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:485)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:468)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:432)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:465)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	... 1 more
2022-10-13 02:48:03,127 [Time-limited test] INFO  statemachine.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:unblock(141)) - unblock START_TRANSACTION
2022-10-13 02:48:03,128 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2022-10-13 02:48:03,128 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2022-10-13 02:48:03,129 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'request should timeout'
2022-10-13 02:48:03,135 [s2-server-thread3] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s2: unBlock request from s0
2022-10-13 02:48:03,138 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s2: Completed APPEND_ENTRIES, lastRequest: null
2022-10-13 02:48:03,139 [grpc-default-executor-8] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s0@group-BAF3FF2B1492->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-10-13 02:48:03,140 [grpc-default-executor-8] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-BAF3FF2B1492->s2: nextIndex: updateUnconditionally 5 -> 4
2022-10-13 02:48:03,148 [s1-server-thread3] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s1: unBlock request from s0
2022-10-13 02:48:03,152 [grpc-default-executor-8] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s1: Completed APPEND_ENTRIES, lastRequest: null
2022-10-13 02:48:03,153 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s0@group-BAF3FF2B1492->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-10-13 02:48:03,153 [grpc-default-executor-1] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-BAF3FF2B1492->s1: nextIndex: updateUnconditionally 4 -> 3
2022-10-13 02:48:03,371 [s2-server-thread1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s2: unBlock request from s0
2022-10-13 02:48:03,372 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s2: Completed APPEND_ENTRIES, lastRequest: s0->s2#11-t1,previous=(t:1, i:3),leaderCommit=3,initializing? true,entries: size=1, first=(t:1, i:4), METADATAENTRY(c:3)
2022-10-13 02:48:03,374 [grpc-default-executor-8] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s0@group-BAF3FF2B1492->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-10-13 02:48:03,374 [grpc-default-executor-8] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-BAF3FF2B1492->s2: nextIndex: updateUnconditionally 4 -> 3
2022-10-13 02:48:04,129 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "request should timeout" throws ExecutionException
java.util.concurrent.ExecutionException: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-A0CC0C51E136->s0 request #3 timeout 1s
	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)
	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:207)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:165)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-A0CC0C51E136->s0 request #3 timeout 1s
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:384)
	at java.base/java.util.Optional.ifPresent(Optional.java:183)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.handleReplyFuture(GrpcClientProtocolClient.java:388)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.timeoutCheck(GrpcClientProtocolClient.java:383)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$onNext$3(GrpcClientProtocolClient.java:376)
	at org.apache.ratis.util.TimeoutTimer.lambda$onTimeout$2(TimeoutTimer.java:101)
	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:79)
	at org.apache.ratis.util.TimeoutTimer$Task.run(TimeoutTimer.java:55)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
2022-10-13 02:48:04,134 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(321)) - client-A0CC0C51E136->s0: receive RaftClientReply:client-A0CC0C51E136->s0@group-BAF3FF2B1492, cid=3, FAILED org.apache.ratis.protocol.exceptions.AlreadyClosedException: SlidingWindow$Server:2-OrderedRequestStreamObserver2 is closing: seq = 3 > nextToProcess = -1 will NEVER be processed; request = 3:null, logIndex=0, commits[]
2022-10-13 02:48:07,130 [Time-limited test] WARN  grpc.GrpcUtil (GrpcUtil.java:shutdownManagedChannel(216)) - Timed out gracefully shutting down connection: ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=695, target=localhost:45049}}. 
2022-10-13 02:48:07,136 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2022-10-13 02:48:07,136 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2022-10-13 02:48:07,136 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2022-10-13 02:48:07,136 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2022-10-13 02:48:07,136 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2022-10-13 02:48:07,136 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-BAF3FF2B1492:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-BAF3FF2B1492-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-BAF3FF2B1492:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-BAF3FF2B1492-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-BAF3FF2B1492:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-BAF3FF2B1492-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:45651|admin:localhost:39001|client:localhost:45049|dataStream:localhost:41285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40641|admin:localhost:37323|client:localhost:40121|dataStream:localhost:44813|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38839|admin:localhost:45405|client:localhost:34927|dataStream:localhost:43259|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2022-10-13 02:48:07,137 [MiniRaftCluster-21] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s1: close
2022-10-13 02:48:07,137 [MiniRaftCluster-20] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2022-10-13 02:48:07,140 [MiniRaftCluster-21] INFO  server.GrpcService (GrpcService.java:closeImpl(319)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-10-13 02:48:07,139 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s1@group-BAF3FF2B1492: shutdown
2022-10-13 02:48:07,140 [MiniRaftCluster-20] INFO  server.GrpcService (GrpcService.java:closeImpl(319)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-10-13 02:48:07,140 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-BAF3FF2B1492: shutdown
2022-10-13 02:48:07,140 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-BAF3FF2B1492,id=s0
2022-10-13 02:48:07,140 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-BAF3FF2B1492-FollowerState
2022-10-13 02:48:07,140 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-BAF3FF2B1492-StateMachineUpdater: set stopIndex = 6
2022-10-13 02:48:07,140 [s0@group-BAF3FF2B1492-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-BAF3FF2B1492-FollowerState was interrupted
2022-10-13 02:48:07,140 [MiniRaftCluster-21] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(111)) - s0 Close channels
2022-10-13 02:48:07,140 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-BAF3FF2B1492,id=s1
2022-10-13 02:48:07,140 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-BAF3FF2B1492-LeaderStateImpl
2022-10-13 02:48:07,141 [s1-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-BAF3FF2B1492-PendingRequests: sendNotLeaderResponses
2022-10-13 02:48:07,141 [s1@group-BAF3FF2B1492->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s1@group-BAF3FF2B1492->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-10-13 02:48:07,141 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s0@group-BAF3FF2B1492: applyIndex: 6
2022-10-13 02:48:07,141 [s1@group-BAF3FF2B1492->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s1@group-BAF3FF2B1492->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2022-10-13 02:48:07,141 [s0@group-BAF3FF2B1492-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(329)) - s0@group-BAF3FF2B1492-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-10-13 02:48:07,142 [MiniRaftCluster-22] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s2: close
2022-10-13 02:48:07,142 [ForkJoinPool.commonPool-worker-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(111)) - s1 Close channels
2022-10-13 02:48:07,143 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s2@group-BAF3FF2B1492: shutdown
2022-10-13 02:48:07,143 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-BAF3FF2B1492,id=s2
2022-10-13 02:48:07,143 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-BAF3FF2B1492-FollowerState
2022-10-13 02:48:07,143 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-BAF3FF2B1492-StateMachineUpdater: set stopIndex = 6
2022-10-13 02:48:07,143 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s2@group-BAF3FF2B1492: applyIndex: 6
2022-10-13 02:48:07,144 [s2@group-BAF3FF2B1492-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(329)) - s2@group-BAF3FF2B1492-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-10-13 02:48:07,144 [s2@group-BAF3FF2B1492-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-BAF3FF2B1492-FollowerState was interrupted
2022-10-13 02:48:07,145 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s2@group-BAF3FF2B1492-SegmentedRaftLogWorker close()
2022-10-13 02:48:07,145 [MiniRaftCluster-22] INFO  server.GrpcService (GrpcService.java:closeImpl(319)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2022-10-13 02:48:07,145 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s0@group-BAF3FF2B1492-SegmentedRaftLogWorker close()
2022-10-13 02:48:07,146 [MiniRaftCluster-22] INFO  server.GrpcService (GrpcService.java:closeImpl(328)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-10-13 02:48:07,146 [MiniRaftCluster-22] INFO  server.GrpcService (GrpcService.java:closeImpl(319)) - s2: shutdown server GrpcServerProtocolService now
2022-10-13 02:48:07,149 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s2: Completed APPEND_ENTRIES, lastRequest: null
2022-10-13 02:48:07,149 [grpc-default-executor-9] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s0: Completed APPEND_ENTRIES, lastRequest: s1->s0#2-t2,previous=(t:2, i:5),leaderCommit=5,initializing? true,entries: size=1, first=(t:2, i:6), METADATAENTRY(c:5)
2022-10-13 02:48:07,150 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s2: Completed APPEND_ENTRIES, lastRequest: s1->s2#8-t2,previous=(t:2, i:5),leaderCommit=5,initializing? true,entries: size=1, first=(t:2, i:6), METADATAENTRY(c:5)
2022-10-13 02:48:07,150 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s0: Completed APPEND_ENTRIES, lastRequest: null
2022-10-13 02:48:07,150 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(402)) - s1@group-BAF3FF2B1492->s2-GrpcLogAppender is already stopped
2022-10-13 02:48:07,150 [ForkJoinPool.commonPool-worker-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(111)) - s2 Close channels
2022-10-13 02:48:07,150 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s1@group-BAF3FF2B1492->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-10-13 02:48:07,151 [grpc-default-executor-5] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(136)) - s1@group-BAF3FF2B1492->s0-GrpcLogAppender: Failed to getClient for s0
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s1 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:61)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:115)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:115)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:120)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$500(GrpcLogAppender.java:57)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:414)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:485)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-10-13 02:48:07,151 [MiniRaftCluster-22] INFO  server.GrpcService (GrpcService.java:closeImpl(328)) - s2: shutdown server GrpcServerProtocolService successfully
2022-10-13 02:48:07,151 [MiniRaftCluster-22] INFO  server.GrpcService (GrpcService.java:closeImpl(319)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-10-13 02:48:07,151 [MiniRaftCluster-20] INFO  server.GrpcService (GrpcService.java:closeImpl(328)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-10-13 02:48:07,151 [MiniRaftCluster-20] INFO  server.GrpcService (GrpcService.java:closeImpl(319)) - s0: shutdown server GrpcServerProtocolService now
2022-10-13 02:48:07,151 [MiniRaftCluster-22] INFO  server.GrpcService (GrpcService.java:closeImpl(328)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-10-13 02:48:07,151 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s1@group-BAF3FF2B1492->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2022-10-13 02:48:07,151 [grpc-default-executor-5] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(136)) - s1@group-BAF3FF2B1492->s0-GrpcLogAppender: Failed to getClient for s0
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s1 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:61)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:115)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:115)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:120)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$500(GrpcLogAppender.java:57)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:414)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:485)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2022-10-13 02:48:07,152 [JvmPauseMonitor21] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s2: Stopped
2022-10-13 02:48:07,152 [MiniRaftCluster-20] INFO  server.GrpcService (GrpcService.java:closeImpl(328)) - s0: shutdown server GrpcServerProtocolService successfully
2022-10-13 02:48:07,152 [MiniRaftCluster-20] INFO  server.GrpcService (GrpcService.java:closeImpl(319)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-10-13 02:48:07,153 [MiniRaftCluster-20] INFO  server.GrpcService (GrpcService.java:closeImpl(328)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-10-13 02:48:07,153 [MiniRaftCluster-21] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(111)) - s2 Close channels
2022-10-13 02:48:07,155 [MiniRaftCluster-21] INFO  server.GrpcService (GrpcService.java:closeImpl(328)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2022-10-13 02:48:07,155 [MiniRaftCluster-21] INFO  server.GrpcService (GrpcService.java:closeImpl(319)) - s1: shutdown server GrpcServerProtocolService now
2022-10-13 02:48:07,155 [MiniRaftCluster-21] INFO  server.GrpcService (GrpcService.java:closeImpl(328)) - s1: shutdown server GrpcServerProtocolService successfully
2022-10-13 02:48:07,155 [MiniRaftCluster-21] INFO  server.GrpcService (GrpcService.java:closeImpl(319)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2022-10-13 02:48:07,155 [MiniRaftCluster-21] INFO  server.GrpcService (GrpcService.java:closeImpl(328)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2022-10-13 02:48:07,153 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-BAF3FF2B1492-StateMachineUpdater: set stopIndex = 6
2022-10-13 02:48:07,158 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(412)) - s1@group-BAF3FF2B1492: applyIndex: 6
2022-10-13 02:48:07,154 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(402)) - s1@group-BAF3FF2B1492->s2-GrpcLogAppender is already stopped
2022-10-13 02:48:07,158 [s1@group-BAF3FF2B1492-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(329)) - s1@group-BAF3FF2B1492-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2022-10-13 02:48:07,159 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s1@group-BAF3FF2B1492-SegmentedRaftLogWorker close()
2022-10-13 02:48:07,160 [JvmPauseMonitor20] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2022-10-13 02:48:07,160 [JvmPauseMonitor19] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2022-10-13 02:48:07,160 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
