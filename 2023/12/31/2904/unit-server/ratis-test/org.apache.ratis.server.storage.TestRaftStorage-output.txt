2023-12-31 06:51:58,281 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-12-31 06:51:58,288 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-12-31 06:51:58,318 [Time-limited test] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/73c49406/TestRaftStorage/testCleanMetaTmpFile does not exist. Creating ...
2023-12-31 06:51:58,321 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories target/test/data/73c49406/TestRaftStorage/testCleanMetaTmpFile
2023-12-31 06:51:58,329 [Time-limited test] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on target/test/data/73c49406/TestRaftStorage/testCleanMetaTmpFile/in_use.lock acquired by nodename 12406@fv-az571-482
2023-12-31 06:51:58,330 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.deleteIfExists target/test/data/73c49406/TestRaftStorage/testCleanMetaTmpFile/current/raft-meta.tmp
2023-12-31 06:51:58,330 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories target/test/data/73c49406/TestRaftStorage/testCleanMetaTmpFile/current
2023-12-31 06:51:58,330 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories target/test/data/73c49406/TestRaftStorage/testCleanMetaTmpFile/sm
2023-12-31 06:51:58,404 [Time-limited test] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open target/test/data/73c49406/TestRaftStorage/testCleanMetaTmpFile/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4a39f0d5
2023-12-31 06:51:58,411 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/73c49406/TestRaftStorage/testCleanMetaTmpFile/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/73c49406/TestRaftStorage/testCleanMetaTmpFile/current/raft-meta with options [REPLACE_EXISTING]
2023-12-31 06:51:58,411 [Time-limited test] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory target/test/data/73c49406/TestRaftStorage/testCleanMetaTmpFile has been successfully formatted.
2023-12-31 06:51:58,411 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move target/test/data/73c49406/TestRaftStorage/testCleanMetaTmpFile/current/raft-meta to target/test/data/73c49406/TestRaftStorage/testCleanMetaTmpFile/current/raft-meta.tmp
2023-12-31 06:51:58,412 [Time-limited test] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on target/test/data/73c49406/TestRaftStorage/testCleanMetaTmpFile/in_use.lock acquired by nodename 12406@fv-az571-482
2023-12-31 06:51:58,412 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.deleteIfExists target/test/data/73c49406/TestRaftStorage/testCleanMetaTmpFile/current/raft-meta.tmp
2023-12-31 06:51:58,414 [Time-limited test] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:clearDirectory(90)) - target/test/data/73c49406/TestRaftStorage/testCleanMetaTmpFile/current already exists.  Deleting it ...
2023-12-31 06:51:58,414 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/73c49406/TestRaftStorage/testCleanMetaTmpFile/current
2023-12-31 06:51:58,417 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete target/test/data/73c49406/TestRaftStorage/testCleanMetaTmpFile/current
2023-12-31 06:51:58,417 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories target/test/data/73c49406/TestRaftStorage/testCleanMetaTmpFile/current
2023-12-31 06:51:58,417 [Time-limited test] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:clearDirectory(90)) - target/test/data/73c49406/TestRaftStorage/testCleanMetaTmpFile/sm already exists.  Deleting it ...
2023-12-31 06:51:58,418 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/73c49406/TestRaftStorage/testCleanMetaTmpFile/sm
2023-12-31 06:51:58,418 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete target/test/data/73c49406/TestRaftStorage/testCleanMetaTmpFile/sm
2023-12-31 06:51:58,418 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories target/test/data/73c49406/TestRaftStorage/testCleanMetaTmpFile/sm
2023-12-31 06:51:58,418 [Time-limited test] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open target/test/data/73c49406/TestRaftStorage/testCleanMetaTmpFile/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1bd8c369
2023-12-31 06:51:58,420 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/73c49406/TestRaftStorage/testCleanMetaTmpFile/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/73c49406/TestRaftStorage/testCleanMetaTmpFile/current/raft-meta with options [REPLACE_EXISTING]
2023-12-31 06:51:58,420 [Time-limited test] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory target/test/data/73c49406/TestRaftStorage/testCleanMetaTmpFile has been successfully formatted.
2023-12-31 06:51:58,421 [Time-limited test] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on target/test/data/73c49406/TestRaftStorage/testCleanMetaTmpFile/in_use.lock acquired by nodename 12406@fv-az571-482
2023-12-31 06:51:58,421 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.deleteIfExists target/test/data/73c49406/TestRaftStorage/testCleanMetaTmpFile/current/raft-meta.tmp
2023-12-31 06:51:58,422 [Time-limited test] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied Files.newInputStream target/test/data/73c49406/TestRaftStorage/testCleanMetaTmpFile/current/raft-meta with options []: sun.nio.ch.ChannelInputStream@4103c543
2023-12-31 06:51:58,423 [Time-limited test] INFO  storage.RaftStorage (RaftStorageImpl.java:analyzeAndRecoverStorage(119)) - Read RaftStorageMetadata{term=0, votedFor=} from target/test/data/73c49406/TestRaftStorage/testCleanMetaTmpFile/current/raft-meta
2023-12-31 06:51:58,423 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/73c49406/TestRaftStorage
2023-12-31 06:51:58,424 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete target/test/data/73c49406/TestRaftStorage/testCleanMetaTmpFile/sm
2023-12-31 06:51:58,424 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete target/test/data/73c49406/TestRaftStorage/testCleanMetaTmpFile/in_use.lock
2023-12-31 06:51:58,424 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete target/test/data/73c49406/TestRaftStorage/testCleanMetaTmpFile/current/raft-meta
2023-12-31 06:51:58,424 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete target/test/data/73c49406/TestRaftStorage/testCleanMetaTmpFile/current
2023-12-31 06:51:58,425 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete target/test/data/73c49406/TestRaftStorage/testCleanMetaTmpFile
2023-12-31 06:51:58,425 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete target/test/data/73c49406/TestRaftStorage
2023-12-31 06:51:58,426 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-12-31 06:51:58,426 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
name = snapshot.4420886296226150787_6763686652743365832
file = target/test/data/73c49406/TestRaftStorage/testSnapshotFileName/snapshot.4420886296226150787_6763686652743365832
ti = (t:4420886296226150787, i:6763686652743365832)
Good java.lang.IllegalArgumentException: File "target/test/data/73c49406/TestRaftStorage/testSnapshotFileName/foo" does not match snapshot file name pattern "snapshot\.(\d+)_(\d+)"
2023-12-31 06:51:58,432 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/73c49406/TestRaftStorage
2023-12-31 06:51:58,432 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/73c49406/TestRaftStorage does not exist.
2023-12-31 06:51:58,432 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-12-31 06:51:58,432 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-12-31 06:51:59,176 [Time-limited test] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/73c49406/TestRaftStorage/testNotEnoughSpace does not exist. Creating ...
2023-12-31 06:51:59,177 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories target/test/data/73c49406/TestRaftStorage/testNotEnoughSpace
2023-12-31 06:51:59,182 [Time-limited test] WARN  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(162)) - NO_SPACE in directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/73c49406/TestRaftStorage/testNotEnoughSpace: free space = 100 < required = 100M (=104857600)
2023-12-31 06:51:59,182 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/73c49406/TestRaftStorage
2023-12-31 06:51:59,183 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete target/test/data/73c49406/TestRaftStorage/testNotEnoughSpace
2023-12-31 06:51:59,183 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete target/test/data/73c49406/TestRaftStorage
2023-12-31 06:51:59,184 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-12-31 06:51:59,184 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-12-31 06:51:59,185 [Time-limited test] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/73c49406/TestRaftStorage/testMetaFile does not exist. Creating ...
2023-12-31 06:51:59,186 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories target/test/data/73c49406/TestRaftStorage/testMetaFile
2023-12-31 06:51:59,187 [Time-limited test] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on target/test/data/73c49406/TestRaftStorage/testMetaFile/in_use.lock acquired by nodename 12406@fv-az571-482
2023-12-31 06:51:59,187 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories target/test/data/73c49406/TestRaftStorage/testMetaFile/current
2023-12-31 06:51:59,187 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories target/test/data/73c49406/TestRaftStorage/testMetaFile/sm
2023-12-31 06:51:59,188 [Time-limited test] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open target/test/data/73c49406/TestRaftStorage/testMetaFile/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@3c1a7667
2023-12-31 06:51:59,193 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/73c49406/TestRaftStorage/testMetaFile/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/73c49406/TestRaftStorage/testMetaFile/current/raft-meta with options [REPLACE_EXISTING]
2023-12-31 06:51:59,193 [Time-limited test] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory target/test/data/73c49406/TestRaftStorage/testMetaFile has been successfully formatted.
2023-12-31 06:51:59,194 [Time-limited test] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied Files.newInputStream target/test/data/73c49406/TestRaftStorage/testMetaFile/current/raft-meta with options []: sun.nio.ch.ChannelInputStream@17c9ea67
2023-12-31 06:51:59,194 [Time-limited test] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open target/test/data/73c49406/TestRaftStorage/testMetaFile/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2ef62011
2023-12-31 06:51:59,197 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/73c49406/TestRaftStorage/testMetaFile/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/73c49406/TestRaftStorage/testMetaFile/current/raft-meta with options [REPLACE_EXISTING]
2023-12-31 06:51:59,227 [Time-limited test] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied Files.newInputStream target/test/data/73c49406/TestRaftStorage/testMetaFile/current/raft-meta with options []: sun.nio.ch.ChannelInputStream@45c2644c
2023-12-31 06:51:59,228 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/73c49406/TestRaftStorage
2023-12-31 06:51:59,228 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete target/test/data/73c49406/TestRaftStorage/testMetaFile/sm
2023-12-31 06:51:59,228 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete target/test/data/73c49406/TestRaftStorage/testMetaFile/in_use.lock
2023-12-31 06:51:59,229 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete target/test/data/73c49406/TestRaftStorage/testMetaFile/current/raft-meta
2023-12-31 06:51:59,229 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete target/test/data/73c49406/TestRaftStorage/testMetaFile/current
2023-12-31 06:51:59,229 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete target/test/data/73c49406/TestRaftStorage/testMetaFile
2023-12-31 06:51:59,229 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete target/test/data/73c49406/TestRaftStorage
2023-12-31 06:51:59,230 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-12-31 06:51:59,230 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-12-31 06:51:59,238 [Time-limited test] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/73c49406/TestRaftStorage/testSnapshotCleanup does not exist. Creating ...
2023-12-31 06:51:59,238 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories target/test/data/73c49406/TestRaftStorage/testSnapshotCleanup
2023-12-31 06:51:59,239 [Time-limited test] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on target/test/data/73c49406/TestRaftStorage/testSnapshotCleanup/in_use.lock acquired by nodename 12406@fv-az571-482
2023-12-31 06:51:59,240 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.deleteIfExists target/test/data/73c49406/TestRaftStorage/testSnapshotCleanup/current/raft-meta.tmp
2023-12-31 06:51:59,240 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories target/test/data/73c49406/TestRaftStorage/testSnapshotCleanup/current
2023-12-31 06:51:59,240 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories target/test/data/73c49406/TestRaftStorage/testSnapshotCleanup/sm
2023-12-31 06:51:59,240 [Time-limited test] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open target/test/data/73c49406/TestRaftStorage/testSnapshotCleanup/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@449e8b98
2023-12-31 06:51:59,242 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/73c49406/TestRaftStorage/testSnapshotCleanup/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/73c49406/TestRaftStorage/testSnapshotCleanup/current/raft-meta with options [REPLACE_EXISTING]
2023-12-31 06:51:59,242 [Time-limited test] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory target/test/data/73c49406/TestRaftStorage/testSnapshotCleanup has been successfully formatted.
2023-12-31 06:51:59,245 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/73c49406/TestRaftStorage
2023-12-31 06:51:59,245 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete target/test/data/73c49406/TestRaftStorage/testSnapshotCleanup/sm/snapshot.1_90.md5
2023-12-31 06:51:59,246 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete target/test/data/73c49406/TestRaftStorage/testSnapshotCleanup/sm/snapshot.2_614
2023-12-31 06:51:59,246 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete target/test/data/73c49406/TestRaftStorage/testSnapshotCleanup/sm/snapshot.5_818
2023-12-31 06:51:59,246 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete target/test/data/73c49406/TestRaftStorage/testSnapshotCleanup/sm/snapshot.6_847
2023-12-31 06:51:59,246 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete target/test/data/73c49406/TestRaftStorage/testSnapshotCleanup/sm/snapshot.1_38.md5
2023-12-31 06:51:59,246 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete target/test/data/73c49406/TestRaftStorage/testSnapshotCleanup/sm/snapshot.3_590
2023-12-31 06:51:59,246 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete target/test/data/73c49406/TestRaftStorage/testSnapshotCleanup/sm
2023-12-31 06:51:59,247 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete target/test/data/73c49406/TestRaftStorage/testSnapshotCleanup/in_use.lock
2023-12-31 06:51:59,247 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete target/test/data/73c49406/TestRaftStorage/testSnapshotCleanup/current/raft-meta
2023-12-31 06:51:59,247 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete target/test/data/73c49406/TestRaftStorage/testSnapshotCleanup/current
2023-12-31 06:51:59,247 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete target/test/data/73c49406/TestRaftStorage/testSnapshotCleanup
2023-12-31 06:51:59,247 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete target/test/data/73c49406/TestRaftStorage
2023-12-31 06:51:59,252 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-12-31 06:51:59,252 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-12-31 06:51:59,253 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/73c49406/TestRaftStorage/testNotExistent
2023-12-31 06:51:59,253 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/73c49406/TestRaftStorage/testNotExistent does not exist.
2023-12-31 06:51:59,253 [Time-limited test] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/73c49406/TestRaftStorage/testNotExistent does not exist. Creating ...
2023-12-31 06:51:59,253 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories target/test/data/73c49406/TestRaftStorage/testNotExistent
2023-12-31 06:51:59,254 [Time-limited test] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on target/test/data/73c49406/TestRaftStorage/testNotExistent/in_use.lock acquired by nodename 12406@fv-az571-482
2023-12-31 06:51:59,255 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.deleteIfExists target/test/data/73c49406/TestRaftStorage/testNotExistent/current/raft-meta.tmp
2023-12-31 06:51:59,255 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories target/test/data/73c49406/TestRaftStorage/testNotExistent/current
2023-12-31 06:51:59,255 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories target/test/data/73c49406/TestRaftStorage/testNotExistent/sm
2023-12-31 06:51:59,255 [Time-limited test] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open target/test/data/73c49406/TestRaftStorage/testNotExistent/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@65a9f297
2023-12-31 06:51:59,257 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/73c49406/TestRaftStorage/testNotExistent/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/73c49406/TestRaftStorage/testNotExistent/current/raft-meta with options [REPLACE_EXISTING]
2023-12-31 06:51:59,257 [Time-limited test] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory target/test/data/73c49406/TestRaftStorage/testNotExistent has been successfully formatted.
2023-12-31 06:51:59,258 [Time-limited test] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - It appears that another process has already locked the storage directory: target/test/data/73c49406/TestRaftStorage/testNotExistent
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:222)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:193)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:45)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:193)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:62)
	at org.apache.ratis.server.storage.TestRaftStorage.formatRaftStorage(TestRaftStorage.java:82)
	at org.apache.ratis.server.storage.TestRaftStorage.testNotExistent(TestRaftStorage.java:95)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2023-12-31 06:51:59,264 [Time-limited test] WARN  util.FileUtils (JavaUtils.java:attempt(231)) - FAILED "tryLock target/test/data/73c49406/TestRaftStorage/testNotExistent/in_use.lock", attempt #1/5: java.io.IOException: Failed to lock storage target/test/data/73c49406/TestRaftStorage/testNotExistent. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage target/test/data/73c49406/TestRaftStorage/testNotExistent. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:234)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:193)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:45)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:193)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:62)
	at org.apache.ratis.server.storage.TestRaftStorage.formatRaftStorage(TestRaftStorage.java:82)
	at org.apache.ratis.server.storage.TestRaftStorage.testNotExistent(TestRaftStorage.java:95)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:222)
	... 23 more
2023-12-31 06:52:00,271 [Time-limited test] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - It appears that another process has already locked the storage directory: target/test/data/73c49406/TestRaftStorage/testNotExistent
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:222)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:193)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:45)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:193)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:62)
	at org.apache.ratis.server.storage.TestRaftStorage.formatRaftStorage(TestRaftStorage.java:82)
	at org.apache.ratis.server.storage.TestRaftStorage.testNotExistent(TestRaftStorage.java:95)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2023-12-31 06:52:00,272 [Time-limited test] WARN  util.FileUtils (JavaUtils.java:attempt(231)) - FAILED "tryLock target/test/data/73c49406/TestRaftStorage/testNotExistent/in_use.lock", attempt #2/5: java.io.IOException: Failed to lock storage target/test/data/73c49406/TestRaftStorage/testNotExistent. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage target/test/data/73c49406/TestRaftStorage/testNotExistent. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:234)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:193)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:45)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:193)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:62)
	at org.apache.ratis.server.storage.TestRaftStorage.formatRaftStorage(TestRaftStorage.java:82)
	at org.apache.ratis.server.storage.TestRaftStorage.testNotExistent(TestRaftStorage.java:95)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:222)
	... 23 more
2023-12-31 06:52:01,273 [Time-limited test] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - It appears that another process has already locked the storage directory: target/test/data/73c49406/TestRaftStorage/testNotExistent
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:222)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:193)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:45)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:193)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:62)
	at org.apache.ratis.server.storage.TestRaftStorage.formatRaftStorage(TestRaftStorage.java:82)
	at org.apache.ratis.server.storage.TestRaftStorage.testNotExistent(TestRaftStorage.java:95)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2023-12-31 06:52:01,274 [Time-limited test] WARN  util.FileUtils (JavaUtils.java:attempt(231)) - FAILED "tryLock target/test/data/73c49406/TestRaftStorage/testNotExistent/in_use.lock", attempt #3/5: java.io.IOException: Failed to lock storage target/test/data/73c49406/TestRaftStorage/testNotExistent. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage target/test/data/73c49406/TestRaftStorage/testNotExistent. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:234)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:193)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:45)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:193)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:62)
	at org.apache.ratis.server.storage.TestRaftStorage.formatRaftStorage(TestRaftStorage.java:82)
	at org.apache.ratis.server.storage.TestRaftStorage.testNotExistent(TestRaftStorage.java:95)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:222)
	... 23 more
2023-12-31 06:52:02,274 [Time-limited test] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - It appears that another process has already locked the storage directory: target/test/data/73c49406/TestRaftStorage/testNotExistent
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:222)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:193)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:45)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:193)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:62)
	at org.apache.ratis.server.storage.TestRaftStorage.formatRaftStorage(TestRaftStorage.java:82)
	at org.apache.ratis.server.storage.TestRaftStorage.testNotExistent(TestRaftStorage.java:95)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2023-12-31 06:52:02,275 [Time-limited test] WARN  util.FileUtils (JavaUtils.java:attempt(231)) - FAILED "tryLock target/test/data/73c49406/TestRaftStorage/testNotExistent/in_use.lock", attempt #4/5: java.io.IOException: Failed to lock storage target/test/data/73c49406/TestRaftStorage/testNotExistent. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage target/test/data/73c49406/TestRaftStorage/testNotExistent. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:234)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:193)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:45)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:193)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:62)
	at org.apache.ratis.server.storage.TestRaftStorage.formatRaftStorage(TestRaftStorage.java:82)
	at org.apache.ratis.server.storage.TestRaftStorage.testNotExistent(TestRaftStorage.java:95)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
Caused by: java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:222)
	... 23 more
2023-12-31 06:52:03,276 [Time-limited test] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(231)) - It appears that another process has already locked the storage directory: target/test/data/73c49406/TestRaftStorage/testNotExistent
java.nio.channels.OverlappingFileLockException
	at sun.nio.ch.SharedFileLockTable.checkList(FileLockTable.java:255)
	at sun.nio.ch.SharedFileLockTable.add(FileLockTable.java:152)
	at sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1107)
	at java.nio.channels.FileChannel.tryLock(FileChannel.java:1155)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:222)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:193)
	at org.apache.ratis.util.JavaUtils.lambda$attempt$7(JavaUtils.java:212)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:225)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:212)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:45)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:193)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:62)
	at org.apache.ratis.server.storage.TestRaftStorage.formatRaftStorage(TestRaftStorage.java:82)
	at org.apache.ratis.server.storage.TestRaftStorage.testNotExistent(TestRaftStorage.java:95)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:750)
2023-12-31 06:52:03,276 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/73c49406/TestRaftStorage/testNotExistent
2023-12-31 06:52:03,277 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete target/test/data/73c49406/TestRaftStorage/testNotExistent/sm
2023-12-31 06:52:03,278 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete target/test/data/73c49406/TestRaftStorage/testNotExistent/in_use.lock
2023-12-31 06:52:03,279 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete target/test/data/73c49406/TestRaftStorage/testNotExistent/current/raft-meta
2023-12-31 06:52:03,279 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete target/test/data/73c49406/TestRaftStorage/testNotExistent/current
2023-12-31 06:52:03,279 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete target/test/data/73c49406/TestRaftStorage/testNotExistent
2023-12-31 06:52:03,279 [Time-limited test] WARN  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(143)) - /home/runner/work/ratis/ratis/ratis-test/target/test/data/73c49406/TestRaftStorage/testNotExistent is not a directory
2023-12-31 06:52:03,279 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/73c49406/TestRaftStorage
2023-12-31 06:52:03,280 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete target/test/data/73c49406/TestRaftStorage/testNotExistent
2023-12-31 06:52:03,280 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete target/test/data/73c49406/TestRaftStorage
2023-12-31 06:52:03,280 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-12-31 06:52:03,281 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-12-31 06:52:03,281 [Time-limited test] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/73c49406/TestRaftStorage/testStorage does not exist. Creating ...
2023-12-31 06:52:03,282 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories target/test/data/73c49406/TestRaftStorage/testStorage
2023-12-31 06:52:03,283 [Time-limited test] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on target/test/data/73c49406/TestRaftStorage/testStorage/in_use.lock acquired by nodename 12406@fv-az571-482
2023-12-31 06:52:03,283 [Time-limited test] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on target/test/data/73c49406/TestRaftStorage/testStorage/in_use.lock acquired by nodename 12406@fv-az571-482
2023-12-31 06:52:03,283 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.deleteIfExists target/test/data/73c49406/TestRaftStorage/testStorage/current/raft-meta.tmp
2023-12-31 06:52:03,283 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories target/test/data/73c49406/TestRaftStorage/testStorage/current
2023-12-31 06:52:03,284 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories target/test/data/73c49406/TestRaftStorage/testStorage/sm
2023-12-31 06:52:03,284 [Time-limited test] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open target/test/data/73c49406/TestRaftStorage/testStorage/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1e07201b
2023-12-31 06:52:03,285 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/73c49406/TestRaftStorage/testStorage/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/73c49406/TestRaftStorage/testStorage/current/raft-meta with options [REPLACE_EXISTING]
2023-12-31 06:52:03,285 [Time-limited test] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory target/test/data/73c49406/TestRaftStorage/testStorage has been successfully formatted.
2023-12-31 06:52:03,285 [Time-limited test] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied Files.newInputStream target/test/data/73c49406/TestRaftStorage/testStorage/current/raft-meta with options []: sun.nio.ch.ChannelInputStream@6bf9a9ac
2023-12-31 06:52:03,286 [Time-limited test] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open target/test/data/73c49406/TestRaftStorage/testStorage/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@922127b
2023-12-31 06:52:03,287 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/73c49406/TestRaftStorage/testStorage/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/73c49406/TestRaftStorage/testStorage/current/raft-meta with options [REPLACE_EXISTING]
2023-12-31 06:52:03,287 [Time-limited test] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied Files.newInputStream target/test/data/73c49406/TestRaftStorage/testStorage/current/raft-meta with options []: sun.nio.ch.ChannelInputStream@3144a8f1
2023-12-31 06:52:03,288 [Time-limited test] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on target/test/data/73c49406/TestRaftStorage/testStorage/in_use.lock acquired by nodename 12406@fv-az571-482
2023-12-31 06:52:03,288 [Time-limited test] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:clearDirectory(90)) - target/test/data/73c49406/TestRaftStorage/testStorage/current already exists.  Deleting it ...
2023-12-31 06:52:03,288 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/73c49406/TestRaftStorage/testStorage/current
2023-12-31 06:52:03,288 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete target/test/data/73c49406/TestRaftStorage/testStorage/current/raft-meta
2023-12-31 06:52:03,289 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete target/test/data/73c49406/TestRaftStorage/testStorage/current
2023-12-31 06:52:03,289 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories target/test/data/73c49406/TestRaftStorage/testStorage/current
2023-12-31 06:52:03,289 [Time-limited test] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:clearDirectory(90)) - target/test/data/73c49406/TestRaftStorage/testStorage/sm already exists.  Deleting it ...
2023-12-31 06:52:03,289 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/73c49406/TestRaftStorage/testStorage/sm
2023-12-31 06:52:03,289 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete target/test/data/73c49406/TestRaftStorage/testStorage/sm
2023-12-31 06:52:03,289 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories target/test/data/73c49406/TestRaftStorage/testStorage/sm
2023-12-31 06:52:03,289 [Time-limited test] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open target/test/data/73c49406/TestRaftStorage/testStorage/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6114f414
2023-12-31 06:52:03,290 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/73c49406/TestRaftStorage/testStorage/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/73c49406/TestRaftStorage/testStorage/current/raft-meta with options [REPLACE_EXISTING]
2023-12-31 06:52:03,291 [Time-limited test] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory target/test/data/73c49406/TestRaftStorage/testStorage has been successfully formatted.
2023-12-31 06:52:03,291 [Time-limited test] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied Files.newInputStream target/test/data/73c49406/TestRaftStorage/testStorage/current/raft-meta with options []: sun.nio.ch.ChannelInputStream@46d6f31f
2023-12-31 06:52:03,291 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/73c49406/TestRaftStorage
2023-12-31 06:52:03,291 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete target/test/data/73c49406/TestRaftStorage/testStorage/sm
2023-12-31 06:52:03,291 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete target/test/data/73c49406/TestRaftStorage/testStorage/in_use.lock
2023-12-31 06:52:03,291 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete target/test/data/73c49406/TestRaftStorage/testStorage/current/raft-meta
2023-12-31 06:52:03,292 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete target/test/data/73c49406/TestRaftStorage/testStorage/current
2023-12-31 06:52:03,292 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete target/test/data/73c49406/TestRaftStorage/testStorage
2023-12-31 06:52:03,292 [Time-limited test] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.delete target/test/data/73c49406/TestRaftStorage
