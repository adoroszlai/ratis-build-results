2023-12-07 16:29:35,110 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-12-07 16:29:35,112 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-12-07 16:29:35,114 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2023-12-07 16:29:35,141 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2023-12-07 16:29:35,205 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-FD8E24604D61:[s0|localhost:37319, s1|localhost:46673, s2|localhost:34549]
2023-12-07 16:29:35,205 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-12-07 16:29:35,205 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-12-07 16:29:35,206 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2023-12-07 16:29:35,206 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-12-07 16:29:35,206 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-12-07 16:29:35,206 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-12-07 16:29:35,210 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-FD8E24604D61:[s0|localhost:37319, s1|localhost:46673, s2|localhost:34549], format? true
2023-12-07 16:29:35,211 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s0
2023-12-07 16:29:35,212 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s0 does not exist.
2023-12-07 16:29:35,212 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s0
2023-12-07 16:29:35,229 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-12-07 16:29:35,269 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:35,271 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 39861 (custom)
2023-12-07 16:29:35,271 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:35,272 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 38415 (custom)
2023-12-07 16:29:35,272 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-12-07 16:29:35,272 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 37319 (custom)
2023-12-07 16:29:35,273 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-12-07 16:29:35,275 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:35,276 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-12-07 16:29:35,279 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:35,292 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:35,295 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-12-07 16:29:35,295 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-12-07 16:29:35,425 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-12-07 16:29:35,426 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:35,427 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2023-12-07 16:29:35,427 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:35,430 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s0] (custom)
2023-12-07 16:29:35,431 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-12-07 16:29:35,432 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-12-07 16:29:35,455 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(100)) - s0: addNew group-FD8E24604D61:[s0|localhost:37319, s1|localhost:46673, s2|localhost:34549] returns group-FD8E24604D61:java.util.concurrent.CompletableFuture@412b86a3[Not completed]
2023-12-07 16:29:35,456 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-FD8E24604D61:[s0|localhost:37319, s1|localhost:46673, s2|localhost:34549], format? true
2023-12-07 16:29:35,456 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s1
2023-12-07 16:29:35,456 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s1 does not exist.
2023-12-07 16:29:35,456 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s1
2023-12-07 16:29:35,457 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-12-07 16:29:35,457 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:35,457 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 41891 (custom)
2023-12-07 16:29:35,458 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:35,458 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 41635 (custom)
2023-12-07 16:29:35,458 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-12-07 16:29:35,458 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 46673 (custom)
2023-12-07 16:29:35,459 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-12-07 16:29:35,459 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:35,459 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-12-07 16:29:35,459 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:35,460 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:35,460 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-12-07 16:29:35,460 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-12-07 16:29:35,461 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s0: new RaftServerImpl for group-FD8E24604D61:[s0|localhost:37319, s1|localhost:46673, s2|localhost:34549] with CounterStateMachine:uninitialized
2023-12-07 16:29:35,462 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-12-07 16:29:35,462 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-12-07 16:29:35,462 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-12-07 16:29:35,462 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-12-07 16:29:35,462 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-12-07 16:29:35,462 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:35,463 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:35,463 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2023-12-07 16:29:35,463 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:35,463 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2023-12-07 16:29:35,463 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s1] (custom)
2023-12-07 16:29:35,463 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:35,464 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-12-07 16:29:35,464 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-12-07 16:29:35,464 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(100)) - s1: addNew group-FD8E24604D61:[s0|localhost:37319, s1|localhost:46673, s2|localhost:34549] returns group-FD8E24604D61:java.util.concurrent.CompletableFuture@21f85356[Not completed]
2023-12-07 16:29:35,464 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s1: new RaftServerImpl for group-FD8E24604D61:[s0|localhost:37319, s1|localhost:46673, s2|localhost:34549] with CounterStateMachine:uninitialized
2023-12-07 16:29:35,465 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-FD8E24604D61:[s0|localhost:37319, s1|localhost:46673, s2|localhost:34549], format? true
2023-12-07 16:29:35,465 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-12-07 16:29:35,465 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s2
2023-12-07 16:29:35,465 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-12-07 16:29:35,465 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s2 does not exist.
2023-12-07 16:29:35,466 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-12-07 16:29:35,466 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s2
2023-12-07 16:29:35,466 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-12-07 16:29:35,466 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:35,466 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-12-07 16:29:35,466 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2023-12-07 16:29:35,466 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:35,467 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:35,467 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 41889 (custom)
2023-12-07 16:29:35,467 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:35,467 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 39209 (custom)
2023-12-07 16:29:35,468 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-12-07 16:29:35,468 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 34549 (custom)
2023-12-07 16:29:35,468 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-12-07 16:29:35,468 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-FD8E24604D61: ConfigurationManager, init=-1: peers:[s0|localhost:37319, s1|localhost:46673, s2|localhost:34549]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-12-07 16:29:35,468 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-FD8E24604D61: ConfigurationManager, init=-1: peers:[s0|localhost:37319, s1|localhost:46673, s2|localhost:34549]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-12-07 16:29:35,468 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:35,469 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-12-07 16:29:35,469 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:35,470 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:35,470 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-12-07 16:29:35,471 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-12-07 16:29:35,472 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-12-07 16:29:35,472 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:35,472 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2023-12-07 16:29:35,473 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:35,473 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s2] (custom)
2023-12-07 16:29:35,473 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-12-07 16:29:35,473 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-12-07 16:29:35,473 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-12-07 16:29:35,475 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-12-07 16:29:35,475 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-12-07 16:29:35,476 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(100)) - s2: addNew group-FD8E24604D61:[s0|localhost:37319, s1|localhost:46673, s2|localhost:34549] returns group-FD8E24604D61:java.util.concurrent.CompletableFuture@6b084ba[Not completed]
2023-12-07 16:29:35,476 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-12-07 16:29:35,477 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s2: new RaftServerImpl for group-FD8E24604D61:[s0|localhost:37319, s1|localhost:46673, s2|localhost:34549] with CounterStateMachine:uninitialized
2023-12-07 16:29:35,478 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-12-07 16:29:35,478 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-12-07 16:29:35,478 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-12-07 16:29:35,478 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-12-07 16:29:35,478 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:35,478 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2023-12-07 16:29:35,478 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:35,479 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-FD8E24604D61: ConfigurationManager, init=-1: peers:[s0|localhost:37319, s1|localhost:46673, s2|localhost:34549]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-12-07 16:29:35,479 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-12-07 16:29:35,479 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-12-07 16:29:35,480 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-12-07 16:29:35,481 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2023-12-07 16:29:35,484 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = LINEARIZABLE (custom)
2023-12-07 16:29:35,485 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2023-12-07 16:29:35,485 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-12-07 16:29:35,485 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2023-12-07 16:29:35,486 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = LINEARIZABLE (custom)
2023-12-07 16:29:35,487 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2023-12-07 16:29:35,486 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-12-07 16:29:35,487 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2023-12-07 16:29:35,487 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = LINEARIZABLE (custom)
2023-12-07 16:29:35,487 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2023-12-07 16:29:35,490 [s1-groupManagement] INFO  metrics.MetricRegistries (MetricRegistriesLoader.java:load(64)) - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2023-12-07 16:29:35,590 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:35,590 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:35,591 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:35,592 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:35,592 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:35,593 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-12-07 16:29:35,593 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-12-07 16:29:35,593 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-12-07 16:29:35,593 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-12-07 16:29:35,593 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-12-07 16:29:35,593 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-12-07 16:29:35,593 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-12-07 16:29:35,594 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-12-07 16:29:35,594 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:35,594 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-12-07 16:29:35,594 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-12-07 16:29:35,594 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-12-07 16:29:35,594 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-12-07 16:29:35,595 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-12-07 16:29:35,595 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-12-07 16:29:35,596 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s0] (custom)
2023-12-07 16:29:35,603 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s0/6b899ec5-a6cf-4067-83c4-fd8e24604d61 does not exist. Creating ...
2023-12-07 16:29:35,604 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s0/6b899ec5-a6cf-4067-83c4-fd8e24604d61
2023-12-07 16:29:35,607 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s0/6b899ec5-a6cf-4067-83c4-fd8e24604d61/in_use.lock acquired by nodename 9497@fv-az527-45
2023-12-07 16:29:35,608 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s0/6b899ec5-a6cf-4067-83c4-fd8e24604d61/current
2023-12-07 16:29:35,608 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s0/6b899ec5-a6cf-4067-83c4-fd8e24604d61/sm
2023-12-07 16:29:35,612 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s0/6b899ec5-a6cf-4067-83c4-fd8e24604d61/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@3f5d8985
2023-12-07 16:29:35,624 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s0/6b899ec5-a6cf-4067-83c4-fd8e24604d61/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s0/6b899ec5-a6cf-4067-83c4-fd8e24604d61/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:35,624 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s0/6b899ec5-a6cf-4067-83c4-fd8e24604d61 has been successfully formatted.
2023-12-07 16:29:35,626 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s0/6b899ec5-a6cf-4067-83c4-fd8e24604d61/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s0/6b899ec5-a6cf-4067-83c4-fd8e24604d61/current/raft-meta.conf
	at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:92)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:116)
	at java.base/sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:219)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:371)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:422)
	at java.base/java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:420)
	at java.base/java.nio.file.Files.newInputStream(Files.java:156)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:388)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:182)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:35,629 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-12-07 16:29:35,636 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-12-07 16:29:35,636 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:35,637 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-12-07 16:29:35,637 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-12-07 16:29:35,640 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:35,644 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-12-07 16:29:35,644 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-12-07 16:29:35,644 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:35,645 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-FD8E24604D61-cacheEviction-AwaitToRun,5,main] started
2023-12-07 16:29:35,648 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s0@group-FD8E24604D61-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s0/6b899ec5-a6cf-4067-83c4-fd8e24604d61
2023-12-07 16:29:35,648 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-12-07 16:29:35,649 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-12-07 16:29:35,650 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:35,650 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-12-07 16:29:35,651 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-12-07 16:29:35,651 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-12-07 16:29:35,651 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-12-07 16:29:35,652 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-12-07 16:29:35,653 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2023-12-07 16:29:35,655 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:35,656 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-12-07 16:29:35,656 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-12-07 16:29:35,656 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-12-07 16:29:35,662 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-FD8E24604D61-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:35,662 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-FD8E24604D61-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:35,663 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s0@group-FD8E24604D61: start as a follower, conf=-1: peers:[s0|localhost:37319, s1|localhost:46673, s2|localhost:34549]|listeners:[], old=null
2023-12-07 16:29:35,664 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-FD8E24604D61: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-12-07 16:29:35,664 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-FD8E24604D61-FollowerState
2023-12-07 16:29:35,665 [s0@group-FD8E24604D61-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:35,665 [s0@group-FD8E24604D61-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:35,667 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-FD8E24604D61,id=s0
2023-12-07 16:29:35,668 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2023-12-07 16:29:35,669 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-12-07 16:29:35,669 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-12-07 16:29:35,669 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-12-07 16:29:35,673 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(406)) - s0: start RPC server
2023-12-07 16:29:35,708 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 38415
2023-12-07 16:29:35,710 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 37319
2023-12-07 16:29:35,714 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 39861
2023-12-07 16:29:35,716 [JvmPauseMonitor0] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2023-12-07 16:29:35,716 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-12-07 16:29:35,716 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-12-07 16:29:35,716 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s1] (custom)
2023-12-07 16:29:35,717 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s1/6b899ec5-a6cf-4067-83c4-fd8e24604d61 does not exist. Creating ...
2023-12-07 16:29:35,719 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s1/6b899ec5-a6cf-4067-83c4-fd8e24604d61
2023-12-07 16:29:35,720 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s1/6b899ec5-a6cf-4067-83c4-fd8e24604d61/in_use.lock acquired by nodename 9497@fv-az527-45
2023-12-07 16:29:35,720 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s1/6b899ec5-a6cf-4067-83c4-fd8e24604d61/current
2023-12-07 16:29:35,720 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s1/6b899ec5-a6cf-4067-83c4-fd8e24604d61/sm
2023-12-07 16:29:35,721 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s1/6b899ec5-a6cf-4067-83c4-fd8e24604d61/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@d6166e3
2023-12-07 16:29:35,723 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s1/6b899ec5-a6cf-4067-83c4-fd8e24604d61/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s1/6b899ec5-a6cf-4067-83c4-fd8e24604d61/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:35,723 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s1/6b899ec5-a6cf-4067-83c4-fd8e24604d61 has been successfully formatted.
2023-12-07 16:29:35,723 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s1/6b899ec5-a6cf-4067-83c4-fd8e24604d61/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s1/6b899ec5-a6cf-4067-83c4-fd8e24604d61/current/raft-meta.conf
	at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:92)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:116)
	at java.base/sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:219)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:371)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:422)
	at java.base/java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:420)
	at java.base/java.nio.file.Files.newInputStream(Files.java:156)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:388)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:182)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:35,724 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-12-07 16:29:35,724 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-12-07 16:29:35,724 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:35,724 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-12-07 16:29:35,724 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-12-07 16:29:35,725 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:35,726 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-12-07 16:29:35,726 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-12-07 16:29:35,726 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:35,726 [s1-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s1@group-FD8E24604D61-cacheEviction-AwaitToRun,5,main] started
2023-12-07 16:29:35,728 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s1@group-FD8E24604D61-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s1/6b899ec5-a6cf-4067-83c4-fd8e24604d61
2023-12-07 16:29:35,729 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-12-07 16:29:35,729 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-12-07 16:29:35,729 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:35,729 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-12-07 16:29:35,729 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-12-07 16:29:35,729 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-12-07 16:29:35,729 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-12-07 16:29:35,729 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-12-07 16:29:35,730 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2023-12-07 16:29:35,732 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:35,732 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-12-07 16:29:35,732 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-12-07 16:29:35,732 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-12-07 16:29:35,733 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-FD8E24604D61-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:35,733 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-FD8E24604D61-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:35,733 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s1@group-FD8E24604D61: start as a follower, conf=-1: peers:[s0|localhost:37319, s1|localhost:46673, s2|localhost:34549]|listeners:[], old=null
2023-12-07 16:29:35,733 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-FD8E24604D61: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-12-07 16:29:35,733 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-FD8E24604D61-FollowerState
2023-12-07 16:29:35,734 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-FD8E24604D61,id=s1
2023-12-07 16:29:35,736 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2023-12-07 16:29:35,736 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-12-07 16:29:35,737 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-12-07 16:29:35,737 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-12-07 16:29:35,737 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(406)) - s1: start RPC server
2023-12-07 16:29:35,740 [s1@group-FD8E24604D61-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:35,741 [s1@group-FD8E24604D61-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:35,741 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 41635
2023-12-07 16:29:35,742 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 46673
2023-12-07 16:29:35,743 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 41891
2023-12-07 16:29:35,743 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-12-07 16:29:35,743 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-12-07 16:29:35,744 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s2] (custom)
2023-12-07 16:29:35,744 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s2/6b899ec5-a6cf-4067-83c4-fd8e24604d61 does not exist. Creating ...
2023-12-07 16:29:35,744 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s2/6b899ec5-a6cf-4067-83c4-fd8e24604d61
2023-12-07 16:29:35,743 [JvmPauseMonitor1] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s1: Started
2023-12-07 16:29:35,745 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s2/6b899ec5-a6cf-4067-83c4-fd8e24604d61/in_use.lock acquired by nodename 9497@fv-az527-45
2023-12-07 16:29:35,745 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s2/6b899ec5-a6cf-4067-83c4-fd8e24604d61/current
2023-12-07 16:29:35,745 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s2/6b899ec5-a6cf-4067-83c4-fd8e24604d61/sm
2023-12-07 16:29:35,745 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s2/6b899ec5-a6cf-4067-83c4-fd8e24604d61/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@7f122837
2023-12-07 16:29:35,747 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s2/6b899ec5-a6cf-4067-83c4-fd8e24604d61/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s2/6b899ec5-a6cf-4067-83c4-fd8e24604d61/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:35,747 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s2/6b899ec5-a6cf-4067-83c4-fd8e24604d61 has been successfully formatted.
2023-12-07 16:29:35,747 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s2/6b899ec5-a6cf-4067-83c4-fd8e24604d61/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s2/6b899ec5-a6cf-4067-83c4-fd8e24604d61/current/raft-meta.conf
	at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:92)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:116)
	at java.base/sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:219)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:371)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:422)
	at java.base/java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:420)
	at java.base/java.nio.file.Files.newInputStream(Files.java:156)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:388)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:182)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:35,747 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-12-07 16:29:35,748 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-12-07 16:29:35,748 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:35,748 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-12-07 16:29:35,748 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-12-07 16:29:35,749 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:35,749 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-12-07 16:29:35,749 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-12-07 16:29:35,749 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:35,753 [s2-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s2@group-FD8E24604D61-cacheEviction-AwaitToRun,5,main] started
2023-12-07 16:29:35,753 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s2@group-FD8E24604D61-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s2/6b899ec5-a6cf-4067-83c4-fd8e24604d61
2023-12-07 16:29:35,753 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-12-07 16:29:35,754 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-12-07 16:29:35,754 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:35,754 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-12-07 16:29:35,754 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-12-07 16:29:35,754 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-12-07 16:29:35,754 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-12-07 16:29:35,754 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-12-07 16:29:35,754 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2023-12-07 16:29:35,757 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:35,757 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-12-07 16:29:35,757 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-12-07 16:29:35,757 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-12-07 16:29:35,757 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-FD8E24604D61-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:35,757 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-FD8E24604D61-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:35,758 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s2@group-FD8E24604D61: start as a follower, conf=-1: peers:[s0|localhost:37319, s1|localhost:46673, s2|localhost:34549]|listeners:[], old=null
2023-12-07 16:29:35,758 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-FD8E24604D61: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-12-07 16:29:35,758 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-FD8E24604D61-FollowerState
2023-12-07 16:29:35,758 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-FD8E24604D61,id=s2
2023-12-07 16:29:35,758 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2023-12-07 16:29:35,758 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-12-07 16:29:35,758 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-12-07 16:29:35,759 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-12-07 16:29:35,759 [s2@group-FD8E24604D61-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:35,759 [s2@group-FD8E24604D61-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:35,759 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(406)) - s2: start RPC server
2023-12-07 16:29:35,760 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 39209
2023-12-07 16:29:35,761 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 34549
2023-12-07 16:29:35,762 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 41889
2023-12-07 16:29:35,762 [JvmPauseMonitor2] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s2: Started
2023-12-07 16:29:35,764 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-12-07 16:29:35,766 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-FD8E24604D61:t0, leader=null, voted=, raftlog=Memoized:s0@group-FD8E24604D61-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:37319, s1|localhost:46673, s2|localhost:34549]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FD8E24604D61:t0, leader=null, voted=, raftlog=Memoized:s1@group-FD8E24604D61-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:37319, s1|localhost:46673, s2|localhost:34549]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-FD8E24604D61:t0, leader=null, voted=, raftlog=Memoized:s2@group-FD8E24604D61-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:37319, s1|localhost:46673, s2|localhost:34549]|listeners:[], old=null RUNNING
2023-12-07 16:29:35,769 [Time-limited test] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(119)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-FD8E24604D61:t0, leader=null, voted=, raftlog=Memoized:s0@group-FD8E24604D61-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:37319, s1|localhost:46673, s2|localhost:34549]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FD8E24604D61:t0, leader=null, voted=, raftlog=Memoized:s1@group-FD8E24604D61-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:37319, s1|localhost:46673, s2|localhost:34549]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-FD8E24604D61:t0, leader=null, voted=, raftlog=Memoized:s2@group-FD8E24604D61-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:37319, s1|localhost:46673, s2|localhost:34549]|listeners:[], old=null RUNNING
2023-12-07 16:29:35,945 [s1@group-FD8E24604D61-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-FD8E24604D61-FollowerState: change to CANDIDATE, lastRpcElapsedTime:211382775ns, electionTimeout:203ms
2023-12-07 16:29:35,945 [s0@group-FD8E24604D61-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-FD8E24604D61-FollowerState: change to CANDIDATE, lastRpcElapsedTime:280459344ns, electionTimeout:279ms
2023-12-07 16:29:35,945 [s1@group-FD8E24604D61-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-FD8E24604D61-FollowerState
2023-12-07 16:29:35,945 [s0@group-FD8E24604D61-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-FD8E24604D61-FollowerState
2023-12-07 16:29:35,945 [s0@group-FD8E24604D61-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-FD8E24604D61: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-12-07 16:29:35,945 [s1@group-FD8E24604D61-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-FD8E24604D61: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-12-07 16:29:35,948 [s0@group-FD8E24604D61-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-12-07 16:29:35,948 [s1@group-FD8E24604D61-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-12-07 16:29:35,948 [s0@group-FD8E24604D61-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-FD8E24604D61-LeaderElection2
2023-12-07 16:29:35,948 [s1@group-FD8E24604D61-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-FD8E24604D61-LeaderElection1
2023-12-07 16:29:35,951 [s1@group-FD8E24604D61-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-FD8E24604D61-LeaderElection1 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|localhost:37319, s1|localhost:46673, s2|localhost:34549]|listeners:[], old=null
2023-12-07 16:29:35,951 [s0@group-FD8E24604D61-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-FD8E24604D61-LeaderElection2 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|localhost:37319, s1|localhost:46673, s2|localhost:34549]|listeners:[], old=null
2023-12-07 16:29:35,963 [s0@group-FD8E24604D61-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:35,963 [s1@group-FD8E24604D61-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:35,963 [s0@group-FD8E24604D61-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:35,963 [s1@group-FD8E24604D61-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:35,965 [s0@group-FD8E24604D61-LeaderElection2-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s1
2023-12-07 16:29:35,965 [s0@group-FD8E24604D61-LeaderElection2-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s2
2023-12-07 16:29:35,965 [s1@group-FD8E24604D61-LeaderElection1-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s0
2023-12-07 16:29:35,965 [s1@group-FD8E24604D61-LeaderElection1-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s2
2023-12-07 16:29:36,054 [s2@group-FD8E24604D61-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-FD8E24604D61-FollowerState: change to CANDIDATE, lastRpcElapsedTime:296614905ns, electionTimeout:295ms
2023-12-07 16:29:36,055 [s2@group-FD8E24604D61-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-FD8E24604D61-FollowerState
2023-12-07 16:29:36,055 [s2@group-FD8E24604D61-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-FD8E24604D61: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-12-07 16:29:36,055 [s2@group-FD8E24604D61-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-12-07 16:29:36,055 [s2@group-FD8E24604D61-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-FD8E24604D61-LeaderElection3
2023-12-07 16:29:36,056 [s2@group-FD8E24604D61-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s2@group-FD8E24604D61-LeaderElection3 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|localhost:37319, s1|localhost:46673, s2|localhost:34549]|listeners:[], old=null
2023-12-07 16:29:36,056 [s2@group-FD8E24604D61-LeaderElection3-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s0
2023-12-07 16:29:36,057 [s2@group-FD8E24604D61-LeaderElection3-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s1
2023-12-07 16:29:36,057 [s2@group-FD8E24604D61-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:36,059 [s2@group-FD8E24604D61-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:36,126 [s0@group-FD8E24604D61-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-FD8E24604D61-LeaderElection2: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2023-12-07 16:29:36,126 [s0@group-FD8E24604D61-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-FD8E24604D61-LeaderElection2 PRE_VOTE round 0: result TIMEOUT
2023-12-07 16:29:36,127 [s0@group-FD8E24604D61-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-FD8E24604D61-LeaderElection2 PRE_VOTE round 1: submit vote requests at term 0 for -1: peers:[s0|localhost:37319, s1|localhost:46673, s2|localhost:34549]|listeners:[], old=null
2023-12-07 16:29:36,127 [s0@group-FD8E24604D61-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:36,128 [s0@group-FD8E24604D61-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:36,216 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s1@group-FD8E24604D61: receive requestVote(PRE_VOTE, s2, group-FD8E24604D61, 0, (t:0, i:0))
2023-12-07 16:29:36,217 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s1@group-FD8E24604D61: receive requestVote(PRE_VOTE, s0, group-FD8E24604D61, 0, (t:0, i:0))
2023-12-07 16:29:36,217 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s1@group-FD8E24604D61: receive requestVote(PRE_VOTE, s0, group-FD8E24604D61, 0, (t:0, i:0))
2023-12-07 16:29:36,216 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s0@group-FD8E24604D61: receive requestVote(PRE_VOTE, s2, group-FD8E24604D61, 0, (t:0, i:0))
2023-12-07 16:29:36,218 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s2@group-FD8E24604D61: receive requestVote(PRE_VOTE, s1, group-FD8E24604D61, 0, (t:0, i:0))
2023-12-07 16:29:36,218 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-FD8E24604D61-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-12-07 16:29:36,218 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s0@group-FD8E24604D61: receive requestVote(PRE_VOTE, s1, group-FD8E24604D61, 0, (t:0, i:0))
2023-12-07 16:29:36,219 [Time-limited test] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(119)) - Attempt #2 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-FD8E24604D61:t0, leader=null, voted=, raftlog=Memoized:s0@group-FD8E24604D61-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:37319, s1|localhost:46673, s2|localhost:34549]|listeners:[], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-FD8E24604D61:t0, leader=null, voted=, raftlog=Memoized:s1@group-FD8E24604D61-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:37319, s1|localhost:46673, s2|localhost:34549]|listeners:[], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-FD8E24604D61:t0, leader=null, voted=, raftlog=Memoized:s2@group-FD8E24604D61-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:37319, s1|localhost:46673, s2|localhost:34549]|listeners:[], old=null RUNNING
2023-12-07 16:29:36,218 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-FD8E24604D61-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-12-07 16:29:36,218 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-FD8E24604D61-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-12-07 16:29:36,227 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s2@group-FD8E24604D61: receive requestVote(PRE_VOTE, s0, group-FD8E24604D61, 0, (t:0, i:0))
2023-12-07 16:29:36,227 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s2@group-FD8E24604D61: receive requestVote(PRE_VOTE, s0, group-FD8E24604D61, 0, (t:0, i:0))
2023-12-07 16:29:36,227 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s2@group-FD8E24604D61 replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-FD8E24604D61:t0, leader=null, voted=, raftlog=Memoized:s2@group-FD8E24604D61-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:37319, s1|localhost:46673, s2|localhost:34549]|listeners:[], old=null
2023-12-07 16:29:36,227 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s1@group-FD8E24604D61 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-FD8E24604D61:t0, leader=null, voted=, raftlog=Memoized:s1@group-FD8E24604D61-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:37319, s1|localhost:46673, s2|localhost:34549]|listeners:[], old=null
2023-12-07 16:29:36,227 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-FD8E24604D61-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-12-07 16:29:36,227 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s1@group-FD8E24604D61 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-FD8E24604D61:t0, leader=null, voted=, raftlog=Memoized:s1@group-FD8E24604D61-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:37319, s1|localhost:46673, s2|localhost:34549]|listeners:[], old=null
2023-12-07 16:29:36,228 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s0@group-FD8E24604D61 replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-FD8E24604D61:t0, leader=null, voted=, raftlog=Memoized:s0@group-FD8E24604D61-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:37319, s1|localhost:46673, s2|localhost:34549]|listeners:[], old=null
2023-12-07 16:29:36,228 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-FD8E24604D61-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-12-07 16:29:36,229 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s0@group-FD8E24604D61 replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-FD8E24604D61:t0, leader=null, voted=, raftlog=Memoized:s0@group-FD8E24604D61-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:37319, s1|localhost:46673, s2|localhost:34549]|listeners:[], old=null
2023-12-07 16:29:36,229 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-FD8E24604D61-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-12-07 16:29:36,230 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s2@group-FD8E24604D61 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-FD8E24604D61:t0, leader=null, voted=, raftlog=Memoized:s2@group-FD8E24604D61-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:37319, s1|localhost:46673, s2|localhost:34549]|listeners:[], old=null
2023-12-07 16:29:36,230 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-FD8E24604D61-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-12-07 16:29:36,231 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s1@group-FD8E24604D61 replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-FD8E24604D61:t0, leader=null, voted=, raftlog=Memoized:s1@group-FD8E24604D61-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:37319, s1|localhost:46673, s2|localhost:34549]|listeners:[], old=null
2023-12-07 16:29:36,232 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-FD8E24604D61-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-12-07 16:29:36,233 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s2@group-FD8E24604D61 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-FD8E24604D61:t0, leader=null, voted=, raftlog=Memoized:s2@group-FD8E24604D61-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:37319, s1|localhost:46673, s2|localhost:34549]|listeners:[], old=null
2023-12-07 16:29:36,242 [s1@group-FD8E24604D61-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-FD8E24604D61-LeaderElection1: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-12-07 16:29:36,242 [s1@group-FD8E24604D61-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t0
2023-12-07 16:29:36,242 [s1@group-FD8E24604D61-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-FD8E24604D61-LeaderElection1 PRE_VOTE round 0: result PASSED
2023-12-07 16:29:36,245 [s1@group-FD8E24604D61-LeaderElection1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s1/6b899ec5-a6cf-4067-83c4-fd8e24604d61/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@69a3c20
2023-12-07 16:29:36,246 [s0@group-FD8E24604D61-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-FD8E24604D61-LeaderElection2: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-12-07 16:29:36,249 [s0@group-FD8E24604D61-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t0
2023-12-07 16:29:36,249 [s2@group-FD8E24604D61-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-FD8E24604D61-LeaderElection3: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-12-07 16:29:36,247 [s1@group-FD8E24604D61-LeaderElection1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s1/6b899ec5-a6cf-4067-83c4-fd8e24604d61/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s1/6b899ec5-a6cf-4067-83c4-fd8e24604d61/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:36,250 [s2@group-FD8E24604D61-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t0
2023-12-07 16:29:36,250 [s0@group-FD8E24604D61-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-FD8E24604D61-LeaderElection2 PRE_VOTE round 1: result PASSED
2023-12-07 16:29:36,250 [s2@group-FD8E24604D61-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s2@group-FD8E24604D61-LeaderElection3 PRE_VOTE round 0: result PASSED
2023-12-07 16:29:36,250 [s0@group-FD8E24604D61-LeaderElection2] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s0/6b899ec5-a6cf-4067-83c4-fd8e24604d61/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@3da72736
2023-12-07 16:29:36,250 [s2@group-FD8E24604D61-LeaderElection3] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s2/6b899ec5-a6cf-4067-83c4-fd8e24604d61/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@12dfff79
2023-12-07 16:29:36,250 [s1@group-FD8E24604D61-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-FD8E24604D61-LeaderElection1 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|localhost:37319, s1|localhost:46673, s2|localhost:34549]|listeners:[], old=null
2023-12-07 16:29:36,252 [s0@group-FD8E24604D61-LeaderElection2] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s0/6b899ec5-a6cf-4067-83c4-fd8e24604d61/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s0/6b899ec5-a6cf-4067-83c4-fd8e24604d61/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:36,252 [s0@group-FD8E24604D61-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-FD8E24604D61-LeaderElection2 ELECTION round 1: submit vote requests at term 1 for -1: peers:[s0|localhost:37319, s1|localhost:46673, s2|localhost:34549]|listeners:[], old=null
2023-12-07 16:29:36,252 [s2@group-FD8E24604D61-LeaderElection3] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s2/6b899ec5-a6cf-4067-83c4-fd8e24604d61/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s2/6b899ec5-a6cf-4067-83c4-fd8e24604d61/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:36,252 [s2@group-FD8E24604D61-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s2@group-FD8E24604D61-LeaderElection3 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|localhost:37319, s1|localhost:46673, s2|localhost:34549]|listeners:[], old=null
2023-12-07 16:29:36,253 [s2@group-FD8E24604D61-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:36,253 [s2@group-FD8E24604D61-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:36,256 [s0@group-FD8E24604D61-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:36,256 [s0@group-FD8E24604D61-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:36,257 [s1@group-FD8E24604D61-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:36,257 [s1@group-FD8E24604D61-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:36,259 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s0@group-FD8E24604D61: receive requestVote(ELECTION, s1, group-FD8E24604D61, 1, (t:0, i:0))
2023-12-07 16:29:36,259 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-FD8E24604D61-CANDIDATE: reject ELECTION from s1: already has voted for s0 at current term 1
2023-12-07 16:29:36,260 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s0@group-FD8E24604D61 replies to ELECTION vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-FD8E24604D61:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-FD8E24604D61-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:37319, s1|localhost:46673, s2|localhost:34549]|listeners:[], old=null
2023-12-07 16:29:36,262 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s0@group-FD8E24604D61: receive requestVote(ELECTION, s2, group-FD8E24604D61, 1, (t:0, i:0))
2023-12-07 16:29:36,262 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-FD8E24604D61-CANDIDATE: reject ELECTION from s2: already has voted for s0 at current term 1
2023-12-07 16:29:36,262 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s0@group-FD8E24604D61 replies to ELECTION vote request: s2<-s0#0:FAIL-t1. Peer's state: s0@group-FD8E24604D61:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-FD8E24604D61-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:37319, s1|localhost:46673, s2|localhost:34549]|listeners:[], old=null
2023-12-07 16:29:36,262 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s2@group-FD8E24604D61: receive requestVote(ELECTION, s1, group-FD8E24604D61, 1, (t:0, i:0))
2023-12-07 16:29:36,262 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-FD8E24604D61-CANDIDATE: reject ELECTION from s1: already has voted for s2 at current term 1
2023-12-07 16:29:36,262 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s2@group-FD8E24604D61 replies to ELECTION vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-FD8E24604D61:t1, leader=null, voted=s2, raftlog=Memoized:s2@group-FD8E24604D61-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:37319, s1|localhost:46673, s2|localhost:34549]|listeners:[], old=null
2023-12-07 16:29:36,266 [s1@group-FD8E24604D61-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-FD8E24604D61-LeaderElection1: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2023-12-07 16:29:36,266 [s1@group-FD8E24604D61-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:FAIL-t1
2023-12-07 16:29:36,266 [s1@group-FD8E24604D61-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s1<-s2#0:FAIL-t1
2023-12-07 16:29:36,266 [s1@group-FD8E24604D61-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-FD8E24604D61-LeaderElection1 ELECTION round 0: result REJECTED
2023-12-07 16:29:36,266 [s1@group-FD8E24604D61-LeaderElection1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-FD8E24604D61: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2023-12-07 16:29:36,267 [s1@group-FD8E24604D61-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-FD8E24604D61-LeaderElection1
2023-12-07 16:29:36,267 [s1@group-FD8E24604D61-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-FD8E24604D61-FollowerState
2023-12-07 16:29:36,270 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s1@group-FD8E24604D61: receive requestVote(ELECTION, s2, group-FD8E24604D61, 1, (t:0, i:0))
2023-12-07 16:29:36,270 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s1@group-FD8E24604D61: receive requestVote(ELECTION, s0, group-FD8E24604D61, 1, (t:0, i:0))
2023-12-07 16:29:36,270 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s2@group-FD8E24604D61: receive requestVote(ELECTION, s0, group-FD8E24604D61, 1, (t:0, i:0))
2023-12-07 16:29:36,270 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-FD8E24604D61-CANDIDATE: reject ELECTION from s0: already has voted for s2 at current term 1
2023-12-07 16:29:36,270 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s2@group-FD8E24604D61 replies to ELECTION vote request: s0<-s2#0:FAIL-t1. Peer's state: s2@group-FD8E24604D61:t1, leader=null, voted=s2, raftlog=Memoized:s2@group-FD8E24604D61-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:37319, s1|localhost:46673, s2|localhost:34549]|listeners:[], old=null
2023-12-07 16:29:36,271 [s1@group-FD8E24604D61-LeaderElection1] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(564)) - s1@group-FD8E24604D61: set firstElectionSinceStartup to false for REJECTED
2023-12-07 16:29:36,272 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-FD8E24604D61-FOLLOWER: reject ELECTION from s2: already has voted for s1 at current term 1
2023-12-07 16:29:36,272 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s1@group-FD8E24604D61 replies to ELECTION vote request: s2<-s1#0:FAIL-t1. Peer's state: s1@group-FD8E24604D61:t1, leader=null, voted=s1, raftlog=Memoized:s1@group-FD8E24604D61-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:37319, s1|localhost:46673, s2|localhost:34549]|listeners:[], old=null
2023-12-07 16:29:36,272 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-FD8E24604D61-FOLLOWER: reject ELECTION from s0: already has voted for s1 at current term 1
2023-12-07 16:29:36,272 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s1@group-FD8E24604D61 replies to ELECTION vote request: s0<-s1#0:FAIL-t1. Peer's state: s1@group-FD8E24604D61:t1, leader=null, voted=s1, raftlog=Memoized:s1@group-FD8E24604D61-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:37319, s1|localhost:46673, s2|localhost:34549]|listeners:[], old=null
2023-12-07 16:29:36,273 [s2@group-FD8E24604D61-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-FD8E24604D61-LeaderElection3: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2023-12-07 16:29:36,274 [s2@group-FD8E24604D61-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:FAIL-t1
2023-12-07 16:29:36,274 [s2@group-FD8E24604D61-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s2<-s1#0:FAIL-t1
2023-12-07 16:29:36,274 [s2@group-FD8E24604D61-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s2@group-FD8E24604D61-LeaderElection3 ELECTION round 0: result REJECTED
2023-12-07 16:29:36,274 [s2@group-FD8E24604D61-LeaderElection3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-FD8E24604D61: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2023-12-07 16:29:36,274 [s2@group-FD8E24604D61-LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-FD8E24604D61-LeaderElection3
2023-12-07 16:29:36,274 [s2@group-FD8E24604D61-LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-FD8E24604D61-FollowerState
2023-12-07 16:29:36,274 [s0@group-FD8E24604D61-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-FD8E24604D61-LeaderElection2: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2023-12-07 16:29:36,274 [s0@group-FD8E24604D61-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:FAIL-t1
2023-12-07 16:29:36,277 [s0@group-FD8E24604D61-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s0<-s2#0:FAIL-t1
2023-12-07 16:29:36,274 [s2@group-FD8E24604D61-LeaderElection3] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(564)) - s2@group-FD8E24604D61: set firstElectionSinceStartup to false for REJECTED
2023-12-07 16:29:36,277 [s0@group-FD8E24604D61-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-FD8E24604D61-LeaderElection2 ELECTION round 1: result REJECTED
2023-12-07 16:29:36,278 [s0@group-FD8E24604D61-LeaderElection2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-FD8E24604D61: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2023-12-07 16:29:36,278 [s0@group-FD8E24604D61-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-FD8E24604D61-LeaderElection2
2023-12-07 16:29:36,278 [s0@group-FD8E24604D61-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-FD8E24604D61-FollowerState
2023-12-07 16:29:36,278 [s0@group-FD8E24604D61-LeaderElection2] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(564)) - s0@group-FD8E24604D61: set firstElectionSinceStartup to false for REJECTED
2023-12-07 16:29:36,441 [s1@group-FD8E24604D61-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-FD8E24604D61-FollowerState: change to CANDIDATE, lastRpcElapsedTime:173725175ns, electionTimeout:168ms
2023-12-07 16:29:36,441 [s1@group-FD8E24604D61-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-FD8E24604D61-FollowerState
2023-12-07 16:29:36,441 [s1@group-FD8E24604D61-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-FD8E24604D61: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-12-07 16:29:36,441 [s1@group-FD8E24604D61-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-12-07 16:29:36,441 [s1@group-FD8E24604D61-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-FD8E24604D61-LeaderElection4
2023-12-07 16:29:36,442 [s1@group-FD8E24604D61-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-FD8E24604D61-LeaderElection4 PRE_VOTE round 0: submit vote requests at term 1 for -1: peers:[s0|localhost:37319, s1|localhost:46673, s2|localhost:34549]|listeners:[], old=null
2023-12-07 16:29:36,445 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s0@group-FD8E24604D61: receive requestVote(PRE_VOTE, s1, group-FD8E24604D61, 1, (t:0, i:0))
2023-12-07 16:29:36,445 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s2@group-FD8E24604D61: receive requestVote(PRE_VOTE, s1, group-FD8E24604D61, 1, (t:0, i:0))
2023-12-07 16:29:36,445 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-FD8E24604D61-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-12-07 16:29:36,445 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-FD8E24604D61-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-12-07 16:29:36,447 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s2@group-FD8E24604D61 replies to PRE_VOTE vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-FD8E24604D61:t1, leader=null, voted=s2, raftlog=Memoized:s2@group-FD8E24604D61-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:37319, s1|localhost:46673, s2|localhost:34549]|listeners:[], old=null
2023-12-07 16:29:36,447 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s0@group-FD8E24604D61 replies to PRE_VOTE vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-FD8E24604D61:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-FD8E24604D61-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:37319, s1|localhost:46673, s2|localhost:34549]|listeners:[], old=null
2023-12-07 16:29:36,448 [s1@group-FD8E24604D61-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-FD8E24604D61-LeaderElection4: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-12-07 16:29:36,448 [s1@group-FD8E24604D61-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t1
2023-12-07 16:29:36,448 [s1@group-FD8E24604D61-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-FD8E24604D61-LeaderElection4 PRE_VOTE round 0: result PASSED
2023-12-07 16:29:36,449 [s1@group-FD8E24604D61-LeaderElection4] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s1/6b899ec5-a6cf-4067-83c4-fd8e24604d61/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@578b1274
2023-12-07 16:29:36,450 [s1@group-FD8E24604D61-LeaderElection4] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s1/6b899ec5-a6cf-4067-83c4-fd8e24604d61/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s1/6b899ec5-a6cf-4067-83c4-fd8e24604d61/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:36,450 [s1@group-FD8E24604D61-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-FD8E24604D61-LeaderElection4 ELECTION round 0: submit vote requests at term 2 for -1: peers:[s0|localhost:37319, s1|localhost:46673, s2|localhost:34549]|listeners:[], old=null
2023-12-07 16:29:36,454 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s0@group-FD8E24604D61: receive requestVote(ELECTION, s1, group-FD8E24604D61, 2, (t:0, i:0))
2023-12-07 16:29:36,454 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-FD8E24604D61-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2023-12-07 16:29:36,454 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-FD8E24604D61: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s1
2023-12-07 16:29:36,454 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-FD8E24604D61-FollowerState
2023-12-07 16:29:36,455 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-FD8E24604D61-FollowerState
2023-12-07 16:29:36,455 [s0@group-FD8E24604D61-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-FD8E24604D61-FollowerState was interrupted
2023-12-07 16:29:36,457 [grpc-default-executor-2] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s0/6b899ec5-a6cf-4067-83c4-fd8e24604d61/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1736e701
2023-12-07 16:29:36,457 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s2@group-FD8E24604D61: receive requestVote(ELECTION, s1, group-FD8E24604D61, 2, (t:0, i:0))
2023-12-07 16:29:36,457 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-FD8E24604D61-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2023-12-07 16:29:36,457 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-FD8E24604D61: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s1
2023-12-07 16:29:36,457 [grpc-default-executor-7] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-FD8E24604D61-FollowerState
2023-12-07 16:29:36,458 [grpc-default-executor-7] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-FD8E24604D61-FollowerState
2023-12-07 16:29:36,458 [s2@group-FD8E24604D61-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-FD8E24604D61-FollowerState was interrupted
2023-12-07 16:29:36,460 [grpc-default-executor-7] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s2/6b899ec5-a6cf-4067-83c4-fd8e24604d61/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@13f365c4
2023-12-07 16:29:36,460 [grpc-default-executor-2] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s0/6b899ec5-a6cf-4067-83c4-fd8e24604d61/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s0/6b899ec5-a6cf-4067-83c4-fd8e24604d61/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:36,460 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s0@group-FD8E24604D61 replies to ELECTION vote request: s1<-s0#0:OK-t2. Peer's state: s0@group-FD8E24604D61:t2, leader=null, voted=s1, raftlog=Memoized:s0@group-FD8E24604D61-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:37319, s1|localhost:46673, s2|localhost:34549]|listeners:[], old=null
2023-12-07 16:29:36,462 [s1@group-FD8E24604D61-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-FD8E24604D61-LeaderElection4: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-12-07 16:29:36,462 [s1@group-FD8E24604D61-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t2
2023-12-07 16:29:36,462 [s1@group-FD8E24604D61-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-FD8E24604D61-LeaderElection4 ELECTION round 0: result PASSED
2023-12-07 16:29:36,463 [s1@group-FD8E24604D61-LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-FD8E24604D61-LeaderElection4
2023-12-07 16:29:36,463 [s1@group-FD8E24604D61-LeaderElection4] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-FD8E24604D61: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2023-12-07 16:29:36,463 [grpc-default-executor-7] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s2/6b899ec5-a6cf-4067-83c4-fd8e24604d61/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s2/6b899ec5-a6cf-4067-83c4-fd8e24604d61/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:36,463 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s2@group-FD8E24604D61 replies to ELECTION vote request: s1<-s2#0:OK-t2. Peer's state: s2@group-FD8E24604D61:t2, leader=null, voted=s1, raftlog=Memoized:s2@group-FD8E24604D61-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:37319, s1|localhost:46673, s2|localhost:34549]|listeners:[], old=null
2023-12-07 16:29:36,466 [s1@group-FD8E24604D61-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-12-07 16:29:36,468 [s1@group-FD8E24604D61-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-12-07 16:29:36,469 [s1@group-FD8E24604D61-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2023-12-07 16:29:36,471 [s1@group-FD8E24604D61-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-12-07 16:29:36,471 [s1@group-FD8E24604D61-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-12-07 16:29:36,472 [s1@group-FD8E24604D61-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-12-07 16:29:36,475 [s1@group-FD8E24604D61-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = false (default)
2023-12-07 16:29:36,477 [s1@group-FD8E24604D61-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2023-12-07 16:29:36,477 [s1@group-FD8E24604D61-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-12-07 16:29:36,477 [s1@group-FD8E24604D61-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-12-07 16:29:36,478 [s1@group-FD8E24604D61-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-12-07 16:29:36,485 [s1@group-FD8E24604D61-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-12-07 16:29:36,485 [s1@group-FD8E24604D61-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:36,485 [s1@group-FD8E24604D61-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-12-07 16:29:36,487 [s1@group-FD8E24604D61-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2023-12-07 16:29:36,488 [s1@group-FD8E24604D61-LeaderElection4] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2023-12-07 16:29:36,488 [s1@group-FD8E24604D61-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:36,488 [s1@group-FD8E24604D61-LeaderElection4] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2023-12-07 16:29:36,488 [s1@group-FD8E24604D61-LeaderElection4] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2023-12-07 16:29:36,488 [s1@group-FD8E24604D61-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:36,489 [s1@group-FD8E24604D61-LeaderElection4] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:36,492 [s1@group-FD8E24604D61-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-12-07 16:29:36,492 [s1@group-FD8E24604D61-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:36,492 [s1@group-FD8E24604D61-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-12-07 16:29:36,492 [s1@group-FD8E24604D61-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2023-12-07 16:29:36,493 [s1@group-FD8E24604D61-LeaderElection4] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2023-12-07 16:29:36,493 [s1@group-FD8E24604D61-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:36,493 [s1@group-FD8E24604D61-LeaderElection4] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2023-12-07 16:29:36,493 [s1@group-FD8E24604D61-LeaderElection4] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2023-12-07 16:29:36,493 [s1@group-FD8E24604D61-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:36,493 [s1@group-FD8E24604D61-LeaderElection4] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:36,494 [s1@group-FD8E24604D61-LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-FD8E24604D61-LeaderStateImpl
2023-12-07 16:29:36,494 [s1@group-FD8E24604D61-LeaderElection4] INFO  server.RaftServer$Division (ServerState.java:setLeader(265)) - s1@group-FD8E24604D61: change Leader from null to s1 at term 2 for becomeLeader, leader elected after 1019ms
2023-12-07 16:29:36,504 [s1@group-FD8E24604D61-LeaderElection4] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s1@group-FD8E24604D61-SegmentedRaftLogWorker: Starting segment from index:0
2023-12-07 16:29:36,512 [s1@group-FD8E24604D61-LeaderElection4] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(382)) - s1@group-FD8E24604D61: set configuration 0: peers:[s0|localhost:37319, s1|localhost:46673, s2|localhost:34549]|listeners:[], old=null
2023-12-07 16:29:36,518 [s1@group-FD8E24604D61-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2023-12-07 16:29:36,528 [s1@group-FD8E24604D61-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s1@group-FD8E24604D61-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s1/6b899ec5-a6cf-4067-83c4-fd8e24604d61/current/log_inprogress_0
2023-12-07 16:29:36,535 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(265)) - s0@group-FD8E24604D61: change Leader from null to s1 at term 2 for appendEntries, leader elected after 1061ms
2023-12-07 16:29:36,537 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(265)) - s2@group-FD8E24604D61: change Leader from null to s1 at term 2 for appendEntries, leader elected after 1058ms
2023-12-07 16:29:36,593 [s2-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-FD8E24604D61: receive appendEntries(s1, 2, null, -1, true, commits:[s1:c-1, s0:c-1, s2:c-1], cId:1, entries: [(t:2, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37319"
dataStreamAddress: "localhost:35527"
clientAddress: "localhost:38415"
adminAddress: "localhost:39861"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:46673"
dataStreamAddress: "localhost:45865"
clientAddress: "localhost:41635"
adminAddress: "localhost:41891"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:34549"
dataStreamAddress: "localhost:40947"
clientAddress: "localhost:39209"
adminAddress: "localhost:41889"
startupRole: FOLLOWER
, old:)]
2023-12-07 16:29:36,593 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-FD8E24604D61: receive appendEntries(s1, 2, null, -1, true, commits:[s1:c-1, s0:c-1, s2:c-1], cId:1, entries: [(t:2, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37319"
dataStreamAddress: "localhost:35527"
clientAddress: "localhost:38415"
adminAddress: "localhost:39861"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:46673"
dataStreamAddress: "localhost:45865"
clientAddress: "localhost:41635"
adminAddress: "localhost:41891"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:34549"
dataStreamAddress: "localhost:40947"
clientAddress: "localhost:39209"
adminAddress: "localhost:41889"
startupRole: FOLLOWER
, old:)]
2023-12-07 16:29:36,594 [s0-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(382)) - s0@group-FD8E24604D61: set configuration 0: peers:[s0|localhost:37319, s1|localhost:46673, s2|localhost:34549]|listeners:[], old=null
2023-12-07 16:29:36,594 [s2-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(382)) - s2@group-FD8E24604D61: set configuration 0: peers:[s0|localhost:37319, s1|localhost:46673, s2|localhost:34549]|listeners:[], old=null
2023-12-07 16:29:36,596 [s2-server-thread3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s2@group-FD8E24604D61-SegmentedRaftLogWorker: Starting segment from index:0
2023-12-07 16:29:36,596 [s0-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s0@group-FD8E24604D61-SegmentedRaftLogWorker: Starting segment from index:0
2023-12-07 16:29:36,597 [s0@group-FD8E24604D61-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2023-12-07 16:29:36,596 [s2@group-FD8E24604D61-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2023-12-07 16:29:36,607 [s2@group-FD8E24604D61-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s2@group-FD8E24604D61-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s2/6b899ec5-a6cf-4067-83c4-fd8e24604d61/current/log_inprogress_0
2023-12-07 16:29:36,608 [s0@group-FD8E24604D61-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s0@group-FD8E24604D61-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s0/6b899ec5-a6cf-4067-83c4-fd8e24604d61/current/log_inprogress_0
2023-12-07 16:29:36,609 [s2-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-FD8E24604D61: succeeded to handle AppendEntries. Reply: s1<-s2#1:OK-t2,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-12-07 16:29:36,609 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-FD8E24604D61: succeeded to handle AppendEntries. Reply: s1<-s0#1:OK-t2,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-12-07 16:29:36,614 [s1@group-FD8E24604D61-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s1/6b899ec5-a6cf-4067-83c4-fd8e24604d61/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@231dd9f1
2023-12-07 16:29:36,617 [s1@group-FD8E24604D61-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s1/6b899ec5-a6cf-4067-83c4-fd8e24604d61/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s1/6b899ec5-a6cf-4067-83c4-fd8e24604d61/current/raft-meta.conf with options [REPLACE_EXISTING]
2023-12-07 16:29:36,617 [s1@group-FD8E24604D61-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:isApplied(320)) - leader is ready since appliedIndex == 0 >= startIndex == 0
2023-12-07 16:29:36,670 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-FD8E24604D61:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-FD8E24604D61-SegmentedRaftLog:OPENED:c-1, conf=0: peers:[s0|localhost:37319, s1|localhost:46673, s2|localhost:34549]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-FD8E24604D61:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-FD8E24604D61-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:37319, s1|localhost:46673, s2|localhost:34549]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-FD8E24604D61:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-FD8E24604D61-SegmentedRaftLog:OPENED:c-1, conf=0: peers:[s0|localhost:37319, s1|localhost:46673, s2|localhost:34549]|listeners:[], old=null RUNNING
2023-12-07 16:29:36,699 [s0@group-FD8E24604D61-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s0/6b899ec5-a6cf-4067-83c4-fd8e24604d61/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2dd3b70b
2023-12-07 16:29:36,699 [s2@group-FD8E24604D61-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s2/6b899ec5-a6cf-4067-83c4-fd8e24604d61/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4d9caa13
2023-12-07 16:29:36,703 [s0@group-FD8E24604D61-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s0/6b899ec5-a6cf-4067-83c4-fd8e24604d61/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s0/6b899ec5-a6cf-4067-83c4-fd8e24604d61/current/raft-meta.conf with options [REPLACE_EXISTING]
2023-12-07 16:29:36,705 [s2@group-FD8E24604D61-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s2/6b899ec5-a6cf-4067-83c4-fd8e24604d61/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4bf48116/s2/6b899ec5-a6cf-4067-83c4-fd8e24604d61/current/raft-meta.conf with options [REPLACE_EXISTING]
2023-12-07 16:29:36,721 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s1@group-FD8E24604D61: receive client request(RaftClientRequest:client-9EB17E541513->s1@group-FD8E24604D61, cid=1, seq=null, RW, Message:494e4352454d454e54)
2023-12-07 16:29:36,730 [s1-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s1@group-FD8E24604D61-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-9EB17E541513->s1@group-FD8E24604D61, cid=1, seq=null, RW, Message:494e4352454d454e54, entry=(t:2, i:1), STATEMACHINELOGENTRY, 1@client-9EB17E541513
2023-12-07 16:29:36,732 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-FD8E24604D61: receive appendEntries(s1, 2, (t:2, i:0), 0, true, commits:[s1:c0, s0:c0, s2:c0], cId:6, entries: [(t:2, i:1), STATEMACHINELOGENTRY, 1@client-9EB17E541513]
2023-12-07 16:29:36,732 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-FD8E24604D61: receive appendEntries(s1, 2, (t:2, i:0), 0, true, commits:[s1:c0, s0:c0, s2:c0], cId:6, entries: [(t:2, i:1), STATEMACHINELOGENTRY, 1@client-9EB17E541513]
2023-12-07 16:29:36,734 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-FD8E24604D61: succeeded to handle AppendEntries. Reply: s1<-s0#6:OK-t2,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2023-12-07 16:29:36,734 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-FD8E24604D61: succeeded to handle AppendEntries. Reply: s1<-s2#6:OK-t2,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2023-12-07 16:29:36,737 [s1@group-FD8E24604D61-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:36,738 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-FD8E24604D61: receive appendEntries(s1, 2, (t:2, i:1), 1, true, commits:[s1:c1, s0:c0, s2:c0], cId:7, entries: [(t:2, i:2), METADATAENTRY(c:1)]
2023-12-07 16:29:36,738 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-FD8E24604D61: receive appendEntries(s1, 2, (t:2, i:1), 1, true, commits:[s1:c1, s0:c0, s2:c0], cId:8, entries: [(t:2, i:2), METADATAENTRY(c:1)]
2023-12-07 16:29:36,739 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-FD8E24604D61: succeeded to handle AppendEntries. Reply: s1<-s0#7:OK-t2,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2023-12-07 16:29:36,739 [s0@group-FD8E24604D61-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:36,739 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-FD8E24604D61: succeeded to handle AppendEntries. Reply: s1<-s2#8:OK-t2,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2023-12-07 16:29:36,740 [s2@group-FD8E24604D61-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:36,754 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s0@group-FD8E24604D61: receive client request(RaftClientRequest:client-B2A85D95146C->s0@group-FD8E24604D61, cid=2, seq=null, RO, Message:5155455259)
2023-12-07 16:29:36,759 [s1-server-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=2, readAfterWriteConsistentIndex=null
2023-12-07 16:29:36,775 [s1-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:stepDownLeaderAsync(1247)) - s1@group-FD8E24604D61 receive stepDown leader request TransferLeadershipRequest:client-9EB17E541513->s1@group-FD8E24604D61, cid=3, seq=null, RO, null
2023-12-07 16:29:36,776 [s1@group-FD8E24604D61-LeaderStateImpl] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-FD8E24604D61: changes role from    LEADER to FOLLOWER at term 2 for StepDownReason:FORCE
2023-12-07 16:29:36,776 [s1@group-FD8E24604D61-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(94)) - s1: shutdown s1@group-FD8E24604D61-LeaderStateImpl
2023-12-07 16:29:36,777 [s1@group-FD8E24604D61->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(279)) - s1@group-FD8E24604D61->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2023-12-07 16:29:36,777 [s1@group-FD8E24604D61-LeaderStateImpl] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(289)) - s1@group-FD8E24604D61-PendingRequests: sendNotLeaderResponses
2023-12-07 16:29:36,780 [s1@group-FD8E24604D61-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setLeader(265)) - s1@group-FD8E24604D61: change Leader from s1 to null at term 2 for StepDownReason:FORCE
2023-12-07 16:29:36,780 [s1@group-FD8E24604D61-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-FD8E24604D61-FollowerState
2023-12-07 16:29:36,778 [s1@group-FD8E24604D61->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(279)) - s1@group-FD8E24604D61->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2023-12-07 16:29:36,782 [s1@group-FD8E24604D61-LeaderStateImpl] INFO  impl.PendingStepDown (PendingStepDown.java:complete(55)) - Successfully step down leader at s1@group-FD8E24604D61-LeaderStateImpl for request TransferLeadershipRequest:client-9EB17E541513->s1@group-FD8E24604D61, cid=3, seq=null, RO, null
2023-12-07 16:29:36,782 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(157)) - s2: Completed APPEND_ENTRIES, lastRequest: null
2023-12-07 16:29:36,785 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$5(159)) - s2: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s1"
  replyId: "s2"
  raftGroupId {
    id: "k\211\236\305\246\317@g\203\304\375\216$`Ma"
  }
  callId: 12
  success: true
}
term: 2
nextIndex: 3
followerCommit: 2
matchIndex: 18446744073709551615
isHearbeat: true

2023-12-07 16:29:36,785 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(157)) - s0: Completed APPEND_ENTRIES, lastRequest: null
2023-12-07 16:29:36,784 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(157)) - s0: Completed APPEND_ENTRIES, lastRequest: s1->s0#7-t2,previous=(t:2, i:1),leaderCommit=1,initializing? true,entries: size=1, first=(t:2, i:2), METADATAENTRY(c:1)
2023-12-07 16:29:36,785 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$5(159)) - s0: Completed APPEND_ENTRIES, lastReply: null
2023-12-07 16:29:36,786 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$5(159)) - s0: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s1"
  replyId: "s0"
  raftGroupId {
    id: "k\211\236\305\246\317@g\203\304\375\216$`Ma"
  }
  callId: 10
  success: true
}
term: 2
nextIndex: 3
followerCommit: 2
matchIndex: 18446744073709551615
isHearbeat: true

2023-12-07 16:29:36,785 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(157)) - s2: Completed APPEND_ENTRIES, lastRequest: s1->s2#8-t2,previous=(t:2, i:1),leaderCommit=1,initializing? true,entries: size=1, first=(t:2, i:2), METADATAENTRY(c:1)
2023-12-07 16:29:36,786 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$5(159)) - s2: Completed APPEND_ENTRIES, lastReply: null
2023-12-07 16:29:36,785 [grpc-default-executor-3] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(534)) - s1@group-FD8E24604D61->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-12-07 16:29:36,788 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(534)) - s1@group-FD8E24604D61->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-12-07 16:29:36,789 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(534)) - s1@group-FD8E24604D61->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-12-07 16:29:36,789 [grpc-default-executor-3] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(534)) - s1@group-FD8E24604D61->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-12-07 16:29:36,790 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s0@group-FD8E24604D61: receive client request(RaftClientRequest:client-B2A85D95146C->s0@group-FD8E24604D61, cid=4, seq=null, RO, Message:5155455259)
2023-12-07 16:29:36,793 [null-request--thread1] INFO  server.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(284)) - Failed RaftClientRequest:client-B2A85D95146C->s0@group-FD8E24604D61, cid=4, seq=null, RO, Message:5155455259, reply=RaftClientReply:client-B2A85D95146C->s0@group-FD8E24604D61, cid=4, FAILED org.apache.ratis.protocol.exceptions.ReadIndexException: s0: Failed to get read index from the leader: serverReply {
  requestorId: "s0"
  replyId: "s1"
  raftGroupId {
    id: "k\211\236\305\246\317@g\203\304\375\216$`Ma"
  }
}
readIndex: 18446744073709551615
, logIndex=0, commits[s0:c2, s1:c2, s2:c1]
2023-12-07 16:29:36,814 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-12-07 16:29:36,814 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-12-07 16:29:36,814 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2023-12-07 16:29:36,815 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-12-07 16:29:36,815 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-12-07 16:29:36,815 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-FD8E24604D61:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-FD8E24604D61-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|localhost:37319, s1|localhost:46673, s2|localhost:34549]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-FD8E24604D61:t2, leader=null, voted=s1, raftlog=Memoized:s1@group-FD8E24604D61-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|localhost:37319, s1|localhost:46673, s2|localhost:34549]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-FD8E24604D61:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-FD8E24604D61-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|localhost:37319, s1|localhost:46673, s2|localhost:34549]|listeners:[], old=null RUNNING
2023-12-07 16:29:36,816 [MiniRaftCluster-1] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(416)) - s0: close
2023-12-07 16:29:36,816 [MiniRaftCluster-2] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(416)) - s1: close
2023-12-07 16:29:36,816 [MiniRaftCluster-3] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(416)) - s2: close
2023-12-07 16:29:36,817 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$3(516)) - s2@group-FD8E24604D61: shutdown
2023-12-07 16:29:36,817 [MiniRaftCluster-2] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-12-07 16:29:36,817 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$3(516)) - s0@group-FD8E24604D61: shutdown
2023-12-07 16:29:36,817 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$3(516)) - s1@group-FD8E24604D61: shutdown
2023-12-07 16:29:36,817 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-FD8E24604D61,id=s0
2023-12-07 16:29:36,818 [MiniRaftCluster-3] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-12-07 16:29:36,818 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-FD8E24604D61-FollowerState
2023-12-07 16:29:36,818 [s0@group-FD8E24604D61-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-FD8E24604D61-FollowerState was interrupted
2023-12-07 16:29:36,817 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-FD8E24604D61,id=s2
2023-12-07 16:29:36,818 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-FD8E24604D61-FollowerState
2023-12-07 16:29:36,818 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s0@group-FD8E24604D61-StateMachineUpdater: set stopIndex = 2
2023-12-07 16:29:36,819 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(423)) - s0@group-FD8E24604D61: applyIndex: 2
2023-12-07 16:29:36,819 [s0@group-FD8E24604D61-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-FD8E24604D61-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2023-12-07 16:29:36,817 [MiniRaftCluster-1] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-12-07 16:29:36,817 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-FD8E24604D61,id=s1
2023-12-07 16:29:36,820 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-FD8E24604D61-FollowerState
2023-12-07 16:29:36,820 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s1@group-FD8E24604D61-StateMachineUpdater: set stopIndex = 2
2023-12-07 16:29:36,818 [s2@group-FD8E24604D61-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-FD8E24604D61-FollowerState was interrupted
2023-12-07 16:29:36,818 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s2@group-FD8E24604D61-StateMachineUpdater: set stopIndex = 2
2023-12-07 16:29:36,820 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(423)) - s2@group-FD8E24604D61: applyIndex: 2
2023-12-07 16:29:36,820 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(423)) - s1@group-FD8E24604D61: applyIndex: 2
2023-12-07 16:29:36,820 [s1@group-FD8E24604D61-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-FD8E24604D61-FollowerState was interrupted
2023-12-07 16:29:36,821 [s1@group-FD8E24604D61-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s1@group-FD8E24604D61-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2023-12-07 16:29:36,821 [s2@group-FD8E24604D61-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s2@group-FD8E24604D61-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2023-12-07 16:29:36,822 [Thread-81] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(103)) - s0 Close channels
2023-12-07 16:29:36,822 [Thread-84] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(103)) - s2 Close channels
2023-12-07 16:29:36,824 [Thread-82] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(103)) - s0 Close channels
2023-12-07 16:29:36,824 [Thread-85] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(103)) - s1 Close channels
2023-12-07 16:29:36,826 [MiniRaftCluster-3] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-12-07 16:29:36,826 [MiniRaftCluster-3] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server GrpcServerProtocolService now
2023-12-07 16:29:36,831 [MiniRaftCluster-2] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-12-07 16:29:36,831 [MiniRaftCluster-2] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server GrpcServerProtocolService now
2023-12-07 16:29:36,836 [Thread-88] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(103)) - s1 Close channels
2023-12-07 16:29:36,837 [MiniRaftCluster-2] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server GrpcServerProtocolService successfully
2023-12-07 16:29:36,837 [Thread-91] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(103)) - s2 Close channels
2023-12-07 16:29:36,837 [MiniRaftCluster-2] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-12-07 16:29:36,841 [MiniRaftCluster-1] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-12-07 16:29:36,841 [MiniRaftCluster-3] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server GrpcServerProtocolService successfully
2023-12-07 16:29:36,841 [MiniRaftCluster-2] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-12-07 16:29:36,841 [MiniRaftCluster-3] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-12-07 16:29:36,841 [MiniRaftCluster-1] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server GrpcServerProtocolService now
2023-12-07 16:29:36,845 [MiniRaftCluster-1] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server GrpcServerProtocolService successfully
2023-12-07 16:29:36,845 [MiniRaftCluster-1] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-12-07 16:29:36,846 [MiniRaftCluster-1] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-12-07 16:29:36,849 [MiniRaftCluster-3] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-12-07 16:29:37,738 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s1@group-FD8E24604D61-SegmentedRaftLogWorker close()
2023-12-07 16:29:37,739 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s0@group-FD8E24604D61-SegmentedRaftLogWorker close()
2023-12-07 16:29:37,740 [JvmPauseMonitor1] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s1: Stopped
2023-12-07 16:29:37,740 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s2@group-FD8E24604D61-SegmentedRaftLogWorker close()
2023-12-07 16:29:37,741 [JvmPauseMonitor0] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2023-12-07 16:29:37,742 [JvmPauseMonitor2] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s2: Stopped
2023-12-07 16:29:37,742 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2023-12-07 16:29:37,742 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-12-07 16:29:37,742 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-12-07 16:29:37,742 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2023-12-07 16:29:37,742 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-12-07 16:29:37,743 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-12-07 16:29:37,743 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:   CLOSED  FOLLOWER s0@group-FD8E24604D61:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-FD8E24604D61-SegmentedRaftLog:CLOSED:c2, conf=0: peers:[s0|localhost:37319, s1|localhost:46673, s2|localhost:34549]|listeners:[], old=null CLOSED
  s1:   CLOSED  FOLLOWER s1@group-FD8E24604D61:t2, leader=null, voted=s1, raftlog=Memoized:s1@group-FD8E24604D61-SegmentedRaftLog:CLOSED:c2, conf=0: peers:[s0|localhost:37319, s1|localhost:46673, s2|localhost:34549]|listeners:[], old=null CLOSED
  s2:   CLOSED  FOLLOWER s2@group-FD8E24604D61:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-FD8E24604D61-SegmentedRaftLog:CLOSED:c2, conf=0: peers:[s0|localhost:37319, s1|localhost:46673, s2|localhost:34549]|listeners:[], old=null CLOSED
2023-12-07 16:29:37,745 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2023-12-07 16:29:37,747 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-12-07 16:29:37,747 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-12-07 16:29:37,747 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2023-12-07 16:29:37,748 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2023-12-07 16:29:37,748 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-BEC1D327B2AC:[s0|localhost:41023, s1|localhost:40697, s2|localhost:43423]
2023-12-07 16:29:37,748 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-12-07 16:29:37,748 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-12-07 16:29:37,748 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2023-12-07 16:29:37,748 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-12-07 16:29:37,748 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-12-07 16:29:37,748 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-12-07 16:29:37,748 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-BEC1D327B2AC:[s0|localhost:41023, s1|localhost:40697, s2|localhost:43423], format? true
2023-12-07 16:29:37,749 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s0
2023-12-07 16:29:37,749 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s0 does not exist.
2023-12-07 16:29:37,749 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s0
2023-12-07 16:29:37,749 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-12-07 16:29:37,749 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:37,749 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 36147 (custom)
2023-12-07 16:29:37,749 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:37,749 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 42833 (custom)
2023-12-07 16:29:37,749 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-12-07 16:29:37,750 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 41023 (custom)
2023-12-07 16:29:37,750 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-12-07 16:29:37,750 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:37,750 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-12-07 16:29:37,750 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:37,750 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:37,750 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-12-07 16:29:37,750 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-12-07 16:29:37,751 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-12-07 16:29:37,756 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:37,756 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2023-12-07 16:29:37,756 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:37,756 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s0] (custom)
2023-12-07 16:29:37,756 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-12-07 16:29:37,756 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-12-07 16:29:37,757 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(100)) - s0: addNew group-BEC1D327B2AC:[s0|localhost:41023, s1|localhost:40697, s2|localhost:43423] returns group-BEC1D327B2AC:java.util.concurrent.CompletableFuture@2417f6b1[Not completed]
2023-12-07 16:29:37,757 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-BEC1D327B2AC:[s0|localhost:41023, s1|localhost:40697, s2|localhost:43423], format? true
2023-12-07 16:29:37,757 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s1
2023-12-07 16:29:37,757 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s1 does not exist.
2023-12-07 16:29:37,757 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s1
2023-12-07 16:29:37,758 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-12-07 16:29:37,758 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:37,758 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 33095 (custom)
2023-12-07 16:29:37,758 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s0: new RaftServerImpl for group-BEC1D327B2AC:[s0|localhost:41023, s1|localhost:40697, s2|localhost:43423] with CounterStateMachine:uninitialized
2023-12-07 16:29:37,758 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:37,758 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 36943 (custom)
2023-12-07 16:29:37,758 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-12-07 16:29:37,758 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 40697 (custom)
2023-12-07 16:29:37,758 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-12-07 16:29:37,758 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:37,759 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-12-07 16:29:37,759 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-12-07 16:29:37,759 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:37,759 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-12-07 16:29:37,759 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:37,759 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-12-07 16:29:37,759 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-12-07 16:29:37,759 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-12-07 16:29:37,760 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-12-07 16:29:37,760 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:37,760 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2023-12-07 16:29:37,760 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:37,760 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-BEC1D327B2AC: ConfigurationManager, init=-1: peers:[s0|localhost:41023, s1|localhost:40697, s2|localhost:43423]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-12-07 16:29:37,760 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-12-07 16:29:37,760 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-12-07 16:29:37,760 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-12-07 16:29:37,760 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-12-07 16:29:37,760 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2023-12-07 16:29:37,760 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:37,760 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2023-12-07 16:29:37,760 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = LINEARIZABLE (custom)
2023-12-07 16:29:37,761 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:37,761 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2023-12-07 16:29:37,761 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s1] (custom)
2023-12-07 16:29:37,761 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-12-07 16:29:37,761 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-12-07 16:29:37,761 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(100)) - s1: addNew group-BEC1D327B2AC:[s0|localhost:41023, s1|localhost:40697, s2|localhost:43423] returns group-BEC1D327B2AC:java.util.concurrent.CompletableFuture@5f01ded1[Not completed]
2023-12-07 16:29:37,762 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-BEC1D327B2AC:[s0|localhost:41023, s1|localhost:40697, s2|localhost:43423], format? true
2023-12-07 16:29:37,762 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s2
2023-12-07 16:29:37,762 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s2 does not exist.
2023-12-07 16:29:37,762 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s2
2023-12-07 16:29:37,762 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-12-07 16:29:37,762 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:37,762 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 41321 (custom)
2023-12-07 16:29:37,762 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:37,763 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 40693 (custom)
2023-12-07 16:29:37,763 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-12-07 16:29:37,763 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 43423 (custom)
2023-12-07 16:29:37,763 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:37,763 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-12-07 16:29:37,763 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:37,763 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:37,763 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-12-07 16:29:37,763 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s1: new RaftServerImpl for group-BEC1D327B2AC:[s0|localhost:41023, s1|localhost:40697, s2|localhost:43423] with CounterStateMachine:uninitialized
2023-12-07 16:29:37,763 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:37,763 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-12-07 16:29:37,763 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:37,763 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-12-07 16:29:37,763 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-12-07 16:29:37,763 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-12-07 16:29:37,763 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-12-07 16:29:37,764 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-12-07 16:29:37,764 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:37,764 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2023-12-07 16:29:37,764 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:37,764 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-BEC1D327B2AC: ConfigurationManager, init=-1: peers:[s0|localhost:41023, s1|localhost:40697, s2|localhost:43423]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-12-07 16:29:37,764 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-12-07 16:29:37,764 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-12-07 16:29:37,764 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-12-07 16:29:37,764 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2023-12-07 16:29:37,764 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = LINEARIZABLE (custom)
2023-12-07 16:29:37,764 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2023-12-07 16:29:37,765 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-12-07 16:29:37,765 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:37,765 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2023-12-07 16:29:37,765 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:37,765 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s2] (custom)
2023-12-07 16:29:37,765 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-12-07 16:29:37,765 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-12-07 16:29:37,766 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:37,766 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:37,766 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-12-07 16:29:37,766 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-12-07 16:29:37,766 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-12-07 16:29:37,766 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-12-07 16:29:37,763 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-12-07 16:29:37,766 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-12-07 16:29:37,767 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-12-07 16:29:37,767 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-12-07 16:29:37,767 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(100)) - s2: addNew group-BEC1D327B2AC:[s0|localhost:41023, s1|localhost:40697, s2|localhost:43423] returns group-BEC1D327B2AC:java.util.concurrent.CompletableFuture@15a394cb[Not completed]
2023-12-07 16:29:37,767 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s2: new RaftServerImpl for group-BEC1D327B2AC:[s0|localhost:41023, s1|localhost:40697, s2|localhost:43423] with CounterStateMachine:uninitialized
2023-12-07 16:29:37,767 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-12-07 16:29:37,768 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-12-07 16:29:37,768 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-12-07 16:29:37,768 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-12-07 16:29:37,768 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-12-07 16:29:37,768 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-12-07 16:29:37,768 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s0] (custom)
2023-12-07 16:29:37,768 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:37,768 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2023-12-07 16:29:37,768 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:37,768 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s0/c772994a-ddd8-4813-9646-bec1d327b2ac does not exist. Creating ...
2023-12-07 16:29:37,768 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-BEC1D327B2AC: ConfigurationManager, init=-1: peers:[s0|localhost:41023, s1|localhost:40697, s2|localhost:43423]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-12-07 16:29:37,768 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-12-07 16:29:37,768 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-12-07 16:29:37,768 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-12-07 16:29:37,768 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2023-12-07 16:29:37,769 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = LINEARIZABLE (custom)
2023-12-07 16:29:37,769 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s0/c772994a-ddd8-4813-9646-bec1d327b2ac
2023-12-07 16:29:37,769 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2023-12-07 16:29:37,769 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s0/c772994a-ddd8-4813-9646-bec1d327b2ac/in_use.lock acquired by nodename 9497@fv-az527-45
2023-12-07 16:29:37,769 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s0/c772994a-ddd8-4813-9646-bec1d327b2ac/current
2023-12-07 16:29:37,770 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s0/c772994a-ddd8-4813-9646-bec1d327b2ac/sm
2023-12-07 16:29:37,770 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s0/c772994a-ddd8-4813-9646-bec1d327b2ac/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@55326756
2023-12-07 16:29:37,770 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:37,770 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:37,770 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-12-07 16:29:37,770 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-12-07 16:29:37,771 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-12-07 16:29:37,771 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-12-07 16:29:37,771 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s0/c772994a-ddd8-4813-9646-bec1d327b2ac/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s0/c772994a-ddd8-4813-9646-bec1d327b2ac/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:37,771 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s0/c772994a-ddd8-4813-9646-bec1d327b2ac has been successfully formatted.
2023-12-07 16:29:37,771 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s0/c772994a-ddd8-4813-9646-bec1d327b2ac/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s0/c772994a-ddd8-4813-9646-bec1d327b2ac/current/raft-meta.conf
	at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:92)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:116)
	at java.base/sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:219)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:371)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:422)
	at java.base/java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:420)
	at java.base/java.nio.file.Files.newInputStream(Files.java:156)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:388)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:182)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:37,771 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-12-07 16:29:37,771 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-12-07 16:29:37,771 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:37,772 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-12-07 16:29:37,772 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-12-07 16:29:37,772 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:37,772 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-12-07 16:29:37,772 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-12-07 16:29:37,772 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:37,773 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-BEC1D327B2AC-cacheEviction-AwaitToRun,5,main] started
2023-12-07 16:29:37,773 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s0@group-BEC1D327B2AC-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s0/c772994a-ddd8-4813-9646-bec1d327b2ac
2023-12-07 16:29:37,773 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-12-07 16:29:37,773 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-12-07 16:29:37,773 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:37,773 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-12-07 16:29:37,773 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-12-07 16:29:37,773 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-12-07 16:29:37,773 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-12-07 16:29:37,773 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-12-07 16:29:37,773 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2023-12-07 16:29:37,774 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:37,774 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-12-07 16:29:37,775 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-12-07 16:29:37,775 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-12-07 16:29:37,775 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-BEC1D327B2AC-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:37,775 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-BEC1D327B2AC-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:37,775 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s0@group-BEC1D327B2AC: start as a follower, conf=-1: peers:[s0|localhost:41023, s1|localhost:40697, s2|localhost:43423]|listeners:[], old=null
2023-12-07 16:29:37,775 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-BEC1D327B2AC: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-12-07 16:29:37,775 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-BEC1D327B2AC-FollowerState
2023-12-07 16:29:37,775 [s0@group-BEC1D327B2AC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:37,775 [s0@group-BEC1D327B2AC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:37,775 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-BEC1D327B2AC,id=s0
2023-12-07 16:29:37,775 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2023-12-07 16:29:37,775 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-12-07 16:29:37,776 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-12-07 16:29:37,776 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-12-07 16:29:37,776 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(406)) - s0: start RPC server
2023-12-07 16:29:37,777 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 42833
2023-12-07 16:29:37,777 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 41023
2023-12-07 16:29:37,778 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 36147
2023-12-07 16:29:37,781 [JvmPauseMonitor3] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2023-12-07 16:29:37,781 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-12-07 16:29:37,781 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-12-07 16:29:37,782 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s1] (custom)
2023-12-07 16:29:37,782 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s1/c772994a-ddd8-4813-9646-bec1d327b2ac does not exist. Creating ...
2023-12-07 16:29:37,782 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s1/c772994a-ddd8-4813-9646-bec1d327b2ac
2023-12-07 16:29:37,783 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s1/c772994a-ddd8-4813-9646-bec1d327b2ac/in_use.lock acquired by nodename 9497@fv-az527-45
2023-12-07 16:29:37,783 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s1/c772994a-ddd8-4813-9646-bec1d327b2ac/current
2023-12-07 16:29:37,783 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s1/c772994a-ddd8-4813-9646-bec1d327b2ac/sm
2023-12-07 16:29:37,783 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s1/c772994a-ddd8-4813-9646-bec1d327b2ac/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1367eed4
2023-12-07 16:29:37,784 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s1/c772994a-ddd8-4813-9646-bec1d327b2ac/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s1/c772994a-ddd8-4813-9646-bec1d327b2ac/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:37,784 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s1/c772994a-ddd8-4813-9646-bec1d327b2ac has been successfully formatted.
2023-12-07 16:29:37,784 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s1/c772994a-ddd8-4813-9646-bec1d327b2ac/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s1/c772994a-ddd8-4813-9646-bec1d327b2ac/current/raft-meta.conf
	at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:92)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:116)
	at java.base/sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:219)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:371)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:422)
	at java.base/java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:420)
	at java.base/java.nio.file.Files.newInputStream(Files.java:156)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:388)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:182)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:37,784 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-12-07 16:29:37,784 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-12-07 16:29:37,784 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:37,785 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-12-07 16:29:37,785 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-12-07 16:29:37,786 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:37,786 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-12-07 16:29:37,786 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-12-07 16:29:37,786 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:37,786 [s1-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s1@group-BEC1D327B2AC-cacheEviction-AwaitToRun,5,main] started
2023-12-07 16:29:37,786 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s1@group-BEC1D327B2AC-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s1/c772994a-ddd8-4813-9646-bec1d327b2ac
2023-12-07 16:29:37,786 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-12-07 16:29:37,786 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-12-07 16:29:37,786 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:37,786 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-12-07 16:29:37,786 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-12-07 16:29:37,787 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-12-07 16:29:37,787 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-12-07 16:29:37,787 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-12-07 16:29:37,787 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2023-12-07 16:29:37,789 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:37,789 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-12-07 16:29:37,789 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-12-07 16:29:37,789 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-12-07 16:29:37,789 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-BEC1D327B2AC-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:37,789 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-BEC1D327B2AC-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:37,790 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s1@group-BEC1D327B2AC: start as a follower, conf=-1: peers:[s0|localhost:41023, s1|localhost:40697, s2|localhost:43423]|listeners:[], old=null
2023-12-07 16:29:37,790 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-BEC1D327B2AC: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-12-07 16:29:37,790 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-BEC1D327B2AC-FollowerState
2023-12-07 16:29:37,790 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-BEC1D327B2AC,id=s1
2023-12-07 16:29:37,790 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2023-12-07 16:29:37,790 [s1@group-BEC1D327B2AC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:37,790 [s1@group-BEC1D327B2AC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:37,791 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-12-07 16:29:37,791 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-12-07 16:29:37,792 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-12-07 16:29:37,792 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(406)) - s1: start RPC server
2023-12-07 16:29:37,793 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 36943
2023-12-07 16:29:37,797 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 40697
2023-12-07 16:29:37,797 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 33095
2023-12-07 16:29:37,798 [JvmPauseMonitor4] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s1: Started
2023-12-07 16:29:37,798 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-12-07 16:29:37,798 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-12-07 16:29:37,798 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s2] (custom)
2023-12-07 16:29:37,798 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s2/c772994a-ddd8-4813-9646-bec1d327b2ac does not exist. Creating ...
2023-12-07 16:29:37,798 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s2/c772994a-ddd8-4813-9646-bec1d327b2ac
2023-12-07 16:29:37,799 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s2/c772994a-ddd8-4813-9646-bec1d327b2ac/in_use.lock acquired by nodename 9497@fv-az527-45
2023-12-07 16:29:37,799 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s2/c772994a-ddd8-4813-9646-bec1d327b2ac/current
2023-12-07 16:29:37,800 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s2/c772994a-ddd8-4813-9646-bec1d327b2ac/sm
2023-12-07 16:29:37,800 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s2/c772994a-ddd8-4813-9646-bec1d327b2ac/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@24019cf8
2023-12-07 16:29:37,801 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s2/c772994a-ddd8-4813-9646-bec1d327b2ac/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s2/c772994a-ddd8-4813-9646-bec1d327b2ac/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:37,801 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s2/c772994a-ddd8-4813-9646-bec1d327b2ac has been successfully formatted.
2023-12-07 16:29:37,801 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s2/c772994a-ddd8-4813-9646-bec1d327b2ac/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s2/c772994a-ddd8-4813-9646-bec1d327b2ac/current/raft-meta.conf
	at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:92)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:116)
	at java.base/sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:219)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:371)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:422)
	at java.base/java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:420)
	at java.base/java.nio.file.Files.newInputStream(Files.java:156)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:388)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:182)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:37,801 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-12-07 16:29:37,801 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-12-07 16:29:37,801 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:37,801 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-12-07 16:29:37,801 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-12-07 16:29:37,802 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:37,803 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-12-07 16:29:37,803 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-12-07 16:29:37,803 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:37,803 [s2-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s2@group-BEC1D327B2AC-cacheEviction-AwaitToRun,5,main] started
2023-12-07 16:29:37,803 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s2@group-BEC1D327B2AC-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s2/c772994a-ddd8-4813-9646-bec1d327b2ac
2023-12-07 16:29:37,803 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-12-07 16:29:37,803 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-12-07 16:29:37,803 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:37,803 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-12-07 16:29:37,803 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-12-07 16:29:37,803 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-12-07 16:29:37,803 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-12-07 16:29:37,803 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-12-07 16:29:37,803 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2023-12-07 16:29:37,806 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:37,806 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-12-07 16:29:37,806 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-12-07 16:29:37,806 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-12-07 16:29:37,806 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-BEC1D327B2AC-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:37,806 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-BEC1D327B2AC-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:37,806 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s2@group-BEC1D327B2AC: start as a follower, conf=-1: peers:[s0|localhost:41023, s1|localhost:40697, s2|localhost:43423]|listeners:[], old=null
2023-12-07 16:29:37,806 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-BEC1D327B2AC: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-12-07 16:29:37,807 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-BEC1D327B2AC-FollowerState
2023-12-07 16:29:37,807 [s2@group-BEC1D327B2AC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:37,807 [s2@group-BEC1D327B2AC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:37,807 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-BEC1D327B2AC,id=s2
2023-12-07 16:29:37,807 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2023-12-07 16:29:37,807 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-12-07 16:29:37,807 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-12-07 16:29:37,807 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-12-07 16:29:37,807 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(406)) - s2: start RPC server
2023-12-07 16:29:37,808 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 40693
2023-12-07 16:29:37,809 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 43423
2023-12-07 16:29:37,810 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 41321
2023-12-07 16:29:37,810 [JvmPauseMonitor5] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s2: Started
2023-12-07 16:29:37,810 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-12-07 16:29:37,810 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-BEC1D327B2AC:t0, leader=null, voted=, raftlog=Memoized:s0@group-BEC1D327B2AC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:41023, s1|localhost:40697, s2|localhost:43423]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-BEC1D327B2AC:t0, leader=null, voted=, raftlog=Memoized:s1@group-BEC1D327B2AC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:41023, s1|localhost:40697, s2|localhost:43423]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-BEC1D327B2AC:t0, leader=null, voted=, raftlog=Memoized:s2@group-BEC1D327B2AC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:41023, s1|localhost:40697, s2|localhost:43423]|listeners:[], old=null RUNNING
2023-12-07 16:29:37,810 [Time-limited test] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(119)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-BEC1D327B2AC:t0, leader=null, voted=, raftlog=Memoized:s0@group-BEC1D327B2AC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:41023, s1|localhost:40697, s2|localhost:43423]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-BEC1D327B2AC:t0, leader=null, voted=, raftlog=Memoized:s1@group-BEC1D327B2AC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:41023, s1|localhost:40697, s2|localhost:43423]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-BEC1D327B2AC:t0, leader=null, voted=, raftlog=Memoized:s2@group-BEC1D327B2AC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:41023, s1|localhost:40697, s2|localhost:43423]|listeners:[], old=null RUNNING
2023-12-07 16:29:38,007 [s0@group-BEC1D327B2AC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-BEC1D327B2AC-FollowerState: change to CANDIDATE, lastRpcElapsedTime:231464388ns, electionTimeout:231ms
2023-12-07 16:29:38,007 [s0@group-BEC1D327B2AC-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-BEC1D327B2AC-FollowerState
2023-12-07 16:29:38,007 [s0@group-BEC1D327B2AC-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-BEC1D327B2AC: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-12-07 16:29:38,007 [s0@group-BEC1D327B2AC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-12-07 16:29:38,007 [s0@group-BEC1D327B2AC-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-BEC1D327B2AC-LeaderElection5
2023-12-07 16:29:38,008 [s0@group-BEC1D327B2AC-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-BEC1D327B2AC-LeaderElection5 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|localhost:41023, s1|localhost:40697, s2|localhost:43423]|listeners:[], old=null
2023-12-07 16:29:38,008 [s0@group-BEC1D327B2AC-LeaderElection5-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s1
2023-12-07 16:29:38,008 [s0@group-BEC1D327B2AC-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:38,009 [s0@group-BEC1D327B2AC-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:38,008 [s0@group-BEC1D327B2AC-LeaderElection5-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s2
2023-12-07 16:29:38,014 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s1@group-BEC1D327B2AC: receive requestVote(PRE_VOTE, s0, group-BEC1D327B2AC, 0, (t:0, i:0))
2023-12-07 16:29:38,014 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-BEC1D327B2AC-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-12-07 16:29:38,014 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s1@group-BEC1D327B2AC replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-BEC1D327B2AC:t0, leader=null, voted=, raftlog=Memoized:s1@group-BEC1D327B2AC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:41023, s1|localhost:40697, s2|localhost:43423]|listeners:[], old=null
2023-12-07 16:29:38,015 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s2@group-BEC1D327B2AC: receive requestVote(PRE_VOTE, s0, group-BEC1D327B2AC, 0, (t:0, i:0))
2023-12-07 16:29:38,015 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-BEC1D327B2AC-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-12-07 16:29:38,015 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s2@group-BEC1D327B2AC replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-BEC1D327B2AC:t0, leader=null, voted=, raftlog=Memoized:s2@group-BEC1D327B2AC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:41023, s1|localhost:40697, s2|localhost:43423]|listeners:[], old=null
2023-12-07 16:29:38,016 [s0@group-BEC1D327B2AC-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-BEC1D327B2AC-LeaderElection5: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-12-07 16:29:38,016 [s0@group-BEC1D327B2AC-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t0
2023-12-07 16:29:38,016 [s0@group-BEC1D327B2AC-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-BEC1D327B2AC-LeaderElection5 PRE_VOTE round 0: result PASSED
2023-12-07 16:29:38,016 [s0@group-BEC1D327B2AC-LeaderElection5] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s0/c772994a-ddd8-4813-9646-bec1d327b2ac/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@621ea322
2023-12-07 16:29:38,017 [s0@group-BEC1D327B2AC-LeaderElection5] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s0/c772994a-ddd8-4813-9646-bec1d327b2ac/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s0/c772994a-ddd8-4813-9646-bec1d327b2ac/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:38,017 [s0@group-BEC1D327B2AC-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-BEC1D327B2AC-LeaderElection5 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|localhost:41023, s1|localhost:40697, s2|localhost:43423]|listeners:[], old=null
2023-12-07 16:29:38,018 [s0@group-BEC1D327B2AC-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:38,018 [s0@group-BEC1D327B2AC-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:38,018 [s2@group-BEC1D327B2AC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:38,018 [s2@group-BEC1D327B2AC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:38,019 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s1@group-BEC1D327B2AC: receive requestVote(ELECTION, s0, group-BEC1D327B2AC, 1, (t:0, i:0))
2023-12-07 16:29:38,019 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-BEC1D327B2AC-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2023-12-07 16:29:38,019 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-BEC1D327B2AC: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2023-12-07 16:29:38,019 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-BEC1D327B2AC-FollowerState
2023-12-07 16:29:38,021 [s1@group-BEC1D327B2AC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-BEC1D327B2AC-FollowerState was interrupted
2023-12-07 16:29:38,021 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-BEC1D327B2AC-FollowerState
2023-12-07 16:29:38,021 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(564)) - s1@group-BEC1D327B2AC: set firstElectionSinceStartup to false for candidate:s0
2023-12-07 16:29:38,021 [grpc-default-executor-0] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s1/c772994a-ddd8-4813-9646-bec1d327b2ac/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@484c01ab
2023-12-07 16:29:38,022 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s2@group-BEC1D327B2AC: receive requestVote(ELECTION, s0, group-BEC1D327B2AC, 1, (t:0, i:0))
2023-12-07 16:29:38,022 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-BEC1D327B2AC-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2023-12-07 16:29:38,022 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-BEC1D327B2AC: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2023-12-07 16:29:38,022 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-BEC1D327B2AC-FollowerState
2023-12-07 16:29:38,022 [s2@group-BEC1D327B2AC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-BEC1D327B2AC-FollowerState was interrupted
2023-12-07 16:29:38,022 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-BEC1D327B2AC-FollowerState
2023-12-07 16:29:38,023 [grpc-default-executor-0] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s1/c772994a-ddd8-4813-9646-bec1d327b2ac/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s1/c772994a-ddd8-4813-9646-bec1d327b2ac/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:38,023 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(564)) - s2@group-BEC1D327B2AC: set firstElectionSinceStartup to false for candidate:s0
2023-12-07 16:29:38,023 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s1@group-BEC1D327B2AC replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-BEC1D327B2AC:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-BEC1D327B2AC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:41023, s1|localhost:40697, s2|localhost:43423]|listeners:[], old=null
2023-12-07 16:29:38,023 [grpc-default-executor-3] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s2/c772994a-ddd8-4813-9646-bec1d327b2ac/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6331c429
2023-12-07 16:29:38,024 [s0@group-BEC1D327B2AC-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-BEC1D327B2AC-LeaderElection5: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-12-07 16:29:38,024 [s0@group-BEC1D327B2AC-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t1
2023-12-07 16:29:38,024 [grpc-default-executor-3] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s2/c772994a-ddd8-4813-9646-bec1d327b2ac/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s2/c772994a-ddd8-4813-9646-bec1d327b2ac/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:38,024 [s0@group-BEC1D327B2AC-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-BEC1D327B2AC-LeaderElection5 ELECTION round 0: result PASSED
2023-12-07 16:29:38,024 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s2@group-BEC1D327B2AC replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-BEC1D327B2AC:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-BEC1D327B2AC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:41023, s1|localhost:40697, s2|localhost:43423]|listeners:[], old=null
2023-12-07 16:29:38,024 [s0@group-BEC1D327B2AC-LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-BEC1D327B2AC-LeaderElection5
2023-12-07 16:29:38,024 [s0@group-BEC1D327B2AC-LeaderElection5] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-BEC1D327B2AC: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-12-07 16:29:38,024 [s0@group-BEC1D327B2AC-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-12-07 16:29:38,024 [s0@group-BEC1D327B2AC-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-12-07 16:29:38,025 [s0@group-BEC1D327B2AC-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2023-12-07 16:29:38,025 [s0@group-BEC1D327B2AC-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-12-07 16:29:38,025 [s0@group-BEC1D327B2AC-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-12-07 16:29:38,025 [s0@group-BEC1D327B2AC-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-12-07 16:29:38,025 [s0@group-BEC1D327B2AC-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = false (default)
2023-12-07 16:29:38,025 [s0@group-BEC1D327B2AC-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2023-12-07 16:29:38,025 [s0@group-BEC1D327B2AC-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-12-07 16:29:38,025 [s0@group-BEC1D327B2AC-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-12-07 16:29:38,025 [s0@group-BEC1D327B2AC-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-12-07 16:29:38,026 [s0@group-BEC1D327B2AC-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-12-07 16:29:38,026 [s0@group-BEC1D327B2AC-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:38,026 [s0@group-BEC1D327B2AC-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-12-07 16:29:38,026 [s0@group-BEC1D327B2AC-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2023-12-07 16:29:38,026 [s0@group-BEC1D327B2AC-LeaderElection5] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2023-12-07 16:29:38,026 [s0@group-BEC1D327B2AC-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:38,026 [s0@group-BEC1D327B2AC-LeaderElection5] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2023-12-07 16:29:38,026 [s0@group-BEC1D327B2AC-LeaderElection5] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2023-12-07 16:29:38,026 [s0@group-BEC1D327B2AC-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:38,026 [s0@group-BEC1D327B2AC-LeaderElection5] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:38,027 [s0@group-BEC1D327B2AC-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-12-07 16:29:38,027 [s0@group-BEC1D327B2AC-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:38,027 [s0@group-BEC1D327B2AC-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-12-07 16:29:38,027 [s0@group-BEC1D327B2AC-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2023-12-07 16:29:38,027 [s0@group-BEC1D327B2AC-LeaderElection5] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2023-12-07 16:29:38,027 [s0@group-BEC1D327B2AC-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:38,027 [s0@group-BEC1D327B2AC-LeaderElection5] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2023-12-07 16:29:38,027 [s0@group-BEC1D327B2AC-LeaderElection5] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2023-12-07 16:29:38,027 [s0@group-BEC1D327B2AC-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:38,028 [s0@group-BEC1D327B2AC-LeaderElection5] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:38,028 [s0@group-BEC1D327B2AC-LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-BEC1D327B2AC-LeaderStateImpl
2023-12-07 16:29:38,028 [s0@group-BEC1D327B2AC-LeaderElection5] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(564)) - s0@group-BEC1D327B2AC: set firstElectionSinceStartup to false for becomeLeader
2023-12-07 16:29:38,028 [s0@group-BEC1D327B2AC-LeaderElection5] INFO  server.RaftServer$Division (ServerState.java:setLeader(265)) - s0@group-BEC1D327B2AC: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 267ms
2023-12-07 16:29:38,028 [s0@group-BEC1D327B2AC-LeaderElection5] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s0@group-BEC1D327B2AC-SegmentedRaftLogWorker: Starting segment from index:0
2023-12-07 16:29:38,028 [s0@group-BEC1D327B2AC-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2023-12-07 16:29:38,028 [s0@group-BEC1D327B2AC-LeaderElection5] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(382)) - s0@group-BEC1D327B2AC: set configuration 0: peers:[s0|localhost:41023, s1|localhost:40697, s2|localhost:43423]|listeners:[], old=null
2023-12-07 16:29:38,038 [s0@group-BEC1D327B2AC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s0@group-BEC1D327B2AC-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s0/c772994a-ddd8-4813-9646-bec1d327b2ac/current/log_inprogress_0
2023-12-07 16:29:38,041 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(265)) - s1@group-BEC1D327B2AC: change Leader from null to s0 at term 1 for appendEntries, leader elected after 276ms
2023-12-07 16:29:38,041 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(265)) - s2@group-BEC1D327B2AC: change Leader from null to s0 at term 1 for appendEntries, leader elected after 272ms
2023-12-07 16:29:38,044 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BEC1D327B2AC: receive appendEntries(s0, 1, null, -1, true, commits:[s0:c-1, s1:c-1, s2:c-1], cId:1, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:41023"
dataStreamAddress: "localhost:33531"
clientAddress: "localhost:42833"
adminAddress: "localhost:36147"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:40697"
dataStreamAddress: "localhost:44275"
clientAddress: "localhost:36943"
adminAddress: "localhost:33095"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:43423"
dataStreamAddress: "localhost:43843"
clientAddress: "localhost:40693"
adminAddress: "localhost:41321"
startupRole: FOLLOWER
, old:)]
2023-12-07 16:29:38,046 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(382)) - s1@group-BEC1D327B2AC: set configuration 0: peers:[s0|localhost:41023, s1|localhost:40697, s2|localhost:43423]|listeners:[], old=null
2023-12-07 16:29:38,047 [s1-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s1@group-BEC1D327B2AC-SegmentedRaftLogWorker: Starting segment from index:0
2023-12-07 16:29:38,047 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BEC1D327B2AC: receive appendEntries(s0, 1, null, -1, true, commits:[s0:c-1, s1:c-1, s2:c-1], cId:1, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:41023"
dataStreamAddress: "localhost:33531"
clientAddress: "localhost:42833"
adminAddress: "localhost:36147"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:40697"
dataStreamAddress: "localhost:44275"
clientAddress: "localhost:36943"
adminAddress: "localhost:33095"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:43423"
dataStreamAddress: "localhost:43843"
clientAddress: "localhost:40693"
adminAddress: "localhost:41321"
startupRole: FOLLOWER
, old:)]
2023-12-07 16:29:38,047 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(382)) - s2@group-BEC1D327B2AC: set configuration 0: peers:[s0|localhost:41023, s1|localhost:40697, s2|localhost:43423]|listeners:[], old=null
2023-12-07 16:29:38,047 [s1@group-BEC1D327B2AC-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2023-12-07 16:29:38,047 [s2-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s2@group-BEC1D327B2AC-SegmentedRaftLogWorker: Starting segment from index:0
2023-12-07 16:29:38,049 [s2@group-BEC1D327B2AC-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2023-12-07 16:29:38,059 [s1@group-BEC1D327B2AC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s1@group-BEC1D327B2AC-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s1/c772994a-ddd8-4813-9646-bec1d327b2ac/current/log_inprogress_0
2023-12-07 16:29:38,059 [s2@group-BEC1D327B2AC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s2@group-BEC1D327B2AC-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s2/c772994a-ddd8-4813-9646-bec1d327b2ac/current/log_inprogress_0
2023-12-07 16:29:38,059 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BEC1D327B2AC: succeeded to handle AppendEntries. Reply: s0<-s1#1:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-12-07 16:29:38,060 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BEC1D327B2AC: succeeded to handle AppendEntries. Reply: s0<-s2#1:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-12-07 16:29:38,061 [s0@group-BEC1D327B2AC-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s0/c772994a-ddd8-4813-9646-bec1d327b2ac/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@a9f30b5
2023-12-07 16:29:38,062 [s0@group-BEC1D327B2AC-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s0/c772994a-ddd8-4813-9646-bec1d327b2ac/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s0/c772994a-ddd8-4813-9646-bec1d327b2ac/current/raft-meta.conf with options [REPLACE_EXISTING]
2023-12-07 16:29:38,062 [s0@group-BEC1D327B2AC-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:isApplied(320)) - leader is ready since appliedIndex == 0 >= startIndex == 0
2023-12-07 16:29:38,138 [s2@group-BEC1D327B2AC-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s2/c772994a-ddd8-4813-9646-bec1d327b2ac/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5d740769
2023-12-07 16:29:38,138 [s1@group-BEC1D327B2AC-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s1/c772994a-ddd8-4813-9646-bec1d327b2ac/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6511a807
2023-12-07 16:29:38,140 [s2@group-BEC1D327B2AC-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s2/c772994a-ddd8-4813-9646-bec1d327b2ac/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s2/c772994a-ddd8-4813-9646-bec1d327b2ac/current/raft-meta.conf with options [REPLACE_EXISTING]
2023-12-07 16:29:38,140 [s1@group-BEC1D327B2AC-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s1/c772994a-ddd8-4813-9646-bec1d327b2ac/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc1322cb3a/s1/c772994a-ddd8-4813-9646-bec1d327b2ac/current/raft-meta.conf with options [REPLACE_EXISTING]
2023-12-07 16:29:38,261 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-BEC1D327B2AC:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-BEC1D327B2AC-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:41023, s1|localhost:40697, s2|localhost:43423]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-BEC1D327B2AC:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-BEC1D327B2AC-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:41023, s1|localhost:40697, s2|localhost:43423]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-BEC1D327B2AC:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-BEC1D327B2AC-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:41023, s1|localhost:40697, s2|localhost:43423]|listeners:[], old=null RUNNING
2023-12-07 16:29:38,266 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s0@group-BEC1D327B2AC: receive client request(RaftClientRequest:client-87919DD45DA0->s0@group-BEC1D327B2AC, cid=5, seq=null, RW, Message:494e4352454d454e54)
2023-12-07 16:29:38,267 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s0@group-BEC1D327B2AC-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-87919DD45DA0->s0@group-BEC1D327B2AC, cid=5, seq=null, RW, Message:494e4352454d454e54, entry=(t:1, i:1), STATEMACHINELOGENTRY, 5@client-87919DD45DA0
2023-12-07 16:29:38,268 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BEC1D327B2AC: receive appendEntries(s0, 1, (t:1, i:0), 0, true, commits:[s0:c0, s1:c0, s2:c0], cId:6, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 5@client-87919DD45DA0]
2023-12-07 16:29:38,269 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BEC1D327B2AC: receive appendEntries(s0, 1, (t:1, i:0), 0, true, commits:[s0:c0, s1:c0, s2:c0], cId:5, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 5@client-87919DD45DA0]
2023-12-07 16:29:38,269 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BEC1D327B2AC: succeeded to handle AppendEntries. Reply: s0<-s2#5:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2023-12-07 16:29:38,269 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BEC1D327B2AC: succeeded to handle AppendEntries. Reply: s0<-s1#6:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2023-12-07 16:29:38,270 [s0@group-BEC1D327B2AC-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:38,271 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BEC1D327B2AC: receive appendEntries(s0, 1, (t:1, i:1), 1, true, commits:[s0:c1, s1:c0, s2:c0], cId:7, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2023-12-07 16:29:38,272 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BEC1D327B2AC: succeeded to handle AppendEntries. Reply: s0<-s1#7:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2023-12-07 16:29:38,272 [s1@group-BEC1D327B2AC-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:38,274 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BEC1D327B2AC: receive appendEntries(s0, 1, (t:1, i:1), 1, true, commits:[s0:c1, s1:c0, s2:c0], cId:6, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2023-12-07 16:29:38,277 [s2@group-BEC1D327B2AC-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:38,277 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BEC1D327B2AC: succeeded to handle AppendEntries. Reply: s0<-s2#6:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2023-12-07 16:29:38,278 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s1@group-BEC1D327B2AC: receive client request(RaftClientRequest:client-87919DD45DA0->s1@group-BEC1D327B2AC, cid=6, seq=null, RO, Message:5155455259)
2023-12-07 16:29:38,278 [s1-client-thread1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s0
2023-12-07 16:29:38,282 [s0-server-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=2, readAfterWriteConsistentIndex=null
2023-12-07 16:29:38,296 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s0@group-BEC1D327B2AC: receive client request(RaftClientRequest:client-87919DD45DA0->s0@group-BEC1D327B2AC, cid=7, seq=1*, Watch(0), Message:<EMPTY>)
2023-12-07 16:29:38,300 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-BEC1D327B2AC: receive client request(RaftClientRequest:client-87919DD45DA0->s2@group-BEC1D327B2AC, cid=8, seq=1*, RO, Message:5155455259)
2023-12-07 16:29:38,301 [s2-client-thread1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s0
2023-12-07 16:29:38,301 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addWatchReqeust(540)) - s0@group-BEC1D327B2AC-LeaderStateImpl: addWatchRequest RaftClientRequest:client-87919DD45DA0->s0@group-BEC1D327B2AC, cid=7, seq=1*, Watch(0), Message:<EMPTY>
2023-12-07 16:29:38,306 [s0-server-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=2, readAfterWriteConsistentIndex=null
2023-12-07 16:29:38,310 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s0@group-BEC1D327B2AC: receive client request(RaftClientRequest:client-87919DD45DA0->s0@group-BEC1D327B2AC, cid=9, seq=null, RW, Message:494e4352454d454e54)
2023-12-07 16:29:38,311 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s0@group-BEC1D327B2AC-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-87919DD45DA0->s0@group-BEC1D327B2AC, cid=9, seq=null, RW, Message:494e4352454d454e54, entry=(t:1, i:3), STATEMACHINELOGENTRY, 9@client-87919DD45DA0
2023-12-07 16:29:38,312 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BEC1D327B2AC: receive appendEntries(s0, 1, (t:1, i:2), 2, true, commits:[s0:c2, s1:c2, s2:c2], cId:10, entries: [(t:1, i:3), STATEMACHINELOGENTRY, 9@client-87919DD45DA0]
2023-12-07 16:29:38,312 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BEC1D327B2AC: receive appendEntries(s0, 1, (t:1, i:2), 2, true, commits:[s0:c2, s1:c2, s2:c2], cId:11, entries: [(t:1, i:3), STATEMACHINELOGENTRY, 9@client-87919DD45DA0]
2023-12-07 16:29:38,313 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BEC1D327B2AC: succeeded to handle AppendEntries. Reply: s0<-s1#11:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2023-12-07 16:29:38,313 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BEC1D327B2AC: succeeded to handle AppendEntries. Reply: s0<-s2#10:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2023-12-07 16:29:38,314 [s0@group-BEC1D327B2AC-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:38,315 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BEC1D327B2AC: receive appendEntries(s0, 1, (t:1, i:3), 3, true, commits:[s0:c3, s1:c2, s2:c2], cId:12, entries: [(t:1, i:4), METADATAENTRY(c:3)]
2023-12-07 16:29:38,316 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BEC1D327B2AC: succeeded to handle AppendEntries. Reply: s0<-s1#12:OK-t1,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2023-12-07 16:29:38,316 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BEC1D327B2AC: receive appendEntries(s0, 1, (t:1, i:3), 3, true, commits:[s0:c3, s1:c2, s2:c2], cId:11, entries: [(t:1, i:4), METADATAENTRY(c:3)]
2023-12-07 16:29:38,316 [s1@group-BEC1D327B2AC-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:38,317 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BEC1D327B2AC: succeeded to handle AppendEntries. Reply: s0<-s2#11:OK-t1,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2023-12-07 16:29:38,317 [s2@group-BEC1D327B2AC-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:38,319 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s1@group-BEC1D327B2AC: receive client request(RaftClientRequest:client-87919DD45DA0->s1@group-BEC1D327B2AC, cid=10, seq=null, RO, Message:5155455259)
2023-12-07 16:29:38,320 [s0-server-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=4, readAfterWriteConsistentIndex=null
2023-12-07 16:29:38,324 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-BEC1D327B2AC: receive client request(RaftClientRequest:client-87919DD45DA0->s2@group-BEC1D327B2AC, cid=11, seq=2, RO, Message:5155455259)
2023-12-07 16:29:38,325 [s0-server-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=4, readAfterWriteConsistentIndex=null
2023-12-07 16:29:38,328 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s0@group-BEC1D327B2AC: receive client request(RaftClientRequest:client-87919DD45DA0->s0@group-BEC1D327B2AC, cid=12, seq=null, RW, Message:494e4352454d454e54)
2023-12-07 16:29:38,328 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s0@group-BEC1D327B2AC-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-87919DD45DA0->s0@group-BEC1D327B2AC, cid=12, seq=null, RW, Message:494e4352454d454e54, entry=(t:1, i:5), STATEMACHINELOGENTRY, 12@client-87919DD45DA0
2023-12-07 16:29:38,329 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BEC1D327B2AC: receive appendEntries(s0, 1, (t:1, i:4), 4, true, commits:[s0:c4, s1:c4, s2:c4], cId:15, entries: [(t:1, i:5), STATEMACHINELOGENTRY, 12@client-87919DD45DA0]
2023-12-07 16:29:38,329 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BEC1D327B2AC: receive appendEntries(s0, 1, (t:1, i:4), 4, true, commits:[s0:c4, s1:c4, s2:c4], cId:14, entries: [(t:1, i:5), STATEMACHINELOGENTRY, 12@client-87919DD45DA0]
2023-12-07 16:29:38,330 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BEC1D327B2AC: succeeded to handle AppendEntries. Reply: s0<-s1#15:OK-t1,SUCCESS,nextIndex=6,followerCommit=4,matchIndex=5
2023-12-07 16:29:38,330 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BEC1D327B2AC: succeeded to handle AppendEntries. Reply: s0<-s2#14:OK-t1,SUCCESS,nextIndex=6,followerCommit=4,matchIndex=5
2023-12-07 16:29:38,331 [s0@group-BEC1D327B2AC-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:38,332 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BEC1D327B2AC: receive appendEntries(s0, 1, (t:1, i:5), 5, true, commits:[s0:c5, s1:c4, s2:c4], cId:15, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2023-12-07 16:29:38,332 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BEC1D327B2AC: receive appendEntries(s0, 1, (t:1, i:5), 5, true, commits:[s0:c5, s1:c4, s2:c4], cId:16, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2023-12-07 16:29:38,333 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BEC1D327B2AC: succeeded to handle AppendEntries. Reply: s0<-s2#15:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2023-12-07 16:29:38,333 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BEC1D327B2AC: succeeded to handle AppendEntries. Reply: s0<-s1#16:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2023-12-07 16:29:38,333 [s2@group-BEC1D327B2AC-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:38,333 [s1@group-BEC1D327B2AC-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:38,335 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s1@group-BEC1D327B2AC: receive client request(RaftClientRequest:client-87919DD45DA0->s1@group-BEC1D327B2AC, cid=13, seq=null, RO, Message:5155455259)
2023-12-07 16:29:38,336 [s0-server-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=6, readAfterWriteConsistentIndex=null
2023-12-07 16:29:38,340 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-BEC1D327B2AC: receive client request(RaftClientRequest:client-87919DD45DA0->s2@group-BEC1D327B2AC, cid=14, seq=3, RO, Message:5155455259)
2023-12-07 16:29:38,341 [s0-server-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=6, readAfterWriteConsistentIndex=null
2023-12-07 16:29:38,343 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s0@group-BEC1D327B2AC: receive client request(RaftClientRequest:client-87919DD45DA0->s0@group-BEC1D327B2AC, cid=15, seq=null, RW, Message:494e4352454d454e54)
2023-12-07 16:29:38,344 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s0@group-BEC1D327B2AC-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-87919DD45DA0->s0@group-BEC1D327B2AC, cid=15, seq=null, RW, Message:494e4352454d454e54, entry=(t:1, i:7), STATEMACHINELOGENTRY, 15@client-87919DD45DA0
2023-12-07 16:29:38,345 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BEC1D327B2AC: receive appendEntries(s0, 1, (t:1, i:6), 6, true, commits:[s0:c6, s1:c6, s2:c6], cId:20, entries: [(t:1, i:7), STATEMACHINELOGENTRY, 15@client-87919DD45DA0]
2023-12-07 16:29:38,345 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BEC1D327B2AC: succeeded to handle AppendEntries. Reply: s0<-s2#20:OK-t1,SUCCESS,nextIndex=8,followerCommit=6,matchIndex=7
2023-12-07 16:29:38,345 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BEC1D327B2AC: receive appendEntries(s0, 1, (t:1, i:6), 6, true, commits:[s0:c6, s1:c6, s2:c6], cId:20, entries: [(t:1, i:7), STATEMACHINELOGENTRY, 15@client-87919DD45DA0]
2023-12-07 16:29:38,346 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BEC1D327B2AC: succeeded to handle AppendEntries. Reply: s0<-s1#20:OK-t1,SUCCESS,nextIndex=8,followerCommit=6,matchIndex=7
2023-12-07 16:29:38,346 [s0@group-BEC1D327B2AC-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:38,348 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BEC1D327B2AC: receive appendEntries(s0, 1, (t:1, i:7), 7, true, commits:[s0:c7, s1:c6, s2:c6], cId:21, entries: [(t:1, i:8), METADATAENTRY(c:7)]
2023-12-07 16:29:38,348 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BEC1D327B2AC: succeeded to handle AppendEntries. Reply: s0<-s1#21:OK-t1,SUCCESS,nextIndex=9,followerCommit=7,matchIndex=8
2023-12-07 16:29:38,348 [s1@group-BEC1D327B2AC-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:38,348 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BEC1D327B2AC: receive appendEntries(s0, 1, (t:1, i:7), 7, true, commits:[s0:c7, s1:c6, s2:c6], cId:21, entries: [(t:1, i:8), METADATAENTRY(c:7)]
2023-12-07 16:29:38,349 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BEC1D327B2AC: succeeded to handle AppendEntries. Reply: s0<-s2#21:OK-t1,SUCCESS,nextIndex=9,followerCommit=7,matchIndex=8
2023-12-07 16:29:38,349 [s2@group-BEC1D327B2AC-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:38,351 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s1@group-BEC1D327B2AC: receive client request(RaftClientRequest:client-87919DD45DA0->s1@group-BEC1D327B2AC, cid=16, seq=null, RO, Message:5155455259)
2023-12-07 16:29:38,352 [s0-server-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=8, readAfterWriteConsistentIndex=null
2023-12-07 16:29:38,355 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-BEC1D327B2AC: receive client request(RaftClientRequest:client-87919DD45DA0->s2@group-BEC1D327B2AC, cid=17, seq=4, RO, Message:5155455259)
2023-12-07 16:29:38,356 [s0-server-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=8, readAfterWriteConsistentIndex=null
2023-12-07 16:29:38,358 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s0@group-BEC1D327B2AC: receive client request(RaftClientRequest:client-87919DD45DA0->s0@group-BEC1D327B2AC, cid=18, seq=null, RW, Message:494e4352454d454e54)
2023-12-07 16:29:38,359 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s0@group-BEC1D327B2AC-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-87919DD45DA0->s0@group-BEC1D327B2AC, cid=18, seq=null, RW, Message:494e4352454d454e54, entry=(t:1, i:9), STATEMACHINELOGENTRY, 18@client-87919DD45DA0
2023-12-07 16:29:38,360 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BEC1D327B2AC: receive appendEntries(s0, 1, (t:1, i:8), 8, true, commits:[s0:c8, s1:c8, s2:c8], cId:25, entries: [(t:1, i:9), STATEMACHINELOGENTRY, 18@client-87919DD45DA0]
2023-12-07 16:29:38,360 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BEC1D327B2AC: receive appendEntries(s0, 1, (t:1, i:8), 8, true, commits:[s0:c8, s1:c8, s2:c8], cId:26, entries: [(t:1, i:9), STATEMACHINELOGENTRY, 18@client-87919DD45DA0]
2023-12-07 16:29:38,360 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BEC1D327B2AC: succeeded to handle AppendEntries. Reply: s0<-s2#25:OK-t1,SUCCESS,nextIndex=10,followerCommit=8,matchIndex=9
2023-12-07 16:29:38,361 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BEC1D327B2AC: succeeded to handle AppendEntries. Reply: s0<-s1#26:OK-t1,SUCCESS,nextIndex=10,followerCommit=8,matchIndex=9
2023-12-07 16:29:38,362 [s0@group-BEC1D327B2AC-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:38,365 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BEC1D327B2AC: receive appendEntries(s0, 1, (t:1, i:9), 9, true, commits:[s0:c9, s1:c8, s2:c8], cId:27, entries: [(t:1, i:10), METADATAENTRY(c:9)]
2023-12-07 16:29:38,365 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BEC1D327B2AC: receive appendEntries(s0, 1, (t:1, i:9), 9, true, commits:[s0:c9, s1:c8, s2:c8], cId:26, entries: [(t:1, i:10), METADATAENTRY(c:9)]
2023-12-07 16:29:38,365 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BEC1D327B2AC: succeeded to handle AppendEntries. Reply: s0<-s1#27:OK-t1,SUCCESS,nextIndex=11,followerCommit=9,matchIndex=10
2023-12-07 16:29:38,366 [s1@group-BEC1D327B2AC-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:38,366 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BEC1D327B2AC: succeeded to handle AppendEntries. Reply: s0<-s2#26:OK-t1,SUCCESS,nextIndex=11,followerCommit=9,matchIndex=10
2023-12-07 16:29:38,366 [s2@group-BEC1D327B2AC-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:38,367 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s1@group-BEC1D327B2AC: receive client request(RaftClientRequest:client-87919DD45DA0->s1@group-BEC1D327B2AC, cid=19, seq=null, RO, Message:5155455259)
2023-12-07 16:29:38,368 [s0-server-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=10, readAfterWriteConsistentIndex=null
2023-12-07 16:29:38,372 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-BEC1D327B2AC: receive client request(RaftClientRequest:client-87919DD45DA0->s2@group-BEC1D327B2AC, cid=20, seq=5, RO, Message:5155455259)
2023-12-07 16:29:38,373 [s0-server-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=10, readAfterWriteConsistentIndex=null
2023-12-07 16:29:38,375 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s0@group-BEC1D327B2AC: receive client request(RaftClientRequest:client-87919DD45DA0->s0@group-BEC1D327B2AC, cid=21, seq=null, RW, Message:494e4352454d454e54)
2023-12-07 16:29:38,376 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s0@group-BEC1D327B2AC-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-87919DD45DA0->s0@group-BEC1D327B2AC, cid=21, seq=null, RW, Message:494e4352454d454e54, entry=(t:1, i:11), STATEMACHINELOGENTRY, 21@client-87919DD45DA0
2023-12-07 16:29:38,377 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BEC1D327B2AC: receive appendEntries(s0, 1, (t:1, i:10), 10, true, commits:[s0:c10, s1:c10, s2:c10], cId:29, entries: [(t:1, i:11), STATEMACHINELOGENTRY, 21@client-87919DD45DA0]
2023-12-07 16:29:38,377 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BEC1D327B2AC: receive appendEntries(s0, 1, (t:1, i:10), 10, true, commits:[s0:c10, s1:c10, s2:c10], cId:31, entries: [(t:1, i:11), STATEMACHINELOGENTRY, 21@client-87919DD45DA0]
2023-12-07 16:29:38,377 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BEC1D327B2AC: succeeded to handle AppendEntries. Reply: s0<-s2#29:OK-t1,SUCCESS,nextIndex=12,followerCommit=10,matchIndex=11
2023-12-07 16:29:38,377 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BEC1D327B2AC: succeeded to handle AppendEntries. Reply: s0<-s1#31:OK-t1,SUCCESS,nextIndex=12,followerCommit=10,matchIndex=11
2023-12-07 16:29:38,378 [s0@group-BEC1D327B2AC-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:38,379 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BEC1D327B2AC: receive appendEntries(s0, 1, (t:1, i:11), 11, true, commits:[s0:c11, s1:c10, s2:c10], cId:30, entries: [(t:1, i:12), METADATAENTRY(c:11)]
2023-12-07 16:29:38,379 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BEC1D327B2AC: receive appendEntries(s0, 1, (t:1, i:11), 11, true, commits:[s0:c11, s1:c10, s2:c10], cId:32, entries: [(t:1, i:12), METADATAENTRY(c:11)]
2023-12-07 16:29:38,380 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BEC1D327B2AC: succeeded to handle AppendEntries. Reply: s0<-s2#30:OK-t1,SUCCESS,nextIndex=13,followerCommit=11,matchIndex=12
2023-12-07 16:29:38,380 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BEC1D327B2AC: succeeded to handle AppendEntries. Reply: s0<-s1#32:OK-t1,SUCCESS,nextIndex=13,followerCommit=11,matchIndex=12
2023-12-07 16:29:38,380 [s2@group-BEC1D327B2AC-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:38,380 [s1@group-BEC1D327B2AC-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:38,381 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s1@group-BEC1D327B2AC: receive client request(RaftClientRequest:client-87919DD45DA0->s1@group-BEC1D327B2AC, cid=22, seq=null, RO, Message:5155455259)
2023-12-07 16:29:38,382 [s0-server-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=12, readAfterWriteConsistentIndex=null
2023-12-07 16:29:38,391 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-BEC1D327B2AC: receive client request(RaftClientRequest:client-87919DD45DA0->s2@group-BEC1D327B2AC, cid=23, seq=6, RO, Message:5155455259)
2023-12-07 16:29:38,392 [s0-server-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=12, readAfterWriteConsistentIndex=null
2023-12-07 16:29:38,467 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s0@group-BEC1D327B2AC: receive client request(RaftClientRequest:client-87919DD45DA0->s0@group-BEC1D327B2AC, cid=24, seq=null, RW, Message:494e4352454d454e54)
2023-12-07 16:29:38,468 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s0@group-BEC1D327B2AC-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-87919DD45DA0->s0@group-BEC1D327B2AC, cid=24, seq=null, RW, Message:494e4352454d454e54, entry=(t:1, i:13), STATEMACHINELOGENTRY, 24@client-87919DD45DA0
2023-12-07 16:29:38,469 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BEC1D327B2AC: receive appendEntries(s0, 1, (t:1, i:12), 12, true, commits:[s0:c12, s1:c12, s2:c12], cId:37, entries: [(t:1, i:13), STATEMACHINELOGENTRY, 24@client-87919DD45DA0]
2023-12-07 16:29:38,469 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BEC1D327B2AC: receive appendEntries(s0, 1, (t:1, i:12), 12, true, commits:[s0:c12, s1:c12, s2:c12], cId:38, entries: [(t:1, i:13), STATEMACHINELOGENTRY, 24@client-87919DD45DA0]
2023-12-07 16:29:38,469 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BEC1D327B2AC: succeeded to handle AppendEntries. Reply: s0<-s1#37:OK-t1,SUCCESS,nextIndex=14,followerCommit=12,matchIndex=13
2023-12-07 16:29:38,470 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BEC1D327B2AC: succeeded to handle AppendEntries. Reply: s0<-s2#38:OK-t1,SUCCESS,nextIndex=14,followerCommit=12,matchIndex=13
2023-12-07 16:29:38,470 [s0@group-BEC1D327B2AC-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:38,471 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BEC1D327B2AC: receive appendEntries(s0, 1, (t:1, i:13), 13, true, commits:[s0:c13, s1:c12, s2:c12], cId:38, entries: [(t:1, i:14), METADATAENTRY(c:13)]
2023-12-07 16:29:38,472 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BEC1D327B2AC: succeeded to handle AppendEntries. Reply: s0<-s1#38:OK-t1,SUCCESS,nextIndex=15,followerCommit=13,matchIndex=14
2023-12-07 16:29:38,472 [s1@group-BEC1D327B2AC-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:38,473 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BEC1D327B2AC: receive appendEntries(s0, 1, (t:1, i:13), 13, true, commits:[s0:c13, s1:c12, s2:c12], cId:39, entries: [(t:1, i:14), METADATAENTRY(c:13)]
2023-12-07 16:29:38,473 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BEC1D327B2AC: succeeded to handle AppendEntries. Reply: s0<-s2#39:OK-t1,SUCCESS,nextIndex=15,followerCommit=13,matchIndex=14
2023-12-07 16:29:38,474 [s2@group-BEC1D327B2AC-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:38,474 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s1@group-BEC1D327B2AC: receive client request(RaftClientRequest:client-87919DD45DA0->s1@group-BEC1D327B2AC, cid=25, seq=null, RO, Message:5155455259)
2023-12-07 16:29:38,475 [s0-server-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=14, readAfterWriteConsistentIndex=null
2023-12-07 16:29:38,479 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-BEC1D327B2AC: receive client request(RaftClientRequest:client-87919DD45DA0->s2@group-BEC1D327B2AC, cid=26, seq=7, RO, Message:5155455259)
2023-12-07 16:29:38,480 [s0-server-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=14, readAfterWriteConsistentIndex=null
2023-12-07 16:29:38,482 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s0@group-BEC1D327B2AC: receive client request(RaftClientRequest:client-87919DD45DA0->s0@group-BEC1D327B2AC, cid=27, seq=null, RW, Message:494e4352454d454e54)
2023-12-07 16:29:38,483 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s0@group-BEC1D327B2AC-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-87919DD45DA0->s0@group-BEC1D327B2AC, cid=27, seq=null, RW, Message:494e4352454d454e54, entry=(t:1, i:15), STATEMACHINELOGENTRY, 27@client-87919DD45DA0
2023-12-07 16:29:38,484 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BEC1D327B2AC: receive appendEntries(s0, 1, (t:1, i:14), 14, true, commits:[s0:c14, s1:c14, s2:c14], cId:42, entries: [(t:1, i:15), STATEMACHINELOGENTRY, 27@client-87919DD45DA0]
2023-12-07 16:29:38,484 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BEC1D327B2AC: receive appendEntries(s0, 1, (t:1, i:14), 14, true, commits:[s0:c14, s1:c14, s2:c14], cId:44, entries: [(t:1, i:15), STATEMACHINELOGENTRY, 27@client-87919DD45DA0]
2023-12-07 16:29:38,484 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BEC1D327B2AC: succeeded to handle AppendEntries. Reply: s0<-s1#42:OK-t1,SUCCESS,nextIndex=16,followerCommit=14,matchIndex=15
2023-12-07 16:29:38,485 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BEC1D327B2AC: succeeded to handle AppendEntries. Reply: s0<-s2#44:OK-t1,SUCCESS,nextIndex=16,followerCommit=14,matchIndex=15
2023-12-07 16:29:38,485 [s0@group-BEC1D327B2AC-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:38,487 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BEC1D327B2AC: receive appendEntries(s0, 1, (t:1, i:15), 15, true, commits:[s0:c15, s1:c14, s2:c14], cId:43, entries: [(t:1, i:16), METADATAENTRY(c:15)]
2023-12-07 16:29:38,488 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BEC1D327B2AC: receive appendEntries(s0, 1, (t:1, i:15), 15, true, commits:[s0:c15, s1:c14, s2:c14], cId:45, entries: [(t:1, i:16), METADATAENTRY(c:15)]
2023-12-07 16:29:38,488 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BEC1D327B2AC: succeeded to handle AppendEntries. Reply: s0<-s1#43:OK-t1,SUCCESS,nextIndex=17,followerCommit=15,matchIndex=16
2023-12-07 16:29:38,488 [s1@group-BEC1D327B2AC-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:38,488 [s2@group-BEC1D327B2AC-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:38,488 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BEC1D327B2AC: succeeded to handle AppendEntries. Reply: s0<-s2#45:OK-t1,SUCCESS,nextIndex=17,followerCommit=15,matchIndex=16
2023-12-07 16:29:38,490 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s1@group-BEC1D327B2AC: receive client request(RaftClientRequest:client-87919DD45DA0->s1@group-BEC1D327B2AC, cid=28, seq=null, RO, Message:5155455259)
2023-12-07 16:29:38,491 [s0-server-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=16, readAfterWriteConsistentIndex=null
2023-12-07 16:29:38,495 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-BEC1D327B2AC: receive client request(RaftClientRequest:client-87919DD45DA0->s2@group-BEC1D327B2AC, cid=29, seq=8, RO, Message:5155455259)
2023-12-07 16:29:38,496 [s0-server-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=16, readAfterWriteConsistentIndex=null
2023-12-07 16:29:38,498 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s0@group-BEC1D327B2AC: receive client request(RaftClientRequest:client-87919DD45DA0->s0@group-BEC1D327B2AC, cid=30, seq=null, RW, Message:494e4352454d454e54)
2023-12-07 16:29:38,498 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s0@group-BEC1D327B2AC-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-87919DD45DA0->s0@group-BEC1D327B2AC, cid=30, seq=null, RW, Message:494e4352454d454e54, entry=(t:1, i:17), STATEMACHINELOGENTRY, 30@client-87919DD45DA0
2023-12-07 16:29:38,500 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BEC1D327B2AC: receive appendEntries(s0, 1, (t:1, i:16), 16, true, commits:[s0:c16, s1:c16, s2:c16], cId:52, entries: [(t:1, i:17), STATEMACHINELOGENTRY, 30@client-87919DD45DA0]
2023-12-07 16:29:38,501 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BEC1D327B2AC: receive appendEntries(s0, 1, (t:1, i:16), 16, true, commits:[s0:c16, s1:c16, s2:c16], cId:48, entries: [(t:1, i:17), STATEMACHINELOGENTRY, 30@client-87919DD45DA0]
2023-12-07 16:29:38,501 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BEC1D327B2AC: succeeded to handle AppendEntries. Reply: s0<-s2#52:OK-t1,SUCCESS,nextIndex=18,followerCommit=16,matchIndex=17
2023-12-07 16:29:38,502 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BEC1D327B2AC: succeeded to handle AppendEntries. Reply: s0<-s1#48:OK-t1,SUCCESS,nextIndex=18,followerCommit=16,matchIndex=17
2023-12-07 16:29:38,502 [s0@group-BEC1D327B2AC-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:38,504 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BEC1D327B2AC: receive appendEntries(s0, 1, (t:1, i:17), 17, true, commits:[s0:c17, s1:c16, s2:c16], cId:53, entries: [(t:1, i:18), METADATAENTRY(c:17)]
2023-12-07 16:29:38,504 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BEC1D327B2AC: receive appendEntries(s0, 1, (t:1, i:17), 17, true, commits:[s0:c17, s1:c16, s2:c16], cId:49, entries: [(t:1, i:18), METADATAENTRY(c:17)]
2023-12-07 16:29:38,505 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BEC1D327B2AC: succeeded to handle AppendEntries. Reply: s0<-s2#53:OK-t1,SUCCESS,nextIndex=19,followerCommit=17,matchIndex=18
2023-12-07 16:29:38,505 [s2@group-BEC1D327B2AC-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:38,506 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s1@group-BEC1D327B2AC: receive client request(RaftClientRequest:client-87919DD45DA0->s1@group-BEC1D327B2AC, cid=31, seq=null, RO, Message:5155455259)
2023-12-07 16:29:38,506 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BEC1D327B2AC: succeeded to handle AppendEntries. Reply: s0<-s1#49:OK-t1,SUCCESS,nextIndex=19,followerCommit=17,matchIndex=18
2023-12-07 16:29:38,506 [s1@group-BEC1D327B2AC-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:38,507 [s0-server-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=18, readAfterWriteConsistentIndex=null
2023-12-07 16:29:38,512 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-BEC1D327B2AC: receive client request(RaftClientRequest:client-87919DD45DA0->s2@group-BEC1D327B2AC, cid=32, seq=9, RO, Message:5155455259)
2023-12-07 16:29:38,513 [s0-server-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=18, readAfterWriteConsistentIndex=null
2023-12-07 16:29:38,516 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s0@group-BEC1D327B2AC: receive client request(RaftClientRequest:client-87919DD45DA0->s0@group-BEC1D327B2AC, cid=33, seq=null, RW, Message:494e4352454d454e54)
2023-12-07 16:29:38,516 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s0@group-BEC1D327B2AC-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-87919DD45DA0->s0@group-BEC1D327B2AC, cid=33, seq=null, RW, Message:494e4352454d454e54, entry=(t:1, i:19), STATEMACHINELOGENTRY, 33@client-87919DD45DA0
2023-12-07 16:29:38,518 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BEC1D327B2AC: receive appendEntries(s0, 1, (t:1, i:18), 18, true, commits:[s0:c18, s1:c18, s2:c18], cId:58, entries: [(t:1, i:19), STATEMACHINELOGENTRY, 33@client-87919DD45DA0]
2023-12-07 16:29:38,518 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BEC1D327B2AC: succeeded to handle AppendEntries. Reply: s0<-s2#58:OK-t1,SUCCESS,nextIndex=20,followerCommit=18,matchIndex=19
2023-12-07 16:29:38,518 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BEC1D327B2AC: receive appendEntries(s0, 1, (t:1, i:18), 18, true, commits:[s0:c18, s1:c18, s2:c18], cId:55, entries: [(t:1, i:19), STATEMACHINELOGENTRY, 33@client-87919DD45DA0]
2023-12-07 16:29:38,519 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BEC1D327B2AC: succeeded to handle AppendEntries. Reply: s0<-s1#55:OK-t1,SUCCESS,nextIndex=20,followerCommit=18,matchIndex=19
2023-12-07 16:29:38,519 [s0@group-BEC1D327B2AC-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:38,521 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BEC1D327B2AC: receive appendEntries(s0, 1, (t:1, i:19), 19, true, commits:[s0:c19, s1:c18, s2:c18], cId:56, entries: [(t:1, i:20), METADATAENTRY(c:19)]
2023-12-07 16:29:38,521 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BEC1D327B2AC: receive appendEntries(s0, 1, (t:1, i:19), 19, true, commits:[s0:c19, s1:c18, s2:c18], cId:59, entries: [(t:1, i:20), METADATAENTRY(c:19)]
2023-12-07 16:29:38,522 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s1@group-BEC1D327B2AC: receive client request(RaftClientRequest:client-87919DD45DA0->s1@group-BEC1D327B2AC, cid=34, seq=null, RO, Message:5155455259)
2023-12-07 16:29:38,522 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BEC1D327B2AC: succeeded to handle AppendEntries. Reply: s0<-s1#56:OK-t1,SUCCESS,nextIndex=21,followerCommit=19,matchIndex=20
2023-12-07 16:29:38,522 [s2@group-BEC1D327B2AC-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:38,522 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BEC1D327B2AC: succeeded to handle AppendEntries. Reply: s0<-s2#59:OK-t1,SUCCESS,nextIndex=21,followerCommit=19,matchIndex=20
2023-12-07 16:29:38,522 [s1@group-BEC1D327B2AC-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:38,524 [s0-server-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=20, readAfterWriteConsistentIndex=null
2023-12-07 16:29:38,527 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-BEC1D327B2AC: receive client request(RaftClientRequest:client-87919DD45DA0->s2@group-BEC1D327B2AC, cid=35, seq=10, RO, Message:5155455259)
2023-12-07 16:29:38,528 [s0-server-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=20, readAfterWriteConsistentIndex=null
2023-12-07 16:29:38,541 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-12-07 16:29:38,542 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-12-07 16:29:38,542 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2023-12-07 16:29:38,542 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-12-07 16:29:38,542 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-12-07 16:29:38,542 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-BEC1D327B2AC:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-BEC1D327B2AC-SegmentedRaftLog:OPENED:c20, conf=0: peers:[s0|localhost:41023, s1|localhost:40697, s2|localhost:43423]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-BEC1D327B2AC:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-BEC1D327B2AC-SegmentedRaftLog:OPENED:c20, conf=0: peers:[s0|localhost:41023, s1|localhost:40697, s2|localhost:43423]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-BEC1D327B2AC:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-BEC1D327B2AC-SegmentedRaftLog:OPENED:c20, conf=0: peers:[s0|localhost:41023, s1|localhost:40697, s2|localhost:43423]|listeners:[], old=null RUNNING
2023-12-07 16:29:38,542 [MiniRaftCluster-7] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(416)) - s0: close
2023-12-07 16:29:38,542 [MiniRaftCluster-8] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(416)) - s1: close
2023-12-07 16:29:38,542 [MiniRaftCluster-9] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(416)) - s2: close
2023-12-07 16:29:38,543 [MiniRaftCluster-8] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-12-07 16:29:38,543 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$3(516)) - s1@group-BEC1D327B2AC: shutdown
2023-12-07 16:29:38,542 [MiniRaftCluster-7] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-12-07 16:29:38,543 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-BEC1D327B2AC,id=s1
2023-12-07 16:29:38,542 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$3(516)) - s0@group-BEC1D327B2AC: shutdown
2023-12-07 16:29:38,543 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-BEC1D327B2AC-FollowerState
2023-12-07 16:29:38,543 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-BEC1D327B2AC,id=s0
2023-12-07 16:29:38,543 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(94)) - s0: shutdown s0@group-BEC1D327B2AC-LeaderStateImpl
2023-12-07 16:29:38,543 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s1@group-BEC1D327B2AC-StateMachineUpdater: set stopIndex = 20
2023-12-07 16:29:38,543 [s1@group-BEC1D327B2AC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-BEC1D327B2AC-FollowerState was interrupted
2023-12-07 16:29:38,543 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$3(516)) - s2@group-BEC1D327B2AC: shutdown
2023-12-07 16:29:38,543 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(423)) - s1@group-BEC1D327B2AC: applyIndex: 20
2023-12-07 16:29:38,544 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-BEC1D327B2AC,id=s2
2023-12-07 16:29:38,544 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(289)) - s0@group-BEC1D327B2AC-PendingRequests: sendNotLeaderResponses
2023-12-07 16:29:38,544 [s1@group-BEC1D327B2AC-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s1@group-BEC1D327B2AC-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2023-12-07 16:29:38,544 [s0@group-BEC1D327B2AC->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(279)) - s0@group-BEC1D327B2AC->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2023-12-07 16:29:38,544 [s0@group-BEC1D327B2AC->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(279)) - s0@group-BEC1D327B2AC->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2023-12-07 16:29:38,543 [MiniRaftCluster-9] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-12-07 16:29:38,544 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-BEC1D327B2AC-FollowerState
2023-12-07 16:29:38,544 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s2@group-BEC1D327B2AC-StateMachineUpdater: set stopIndex = 20
2023-12-07 16:29:38,544 [s2@group-BEC1D327B2AC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-BEC1D327B2AC-FollowerState was interrupted
2023-12-07 16:29:38,545 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(157)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#56-t1,previous=(t:1, i:19),leaderCommit=19,initializing? true,entries: size=1, first=(t:1, i:20), METADATAENTRY(c:19)
2023-12-07 16:29:38,545 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(423)) - s2@group-BEC1D327B2AC: applyIndex: 20
2023-12-07 16:29:38,545 [Thread-160] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(103)) - s0 Close channels
2023-12-07 16:29:38,545 [s2@group-BEC1D327B2AC-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s2@group-BEC1D327B2AC-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2023-12-07 16:29:38,545 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$5(159)) - s1: Completed APPEND_ENTRIES, lastReply: null
2023-12-07 16:29:38,545 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s0@group-BEC1D327B2AC-StateMachineUpdater: set stopIndex = 20
2023-12-07 16:29:38,546 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(423)) - s0@group-BEC1D327B2AC: applyIndex: 20
2023-12-07 16:29:38,546 [s0@group-BEC1D327B2AC-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-BEC1D327B2AC-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2023-12-07 16:29:38,546 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(157)) - s2: Completed APPEND_ENTRIES, lastRequest: s0->s2#59-t1,previous=(t:1, i:19),leaderCommit=19,initializing? true,entries: size=1, first=(t:1, i:20), METADATAENTRY(c:19)
2023-12-07 16:29:38,546 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(157)) - s1: Completed APPEND_ENTRIES, lastRequest: null
2023-12-07 16:29:38,546 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(157)) - s2: Completed APPEND_ENTRIES, lastRequest: null
2023-12-07 16:29:38,546 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$5(159)) - s1: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s0"
  replyId: "s1"
  raftGroupId {
    id: "\307r\231J\335\330H\023\226F\276\301\323\'\262\254"
  }
  callId: 60
  success: true
}
term: 1
nextIndex: 21
followerCommit: 20
matchIndex: 18446744073709551615
isHearbeat: true

2023-12-07 16:29:38,546 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$5(159)) - s2: Completed APPEND_ENTRIES, lastReply: null
2023-12-07 16:29:38,549 [Thread-164] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(103)) - s0 Close channels
2023-12-07 16:29:38,548 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(534)) - s0@group-BEC1D327B2AC->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-12-07 16:29:38,547 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(534)) - s0@group-BEC1D327B2AC->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-12-07 16:29:38,547 [MiniRaftCluster-8] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-12-07 16:29:38,550 [MiniRaftCluster-8] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server GrpcServerProtocolService now
2023-12-07 16:29:38,546 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$5(159)) - s2: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s0"
  replyId: "s2"
  raftGroupId {
    id: "\307r\231J\335\330H\023\226F\276\301\323\'\262\254"
  }
  callId: 62
  success: true
}
term: 1
nextIndex: 21
followerCommit: 20
matchIndex: 18446744073709551615
isHearbeat: true

2023-12-07 16:29:38,551 [MiniRaftCluster-9] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-12-07 16:29:38,551 [MiniRaftCluster-9] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server GrpcServerProtocolService now
2023-12-07 16:29:38,551 [Thread-168] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(103)) - s2 Close channels
2023-12-07 16:29:38,552 [grpc-default-executor-3] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(534)) - s0@group-BEC1D327B2AC->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-12-07 16:29:38,555 [grpc-default-executor-3] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(216)) - s0@group-BEC1D327B2AC->s2-GrpcLogAppender: Failed to getClient for s2
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s0 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:65)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:114)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:188)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:193)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$700(GrpcLogAppender.java:61)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:535)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:38,551 [Thread-165] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(103)) - s1 Close channels
2023-12-07 16:29:38,551 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(534)) - s0@group-BEC1D327B2AC->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-12-07 16:29:38,555 [grpc-default-executor-5] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(216)) - s0@group-BEC1D327B2AC->s2-GrpcLogAppender: Failed to getClient for s2
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s0 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:65)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:114)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:188)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:193)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$700(GrpcLogAppender.java:61)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:535)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:38,555 [MiniRaftCluster-8] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server GrpcServerProtocolService successfully
2023-12-07 16:29:38,555 [MiniRaftCluster-8] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-12-07 16:29:38,556 [MiniRaftCluster-7] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-12-07 16:29:38,556 [MiniRaftCluster-9] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server GrpcServerProtocolService successfully
2023-12-07 16:29:38,556 [MiniRaftCluster-7] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server GrpcServerProtocolService now
2023-12-07 16:29:38,556 [MiniRaftCluster-9] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-12-07 16:29:38,558 [MiniRaftCluster-8] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-12-07 16:29:38,558 [MiniRaftCluster-7] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server GrpcServerProtocolService successfully
2023-12-07 16:29:38,558 [MiniRaftCluster-7] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-12-07 16:29:38,558 [MiniRaftCluster-9] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-12-07 16:29:38,559 [MiniRaftCluster-7] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-12-07 16:29:39,520 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s0@group-BEC1D327B2AC-SegmentedRaftLogWorker close()
2023-12-07 16:29:39,521 [JvmPauseMonitor3] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2023-12-07 16:29:39,523 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s1@group-BEC1D327B2AC-SegmentedRaftLogWorker close()
2023-12-07 16:29:39,523 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s2@group-BEC1D327B2AC-SegmentedRaftLogWorker close()
2023-12-07 16:29:39,524 [JvmPauseMonitor5] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s2: Stopped
2023-12-07 16:29:39,524 [JvmPauseMonitor4] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s1: Stopped
2023-12-07 16:29:39,524 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2023-12-07 16:29:39,525 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-12-07 16:29:39,525 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-12-07 16:29:39,525 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2023-12-07 16:29:39,525 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-12-07 16:29:39,525 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-12-07 16:29:39,525 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:   CLOSED    LEADER s0@group-BEC1D327B2AC:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-BEC1D327B2AC-SegmentedRaftLog:CLOSED:c20, conf=0: peers:[s0|localhost:41023, s1|localhost:40697, s2|localhost:43423]|listeners:[], old=null CLOSED
  s1:   CLOSED  FOLLOWER s1@group-BEC1D327B2AC:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-BEC1D327B2AC-SegmentedRaftLog:CLOSED:c20, conf=0: peers:[s0|localhost:41023, s1|localhost:40697, s2|localhost:43423]|listeners:[], old=null CLOSED
  s2:   CLOSED  FOLLOWER s2@group-BEC1D327B2AC:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-BEC1D327B2AC-SegmentedRaftLog:CLOSED:c20, conf=0: peers:[s0|localhost:41023, s1|localhost:40697, s2|localhost:43423]|listeners:[], old=null CLOSED
2023-12-07 16:29:39,526 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2023-12-07 16:29:39,526 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-12-07 16:29:39,526 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-12-07 16:29:39,526 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2023-12-07 16:29:39,527 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2023-12-07 16:29:39,528 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-1CA9C3694F19:[s0|localhost:37543, s1|localhost:42651, s2|localhost:40057]
2023-12-07 16:29:39,528 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-12-07 16:29:39,528 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-12-07 16:29:39,528 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2023-12-07 16:29:39,528 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-12-07 16:29:39,528 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-12-07 16:29:39,528 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-12-07 16:29:39,528 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-1CA9C3694F19:[s0|localhost:37543, s1|localhost:42651, s2|localhost:40057], format? true
2023-12-07 16:29:39,528 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s0
2023-12-07 16:29:39,528 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s0 does not exist.
2023-12-07 16:29:39,528 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s0
2023-12-07 16:29:39,529 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-12-07 16:29:39,529 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:39,529 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 36695 (custom)
2023-12-07 16:29:39,529 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:39,529 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 45591 (custom)
2023-12-07 16:29:39,529 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-12-07 16:29:39,529 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 37543 (custom)
2023-12-07 16:29:39,529 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-12-07 16:29:39,530 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:39,530 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-12-07 16:29:39,530 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:39,530 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:39,530 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-12-07 16:29:39,530 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-12-07 16:29:39,531 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-12-07 16:29:39,532 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:39,532 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2023-12-07 16:29:39,532 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:39,532 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s0] (custom)
2023-12-07 16:29:39,532 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-12-07 16:29:39,532 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-12-07 16:29:39,532 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(100)) - s0: addNew group-1CA9C3694F19:[s0|localhost:37543, s1|localhost:42651, s2|localhost:40057] returns group-1CA9C3694F19:java.util.concurrent.CompletableFuture@28a6b6f3[Not completed]
2023-12-07 16:29:39,533 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s0: new RaftServerImpl for group-1CA9C3694F19:[s0|localhost:37543, s1|localhost:42651, s2|localhost:40057] with CounterStateMachine:uninitialized
2023-12-07 16:29:39,533 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-1CA9C3694F19:[s0|localhost:37543, s1|localhost:42651, s2|localhost:40057], format? true
2023-12-07 16:29:39,533 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-12-07 16:29:39,533 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s1
2023-12-07 16:29:39,533 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-12-07 16:29:39,533 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-12-07 16:29:39,533 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s1 does not exist.
2023-12-07 16:29:39,533 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-12-07 16:29:39,533 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s1
2023-12-07 16:29:39,533 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:39,533 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2023-12-07 16:29:39,533 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:39,533 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-1CA9C3694F19: ConfigurationManager, init=-1: peers:[s0|localhost:37543, s1|localhost:42651, s2|localhost:40057]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-12-07 16:29:39,533 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-12-07 16:29:39,533 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-12-07 16:29:39,533 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:39,533 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-12-07 16:29:39,533 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 37665 (custom)
2023-12-07 16:29:39,533 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-12-07 16:29:39,533 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:39,534 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2023-12-07 16:29:39,534 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 41939 (custom)
2023-12-07 16:29:39,534 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-12-07 16:29:39,534 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = LINEARIZABLE (custom)
2023-12-07 16:29:39,534 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 42651 (custom)
2023-12-07 16:29:39,534 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2023-12-07 16:29:39,534 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-12-07 16:29:39,534 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:39,534 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-12-07 16:29:39,534 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:39,534 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:39,534 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-12-07 16:29:39,534 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-12-07 16:29:39,535 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-12-07 16:29:39,535 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:39,535 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:39,535 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:39,536 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2023-12-07 16:29:39,536 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-12-07 16:29:39,536 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:39,536 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-12-07 16:29:39,536 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-12-07 16:29:39,536 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-12-07 16:29:39,536 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s1] (custom)
2023-12-07 16:29:39,536 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-12-07 16:29:39,536 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-12-07 16:29:39,536 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(100)) - s1: addNew group-1CA9C3694F19:[s0|localhost:37543, s1|localhost:42651, s2|localhost:40057] returns group-1CA9C3694F19:java.util.concurrent.CompletableFuture@55056cc1[Not completed]
2023-12-07 16:29:39,536 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-1CA9C3694F19:[s0|localhost:37543, s1|localhost:42651, s2|localhost:40057], format? true
2023-12-07 16:29:39,536 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s1: new RaftServerImpl for group-1CA9C3694F19:[s0|localhost:37543, s1|localhost:42651, s2|localhost:40057] with CounterStateMachine:uninitialized
2023-12-07 16:29:39,536 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s2
2023-12-07 16:29:39,537 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-12-07 16:29:39,537 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-12-07 16:29:39,537 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s2 does not exist.
2023-12-07 16:29:39,537 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-12-07 16:29:39,537 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s2
2023-12-07 16:29:39,537 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-12-07 16:29:39,537 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:39,537 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2023-12-07 16:29:39,537 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:39,537 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-12-07 16:29:39,537 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-1CA9C3694F19: ConfigurationManager, init=-1: peers:[s0|localhost:37543, s1|localhost:42651, s2|localhost:40057]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-12-07 16:29:39,537 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:39,537 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-12-07 16:29:39,537 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 36243 (custom)
2023-12-07 16:29:39,537 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-12-07 16:29:39,537 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:39,537 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-12-07 16:29:39,537 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 44397 (custom)
2023-12-07 16:29:39,537 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2023-12-07 16:29:39,537 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-12-07 16:29:39,537 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = LINEARIZABLE (custom)
2023-12-07 16:29:39,537 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 40057 (custom)
2023-12-07 16:29:39,538 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2023-12-07 16:29:39,538 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-12-07 16:29:39,538 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:39,538 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-12-07 16:29:39,538 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:39,538 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:39,538 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-12-07 16:29:39,538 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-12-07 16:29:39,539 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-12-07 16:29:39,539 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:39,539 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:39,539 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2023-12-07 16:29:39,539 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:39,539 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:39,539 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-12-07 16:29:39,540 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-12-07 16:29:39,540 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s2] (custom)
2023-12-07 16:29:39,540 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-12-07 16:29:39,540 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-12-07 16:29:39,540 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-12-07 16:29:39,540 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-12-07 16:29:39,540 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(100)) - s2: addNew group-1CA9C3694F19:[s0|localhost:37543, s1|localhost:42651, s2|localhost:40057] returns group-1CA9C3694F19:java.util.concurrent.CompletableFuture@309c00f7[Not completed]
2023-12-07 16:29:39,540 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s2: new RaftServerImpl for group-1CA9C3694F19:[s0|localhost:37543, s1|localhost:42651, s2|localhost:40057] with CounterStateMachine:uninitialized
2023-12-07 16:29:39,540 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-12-07 16:29:39,540 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-12-07 16:29:39,540 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-12-07 16:29:39,540 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-12-07 16:29:39,540 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-12-07 16:29:39,540 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s0] (custom)
2023-12-07 16:29:39,540 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-12-07 16:29:39,541 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:39,541 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2023-12-07 16:29:39,541 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s0/25f5df8e-dedc-4ea6-b11d-1ca9c3694f19 does not exist. Creating ...
2023-12-07 16:29:39,541 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:39,541 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-1CA9C3694F19: ConfigurationManager, init=-1: peers:[s0|localhost:37543, s1|localhost:42651, s2|localhost:40057]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-12-07 16:29:39,541 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-12-07 16:29:39,541 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-12-07 16:29:39,541 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-12-07 16:29:39,541 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2023-12-07 16:29:39,541 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s0/25f5df8e-dedc-4ea6-b11d-1ca9c3694f19
2023-12-07 16:29:39,541 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = LINEARIZABLE (custom)
2023-12-07 16:29:39,541 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2023-12-07 16:29:39,542 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s0/25f5df8e-dedc-4ea6-b11d-1ca9c3694f19/in_use.lock acquired by nodename 9497@fv-az527-45
2023-12-07 16:29:39,542 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s0/25f5df8e-dedc-4ea6-b11d-1ca9c3694f19/current
2023-12-07 16:29:39,542 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s0/25f5df8e-dedc-4ea6-b11d-1ca9c3694f19/sm
2023-12-07 16:29:39,542 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s0/25f5df8e-dedc-4ea6-b11d-1ca9c3694f19/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@61b8c2f8
2023-12-07 16:29:39,543 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:39,543 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:39,543 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-12-07 16:29:39,543 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-12-07 16:29:39,543 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-12-07 16:29:39,543 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-12-07 16:29:39,543 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s0/25f5df8e-dedc-4ea6-b11d-1ca9c3694f19/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s0/25f5df8e-dedc-4ea6-b11d-1ca9c3694f19/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:39,543 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s0/25f5df8e-dedc-4ea6-b11d-1ca9c3694f19 has been successfully formatted.
2023-12-07 16:29:39,543 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s0/25f5df8e-dedc-4ea6-b11d-1ca9c3694f19/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s0/25f5df8e-dedc-4ea6-b11d-1ca9c3694f19/current/raft-meta.conf
	at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:92)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:116)
	at java.base/sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:219)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:371)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:422)
	at java.base/java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:420)
	at java.base/java.nio.file.Files.newInputStream(Files.java:156)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:388)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:182)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:39,544 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-12-07 16:29:39,544 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-12-07 16:29:39,544 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:39,544 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-12-07 16:29:39,544 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-12-07 16:29:39,545 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:39,545 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-12-07 16:29:39,545 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-12-07 16:29:39,545 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:39,545 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-1CA9C3694F19-cacheEviction-AwaitToRun,5,main] started
2023-12-07 16:29:39,545 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s0@group-1CA9C3694F19-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s0/25f5df8e-dedc-4ea6-b11d-1ca9c3694f19
2023-12-07 16:29:39,545 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-12-07 16:29:39,545 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-12-07 16:29:39,545 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:39,545 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-12-07 16:29:39,545 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-12-07 16:29:39,545 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-12-07 16:29:39,546 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-12-07 16:29:39,546 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-12-07 16:29:39,546 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2023-12-07 16:29:39,548 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:39,548 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-12-07 16:29:39,548 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-12-07 16:29:39,548 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-12-07 16:29:39,548 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-1CA9C3694F19-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:39,548 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-1CA9C3694F19-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:39,548 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s0@group-1CA9C3694F19: start as a follower, conf=-1: peers:[s0|localhost:37543, s1|localhost:42651, s2|localhost:40057]|listeners:[], old=null
2023-12-07 16:29:39,549 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-1CA9C3694F19: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-12-07 16:29:39,549 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-1CA9C3694F19-FollowerState
2023-12-07 16:29:39,549 [s0@group-1CA9C3694F19-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:39,549 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-1CA9C3694F19,id=s0
2023-12-07 16:29:39,549 [s0@group-1CA9C3694F19-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:39,549 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2023-12-07 16:29:39,549 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-12-07 16:29:39,549 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-12-07 16:29:39,549 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-12-07 16:29:39,549 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(406)) - s0: start RPC server
2023-12-07 16:29:39,550 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 45591
2023-12-07 16:29:39,551 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 37543
2023-12-07 16:29:39,552 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 36695
2023-12-07 16:29:39,553 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-12-07 16:29:39,553 [JvmPauseMonitor6] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2023-12-07 16:29:39,553 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-12-07 16:29:39,554 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s1] (custom)
2023-12-07 16:29:39,554 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s1/25f5df8e-dedc-4ea6-b11d-1ca9c3694f19 does not exist. Creating ...
2023-12-07 16:29:39,554 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s1/25f5df8e-dedc-4ea6-b11d-1ca9c3694f19
2023-12-07 16:29:39,555 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s1/25f5df8e-dedc-4ea6-b11d-1ca9c3694f19/in_use.lock acquired by nodename 9497@fv-az527-45
2023-12-07 16:29:39,555 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s1/25f5df8e-dedc-4ea6-b11d-1ca9c3694f19/current
2023-12-07 16:29:39,555 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s1/25f5df8e-dedc-4ea6-b11d-1ca9c3694f19/sm
2023-12-07 16:29:39,555 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s1/25f5df8e-dedc-4ea6-b11d-1ca9c3694f19/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5fd12eef
2023-12-07 16:29:39,556 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s1/25f5df8e-dedc-4ea6-b11d-1ca9c3694f19/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s1/25f5df8e-dedc-4ea6-b11d-1ca9c3694f19/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:39,556 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s1/25f5df8e-dedc-4ea6-b11d-1ca9c3694f19 has been successfully formatted.
2023-12-07 16:29:39,556 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s1/25f5df8e-dedc-4ea6-b11d-1ca9c3694f19/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s1/25f5df8e-dedc-4ea6-b11d-1ca9c3694f19/current/raft-meta.conf
	at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:92)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:116)
	at java.base/sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:219)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:371)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:422)
	at java.base/java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:420)
	at java.base/java.nio.file.Files.newInputStream(Files.java:156)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:388)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:182)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:39,556 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-12-07 16:29:39,556 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-12-07 16:29:39,556 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:39,556 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-12-07 16:29:39,556 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-12-07 16:29:39,557 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:39,557 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-12-07 16:29:39,557 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-12-07 16:29:39,557 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:39,558 [s1-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s1@group-1CA9C3694F19-cacheEviction-AwaitToRun,5,main] started
2023-12-07 16:29:39,558 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s1@group-1CA9C3694F19-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s1/25f5df8e-dedc-4ea6-b11d-1ca9c3694f19
2023-12-07 16:29:39,558 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-12-07 16:29:39,558 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-12-07 16:29:39,558 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:39,558 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-12-07 16:29:39,558 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-12-07 16:29:39,558 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-12-07 16:29:39,558 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-12-07 16:29:39,558 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-12-07 16:29:39,558 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2023-12-07 16:29:39,561 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:39,561 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-12-07 16:29:39,561 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-12-07 16:29:39,561 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-12-07 16:29:39,561 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-1CA9C3694F19-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:39,561 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-1CA9C3694F19-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:39,561 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s1@group-1CA9C3694F19: start as a follower, conf=-1: peers:[s0|localhost:37543, s1|localhost:42651, s2|localhost:40057]|listeners:[], old=null
2023-12-07 16:29:39,561 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-1CA9C3694F19: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-12-07 16:29:39,562 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-1CA9C3694F19-FollowerState
2023-12-07 16:29:39,565 [s1@group-1CA9C3694F19-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:39,565 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-1CA9C3694F19,id=s1
2023-12-07 16:29:39,565 [s1@group-1CA9C3694F19-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:39,566 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2023-12-07 16:29:39,566 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-12-07 16:29:39,566 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-12-07 16:29:39,566 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-12-07 16:29:39,566 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(406)) - s1: start RPC server
2023-12-07 16:29:39,567 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 41939
2023-12-07 16:29:39,567 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 42651
2023-12-07 16:29:39,567 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 37665
2023-12-07 16:29:39,568 [JvmPauseMonitor7] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s1: Started
2023-12-07 16:29:39,568 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-12-07 16:29:39,568 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-12-07 16:29:39,568 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s2] (custom)
2023-12-07 16:29:39,568 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s2/25f5df8e-dedc-4ea6-b11d-1ca9c3694f19 does not exist. Creating ...
2023-12-07 16:29:39,568 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s2/25f5df8e-dedc-4ea6-b11d-1ca9c3694f19
2023-12-07 16:29:39,570 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s2/25f5df8e-dedc-4ea6-b11d-1ca9c3694f19/in_use.lock acquired by nodename 9497@fv-az527-45
2023-12-07 16:29:39,570 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s2/25f5df8e-dedc-4ea6-b11d-1ca9c3694f19/current
2023-12-07 16:29:39,570 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s2/25f5df8e-dedc-4ea6-b11d-1ca9c3694f19/sm
2023-12-07 16:29:39,570 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s2/25f5df8e-dedc-4ea6-b11d-1ca9c3694f19/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@7b9878b9
2023-12-07 16:29:39,571 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s2/25f5df8e-dedc-4ea6-b11d-1ca9c3694f19/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s2/25f5df8e-dedc-4ea6-b11d-1ca9c3694f19/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:39,571 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s2/25f5df8e-dedc-4ea6-b11d-1ca9c3694f19 has been successfully formatted.
2023-12-07 16:29:39,571 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s2/25f5df8e-dedc-4ea6-b11d-1ca9c3694f19/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s2/25f5df8e-dedc-4ea6-b11d-1ca9c3694f19/current/raft-meta.conf
	at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:92)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:116)
	at java.base/sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:219)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:371)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:422)
	at java.base/java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:420)
	at java.base/java.nio.file.Files.newInputStream(Files.java:156)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:388)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:182)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:39,571 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-12-07 16:29:39,571 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-12-07 16:29:39,571 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:39,571 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-12-07 16:29:39,571 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-12-07 16:29:39,572 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:39,572 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-12-07 16:29:39,572 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-12-07 16:29:39,572 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:39,572 [s2-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s2@group-1CA9C3694F19-cacheEviction-AwaitToRun,5,main] started
2023-12-07 16:29:39,572 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s2@group-1CA9C3694F19-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s2/25f5df8e-dedc-4ea6-b11d-1ca9c3694f19
2023-12-07 16:29:39,572 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-12-07 16:29:39,572 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-12-07 16:29:39,572 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:39,572 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-12-07 16:29:39,572 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-12-07 16:29:39,572 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-12-07 16:29:39,572 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-12-07 16:29:39,572 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-12-07 16:29:39,573 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2023-12-07 16:29:39,574 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:39,574 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-12-07 16:29:39,574 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-12-07 16:29:39,574 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-12-07 16:29:39,574 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-1CA9C3694F19-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:39,574 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-1CA9C3694F19-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:39,575 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s2@group-1CA9C3694F19: start as a follower, conf=-1: peers:[s0|localhost:37543, s1|localhost:42651, s2|localhost:40057]|listeners:[], old=null
2023-12-07 16:29:39,575 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-1CA9C3694F19: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-12-07 16:29:39,575 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-1CA9C3694F19-FollowerState
2023-12-07 16:29:39,575 [s2@group-1CA9C3694F19-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:39,575 [s2@group-1CA9C3694F19-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:39,575 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-1CA9C3694F19,id=s2
2023-12-07 16:29:39,575 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2023-12-07 16:29:39,575 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-12-07 16:29:39,575 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-12-07 16:29:39,575 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-12-07 16:29:39,575 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(406)) - s2: start RPC server
2023-12-07 16:29:39,576 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 44397
2023-12-07 16:29:39,576 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 40057
2023-12-07 16:29:39,577 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 36243
2023-12-07 16:29:39,577 [JvmPauseMonitor8] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s2: Started
2023-12-07 16:29:39,577 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-12-07 16:29:39,577 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-1CA9C3694F19:t0, leader=null, voted=, raftlog=Memoized:s0@group-1CA9C3694F19-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:37543, s1|localhost:42651, s2|localhost:40057]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-1CA9C3694F19:t0, leader=null, voted=, raftlog=Memoized:s1@group-1CA9C3694F19-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:37543, s1|localhost:42651, s2|localhost:40057]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-1CA9C3694F19:t0, leader=null, voted=, raftlog=Memoized:s2@group-1CA9C3694F19-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:37543, s1|localhost:42651, s2|localhost:40057]|listeners:[], old=null RUNNING
2023-12-07 16:29:39,578 [Time-limited test] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(119)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-1CA9C3694F19:t0, leader=null, voted=, raftlog=Memoized:s0@group-1CA9C3694F19-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:37543, s1|localhost:42651, s2|localhost:40057]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-1CA9C3694F19:t0, leader=null, voted=, raftlog=Memoized:s1@group-1CA9C3694F19-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:37543, s1|localhost:42651, s2|localhost:40057]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-1CA9C3694F19:t0, leader=null, voted=, raftlog=Memoized:s2@group-1CA9C3694F19-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:37543, s1|localhost:42651, s2|localhost:40057]|listeners:[], old=null RUNNING
2023-12-07 16:29:39,746 [s2@group-1CA9C3694F19-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-1CA9C3694F19-FollowerState: change to CANDIDATE, lastRpcElapsedTime:171360370ns, electionTimeout:171ms
2023-12-07 16:29:39,746 [s2@group-1CA9C3694F19-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-1CA9C3694F19-FollowerState
2023-12-07 16:29:39,746 [s2@group-1CA9C3694F19-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-1CA9C3694F19: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-12-07 16:29:39,747 [s2@group-1CA9C3694F19-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-12-07 16:29:39,747 [s2@group-1CA9C3694F19-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-1CA9C3694F19-LeaderElection6
2023-12-07 16:29:39,747 [s2@group-1CA9C3694F19-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s2@group-1CA9C3694F19-LeaderElection6 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|localhost:37543, s1|localhost:42651, s2|localhost:40057]|listeners:[], old=null
2023-12-07 16:29:39,747 [s2@group-1CA9C3694F19-LeaderElection6-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s0
2023-12-07 16:29:39,747 [s2@group-1CA9C3694F19-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:39,747 [s2@group-1CA9C3694F19-LeaderElection6-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s1
2023-12-07 16:29:39,748 [s2@group-1CA9C3694F19-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:39,752 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s0@group-1CA9C3694F19: receive requestVote(PRE_VOTE, s2, group-1CA9C3694F19, 0, (t:0, i:0))
2023-12-07 16:29:39,752 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-1CA9C3694F19-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-12-07 16:29:39,752 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s0@group-1CA9C3694F19 replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-1CA9C3694F19:t0, leader=null, voted=, raftlog=Memoized:s0@group-1CA9C3694F19-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:37543, s1|localhost:42651, s2|localhost:40057]|listeners:[], old=null
2023-12-07 16:29:39,753 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s1@group-1CA9C3694F19: receive requestVote(PRE_VOTE, s2, group-1CA9C3694F19, 0, (t:0, i:0))
2023-12-07 16:29:39,753 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-1CA9C3694F19-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-12-07 16:29:39,753 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s1@group-1CA9C3694F19 replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-1CA9C3694F19:t0, leader=null, voted=, raftlog=Memoized:s1@group-1CA9C3694F19-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:37543, s1|localhost:42651, s2|localhost:40057]|listeners:[], old=null
2023-12-07 16:29:39,754 [s2@group-1CA9C3694F19-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-1CA9C3694F19-LeaderElection6: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-12-07 16:29:39,754 [s2@group-1CA9C3694F19-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t0
2023-12-07 16:29:39,754 [s2@group-1CA9C3694F19-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s2@group-1CA9C3694F19-LeaderElection6 PRE_VOTE round 0: result PASSED
2023-12-07 16:29:39,754 [s2@group-1CA9C3694F19-LeaderElection6] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s2/25f5df8e-dedc-4ea6-b11d-1ca9c3694f19/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@43fd1efe
2023-12-07 16:29:39,755 [s2@group-1CA9C3694F19-LeaderElection6] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s2/25f5df8e-dedc-4ea6-b11d-1ca9c3694f19/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s2/25f5df8e-dedc-4ea6-b11d-1ca9c3694f19/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:39,755 [s2@group-1CA9C3694F19-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s2@group-1CA9C3694F19-LeaderElection6 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|localhost:37543, s1|localhost:42651, s2|localhost:40057]|listeners:[], old=null
2023-12-07 16:29:39,755 [s2@group-1CA9C3694F19-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:39,755 [s2@group-1CA9C3694F19-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:39,756 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s0@group-1CA9C3694F19: receive requestVote(ELECTION, s2, group-1CA9C3694F19, 1, (t:0, i:0))
2023-12-07 16:29:39,758 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-1CA9C3694F19-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2023-12-07 16:29:39,758 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-1CA9C3694F19: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2023-12-07 16:29:39,758 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-1CA9C3694F19-FollowerState
2023-12-07 16:29:39,758 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-1CA9C3694F19-FollowerState
2023-12-07 16:29:39,758 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(564)) - s0@group-1CA9C3694F19: set firstElectionSinceStartup to false for candidate:s2
2023-12-07 16:29:39,758 [grpc-default-executor-5] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s0/25f5df8e-dedc-4ea6-b11d-1ca9c3694f19/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@38204365
2023-12-07 16:29:39,759 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s1@group-1CA9C3694F19: receive requestVote(ELECTION, s2, group-1CA9C3694F19, 1, (t:0, i:0))
2023-12-07 16:29:39,759 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-1CA9C3694F19-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2023-12-07 16:29:39,759 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-1CA9C3694F19: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2023-12-07 16:29:39,759 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-1CA9C3694F19-FollowerState
2023-12-07 16:29:39,759 [s1@group-1CA9C3694F19-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-1CA9C3694F19-FollowerState was interrupted
2023-12-07 16:29:39,759 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-1CA9C3694F19-FollowerState
2023-12-07 16:29:39,759 [s0@group-1CA9C3694F19-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-1CA9C3694F19-FollowerState was interrupted
2023-12-07 16:29:39,759 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(564)) - s1@group-1CA9C3694F19: set firstElectionSinceStartup to false for candidate:s2
2023-12-07 16:29:39,760 [grpc-default-executor-3] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s1/25f5df8e-dedc-4ea6-b11d-1ca9c3694f19/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1c07b809
2023-12-07 16:29:39,760 [grpc-default-executor-3] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s1/25f5df8e-dedc-4ea6-b11d-1ca9c3694f19/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s1/25f5df8e-dedc-4ea6-b11d-1ca9c3694f19/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:39,761 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s1@group-1CA9C3694F19 replies to ELECTION vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-1CA9C3694F19:t1, leader=null, voted=s2, raftlog=Memoized:s1@group-1CA9C3694F19-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:37543, s1|localhost:42651, s2|localhost:40057]|listeners:[], old=null
2023-12-07 16:29:39,761 [s2@group-1CA9C3694F19-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-1CA9C3694F19-LeaderElection6: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-12-07 16:29:39,761 [s2@group-1CA9C3694F19-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s1#0:OK-t1
2023-12-07 16:29:39,761 [s2@group-1CA9C3694F19-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s2@group-1CA9C3694F19-LeaderElection6 ELECTION round 0: result PASSED
2023-12-07 16:29:39,761 [s2@group-1CA9C3694F19-LeaderElection6] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-1CA9C3694F19-LeaderElection6
2023-12-07 16:29:39,761 [grpc-default-executor-5] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s0/25f5df8e-dedc-4ea6-b11d-1ca9c3694f19/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s0/25f5df8e-dedc-4ea6-b11d-1ca9c3694f19/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:39,761 [s2@group-1CA9C3694F19-LeaderElection6] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-1CA9C3694F19: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-12-07 16:29:39,761 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s0@group-1CA9C3694F19 replies to ELECTION vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-1CA9C3694F19:t1, leader=null, voted=s2, raftlog=Memoized:s0@group-1CA9C3694F19-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:37543, s1|localhost:42651, s2|localhost:40057]|listeners:[], old=null
2023-12-07 16:29:39,761 [s2@group-1CA9C3694F19-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-12-07 16:29:39,762 [s2@group-1CA9C3694F19-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-12-07 16:29:39,762 [s2@group-1CA9C3694F19-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2023-12-07 16:29:39,762 [s2@group-1CA9C3694F19-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-12-07 16:29:39,762 [s2@group-1CA9C3694F19-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-12-07 16:29:39,762 [s2@group-1CA9C3694F19-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-12-07 16:29:39,762 [s2@group-1CA9C3694F19-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = true (custom)
2023-12-07 16:29:39,762 [s2@group-1CA9C3694F19-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2023-12-07 16:29:39,762 [s2@group-1CA9C3694F19-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-12-07 16:29:39,762 [s2@group-1CA9C3694F19-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-12-07 16:29:39,762 [s2@group-1CA9C3694F19-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-12-07 16:29:39,763 [s2@group-1CA9C3694F19-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-12-07 16:29:39,763 [s2@group-1CA9C3694F19-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:39,763 [s2@group-1CA9C3694F19-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-12-07 16:29:39,763 [s2@group-1CA9C3694F19-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2023-12-07 16:29:39,763 [s2@group-1CA9C3694F19-LeaderElection6] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2023-12-07 16:29:39,763 [s2@group-1CA9C3694F19-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:39,763 [s2@group-1CA9C3694F19-LeaderElection6] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2023-12-07 16:29:39,763 [s2@group-1CA9C3694F19-LeaderElection6] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2023-12-07 16:29:39,763 [s2@group-1CA9C3694F19-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:39,763 [s2@group-1CA9C3694F19-LeaderElection6] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:39,766 [s2@group-1CA9C3694F19-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-12-07 16:29:39,766 [s2@group-1CA9C3694F19-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:39,766 [s2@group-1CA9C3694F19-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-12-07 16:29:39,766 [s2@group-1CA9C3694F19-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2023-12-07 16:29:39,766 [s2@group-1CA9C3694F19-LeaderElection6] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2023-12-07 16:29:39,766 [s2@group-1CA9C3694F19-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:39,766 [s2@group-1CA9C3694F19-LeaderElection6] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2023-12-07 16:29:39,766 [s2@group-1CA9C3694F19-LeaderElection6] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2023-12-07 16:29:39,766 [s2@group-1CA9C3694F19-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:39,766 [s2@group-1CA9C3694F19-LeaderElection6] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:39,767 [s2@group-1CA9C3694F19-LeaderElection6] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-1CA9C3694F19-LeaderStateImpl
2023-12-07 16:29:39,767 [s2@group-1CA9C3694F19-LeaderElection6] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(564)) - s2@group-1CA9C3694F19: set firstElectionSinceStartup to false for becomeLeader
2023-12-07 16:29:39,767 [s2@group-1CA9C3694F19-LeaderElection6] INFO  server.RaftServer$Division (ServerState.java:setLeader(265)) - s2@group-1CA9C3694F19: change Leader from null to s2 at term 1 for becomeLeader, leader elected after 225ms
2023-12-07 16:29:39,767 [s2@group-1CA9C3694F19-LeaderElection6] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s2@group-1CA9C3694F19-SegmentedRaftLogWorker: Starting segment from index:0
2023-12-07 16:29:39,767 [s2@group-1CA9C3694F19-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2023-12-07 16:29:39,767 [s2@group-1CA9C3694F19-LeaderElection6] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(382)) - s2@group-1CA9C3694F19: set configuration 0: peers:[s0|localhost:37543, s1|localhost:42651, s2|localhost:40057]|listeners:[], old=null
2023-12-07 16:29:39,774 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(265)) - s0@group-1CA9C3694F19: change Leader from null to s2 at term 1 for appendEntries, leader elected after 240ms
2023-12-07 16:29:39,775 [s2@group-1CA9C3694F19-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s2@group-1CA9C3694F19-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s2/25f5df8e-dedc-4ea6-b11d-1ca9c3694f19/current/log_inprogress_0
2023-12-07 16:29:39,779 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(265)) - s1@group-1CA9C3694F19: change Leader from null to s2 at term 1 for appendEntries, leader elected after 242ms
2023-12-07 16:29:39,781 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-1CA9C3694F19: receive appendEntries(s2, 1, null, -1, true, commits:[s2:c-1, s0:c-1, s1:c-1], cId:1, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37543"
dataStreamAddress: "localhost:36775"
clientAddress: "localhost:45591"
adminAddress: "localhost:36695"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42651"
dataStreamAddress: "localhost:44049"
clientAddress: "localhost:41939"
adminAddress: "localhost:37665"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40057"
dataStreamAddress: "localhost:37307"
clientAddress: "localhost:44397"
adminAddress: "localhost:36243"
startupRole: FOLLOWER
, old:)]
2023-12-07 16:29:39,781 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-1CA9C3694F19: receive appendEntries(s2, 1, null, -1, true, commits:[s2:c-1, s0:c-1, s1:c-1], cId:1, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37543"
dataStreamAddress: "localhost:36775"
clientAddress: "localhost:45591"
adminAddress: "localhost:36695"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42651"
dataStreamAddress: "localhost:44049"
clientAddress: "localhost:41939"
adminAddress: "localhost:37665"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:40057"
dataStreamAddress: "localhost:37307"
clientAddress: "localhost:44397"
adminAddress: "localhost:36243"
startupRole: FOLLOWER
, old:)]
2023-12-07 16:29:39,786 [s1-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(382)) - s1@group-1CA9C3694F19: set configuration 0: peers:[s0|localhost:37543, s1|localhost:42651, s2|localhost:40057]|listeners:[], old=null
2023-12-07 16:29:39,786 [s0-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(382)) - s0@group-1CA9C3694F19: set configuration 0: peers:[s0|localhost:37543, s1|localhost:42651, s2|localhost:40057]|listeners:[], old=null
2023-12-07 16:29:39,786 [s1-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s1@group-1CA9C3694F19-SegmentedRaftLogWorker: Starting segment from index:0
2023-12-07 16:29:39,786 [s0-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s0@group-1CA9C3694F19-SegmentedRaftLogWorker: Starting segment from index:0
2023-12-07 16:29:39,786 [s1@group-1CA9C3694F19-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2023-12-07 16:29:39,786 [s0@group-1CA9C3694F19-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2023-12-07 16:29:39,796 [s1@group-1CA9C3694F19-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s1@group-1CA9C3694F19-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s1/25f5df8e-dedc-4ea6-b11d-1ca9c3694f19/current/log_inprogress_0
2023-12-07 16:29:39,796 [s0@group-1CA9C3694F19-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s0@group-1CA9C3694F19-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s0/25f5df8e-dedc-4ea6-b11d-1ca9c3694f19/current/log_inprogress_0
2023-12-07 16:29:39,797 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-1CA9C3694F19: succeeded to handle AppendEntries. Reply: s2<-s1#1:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-12-07 16:29:39,797 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-1CA9C3694F19: succeeded to handle AppendEntries. Reply: s2<-s0#1:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-12-07 16:29:39,798 [s2@group-1CA9C3694F19-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s2/25f5df8e-dedc-4ea6-b11d-1ca9c3694f19/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@47cca4ae
2023-12-07 16:29:39,799 [s2@group-1CA9C3694F19-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s2/25f5df8e-dedc-4ea6-b11d-1ca9c3694f19/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s2/25f5df8e-dedc-4ea6-b11d-1ca9c3694f19/current/raft-meta.conf with options [REPLACE_EXISTING]
2023-12-07 16:29:39,799 [s2@group-1CA9C3694F19-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:isApplied(320)) - leader is ready since appliedIndex == 0 >= startIndex == 0
2023-12-07 16:29:39,876 [s0@group-1CA9C3694F19-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s0/25f5df8e-dedc-4ea6-b11d-1ca9c3694f19/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4e57c495
2023-12-07 16:29:39,876 [s1@group-1CA9C3694F19-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s1/25f5df8e-dedc-4ea6-b11d-1ca9c3694f19/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@266fb1e
2023-12-07 16:29:39,878 [s1@group-1CA9C3694F19-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s1/25f5df8e-dedc-4ea6-b11d-1ca9c3694f19/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s1/25f5df8e-dedc-4ea6-b11d-1ca9c3694f19/current/raft-meta.conf with options [REPLACE_EXISTING]
2023-12-07 16:29:39,878 [s0@group-1CA9C3694F19-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s0/25f5df8e-dedc-4ea6-b11d-1ca9c3694f19/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc78bbcf1b/s0/25f5df8e-dedc-4ea6-b11d-1ca9c3694f19/current/raft-meta.conf with options [REPLACE_EXISTING]
2023-12-07 16:29:40,028 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-1CA9C3694F19:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-1CA9C3694F19-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:37543, s1|localhost:42651, s2|localhost:40057]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-1CA9C3694F19:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-1CA9C3694F19-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:37543, s1|localhost:42651, s2|localhost:40057]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-1CA9C3694F19:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-1CA9C3694F19-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:37543, s1|localhost:42651, s2|localhost:40057]|listeners:[], old=null RUNNING
2023-12-07 16:29:40,034 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-1CA9C3694F19: receive client request(RaftClientRequest:client-2B65000C2E4C->s2@group-1CA9C3694F19, cid=36, seq=null, RW, Message:494e4352454d454e54)
2023-12-07 16:29:40,035 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s2@group-1CA9C3694F19-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-2B65000C2E4C->s2@group-1CA9C3694F19, cid=36, seq=null, RW, Message:494e4352454d454e54, entry=(t:1, i:1), STATEMACHINELOGENTRY, 36@client-2B65000C2E4C
2023-12-07 16:29:40,036 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-1CA9C3694F19: receive appendEntries(s2, 1, (t:1, i:0), 0, true, commits:[s2:c0, s0:c0, s1:c0], cId:7, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 36@client-2B65000C2E4C]
2023-12-07 16:29:40,036 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-1CA9C3694F19: receive appendEntries(s2, 1, (t:1, i:0), 0, true, commits:[s2:c0, s0:c0, s1:c0], cId:6, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 36@client-2B65000C2E4C]
2023-12-07 16:29:40,036 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-1CA9C3694F19: succeeded to handle AppendEntries. Reply: s2<-s0#7:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2023-12-07 16:29:40,037 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-1CA9C3694F19: succeeded to handle AppendEntries. Reply: s2<-s1#6:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2023-12-07 16:29:40,037 [s2@group-1CA9C3694F19-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:40,038 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-1CA9C3694F19: receive appendEntries(s2, 1, (t:1, i:1), 1, true, commits:[s2:c1, s0:c0, s1:c0], cId:7, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2023-12-07 16:29:40,039 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-1CA9C3694F19: receive appendEntries(s2, 1, (t:1, i:1), 1, true, commits:[s2:c1, s0:c0, s1:c0], cId:8, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2023-12-07 16:29:40,039 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-1CA9C3694F19: succeeded to handle AppendEntries. Reply: s2<-s1#7:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2023-12-07 16:29:40,039 [s1@group-1CA9C3694F19-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:40,042 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-1CA9C3694F19: succeeded to handle AppendEntries. Reply: s2<-s0#8:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2023-12-07 16:29:40,043 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-1CA9C3694F19: receive client request(RaftClientRequest:client-2B65000C2E4C->s2@group-1CA9C3694F19, cid=37, seq=null, RO, Message:5155455259)
2023-12-07 16:29:40,043 [s0@group-1CA9C3694F19-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:40,043 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=2, readAfterWriteConsistentIndex=null
2023-12-07 16:29:40,048 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-1CA9C3694F19: receive client request(RaftClientRequest:client-2B65000C2E4C->s2@group-1CA9C3694F19, cid=38, seq=null, RW, Message:494e4352454d454e54)
2023-12-07 16:29:40,049 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s2@group-1CA9C3694F19-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-2B65000C2E4C->s2@group-1CA9C3694F19, cid=38, seq=null, RW, Message:494e4352454d454e54, entry=(t:1, i:3), STATEMACHINELOGENTRY, 38@client-2B65000C2E4C
2023-12-07 16:29:40,050 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-1CA9C3694F19: receive appendEntries(s2, 1, (t:1, i:2), 2, true, commits:[s2:c2, s0:c1, s1:c1], cId:11, entries: [(t:1, i:3), STATEMACHINELOGENTRY, 38@client-2B65000C2E4C]
2023-12-07 16:29:40,050 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-1CA9C3694F19: receive appendEntries(s2, 1, (t:1, i:2), 2, true, commits:[s2:c2, s0:c1, s1:c1], cId:10, entries: [(t:1, i:3), STATEMACHINELOGENTRY, 38@client-2B65000C2E4C]
2023-12-07 16:29:40,050 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-1CA9C3694F19: succeeded to handle AppendEntries. Reply: s2<-s0#11:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2023-12-07 16:29:40,050 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-1CA9C3694F19: succeeded to handle AppendEntries. Reply: s2<-s1#10:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2023-12-07 16:29:40,051 [s2@group-1CA9C3694F19-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:40,052 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-1CA9C3694F19: receive appendEntries(s2, 1, (t:1, i:3), 3, true, commits:[s2:c3, s0:c2, s1:c2], cId:12, entries: [(t:1, i:4), METADATAENTRY(c:3)]
2023-12-07 16:29:40,052 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-1CA9C3694F19: succeeded to handle AppendEntries. Reply: s2<-s0#12:OK-t1,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2023-12-07 16:29:40,052 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-1CA9C3694F19: receive appendEntries(s2, 1, (t:1, i:3), 3, true, commits:[s2:c3, s0:c2, s1:c2], cId:11, entries: [(t:1, i:4), METADATAENTRY(c:3)]
2023-12-07 16:29:40,052 [s0@group-1CA9C3694F19-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:40,053 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-1CA9C3694F19: succeeded to handle AppendEntries. Reply: s2<-s1#11:OK-t1,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2023-12-07 16:29:40,053 [s1@group-1CA9C3694F19-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:40,054 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-1CA9C3694F19: receive client request(RaftClientRequest:client-2B65000C2E4C->s2@group-1CA9C3694F19, cid=39, seq=null, RO, Message:5155455259)
2023-12-07 16:29:40,054 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=4, readAfterWriteConsistentIndex=null
2023-12-07 16:29:40,056 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-1CA9C3694F19: receive client request(RaftClientRequest:client-2B65000C2E4C->s2@group-1CA9C3694F19, cid=40, seq=null, RW, Message:494e4352454d454e54)
2023-12-07 16:29:40,056 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s2@group-1CA9C3694F19-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-2B65000C2E4C->s2@group-1CA9C3694F19, cid=40, seq=null, RW, Message:494e4352454d454e54, entry=(t:1, i:5), STATEMACHINELOGENTRY, 40@client-2B65000C2E4C
2023-12-07 16:29:40,057 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-1CA9C3694F19: receive appendEntries(s2, 1, (t:1, i:4), 4, true, commits:[s2:c4, s0:c3, s1:c3], cId:15, entries: [(t:1, i:5), STATEMACHINELOGENTRY, 40@client-2B65000C2E4C]
2023-12-07 16:29:40,057 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-1CA9C3694F19: receive appendEntries(s2, 1, (t:1, i:4), 4, true, commits:[s2:c4, s0:c3, s1:c3], cId:15, entries: [(t:1, i:5), STATEMACHINELOGENTRY, 40@client-2B65000C2E4C]
2023-12-07 16:29:40,057 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-1CA9C3694F19: succeeded to handle AppendEntries. Reply: s2<-s1#15:OK-t1,SUCCESS,nextIndex=6,followerCommit=4,matchIndex=5
2023-12-07 16:29:40,057 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-1CA9C3694F19: succeeded to handle AppendEntries. Reply: s2<-s0#15:OK-t1,SUCCESS,nextIndex=6,followerCommit=4,matchIndex=5
2023-12-07 16:29:40,058 [s2@group-1CA9C3694F19-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:40,059 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-1CA9C3694F19: receive appendEntries(s2, 1, (t:1, i:5), 5, true, commits:[s2:c5, s0:c4, s1:c4], cId:17, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2023-12-07 16:29:40,059 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-1CA9C3694F19: receive appendEntries(s2, 1, (t:1, i:5), 5, true, commits:[s2:c5, s0:c4, s1:c4], cId:16, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2023-12-07 16:29:40,060 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-1CA9C3694F19: succeeded to handle AppendEntries. Reply: s2<-s1#17:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2023-12-07 16:29:40,060 [s1@group-1CA9C3694F19-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:40,060 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-1CA9C3694F19: succeeded to handle AppendEntries. Reply: s2<-s0#16:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2023-12-07 16:29:40,060 [s0@group-1CA9C3694F19-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:40,062 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-1CA9C3694F19: receive client request(RaftClientRequest:client-2B65000C2E4C->s2@group-1CA9C3694F19, cid=41, seq=null, RO, Message:5155455259)
2023-12-07 16:29:40,062 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=6, readAfterWriteConsistentIndex=null
2023-12-07 16:29:40,064 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-1CA9C3694F19: receive client request(RaftClientRequest:client-2B65000C2E4C->s2@group-1CA9C3694F19, cid=42, seq=null, RW, Message:494e4352454d454e54)
2023-12-07 16:29:40,064 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s2@group-1CA9C3694F19-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-2B65000C2E4C->s2@group-1CA9C3694F19, cid=42, seq=null, RW, Message:494e4352454d454e54, entry=(t:1, i:7), STATEMACHINELOGENTRY, 42@client-2B65000C2E4C
2023-12-07 16:29:40,065 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-1CA9C3694F19: receive appendEntries(s2, 1, (t:1, i:6), 6, true, commits:[s2:c6, s0:c5, s1:c5], cId:19, entries: [(t:1, i:7), STATEMACHINELOGENTRY, 42@client-2B65000C2E4C]
2023-12-07 16:29:40,065 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-1CA9C3694F19: receive appendEntries(s2, 1, (t:1, i:6), 6, true, commits:[s2:c6, s0:c5, s1:c5], cId:21, entries: [(t:1, i:7), STATEMACHINELOGENTRY, 42@client-2B65000C2E4C]
2023-12-07 16:29:40,066 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-1CA9C3694F19: succeeded to handle AppendEntries. Reply: s2<-s0#19:OK-t1,SUCCESS,nextIndex=8,followerCommit=6,matchIndex=7
2023-12-07 16:29:40,066 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-1CA9C3694F19: succeeded to handle AppendEntries. Reply: s2<-s1#21:OK-t1,SUCCESS,nextIndex=8,followerCommit=6,matchIndex=7
2023-12-07 16:29:40,067 [s2@group-1CA9C3694F19-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:40,068 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-1CA9C3694F19: receive appendEntries(s2, 1, (t:1, i:7), 7, true, commits:[s2:c7, s0:c6, s1:c5], cId:20, entries: [(t:1, i:8), METADATAENTRY(c:7)]
2023-12-07 16:29:40,068 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-1CA9C3694F19: receive appendEntries(s2, 1, (t:1, i:7), 7, true, commits:[s2:c7, s0:c6, s1:c5], cId:22, entries: [(t:1, i:8), METADATAENTRY(c:7)]
2023-12-07 16:29:40,068 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-1CA9C3694F19: succeeded to handle AppendEntries. Reply: s2<-s0#20:OK-t1,SUCCESS,nextIndex=9,followerCommit=7,matchIndex=8
2023-12-07 16:29:40,069 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-1CA9C3694F19: succeeded to handle AppendEntries. Reply: s2<-s1#22:OK-t1,SUCCESS,nextIndex=9,followerCommit=7,matchIndex=8
2023-12-07 16:29:40,069 [s0@group-1CA9C3694F19-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:40,069 [s1@group-1CA9C3694F19-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:40,070 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-1CA9C3694F19: receive client request(RaftClientRequest:client-2B65000C2E4C->s2@group-1CA9C3694F19, cid=43, seq=null, RO, Message:5155455259)
2023-12-07 16:29:40,070 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=8, readAfterWriteConsistentIndex=null
2023-12-07 16:29:40,071 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-1CA9C3694F19: receive client request(RaftClientRequest:client-2B65000C2E4C->s2@group-1CA9C3694F19, cid=44, seq=null, RW, Message:494e4352454d454e54)
2023-12-07 16:29:40,072 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s2@group-1CA9C3694F19-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-2B65000C2E4C->s2@group-1CA9C3694F19, cid=44, seq=null, RW, Message:494e4352454d454e54, entry=(t:1, i:9), STATEMACHINELOGENTRY, 44@client-2B65000C2E4C
2023-12-07 16:29:40,073 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-1CA9C3694F19: receive appendEntries(s2, 1, (t:1, i:8), 8, true, commits:[s2:c8, s0:c7, s1:c7], cId:25, entries: [(t:1, i:9), STATEMACHINELOGENTRY, 44@client-2B65000C2E4C]
2023-12-07 16:29:40,073 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-1CA9C3694F19: receive appendEntries(s2, 1, (t:1, i:8), 8, true, commits:[s2:c8, s0:c7, s1:c7], cId:24, entries: [(t:1, i:9), STATEMACHINELOGENTRY, 44@client-2B65000C2E4C]
2023-12-07 16:29:40,073 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-1CA9C3694F19: succeeded to handle AppendEntries. Reply: s2<-s1#25:OK-t1,SUCCESS,nextIndex=10,followerCommit=8,matchIndex=9
2023-12-07 16:29:40,073 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-1CA9C3694F19: succeeded to handle AppendEntries. Reply: s2<-s0#24:OK-t1,SUCCESS,nextIndex=10,followerCommit=8,matchIndex=9
2023-12-07 16:29:40,074 [s2@group-1CA9C3694F19-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:40,075 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-1CA9C3694F19: receive appendEntries(s2, 1, (t:1, i:9), 9, true, commits:[s2:c9, s0:c8, s1:c8], cId:26, entries: [(t:1, i:10), METADATAENTRY(c:9)]
2023-12-07 16:29:40,075 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-1CA9C3694F19: receive appendEntries(s2, 1, (t:1, i:9), 9, true, commits:[s2:c9, s0:c8, s1:c8], cId:26, entries: [(t:1, i:10), METADATAENTRY(c:9)]
2023-12-07 16:29:40,076 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-1CA9C3694F19: succeeded to handle AppendEntries. Reply: s2<-s1#26:OK-t1,SUCCESS,nextIndex=11,followerCommit=9,matchIndex=10
2023-12-07 16:29:40,076 [s1@group-1CA9C3694F19-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:40,076 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-1CA9C3694F19: succeeded to handle AppendEntries. Reply: s2<-s0#26:OK-t1,SUCCESS,nextIndex=11,followerCommit=9,matchIndex=10
2023-12-07 16:29:40,076 [s0@group-1CA9C3694F19-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:40,078 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-1CA9C3694F19: receive client request(RaftClientRequest:client-2B65000C2E4C->s2@group-1CA9C3694F19, cid=45, seq=null, RO, Message:5155455259)
2023-12-07 16:29:40,078 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=10, readAfterWriteConsistentIndex=null
2023-12-07 16:29:40,080 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-1CA9C3694F19: receive client request(RaftClientRequest:client-2B65000C2E4C->s2@group-1CA9C3694F19, cid=46, seq=null, RW, Message:494e4352454d454e54)
2023-12-07 16:29:40,081 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s2@group-1CA9C3694F19-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-2B65000C2E4C->s2@group-1CA9C3694F19, cid=46, seq=null, RW, Message:494e4352454d454e54, entry=(t:1, i:11), STATEMACHINELOGENTRY, 46@client-2B65000C2E4C
2023-12-07 16:29:40,081 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-1CA9C3694F19: receive appendEntries(s2, 1, (t:1, i:10), 10, true, commits:[s2:c10, s0:c9, s1:c9], cId:31, entries: [(t:1, i:11), STATEMACHINELOGENTRY, 46@client-2B65000C2E4C]
2023-12-07 16:29:40,082 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-1CA9C3694F19: receive appendEntries(s2, 1, (t:1, i:10), 10, true, commits:[s2:c10, s0:c9, s1:c9], cId:31, entries: [(t:1, i:11), STATEMACHINELOGENTRY, 46@client-2B65000C2E4C]
2023-12-07 16:29:40,082 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-1CA9C3694F19: succeeded to handle AppendEntries. Reply: s2<-s0#31:OK-t1,SUCCESS,nextIndex=12,followerCommit=10,matchIndex=11
2023-12-07 16:29:40,082 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-1CA9C3694F19: succeeded to handle AppendEntries. Reply: s2<-s1#31:OK-t1,SUCCESS,nextIndex=12,followerCommit=10,matchIndex=11
2023-12-07 16:29:40,083 [s2@group-1CA9C3694F19-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:40,084 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-1CA9C3694F19: receive appendEntries(s2, 1, (t:1, i:11), 11, true, commits:[s2:c11, s0:c10, s1:c10], cId:32, entries: [(t:1, i:12), METADATAENTRY(c:11)]
2023-12-07 16:29:40,084 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-1CA9C3694F19: succeeded to handle AppendEntries. Reply: s2<-s1#32:OK-t1,SUCCESS,nextIndex=13,followerCommit=11,matchIndex=12
2023-12-07 16:29:40,084 [s1@group-1CA9C3694F19-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:40,085 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-1CA9C3694F19: receive appendEntries(s2, 1, (t:1, i:11), 11, true, commits:[s2:c11, s0:c10, s1:c10], cId:32, entries: [(t:1, i:12), METADATAENTRY(c:11)]
2023-12-07 16:29:40,086 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-1CA9C3694F19: succeeded to handle AppendEntries. Reply: s2<-s0#32:OK-t1,SUCCESS,nextIndex=13,followerCommit=11,matchIndex=12
2023-12-07 16:29:40,086 [s0@group-1CA9C3694F19-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:40,086 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-1CA9C3694F19: receive client request(RaftClientRequest:client-2B65000C2E4C->s2@group-1CA9C3694F19, cid=47, seq=null, RO, Message:5155455259)
2023-12-07 16:29:40,086 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=12, readAfterWriteConsistentIndex=null
2023-12-07 16:29:40,088 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-1CA9C3694F19: receive client request(RaftClientRequest:client-2B65000C2E4C->s2@group-1CA9C3694F19, cid=48, seq=null, RW, Message:494e4352454d454e54)
2023-12-07 16:29:40,088 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s2@group-1CA9C3694F19-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-2B65000C2E4C->s2@group-1CA9C3694F19, cid=48, seq=null, RW, Message:494e4352454d454e54, entry=(t:1, i:13), STATEMACHINELOGENTRY, 48@client-2B65000C2E4C
2023-12-07 16:29:40,089 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-1CA9C3694F19: receive appendEntries(s2, 1, (t:1, i:12), 12, true, commits:[s2:c12, s0:c11, s1:c11], cId:36, entries: [(t:1, i:13), STATEMACHINELOGENTRY, 48@client-2B65000C2E4C]
2023-12-07 16:29:40,089 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-1CA9C3694F19: receive appendEntries(s2, 1, (t:1, i:12), 12, true, commits:[s2:c12, s0:c11, s1:c11], cId:35, entries: [(t:1, i:13), STATEMACHINELOGENTRY, 48@client-2B65000C2E4C]
2023-12-07 16:29:40,089 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-1CA9C3694F19: succeeded to handle AppendEntries. Reply: s2<-s0#36:OK-t1,SUCCESS,nextIndex=14,followerCommit=12,matchIndex=13
2023-12-07 16:29:40,090 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-1CA9C3694F19: succeeded to handle AppendEntries. Reply: s2<-s1#35:OK-t1,SUCCESS,nextIndex=14,followerCommit=12,matchIndex=13
2023-12-07 16:29:40,090 [s2@group-1CA9C3694F19-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:40,094 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-1CA9C3694F19: receive appendEntries(s2, 1, (t:1, i:13), 13, true, commits:[s2:c13, s0:c12, s1:c11], cId:37, entries: [(t:1, i:14), METADATAENTRY(c:13)]
2023-12-07 16:29:40,094 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-1CA9C3694F19: receive appendEntries(s2, 1, (t:1, i:13), 13, true, commits:[s2:c13, s0:c12, s1:c11], cId:37, entries: [(t:1, i:14), METADATAENTRY(c:13)]
2023-12-07 16:29:40,095 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-1CA9C3694F19: succeeded to handle AppendEntries. Reply: s2<-s0#37:OK-t1,SUCCESS,nextIndex=15,followerCommit=13,matchIndex=14
2023-12-07 16:29:40,095 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-1CA9C3694F19: succeeded to handle AppendEntries. Reply: s2<-s1#37:OK-t1,SUCCESS,nextIndex=15,followerCommit=13,matchIndex=14
2023-12-07 16:29:40,095 [s0@group-1CA9C3694F19-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:40,095 [s1@group-1CA9C3694F19-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:40,097 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-1CA9C3694F19: receive client request(RaftClientRequest:client-2B65000C2E4C->s2@group-1CA9C3694F19, cid=49, seq=null, RO, Message:5155455259)
2023-12-07 16:29:40,097 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=14, readAfterWriteConsistentIndex=null
2023-12-07 16:29:40,099 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-1CA9C3694F19: receive client request(RaftClientRequest:client-2B65000C2E4C->s2@group-1CA9C3694F19, cid=50, seq=null, RW, Message:494e4352454d454e54)
2023-12-07 16:29:40,099 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s2@group-1CA9C3694F19-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-2B65000C2E4C->s2@group-1CA9C3694F19, cid=50, seq=null, RW, Message:494e4352454d454e54, entry=(t:1, i:15), STATEMACHINELOGENTRY, 50@client-2B65000C2E4C
2023-12-07 16:29:40,100 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-1CA9C3694F19: receive appendEntries(s2, 1, (t:1, i:14), 14, true, commits:[s2:c14, s0:c13, s1:c13], cId:41, entries: [(t:1, i:15), STATEMACHINELOGENTRY, 50@client-2B65000C2E4C]
2023-12-07 16:29:40,100 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-1CA9C3694F19: receive appendEntries(s2, 1, (t:1, i:14), 14, true, commits:[s2:c14, s0:c13, s1:c13], cId:44, entries: [(t:1, i:15), STATEMACHINELOGENTRY, 50@client-2B65000C2E4C]
2023-12-07 16:29:40,100 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-1CA9C3694F19: succeeded to handle AppendEntries. Reply: s2<-s0#41:OK-t1,SUCCESS,nextIndex=16,followerCommit=14,matchIndex=15
2023-12-07 16:29:40,100 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-1CA9C3694F19: succeeded to handle AppendEntries. Reply: s2<-s1#44:OK-t1,SUCCESS,nextIndex=16,followerCommit=14,matchIndex=15
2023-12-07 16:29:40,101 [s2@group-1CA9C3694F19-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:40,104 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-1CA9C3694F19: receive appendEntries(s2, 1, (t:1, i:15), 15, true, commits:[s2:c15, s0:c14, s1:c13], cId:46, entries: [(t:1, i:16), METADATAENTRY(c:15)]
2023-12-07 16:29:40,104 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-1CA9C3694F19: receive appendEntries(s2, 1, (t:1, i:15), 15, true, commits:[s2:c15, s0:c14, s1:c13], cId:42, entries: [(t:1, i:16), METADATAENTRY(c:15)]
2023-12-07 16:29:40,105 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-1CA9C3694F19: succeeded to handle AppendEntries. Reply: s2<-s1#46:OK-t1,SUCCESS,nextIndex=17,followerCommit=15,matchIndex=16
2023-12-07 16:29:40,105 [s1@group-1CA9C3694F19-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:40,105 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-1CA9C3694F19: succeeded to handle AppendEntries. Reply: s2<-s0#42:OK-t1,SUCCESS,nextIndex=17,followerCommit=15,matchIndex=16
2023-12-07 16:29:40,105 [s0@group-1CA9C3694F19-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:40,106 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-1CA9C3694F19: receive client request(RaftClientRequest:client-2B65000C2E4C->s2@group-1CA9C3694F19, cid=51, seq=null, RO, Message:5155455259)
2023-12-07 16:29:40,106 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=16, readAfterWriteConsistentIndex=null
2023-12-07 16:29:40,108 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-1CA9C3694F19: receive client request(RaftClientRequest:client-2B65000C2E4C->s2@group-1CA9C3694F19, cid=52, seq=null, RW, Message:494e4352454d454e54)
2023-12-07 16:29:40,108 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s2@group-1CA9C3694F19-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-2B65000C2E4C->s2@group-1CA9C3694F19, cid=52, seq=null, RW, Message:494e4352454d454e54, entry=(t:1, i:17), STATEMACHINELOGENTRY, 52@client-2B65000C2E4C
2023-12-07 16:29:40,109 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-1CA9C3694F19: receive appendEntries(s2, 1, (t:1, i:16), 16, true, commits:[s2:c16, s0:c15, s1:c15], cId:45, entries: [(t:1, i:17), STATEMACHINELOGENTRY, 52@client-2B65000C2E4C]
2023-12-07 16:29:40,109 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-1CA9C3694F19: receive appendEntries(s2, 1, (t:1, i:16), 16, true, commits:[s2:c16, s0:c15, s1:c15], cId:51, entries: [(t:1, i:17), STATEMACHINELOGENTRY, 52@client-2B65000C2E4C]
2023-12-07 16:29:40,109 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-1CA9C3694F19: succeeded to handle AppendEntries. Reply: s2<-s0#45:OK-t1,SUCCESS,nextIndex=18,followerCommit=16,matchIndex=17
2023-12-07 16:29:40,110 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-1CA9C3694F19: succeeded to handle AppendEntries. Reply: s2<-s1#51:OK-t1,SUCCESS,nextIndex=18,followerCommit=16,matchIndex=17
2023-12-07 16:29:40,110 [s2@group-1CA9C3694F19-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:40,112 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-1CA9C3694F19: receive appendEntries(s2, 1, (t:1, i:17), 17, true, commits:[s2:c17, s0:c16, s1:c15], cId:46, entries: [(t:1, i:18), METADATAENTRY(c:17)]
2023-12-07 16:29:40,112 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-1CA9C3694F19: receive appendEntries(s2, 1, (t:1, i:17), 17, true, commits:[s2:c17, s0:c16, s1:c15], cId:52, entries: [(t:1, i:18), METADATAENTRY(c:17)]
2023-12-07 16:29:40,112 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-1CA9C3694F19: succeeded to handle AppendEntries. Reply: s2<-s0#46:OK-t1,SUCCESS,nextIndex=19,followerCommit=17,matchIndex=18
2023-12-07 16:29:40,112 [s0@group-1CA9C3694F19-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:40,112 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-1CA9C3694F19: succeeded to handle AppendEntries. Reply: s2<-s1#52:OK-t1,SUCCESS,nextIndex=19,followerCommit=17,matchIndex=18
2023-12-07 16:29:40,113 [s1@group-1CA9C3694F19-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:40,116 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-1CA9C3694F19: receive client request(RaftClientRequest:client-2B65000C2E4C->s2@group-1CA9C3694F19, cid=53, seq=null, RO, Message:5155455259)
2023-12-07 16:29:40,116 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=18, readAfterWriteConsistentIndex=null
2023-12-07 16:29:40,118 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-1CA9C3694F19: receive client request(RaftClientRequest:client-2B65000C2E4C->s2@group-1CA9C3694F19, cid=54, seq=null, RW, Message:494e4352454d454e54)
2023-12-07 16:29:40,118 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s2@group-1CA9C3694F19-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-2B65000C2E4C->s2@group-1CA9C3694F19, cid=54, seq=null, RW, Message:494e4352454d454e54, entry=(t:1, i:19), STATEMACHINELOGENTRY, 54@client-2B65000C2E4C
2023-12-07 16:29:40,119 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-1CA9C3694F19: receive appendEntries(s2, 1, (t:1, i:18), 18, true, commits:[s2:c18, s0:c17, s1:c17], cId:50, entries: [(t:1, i:19), STATEMACHINELOGENTRY, 54@client-2B65000C2E4C]
2023-12-07 16:29:40,119 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-1CA9C3694F19: receive appendEntries(s2, 1, (t:1, i:18), 18, true, commits:[s2:c18, s0:c17, s1:c17], cId:56, entries: [(t:1, i:19), STATEMACHINELOGENTRY, 54@client-2B65000C2E4C]
2023-12-07 16:29:40,119 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-1CA9C3694F19: succeeded to handle AppendEntries. Reply: s2<-s1#56:OK-t1,SUCCESS,nextIndex=20,followerCommit=18,matchIndex=19
2023-12-07 16:29:40,119 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-1CA9C3694F19: succeeded to handle AppendEntries. Reply: s2<-s0#50:OK-t1,SUCCESS,nextIndex=20,followerCommit=18,matchIndex=19
2023-12-07 16:29:40,120 [s2@group-1CA9C3694F19-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:40,121 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-1CA9C3694F19: receive appendEntries(s2, 1, (t:1, i:19), 19, true, commits:[s2:c19, s0:c18, s1:c17], cId:51, entries: [(t:1, i:20), METADATAENTRY(c:19)]
2023-12-07 16:29:40,121 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-1CA9C3694F19: succeeded to handle AppendEntries. Reply: s2<-s0#51:OK-t1,SUCCESS,nextIndex=21,followerCommit=19,matchIndex=20
2023-12-07 16:29:40,121 [s0@group-1CA9C3694F19-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:40,122 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-1CA9C3694F19: receive appendEntries(s2, 1, (t:1, i:19), 19, true, commits:[s2:c19, s0:c18, s1:c18], cId:58, entries: [(t:1, i:20), METADATAENTRY(c:19)]
2023-12-07 16:29:40,122 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-1CA9C3694F19: succeeded to handle AppendEntries. Reply: s2<-s1#58:OK-t1,SUCCESS,nextIndex=21,followerCommit=19,matchIndex=20
2023-12-07 16:29:40,122 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-1CA9C3694F19: receive client request(RaftClientRequest:client-2B65000C2E4C->s2@group-1CA9C3694F19, cid=55, seq=null, RO, Message:5155455259)
2023-12-07 16:29:40,122 [s1@group-1CA9C3694F19-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:40,122 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=19, readAfterWriteConsistentIndex=null
2023-12-07 16:29:40,125 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-12-07 16:29:40,125 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-12-07 16:29:40,125 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2023-12-07 16:29:40,125 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-12-07 16:29:40,125 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-12-07 16:29:40,125 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-1CA9C3694F19:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-1CA9C3694F19-SegmentedRaftLog:OPENED:c19, conf=0: peers:[s0|localhost:37543, s1|localhost:42651, s2|localhost:40057]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-1CA9C3694F19:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-1CA9C3694F19-SegmentedRaftLog:OPENED:c19, conf=0: peers:[s0|localhost:37543, s1|localhost:42651, s2|localhost:40057]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-1CA9C3694F19:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-1CA9C3694F19-SegmentedRaftLog:OPENED:c20, conf=0: peers:[s0|localhost:37543, s1|localhost:42651, s2|localhost:40057]|listeners:[], old=null RUNNING
2023-12-07 16:29:40,125 [MiniRaftCluster-13] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(416)) - s0: close
2023-12-07 16:29:40,129 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$3(516)) - s0@group-1CA9C3694F19: shutdown
2023-12-07 16:29:40,130 [MiniRaftCluster-15] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(416)) - s2: close
2023-12-07 16:29:40,130 [MiniRaftCluster-14] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(416)) - s1: close
2023-12-07 16:29:40,130 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$3(516)) - s2@group-1CA9C3694F19: shutdown
2023-12-07 16:29:40,131 [MiniRaftCluster-14] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-12-07 16:29:40,131 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-1CA9C3694F19,id=s2
2023-12-07 16:29:40,129 [MiniRaftCluster-13] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-12-07 16:29:40,131 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(94)) - s2: shutdown s2@group-1CA9C3694F19-LeaderStateImpl
2023-12-07 16:29:40,131 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$3(516)) - s1@group-1CA9C3694F19: shutdown
2023-12-07 16:29:40,130 [MiniRaftCluster-15] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-12-07 16:29:40,130 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-1CA9C3694F19,id=s0
2023-12-07 16:29:40,131 [s2@group-1CA9C3694F19->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(279)) - s2@group-1CA9C3694F19->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2023-12-07 16:29:40,131 [s2@group-1CA9C3694F19->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(279)) - s2@group-1CA9C3694F19->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2023-12-07 16:29:40,131 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-1CA9C3694F19,id=s1
2023-12-07 16:29:40,132 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-1CA9C3694F19-FollowerState
2023-12-07 16:29:40,132 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s1@group-1CA9C3694F19-StateMachineUpdater: set stopIndex = 19
2023-12-07 16:29:40,131 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-1CA9C3694F19-FollowerState
2023-12-07 16:29:40,132 [s0@group-1CA9C3694F19-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-1CA9C3694F19-FollowerState was interrupted
2023-12-07 16:29:40,132 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(157)) - s1: Completed APPEND_ENTRIES, lastRequest: null
2023-12-07 16:29:40,132 [s1@group-1CA9C3694F19-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-1CA9C3694F19-FollowerState was interrupted
2023-12-07 16:29:40,132 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(157)) - s1: Completed APPEND_ENTRIES, lastRequest: s2->s1#58-t1,previous=(t:1, i:19),leaderCommit=19,initializing? true,entries: size=1, first=(t:1, i:20), METADATAENTRY(c:19)
2023-12-07 16:29:40,132 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(423)) - s1@group-1CA9C3694F19: applyIndex: 19
2023-12-07 16:29:40,132 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$5(159)) - s1: Completed APPEND_ENTRIES, lastReply: null
2023-12-07 16:29:40,132 [s1@group-1CA9C3694F19-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s1@group-1CA9C3694F19-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2023-12-07 16:29:40,132 [MiniRaftCluster-14] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-12-07 16:29:40,132 [MiniRaftCluster-14] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server GrpcServerProtocolService now
2023-12-07 16:29:40,133 [grpc-default-executor-7] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(534)) - s2@group-1CA9C3694F19->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-12-07 16:29:40,133 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$5(159)) - s1: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s2"
  replyId: "s1"
  raftGroupId {
    id: "%\365\337\216\336\334N\246\261\035\034\251\303iO\031"
  }
  callId: 5
  success: true
}
term: 1
nextIndex: 1
matchIndex: 18446744073709551615
isHearbeat: true

2023-12-07 16:29:40,133 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s0@group-1CA9C3694F19-StateMachineUpdater: set stopIndex = 19
2023-12-07 16:29:40,133 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(157)) - s0: Completed APPEND_ENTRIES, lastRequest: null
2023-12-07 16:29:40,133 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(157)) - s0: Completed APPEND_ENTRIES, lastRequest: s2->s0#51-t1,previous=(t:1, i:19),leaderCommit=19,initializing? true,entries: size=1, first=(t:1, i:20), METADATAENTRY(c:19)
2023-12-07 16:29:40,133 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$5(159)) - s0: Completed APPEND_ENTRIES, lastReply: null
2023-12-07 16:29:40,133 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$5(159)) - s0: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s2"
  replyId: "s0"
  raftGroupId {
    id: "%\365\337\216\336\334N\246\261\035\034\251\303iO\031"
  }
  callId: 6
  success: true
}
term: 1
nextIndex: 1
matchIndex: 18446744073709551615
isHearbeat: true

2023-12-07 16:29:40,134 [grpc-default-executor-7] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(534)) - s2@group-1CA9C3694F19->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-12-07 16:29:40,134 [grpc-default-executor-3] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(534)) - s2@group-1CA9C3694F19->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-12-07 16:29:40,134 [MiniRaftCluster-13] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-12-07 16:29:40,134 [MiniRaftCluster-13] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server GrpcServerProtocolService now
2023-12-07 16:29:40,135 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(423)) - s0@group-1CA9C3694F19: applyIndex: 19
2023-12-07 16:29:40,135 [s0@group-1CA9C3694F19-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-1CA9C3694F19-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2023-12-07 16:29:40,131 [s2-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(289)) - s2@group-1CA9C3694F19-PendingRequests: sendNotLeaderResponses
2023-12-07 16:29:40,138 [Thread-238] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(103)) - s0 Close channels
2023-12-07 16:29:40,138 [grpc-default-executor-7] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(534)) - s2@group-1CA9C3694F19->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-12-07 16:29:40,138 [grpc-default-executor-7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(216)) - s2@group-1CA9C3694F19->s0-GrpcLogAppender: Failed to getClient for s0
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s2 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:65)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:114)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:188)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:193)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$700(GrpcLogAppender.java:61)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:535)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:40,139 [Thread-239] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(103)) - s1 Close channels
2023-12-07 16:29:40,139 [MiniRaftCluster-14] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server GrpcServerProtocolService successfully
2023-12-07 16:29:40,139 [MiniRaftCluster-14] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-12-07 16:29:40,140 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s2@group-1CA9C3694F19-StateMachineUpdater: set stopIndex = 20
2023-12-07 16:29:40,141 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(423)) - s2@group-1CA9C3694F19: applyIndex: 20
2023-12-07 16:29:40,141 [s2@group-1CA9C3694F19-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s2@group-1CA9C3694F19-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2023-12-07 16:29:40,141 [MiniRaftCluster-13] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server GrpcServerProtocolService successfully
2023-12-07 16:29:40,141 [MiniRaftCluster-13] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-12-07 16:29:40,146 [MiniRaftCluster-13] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-12-07 16:29:40,147 [MiniRaftCluster-15] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-12-07 16:29:40,147 [MiniRaftCluster-15] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server GrpcServerProtocolService now
2023-12-07 16:29:40,147 [MiniRaftCluster-14] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-12-07 16:29:40,147 [MiniRaftCluster-15] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server GrpcServerProtocolService successfully
2023-12-07 16:29:40,148 [MiniRaftCluster-15] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-12-07 16:29:40,148 [MiniRaftCluster-15] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-12-07 16:29:41,121 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s2@group-1CA9C3694F19-SegmentedRaftLogWorker close()
2023-12-07 16:29:41,122 [JvmPauseMonitor8] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s2: Stopped
2023-12-07 16:29:41,122 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s0@group-1CA9C3694F19-SegmentedRaftLogWorker close()
2023-12-07 16:29:41,123 [JvmPauseMonitor6] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2023-12-07 16:29:41,123 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s1@group-1CA9C3694F19-SegmentedRaftLogWorker close()
2023-12-07 16:29:41,124 [JvmPauseMonitor7] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s1: Stopped
2023-12-07 16:29:41,124 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2023-12-07 16:29:41,124 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-12-07 16:29:41,124 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-12-07 16:29:41,124 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2023-12-07 16:29:41,124 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-12-07 16:29:41,124 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-12-07 16:29:41,124 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:   CLOSED  FOLLOWER s0@group-1CA9C3694F19:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-1CA9C3694F19-SegmentedRaftLog:CLOSED:c19, conf=0: peers:[s0|localhost:37543, s1|localhost:42651, s2|localhost:40057]|listeners:[], old=null CLOSED
  s1:   CLOSED  FOLLOWER s1@group-1CA9C3694F19:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-1CA9C3694F19-SegmentedRaftLog:CLOSED:c19, conf=0: peers:[s0|localhost:37543, s1|localhost:42651, s2|localhost:40057]|listeners:[], old=null CLOSED
  s2:   CLOSED    LEADER s2@group-1CA9C3694F19:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-1CA9C3694F19-SegmentedRaftLog:CLOSED:c20, conf=0: peers:[s0|localhost:37543, s1|localhost:42651, s2|localhost:40057]|listeners:[], old=null CLOSED
2023-12-07 16:29:41,125 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2023-12-07 16:29:41,126 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-12-07 16:29:41,126 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-12-07 16:29:41,126 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2023-12-07 16:29:41,126 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2023-12-07 16:29:41,127 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-DA18F8DDBE69:[s0|localhost:43621, s1|localhost:36909, s2|localhost:35421]
2023-12-07 16:29:41,127 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-12-07 16:29:41,127 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-12-07 16:29:41,127 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2023-12-07 16:29:41,127 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-12-07 16:29:41,127 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-12-07 16:29:41,127 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-12-07 16:29:41,127 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-DA18F8DDBE69:[s0|localhost:43621, s1|localhost:36909, s2|localhost:35421], format? true
2023-12-07 16:29:41,127 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s0
2023-12-07 16:29:41,128 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s0 does not exist.
2023-12-07 16:29:41,128 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s0
2023-12-07 16:29:41,128 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-12-07 16:29:41,128 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:41,128 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 44541 (custom)
2023-12-07 16:29:41,128 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:41,128 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 36475 (custom)
2023-12-07 16:29:41,128 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-12-07 16:29:41,128 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 43621 (custom)
2023-12-07 16:29:41,128 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-12-07 16:29:41,128 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:41,128 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-12-07 16:29:41,128 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:41,128 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:41,128 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-12-07 16:29:41,128 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-12-07 16:29:41,129 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-12-07 16:29:41,130 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:41,130 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2023-12-07 16:29:41,130 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:41,130 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s0] (custom)
2023-12-07 16:29:41,130 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-12-07 16:29:41,130 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-12-07 16:29:41,130 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(100)) - s0: addNew group-DA18F8DDBE69:[s0|localhost:43621, s1|localhost:36909, s2|localhost:35421] returns group-DA18F8DDBE69:java.util.concurrent.CompletableFuture@1baf41a5[Not completed]
2023-12-07 16:29:41,130 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s0: new RaftServerImpl for group-DA18F8DDBE69:[s0|localhost:43621, s1|localhost:36909, s2|localhost:35421] with CounterStateMachine:uninitialized
2023-12-07 16:29:41,130 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-DA18F8DDBE69:[s0|localhost:43621, s1|localhost:36909, s2|localhost:35421], format? true
2023-12-07 16:29:41,130 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-12-07 16:29:41,130 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s1
2023-12-07 16:29:41,130 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-12-07 16:29:41,131 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-12-07 16:29:41,131 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s1 does not exist.
2023-12-07 16:29:41,131 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-12-07 16:29:41,131 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s1
2023-12-07 16:29:41,131 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:41,131 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2023-12-07 16:29:41,131 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:41,131 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-12-07 16:29:41,131 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-DA18F8DDBE69: ConfigurationManager, init=-1: peers:[s0|localhost:43621, s1|localhost:36909, s2|localhost:35421]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-12-07 16:29:41,131 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:41,131 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-12-07 16:29:41,131 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 43175 (custom)
2023-12-07 16:29:41,131 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-12-07 16:29:41,131 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:41,131 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-12-07 16:29:41,131 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 37573 (custom)
2023-12-07 16:29:41,131 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2023-12-07 16:29:41,131 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-12-07 16:29:41,131 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 36909 (custom)
2023-12-07 16:29:41,132 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = LINEARIZABLE (custom)
2023-12-07 16:29:41,132 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-12-07 16:29:41,132 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2023-12-07 16:29:41,132 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:41,132 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-12-07 16:29:41,132 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:41,132 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:41,132 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-12-07 16:29:41,132 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-12-07 16:29:41,133 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:41,133 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:41,133 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-12-07 16:29:41,133 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-12-07 16:29:41,133 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-12-07 16:29:41,133 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-12-07 16:29:41,133 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-12-07 16:29:41,133 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:41,133 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2023-12-07 16:29:41,133 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:41,133 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s1] (custom)
2023-12-07 16:29:41,134 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-12-07 16:29:41,134 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-12-07 16:29:41,134 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(100)) - s1: addNew group-DA18F8DDBE69:[s0|localhost:43621, s1|localhost:36909, s2|localhost:35421] returns group-DA18F8DDBE69:java.util.concurrent.CompletableFuture@1ac3667e[Not completed]
2023-12-07 16:29:41,134 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s1: new RaftServerImpl for group-DA18F8DDBE69:[s0|localhost:43621, s1|localhost:36909, s2|localhost:35421] with CounterStateMachine:uninitialized
2023-12-07 16:29:41,134 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-DA18F8DDBE69:[s0|localhost:43621, s1|localhost:36909, s2|localhost:35421], format? true
2023-12-07 16:29:41,134 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-12-07 16:29:41,134 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s2
2023-12-07 16:29:41,134 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-12-07 16:29:41,134 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-12-07 16:29:41,134 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s2 does not exist.
2023-12-07 16:29:41,134 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-12-07 16:29:41,134 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s2
2023-12-07 16:29:41,134 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:41,134 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2023-12-07 16:29:41,134 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:41,134 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-12-07 16:29:41,134 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-DA18F8DDBE69: ConfigurationManager, init=-1: peers:[s0|localhost:43621, s1|localhost:36909, s2|localhost:35421]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-12-07 16:29:41,135 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-12-07 16:29:41,135 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-12-07 16:29:41,135 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-12-07 16:29:41,135 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2023-12-07 16:29:41,135 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = LINEARIZABLE (custom)
2023-12-07 16:29:41,135 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2023-12-07 16:29:41,135 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:41,135 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 46825 (custom)
2023-12-07 16:29:41,135 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:41,135 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 44337 (custom)
2023-12-07 16:29:41,135 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-12-07 16:29:41,135 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 35421 (custom)
2023-12-07 16:29:41,135 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-12-07 16:29:41,136 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:41,136 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-12-07 16:29:41,136 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:41,136 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:41,136 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:41,136 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:41,136 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-12-07 16:29:41,136 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-12-07 16:29:41,136 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-12-07 16:29:41,136 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-12-07 16:29:41,136 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-12-07 16:29:41,136 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-12-07 16:29:41,137 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-12-07 16:29:41,137 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:41,137 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2023-12-07 16:29:41,137 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:41,137 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s2] (custom)
2023-12-07 16:29:41,137 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-12-07 16:29:41,137 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-12-07 16:29:41,137 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(100)) - s2: addNew group-DA18F8DDBE69:[s0|localhost:43621, s1|localhost:36909, s2|localhost:35421] returns group-DA18F8DDBE69:java.util.concurrent.CompletableFuture@7fcea1d3[Not completed]
2023-12-07 16:29:41,137 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s2: new RaftServerImpl for group-DA18F8DDBE69:[s0|localhost:43621, s1|localhost:36909, s2|localhost:35421] with CounterStateMachine:uninitialized
2023-12-07 16:29:41,137 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-12-07 16:29:41,137 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-12-07 16:29:41,137 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-12-07 16:29:41,138 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-12-07 16:29:41,138 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-12-07 16:29:41,138 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-12-07 16:29:41,138 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s0] (custom)
2023-12-07 16:29:41,138 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:41,138 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2023-12-07 16:29:41,138 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:41,138 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s0/4c2f4c81-ee16-453e-83a0-da18f8ddbe69 does not exist. Creating ...
2023-12-07 16:29:41,138 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-DA18F8DDBE69: ConfigurationManager, init=-1: peers:[s0|localhost:43621, s1|localhost:36909, s2|localhost:35421]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-12-07 16:29:41,138 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-12-07 16:29:41,138 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-12-07 16:29:41,138 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-12-07 16:29:41,138 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2023-12-07 16:29:41,138 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = LINEARIZABLE (custom)
2023-12-07 16:29:41,138 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2023-12-07 16:29:41,138 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s0/4c2f4c81-ee16-453e-83a0-da18f8ddbe69
2023-12-07 16:29:41,139 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s0/4c2f4c81-ee16-453e-83a0-da18f8ddbe69/in_use.lock acquired by nodename 9497@fv-az527-45
2023-12-07 16:29:41,139 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:41,139 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:41,139 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s0/4c2f4c81-ee16-453e-83a0-da18f8ddbe69/current
2023-12-07 16:29:41,139 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-12-07 16:29:41,139 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-12-07 16:29:41,139 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s0/4c2f4c81-ee16-453e-83a0-da18f8ddbe69/sm
2023-12-07 16:29:41,139 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-12-07 16:29:41,139 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-12-07 16:29:41,139 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s0/4c2f4c81-ee16-453e-83a0-da18f8ddbe69/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@64995cb4
2023-12-07 16:29:41,140 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s0/4c2f4c81-ee16-453e-83a0-da18f8ddbe69/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s0/4c2f4c81-ee16-453e-83a0-da18f8ddbe69/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:41,140 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s0/4c2f4c81-ee16-453e-83a0-da18f8ddbe69 has been successfully formatted.
2023-12-07 16:29:41,140 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s0/4c2f4c81-ee16-453e-83a0-da18f8ddbe69/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s0/4c2f4c81-ee16-453e-83a0-da18f8ddbe69/current/raft-meta.conf
	at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:92)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:116)
	at java.base/sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:219)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:371)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:422)
	at java.base/java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:420)
	at java.base/java.nio.file.Files.newInputStream(Files.java:156)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:388)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:182)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:41,141 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-12-07 16:29:41,141 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-12-07 16:29:41,141 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:41,141 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-12-07 16:29:41,141 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-12-07 16:29:41,141 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:41,142 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-12-07 16:29:41,142 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-12-07 16:29:41,142 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:41,142 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-DA18F8DDBE69-cacheEviction-AwaitToRun,5,main] started
2023-12-07 16:29:41,142 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s0@group-DA18F8DDBE69-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s0/4c2f4c81-ee16-453e-83a0-da18f8ddbe69
2023-12-07 16:29:41,142 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-12-07 16:29:41,142 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-12-07 16:29:41,142 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:41,142 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-12-07 16:29:41,142 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-12-07 16:29:41,142 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-12-07 16:29:41,142 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-12-07 16:29:41,142 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-12-07 16:29:41,142 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2023-12-07 16:29:41,144 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:41,144 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-12-07 16:29:41,144 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-12-07 16:29:41,144 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-12-07 16:29:41,144 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-DA18F8DDBE69-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:41,144 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-DA18F8DDBE69-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:41,144 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s0@group-DA18F8DDBE69: start as a follower, conf=-1: peers:[s0|localhost:43621, s1|localhost:36909, s2|localhost:35421]|listeners:[], old=null
2023-12-07 16:29:41,145 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-DA18F8DDBE69: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-12-07 16:29:41,145 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-DA18F8DDBE69-FollowerState
2023-12-07 16:29:41,145 [s0@group-DA18F8DDBE69-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:41,145 [s0@group-DA18F8DDBE69-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:41,145 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-DA18F8DDBE69,id=s0
2023-12-07 16:29:41,145 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2023-12-07 16:29:41,145 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-12-07 16:29:41,145 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-12-07 16:29:41,145 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-12-07 16:29:41,145 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(406)) - s0: start RPC server
2023-12-07 16:29:41,146 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 36475
2023-12-07 16:29:41,146 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 43621
2023-12-07 16:29:41,147 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 44541
2023-12-07 16:29:41,147 [JvmPauseMonitor9] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2023-12-07 16:29:41,147 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-12-07 16:29:41,147 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-12-07 16:29:41,147 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s1] (custom)
2023-12-07 16:29:41,147 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s1/4c2f4c81-ee16-453e-83a0-da18f8ddbe69 does not exist. Creating ...
2023-12-07 16:29:41,148 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s1/4c2f4c81-ee16-453e-83a0-da18f8ddbe69
2023-12-07 16:29:41,148 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s1/4c2f4c81-ee16-453e-83a0-da18f8ddbe69/in_use.lock acquired by nodename 9497@fv-az527-45
2023-12-07 16:29:41,148 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s1/4c2f4c81-ee16-453e-83a0-da18f8ddbe69/current
2023-12-07 16:29:41,148 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s1/4c2f4c81-ee16-453e-83a0-da18f8ddbe69/sm
2023-12-07 16:29:41,149 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s1/4c2f4c81-ee16-453e-83a0-da18f8ddbe69/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@7dbd7cbc
2023-12-07 16:29:41,149 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s1/4c2f4c81-ee16-453e-83a0-da18f8ddbe69/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s1/4c2f4c81-ee16-453e-83a0-da18f8ddbe69/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:41,149 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s1/4c2f4c81-ee16-453e-83a0-da18f8ddbe69 has been successfully formatted.
2023-12-07 16:29:41,150 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s1/4c2f4c81-ee16-453e-83a0-da18f8ddbe69/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s1/4c2f4c81-ee16-453e-83a0-da18f8ddbe69/current/raft-meta.conf
	at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:92)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:116)
	at java.base/sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:219)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:371)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:422)
	at java.base/java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:420)
	at java.base/java.nio.file.Files.newInputStream(Files.java:156)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:388)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:182)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:41,150 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-12-07 16:29:41,150 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-12-07 16:29:41,150 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:41,150 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-12-07 16:29:41,150 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-12-07 16:29:41,151 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:41,151 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-12-07 16:29:41,151 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-12-07 16:29:41,151 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:41,151 [s1-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s1@group-DA18F8DDBE69-cacheEviction-AwaitToRun,5,main] started
2023-12-07 16:29:41,151 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s1@group-DA18F8DDBE69-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s1/4c2f4c81-ee16-453e-83a0-da18f8ddbe69
2023-12-07 16:29:41,151 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-12-07 16:29:41,151 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-12-07 16:29:41,151 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:41,151 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-12-07 16:29:41,151 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-12-07 16:29:41,151 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-12-07 16:29:41,151 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-12-07 16:29:41,151 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-12-07 16:29:41,151 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2023-12-07 16:29:41,153 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:41,153 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-12-07 16:29:41,153 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-12-07 16:29:41,153 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-12-07 16:29:41,153 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-DA18F8DDBE69-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:41,153 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-DA18F8DDBE69-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:41,154 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s1@group-DA18F8DDBE69: start as a follower, conf=-1: peers:[s0|localhost:43621, s1|localhost:36909, s2|localhost:35421]|listeners:[], old=null
2023-12-07 16:29:41,154 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-DA18F8DDBE69: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-12-07 16:29:41,154 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-DA18F8DDBE69-FollowerState
2023-12-07 16:29:41,154 [s1@group-DA18F8DDBE69-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:41,154 [s1@group-DA18F8DDBE69-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:41,154 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-DA18F8DDBE69,id=s1
2023-12-07 16:29:41,154 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2023-12-07 16:29:41,154 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-12-07 16:29:41,154 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-12-07 16:29:41,154 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-12-07 16:29:41,155 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(406)) - s1: start RPC server
2023-12-07 16:29:41,155 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 37573
2023-12-07 16:29:41,156 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 36909
2023-12-07 16:29:41,156 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 43175
2023-12-07 16:29:41,156 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-12-07 16:29:41,156 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-12-07 16:29:41,156 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s2] (custom)
2023-12-07 16:29:41,157 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s2/4c2f4c81-ee16-453e-83a0-da18f8ddbe69 does not exist. Creating ...
2023-12-07 16:29:41,157 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s2/4c2f4c81-ee16-453e-83a0-da18f8ddbe69
2023-12-07 16:29:41,157 [JvmPauseMonitor10] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s1: Started
2023-12-07 16:29:41,158 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s2/4c2f4c81-ee16-453e-83a0-da18f8ddbe69/in_use.lock acquired by nodename 9497@fv-az527-45
2023-12-07 16:29:41,158 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s2/4c2f4c81-ee16-453e-83a0-da18f8ddbe69/current
2023-12-07 16:29:41,158 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s2/4c2f4c81-ee16-453e-83a0-da18f8ddbe69/sm
2023-12-07 16:29:41,158 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s2/4c2f4c81-ee16-453e-83a0-da18f8ddbe69/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@fe69b9e
2023-12-07 16:29:41,158 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s2/4c2f4c81-ee16-453e-83a0-da18f8ddbe69/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s2/4c2f4c81-ee16-453e-83a0-da18f8ddbe69/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:41,158 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s2/4c2f4c81-ee16-453e-83a0-da18f8ddbe69 has been successfully formatted.
2023-12-07 16:29:41,159 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s2/4c2f4c81-ee16-453e-83a0-da18f8ddbe69/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s2/4c2f4c81-ee16-453e-83a0-da18f8ddbe69/current/raft-meta.conf
	at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:92)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:116)
	at java.base/sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:219)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:371)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:422)
	at java.base/java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:420)
	at java.base/java.nio.file.Files.newInputStream(Files.java:156)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:388)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:182)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:41,159 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-12-07 16:29:41,159 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-12-07 16:29:41,159 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:41,159 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-12-07 16:29:41,159 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-12-07 16:29:41,159 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:41,159 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-12-07 16:29:41,160 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-12-07 16:29:41,160 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:41,160 [s2-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s2@group-DA18F8DDBE69-cacheEviction-AwaitToRun,5,main] started
2023-12-07 16:29:41,160 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s2@group-DA18F8DDBE69-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s2/4c2f4c81-ee16-453e-83a0-da18f8ddbe69
2023-12-07 16:29:41,160 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-12-07 16:29:41,160 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-12-07 16:29:41,160 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:41,160 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-12-07 16:29:41,160 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-12-07 16:29:41,160 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-12-07 16:29:41,160 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-12-07 16:29:41,160 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-12-07 16:29:41,160 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2023-12-07 16:29:41,161 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:41,162 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-12-07 16:29:41,162 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-12-07 16:29:41,162 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-12-07 16:29:41,162 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-DA18F8DDBE69-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:41,162 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-DA18F8DDBE69-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:41,162 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s2@group-DA18F8DDBE69: start as a follower, conf=-1: peers:[s0|localhost:43621, s1|localhost:36909, s2|localhost:35421]|listeners:[], old=null
2023-12-07 16:29:41,162 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-DA18F8DDBE69: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-12-07 16:29:41,162 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-DA18F8DDBE69-FollowerState
2023-12-07 16:29:41,162 [s2@group-DA18F8DDBE69-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:41,162 [s2@group-DA18F8DDBE69-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:41,162 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-DA18F8DDBE69,id=s2
2023-12-07 16:29:41,162 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2023-12-07 16:29:41,162 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-12-07 16:29:41,162 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-12-07 16:29:41,162 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-12-07 16:29:41,163 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(406)) - s2: start RPC server
2023-12-07 16:29:41,163 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 44337
2023-12-07 16:29:41,164 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 35421
2023-12-07 16:29:41,164 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 46825
2023-12-07 16:29:41,164 [JvmPauseMonitor11] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s2: Started
2023-12-07 16:29:41,164 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-12-07 16:29:41,165 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-DA18F8DDBE69:t0, leader=null, voted=, raftlog=Memoized:s0@group-DA18F8DDBE69-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:43621, s1|localhost:36909, s2|localhost:35421]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-DA18F8DDBE69:t0, leader=null, voted=, raftlog=Memoized:s1@group-DA18F8DDBE69-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:43621, s1|localhost:36909, s2|localhost:35421]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-DA18F8DDBE69:t0, leader=null, voted=, raftlog=Memoized:s2@group-DA18F8DDBE69-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:43621, s1|localhost:36909, s2|localhost:35421]|listeners:[], old=null RUNNING
2023-12-07 16:29:41,165 [Time-limited test] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(119)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-DA18F8DDBE69:t0, leader=null, voted=, raftlog=Memoized:s0@group-DA18F8DDBE69-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:43621, s1|localhost:36909, s2|localhost:35421]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-DA18F8DDBE69:t0, leader=null, voted=, raftlog=Memoized:s1@group-DA18F8DDBE69-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:43621, s1|localhost:36909, s2|localhost:35421]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-DA18F8DDBE69:t0, leader=null, voted=, raftlog=Memoized:s2@group-DA18F8DDBE69-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:43621, s1|localhost:36909, s2|localhost:35421]|listeners:[], old=null RUNNING
2023-12-07 16:29:41,348 [s1@group-DA18F8DDBE69-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-DA18F8DDBE69-FollowerState: change to CANDIDATE, lastRpcElapsedTime:194470802ns, electionTimeout:194ms
2023-12-07 16:29:41,348 [s1@group-DA18F8DDBE69-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-DA18F8DDBE69-FollowerState
2023-12-07 16:29:41,349 [s1@group-DA18F8DDBE69-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-DA18F8DDBE69: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-12-07 16:29:41,349 [s1@group-DA18F8DDBE69-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-12-07 16:29:41,349 [s1@group-DA18F8DDBE69-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-DA18F8DDBE69-LeaderElection7
2023-12-07 16:29:41,349 [s1@group-DA18F8DDBE69-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-DA18F8DDBE69-LeaderElection7 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|localhost:43621, s1|localhost:36909, s2|localhost:35421]|listeners:[], old=null
2023-12-07 16:29:41,350 [s1@group-DA18F8DDBE69-LeaderElection7-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s0
2023-12-07 16:29:41,350 [s1@group-DA18F8DDBE69-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:41,350 [s1@group-DA18F8DDBE69-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:41,350 [s1@group-DA18F8DDBE69-LeaderElection7-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s2
2023-12-07 16:29:41,354 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s0@group-DA18F8DDBE69: receive requestVote(PRE_VOTE, s1, group-DA18F8DDBE69, 0, (t:0, i:0))
2023-12-07 16:29:41,354 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-DA18F8DDBE69-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-12-07 16:29:41,354 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s0@group-DA18F8DDBE69 replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-DA18F8DDBE69:t0, leader=null, voted=, raftlog=Memoized:s0@group-DA18F8DDBE69-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:43621, s1|localhost:36909, s2|localhost:35421]|listeners:[], old=null
2023-12-07 16:29:41,355 [s1@group-DA18F8DDBE69-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-DA18F8DDBE69-LeaderElection7: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-12-07 16:29:41,355 [s1@group-DA18F8DDBE69-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t0
2023-12-07 16:29:41,355 [s1@group-DA18F8DDBE69-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-DA18F8DDBE69-LeaderElection7 PRE_VOTE round 0: result PASSED
2023-12-07 16:29:41,355 [s1@group-DA18F8DDBE69-LeaderElection7] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s1/4c2f4c81-ee16-453e-83a0-da18f8ddbe69/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@3bae4312
2023-12-07 16:29:41,356 [s1@group-DA18F8DDBE69-LeaderElection7] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s1/4c2f4c81-ee16-453e-83a0-da18f8ddbe69/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s1/4c2f4c81-ee16-453e-83a0-da18f8ddbe69/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:41,356 [s1@group-DA18F8DDBE69-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-DA18F8DDBE69-LeaderElection7 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|localhost:43621, s1|localhost:36909, s2|localhost:35421]|listeners:[], old=null
2023-12-07 16:29:41,356 [s1@group-DA18F8DDBE69-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:41,356 [s1@group-DA18F8DDBE69-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:41,357 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s0@group-DA18F8DDBE69: receive requestVote(ELECTION, s1, group-DA18F8DDBE69, 1, (t:0, i:0))
2023-12-07 16:29:41,357 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-DA18F8DDBE69-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2023-12-07 16:29:41,357 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-DA18F8DDBE69: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2023-12-07 16:29:41,357 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-DA18F8DDBE69-FollowerState
2023-12-07 16:29:41,357 [s0@group-DA18F8DDBE69-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-DA18F8DDBE69-FollowerState was interrupted
2023-12-07 16:29:41,357 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-DA18F8DDBE69-FollowerState
2023-12-07 16:29:41,357 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(564)) - s0@group-DA18F8DDBE69: set firstElectionSinceStartup to false for candidate:s1
2023-12-07 16:29:41,357 [grpc-default-executor-2] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s0/4c2f4c81-ee16-453e-83a0-da18f8ddbe69/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2bbeae07
2023-12-07 16:29:41,358 [grpc-default-executor-2] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s0/4c2f4c81-ee16-453e-83a0-da18f8ddbe69/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s0/4c2f4c81-ee16-453e-83a0-da18f8ddbe69/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:41,358 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s0@group-DA18F8DDBE69 replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-DA18F8DDBE69:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-DA18F8DDBE69-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:43621, s1|localhost:36909, s2|localhost:35421]|listeners:[], old=null
2023-12-07 16:29:41,358 [s1@group-DA18F8DDBE69-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-DA18F8DDBE69-LeaderElection7: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-12-07 16:29:41,358 [s1@group-DA18F8DDBE69-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t1
2023-12-07 16:29:41,358 [s1@group-DA18F8DDBE69-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-DA18F8DDBE69-LeaderElection7 ELECTION round 0: result PASSED
2023-12-07 16:29:41,359 [s1@group-DA18F8DDBE69-LeaderElection7] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-DA18F8DDBE69-LeaderElection7
2023-12-07 16:29:41,359 [s1@group-DA18F8DDBE69-LeaderElection7] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-DA18F8DDBE69: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-12-07 16:29:41,359 [s1@group-DA18F8DDBE69-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-12-07 16:29:41,359 [s1@group-DA18F8DDBE69-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-12-07 16:29:41,359 [s1@group-DA18F8DDBE69-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2023-12-07 16:29:41,359 [s1@group-DA18F8DDBE69-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-12-07 16:29:41,359 [s1@group-DA18F8DDBE69-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-12-07 16:29:41,359 [s1@group-DA18F8DDBE69-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-12-07 16:29:41,359 [s1@group-DA18F8DDBE69-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = true (custom)
2023-12-07 16:29:41,359 [s1@group-DA18F8DDBE69-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2023-12-07 16:29:41,359 [s1@group-DA18F8DDBE69-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-12-07 16:29:41,359 [s1@group-DA18F8DDBE69-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-12-07 16:29:41,359 [s1@group-DA18F8DDBE69-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-12-07 16:29:41,359 [s1@group-DA18F8DDBE69-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-12-07 16:29:41,359 [s1@group-DA18F8DDBE69-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:41,359 [s1@group-DA18F8DDBE69-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-12-07 16:29:41,359 [s1@group-DA18F8DDBE69-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2023-12-07 16:29:41,360 [s1@group-DA18F8DDBE69-LeaderElection7] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2023-12-07 16:29:41,360 [s1@group-DA18F8DDBE69-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:41,360 [s1@group-DA18F8DDBE69-LeaderElection7] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2023-12-07 16:29:41,360 [s1@group-DA18F8DDBE69-LeaderElection7] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2023-12-07 16:29:41,360 [s1@group-DA18F8DDBE69-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:41,360 [s1@group-DA18F8DDBE69-LeaderElection7] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:41,360 [s1@group-DA18F8DDBE69-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-12-07 16:29:41,360 [s1@group-DA18F8DDBE69-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:41,360 [s1@group-DA18F8DDBE69-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-12-07 16:29:41,360 [s1@group-DA18F8DDBE69-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2023-12-07 16:29:41,360 [s1@group-DA18F8DDBE69-LeaderElection7] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2023-12-07 16:29:41,360 [s1@group-DA18F8DDBE69-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:41,360 [s1@group-DA18F8DDBE69-LeaderElection7] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2023-12-07 16:29:41,360 [s1@group-DA18F8DDBE69-LeaderElection7] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2023-12-07 16:29:41,360 [s1@group-DA18F8DDBE69-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:41,360 [s1@group-DA18F8DDBE69-LeaderElection7] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:41,360 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s2@group-DA18F8DDBE69: receive requestVote(PRE_VOTE, s1, group-DA18F8DDBE69, 0, (t:0, i:0))
2023-12-07 16:29:41,360 [s1@group-DA18F8DDBE69-LeaderElection7] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-DA18F8DDBE69-LeaderStateImpl
2023-12-07 16:29:41,360 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-DA18F8DDBE69-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-12-07 16:29:41,360 [s1@group-DA18F8DDBE69-LeaderElection7] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(564)) - s1@group-DA18F8DDBE69: set firstElectionSinceStartup to false for becomeLeader
2023-12-07 16:29:41,360 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s2@group-DA18F8DDBE69 replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-DA18F8DDBE69:t0, leader=null, voted=, raftlog=Memoized:s2@group-DA18F8DDBE69-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:43621, s1|localhost:36909, s2|localhost:35421]|listeners:[], old=null
2023-12-07 16:29:41,360 [s1@group-DA18F8DDBE69-LeaderElection7] INFO  server.RaftServer$Division (ServerState.java:setLeader(265)) - s1@group-DA18F8DDBE69: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 225ms
2023-12-07 16:29:41,361 [s1@group-DA18F8DDBE69-LeaderElection7] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s1@group-DA18F8DDBE69-SegmentedRaftLogWorker: Starting segment from index:0
2023-12-07 16:29:41,361 [s1@group-DA18F8DDBE69-LeaderElection7] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(382)) - s1@group-DA18F8DDBE69: set configuration 0: peers:[s0|localhost:43621, s1|localhost:36909, s2|localhost:35421]|listeners:[], old=null
2023-12-07 16:29:41,361 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s2@group-DA18F8DDBE69: receive requestVote(ELECTION, s1, group-DA18F8DDBE69, 1, (t:0, i:0))
2023-12-07 16:29:41,361 [s1@group-DA18F8DDBE69-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2023-12-07 16:29:41,362 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-DA18F8DDBE69-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2023-12-07 16:29:41,362 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-DA18F8DDBE69: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2023-12-07 16:29:41,362 [grpc-default-executor-7] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-DA18F8DDBE69-FollowerState
2023-12-07 16:29:41,364 [grpc-default-executor-7] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-DA18F8DDBE69-FollowerState
2023-12-07 16:29:41,364 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(564)) - s2@group-DA18F8DDBE69: set firstElectionSinceStartup to false for candidate:s1
2023-12-07 16:29:41,365 [grpc-default-executor-7] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s2/4c2f4c81-ee16-453e-83a0-da18f8ddbe69/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@7124ab42
2023-12-07 16:29:41,365 [s2@group-DA18F8DDBE69-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-DA18F8DDBE69-FollowerState was interrupted
2023-12-07 16:29:41,366 [grpc-default-executor-7] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s2/4c2f4c81-ee16-453e-83a0-da18f8ddbe69/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s2/4c2f4c81-ee16-453e-83a0-da18f8ddbe69/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:41,366 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s2@group-DA18F8DDBE69 replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-DA18F8DDBE69:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-DA18F8DDBE69-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:43621, s1|localhost:36909, s2|localhost:35421]|listeners:[], old=null
2023-12-07 16:29:41,371 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(265)) - s0@group-DA18F8DDBE69: change Leader from null to s1 at term 1 for appendEntries, leader elected after 239ms
2023-12-07 16:29:41,373 [s1@group-DA18F8DDBE69-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s1@group-DA18F8DDBE69-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s1/4c2f4c81-ee16-453e-83a0-da18f8ddbe69/current/log_inprogress_0
2023-12-07 16:29:41,373 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(265)) - s2@group-DA18F8DDBE69: change Leader from null to s1 at term 1 for appendEntries, leader elected after 233ms
2023-12-07 16:29:41,373 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-DA18F8DDBE69: receive appendEntries(s1, 1, null, -1, true, commits:[s1:c-1, s0:c-1, s2:c-1], cId:1, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43621"
dataStreamAddress: "localhost:39639"
clientAddress: "localhost:36475"
adminAddress: "localhost:44541"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36909"
dataStreamAddress: "localhost:35497"
clientAddress: "localhost:37573"
adminAddress: "localhost:43175"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:35421"
dataStreamAddress: "localhost:33357"
clientAddress: "localhost:44337"
adminAddress: "localhost:46825"
startupRole: FOLLOWER
, old:)]
2023-12-07 16:29:41,376 [s0-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(382)) - s0@group-DA18F8DDBE69: set configuration 0: peers:[s0|localhost:43621, s1|localhost:36909, s2|localhost:35421]|listeners:[], old=null
2023-12-07 16:29:41,376 [s0-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s0@group-DA18F8DDBE69-SegmentedRaftLogWorker: Starting segment from index:0
2023-12-07 16:29:41,376 [s0@group-DA18F8DDBE69-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2023-12-07 16:29:41,377 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-DA18F8DDBE69: receive appendEntries(s1, 1, null, -1, true, commits:[s1:c-1, s0:c-1, s2:c-1], cId:1, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:43621"
dataStreamAddress: "localhost:39639"
clientAddress: "localhost:36475"
adminAddress: "localhost:44541"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36909"
dataStreamAddress: "localhost:35497"
clientAddress: "localhost:37573"
adminAddress: "localhost:43175"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:35421"
dataStreamAddress: "localhost:33357"
clientAddress: "localhost:44337"
adminAddress: "localhost:46825"
startupRole: FOLLOWER
, old:)]
2023-12-07 16:29:41,377 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(382)) - s2@group-DA18F8DDBE69: set configuration 0: peers:[s0|localhost:43621, s1|localhost:36909, s2|localhost:35421]|listeners:[], old=null
2023-12-07 16:29:41,377 [s2-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s2@group-DA18F8DDBE69-SegmentedRaftLogWorker: Starting segment from index:0
2023-12-07 16:29:41,378 [s2@group-DA18F8DDBE69-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2023-12-07 16:29:41,387 [s0@group-DA18F8DDBE69-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s0@group-DA18F8DDBE69-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s0/4c2f4c81-ee16-453e-83a0-da18f8ddbe69/current/log_inprogress_0
2023-12-07 16:29:41,387 [s2@group-DA18F8DDBE69-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s2@group-DA18F8DDBE69-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s2/4c2f4c81-ee16-453e-83a0-da18f8ddbe69/current/log_inprogress_0
2023-12-07 16:29:41,387 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-DA18F8DDBE69: succeeded to handle AppendEntries. Reply: s1<-s0#1:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-12-07 16:29:41,387 [s2-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-DA18F8DDBE69: succeeded to handle AppendEntries. Reply: s1<-s2#1:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-12-07 16:29:41,388 [s1@group-DA18F8DDBE69-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s1/4c2f4c81-ee16-453e-83a0-da18f8ddbe69/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4325d0de
2023-12-07 16:29:41,390 [s1@group-DA18F8DDBE69-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s1/4c2f4c81-ee16-453e-83a0-da18f8ddbe69/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s1/4c2f4c81-ee16-453e-83a0-da18f8ddbe69/current/raft-meta.conf with options [REPLACE_EXISTING]
2023-12-07 16:29:41,390 [s1@group-DA18F8DDBE69-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:isApplied(320)) - leader is ready since appliedIndex == 0 >= startIndex == 0
2023-12-07 16:29:41,465 [s0@group-DA18F8DDBE69-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s0/4c2f4c81-ee16-453e-83a0-da18f8ddbe69/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@54bcc2d5
2023-12-07 16:29:41,466 [s2@group-DA18F8DDBE69-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s2/4c2f4c81-ee16-453e-83a0-da18f8ddbe69/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1e6a4acf
2023-12-07 16:29:41,467 [s0@group-DA18F8DDBE69-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s0/4c2f4c81-ee16-453e-83a0-da18f8ddbe69/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s0/4c2f4c81-ee16-453e-83a0-da18f8ddbe69/current/raft-meta.conf with options [REPLACE_EXISTING]
2023-12-07 16:29:41,467 [s2@group-DA18F8DDBE69-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s2/4c2f4c81-ee16-453e-83a0-da18f8ddbe69/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3ee4aff7/s2/4c2f4c81-ee16-453e-83a0-da18f8ddbe69/current/raft-meta.conf with options [REPLACE_EXISTING]
2023-12-07 16:29:41,615 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-DA18F8DDBE69:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-DA18F8DDBE69-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:43621, s1|localhost:36909, s2|localhost:35421]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-DA18F8DDBE69:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-DA18F8DDBE69-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:43621, s1|localhost:36909, s2|localhost:35421]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-DA18F8DDBE69:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-DA18F8DDBE69-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:43621, s1|localhost:36909, s2|localhost:35421]|listeners:[], old=null RUNNING
2023-12-07 16:29:41,621 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s1@group-DA18F8DDBE69: receive client request(RaftClientRequest:client-3E8EDC01D773->s1@group-DA18F8DDBE69, cid=56, seq=null, RW, Message:494e4352454d454e54)
2023-12-07 16:29:41,621 [s1-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s1@group-DA18F8DDBE69-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-3E8EDC01D773->s1@group-DA18F8DDBE69, cid=56, seq=null, RW, Message:494e4352454d454e54, entry=(t:1, i:1), STATEMACHINELOGENTRY, 56@client-3E8EDC01D773
2023-12-07 16:29:41,622 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-DA18F8DDBE69: receive appendEntries(s1, 1, (t:1, i:0), 0, true, commits:[s1:c0, s0:c0, s2:c0], cId:6, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 56@client-3E8EDC01D773]
2023-12-07 16:29:41,622 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-DA18F8DDBE69: receive appendEntries(s1, 1, (t:1, i:0), 0, true, commits:[s1:c0, s0:c0, s2:c0], cId:7, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 56@client-3E8EDC01D773]
2023-12-07 16:29:41,623 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-DA18F8DDBE69: succeeded to handle AppendEntries. Reply: s1<-s0#6:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2023-12-07 16:29:41,623 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-DA18F8DDBE69: succeeded to handle AppendEntries. Reply: s1<-s2#7:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2023-12-07 16:29:41,624 [s1@group-DA18F8DDBE69-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:41,625 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-DA18F8DDBE69: receive appendEntries(s1, 1, (t:1, i:1), 1, true, commits:[s1:c1, s0:c0, s2:c0], cId:8, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2023-12-07 16:29:41,626 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-DA18F8DDBE69: receive appendEntries(s1, 1, (t:1, i:1), 1, true, commits:[s1:c1, s0:c0, s2:c0], cId:7, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2023-12-07 16:29:41,626 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-DA18F8DDBE69: succeeded to handle AppendEntries. Reply: s1<-s2#8:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2023-12-07 16:29:41,626 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-DA18F8DDBE69: succeeded to handle AppendEntries. Reply: s1<-s0#7:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2023-12-07 16:29:41,626 [s2@group-DA18F8DDBE69-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:41,626 [s0@group-DA18F8DDBE69-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:41,629 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s0@group-DA18F8DDBE69: receive client request(RaftClientRequest:client-CA373B49AE85->s0@group-DA18F8DDBE69, cid=57, seq=null, RO, Message:5155455259)
2023-12-07 16:29:41,629 [s0-client-thread1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s1
2023-12-07 16:29:41,631 [s1-server-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=2, readAfterWriteConsistentIndex=null
2023-12-07 16:29:41,708 [s1-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:stepDownLeaderAsync(1247)) - s1@group-DA18F8DDBE69 receive stepDown leader request TransferLeadershipRequest:client-3E8EDC01D773->s1@group-DA18F8DDBE69, cid=58, seq=null, RO, null
2023-12-07 16:29:41,708 [s1@group-DA18F8DDBE69-LeaderStateImpl] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-DA18F8DDBE69: changes role from    LEADER to FOLLOWER at term 1 for StepDownReason:FORCE
2023-12-07 16:29:41,708 [s1@group-DA18F8DDBE69-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(94)) - s1: shutdown s1@group-DA18F8DDBE69-LeaderStateImpl
2023-12-07 16:29:41,709 [s1@group-DA18F8DDBE69->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(279)) - s1@group-DA18F8DDBE69->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2023-12-07 16:29:41,709 [s1@group-DA18F8DDBE69->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(279)) - s1@group-DA18F8DDBE69->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2023-12-07 16:29:41,709 [s1@group-DA18F8DDBE69-LeaderStateImpl] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(289)) - s1@group-DA18F8DDBE69-PendingRequests: sendNotLeaderResponses
2023-12-07 16:29:41,710 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(157)) - s0: Completed APPEND_ENTRIES, lastRequest: s1->s0#7-t1,previous=(t:1, i:1),leaderCommit=1,initializing? true,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2023-12-07 16:29:41,710 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$5(159)) - s0: Completed APPEND_ENTRIES, lastReply: null
2023-12-07 16:29:41,710 [s1@group-DA18F8DDBE69-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setLeader(265)) - s1@group-DA18F8DDBE69: change Leader from s1 to null at term 1 for StepDownReason:FORCE
2023-12-07 16:29:41,710 [s1@group-DA18F8DDBE69-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-DA18F8DDBE69-FollowerState
2023-12-07 16:29:41,710 [s1@group-DA18F8DDBE69-LeaderStateImpl] INFO  impl.PendingStepDown (PendingStepDown.java:complete(55)) - Successfully step down leader at s1@group-DA18F8DDBE69-LeaderStateImpl for request TransferLeadershipRequest:client-3E8EDC01D773->s1@group-DA18F8DDBE69, cid=58, seq=null, RO, null
2023-12-07 16:29:41,713 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(157)) - s2: Completed APPEND_ENTRIES, lastRequest: s1->s2#8-t1,previous=(t:1, i:1),leaderCommit=1,initializing? true,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2023-12-07 16:29:41,713 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$5(159)) - s2: Completed APPEND_ENTRIES, lastReply: null
2023-12-07 16:29:41,713 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(157)) - s2: Completed APPEND_ENTRIES, lastRequest: null
2023-12-07 16:29:41,713 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(157)) - s0: Completed APPEND_ENTRIES, lastRequest: null
2023-12-07 16:29:41,714 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(534)) - s1@group-DA18F8DDBE69->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-12-07 16:29:41,714 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(534)) - s1@group-DA18F8DDBE69->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-12-07 16:29:41,714 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$5(159)) - s2: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s1"
  replyId: "s2"
  raftGroupId {
    id: "L/L\201\356\026E>\203\240\332\030\370\335\276i"
  }
  callId: 10
  success: true
}
term: 1
nextIndex: 3
followerCommit: 2
matchIndex: 18446744073709551615
isHearbeat: true

2023-12-07 16:29:41,716 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$5(159)) - s0: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s1"
  replyId: "s0"
  raftGroupId {
    id: "L/L\201\356\026E>\203\240\332\030\370\335\276i"
  }
  callId: 9
  success: true
}
term: 1
nextIndex: 3
followerCommit: 2
matchIndex: 18446744073709551615
isHearbeat: true

2023-12-07 16:29:41,716 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(534)) - s1@group-DA18F8DDBE69->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-12-07 16:29:41,716 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(534)) - s1@group-DA18F8DDBE69->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-12-07 16:29:41,717 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s0@group-DA18F8DDBE69: receive client request(RaftClientRequest:client-CA373B49AE85->s0@group-DA18F8DDBE69, cid=59, seq=null, RO, Message:5155455259)
2023-12-07 16:29:41,719 [null-request--thread1] INFO  server.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(284)) - Failed RaftClientRequest:client-CA373B49AE85->s0@group-DA18F8DDBE69, cid=59, seq=null, RO, Message:5155455259, reply=RaftClientReply:client-CA373B49AE85->s0@group-DA18F8DDBE69, cid=59, FAILED org.apache.ratis.protocol.exceptions.ReadIndexException: s0: Failed to get read index from the leader: serverReply {
  requestorId: "s0"
  replyId: "s1"
  raftGroupId {
    id: "L/L\201\356\026E>\203\240\332\030\370\335\276i"
  }
}
readIndex: 18446744073709551615
, logIndex=0, commits[s0:c2, s1:c2, s2:c1]
2023-12-07 16:29:41,725 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-12-07 16:29:41,725 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-12-07 16:29:41,725 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2023-12-07 16:29:41,725 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-12-07 16:29:41,725 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-12-07 16:29:41,725 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-DA18F8DDBE69:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-DA18F8DDBE69-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|localhost:43621, s1|localhost:36909, s2|localhost:35421]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-DA18F8DDBE69:t1, leader=null, voted=s1, raftlog=Memoized:s1@group-DA18F8DDBE69-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|localhost:43621, s1|localhost:36909, s2|localhost:35421]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-DA18F8DDBE69:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-DA18F8DDBE69-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|localhost:43621, s1|localhost:36909, s2|localhost:35421]|listeners:[], old=null RUNNING
2023-12-07 16:29:41,725 [MiniRaftCluster-20] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(416)) - s1: close
2023-12-07 16:29:41,725 [MiniRaftCluster-19] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(416)) - s0: close
2023-12-07 16:29:41,726 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$3(516)) - s1@group-DA18F8DDBE69: shutdown
2023-12-07 16:29:41,728 [MiniRaftCluster-19] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-12-07 16:29:41,728 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-DA18F8DDBE69,id=s1
2023-12-07 16:29:41,728 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-DA18F8DDBE69-FollowerState
2023-12-07 16:29:41,726 [MiniRaftCluster-20] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-12-07 16:29:41,728 [s1@group-DA18F8DDBE69-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-DA18F8DDBE69-FollowerState was interrupted
2023-12-07 16:29:41,728 [MiniRaftCluster-21] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(416)) - s2: close
2023-12-07 16:29:41,728 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$3(516)) - s0@group-DA18F8DDBE69: shutdown
2023-12-07 16:29:41,728 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s1@group-DA18F8DDBE69-StateMachineUpdater: set stopIndex = 2
2023-12-07 16:29:41,730 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-DA18F8DDBE69,id=s0
2023-12-07 16:29:41,730 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(423)) - s1@group-DA18F8DDBE69: applyIndex: 2
2023-12-07 16:29:41,730 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-DA18F8DDBE69-FollowerState
2023-12-07 16:29:41,730 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s0@group-DA18F8DDBE69-StateMachineUpdater: set stopIndex = 2
2023-12-07 16:29:41,730 [s0@group-DA18F8DDBE69-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-DA18F8DDBE69-FollowerState was interrupted
2023-12-07 16:29:41,730 [s1@group-DA18F8DDBE69-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s1@group-DA18F8DDBE69-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2023-12-07 16:29:41,730 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(423)) - s0@group-DA18F8DDBE69: applyIndex: 2
2023-12-07 16:29:41,730 [s0@group-DA18F8DDBE69-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-DA18F8DDBE69-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2023-12-07 16:29:41,730 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$3(516)) - s2@group-DA18F8DDBE69: shutdown
2023-12-07 16:29:41,730 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-DA18F8DDBE69,id=s2
2023-12-07 16:29:41,730 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-DA18F8DDBE69-FollowerState
2023-12-07 16:29:41,730 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s2@group-DA18F8DDBE69-StateMachineUpdater: set stopIndex = 2
2023-12-07 16:29:41,730 [s2@group-DA18F8DDBE69-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-DA18F8DDBE69-FollowerState was interrupted
2023-12-07 16:29:41,730 [MiniRaftCluster-21] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-12-07 16:29:41,731 [Thread-317] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(103)) - s0 Close channels
2023-12-07 16:29:41,731 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(423)) - s2@group-DA18F8DDBE69: applyIndex: 2
2023-12-07 16:29:41,731 [s2@group-DA18F8DDBE69-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s2@group-DA18F8DDBE69-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2023-12-07 16:29:41,733 [Thread-320] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(103)) - s2 Close channels
2023-12-07 16:29:41,734 [Thread-318] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(103)) - s1 Close channels
2023-12-07 16:29:41,739 [MiniRaftCluster-19] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-12-07 16:29:41,739 [MiniRaftCluster-19] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server GrpcServerProtocolService now
2023-12-07 16:29:41,739 [MiniRaftCluster-21] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-12-07 16:29:41,739 [MiniRaftCluster-21] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server GrpcServerProtocolService now
2023-12-07 16:29:41,739 [MiniRaftCluster-20] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-12-07 16:29:41,739 [MiniRaftCluster-20] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server GrpcServerProtocolService now
2023-12-07 16:29:41,740 [MiniRaftCluster-19] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server GrpcServerProtocolService successfully
2023-12-07 16:29:41,740 [MiniRaftCluster-19] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-12-07 16:29:41,741 [MiniRaftCluster-19] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-12-07 16:29:41,742 [MiniRaftCluster-20] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server GrpcServerProtocolService successfully
2023-12-07 16:29:41,742 [MiniRaftCluster-20] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-12-07 16:29:41,742 [MiniRaftCluster-21] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server GrpcServerProtocolService successfully
2023-12-07 16:29:41,742 [MiniRaftCluster-21] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-12-07 16:29:41,743 [MiniRaftCluster-20] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-12-07 16:29:41,744 [MiniRaftCluster-21] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-12-07 16:29:42,626 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s1@group-DA18F8DDBE69-SegmentedRaftLogWorker close()
2023-12-07 16:29:42,627 [JvmPauseMonitor10] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s1: Stopped
2023-12-07 16:29:42,627 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s2@group-DA18F8DDBE69-SegmentedRaftLogWorker close()
2023-12-07 16:29:42,627 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s0@group-DA18F8DDBE69-SegmentedRaftLogWorker close()
2023-12-07 16:29:42,628 [JvmPauseMonitor11] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s2: Stopped
2023-12-07 16:29:42,628 [JvmPauseMonitor9] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2023-12-07 16:29:42,628 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2023-12-07 16:29:42,629 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-12-07 16:29:42,629 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-12-07 16:29:42,629 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2023-12-07 16:29:42,629 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-12-07 16:29:42,629 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-12-07 16:29:42,629 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:   CLOSED  FOLLOWER s0@group-DA18F8DDBE69:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-DA18F8DDBE69-SegmentedRaftLog:CLOSED:c2, conf=0: peers:[s0|localhost:43621, s1|localhost:36909, s2|localhost:35421]|listeners:[], old=null CLOSED
  s1:   CLOSED  FOLLOWER s1@group-DA18F8DDBE69:t1, leader=null, voted=s1, raftlog=Memoized:s1@group-DA18F8DDBE69-SegmentedRaftLog:CLOSED:c2, conf=0: peers:[s0|localhost:43621, s1|localhost:36909, s2|localhost:35421]|listeners:[], old=null CLOSED
  s2:   CLOSED  FOLLOWER s2@group-DA18F8DDBE69:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-DA18F8DDBE69-SegmentedRaftLog:CLOSED:c2, conf=0: peers:[s0|localhost:43621, s1|localhost:36909, s2|localhost:35421]|listeners:[], old=null CLOSED
2023-12-07 16:29:42,629 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2023-12-07 16:29:42,630 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-12-07 16:29:42,630 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-12-07 16:29:42,630 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2023-12-07 16:29:42,631 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2023-12-07 16:29:42,631 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-34A8B1E7E7A6:[s0|localhost:46295, s1|localhost:46349, s2|localhost:34823]
2023-12-07 16:29:42,631 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-12-07 16:29:42,631 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-12-07 16:29:42,631 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2023-12-07 16:29:42,631 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-12-07 16:29:42,631 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-12-07 16:29:42,631 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-12-07 16:29:42,631 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-34A8B1E7E7A6:[s0|localhost:46295, s1|localhost:46349, s2|localhost:34823], format? true
2023-12-07 16:29:42,631 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s0
2023-12-07 16:29:42,631 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s0 does not exist.
2023-12-07 16:29:42,631 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s0
2023-12-07 16:29:42,632 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-12-07 16:29:42,632 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:42,632 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 34921 (custom)
2023-12-07 16:29:42,632 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:42,632 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 32851 (custom)
2023-12-07 16:29:42,632 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-12-07 16:29:42,632 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 46295 (custom)
2023-12-07 16:29:42,632 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-12-07 16:29:42,632 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:42,632 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-12-07 16:29:42,632 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:42,632 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:42,632 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-12-07 16:29:42,632 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-12-07 16:29:42,633 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-12-07 16:29:42,633 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:42,633 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2023-12-07 16:29:42,633 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:42,633 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s0] (custom)
2023-12-07 16:29:42,634 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-12-07 16:29:42,634 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-12-07 16:29:42,634 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(100)) - s0: addNew group-34A8B1E7E7A6:[s0|localhost:46295, s1|localhost:46349, s2|localhost:34823] returns group-34A8B1E7E7A6:java.util.concurrent.CompletableFuture@1bbeb207[Not completed]
2023-12-07 16:29:42,634 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-34A8B1E7E7A6:[s0|localhost:46295, s1|localhost:46349, s2|localhost:34823], format? true
2023-12-07 16:29:42,634 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s1
2023-12-07 16:29:42,634 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s0: new RaftServerImpl for group-34A8B1E7E7A6:[s0|localhost:46295, s1|localhost:46349, s2|localhost:34823] with CounterStateMachine:uninitialized
2023-12-07 16:29:42,634 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s1 does not exist.
2023-12-07 16:29:42,634 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s1
2023-12-07 16:29:42,634 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-12-07 16:29:42,634 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-12-07 16:29:42,634 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-12-07 16:29:42,634 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-12-07 16:29:42,634 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-12-07 16:29:42,634 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:42,634 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2023-12-07 16:29:42,634 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:42,634 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:42,635 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 36643 (custom)
2023-12-07 16:29:42,635 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-34A8B1E7E7A6: ConfigurationManager, init=-1: peers:[s0|localhost:46295, s1|localhost:46349, s2|localhost:34823]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-12-07 16:29:42,635 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:42,635 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-12-07 16:29:42,635 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-12-07 16:29:42,635 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 41263 (custom)
2023-12-07 16:29:42,635 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-12-07 16:29:42,635 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-12-07 16:29:42,635 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2023-12-07 16:29:42,635 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 46349 (custom)
2023-12-07 16:29:42,635 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-12-07 16:29:42,635 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = LINEARIZABLE (custom)
2023-12-07 16:29:42,635 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:42,635 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2023-12-07 16:29:42,635 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-12-07 16:29:42,636 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:42,636 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:42,636 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-12-07 16:29:42,636 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-12-07 16:29:42,636 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:42,637 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:42,637 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-12-07 16:29:42,637 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-12-07 16:29:42,637 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-12-07 16:29:42,637 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-12-07 16:29:42,637 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-12-07 16:29:42,637 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:42,637 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2023-12-07 16:29:42,637 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:42,637 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s1] (custom)
2023-12-07 16:29:42,637 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-12-07 16:29:42,637 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-12-07 16:29:42,638 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(100)) - s1: addNew group-34A8B1E7E7A6:[s0|localhost:46295, s1|localhost:46349, s2|localhost:34823] returns group-34A8B1E7E7A6:java.util.concurrent.CompletableFuture@15d1eb7f[Not completed]
2023-12-07 16:29:42,638 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s1: new RaftServerImpl for group-34A8B1E7E7A6:[s0|localhost:46295, s1|localhost:46349, s2|localhost:34823] with CounterStateMachine:uninitialized
2023-12-07 16:29:42,638 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-34A8B1E7E7A6:[s0|localhost:46295, s1|localhost:46349, s2|localhost:34823], format? true
2023-12-07 16:29:42,638 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-12-07 16:29:42,638 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s2
2023-12-07 16:29:42,638 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-12-07 16:29:42,638 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-12-07 16:29:42,638 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s2 does not exist.
2023-12-07 16:29:42,638 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s2
2023-12-07 16:29:42,638 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-12-07 16:29:42,638 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:42,638 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2023-12-07 16:29:42,638 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:42,639 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-12-07 16:29:42,639 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-34A8B1E7E7A6: ConfigurationManager, init=-1: peers:[s0|localhost:46295, s1|localhost:46349, s2|localhost:34823]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-12-07 16:29:42,639 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:42,639 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-12-07 16:29:42,639 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-12-07 16:29:42,639 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 41997 (custom)
2023-12-07 16:29:42,639 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-12-07 16:29:42,639 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:42,639 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2023-12-07 16:29:42,639 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 38997 (custom)
2023-12-07 16:29:42,639 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = LINEARIZABLE (custom)
2023-12-07 16:29:42,639 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-12-07 16:29:42,639 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2023-12-07 16:29:42,639 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 34823 (custom)
2023-12-07 16:29:42,639 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-12-07 16:29:42,639 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:42,639 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-12-07 16:29:42,639 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:42,639 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:42,640 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-12-07 16:29:42,640 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:42,640 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-12-07 16:29:42,640 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:42,640 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-12-07 16:29:42,640 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-12-07 16:29:42,640 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-12-07 16:29:42,640 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-12-07 16:29:42,641 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-12-07 16:29:42,641 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:42,641 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2023-12-07 16:29:42,641 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:42,641 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s2] (custom)
2023-12-07 16:29:42,641 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-12-07 16:29:42,641 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-12-07 16:29:42,642 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(100)) - s2: addNew group-34A8B1E7E7A6:[s0|localhost:46295, s1|localhost:46349, s2|localhost:34823] returns group-34A8B1E7E7A6:java.util.concurrent.CompletableFuture@14c52e1b[Not completed]
2023-12-07 16:29:42,642 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s2: new RaftServerImpl for group-34A8B1E7E7A6:[s0|localhost:46295, s1|localhost:46349, s2|localhost:34823] with CounterStateMachine:uninitialized
2023-12-07 16:29:42,642 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-12-07 16:29:42,642 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-12-07 16:29:42,642 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-12-07 16:29:42,642 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-12-07 16:29:42,642 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-12-07 16:29:42,642 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-12-07 16:29:42,642 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:42,642 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2023-12-07 16:29:42,642 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s0] (custom)
2023-12-07 16:29:42,642 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:42,642 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-34A8B1E7E7A6: ConfigurationManager, init=-1: peers:[s0|localhost:46295, s1|localhost:46349, s2|localhost:34823]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-12-07 16:29:42,642 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-12-07 16:29:42,642 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s0/864dc145-d36c-4cb0-b392-34a8b1e7e7a6 does not exist. Creating ...
2023-12-07 16:29:42,642 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-12-07 16:29:42,642 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-12-07 16:29:42,642 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2023-12-07 16:29:42,643 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = LINEARIZABLE (custom)
2023-12-07 16:29:42,643 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2023-12-07 16:29:42,643 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s0/864dc145-d36c-4cb0-b392-34a8b1e7e7a6
2023-12-07 16:29:42,643 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:42,643 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:42,643 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-12-07 16:29:42,643 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-12-07 16:29:42,643 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-12-07 16:29:42,643 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-12-07 16:29:42,644 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s0/864dc145-d36c-4cb0-b392-34a8b1e7e7a6/in_use.lock acquired by nodename 9497@fv-az527-45
2023-12-07 16:29:42,644 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s0/864dc145-d36c-4cb0-b392-34a8b1e7e7a6/current
2023-12-07 16:29:42,644 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s0/864dc145-d36c-4cb0-b392-34a8b1e7e7a6/sm
2023-12-07 16:29:42,644 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s0/864dc145-d36c-4cb0-b392-34a8b1e7e7a6/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6b3f15e8
2023-12-07 16:29:42,645 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s0/864dc145-d36c-4cb0-b392-34a8b1e7e7a6/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s0/864dc145-d36c-4cb0-b392-34a8b1e7e7a6/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:42,645 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s0/864dc145-d36c-4cb0-b392-34a8b1e7e7a6 has been successfully formatted.
2023-12-07 16:29:42,645 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s0/864dc145-d36c-4cb0-b392-34a8b1e7e7a6/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s0/864dc145-d36c-4cb0-b392-34a8b1e7e7a6/current/raft-meta.conf
	at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:92)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:116)
	at java.base/sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:219)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:371)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:422)
	at java.base/java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:420)
	at java.base/java.nio.file.Files.newInputStream(Files.java:156)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:388)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:182)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:42,645 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-12-07 16:29:42,645 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-12-07 16:29:42,645 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:42,645 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-12-07 16:29:42,645 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-12-07 16:29:42,645 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:42,646 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-12-07 16:29:42,646 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-12-07 16:29:42,646 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:42,646 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-34A8B1E7E7A6-cacheEviction-AwaitToRun,5,main] started
2023-12-07 16:29:42,646 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s0@group-34A8B1E7E7A6-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s0/864dc145-d36c-4cb0-b392-34a8b1e7e7a6
2023-12-07 16:29:42,646 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-12-07 16:29:42,646 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-12-07 16:29:42,646 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:42,646 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-12-07 16:29:42,646 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-12-07 16:29:42,646 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-12-07 16:29:42,646 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-12-07 16:29:42,646 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-12-07 16:29:42,646 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2023-12-07 16:29:42,648 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:42,648 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-12-07 16:29:42,648 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-12-07 16:29:42,648 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-12-07 16:29:42,648 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-34A8B1E7E7A6-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:42,648 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-34A8B1E7E7A6-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:42,648 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s0@group-34A8B1E7E7A6: start as a follower, conf=-1: peers:[s0|localhost:46295, s1|localhost:46349, s2|localhost:34823]|listeners:[], old=null
2023-12-07 16:29:42,648 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-34A8B1E7E7A6: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-12-07 16:29:42,648 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-34A8B1E7E7A6-FollowerState
2023-12-07 16:29:42,648 [s0@group-34A8B1E7E7A6-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:42,648 [s0@group-34A8B1E7E7A6-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:42,648 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-34A8B1E7E7A6,id=s0
2023-12-07 16:29:42,648 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2023-12-07 16:29:42,649 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-12-07 16:29:42,649 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-12-07 16:29:42,649 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-12-07 16:29:42,649 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(406)) - s0: start RPC server
2023-12-07 16:29:42,649 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 32851
2023-12-07 16:29:42,650 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 46295
2023-12-07 16:29:42,650 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 34921
2023-12-07 16:29:42,650 [JvmPauseMonitor12] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2023-12-07 16:29:42,651 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-12-07 16:29:42,651 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-12-07 16:29:42,651 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s1] (custom)
2023-12-07 16:29:42,651 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s1/864dc145-d36c-4cb0-b392-34a8b1e7e7a6 does not exist. Creating ...
2023-12-07 16:29:42,651 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s1/864dc145-d36c-4cb0-b392-34a8b1e7e7a6
2023-12-07 16:29:42,652 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s1/864dc145-d36c-4cb0-b392-34a8b1e7e7a6/in_use.lock acquired by nodename 9497@fv-az527-45
2023-12-07 16:29:42,652 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s1/864dc145-d36c-4cb0-b392-34a8b1e7e7a6/current
2023-12-07 16:29:42,652 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s1/864dc145-d36c-4cb0-b392-34a8b1e7e7a6/sm
2023-12-07 16:29:42,652 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s1/864dc145-d36c-4cb0-b392-34a8b1e7e7a6/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@29e71740
2023-12-07 16:29:42,653 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s1/864dc145-d36c-4cb0-b392-34a8b1e7e7a6/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s1/864dc145-d36c-4cb0-b392-34a8b1e7e7a6/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:42,653 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s1/864dc145-d36c-4cb0-b392-34a8b1e7e7a6 has been successfully formatted.
2023-12-07 16:29:42,653 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s1/864dc145-d36c-4cb0-b392-34a8b1e7e7a6/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s1/864dc145-d36c-4cb0-b392-34a8b1e7e7a6/current/raft-meta.conf
	at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:92)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:116)
	at java.base/sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:219)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:371)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:422)
	at java.base/java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:420)
	at java.base/java.nio.file.Files.newInputStream(Files.java:156)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:388)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:182)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:42,653 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-12-07 16:29:42,653 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-12-07 16:29:42,654 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:42,654 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-12-07 16:29:42,654 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-12-07 16:29:42,654 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:42,654 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-12-07 16:29:42,654 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-12-07 16:29:42,654 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:42,654 [s1-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s1@group-34A8B1E7E7A6-cacheEviction-AwaitToRun,5,main] started
2023-12-07 16:29:42,654 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s1@group-34A8B1E7E7A6-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s1/864dc145-d36c-4cb0-b392-34a8b1e7e7a6
2023-12-07 16:29:42,654 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-12-07 16:29:42,654 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-12-07 16:29:42,655 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:42,655 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-12-07 16:29:42,655 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-12-07 16:29:42,655 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-12-07 16:29:42,655 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-12-07 16:29:42,655 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-12-07 16:29:42,655 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2023-12-07 16:29:42,656 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:42,656 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-12-07 16:29:42,656 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-12-07 16:29:42,656 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-12-07 16:29:42,657 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-34A8B1E7E7A6-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:42,657 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-34A8B1E7E7A6-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:42,657 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s1@group-34A8B1E7E7A6: start as a follower, conf=-1: peers:[s0|localhost:46295, s1|localhost:46349, s2|localhost:34823]|listeners:[], old=null
2023-12-07 16:29:42,657 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-34A8B1E7E7A6: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-12-07 16:29:42,657 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-34A8B1E7E7A6-FollowerState
2023-12-07 16:29:42,657 [s1@group-34A8B1E7E7A6-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:42,657 [s1@group-34A8B1E7E7A6-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:42,658 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-34A8B1E7E7A6,id=s1
2023-12-07 16:29:42,658 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2023-12-07 16:29:42,658 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-12-07 16:29:42,658 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-12-07 16:29:42,658 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-12-07 16:29:42,658 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(406)) - s1: start RPC server
2023-12-07 16:29:42,659 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 41263
2023-12-07 16:29:42,659 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 46349
2023-12-07 16:29:42,659 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 36643
2023-12-07 16:29:42,659 [JvmPauseMonitor13] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s1: Started
2023-12-07 16:29:42,659 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-12-07 16:29:42,659 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-12-07 16:29:42,659 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s2] (custom)
2023-12-07 16:29:42,660 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s2/864dc145-d36c-4cb0-b392-34a8b1e7e7a6 does not exist. Creating ...
2023-12-07 16:29:42,660 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s2/864dc145-d36c-4cb0-b392-34a8b1e7e7a6
2023-12-07 16:29:42,660 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s2/864dc145-d36c-4cb0-b392-34a8b1e7e7a6/in_use.lock acquired by nodename 9497@fv-az527-45
2023-12-07 16:29:42,661 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s2/864dc145-d36c-4cb0-b392-34a8b1e7e7a6/current
2023-12-07 16:29:42,661 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s2/864dc145-d36c-4cb0-b392-34a8b1e7e7a6/sm
2023-12-07 16:29:42,661 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s2/864dc145-d36c-4cb0-b392-34a8b1e7e7a6/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@3394e690
2023-12-07 16:29:42,661 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s2/864dc145-d36c-4cb0-b392-34a8b1e7e7a6/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s2/864dc145-d36c-4cb0-b392-34a8b1e7e7a6/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:42,662 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s2/864dc145-d36c-4cb0-b392-34a8b1e7e7a6 has been successfully formatted.
2023-12-07 16:29:42,662 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s2/864dc145-d36c-4cb0-b392-34a8b1e7e7a6/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s2/864dc145-d36c-4cb0-b392-34a8b1e7e7a6/current/raft-meta.conf
	at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:92)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:116)
	at java.base/sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:219)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:371)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:422)
	at java.base/java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:420)
	at java.base/java.nio.file.Files.newInputStream(Files.java:156)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:388)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:182)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:42,662 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-12-07 16:29:42,662 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-12-07 16:29:42,662 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:42,662 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-12-07 16:29:42,662 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-12-07 16:29:42,662 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:42,662 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-12-07 16:29:42,662 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-12-07 16:29:42,662 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:42,662 [s2-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s2@group-34A8B1E7E7A6-cacheEviction-AwaitToRun,5,main] started
2023-12-07 16:29:42,663 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s2@group-34A8B1E7E7A6-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s2/864dc145-d36c-4cb0-b392-34a8b1e7e7a6
2023-12-07 16:29:42,663 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-12-07 16:29:42,663 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-12-07 16:29:42,663 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:42,663 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-12-07 16:29:42,663 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-12-07 16:29:42,663 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-12-07 16:29:42,663 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-12-07 16:29:42,663 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-12-07 16:29:42,663 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2023-12-07 16:29:42,664 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:42,664 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-12-07 16:29:42,664 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-12-07 16:29:42,664 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-12-07 16:29:42,664 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-34A8B1E7E7A6-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:42,664 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-34A8B1E7E7A6-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:42,665 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s2@group-34A8B1E7E7A6: start as a follower, conf=-1: peers:[s0|localhost:46295, s1|localhost:46349, s2|localhost:34823]|listeners:[], old=null
2023-12-07 16:29:42,665 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-34A8B1E7E7A6: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-12-07 16:29:42,665 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-34A8B1E7E7A6-FollowerState
2023-12-07 16:29:42,665 [s2@group-34A8B1E7E7A6-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:42,665 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-34A8B1E7E7A6,id=s2
2023-12-07 16:29:42,665 [s2@group-34A8B1E7E7A6-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:42,665 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2023-12-07 16:29:42,665 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-12-07 16:29:42,665 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-12-07 16:29:42,665 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-12-07 16:29:42,665 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(406)) - s2: start RPC server
2023-12-07 16:29:42,666 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 38997
2023-12-07 16:29:42,666 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 34823
2023-12-07 16:29:42,666 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 41997
2023-12-07 16:29:42,667 [JvmPauseMonitor14] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s2: Started
2023-12-07 16:29:42,667 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-12-07 16:29:42,667 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-34A8B1E7E7A6:t0, leader=null, voted=, raftlog=Memoized:s0@group-34A8B1E7E7A6-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:46295, s1|localhost:46349, s2|localhost:34823]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-34A8B1E7E7A6:t0, leader=null, voted=, raftlog=Memoized:s1@group-34A8B1E7E7A6-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:46295, s1|localhost:46349, s2|localhost:34823]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-34A8B1E7E7A6:t0, leader=null, voted=, raftlog=Memoized:s2@group-34A8B1E7E7A6-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:46295, s1|localhost:46349, s2|localhost:34823]|listeners:[], old=null RUNNING
2023-12-07 16:29:42,667 [Time-limited test] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(119)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-34A8B1E7E7A6:t0, leader=null, voted=, raftlog=Memoized:s0@group-34A8B1E7E7A6-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:46295, s1|localhost:46349, s2|localhost:34823]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-34A8B1E7E7A6:t0, leader=null, voted=, raftlog=Memoized:s1@group-34A8B1E7E7A6-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:46295, s1|localhost:46349, s2|localhost:34823]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-34A8B1E7E7A6:t0, leader=null, voted=, raftlog=Memoized:s2@group-34A8B1E7E7A6-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:46295, s1|localhost:46349, s2|localhost:34823]|listeners:[], old=null RUNNING
2023-12-07 16:29:42,843 [s1@group-34A8B1E7E7A6-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-34A8B1E7E7A6-FollowerState: change to CANDIDATE, lastRpcElapsedTime:185746150ns, electionTimeout:185ms
2023-12-07 16:29:42,843 [s1@group-34A8B1E7E7A6-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-34A8B1E7E7A6-FollowerState
2023-12-07 16:29:42,843 [s1@group-34A8B1E7E7A6-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-34A8B1E7E7A6: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-12-07 16:29:42,843 [s1@group-34A8B1E7E7A6-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-12-07 16:29:42,843 [s1@group-34A8B1E7E7A6-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-34A8B1E7E7A6-LeaderElection8
2023-12-07 16:29:42,844 [s1@group-34A8B1E7E7A6-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-34A8B1E7E7A6-LeaderElection8 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|localhost:46295, s1|localhost:46349, s2|localhost:34823]|listeners:[], old=null
2023-12-07 16:29:42,844 [s1@group-34A8B1E7E7A6-LeaderElection8-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s0
2023-12-07 16:29:42,844 [s1@group-34A8B1E7E7A6-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:42,844 [s1@group-34A8B1E7E7A6-LeaderElection8-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s2
2023-12-07 16:29:42,844 [s1@group-34A8B1E7E7A6-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:42,848 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s0@group-34A8B1E7E7A6: receive requestVote(PRE_VOTE, s1, group-34A8B1E7E7A6, 0, (t:0, i:0))
2023-12-07 16:29:42,848 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s2@group-34A8B1E7E7A6: receive requestVote(PRE_VOTE, s1, group-34A8B1E7E7A6, 0, (t:0, i:0))
2023-12-07 16:29:42,848 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-34A8B1E7E7A6-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-12-07 16:29:42,848 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-34A8B1E7E7A6-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-12-07 16:29:42,848 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s0@group-34A8B1E7E7A6 replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-34A8B1E7E7A6:t0, leader=null, voted=, raftlog=Memoized:s0@group-34A8B1E7E7A6-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:46295, s1|localhost:46349, s2|localhost:34823]|listeners:[], old=null
2023-12-07 16:29:42,848 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s2@group-34A8B1E7E7A6 replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-34A8B1E7E7A6:t0, leader=null, voted=, raftlog=Memoized:s2@group-34A8B1E7E7A6-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:46295, s1|localhost:46349, s2|localhost:34823]|listeners:[], old=null
2023-12-07 16:29:42,849 [s1@group-34A8B1E7E7A6-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-34A8B1E7E7A6-LeaderElection8: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-12-07 16:29:42,849 [s1@group-34A8B1E7E7A6-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t0
2023-12-07 16:29:42,849 [s1@group-34A8B1E7E7A6-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-34A8B1E7E7A6-LeaderElection8 PRE_VOTE round 0: result PASSED
2023-12-07 16:29:42,849 [s1@group-34A8B1E7E7A6-LeaderElection8] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s1/864dc145-d36c-4cb0-b392-34a8b1e7e7a6/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@7dc2ee2d
2023-12-07 16:29:42,850 [s1@group-34A8B1E7E7A6-LeaderElection8] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s1/864dc145-d36c-4cb0-b392-34a8b1e7e7a6/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s1/864dc145-d36c-4cb0-b392-34a8b1e7e7a6/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:42,850 [s1@group-34A8B1E7E7A6-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-34A8B1E7E7A6-LeaderElection8 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|localhost:46295, s1|localhost:46349, s2|localhost:34823]|listeners:[], old=null
2023-12-07 16:29:42,856 [s1@group-34A8B1E7E7A6-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:42,856 [s1@group-34A8B1E7E7A6-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:42,856 [s2@group-34A8B1E7E7A6-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:42,856 [s2@group-34A8B1E7E7A6-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:42,858 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s2@group-34A8B1E7E7A6: receive requestVote(ELECTION, s1, group-34A8B1E7E7A6, 1, (t:0, i:0))
2023-12-07 16:29:42,858 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-34A8B1E7E7A6-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2023-12-07 16:29:42,858 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s0@group-34A8B1E7E7A6: receive requestVote(ELECTION, s1, group-34A8B1E7E7A6, 1, (t:0, i:0))
2023-12-07 16:29:42,858 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-34A8B1E7E7A6: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2023-12-07 16:29:42,858 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-34A8B1E7E7A6-FollowerState
2023-12-07 16:29:42,858 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-34A8B1E7E7A6-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2023-12-07 16:29:42,858 [s2@group-34A8B1E7E7A6-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-34A8B1E7E7A6-FollowerState was interrupted
2023-12-07 16:29:42,858 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-34A8B1E7E7A6: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2023-12-07 16:29:42,859 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-34A8B1E7E7A6-FollowerState
2023-12-07 16:29:42,859 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-34A8B1E7E7A6-FollowerState
2023-12-07 16:29:42,859 [s0@group-34A8B1E7E7A6-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-34A8B1E7E7A6-FollowerState was interrupted
2023-12-07 16:29:42,859 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-34A8B1E7E7A6-FollowerState
2023-12-07 16:29:42,859 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(564)) - s2@group-34A8B1E7E7A6: set firstElectionSinceStartup to false for candidate:s1
2023-12-07 16:29:42,859 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(564)) - s0@group-34A8B1E7E7A6: set firstElectionSinceStartup to false for candidate:s1
2023-12-07 16:29:42,859 [grpc-default-executor-5] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s2/864dc145-d36c-4cb0-b392-34a8b1e7e7a6/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1c7c41e1
2023-12-07 16:29:42,859 [grpc-default-executor-3] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s0/864dc145-d36c-4cb0-b392-34a8b1e7e7a6/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@7ff05c6b
2023-12-07 16:29:42,860 [grpc-default-executor-5] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s2/864dc145-d36c-4cb0-b392-34a8b1e7e7a6/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s2/864dc145-d36c-4cb0-b392-34a8b1e7e7a6/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:42,860 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s2@group-34A8B1E7E7A6 replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-34A8B1E7E7A6:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-34A8B1E7E7A6-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:46295, s1|localhost:46349, s2|localhost:34823]|listeners:[], old=null
2023-12-07 16:29:42,860 [grpc-default-executor-3] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s0/864dc145-d36c-4cb0-b392-34a8b1e7e7a6/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s0/864dc145-d36c-4cb0-b392-34a8b1e7e7a6/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:42,860 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s0@group-34A8B1E7E7A6 replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-34A8B1E7E7A6:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-34A8B1E7E7A6-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:46295, s1|localhost:46349, s2|localhost:34823]|listeners:[], old=null
2023-12-07 16:29:42,861 [s1@group-34A8B1E7E7A6-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-34A8B1E7E7A6-LeaderElection8: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-12-07 16:29:42,861 [s1@group-34A8B1E7E7A6-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t1
2023-12-07 16:29:42,861 [s1@group-34A8B1E7E7A6-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-34A8B1E7E7A6-LeaderElection8 ELECTION round 0: result PASSED
2023-12-07 16:29:42,861 [s1@group-34A8B1E7E7A6-LeaderElection8] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-34A8B1E7E7A6-LeaderElection8
2023-12-07 16:29:42,861 [s1@group-34A8B1E7E7A6-LeaderElection8] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-34A8B1E7E7A6: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-12-07 16:29:42,861 [s1@group-34A8B1E7E7A6-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-12-07 16:29:42,861 [s1@group-34A8B1E7E7A6-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-12-07 16:29:42,861 [s1@group-34A8B1E7E7A6-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2023-12-07 16:29:42,861 [s1@group-34A8B1E7E7A6-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-12-07 16:29:42,861 [s1@group-34A8B1E7E7A6-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-12-07 16:29:42,861 [s1@group-34A8B1E7E7A6-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-12-07 16:29:42,862 [s1@group-34A8B1E7E7A6-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = true (custom)
2023-12-07 16:29:42,862 [s1@group-34A8B1E7E7A6-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2023-12-07 16:29:42,862 [s1@group-34A8B1E7E7A6-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-12-07 16:29:42,862 [s1@group-34A8B1E7E7A6-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-12-07 16:29:42,862 [s1@group-34A8B1E7E7A6-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-12-07 16:29:42,862 [s1@group-34A8B1E7E7A6-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-12-07 16:29:42,862 [s1@group-34A8B1E7E7A6-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:42,862 [s1@group-34A8B1E7E7A6-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-12-07 16:29:42,862 [s1@group-34A8B1E7E7A6-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2023-12-07 16:29:42,862 [s1@group-34A8B1E7E7A6-LeaderElection8] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2023-12-07 16:29:42,862 [s1@group-34A8B1E7E7A6-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:42,862 [s1@group-34A8B1E7E7A6-LeaderElection8] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2023-12-07 16:29:42,862 [s1@group-34A8B1E7E7A6-LeaderElection8] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2023-12-07 16:29:42,862 [s1@group-34A8B1E7E7A6-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:42,862 [s1@group-34A8B1E7E7A6-LeaderElection8] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:42,862 [s1@group-34A8B1E7E7A6-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-12-07 16:29:42,862 [s1@group-34A8B1E7E7A6-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:42,862 [s1@group-34A8B1E7E7A6-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-12-07 16:29:42,862 [s1@group-34A8B1E7E7A6-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2023-12-07 16:29:42,863 [s1@group-34A8B1E7E7A6-LeaderElection8] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2023-12-07 16:29:42,863 [s1@group-34A8B1E7E7A6-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:42,863 [s1@group-34A8B1E7E7A6-LeaderElection8] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2023-12-07 16:29:42,863 [s1@group-34A8B1E7E7A6-LeaderElection8] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2023-12-07 16:29:42,863 [s1@group-34A8B1E7E7A6-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:42,863 [s1@group-34A8B1E7E7A6-LeaderElection8] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:42,863 [s1@group-34A8B1E7E7A6-LeaderElection8] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-34A8B1E7E7A6-LeaderStateImpl
2023-12-07 16:29:42,863 [s1@group-34A8B1E7E7A6-LeaderElection8] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(564)) - s1@group-34A8B1E7E7A6: set firstElectionSinceStartup to false for becomeLeader
2023-12-07 16:29:42,863 [s1@group-34A8B1E7E7A6-LeaderElection8] INFO  server.RaftServer$Division (ServerState.java:setLeader(265)) - s1@group-34A8B1E7E7A6: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 224ms
2023-12-07 16:29:42,863 [s1@group-34A8B1E7E7A6-LeaderElection8] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s1@group-34A8B1E7E7A6-SegmentedRaftLogWorker: Starting segment from index:0
2023-12-07 16:29:42,863 [s1@group-34A8B1E7E7A6-LeaderElection8] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(382)) - s1@group-34A8B1E7E7A6: set configuration 0: peers:[s0|localhost:46295, s1|localhost:46349, s2|localhost:34823]|listeners:[], old=null
2023-12-07 16:29:42,863 [s1@group-34A8B1E7E7A6-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2023-12-07 16:29:42,870 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(265)) - s0@group-34A8B1E7E7A6: change Leader from null to s1 at term 1 for appendEntries, leader elected after 234ms
2023-12-07 16:29:42,870 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(265)) - s2@group-34A8B1E7E7A6: change Leader from null to s1 at term 1 for appendEntries, leader elected after 227ms
2023-12-07 16:29:42,871 [s1@group-34A8B1E7E7A6-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s1@group-34A8B1E7E7A6-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s1/864dc145-d36c-4cb0-b392-34a8b1e7e7a6/current/log_inprogress_0
2023-12-07 16:29:42,873 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-34A8B1E7E7A6: receive appendEntries(s1, 1, null, -1, true, commits:[s1:c-1, s0:c-1, s2:c-1], cId:1, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:46295"
dataStreamAddress: "localhost:45435"
clientAddress: "localhost:32851"
adminAddress: "localhost:34921"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:46349"
dataStreamAddress: "localhost:42275"
clientAddress: "localhost:41263"
adminAddress: "localhost:36643"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:34823"
dataStreamAddress: "localhost:43357"
clientAddress: "localhost:38997"
adminAddress: "localhost:41997"
startupRole: FOLLOWER
, old:)]
2023-12-07 16:29:42,873 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-34A8B1E7E7A6: receive appendEntries(s1, 1, null, -1, true, commits:[s1:c-1, s0:c-1, s2:c-1], cId:1, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:46295"
dataStreamAddress: "localhost:45435"
clientAddress: "localhost:32851"
adminAddress: "localhost:34921"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:46349"
dataStreamAddress: "localhost:42275"
clientAddress: "localhost:41263"
adminAddress: "localhost:36643"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:34823"
dataStreamAddress: "localhost:43357"
clientAddress: "localhost:38997"
adminAddress: "localhost:41997"
startupRole: FOLLOWER
, old:)]
2023-12-07 16:29:42,876 [s0-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(382)) - s0@group-34A8B1E7E7A6: set configuration 0: peers:[s0|localhost:46295, s1|localhost:46349, s2|localhost:34823]|listeners:[], old=null
2023-12-07 16:29:42,876 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(382)) - s2@group-34A8B1E7E7A6: set configuration 0: peers:[s0|localhost:46295, s1|localhost:46349, s2|localhost:34823]|listeners:[], old=null
2023-12-07 16:29:42,876 [s0-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s0@group-34A8B1E7E7A6-SegmentedRaftLogWorker: Starting segment from index:0
2023-12-07 16:29:42,876 [s2-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s2@group-34A8B1E7E7A6-SegmentedRaftLogWorker: Starting segment from index:0
2023-12-07 16:29:42,877 [s2@group-34A8B1E7E7A6-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2023-12-07 16:29:42,880 [s0@group-34A8B1E7E7A6-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2023-12-07 16:29:42,887 [s2@group-34A8B1E7E7A6-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s2@group-34A8B1E7E7A6-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s2/864dc145-d36c-4cb0-b392-34a8b1e7e7a6/current/log_inprogress_0
2023-12-07 16:29:42,887 [s0@group-34A8B1E7E7A6-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s0@group-34A8B1E7E7A6-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s0/864dc145-d36c-4cb0-b392-34a8b1e7e7a6/current/log_inprogress_0
2023-12-07 16:29:42,887 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-34A8B1E7E7A6: succeeded to handle AppendEntries. Reply: s1<-s2#1:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-12-07 16:29:42,887 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-34A8B1E7E7A6: succeeded to handle AppendEntries. Reply: s1<-s0#1:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-12-07 16:29:42,888 [s1@group-34A8B1E7E7A6-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s1/864dc145-d36c-4cb0-b392-34a8b1e7e7a6/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@35d6a882
2023-12-07 16:29:42,890 [s1@group-34A8B1E7E7A6-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s1/864dc145-d36c-4cb0-b392-34a8b1e7e7a6/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s1/864dc145-d36c-4cb0-b392-34a8b1e7e7a6/current/raft-meta.conf with options [REPLACE_EXISTING]
2023-12-07 16:29:42,890 [s1@group-34A8B1E7E7A6-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:isApplied(320)) - leader is ready since appliedIndex == 0 >= startIndex == 0
2023-12-07 16:29:42,965 [s0@group-34A8B1E7E7A6-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s0/864dc145-d36c-4cb0-b392-34a8b1e7e7a6/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@3227e883
2023-12-07 16:29:42,965 [s2@group-34A8B1E7E7A6-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s2/864dc145-d36c-4cb0-b392-34a8b1e7e7a6/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@9794f0e
2023-12-07 16:29:42,967 [s0@group-34A8B1E7E7A6-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s0/864dc145-d36c-4cb0-b392-34a8b1e7e7a6/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s0/864dc145-d36c-4cb0-b392-34a8b1e7e7a6/current/raft-meta.conf with options [REPLACE_EXISTING]
2023-12-07 16:29:42,967 [s2@group-34A8B1E7E7A6-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s2/864dc145-d36c-4cb0-b392-34a8b1e7e7a6/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc84e3d2c7/s2/864dc145-d36c-4cb0-b392-34a8b1e7e7a6/current/raft-meta.conf with options [REPLACE_EXISTING]
2023-12-07 16:29:43,118 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-34A8B1E7E7A6:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-34A8B1E7E7A6-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:46295, s1|localhost:46349, s2|localhost:34823]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-34A8B1E7E7A6:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-34A8B1E7E7A6-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:46295, s1|localhost:46349, s2|localhost:34823]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-34A8B1E7E7A6:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-34A8B1E7E7A6-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:46295, s1|localhost:46349, s2|localhost:34823]|listeners:[], old=null RUNNING
2023-12-07 16:29:43,123 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s1@group-34A8B1E7E7A6: receive client request(RaftClientRequest:client-26F2D8619659->s1@group-34A8B1E7E7A6, cid=60, seq=null, RW, Message:494e4352454d454e54)
2023-12-07 16:29:43,123 [s1-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s1@group-34A8B1E7E7A6-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-26F2D8619659->s1@group-34A8B1E7E7A6, cid=60, seq=null, RW, Message:494e4352454d454e54, entry=(t:1, i:1), STATEMACHINELOGENTRY, 60@client-26F2D8619659
2023-12-07 16:29:43,124 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-34A8B1E7E7A6: receive appendEntries(s1, 1, (t:1, i:0), 0, true, commits:[s1:c0, s0:c0, s2:c0], cId:6, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 60@client-26F2D8619659]
2023-12-07 16:29:43,124 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-34A8B1E7E7A6: receive appendEntries(s1, 1, (t:1, i:0), 0, true, commits:[s1:c0, s0:c0, s2:c0], cId:8, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 60@client-26F2D8619659]
2023-12-07 16:29:43,125 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-34A8B1E7E7A6: succeeded to handle AppendEntries. Reply: s1<-s0#8:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2023-12-07 16:29:43,125 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-34A8B1E7E7A6: succeeded to handle AppendEntries. Reply: s1<-s2#6:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2023-12-07 16:29:43,125 [s1@group-34A8B1E7E7A6-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:43,126 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-34A8B1E7E7A6: receive appendEntries(s1, 1, (t:1, i:1), 1, true, commits:[s1:c1, s0:c0, s2:c0], cId:7, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2023-12-07 16:29:43,126 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-34A8B1E7E7A6: receive appendEntries(s1, 1, (t:1, i:1), 1, true, commits:[s1:c1, s0:c0, s2:c0], cId:9, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2023-12-07 16:29:43,127 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-34A8B1E7E7A6: succeeded to handle AppendEntries. Reply: s1<-s2#7:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2023-12-07 16:29:43,127 [s2@group-34A8B1E7E7A6-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:43,128 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-34A8B1E7E7A6: succeeded to handle AppendEntries. Reply: s1<-s0#9:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2023-12-07 16:29:43,128 [s0@group-34A8B1E7E7A6-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:43,131 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s0@group-34A8B1E7E7A6: receive client request(RaftClientRequest:client-26F2D8619659->s0@group-34A8B1E7E7A6, cid=61, seq=null, RO, Message:5155455259)
2023-12-07 16:29:43,131 [s0-client-thread1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s1
2023-12-07 16:29:43,133 [s1-server-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=2, readAfterWriteConsistentIndex=null
2023-12-07 16:29:43,208 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s1@group-34A8B1E7E7A6: receive client request(RaftClientRequest:client-26F2D8619659->s1@group-34A8B1E7E7A6, cid=62, seq=1*, Watch(0), Message:<EMPTY>)
2023-12-07 16:29:43,209 [s1-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addWatchReqeust(540)) - s1@group-34A8B1E7E7A6-LeaderStateImpl: addWatchRequest RaftClientRequest:client-26F2D8619659->s1@group-34A8B1E7E7A6, cid=62, seq=1*, Watch(0), Message:<EMPTY>
2023-12-07 16:29:43,211 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-34A8B1E7E7A6: receive client request(RaftClientRequest:client-26F2D8619659->s2@group-34A8B1E7E7A6, cid=63, seq=1*, RO, Message:5155455259)
2023-12-07 16:29:43,212 [s2-client-thread1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s1
2023-12-07 16:29:43,214 [s1-server-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=2, readAfterWriteConsistentIndex=null
2023-12-07 16:29:43,217 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s1@group-34A8B1E7E7A6: receive client request(RaftClientRequest:client-26F2D8619659->s1@group-34A8B1E7E7A6, cid=64, seq=null, RW, Message:494e4352454d454e54)
2023-12-07 16:29:43,218 [s1-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s1@group-34A8B1E7E7A6-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-26F2D8619659->s1@group-34A8B1E7E7A6, cid=64, seq=null, RW, Message:494e4352454d454e54, entry=(t:1, i:3), STATEMACHINELOGENTRY, 64@client-26F2D8619659
2023-12-07 16:29:43,218 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-34A8B1E7E7A6: receive appendEntries(s1, 1, (t:1, i:2), 2, true, commits:[s1:c2, s0:c2, s2:c2], cId:10, entries: [(t:1, i:3), STATEMACHINELOGENTRY, 64@client-26F2D8619659]
2023-12-07 16:29:43,218 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-34A8B1E7E7A6: receive appendEntries(s1, 1, (t:1, i:2), 2, true, commits:[s1:c2, s0:c2, s2:c2], cId:13, entries: [(t:1, i:3), STATEMACHINELOGENTRY, 64@client-26F2D8619659]
2023-12-07 16:29:43,219 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-34A8B1E7E7A6: succeeded to handle AppendEntries. Reply: s1<-s2#10:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2023-12-07 16:29:43,219 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-34A8B1E7E7A6: succeeded to handle AppendEntries. Reply: s1<-s0#13:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2023-12-07 16:29:43,220 [s1@group-34A8B1E7E7A6-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:43,220 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-34A8B1E7E7A6: receive appendEntries(s1, 1, (t:1, i:3), 3, true, commits:[s1:c3, s0:c2, s2:c2], cId:14, entries: [(t:1, i:4), METADATAENTRY(c:3)]
2023-12-07 16:29:43,220 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-34A8B1E7E7A6: receive appendEntries(s1, 1, (t:1, i:3), 3, true, commits:[s1:c3, s0:c2, s2:c2], cId:11, entries: [(t:1, i:4), METADATAENTRY(c:3)]
2023-12-07 16:29:43,221 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-34A8B1E7E7A6: succeeded to handle AppendEntries. Reply: s1<-s2#11:OK-t1,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2023-12-07 16:29:43,221 [s2@group-34A8B1E7E7A6-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:43,221 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-34A8B1E7E7A6: succeeded to handle AppendEntries. Reply: s1<-s0#14:OK-t1,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2023-12-07 16:29:43,221 [s0@group-34A8B1E7E7A6-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:43,223 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s0@group-34A8B1E7E7A6: receive client request(RaftClientRequest:client-26F2D8619659->s0@group-34A8B1E7E7A6, cid=65, seq=null, RO, Message:5155455259)
2023-12-07 16:29:43,224 [s1-server-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=4, readAfterWriteConsistentIndex=null
2023-12-07 16:29:43,300 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-34A8B1E7E7A6: receive client request(RaftClientRequest:client-26F2D8619659->s2@group-34A8B1E7E7A6, cid=66, seq=2, RO, Message:5155455259)
2023-12-07 16:29:43,301 [s1-server-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=4, readAfterWriteConsistentIndex=null
2023-12-07 16:29:43,303 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s1@group-34A8B1E7E7A6: receive client request(RaftClientRequest:client-26F2D8619659->s1@group-34A8B1E7E7A6, cid=67, seq=null, RW, Message:494e4352454d454e54)
2023-12-07 16:29:43,303 [s1-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s1@group-34A8B1E7E7A6-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-26F2D8619659->s1@group-34A8B1E7E7A6, cid=67, seq=null, RW, Message:494e4352454d454e54, entry=(t:1, i:5), STATEMACHINELOGENTRY, 67@client-26F2D8619659
2023-12-07 16:29:43,304 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-34A8B1E7E7A6: receive appendEntries(s1, 1, (t:1, i:4), 4, true, commits:[s1:c4, s0:c4, s2:c4], cId:18, entries: [(t:1, i:5), STATEMACHINELOGENTRY, 67@client-26F2D8619659]
2023-12-07 16:29:43,304 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-34A8B1E7E7A6: receive appendEntries(s1, 1, (t:1, i:4), 4, true, commits:[s1:c4, s0:c4, s2:c4], cId:14, entries: [(t:1, i:5), STATEMACHINELOGENTRY, 67@client-26F2D8619659]
2023-12-07 16:29:43,305 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-34A8B1E7E7A6: succeeded to handle AppendEntries. Reply: s1<-s0#18:OK-t1,SUCCESS,nextIndex=6,followerCommit=4,matchIndex=5
2023-12-07 16:29:43,305 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-34A8B1E7E7A6: succeeded to handle AppendEntries. Reply: s1<-s2#14:OK-t1,SUCCESS,nextIndex=6,followerCommit=4,matchIndex=5
2023-12-07 16:29:43,306 [s1@group-34A8B1E7E7A6-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:43,306 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-34A8B1E7E7A6: receive appendEntries(s1, 1, (t:1, i:5), 5, true, commits:[s1:c5, s0:c4, s2:c4], cId:19, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2023-12-07 16:29:43,306 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-34A8B1E7E7A6: receive appendEntries(s1, 1, (t:1, i:5), 5, true, commits:[s1:c5, s0:c4, s2:c4], cId:15, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2023-12-07 16:29:43,307 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-34A8B1E7E7A6: succeeded to handle AppendEntries. Reply: s1<-s0#19:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2023-12-07 16:29:43,307 [s0@group-34A8B1E7E7A6-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:43,307 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-34A8B1E7E7A6: succeeded to handle AppendEntries. Reply: s1<-s2#15:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2023-12-07 16:29:43,307 [s2@group-34A8B1E7E7A6-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:43,309 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s0@group-34A8B1E7E7A6: receive client request(RaftClientRequest:client-26F2D8619659->s0@group-34A8B1E7E7A6, cid=68, seq=null, RO, Message:5155455259)
2023-12-07 16:29:43,309 [s1-server-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=6, readAfterWriteConsistentIndex=null
2023-12-07 16:29:43,387 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-34A8B1E7E7A6: receive client request(RaftClientRequest:client-26F2D8619659->s2@group-34A8B1E7E7A6, cid=69, seq=3, RO, Message:5155455259)
2023-12-07 16:29:43,388 [s1-server-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=6, readAfterWriteConsistentIndex=null
2023-12-07 16:29:43,390 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s1@group-34A8B1E7E7A6: receive client request(RaftClientRequest:client-26F2D8619659->s1@group-34A8B1E7E7A6, cid=70, seq=null, RW, Message:494e4352454d454e54)
2023-12-07 16:29:43,391 [s1-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s1@group-34A8B1E7E7A6-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-26F2D8619659->s1@group-34A8B1E7E7A6, cid=70, seq=null, RW, Message:494e4352454d454e54, entry=(t:1, i:7), STATEMACHINELOGENTRY, 70@client-26F2D8619659
2023-12-07 16:29:43,392 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-34A8B1E7E7A6: receive appendEntries(s1, 1, (t:1, i:6), 6, true, commits:[s1:c6, s0:c6, s2:c6], cId:18, entries: [(t:1, i:7), STATEMACHINELOGENTRY, 70@client-26F2D8619659]
2023-12-07 16:29:43,392 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-34A8B1E7E7A6: receive appendEntries(s1, 1, (t:1, i:6), 6, true, commits:[s1:c6, s0:c6, s2:c6], cId:22, entries: [(t:1, i:7), STATEMACHINELOGENTRY, 70@client-26F2D8619659]
2023-12-07 16:29:43,392 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-34A8B1E7E7A6: succeeded to handle AppendEntries. Reply: s1<-s2#18:OK-t1,SUCCESS,nextIndex=8,followerCommit=6,matchIndex=7
2023-12-07 16:29:43,392 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-34A8B1E7E7A6: succeeded to handle AppendEntries. Reply: s1<-s0#22:OK-t1,SUCCESS,nextIndex=8,followerCommit=6,matchIndex=7
2023-12-07 16:29:43,393 [s1@group-34A8B1E7E7A6-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:43,393 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-34A8B1E7E7A6: receive appendEntries(s1, 1, (t:1, i:7), 7, true, commits:[s1:c7, s0:c6, s2:c6], cId:23, entries: [(t:1, i:8), METADATAENTRY(c:7)]
2023-12-07 16:29:43,394 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-34A8B1E7E7A6: succeeded to handle AppendEntries. Reply: s1<-s0#23:OK-t1,SUCCESS,nextIndex=9,followerCommit=7,matchIndex=8
2023-12-07 16:29:43,394 [s0@group-34A8B1E7E7A6-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:43,394 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-34A8B1E7E7A6: receive appendEntries(s1, 1, (t:1, i:7), 7, true, commits:[s1:c7, s0:c6, s2:c6], cId:19, entries: [(t:1, i:8), METADATAENTRY(c:7)]
2023-12-07 16:29:43,395 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-34A8B1E7E7A6: succeeded to handle AppendEntries. Reply: s1<-s2#19:OK-t1,SUCCESS,nextIndex=9,followerCommit=7,matchIndex=8
2023-12-07 16:29:43,395 [s2@group-34A8B1E7E7A6-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:43,395 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s0@group-34A8B1E7E7A6: receive client request(RaftClientRequest:client-26F2D8619659->s0@group-34A8B1E7E7A6, cid=71, seq=null, RO, Message:5155455259)
2023-12-07 16:29:43,396 [s1-server-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=8, readAfterWriteConsistentIndex=null
2023-12-07 16:29:43,474 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-34A8B1E7E7A6: receive client request(RaftClientRequest:client-26F2D8619659->s2@group-34A8B1E7E7A6, cid=72, seq=4, RO, Message:5155455259)
2023-12-07 16:29:43,475 [s1-server-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=8, readAfterWriteConsistentIndex=null
2023-12-07 16:29:43,478 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s1@group-34A8B1E7E7A6: receive client request(RaftClientRequest:client-26F2D8619659->s1@group-34A8B1E7E7A6, cid=73, seq=null, RW, Message:494e4352454d454e54)
2023-12-07 16:29:43,478 [s1-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s1@group-34A8B1E7E7A6-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-26F2D8619659->s1@group-34A8B1E7E7A6, cid=73, seq=null, RW, Message:494e4352454d454e54, entry=(t:1, i:9), STATEMACHINELOGENTRY, 73@client-26F2D8619659
2023-12-07 16:29:43,479 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-34A8B1E7E7A6: receive appendEntries(s1, 1, (t:1, i:8), 8, true, commits:[s1:c8, s0:c8, s2:c8], cId:28, entries: [(t:1, i:9), STATEMACHINELOGENTRY, 73@client-26F2D8619659]
2023-12-07 16:29:43,479 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-34A8B1E7E7A6: receive appendEntries(s1, 1, (t:1, i:8), 8, true, commits:[s1:c8, s0:c8, s2:c8], cId:24, entries: [(t:1, i:9), STATEMACHINELOGENTRY, 73@client-26F2D8619659]
2023-12-07 16:29:43,479 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-34A8B1E7E7A6: succeeded to handle AppendEntries. Reply: s1<-s0#28:OK-t1,SUCCESS,nextIndex=10,followerCommit=8,matchIndex=9
2023-12-07 16:29:43,479 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-34A8B1E7E7A6: succeeded to handle AppendEntries. Reply: s1<-s2#24:OK-t1,SUCCESS,nextIndex=10,followerCommit=8,matchIndex=9
2023-12-07 16:29:43,480 [s1@group-34A8B1E7E7A6-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:43,480 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-34A8B1E7E7A6: receive appendEntries(s1, 1, (t:1, i:9), 9, true, commits:[s1:c9, s0:c8, s2:c8], cId:29, entries: [(t:1, i:10), METADATAENTRY(c:9)]
2023-12-07 16:29:43,481 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-34A8B1E7E7A6: receive appendEntries(s1, 1, (t:1, i:9), 9, true, commits:[s1:c9, s0:c8, s2:c8], cId:25, entries: [(t:1, i:10), METADATAENTRY(c:9)]
2023-12-07 16:29:43,481 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-34A8B1E7E7A6: succeeded to handle AppendEntries. Reply: s1<-s0#29:OK-t1,SUCCESS,nextIndex=11,followerCommit=9,matchIndex=10
2023-12-07 16:29:43,481 [s0@group-34A8B1E7E7A6-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:43,481 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-34A8B1E7E7A6: succeeded to handle AppendEntries. Reply: s1<-s2#25:OK-t1,SUCCESS,nextIndex=11,followerCommit=9,matchIndex=10
2023-12-07 16:29:43,482 [s2@group-34A8B1E7E7A6-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:43,482 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s0@group-34A8B1E7E7A6: receive client request(RaftClientRequest:client-26F2D8619659->s0@group-34A8B1E7E7A6, cid=74, seq=null, RO, Message:5155455259)
2023-12-07 16:29:43,483 [s1-server-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=10, readAfterWriteConsistentIndex=null
2023-12-07 16:29:43,560 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-34A8B1E7E7A6: receive client request(RaftClientRequest:client-26F2D8619659->s2@group-34A8B1E7E7A6, cid=75, seq=5, RO, Message:5155455259)
2023-12-07 16:29:43,561 [s1-server-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=10, readAfterWriteConsistentIndex=null
2023-12-07 16:29:43,563 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s1@group-34A8B1E7E7A6: receive client request(RaftClientRequest:client-26F2D8619659->s1@group-34A8B1E7E7A6, cid=76, seq=null, RW, Message:494e4352454d454e54)
2023-12-07 16:29:43,563 [s1-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s1@group-34A8B1E7E7A6-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-26F2D8619659->s1@group-34A8B1E7E7A6, cid=76, seq=null, RW, Message:494e4352454d454e54, entry=(t:1, i:11), STATEMACHINELOGENTRY, 76@client-26F2D8619659
2023-12-07 16:29:43,564 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-34A8B1E7E7A6: receive appendEntries(s1, 1, (t:1, i:10), 10, true, commits:[s1:c10, s0:c10, s2:c10], cId:29, entries: [(t:1, i:11), STATEMACHINELOGENTRY, 76@client-26F2D8619659]
2023-12-07 16:29:43,564 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-34A8B1E7E7A6: receive appendEntries(s1, 1, (t:1, i:10), 10, true, commits:[s1:c10, s0:c10, s2:c10], cId:34, entries: [(t:1, i:11), STATEMACHINELOGENTRY, 76@client-26F2D8619659]
2023-12-07 16:29:43,564 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-34A8B1E7E7A6: succeeded to handle AppendEntries. Reply: s1<-s2#29:OK-t1,SUCCESS,nextIndex=12,followerCommit=10,matchIndex=11
2023-12-07 16:29:43,565 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-34A8B1E7E7A6: succeeded to handle AppendEntries. Reply: s1<-s0#34:OK-t1,SUCCESS,nextIndex=12,followerCommit=10,matchIndex=11
2023-12-07 16:29:43,565 [s1@group-34A8B1E7E7A6-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:43,566 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-34A8B1E7E7A6: receive appendEntries(s1, 1, (t:1, i:11), 11, true, commits:[s1:c11, s0:c10, s2:c10], cId:35, entries: [(t:1, i:12), METADATAENTRY(c:11)]
2023-12-07 16:29:43,566 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-34A8B1E7E7A6: receive appendEntries(s1, 1, (t:1, i:11), 11, true, commits:[s1:c11, s0:c10, s2:c10], cId:30, entries: [(t:1, i:12), METADATAENTRY(c:11)]
2023-12-07 16:29:43,566 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-34A8B1E7E7A6: succeeded to handle AppendEntries. Reply: s1<-s2#30:OK-t1,SUCCESS,nextIndex=13,followerCommit=11,matchIndex=12
2023-12-07 16:29:43,566 [s2@group-34A8B1E7E7A6-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:43,567 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-34A8B1E7E7A6: succeeded to handle AppendEntries. Reply: s1<-s0#35:OK-t1,SUCCESS,nextIndex=13,followerCommit=11,matchIndex=12
2023-12-07 16:29:43,567 [s0@group-34A8B1E7E7A6-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:43,568 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s0@group-34A8B1E7E7A6: receive client request(RaftClientRequest:client-26F2D8619659->s0@group-34A8B1E7E7A6, cid=77, seq=null, RO, Message:5155455259)
2023-12-07 16:29:43,568 [s1-server-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=12, readAfterWriteConsistentIndex=null
2023-12-07 16:29:43,647 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-34A8B1E7E7A6: receive client request(RaftClientRequest:client-26F2D8619659->s2@group-34A8B1E7E7A6, cid=78, seq=6, RO, Message:5155455259)
2023-12-07 16:29:43,648 [s1-server-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=12, readAfterWriteConsistentIndex=null
2023-12-07 16:29:43,650 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s1@group-34A8B1E7E7A6: receive client request(RaftClientRequest:client-26F2D8619659->s1@group-34A8B1E7E7A6, cid=79, seq=null, RW, Message:494e4352454d454e54)
2023-12-07 16:29:43,650 [s1-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s1@group-34A8B1E7E7A6-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-26F2D8619659->s1@group-34A8B1E7E7A6, cid=79, seq=null, RW, Message:494e4352454d454e54, entry=(t:1, i:13), STATEMACHINELOGENTRY, 79@client-26F2D8619659
2023-12-07 16:29:43,651 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-34A8B1E7E7A6: receive appendEntries(s1, 1, (t:1, i:12), 12, true, commits:[s1:c12, s0:c12, s2:c12], cId:33, entries: [(t:1, i:13), STATEMACHINELOGENTRY, 79@client-26F2D8619659]
2023-12-07 16:29:43,651 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-34A8B1E7E7A6: receive appendEntries(s1, 1, (t:1, i:12), 12, true, commits:[s1:c12, s0:c12, s2:c12], cId:40, entries: [(t:1, i:13), STATEMACHINELOGENTRY, 79@client-26F2D8619659]
2023-12-07 16:29:43,651 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-34A8B1E7E7A6: succeeded to handle AppendEntries. Reply: s1<-s2#33:OK-t1,SUCCESS,nextIndex=14,followerCommit=12,matchIndex=13
2023-12-07 16:29:43,652 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-34A8B1E7E7A6: succeeded to handle AppendEntries. Reply: s1<-s0#40:OK-t1,SUCCESS,nextIndex=14,followerCommit=12,matchIndex=13
2023-12-07 16:29:43,652 [s1@group-34A8B1E7E7A6-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:43,653 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-34A8B1E7E7A6: receive appendEntries(s1, 1, (t:1, i:13), 13, true, commits:[s1:c13, s0:c12, s2:c12], cId:34, entries: [(t:1, i:14), METADATAENTRY(c:13)]
2023-12-07 16:29:43,654 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-34A8B1E7E7A6: succeeded to handle AppendEntries. Reply: s1<-s2#34:OK-t1,SUCCESS,nextIndex=15,followerCommit=13,matchIndex=14
2023-12-07 16:29:43,654 [s2@group-34A8B1E7E7A6-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:43,654 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s0@group-34A8B1E7E7A6: receive client request(RaftClientRequest:client-26F2D8619659->s0@group-34A8B1E7E7A6, cid=80, seq=null, RO, Message:5155455259)
2023-12-07 16:29:43,655 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-34A8B1E7E7A6: receive appendEntries(s1, 1, (t:1, i:13), 13, true, commits:[s1:c13, s0:c12, s2:c12], cId:41, entries: [(t:1, i:14), METADATAENTRY(c:13)]
2023-12-07 16:29:43,655 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-34A8B1E7E7A6: succeeded to handle AppendEntries. Reply: s1<-s0#41:OK-t1,SUCCESS,nextIndex=15,followerCommit=13,matchIndex=14
2023-12-07 16:29:43,655 [s0@group-34A8B1E7E7A6-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:43,656 [s1-server-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=14, readAfterWriteConsistentIndex=null
2023-12-07 16:29:43,734 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-34A8B1E7E7A6: receive client request(RaftClientRequest:client-26F2D8619659->s2@group-34A8B1E7E7A6, cid=81, seq=7, RO, Message:5155455259)
2023-12-07 16:29:43,735 [s1-server-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=14, readAfterWriteConsistentIndex=null
2023-12-07 16:29:43,737 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s1@group-34A8B1E7E7A6: receive client request(RaftClientRequest:client-26F2D8619659->s1@group-34A8B1E7E7A6, cid=82, seq=null, RW, Message:494e4352454d454e54)
2023-12-07 16:29:43,737 [s1-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s1@group-34A8B1E7E7A6-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-26F2D8619659->s1@group-34A8B1E7E7A6, cid=82, seq=null, RW, Message:494e4352454d454e54, entry=(t:1, i:15), STATEMACHINELOGENTRY, 82@client-26F2D8619659
2023-12-07 16:29:43,738 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-34A8B1E7E7A6: receive appendEntries(s1, 1, (t:1, i:14), 14, true, commits:[s1:c14, s0:c14, s2:c14], cId:46, entries: [(t:1, i:15), STATEMACHINELOGENTRY, 82@client-26F2D8619659]
2023-12-07 16:29:43,738 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-34A8B1E7E7A6: receive appendEntries(s1, 1, (t:1, i:14), 14, true, commits:[s1:c14, s0:c14, s2:c14], cId:39, entries: [(t:1, i:15), STATEMACHINELOGENTRY, 82@client-26F2D8619659]
2023-12-07 16:29:43,738 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-34A8B1E7E7A6: succeeded to handle AppendEntries. Reply: s1<-s0#46:OK-t1,SUCCESS,nextIndex=16,followerCommit=14,matchIndex=15
2023-12-07 16:29:43,739 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-34A8B1E7E7A6: succeeded to handle AppendEntries. Reply: s1<-s2#39:OK-t1,SUCCESS,nextIndex=16,followerCommit=14,matchIndex=15
2023-12-07 16:29:43,739 [s1@group-34A8B1E7E7A6-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:43,740 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-34A8B1E7E7A6: receive appendEntries(s1, 1, (t:1, i:15), 15, true, commits:[s1:c15, s0:c14, s2:c14], cId:47, entries: [(t:1, i:16), METADATAENTRY(c:15)]
2023-12-07 16:29:43,740 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-34A8B1E7E7A6: receive appendEntries(s1, 1, (t:1, i:15), 15, true, commits:[s1:c15, s0:c14, s2:c14], cId:40, entries: [(t:1, i:16), METADATAENTRY(c:15)]
2023-12-07 16:29:43,740 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-34A8B1E7E7A6: succeeded to handle AppendEntries. Reply: s1<-s0#47:OK-t1,SUCCESS,nextIndex=17,followerCommit=15,matchIndex=16
2023-12-07 16:29:43,740 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-34A8B1E7E7A6: succeeded to handle AppendEntries. Reply: s1<-s2#40:OK-t1,SUCCESS,nextIndex=17,followerCommit=15,matchIndex=16
2023-12-07 16:29:43,740 [s0@group-34A8B1E7E7A6-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:43,740 [s2@group-34A8B1E7E7A6-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:43,742 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s0@group-34A8B1E7E7A6: receive client request(RaftClientRequest:client-26F2D8619659->s0@group-34A8B1E7E7A6, cid=83, seq=null, RO, Message:5155455259)
2023-12-07 16:29:43,742 [s1-server-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=16, readAfterWriteConsistentIndex=null
2023-12-07 16:29:43,820 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-34A8B1E7E7A6: receive client request(RaftClientRequest:client-26F2D8619659->s2@group-34A8B1E7E7A6, cid=84, seq=8, RO, Message:5155455259)
2023-12-07 16:29:43,820 [s1-server-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=16, readAfterWriteConsistentIndex=null
2023-12-07 16:29:43,823 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s1@group-34A8B1E7E7A6: receive client request(RaftClientRequest:client-26F2D8619659->s1@group-34A8B1E7E7A6, cid=85, seq=null, RW, Message:494e4352454d454e54)
2023-12-07 16:29:43,823 [s1-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s1@group-34A8B1E7E7A6-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-26F2D8619659->s1@group-34A8B1E7E7A6, cid=85, seq=null, RW, Message:494e4352454d454e54, entry=(t:1, i:17), STATEMACHINELOGENTRY, 85@client-26F2D8619659
2023-12-07 16:29:43,824 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-34A8B1E7E7A6: receive appendEntries(s1, 1, (t:1, i:16), 16, true, commits:[s1:c16, s0:c16, s2:c16], cId:53, entries: [(t:1, i:17), STATEMACHINELOGENTRY, 85@client-26F2D8619659]
2023-12-07 16:29:43,824 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-34A8B1E7E7A6: receive appendEntries(s1, 1, (t:1, i:16), 16, true, commits:[s1:c16, s0:c16, s2:c16], cId:46, entries: [(t:1, i:17), STATEMACHINELOGENTRY, 85@client-26F2D8619659]
2023-12-07 16:29:43,824 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-34A8B1E7E7A6: succeeded to handle AppendEntries. Reply: s1<-s0#53:OK-t1,SUCCESS,nextIndex=18,followerCommit=16,matchIndex=17
2023-12-07 16:29:43,824 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-34A8B1E7E7A6: succeeded to handle AppendEntries. Reply: s1<-s2#46:OK-t1,SUCCESS,nextIndex=18,followerCommit=16,matchIndex=17
2023-12-07 16:29:43,825 [s1@group-34A8B1E7E7A6-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:43,826 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-34A8B1E7E7A6: receive appendEntries(s1, 1, (t:1, i:17), 17, true, commits:[s1:c17, s0:c16, s2:c16], cId:47, entries: [(t:1, i:18), METADATAENTRY(c:17)]
2023-12-07 16:29:43,826 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-34A8B1E7E7A6: receive appendEntries(s1, 1, (t:1, i:17), 17, true, commits:[s1:c17, s0:c16, s2:c16], cId:54, entries: [(t:1, i:18), METADATAENTRY(c:17)]
2023-12-07 16:29:43,826 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-34A8B1E7E7A6: succeeded to handle AppendEntries. Reply: s1<-s2#47:OK-t1,SUCCESS,nextIndex=19,followerCommit=17,matchIndex=18
2023-12-07 16:29:43,826 [s2@group-34A8B1E7E7A6-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:43,827 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-34A8B1E7E7A6: succeeded to handle AppendEntries. Reply: s1<-s0#54:OK-t1,SUCCESS,nextIndex=19,followerCommit=17,matchIndex=18
2023-12-07 16:29:43,827 [s0@group-34A8B1E7E7A6-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:43,827 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s0@group-34A8B1E7E7A6: receive client request(RaftClientRequest:client-26F2D8619659->s0@group-34A8B1E7E7A6, cid=86, seq=null, RO, Message:5155455259)
2023-12-07 16:29:43,828 [s1-server-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=18, readAfterWriteConsistentIndex=null
2023-12-07 16:29:43,906 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-34A8B1E7E7A6: receive client request(RaftClientRequest:client-26F2D8619659->s2@group-34A8B1E7E7A6, cid=87, seq=9, RO, Message:5155455259)
2023-12-07 16:29:43,907 [s1-server-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=18, readAfterWriteConsistentIndex=null
2023-12-07 16:29:43,909 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s1@group-34A8B1E7E7A6: receive client request(RaftClientRequest:client-26F2D8619659->s1@group-34A8B1E7E7A6, cid=88, seq=null, RW, Message:494e4352454d454e54)
2023-12-07 16:29:43,909 [s1-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s1@group-34A8B1E7E7A6-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-26F2D8619659->s1@group-34A8B1E7E7A6, cid=88, seq=null, RW, Message:494e4352454d454e54, entry=(t:1, i:19), STATEMACHINELOGENTRY, 88@client-26F2D8619659
2023-12-07 16:29:43,910 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-34A8B1E7E7A6: receive appendEntries(s1, 1, (t:1, i:18), 18, true, commits:[s1:c18, s0:c18, s2:c18], cId:51, entries: [(t:1, i:19), STATEMACHINELOGENTRY, 88@client-26F2D8619659]
2023-12-07 16:29:43,910 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-34A8B1E7E7A6: receive appendEntries(s1, 1, (t:1, i:18), 18, true, commits:[s1:c18, s0:c18, s2:c18], cId:59, entries: [(t:1, i:19), STATEMACHINELOGENTRY, 88@client-26F2D8619659]
2023-12-07 16:29:43,910 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-34A8B1E7E7A6: succeeded to handle AppendEntries. Reply: s1<-s2#51:OK-t1,SUCCESS,nextIndex=20,followerCommit=18,matchIndex=19
2023-12-07 16:29:43,910 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-34A8B1E7E7A6: succeeded to handle AppendEntries. Reply: s1<-s0#59:OK-t1,SUCCESS,nextIndex=20,followerCommit=18,matchIndex=19
2023-12-07 16:29:43,911 [s1@group-34A8B1E7E7A6-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:43,912 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-34A8B1E7E7A6: receive appendEntries(s1, 1, (t:1, i:19), 19, true, commits:[s1:c19, s0:c18, s2:c18], cId:52, entries: [(t:1, i:20), METADATAENTRY(c:19)]
2023-12-07 16:29:43,912 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-34A8B1E7E7A6: receive appendEntries(s1, 1, (t:1, i:19), 19, true, commits:[s1:c19, s0:c18, s2:c18], cId:60, entries: [(t:1, i:20), METADATAENTRY(c:19)]
2023-12-07 16:29:43,912 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-34A8B1E7E7A6: succeeded to handle AppendEntries. Reply: s1<-s2#52:OK-t1,SUCCESS,nextIndex=21,followerCommit=19,matchIndex=20
2023-12-07 16:29:43,912 [s2@group-34A8B1E7E7A6-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:43,912 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-34A8B1E7E7A6: succeeded to handle AppendEntries. Reply: s1<-s0#60:OK-t1,SUCCESS,nextIndex=21,followerCommit=19,matchIndex=20
2023-12-07 16:29:43,912 [s0@group-34A8B1E7E7A6-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:43,914 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s0@group-34A8B1E7E7A6: receive client request(RaftClientRequest:client-26F2D8619659->s0@group-34A8B1E7E7A6, cid=89, seq=null, RO, Message:5155455259)
2023-12-07 16:29:43,914 [s1-server-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=20, readAfterWriteConsistentIndex=null
2023-12-07 16:29:43,991 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-34A8B1E7E7A6: receive client request(RaftClientRequest:client-26F2D8619659->s2@group-34A8B1E7E7A6, cid=90, seq=10, RO, Message:5155455259)
2023-12-07 16:29:43,992 [s1-server-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=20, readAfterWriteConsistentIndex=null
2023-12-07 16:29:44,003 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-12-07 16:29:44,003 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-12-07 16:29:44,003 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2023-12-07 16:29:44,003 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-12-07 16:29:44,003 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-12-07 16:29:44,004 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-34A8B1E7E7A6:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-34A8B1E7E7A6-SegmentedRaftLog:OPENED:c20, conf=0: peers:[s0|localhost:46295, s1|localhost:46349, s2|localhost:34823]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-34A8B1E7E7A6:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-34A8B1E7E7A6-SegmentedRaftLog:OPENED:c20, conf=0: peers:[s0|localhost:46295, s1|localhost:46349, s2|localhost:34823]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-34A8B1E7E7A6:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-34A8B1E7E7A6-SegmentedRaftLog:OPENED:c20, conf=0: peers:[s0|localhost:46295, s1|localhost:46349, s2|localhost:34823]|listeners:[], old=null RUNNING
2023-12-07 16:29:44,004 [MiniRaftCluster-25] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(416)) - s0: close
2023-12-07 16:29:44,004 [MiniRaftCluster-26] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(416)) - s1: close
2023-12-07 16:29:44,005 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$3(516)) - s0@group-34A8B1E7E7A6: shutdown
2023-12-07 16:29:44,005 [MiniRaftCluster-27] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(416)) - s2: close
2023-12-07 16:29:44,005 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-34A8B1E7E7A6,id=s0
2023-12-07 16:29:44,006 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-34A8B1E7E7A6-FollowerState
2023-12-07 16:29:44,006 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$3(516)) - s2@group-34A8B1E7E7A6: shutdown
2023-12-07 16:29:44,006 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s0@group-34A8B1E7E7A6-StateMachineUpdater: set stopIndex = 20
2023-12-07 16:29:44,006 [s0@group-34A8B1E7E7A6-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-34A8B1E7E7A6-FollowerState was interrupted
2023-12-07 16:29:44,005 [MiniRaftCluster-26] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-12-07 16:29:44,005 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$3(516)) - s1@group-34A8B1E7E7A6: shutdown
2023-12-07 16:29:44,008 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-34A8B1E7E7A6,id=s1
2023-12-07 16:29:44,008 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(94)) - s1: shutdown s1@group-34A8B1E7E7A6-LeaderStateImpl
2023-12-07 16:29:44,005 [MiniRaftCluster-25] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-12-07 16:29:44,010 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(423)) - s0@group-34A8B1E7E7A6: applyIndex: 20
2023-12-07 16:29:44,006 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-34A8B1E7E7A6,id=s2
2023-12-07 16:29:44,013 [s1-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(289)) - s1@group-34A8B1E7E7A6-PendingRequests: sendNotLeaderResponses
2023-12-07 16:29:44,006 [MiniRaftCluster-27] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-12-07 16:29:44,013 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-34A8B1E7E7A6-FollowerState
2023-12-07 16:29:44,013 [s1@group-34A8B1E7E7A6->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(279)) - s1@group-34A8B1E7E7A6->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2023-12-07 16:29:44,013 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s2@group-34A8B1E7E7A6-StateMachineUpdater: set stopIndex = 20
2023-12-07 16:29:44,013 [s0@group-34A8B1E7E7A6-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-34A8B1E7E7A6-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2023-12-07 16:29:44,013 [s1@group-34A8B1E7E7A6->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(279)) - s1@group-34A8B1E7E7A6->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2023-12-07 16:29:44,013 [s2@group-34A8B1E7E7A6-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-34A8B1E7E7A6-FollowerState was interrupted
2023-12-07 16:29:44,013 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(157)) - s2: Completed APPEND_ENTRIES, lastRequest: null
2023-12-07 16:29:44,013 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(157)) - s2: Completed APPEND_ENTRIES, lastRequest: s1->s2#52-t1,previous=(t:1, i:19),leaderCommit=19,initializing? true,entries: size=1, first=(t:1, i:20), METADATAENTRY(c:19)
2023-12-07 16:29:44,013 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(423)) - s2@group-34A8B1E7E7A6: applyIndex: 20
2023-12-07 16:29:44,013 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$5(159)) - s2: Completed APPEND_ENTRIES, lastReply: null
2023-12-07 16:29:44,013 [s2@group-34A8B1E7E7A6-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s2@group-34A8B1E7E7A6-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2023-12-07 16:29:44,013 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(157)) - s0: Completed APPEND_ENTRIES, lastRequest: s1->s0#60-t1,previous=(t:1, i:19),leaderCommit=19,initializing? true,entries: size=1, first=(t:1, i:20), METADATAENTRY(c:19)
2023-12-07 16:29:44,014 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$5(159)) - s0: Completed APPEND_ENTRIES, lastReply: null
2023-12-07 16:29:44,014 [grpc-default-executor-7] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(534)) - s1@group-34A8B1E7E7A6->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-12-07 16:29:44,014 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$5(159)) - s2: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s1"
  replyId: "s2"
  raftGroupId {
    id: "\206M\301E\323lL\260\263\2224\250\261\347\347\246"
  }
  callId: 55
  success: true
}
term: 1
nextIndex: 21
followerCommit: 20
matchIndex: 18446744073709551615
isHearbeat: true

2023-12-07 16:29:44,014 [grpc-default-executor-7] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(534)) - s1@group-34A8B1E7E7A6->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-12-07 16:29:44,014 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(157)) - s0: Completed APPEND_ENTRIES, lastRequest: null
2023-12-07 16:29:44,015 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$5(159)) - s0: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s1"
  replyId: "s0"
  raftGroupId {
    id: "\206M\301E\323lL\260\263\2224\250\261\347\347\246"
  }
  callId: 64
  success: true
}
term: 1
nextIndex: 21
followerCommit: 20
matchIndex: 18446744073709551615
isHearbeat: true

2023-12-07 16:29:44,015 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(534)) - s1@group-34A8B1E7E7A6->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-12-07 16:29:44,018 [Thread-395] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(103)) - s0 Close channels
2023-12-07 16:29:44,018 [Thread-397] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(103)) - s2 Close channels
2023-12-07 16:29:44,018 [Thread-399] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(103)) - s1 Close channels
2023-12-07 16:29:44,021 [Thread-402] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(103)) - s1 Close channels
2023-12-07 16:29:44,021 [grpc-default-executor-7] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(534)) - s1@group-34A8B1E7E7A6->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-12-07 16:29:44,021 [grpc-default-executor-7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(216)) - s1@group-34A8B1E7E7A6->s2-GrpcLogAppender: Failed to getClient for s2
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s1 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:65)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:114)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:188)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:193)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$700(GrpcLogAppender.java:61)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:535)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:44,022 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s1@group-34A8B1E7E7A6-StateMachineUpdater: set stopIndex = 20
2023-12-07 16:29:44,022 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(423)) - s1@group-34A8B1E7E7A6: applyIndex: 20
2023-12-07 16:29:44,022 [s1@group-34A8B1E7E7A6-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s1@group-34A8B1E7E7A6-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2023-12-07 16:29:44,023 [MiniRaftCluster-25] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-12-07 16:29:44,023 [MiniRaftCluster-25] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server GrpcServerProtocolService now
2023-12-07 16:29:44,023 [MiniRaftCluster-27] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-12-07 16:29:44,023 [MiniRaftCluster-27] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server GrpcServerProtocolService now
2023-12-07 16:29:44,024 [MiniRaftCluster-26] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-12-07 16:29:44,024 [MiniRaftCluster-26] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server GrpcServerProtocolService now
2023-12-07 16:29:44,024 [MiniRaftCluster-25] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server GrpcServerProtocolService successfully
2023-12-07 16:29:44,024 [MiniRaftCluster-25] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-12-07 16:29:44,024 [MiniRaftCluster-27] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server GrpcServerProtocolService successfully
2023-12-07 16:29:44,024 [MiniRaftCluster-27] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-12-07 16:29:44,025 [MiniRaftCluster-26] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server GrpcServerProtocolService successfully
2023-12-07 16:29:44,025 [MiniRaftCluster-26] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-12-07 16:29:44,025 [MiniRaftCluster-26] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-12-07 16:29:44,026 [MiniRaftCluster-25] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-12-07 16:29:44,026 [MiniRaftCluster-27] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-12-07 16:29:44,912 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s1@group-34A8B1E7E7A6-SegmentedRaftLogWorker close()
2023-12-07 16:29:44,913 [JvmPauseMonitor13] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s1: Stopped
2023-12-07 16:29:44,913 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s2@group-34A8B1E7E7A6-SegmentedRaftLogWorker close()
2023-12-07 16:29:44,913 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s0@group-34A8B1E7E7A6-SegmentedRaftLogWorker close()
2023-12-07 16:29:44,917 [JvmPauseMonitor12] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2023-12-07 16:29:44,917 [JvmPauseMonitor14] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s2: Stopped
2023-12-07 16:29:44,917 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2023-12-07 16:29:44,917 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-12-07 16:29:44,917 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-12-07 16:29:44,917 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2023-12-07 16:29:44,917 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-12-07 16:29:44,917 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-12-07 16:29:44,917 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:   CLOSED  FOLLOWER s0@group-34A8B1E7E7A6:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-34A8B1E7E7A6-SegmentedRaftLog:CLOSED:c20, conf=0: peers:[s0|localhost:46295, s1|localhost:46349, s2|localhost:34823]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-34A8B1E7E7A6:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-34A8B1E7E7A6-SegmentedRaftLog:CLOSED:c20, conf=0: peers:[s0|localhost:46295, s1|localhost:46349, s2|localhost:34823]|listeners:[], old=null CLOSED
  s2:   CLOSED  FOLLOWER s2@group-34A8B1E7E7A6:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-34A8B1E7E7A6-SegmentedRaftLog:CLOSED:c20, conf=0: peers:[s0|localhost:46295, s1|localhost:46349, s2|localhost:34823]|listeners:[], old=null CLOSED
2023-12-07 16:29:44,918 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2023-12-07 16:29:44,919 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-12-07 16:29:44,919 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-12-07 16:29:44,919 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2023-12-07 16:29:44,919 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2023-12-07 16:29:44,920 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-A0FBED472E75:[s0|localhost:36217, s1|localhost:36785, s2|localhost:43693]
2023-12-07 16:29:44,920 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-12-07 16:29:44,920 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-12-07 16:29:44,920 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2023-12-07 16:29:44,920 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-12-07 16:29:44,920 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-12-07 16:29:44,920 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-12-07 16:29:44,920 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-A0FBED472E75:[s0|localhost:36217, s1|localhost:36785, s2|localhost:43693], format? true
2023-12-07 16:29:44,920 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s0
2023-12-07 16:29:44,920 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s0 does not exist.
2023-12-07 16:29:44,920 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s0
2023-12-07 16:29:44,920 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-12-07 16:29:44,921 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:44,921 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 36025 (custom)
2023-12-07 16:29:44,921 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:44,921 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 42899 (custom)
2023-12-07 16:29:44,921 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-12-07 16:29:44,921 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 36217 (custom)
2023-12-07 16:29:44,921 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-12-07 16:29:44,921 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:44,921 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-12-07 16:29:44,921 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:44,921 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:44,921 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-12-07 16:29:44,921 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-12-07 16:29:44,922 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-12-07 16:29:44,922 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:44,922 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2023-12-07 16:29:44,922 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:44,923 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s0] (custom)
2023-12-07 16:29:44,923 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-12-07 16:29:44,923 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-12-07 16:29:44,923 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(100)) - s0: addNew group-A0FBED472E75:[s0|localhost:36217, s1|localhost:36785, s2|localhost:43693] returns group-A0FBED472E75:java.util.concurrent.CompletableFuture@1f6743f2[Not completed]
2023-12-07 16:29:44,923 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-A0FBED472E75:[s0|localhost:36217, s1|localhost:36785, s2|localhost:43693], format? true
2023-12-07 16:29:44,923 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s1
2023-12-07 16:29:44,923 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s1 does not exist.
2023-12-07 16:29:44,923 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s1
2023-12-07 16:29:44,923 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s0: new RaftServerImpl for group-A0FBED472E75:[s0|localhost:36217, s1|localhost:36785, s2|localhost:43693] with CounterStateMachine:uninitialized
2023-12-07 16:29:44,923 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-12-07 16:29:44,923 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-12-07 16:29:44,923 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-12-07 16:29:44,923 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-12-07 16:29:44,924 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:44,924 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-12-07 16:29:44,924 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 34789 (custom)
2023-12-07 16:29:44,924 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:44,924 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:44,924 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2023-12-07 16:29:44,924 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 41005 (custom)
2023-12-07 16:29:44,924 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:44,924 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-12-07 16:29:44,924 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 36785 (custom)
2023-12-07 16:29:44,924 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-A0FBED472E75: ConfigurationManager, init=-1: peers:[s0|localhost:36217, s1|localhost:36785, s2|localhost:43693]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-12-07 16:29:44,924 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-12-07 16:29:44,924 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-12-07 16:29:44,924 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:44,924 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-12-07 16:29:44,924 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-12-07 16:29:44,924 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-12-07 16:29:44,924 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:44,924 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2023-12-07 16:29:44,924 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:44,924 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-12-07 16:29:44,924 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = LINEARIZABLE (custom)
2023-12-07 16:29:44,924 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-12-07 16:29:44,924 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2023-12-07 16:29:44,925 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:44,925 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:44,925 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-12-07 16:29:44,925 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-12-07 16:29:44,925 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-12-07 16:29:44,926 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-12-07 16:29:44,926 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-12-07 16:29:44,926 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:44,926 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2023-12-07 16:29:44,926 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:44,926 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s1] (custom)
2023-12-07 16:29:44,926 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-12-07 16:29:44,926 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-12-07 16:29:44,926 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(100)) - s1: addNew group-A0FBED472E75:[s0|localhost:36217, s1|localhost:36785, s2|localhost:43693] returns group-A0FBED472E75:java.util.concurrent.CompletableFuture@2c72b787[Not completed]
2023-12-07 16:29:44,926 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-A0FBED472E75:[s0|localhost:36217, s1|localhost:36785, s2|localhost:43693], format? true
2023-12-07 16:29:44,926 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s2
2023-12-07 16:29:44,926 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s1: new RaftServerImpl for group-A0FBED472E75:[s0|localhost:36217, s1|localhost:36785, s2|localhost:43693] with CounterStateMachine:uninitialized
2023-12-07 16:29:44,926 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s2 does not exist.
2023-12-07 16:29:44,926 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-12-07 16:29:44,926 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s2
2023-12-07 16:29:44,926 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-12-07 16:29:44,927 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-12-07 16:29:44,927 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-12-07 16:29:44,927 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:44,927 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-12-07 16:29:44,927 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2023-12-07 16:29:44,927 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:44,927 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:44,927 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 42999 (custom)
2023-12-07 16:29:44,927 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-A0FBED472E75: ConfigurationManager, init=-1: peers:[s0|localhost:36217, s1|localhost:36785, s2|localhost:43693]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-12-07 16:29:44,927 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:44,927 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-12-07 16:29:44,927 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 35469 (custom)
2023-12-07 16:29:44,927 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-12-07 16:29:44,927 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-12-07 16:29:44,927 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-12-07 16:29:44,927 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 43693 (custom)
2023-12-07 16:29:44,927 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2023-12-07 16:29:44,927 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-12-07 16:29:44,927 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = LINEARIZABLE (custom)
2023-12-07 16:29:44,927 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:44,927 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2023-12-07 16:29:44,927 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-12-07 16:29:44,927 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:44,928 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:44,928 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-12-07 16:29:44,928 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-12-07 16:29:44,928 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:44,928 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:44,928 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-12-07 16:29:44,928 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-12-07 16:29:44,928 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-12-07 16:29:44,928 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-12-07 16:29:44,929 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-12-07 16:29:44,929 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:44,929 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2023-12-07 16:29:44,929 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:44,929 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s2] (custom)
2023-12-07 16:29:44,929 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-12-07 16:29:44,929 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-12-07 16:29:44,929 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(100)) - s2: addNew group-A0FBED472E75:[s0|localhost:36217, s1|localhost:36785, s2|localhost:43693] returns group-A0FBED472E75:java.util.concurrent.CompletableFuture@4ae2cc2e[Not completed]
2023-12-07 16:29:44,929 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s2: new RaftServerImpl for group-A0FBED472E75:[s0|localhost:36217, s1|localhost:36785, s2|localhost:43693] with CounterStateMachine:uninitialized
2023-12-07 16:29:44,929 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-12-07 16:29:44,929 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-12-07 16:29:44,929 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-12-07 16:29:44,929 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-12-07 16:29:44,929 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-12-07 16:29:44,930 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-12-07 16:29:44,930 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s0] (custom)
2023-12-07 16:29:44,930 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:44,930 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2023-12-07 16:29:44,930 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:44,930 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s0/08918886-52b6-418c-a878-a0fbed472e75 does not exist. Creating ...
2023-12-07 16:29:44,930 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-A0FBED472E75: ConfigurationManager, init=-1: peers:[s0|localhost:36217, s1|localhost:36785, s2|localhost:43693]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-12-07 16:29:44,930 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-12-07 16:29:44,930 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-12-07 16:29:44,930 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-12-07 16:29:44,930 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2023-12-07 16:29:44,930 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = LINEARIZABLE (custom)
2023-12-07 16:29:44,930 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2023-12-07 16:29:44,930 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s0/08918886-52b6-418c-a878-a0fbed472e75
2023-12-07 16:29:44,931 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:44,931 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:44,931 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-12-07 16:29:44,931 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-12-07 16:29:44,931 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-12-07 16:29:44,931 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-12-07 16:29:44,931 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s0/08918886-52b6-418c-a878-a0fbed472e75/in_use.lock acquired by nodename 9497@fv-az527-45
2023-12-07 16:29:44,931 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s0/08918886-52b6-418c-a878-a0fbed472e75/current
2023-12-07 16:29:44,931 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s0/08918886-52b6-418c-a878-a0fbed472e75/sm
2023-12-07 16:29:44,931 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s0/08918886-52b6-418c-a878-a0fbed472e75/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@107bf7e
2023-12-07 16:29:44,932 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s0/08918886-52b6-418c-a878-a0fbed472e75/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s0/08918886-52b6-418c-a878-a0fbed472e75/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:44,932 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s0/08918886-52b6-418c-a878-a0fbed472e75 has been successfully formatted.
2023-12-07 16:29:44,932 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s0/08918886-52b6-418c-a878-a0fbed472e75/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s0/08918886-52b6-418c-a878-a0fbed472e75/current/raft-meta.conf
	at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:92)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:116)
	at java.base/sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:219)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:371)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:422)
	at java.base/java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:420)
	at java.base/java.nio.file.Files.newInputStream(Files.java:156)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:388)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:182)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:44,932 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-12-07 16:29:44,932 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-12-07 16:29:44,932 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:44,932 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-12-07 16:29:44,932 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-12-07 16:29:44,933 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:44,933 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-12-07 16:29:44,933 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-12-07 16:29:44,933 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:44,933 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-A0FBED472E75-cacheEviction-AwaitToRun,5,main] started
2023-12-07 16:29:44,933 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s0@group-A0FBED472E75-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s0/08918886-52b6-418c-a878-a0fbed472e75
2023-12-07 16:29:44,933 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-12-07 16:29:44,933 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-12-07 16:29:44,933 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:44,933 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-12-07 16:29:44,933 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-12-07 16:29:44,933 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-12-07 16:29:44,933 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-12-07 16:29:44,933 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-12-07 16:29:44,933 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2023-12-07 16:29:44,934 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:44,934 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-12-07 16:29:44,934 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-12-07 16:29:44,935 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-12-07 16:29:44,935 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-A0FBED472E75-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:44,935 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-A0FBED472E75-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:44,935 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s0@group-A0FBED472E75: start as a follower, conf=-1: peers:[s0|localhost:36217, s1|localhost:36785, s2|localhost:43693]|listeners:[], old=null
2023-12-07 16:29:44,935 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-A0FBED472E75: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-12-07 16:29:44,935 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-A0FBED472E75-FollowerState
2023-12-07 16:29:44,935 [s0@group-A0FBED472E75-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:44,935 [s0@group-A0FBED472E75-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:44,935 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A0FBED472E75,id=s0
2023-12-07 16:29:44,935 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2023-12-07 16:29:44,935 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-12-07 16:29:44,935 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-12-07 16:29:44,935 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-12-07 16:29:44,936 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(406)) - s0: start RPC server
2023-12-07 16:29:44,936 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 42899
2023-12-07 16:29:44,936 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 36217
2023-12-07 16:29:44,937 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 36025
2023-12-07 16:29:44,937 [JvmPauseMonitor15] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2023-12-07 16:29:44,937 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-12-07 16:29:44,937 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-12-07 16:29:44,937 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s1] (custom)
2023-12-07 16:29:44,937 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s1/08918886-52b6-418c-a878-a0fbed472e75 does not exist. Creating ...
2023-12-07 16:29:44,937 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s1/08918886-52b6-418c-a878-a0fbed472e75
2023-12-07 16:29:44,938 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s1/08918886-52b6-418c-a878-a0fbed472e75/in_use.lock acquired by nodename 9497@fv-az527-45
2023-12-07 16:29:44,938 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s1/08918886-52b6-418c-a878-a0fbed472e75/current
2023-12-07 16:29:44,938 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s1/08918886-52b6-418c-a878-a0fbed472e75/sm
2023-12-07 16:29:44,938 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s1/08918886-52b6-418c-a878-a0fbed472e75/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@f43de09
2023-12-07 16:29:44,939 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s1/08918886-52b6-418c-a878-a0fbed472e75/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s1/08918886-52b6-418c-a878-a0fbed472e75/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:44,939 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s1/08918886-52b6-418c-a878-a0fbed472e75 has been successfully formatted.
2023-12-07 16:29:44,939 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s1/08918886-52b6-418c-a878-a0fbed472e75/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s1/08918886-52b6-418c-a878-a0fbed472e75/current/raft-meta.conf
	at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:92)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:116)
	at java.base/sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:219)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:371)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:422)
	at java.base/java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:420)
	at java.base/java.nio.file.Files.newInputStream(Files.java:156)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:388)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:182)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:44,939 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-12-07 16:29:44,940 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-12-07 16:29:44,940 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:44,940 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-12-07 16:29:44,940 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-12-07 16:29:44,940 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:44,940 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-12-07 16:29:44,940 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-12-07 16:29:44,940 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:44,940 [s1-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s1@group-A0FBED472E75-cacheEviction-AwaitToRun,5,main] started
2023-12-07 16:29:44,940 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s1@group-A0FBED472E75-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s1/08918886-52b6-418c-a878-a0fbed472e75
2023-12-07 16:29:44,941 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-12-07 16:29:44,941 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-12-07 16:29:44,941 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:44,941 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-12-07 16:29:44,941 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-12-07 16:29:44,941 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-12-07 16:29:44,941 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-12-07 16:29:44,941 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-12-07 16:29:44,941 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2023-12-07 16:29:44,943 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:44,943 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-12-07 16:29:44,943 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-12-07 16:29:44,943 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-12-07 16:29:44,943 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-A0FBED472E75-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:44,943 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-A0FBED472E75-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:44,944 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s1@group-A0FBED472E75: start as a follower, conf=-1: peers:[s0|localhost:36217, s1|localhost:36785, s2|localhost:43693]|listeners:[], old=null
2023-12-07 16:29:44,944 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-A0FBED472E75: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-12-07 16:29:44,944 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-A0FBED472E75-FollowerState
2023-12-07 16:29:44,944 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A0FBED472E75,id=s1
2023-12-07 16:29:44,944 [s1@group-A0FBED472E75-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:44,944 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2023-12-07 16:29:44,944 [s1@group-A0FBED472E75-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:44,944 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-12-07 16:29:44,944 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-12-07 16:29:44,944 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-12-07 16:29:44,945 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(406)) - s1: start RPC server
2023-12-07 16:29:44,945 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 41005
2023-12-07 16:29:44,945 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 36785
2023-12-07 16:29:44,945 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 34789
2023-12-07 16:29:44,946 [JvmPauseMonitor16] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s1: Started
2023-12-07 16:29:44,946 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-12-07 16:29:44,946 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-12-07 16:29:44,946 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s2] (custom)
2023-12-07 16:29:44,946 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s2/08918886-52b6-418c-a878-a0fbed472e75 does not exist. Creating ...
2023-12-07 16:29:44,946 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s2/08918886-52b6-418c-a878-a0fbed472e75
2023-12-07 16:29:44,947 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s2/08918886-52b6-418c-a878-a0fbed472e75/in_use.lock acquired by nodename 9497@fv-az527-45
2023-12-07 16:29:44,947 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s2/08918886-52b6-418c-a878-a0fbed472e75/current
2023-12-07 16:29:44,947 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s2/08918886-52b6-418c-a878-a0fbed472e75/sm
2023-12-07 16:29:44,947 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s2/08918886-52b6-418c-a878-a0fbed472e75/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@60e39578
2023-12-07 16:29:44,948 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s2/08918886-52b6-418c-a878-a0fbed472e75/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s2/08918886-52b6-418c-a878-a0fbed472e75/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:44,948 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s2/08918886-52b6-418c-a878-a0fbed472e75 has been successfully formatted.
2023-12-07 16:29:44,948 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s2/08918886-52b6-418c-a878-a0fbed472e75/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s2/08918886-52b6-418c-a878-a0fbed472e75/current/raft-meta.conf
	at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:92)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:116)
	at java.base/sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:219)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:371)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:422)
	at java.base/java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:420)
	at java.base/java.nio.file.Files.newInputStream(Files.java:156)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:388)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:182)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:44,948 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-12-07 16:29:44,948 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-12-07 16:29:44,948 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:44,948 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-12-07 16:29:44,948 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-12-07 16:29:44,949 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:44,949 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-12-07 16:29:44,949 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-12-07 16:29:44,949 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:44,949 [s2-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s2@group-A0FBED472E75-cacheEviction-AwaitToRun,5,main] started
2023-12-07 16:29:44,949 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s2@group-A0FBED472E75-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s2/08918886-52b6-418c-a878-a0fbed472e75
2023-12-07 16:29:44,949 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-12-07 16:29:44,949 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-12-07 16:29:44,949 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:44,949 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-12-07 16:29:44,949 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-12-07 16:29:44,949 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-12-07 16:29:44,949 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-12-07 16:29:44,949 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-12-07 16:29:44,949 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2023-12-07 16:29:44,951 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:44,951 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-12-07 16:29:44,952 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-12-07 16:29:44,952 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-12-07 16:29:44,952 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-A0FBED472E75-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:44,952 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-A0FBED472E75-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:44,952 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s2@group-A0FBED472E75: start as a follower, conf=-1: peers:[s0|localhost:36217, s1|localhost:36785, s2|localhost:43693]|listeners:[], old=null
2023-12-07 16:29:44,952 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-A0FBED472E75: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-12-07 16:29:44,952 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-A0FBED472E75-FollowerState
2023-12-07 16:29:44,952 [s2@group-A0FBED472E75-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:44,952 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A0FBED472E75,id=s2
2023-12-07 16:29:44,952 [s2@group-A0FBED472E75-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:44,952 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2023-12-07 16:29:44,952 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-12-07 16:29:44,952 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-12-07 16:29:44,952 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-12-07 16:29:44,953 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(406)) - s2: start RPC server
2023-12-07 16:29:44,953 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 35469
2023-12-07 16:29:44,953 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 43693
2023-12-07 16:29:44,953 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 42999
2023-12-07 16:29:44,954 [JvmPauseMonitor17] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s2: Started
2023-12-07 16:29:44,954 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-12-07 16:29:44,954 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-A0FBED472E75:t0, leader=null, voted=, raftlog=Memoized:s0@group-A0FBED472E75-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:36217, s1|localhost:36785, s2|localhost:43693]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-A0FBED472E75:t0, leader=null, voted=, raftlog=Memoized:s1@group-A0FBED472E75-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:36217, s1|localhost:36785, s2|localhost:43693]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A0FBED472E75:t0, leader=null, voted=, raftlog=Memoized:s2@group-A0FBED472E75-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:36217, s1|localhost:36785, s2|localhost:43693]|listeners:[], old=null RUNNING
2023-12-07 16:29:44,954 [Time-limited test] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(119)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-A0FBED472E75:t0, leader=null, voted=, raftlog=Memoized:s0@group-A0FBED472E75-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:36217, s1|localhost:36785, s2|localhost:43693]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-A0FBED472E75:t0, leader=null, voted=, raftlog=Memoized:s1@group-A0FBED472E75-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:36217, s1|localhost:36785, s2|localhost:43693]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A0FBED472E75:t0, leader=null, voted=, raftlog=Memoized:s2@group-A0FBED472E75-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:36217, s1|localhost:36785, s2|localhost:43693]|listeners:[], old=null RUNNING
2023-12-07 16:29:45,174 [s2@group-A0FBED472E75-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-A0FBED472E75-FollowerState: change to CANDIDATE, lastRpcElapsedTime:222430322ns, electionTimeout:222ms
2023-12-07 16:29:45,175 [s2@group-A0FBED472E75-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-A0FBED472E75-FollowerState
2023-12-07 16:29:45,175 [s2@group-A0FBED472E75-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-A0FBED472E75: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-12-07 16:29:45,175 [s2@group-A0FBED472E75-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-12-07 16:29:45,175 [s2@group-A0FBED472E75-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-A0FBED472E75-LeaderElection9
2023-12-07 16:29:45,175 [s2@group-A0FBED472E75-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s2@group-A0FBED472E75-LeaderElection9 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|localhost:36217, s1|localhost:36785, s2|localhost:43693]|listeners:[], old=null
2023-12-07 16:29:45,176 [s2@group-A0FBED472E75-LeaderElection9-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s0
2023-12-07 16:29:45,176 [s2@group-A0FBED472E75-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:45,176 [s2@group-A0FBED472E75-LeaderElection9-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s1
2023-12-07 16:29:45,176 [s2@group-A0FBED472E75-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:45,179 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s0@group-A0FBED472E75: receive requestVote(PRE_VOTE, s2, group-A0FBED472E75, 0, (t:0, i:0))
2023-12-07 16:29:45,180 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-A0FBED472E75-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-12-07 16:29:45,180 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s0@group-A0FBED472E75 replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-A0FBED472E75:t0, leader=null, voted=, raftlog=Memoized:s0@group-A0FBED472E75-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:36217, s1|localhost:36785, s2|localhost:43693]|listeners:[], old=null
2023-12-07 16:29:45,180 [s2@group-A0FBED472E75-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-A0FBED472E75-LeaderElection9: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-12-07 16:29:45,180 [s2@group-A0FBED472E75-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t0
2023-12-07 16:29:45,180 [s2@group-A0FBED472E75-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s2@group-A0FBED472E75-LeaderElection9 PRE_VOTE round 0: result PASSED
2023-12-07 16:29:45,181 [s2@group-A0FBED472E75-LeaderElection9] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s2/08918886-52b6-418c-a878-a0fbed472e75/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@3fd7d31a
2023-12-07 16:29:45,182 [s2@group-A0FBED472E75-LeaderElection9] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s2/08918886-52b6-418c-a878-a0fbed472e75/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s2/08918886-52b6-418c-a878-a0fbed472e75/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:45,182 [s2@group-A0FBED472E75-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s2@group-A0FBED472E75-LeaderElection9 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|localhost:36217, s1|localhost:36785, s2|localhost:43693]|listeners:[], old=null
2023-12-07 16:29:45,182 [s2@group-A0FBED472E75-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:45,182 [s2@group-A0FBED472E75-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:45,183 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s0@group-A0FBED472E75: receive requestVote(ELECTION, s2, group-A0FBED472E75, 1, (t:0, i:0))
2023-12-07 16:29:45,183 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-A0FBED472E75-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2023-12-07 16:29:45,183 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-A0FBED472E75: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2023-12-07 16:29:45,183 [grpc-default-executor-7] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-A0FBED472E75-FollowerState
2023-12-07 16:29:45,183 [s0@group-A0FBED472E75-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-A0FBED472E75-FollowerState was interrupted
2023-12-07 16:29:45,183 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s1@group-A0FBED472E75: receive requestVote(PRE_VOTE, s2, group-A0FBED472E75, 0, (t:0, i:0))
2023-12-07 16:29:45,184 [grpc-default-executor-7] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-A0FBED472E75-FollowerState
2023-12-07 16:29:45,184 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-A0FBED472E75-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-12-07 16:29:45,184 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s1@group-A0FBED472E75 replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-A0FBED472E75:t0, leader=null, voted=, raftlog=Memoized:s1@group-A0FBED472E75-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:36217, s1|localhost:36785, s2|localhost:43693]|listeners:[], old=null
2023-12-07 16:29:45,184 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s1@group-A0FBED472E75: receive requestVote(ELECTION, s2, group-A0FBED472E75, 1, (t:0, i:0))
2023-12-07 16:29:45,184 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(564)) - s0@group-A0FBED472E75: set firstElectionSinceStartup to false for candidate:s2
2023-12-07 16:29:45,184 [grpc-default-executor-7] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s0/08918886-52b6-418c-a878-a0fbed472e75/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@8d8816e
2023-12-07 16:29:45,185 [grpc-default-executor-7] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s0/08918886-52b6-418c-a878-a0fbed472e75/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s0/08918886-52b6-418c-a878-a0fbed472e75/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:45,185 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-A0FBED472E75-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2023-12-07 16:29:45,185 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s0@group-A0FBED472E75 replies to ELECTION vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-A0FBED472E75:t1, leader=null, voted=s2, raftlog=Memoized:s0@group-A0FBED472E75-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:36217, s1|localhost:36785, s2|localhost:43693]|listeners:[], old=null
2023-12-07 16:29:45,185 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-A0FBED472E75: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2023-12-07 16:29:45,185 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-A0FBED472E75-FollowerState
2023-12-07 16:29:45,186 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-A0FBED472E75-FollowerState
2023-12-07 16:29:45,186 [s1@group-A0FBED472E75-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-A0FBED472E75-FollowerState was interrupted
2023-12-07 16:29:45,186 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(564)) - s1@group-A0FBED472E75: set firstElectionSinceStartup to false for candidate:s2
2023-12-07 16:29:45,186 [grpc-default-executor-3] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s1/08918886-52b6-418c-a878-a0fbed472e75/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5ddfec28
2023-12-07 16:29:45,186 [s2@group-A0FBED472E75-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-A0FBED472E75-LeaderElection9: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-12-07 16:29:45,186 [s2@group-A0FBED472E75-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t1
2023-12-07 16:29:45,186 [s2@group-A0FBED472E75-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s2@group-A0FBED472E75-LeaderElection9 ELECTION round 0: result PASSED
2023-12-07 16:29:45,186 [s2@group-A0FBED472E75-LeaderElection9] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-A0FBED472E75-LeaderElection9
2023-12-07 16:29:45,186 [s2@group-A0FBED472E75-LeaderElection9] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-A0FBED472E75: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-12-07 16:29:45,186 [s2@group-A0FBED472E75-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-12-07 16:29:45,186 [s2@group-A0FBED472E75-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-12-07 16:29:45,187 [s2@group-A0FBED472E75-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2023-12-07 16:29:45,187 [s2@group-A0FBED472E75-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-12-07 16:29:45,187 [s2@group-A0FBED472E75-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-12-07 16:29:45,187 [s2@group-A0FBED472E75-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-12-07 16:29:45,187 [grpc-default-executor-3] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s1/08918886-52b6-418c-a878-a0fbed472e75/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s1/08918886-52b6-418c-a878-a0fbed472e75/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:45,187 [s2@group-A0FBED472E75-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = true (custom)
2023-12-07 16:29:45,187 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s1@group-A0FBED472E75 replies to ELECTION vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-A0FBED472E75:t1, leader=null, voted=s2, raftlog=Memoized:s1@group-A0FBED472E75-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:36217, s1|localhost:36785, s2|localhost:43693]|listeners:[], old=null
2023-12-07 16:29:45,187 [s2@group-A0FBED472E75-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2023-12-07 16:29:45,187 [s2@group-A0FBED472E75-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-12-07 16:29:45,187 [s2@group-A0FBED472E75-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-12-07 16:29:45,187 [s2@group-A0FBED472E75-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-12-07 16:29:45,187 [s2@group-A0FBED472E75-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-12-07 16:29:45,188 [s2@group-A0FBED472E75-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:45,188 [s2@group-A0FBED472E75-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-12-07 16:29:45,188 [s2@group-A0FBED472E75-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2023-12-07 16:29:45,188 [s2@group-A0FBED472E75-LeaderElection9] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2023-12-07 16:29:45,188 [s2@group-A0FBED472E75-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:45,188 [s2@group-A0FBED472E75-LeaderElection9] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2023-12-07 16:29:45,188 [s2@group-A0FBED472E75-LeaderElection9] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2023-12-07 16:29:45,188 [s2@group-A0FBED472E75-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:45,188 [s2@group-A0FBED472E75-LeaderElection9] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:45,188 [s2@group-A0FBED472E75-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-12-07 16:29:45,188 [s2@group-A0FBED472E75-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:45,188 [s2@group-A0FBED472E75-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-12-07 16:29:45,188 [s2@group-A0FBED472E75-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2023-12-07 16:29:45,188 [s2@group-A0FBED472E75-LeaderElection9] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2023-12-07 16:29:45,188 [s2@group-A0FBED472E75-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:45,188 [s2@group-A0FBED472E75-LeaderElection9] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2023-12-07 16:29:45,188 [s2@group-A0FBED472E75-LeaderElection9] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2023-12-07 16:29:45,188 [s2@group-A0FBED472E75-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:45,188 [s2@group-A0FBED472E75-LeaderElection9] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:45,188 [s2@group-A0FBED472E75-LeaderElection9] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-A0FBED472E75-LeaderStateImpl
2023-12-07 16:29:45,188 [s2@group-A0FBED472E75-LeaderElection9] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(564)) - s2@group-A0FBED472E75: set firstElectionSinceStartup to false for becomeLeader
2023-12-07 16:29:45,188 [s2@group-A0FBED472E75-LeaderElection9] INFO  server.RaftServer$Division (ServerState.java:setLeader(265)) - s2@group-A0FBED472E75: change Leader from null to s2 at term 1 for becomeLeader, leader elected after 258ms
2023-12-07 16:29:45,189 [s2@group-A0FBED472E75-LeaderElection9] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s2@group-A0FBED472E75-SegmentedRaftLogWorker: Starting segment from index:0
2023-12-07 16:29:45,189 [s2@group-A0FBED472E75-LeaderElection9] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(382)) - s2@group-A0FBED472E75: set configuration 0: peers:[s0|localhost:36217, s1|localhost:36785, s2|localhost:43693]|listeners:[], old=null
2023-12-07 16:29:45,189 [s2@group-A0FBED472E75-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2023-12-07 16:29:45,195 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(265)) - s0@group-A0FBED472E75: change Leader from null to s2 at term 1 for appendEntries, leader elected after 270ms
2023-12-07 16:29:45,198 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(265)) - s1@group-A0FBED472E75: change Leader from null to s2 at term 1 for appendEntries, leader elected after 270ms
2023-12-07 16:29:45,198 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-A0FBED472E75: receive appendEntries(s2, 1, null, -1, true, commits:[s2:c-1, s0:c-1, s1:c-1], cId:1, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:36217"
dataStreamAddress: "localhost:44145"
clientAddress: "localhost:42899"
adminAddress: "localhost:36025"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36785"
dataStreamAddress: "localhost:44833"
clientAddress: "localhost:41005"
adminAddress: "localhost:34789"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:43693"
dataStreamAddress: "localhost:36735"
clientAddress: "localhost:35469"
adminAddress: "localhost:42999"
startupRole: FOLLOWER
, old:)]
2023-12-07 16:29:45,198 [s0-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(382)) - s0@group-A0FBED472E75: set configuration 0: peers:[s0|localhost:36217, s1|localhost:36785, s2|localhost:43693]|listeners:[], old=null
2023-12-07 16:29:45,198 [s0-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s0@group-A0FBED472E75-SegmentedRaftLogWorker: Starting segment from index:0
2023-12-07 16:29:45,199 [s0@group-A0FBED472E75-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2023-12-07 16:29:45,201 [s2@group-A0FBED472E75-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s2@group-A0FBED472E75-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s2/08918886-52b6-418c-a878-a0fbed472e75/current/log_inprogress_0
2023-12-07 16:29:45,205 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-A0FBED472E75: receive appendEntries(s2, 1, null, -1, true, commits:[s2:c-1, s0:c-1, s1:c-1], cId:1, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:36217"
dataStreamAddress: "localhost:44145"
clientAddress: "localhost:42899"
adminAddress: "localhost:36025"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36785"
dataStreamAddress: "localhost:44833"
clientAddress: "localhost:41005"
adminAddress: "localhost:34789"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:43693"
dataStreamAddress: "localhost:36735"
clientAddress: "localhost:35469"
adminAddress: "localhost:42999"
startupRole: FOLLOWER
, old:)]
2023-12-07 16:29:45,206 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(382)) - s1@group-A0FBED472E75: set configuration 0: peers:[s0|localhost:36217, s1|localhost:36785, s2|localhost:43693]|listeners:[], old=null
2023-12-07 16:29:45,206 [s1-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s1@group-A0FBED472E75-SegmentedRaftLogWorker: Starting segment from index:0
2023-12-07 16:29:45,206 [s1@group-A0FBED472E75-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2023-12-07 16:29:45,206 [s0@group-A0FBED472E75-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s0@group-A0FBED472E75-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s0/08918886-52b6-418c-a878-a0fbed472e75/current/log_inprogress_0
2023-12-07 16:29:45,207 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-A0FBED472E75: succeeded to handle AppendEntries. Reply: s2<-s0#1:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-12-07 16:29:45,208 [s2@group-A0FBED472E75-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s2/08918886-52b6-418c-a878-a0fbed472e75/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4a05935e
2023-12-07 16:29:45,211 [s2@group-A0FBED472E75-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s2/08918886-52b6-418c-a878-a0fbed472e75/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s2/08918886-52b6-418c-a878-a0fbed472e75/current/raft-meta.conf with options [REPLACE_EXISTING]
2023-12-07 16:29:45,211 [s2@group-A0FBED472E75-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:isApplied(320)) - leader is ready since appliedIndex == 0 >= startIndex == 0
2023-12-07 16:29:45,213 [s1@group-A0FBED472E75-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s1@group-A0FBED472E75-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s1/08918886-52b6-418c-a878-a0fbed472e75/current/log_inprogress_0
2023-12-07 16:29:45,213 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-A0FBED472E75: succeeded to handle AppendEntries. Reply: s2<-s1#1:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-12-07 16:29:45,285 [s0@group-A0FBED472E75-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s0/08918886-52b6-418c-a878-a0fbed472e75/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4a98f201
2023-12-07 16:29:45,286 [s0@group-A0FBED472E75-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s0/08918886-52b6-418c-a878-a0fbed472e75/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s0/08918886-52b6-418c-a878-a0fbed472e75/current/raft-meta.conf with options [REPLACE_EXISTING]
2023-12-07 16:29:45,290 [s1@group-A0FBED472E75-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s1/08918886-52b6-418c-a878-a0fbed472e75/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5b98272
2023-12-07 16:29:45,291 [s1@group-A0FBED472E75-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s1/08918886-52b6-418c-a878-a0fbed472e75/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc81846219/s1/08918886-52b6-418c-a878-a0fbed472e75/current/raft-meta.conf with options [REPLACE_EXISTING]
2023-12-07 16:29:45,404 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-A0FBED472E75:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-A0FBED472E75-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:36217, s1|localhost:36785, s2|localhost:43693]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-A0FBED472E75:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-A0FBED472E75-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:36217, s1|localhost:36785, s2|localhost:43693]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-A0FBED472E75:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-A0FBED472E75-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:36217, s1|localhost:36785, s2|localhost:43693]|listeners:[], old=null RUNNING
2023-12-07 16:29:45,409 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-A0FBED472E75: receive client request(RaftClientRequest:client-47B5F62936C2->s2@group-A0FBED472E75, cid=91, seq=1*, Watch(0), Message:<EMPTY>)
2023-12-07 16:29:45,409 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addWatchReqeust(540)) - s2@group-A0FBED472E75-LeaderStateImpl: addWatchRequest RaftClientRequest:client-47B5F62936C2->s2@group-A0FBED472E75, cid=91, seq=1*, Watch(0), Message:<EMPTY>
2023-12-07 16:29:45,409 [s2-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:stepDownLeaderAsync(1247)) - s2@group-A0FBED472E75 receive stepDown leader request TransferLeadershipRequest:client-47B5F62936C2->s2@group-A0FBED472E75, cid=93, seq=null, RO, null
2023-12-07 16:29:45,410 [s2@group-A0FBED472E75-LeaderStateImpl] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-A0FBED472E75: changes role from    LEADER to FOLLOWER at term 1 for StepDownReason:FORCE
2023-12-07 16:29:45,410 [s2@group-A0FBED472E75-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(94)) - s2: shutdown s2@group-A0FBED472E75-LeaderStateImpl
2023-12-07 16:29:45,410 [s2@group-A0FBED472E75->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(279)) - s2@group-A0FBED472E75->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2023-12-07 16:29:45,410 [s2@group-A0FBED472E75->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(279)) - s2@group-A0FBED472E75->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2023-12-07 16:29:45,410 [s2@group-A0FBED472E75-LeaderStateImpl] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(289)) - s2@group-A0FBED472E75-PendingRequests: sendNotLeaderResponses
2023-12-07 16:29:45,410 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(157)) - s1: Completed APPEND_ENTRIES, lastRequest: null
2023-12-07 16:29:45,411 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$5(159)) - s1: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s2"
  replyId: "s1"
  raftGroupId {
    id: "\b\221\210\206R\266A\214\250x\240\373\355G.u"
  }
  callId: 6
  success: true
}
term: 1
nextIndex: 1
matchIndex: 18446744073709551615
isHearbeat: true

2023-12-07 16:29:45,411 [s2@group-A0FBED472E75-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setLeader(265)) - s2@group-A0FBED472E75: change Leader from s2 to null at term 1 for StepDownReason:FORCE
2023-12-07 16:29:45,411 [s2@group-A0FBED472E75-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-A0FBED472E75-FollowerState
2023-12-07 16:29:45,411 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(157)) - s0: Completed APPEND_ENTRIES, lastRequest: s2->s0#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? true,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:36217"
dataStreamAddress: "localhost:44145"
clientAddress: "localhost:42899"
adminAddress: "localhost:36025"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36785"
dataStreamAddress: "localhost:44833"
clientAddress: "localhost:41005"
adminAddress: "localhost:34789"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:43693"
dataStreamAddress: "localhost:36735"
clientAddress: "localhost:35469"
adminAddress: "localhost:42999"
startupRole: FOLLOWER
, old:)
2023-12-07 16:29:45,411 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$5(159)) - s0: Completed APPEND_ENTRIES, lastReply: null
2023-12-07 16:29:45,411 [s2@group-A0FBED472E75-LeaderStateImpl] INFO  impl.PendingStepDown (PendingStepDown.java:complete(55)) - Successfully step down leader at s2@group-A0FBED472E75-LeaderStateImpl for request TransferLeadershipRequest:client-47B5F62936C2->s2@group-A0FBED472E75, cid=93, seq=null, RO, null
2023-12-07 16:29:45,412 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(157)) - s0: Completed APPEND_ENTRIES, lastRequest: null
2023-12-07 16:29:45,412 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$5(159)) - s0: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s2"
  replyId: "s0"
  raftGroupId {
    id: "\b\221\210\206R\266A\214\250x\240\373\355G.u"
  }
  callId: 5
  success: true
}
term: 1
nextIndex: 1
matchIndex: 18446744073709551615
isHearbeat: true

2023-12-07 16:29:45,412 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(157)) - s1: Completed APPEND_ENTRIES, lastRequest: s2->s1#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? true,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:36217"
dataStreamAddress: "localhost:44145"
clientAddress: "localhost:42899"
adminAddress: "localhost:36025"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36785"
dataStreamAddress: "localhost:44833"
clientAddress: "localhost:41005"
adminAddress: "localhost:34789"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:43693"
dataStreamAddress: "localhost:36735"
clientAddress: "localhost:35469"
adminAddress: "localhost:42999"
startupRole: FOLLOWER
, old:)
2023-12-07 16:29:45,412 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$5(159)) - s1: Completed APPEND_ENTRIES, lastReply: null
2023-12-07 16:29:45,413 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(534)) - s2@group-A0FBED472E75->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-12-07 16:29:45,413 [grpc-default-executor-7] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(534)) - s2@group-A0FBED472E75->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-12-07 16:29:45,413 [grpc-default-executor-7] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(534)) - s2@group-A0FBED472E75->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-12-07 16:29:45,414 [grpc-default-executor-5] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s2@group-A0FBED472E75, cid=92, seq=2, RW, INCREMENT
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.AlreadyClosedException: client-47B5F62936C2->s2: Stream completed: no reply for async request cid=92
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onCompleted(GrpcClientProtocolClient.java:336)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.AlreadyClosedException: client-47B5F62936C2->s2: Stream completed: no reply for async request cid=92
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:396)
	... 18 more
2023-12-07 16:29:45,418 [grpc-default-executor-3] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(534)) - s2@group-A0FBED472E75->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-12-07 16:29:45,420 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-A0FBED472E75: receive client request(RaftClientRequest:client-DC774DEB914A->s2@group-A0FBED472E75, cid=94, seq=null, RO, Message:5155455259)
2023-12-07 16:29:45,420 [null-request--thread1] INFO  server.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(284)) - Failed RaftClientRequest:client-DC774DEB914A->s2@group-A0FBED472E75, cid=94, seq=null, RO, Message:5155455259, reply=RaftClientReply:client-DC774DEB914A->s2@group-A0FBED472E75, cid=94, FAILED org.apache.ratis.protocol.exceptions.ReadIndexException: s2@group-A0FBED472E75: Leader is unknown., logIndex=0, commits[s2:c0, s0:c0, s1:c0]
2023-12-07 16:29:45,429 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-12-07 16:29:45,429 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-12-07 16:29:45,429 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2023-12-07 16:29:45,429 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-12-07 16:29:45,429 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-12-07 16:29:45,430 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-A0FBED472E75:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-A0FBED472E75-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:36217, s1|localhost:36785, s2|localhost:43693]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-A0FBED472E75:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-A0FBED472E75-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:36217, s1|localhost:36785, s2|localhost:43693]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A0FBED472E75:t1, leader=null, voted=s2, raftlog=Memoized:s2@group-A0FBED472E75-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:36217, s1|localhost:36785, s2|localhost:43693]|listeners:[], old=null RUNNING
2023-12-07 16:29:45,430 [MiniRaftCluster-31] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(416)) - s0: close
2023-12-07 16:29:45,430 [MiniRaftCluster-32] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(416)) - s1: close
2023-12-07 16:29:45,432 [MiniRaftCluster-31] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-12-07 16:29:45,432 [MiniRaftCluster-32] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-12-07 16:29:45,432 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$3(516)) - s1@group-A0FBED472E75: shutdown
2023-12-07 16:29:45,432 [MiniRaftCluster-33] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(416)) - s2: close
2023-12-07 16:29:45,432 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A0FBED472E75,id=s1
2023-12-07 16:29:45,433 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-A0FBED472E75-FollowerState
2023-12-07 16:29:45,433 [MiniRaftCluster-33] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-12-07 16:29:45,433 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$3(516)) - s2@group-A0FBED472E75: shutdown
2023-12-07 16:29:45,433 [s1@group-A0FBED472E75-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-A0FBED472E75-FollowerState was interrupted
2023-12-07 16:29:45,432 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$3(516)) - s0@group-A0FBED472E75: shutdown
2023-12-07 16:29:45,436 [MiniRaftCluster-32] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-12-07 16:29:45,436 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A0FBED472E75,id=s0
2023-12-07 16:29:45,436 [MiniRaftCluster-32] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server GrpcServerProtocolService now
2023-12-07 16:29:45,436 [Thread-479] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(103)) - s0 Close channels
2023-12-07 16:29:45,436 [Thread-480] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(103)) - s1 Close channels
2023-12-07 16:29:45,434 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A0FBED472E75,id=s2
2023-12-07 16:29:45,437 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-A0FBED472E75-FollowerState
2023-12-07 16:29:45,437 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s2@group-A0FBED472E75-StateMachineUpdater: set stopIndex = 0
2023-12-07 16:29:45,437 [s2@group-A0FBED472E75-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-A0FBED472E75-FollowerState was interrupted
2023-12-07 16:29:45,437 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(423)) - s2@group-A0FBED472E75: applyIndex: 0
2023-12-07 16:29:45,437 [MiniRaftCluster-33] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-12-07 16:29:45,437 [MiniRaftCluster-33] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server GrpcServerProtocolService now
2023-12-07 16:29:45,438 [s2@group-A0FBED472E75-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s2@group-A0FBED472E75-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2023-12-07 16:29:45,433 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s1@group-A0FBED472E75-StateMachineUpdater: set stopIndex = 0
2023-12-07 16:29:45,438 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(423)) - s1@group-A0FBED472E75: applyIndex: 0
2023-12-07 16:29:45,436 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-A0FBED472E75-FollowerState
2023-12-07 16:29:45,438 [s1@group-A0FBED472E75-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s1@group-A0FBED472E75-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2023-12-07 16:29:45,438 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s0@group-A0FBED472E75-StateMachineUpdater: set stopIndex = 0
2023-12-07 16:29:45,438 [s0@group-A0FBED472E75-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-A0FBED472E75-FollowerState was interrupted
2023-12-07 16:29:45,438 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(423)) - s0@group-A0FBED472E75: applyIndex: 0
2023-12-07 16:29:45,438 [s0@group-A0FBED472E75-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-A0FBED472E75-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2023-12-07 16:29:45,438 [MiniRaftCluster-31] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-12-07 16:29:45,439 [MiniRaftCluster-31] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server GrpcServerProtocolService now
2023-12-07 16:29:45,439 [MiniRaftCluster-32] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server GrpcServerProtocolService successfully
2023-12-07 16:29:45,439 [MiniRaftCluster-32] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-12-07 16:29:45,439 [MiniRaftCluster-33] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server GrpcServerProtocolService successfully
2023-12-07 16:29:45,439 [MiniRaftCluster-33] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-12-07 16:29:45,440 [MiniRaftCluster-32] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-12-07 16:29:45,440 [MiniRaftCluster-31] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server GrpcServerProtocolService successfully
2023-12-07 16:29:45,440 [MiniRaftCluster-31] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-12-07 16:29:45,441 [MiniRaftCluster-33] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-12-07 16:29:45,441 [MiniRaftCluster-31] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-12-07 16:29:45,520 [timer2] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s0@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.AlreadyClosedException: client-47B5F62936C2 is already CLOSED
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.uniApplyNow(CompletableFuture.java:670)
	at java.base/java.util.concurrent.CompletableFuture.uniApplyStage(CompletableFuture.java:658)
	at java.base/java.util.concurrent.CompletableFuture.thenApply(CompletableFuture.java:2100)
	at org.apache.ratis.client.impl.OrderedAsync.sendRequest(OrderedAsync.java:239)
	at org.apache.ratis.client.impl.OrderedAsync.sendRequestWithRetry(OrderedAsync.java:203)
	at org.apache.ratis.util.SlidingWindow$Client.sendOrDelayRequest(SlidingWindow.java:312)
	at org.apache.ratis.util.SlidingWindow$Client.retry(SlidingWindow.java:328)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$scheduleWithTimeout$6(OrderedAsync.java:227)
	at org.apache.ratis.util.TimeoutTimer.lambda$onTimeout$2(TimeoutTimer.java:101)
	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:78)
	at org.apache.ratis.util.TimeoutTimer$Task.run(TimeoutTimer.java:55)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.ratis.protocol.exceptions.AlreadyClosedException: client-47B5F62936C2 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:65)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:114)
	at org.apache.ratis.grpc.client.GrpcClientRpc.sendRequestAsync(GrpcClientRpc.java:69)
	... 11 more
2023-12-07 16:29:45,621 [timer3] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s1@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.AlreadyClosedException: client-47B5F62936C2 is already CLOSED
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.uniApplyNow(CompletableFuture.java:670)
	at java.base/java.util.concurrent.CompletableFuture.uniApplyStage(CompletableFuture.java:658)
	at java.base/java.util.concurrent.CompletableFuture.thenApply(CompletableFuture.java:2100)
	at org.apache.ratis.client.impl.OrderedAsync.sendRequest(OrderedAsync.java:239)
	at org.apache.ratis.client.impl.OrderedAsync.sendRequestWithRetry(OrderedAsync.java:203)
	at org.apache.ratis.util.SlidingWindow$Client.sendOrDelayRequest(SlidingWindow.java:312)
	at org.apache.ratis.util.SlidingWindow$Client.retry(SlidingWindow.java:328)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$scheduleWithTimeout$6(OrderedAsync.java:227)
	at org.apache.ratis.util.TimeoutTimer.lambda$onTimeout$2(TimeoutTimer.java:101)
	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:78)
	at org.apache.ratis.util.TimeoutTimer$Task.run(TimeoutTimer.java:55)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.ratis.protocol.exceptions.AlreadyClosedException: client-47B5F62936C2 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:65)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:114)
	at org.apache.ratis.grpc.client.GrpcClientRpc.sendRequestAsync(GrpcClientRpc.java:69)
	... 11 more
2023-12-07 16:29:45,726 [grpc-default-executor-7] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s0@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:42899
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:45,827 [timer2] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s2@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.AlreadyClosedException: client-47B5F62936C2 is already CLOSED
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.uniApplyNow(CompletableFuture.java:670)
	at java.base/java.util.concurrent.CompletableFuture.uniApplyStage(CompletableFuture.java:658)
	at java.base/java.util.concurrent.CompletableFuture.thenApply(CompletableFuture.java:2100)
	at org.apache.ratis.client.impl.OrderedAsync.sendRequest(OrderedAsync.java:239)
	at org.apache.ratis.client.impl.OrderedAsync.sendRequestWithRetry(OrderedAsync.java:203)
	at org.apache.ratis.util.SlidingWindow$Client.sendOrDelayRequest(SlidingWindow.java:312)
	at org.apache.ratis.util.SlidingWindow$Client.retry(SlidingWindow.java:328)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$scheduleWithTimeout$6(OrderedAsync.java:227)
	at org.apache.ratis.util.TimeoutTimer.lambda$onTimeout$2(TimeoutTimer.java:101)
	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:78)
	at org.apache.ratis.util.TimeoutTimer$Task.run(TimeoutTimer.java:55)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.ratis.protocol.exceptions.AlreadyClosedException: client-47B5F62936C2 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:65)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:114)
	at org.apache.ratis.grpc.client.GrpcClientRpc.sendRequestAsync(GrpcClientRpc.java:69)
	... 11 more
2023-12-07 16:29:45,931 [grpc-default-executor-3] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s0@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:42899
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:46,034 [grpc-default-executor-7] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s1@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:41005
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:46,137 [grpc-default-executor-5] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s2@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:35469
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:46,204 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s2@group-A0FBED472E75-SegmentedRaftLogWorker close()
2023-12-07 16:29:46,204 [JvmPauseMonitor17] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s2: Stopped
2023-12-07 16:29:46,207 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s0@group-A0FBED472E75-SegmentedRaftLogWorker close()
2023-12-07 16:29:46,208 [JvmPauseMonitor15] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2023-12-07 16:29:46,214 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s1@group-A0FBED472E75-SegmentedRaftLogWorker close()
2023-12-07 16:29:46,214 [JvmPauseMonitor16] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s1: Stopped
2023-12-07 16:29:46,214 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2023-12-07 16:29:46,214 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-12-07 16:29:46,214 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-12-07 16:29:46,214 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2023-12-07 16:29:46,214 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-12-07 16:29:46,214 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-12-07 16:29:46,215 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:   CLOSED  FOLLOWER s0@group-A0FBED472E75:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-A0FBED472E75-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s0|localhost:36217, s1|localhost:36785, s2|localhost:43693]|listeners:[], old=null CLOSED
  s1:   CLOSED  FOLLOWER s1@group-A0FBED472E75:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-A0FBED472E75-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s0|localhost:36217, s1|localhost:36785, s2|localhost:43693]|listeners:[], old=null CLOSED
  s2:   CLOSED  FOLLOWER s2@group-A0FBED472E75:t1, leader=null, voted=s2, raftlog=Memoized:s2@group-A0FBED472E75-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s0|localhost:36217, s1|localhost:36785, s2|localhost:43693]|listeners:[], old=null CLOSED
2023-12-07 16:29:46,215 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2023-12-07 16:29:46,215 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-12-07 16:29:46,215 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-12-07 16:29:46,215 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2023-12-07 16:29:46,216 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2023-12-07 16:29:46,216 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-C54E6F380E28:[s0|localhost:35115, s1|localhost:33299, s2|localhost:43827]
2023-12-07 16:29:46,216 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-12-07 16:29:46,216 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-12-07 16:29:46,216 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2023-12-07 16:29:46,216 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-12-07 16:29:46,216 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-12-07 16:29:46,216 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-12-07 16:29:46,217 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-C54E6F380E28:[s0|localhost:35115, s1|localhost:33299, s2|localhost:43827], format? true
2023-12-07 16:29:46,217 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s0
2023-12-07 16:29:46,217 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s0 does not exist.
2023-12-07 16:29:46,217 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s0
2023-12-07 16:29:46,217 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-12-07 16:29:46,217 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:46,217 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 34617 (custom)
2023-12-07 16:29:46,217 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:46,217 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 37753 (custom)
2023-12-07 16:29:46,217 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-12-07 16:29:46,217 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 35115 (custom)
2023-12-07 16:29:46,217 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-12-07 16:29:46,217 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:46,217 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-12-07 16:29:46,217 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:46,217 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:46,217 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-12-07 16:29:46,218 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-12-07 16:29:46,219 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-12-07 16:29:46,219 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:46,219 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2023-12-07 16:29:46,219 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:46,219 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s0] (custom)
2023-12-07 16:29:46,219 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-12-07 16:29:46,219 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-12-07 16:29:46,220 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(100)) - s0: addNew group-C54E6F380E28:[s0|localhost:35115, s1|localhost:33299, s2|localhost:43827] returns group-C54E6F380E28:java.util.concurrent.CompletableFuture@202576f7[Not completed]
2023-12-07 16:29:46,220 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s0: new RaftServerImpl for group-C54E6F380E28:[s0|localhost:35115, s1|localhost:33299, s2|localhost:43827] with CounterStateMachine:uninitialized
2023-12-07 16:29:46,220 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-C54E6F380E28:[s0|localhost:35115, s1|localhost:33299, s2|localhost:43827], format? true
2023-12-07 16:29:46,220 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-12-07 16:29:46,220 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s1
2023-12-07 16:29:46,220 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-12-07 16:29:46,220 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-12-07 16:29:46,220 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s1 does not exist.
2023-12-07 16:29:46,220 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-12-07 16:29:46,220 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:46,220 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s1
2023-12-07 16:29:46,220 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2023-12-07 16:29:46,220 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:46,220 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-C54E6F380E28: ConfigurationManager, init=-1: peers:[s0|localhost:35115, s1|localhost:33299, s2|localhost:43827]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-12-07 16:29:46,220 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-12-07 16:29:46,220 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-12-07 16:29:46,220 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:46,220 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-12-07 16:29:46,220 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 39305 (custom)
2023-12-07 16:29:46,220 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-12-07 16:29:46,221 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:46,221 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2023-12-07 16:29:46,221 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 42083 (custom)
2023-12-07 16:29:46,221 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-12-07 16:29:46,221 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = LINEARIZABLE (custom)
2023-12-07 16:29:46,221 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 33299 (custom)
2023-12-07 16:29:46,221 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2023-12-07 16:29:46,221 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-12-07 16:29:46,221 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:46,221 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-12-07 16:29:46,221 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:46,221 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:46,221 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-12-07 16:29:46,221 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-12-07 16:29:46,222 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:46,222 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:46,222 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-12-07 16:29:46,222 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-12-07 16:29:46,222 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-12-07 16:29:46,222 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-12-07 16:29:46,222 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-12-07 16:29:46,222 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:46,222 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2023-12-07 16:29:46,222 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:46,222 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s1] (custom)
2023-12-07 16:29:46,222 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-12-07 16:29:46,222 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-12-07 16:29:46,223 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(100)) - s1: addNew group-C54E6F380E28:[s0|localhost:35115, s1|localhost:33299, s2|localhost:43827] returns group-C54E6F380E28:java.util.concurrent.CompletableFuture@4b93ccf3[Not completed]
2023-12-07 16:29:46,223 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s1: new RaftServerImpl for group-C54E6F380E28:[s0|localhost:35115, s1|localhost:33299, s2|localhost:43827] with CounterStateMachine:uninitialized
2023-12-07 16:29:46,223 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-C54E6F380E28:[s0|localhost:35115, s1|localhost:33299, s2|localhost:43827], format? true
2023-12-07 16:29:46,223 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-12-07 16:29:46,223 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s2
2023-12-07 16:29:46,223 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-12-07 16:29:46,223 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s2 does not exist.
2023-12-07 16:29:46,223 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-12-07 16:29:46,223 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s2
2023-12-07 16:29:46,223 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-12-07 16:29:46,223 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:46,223 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2023-12-07 16:29:46,223 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:46,223 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-12-07 16:29:46,223 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-C54E6F380E28: ConfigurationManager, init=-1: peers:[s0|localhost:35115, s1|localhost:33299, s2|localhost:43827]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-12-07 16:29:46,223 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:46,223 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-12-07 16:29:46,223 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 42937 (custom)
2023-12-07 16:29:46,223 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-12-07 16:29:46,223 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:46,223 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-12-07 16:29:46,224 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 34597 (custom)
2023-12-07 16:29:46,224 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2023-12-07 16:29:46,224 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-12-07 16:29:46,224 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = LINEARIZABLE (custom)
2023-12-07 16:29:46,224 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 43827 (custom)
2023-12-07 16:29:46,224 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2023-12-07 16:29:46,224 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-12-07 16:29:46,224 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:46,224 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-12-07 16:29:46,224 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:46,224 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:46,224 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-12-07 16:29:46,224 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-12-07 16:29:46,224 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:46,224 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:46,224 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-12-07 16:29:46,225 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-12-07 16:29:46,225 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-12-07 16:29:46,225 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-12-07 16:29:46,225 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-12-07 16:29:46,225 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:46,225 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2023-12-07 16:29:46,225 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:46,225 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s2] (custom)
2023-12-07 16:29:46,225 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-12-07 16:29:46,225 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-12-07 16:29:46,226 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(100)) - s2: addNew group-C54E6F380E28:[s0|localhost:35115, s1|localhost:33299, s2|localhost:43827] returns group-C54E6F380E28:java.util.concurrent.CompletableFuture@53691f9[Not completed]
2023-12-07 16:29:46,226 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s2: new RaftServerImpl for group-C54E6F380E28:[s0|localhost:35115, s1|localhost:33299, s2|localhost:43827] with CounterStateMachine:uninitialized
2023-12-07 16:29:46,226 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-12-07 16:29:46,226 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-12-07 16:29:46,226 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-12-07 16:29:46,226 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-12-07 16:29:46,226 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-12-07 16:29:46,226 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-12-07 16:29:46,226 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s0] (custom)
2023-12-07 16:29:46,226 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:46,226 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2023-12-07 16:29:46,226 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:46,226 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-C54E6F380E28: ConfigurationManager, init=-1: peers:[s0|localhost:35115, s1|localhost:33299, s2|localhost:43827]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-12-07 16:29:46,226 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s0/ca1cd529-c6c1-405c-ab59-c54e6f380e28 does not exist. Creating ...
2023-12-07 16:29:46,226 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-12-07 16:29:46,226 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-12-07 16:29:46,226 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-12-07 16:29:46,226 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2023-12-07 16:29:46,226 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = LINEARIZABLE (custom)
2023-12-07 16:29:46,226 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2023-12-07 16:29:46,227 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s0/ca1cd529-c6c1-405c-ab59-c54e6f380e28
2023-12-07 16:29:46,227 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:46,227 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:46,227 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-12-07 16:29:46,227 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-12-07 16:29:46,227 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-12-07 16:29:46,227 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-12-07 16:29:46,227 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s0/ca1cd529-c6c1-405c-ab59-c54e6f380e28/in_use.lock acquired by nodename 9497@fv-az527-45
2023-12-07 16:29:46,228 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s0/ca1cd529-c6c1-405c-ab59-c54e6f380e28/current
2023-12-07 16:29:46,228 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s0/ca1cd529-c6c1-405c-ab59-c54e6f380e28/sm
2023-12-07 16:29:46,228 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s0/ca1cd529-c6c1-405c-ab59-c54e6f380e28/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@392c83e4
2023-12-07 16:29:46,228 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s0/ca1cd529-c6c1-405c-ab59-c54e6f380e28/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s0/ca1cd529-c6c1-405c-ab59-c54e6f380e28/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:46,228 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s0/ca1cd529-c6c1-405c-ab59-c54e6f380e28 has been successfully formatted.
2023-12-07 16:29:46,229 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s0/ca1cd529-c6c1-405c-ab59-c54e6f380e28/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s0/ca1cd529-c6c1-405c-ab59-c54e6f380e28/current/raft-meta.conf
	at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:92)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:116)
	at java.base/sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:219)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:371)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:422)
	at java.base/java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:420)
	at java.base/java.nio.file.Files.newInputStream(Files.java:156)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:388)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:182)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:46,229 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-12-07 16:29:46,229 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-12-07 16:29:46,229 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:46,229 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-12-07 16:29:46,229 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-12-07 16:29:46,229 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:46,229 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-12-07 16:29:46,229 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-12-07 16:29:46,229 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:46,229 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-C54E6F380E28-cacheEviction-AwaitToRun,5,main] started
2023-12-07 16:29:46,229 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s0@group-C54E6F380E28-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s0/ca1cd529-c6c1-405c-ab59-c54e6f380e28
2023-12-07 16:29:46,229 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-12-07 16:29:46,229 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-12-07 16:29:46,229 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:46,229 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-12-07 16:29:46,229 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-12-07 16:29:46,230 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-12-07 16:29:46,230 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-12-07 16:29:46,230 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-12-07 16:29:46,230 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2023-12-07 16:29:46,231 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:46,231 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-12-07 16:29:46,231 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-12-07 16:29:46,231 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-12-07 16:29:46,231 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-C54E6F380E28-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:46,231 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-C54E6F380E28-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:46,231 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s0@group-C54E6F380E28: start as a follower, conf=-1: peers:[s0|localhost:35115, s1|localhost:33299, s2|localhost:43827]|listeners:[], old=null
2023-12-07 16:29:46,231 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-C54E6F380E28: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-12-07 16:29:46,231 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C54E6F380E28-FollowerState
2023-12-07 16:29:46,231 [s0@group-C54E6F380E28-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:46,232 [s0@group-C54E6F380E28-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:46,232 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C54E6F380E28,id=s0
2023-12-07 16:29:46,232 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2023-12-07 16:29:46,232 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-12-07 16:29:46,232 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-12-07 16:29:46,232 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-12-07 16:29:46,232 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(406)) - s0: start RPC server
2023-12-07 16:29:46,232 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 37753
2023-12-07 16:29:46,233 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 35115
2023-12-07 16:29:46,233 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 34617
2023-12-07 16:29:46,233 [JvmPauseMonitor18] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2023-12-07 16:29:46,233 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-12-07 16:29:46,233 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-12-07 16:29:46,233 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s1] (custom)
2023-12-07 16:29:46,233 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s1/ca1cd529-c6c1-405c-ab59-c54e6f380e28 does not exist. Creating ...
2023-12-07 16:29:46,233 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s1/ca1cd529-c6c1-405c-ab59-c54e6f380e28
2023-12-07 16:29:46,234 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s1/ca1cd529-c6c1-405c-ab59-c54e6f380e28/in_use.lock acquired by nodename 9497@fv-az527-45
2023-12-07 16:29:46,234 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s1/ca1cd529-c6c1-405c-ab59-c54e6f380e28/current
2023-12-07 16:29:46,234 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s1/ca1cd529-c6c1-405c-ab59-c54e6f380e28/sm
2023-12-07 16:29:46,234 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s1/ca1cd529-c6c1-405c-ab59-c54e6f380e28/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@3963eda6
2023-12-07 16:29:46,235 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s1/ca1cd529-c6c1-405c-ab59-c54e6f380e28/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s1/ca1cd529-c6c1-405c-ab59-c54e6f380e28/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:46,235 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s1/ca1cd529-c6c1-405c-ab59-c54e6f380e28 has been successfully formatted.
2023-12-07 16:29:46,235 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s1/ca1cd529-c6c1-405c-ab59-c54e6f380e28/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s1/ca1cd529-c6c1-405c-ab59-c54e6f380e28/current/raft-meta.conf
	at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:92)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:116)
	at java.base/sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:219)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:371)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:422)
	at java.base/java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:420)
	at java.base/java.nio.file.Files.newInputStream(Files.java:156)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:388)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:182)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:46,236 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-12-07 16:29:46,236 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-12-07 16:29:46,236 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:46,236 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-12-07 16:29:46,236 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-12-07 16:29:46,236 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:46,236 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-12-07 16:29:46,236 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-12-07 16:29:46,236 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:46,236 [s1-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s1@group-C54E6F380E28-cacheEviction-AwaitToRun,5,main] started
2023-12-07 16:29:46,236 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s1@group-C54E6F380E28-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s1/ca1cd529-c6c1-405c-ab59-c54e6f380e28
2023-12-07 16:29:46,236 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-12-07 16:29:46,236 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-12-07 16:29:46,236 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:46,236 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-12-07 16:29:46,236 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-12-07 16:29:46,236 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-12-07 16:29:46,236 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-12-07 16:29:46,236 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-12-07 16:29:46,236 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2023-12-07 16:29:46,238 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:46,238 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-12-07 16:29:46,238 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-12-07 16:29:46,238 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-12-07 16:29:46,238 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-C54E6F380E28-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:46,238 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-C54E6F380E28-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:46,239 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s1@group-C54E6F380E28: start as a follower, conf=-1: peers:[s0|localhost:35115, s1|localhost:33299, s2|localhost:43827]|listeners:[], old=null
2023-12-07 16:29:46,239 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-C54E6F380E28: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-12-07 16:29:46,239 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-C54E6F380E28-FollowerState
2023-12-07 16:29:46,241 [grpc-default-executor-3] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s0@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:42899
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:46,242 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C54E6F380E28,id=s1
2023-12-07 16:29:46,241 [s1@group-C54E6F380E28-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:46,242 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2023-12-07 16:29:46,242 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-12-07 16:29:46,242 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-12-07 16:29:46,242 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-12-07 16:29:46,242 [s1@group-C54E6F380E28-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:46,243 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(406)) - s1: start RPC server
2023-12-07 16:29:46,243 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 42083
2023-12-07 16:29:46,243 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 33299
2023-12-07 16:29:46,243 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 39305
2023-12-07 16:29:46,244 [JvmPauseMonitor19] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s1: Started
2023-12-07 16:29:46,244 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-12-07 16:29:46,244 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-12-07 16:29:46,244 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s2] (custom)
2023-12-07 16:29:46,244 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s2/ca1cd529-c6c1-405c-ab59-c54e6f380e28 does not exist. Creating ...
2023-12-07 16:29:46,244 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s2/ca1cd529-c6c1-405c-ab59-c54e6f380e28
2023-12-07 16:29:46,245 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s2/ca1cd529-c6c1-405c-ab59-c54e6f380e28/in_use.lock acquired by nodename 9497@fv-az527-45
2023-12-07 16:29:46,245 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s2/ca1cd529-c6c1-405c-ab59-c54e6f380e28/current
2023-12-07 16:29:46,245 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s2/ca1cd529-c6c1-405c-ab59-c54e6f380e28/sm
2023-12-07 16:29:46,245 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s2/ca1cd529-c6c1-405c-ab59-c54e6f380e28/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2fc78dea
2023-12-07 16:29:46,246 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s2/ca1cd529-c6c1-405c-ab59-c54e6f380e28/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s2/ca1cd529-c6c1-405c-ab59-c54e6f380e28/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:46,246 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s2/ca1cd529-c6c1-405c-ab59-c54e6f380e28 has been successfully formatted.
2023-12-07 16:29:46,246 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s2/ca1cd529-c6c1-405c-ab59-c54e6f380e28/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s2/ca1cd529-c6c1-405c-ab59-c54e6f380e28/current/raft-meta.conf
	at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:92)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:116)
	at java.base/sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:219)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:371)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:422)
	at java.base/java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:420)
	at java.base/java.nio.file.Files.newInputStream(Files.java:156)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:388)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:182)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:46,246 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-12-07 16:29:46,246 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-12-07 16:29:46,246 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:46,246 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-12-07 16:29:46,246 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-12-07 16:29:46,246 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:46,246 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-12-07 16:29:46,246 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-12-07 16:29:46,246 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:46,246 [s2-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s2@group-C54E6F380E28-cacheEviction-AwaitToRun,5,main] started
2023-12-07 16:29:46,246 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s2@group-C54E6F380E28-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s2/ca1cd529-c6c1-405c-ab59-c54e6f380e28
2023-12-07 16:29:46,246 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-12-07 16:29:46,247 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-12-07 16:29:46,247 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:46,247 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-12-07 16:29:46,247 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-12-07 16:29:46,247 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-12-07 16:29:46,247 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-12-07 16:29:46,247 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-12-07 16:29:46,247 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2023-12-07 16:29:46,248 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:46,248 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-12-07 16:29:46,248 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-12-07 16:29:46,248 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-12-07 16:29:46,248 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-C54E6F380E28-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:46,248 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-C54E6F380E28-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:46,248 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s2@group-C54E6F380E28: start as a follower, conf=-1: peers:[s0|localhost:35115, s1|localhost:33299, s2|localhost:43827]|listeners:[], old=null
2023-12-07 16:29:46,248 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-C54E6F380E28: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-12-07 16:29:46,248 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-C54E6F380E28-FollowerState
2023-12-07 16:29:46,249 [s2@group-C54E6F380E28-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:46,249 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C54E6F380E28,id=s2
2023-12-07 16:29:46,249 [s2@group-C54E6F380E28-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:46,249 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2023-12-07 16:29:46,249 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-12-07 16:29:46,249 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-12-07 16:29:46,249 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-12-07 16:29:46,249 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(406)) - s2: start RPC server
2023-12-07 16:29:46,249 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 34597
2023-12-07 16:29:46,250 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 43827
2023-12-07 16:29:46,250 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 42937
2023-12-07 16:29:46,250 [JvmPauseMonitor20] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s2: Started
2023-12-07 16:29:46,250 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-12-07 16:29:46,250 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C54E6F380E28:t0, leader=null, voted=, raftlog=Memoized:s0@group-C54E6F380E28-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:35115, s1|localhost:33299, s2|localhost:43827]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C54E6F380E28:t0, leader=null, voted=, raftlog=Memoized:s1@group-C54E6F380E28-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:35115, s1|localhost:33299, s2|localhost:43827]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C54E6F380E28:t0, leader=null, voted=, raftlog=Memoized:s2@group-C54E6F380E28-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:35115, s1|localhost:33299, s2|localhost:43827]|listeners:[], old=null RUNNING
2023-12-07 16:29:46,250 [Time-limited test] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(119)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-C54E6F380E28:t0, leader=null, voted=, raftlog=Memoized:s0@group-C54E6F380E28-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:35115, s1|localhost:33299, s2|localhost:43827]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C54E6F380E28:t0, leader=null, voted=, raftlog=Memoized:s1@group-C54E6F380E28-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:35115, s1|localhost:33299, s2|localhost:43827]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C54E6F380E28:t0, leader=null, voted=, raftlog=Memoized:s2@group-C54E6F380E28-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:35115, s1|localhost:33299, s2|localhost:43827]|listeners:[], old=null RUNNING
2023-12-07 16:29:46,345 [grpc-default-executor-5] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s1@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:41005
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:46,412 [s0@group-C54E6F380E28-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-C54E6F380E28-FollowerState: change to CANDIDATE, lastRpcElapsedTime:180350131ns, electionTimeout:180ms
2023-12-07 16:29:46,412 [s0@group-C54E6F380E28-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-C54E6F380E28-FollowerState
2023-12-07 16:29:46,412 [s0@group-C54E6F380E28-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-C54E6F380E28: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-12-07 16:29:46,412 [s0@group-C54E6F380E28-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-12-07 16:29:46,412 [s0@group-C54E6F380E28-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C54E6F380E28-LeaderElection10
2023-12-07 16:29:46,413 [s0@group-C54E6F380E28-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-C54E6F380E28-LeaderElection10 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|localhost:35115, s1|localhost:33299, s2|localhost:43827]|listeners:[], old=null
2023-12-07 16:29:46,413 [s0@group-C54E6F380E28-LeaderElection10-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s1
2023-12-07 16:29:46,413 [s0@group-C54E6F380E28-LeaderElection10-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s2
2023-12-07 16:29:46,413 [s0@group-C54E6F380E28-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:46,413 [s0@group-C54E6F380E28-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:46,416 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s2@group-C54E6F380E28: receive requestVote(PRE_VOTE, s0, group-C54E6F380E28, 0, (t:0, i:0))
2023-12-07 16:29:46,416 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-C54E6F380E28-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-12-07 16:29:46,416 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s1@group-C54E6F380E28: receive requestVote(PRE_VOTE, s0, group-C54E6F380E28, 0, (t:0, i:0))
2023-12-07 16:29:46,416 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s2@group-C54E6F380E28 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-C54E6F380E28:t0, leader=null, voted=, raftlog=Memoized:s2@group-C54E6F380E28-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:35115, s1|localhost:33299, s2|localhost:43827]|listeners:[], old=null
2023-12-07 16:29:46,416 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-C54E6F380E28-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-12-07 16:29:46,416 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s1@group-C54E6F380E28 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-C54E6F380E28:t0, leader=null, voted=, raftlog=Memoized:s1@group-C54E6F380E28-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:35115, s1|localhost:33299, s2|localhost:43827]|listeners:[], old=null
2023-12-07 16:29:46,417 [s0@group-C54E6F380E28-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-C54E6F380E28-LeaderElection10: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-12-07 16:29:46,417 [s0@group-C54E6F380E28-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s2#0:OK-t0
2023-12-07 16:29:46,417 [s0@group-C54E6F380E28-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-C54E6F380E28-LeaderElection10 PRE_VOTE round 0: result PASSED
2023-12-07 16:29:46,417 [s0@group-C54E6F380E28-LeaderElection10] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s0/ca1cd529-c6c1-405c-ab59-c54e6f380e28/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@768d806b
2023-12-07 16:29:46,418 [s0@group-C54E6F380E28-LeaderElection10] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s0/ca1cd529-c6c1-405c-ab59-c54e6f380e28/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s0/ca1cd529-c6c1-405c-ab59-c54e6f380e28/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:46,418 [s0@group-C54E6F380E28-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-C54E6F380E28-LeaderElection10 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|localhost:35115, s1|localhost:33299, s2|localhost:43827]|listeners:[], old=null
2023-12-07 16:29:46,419 [s0@group-C54E6F380E28-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:46,419 [s0@group-C54E6F380E28-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:46,419 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s1@group-C54E6F380E28: receive requestVote(ELECTION, s0, group-C54E6F380E28, 1, (t:0, i:0))
2023-12-07 16:29:46,419 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s2@group-C54E6F380E28: receive requestVote(ELECTION, s0, group-C54E6F380E28, 1, (t:0, i:0))
2023-12-07 16:29:46,419 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-C54E6F380E28-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2023-12-07 16:29:46,419 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-C54E6F380E28-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2023-12-07 16:29:46,419 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-C54E6F380E28: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2023-12-07 16:29:46,419 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-C54E6F380E28: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2023-12-07 16:29:46,419 [grpc-default-executor-7] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-C54E6F380E28-FollowerState
2023-12-07 16:29:46,419 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-C54E6F380E28-FollowerState
2023-12-07 16:29:46,419 [grpc-default-executor-7] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-C54E6F380E28-FollowerState
2023-12-07 16:29:46,420 [s1@group-C54E6F380E28-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-C54E6F380E28-FollowerState was interrupted
2023-12-07 16:29:46,420 [s2@group-C54E6F380E28-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-C54E6F380E28-FollowerState was interrupted
2023-12-07 16:29:46,420 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-C54E6F380E28-FollowerState
2023-12-07 16:29:46,420 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(564)) - s1@group-C54E6F380E28: set firstElectionSinceStartup to false for candidate:s0
2023-12-07 16:29:46,420 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(564)) - s2@group-C54E6F380E28: set firstElectionSinceStartup to false for candidate:s0
2023-12-07 16:29:46,420 [grpc-default-executor-7] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s1/ca1cd529-c6c1-405c-ab59-c54e6f380e28/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@35fbd981
2023-12-07 16:29:46,420 [grpc-default-executor-5] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s2/ca1cd529-c6c1-405c-ab59-c54e6f380e28/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@7959c225
2023-12-07 16:29:46,421 [grpc-default-executor-7] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s1/ca1cd529-c6c1-405c-ab59-c54e6f380e28/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s1/ca1cd529-c6c1-405c-ab59-c54e6f380e28/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:46,421 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s1@group-C54E6F380E28 replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-C54E6F380E28:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-C54E6F380E28-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:35115, s1|localhost:33299, s2|localhost:43827]|listeners:[], old=null
2023-12-07 16:29:46,421 [grpc-default-executor-5] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s2/ca1cd529-c6c1-405c-ab59-c54e6f380e28/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s2/ca1cd529-c6c1-405c-ab59-c54e6f380e28/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:46,421 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s2@group-C54E6F380E28 replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-C54E6F380E28:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-C54E6F380E28-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:35115, s1|localhost:33299, s2|localhost:43827]|listeners:[], old=null
2023-12-07 16:29:46,421 [s0@group-C54E6F380E28-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-C54E6F380E28-LeaderElection10: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-12-07 16:29:46,421 [s0@group-C54E6F380E28-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t1
2023-12-07 16:29:46,421 [s0@group-C54E6F380E28-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-C54E6F380E28-LeaderElection10 ELECTION round 0: result PASSED
2023-12-07 16:29:46,421 [s0@group-C54E6F380E28-LeaderElection10] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-C54E6F380E28-LeaderElection10
2023-12-07 16:29:46,422 [s0@group-C54E6F380E28-LeaderElection10] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-C54E6F380E28: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-12-07 16:29:46,422 [s0@group-C54E6F380E28-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-12-07 16:29:46,422 [s0@group-C54E6F380E28-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-12-07 16:29:46,422 [s0@group-C54E6F380E28-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2023-12-07 16:29:46,422 [s0@group-C54E6F380E28-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-12-07 16:29:46,422 [s0@group-C54E6F380E28-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-12-07 16:29:46,422 [s0@group-C54E6F380E28-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-12-07 16:29:46,422 [s0@group-C54E6F380E28-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = true (custom)
2023-12-07 16:29:46,422 [s0@group-C54E6F380E28-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2023-12-07 16:29:46,422 [s0@group-C54E6F380E28-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-12-07 16:29:46,422 [s0@group-C54E6F380E28-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-12-07 16:29:46,422 [s0@group-C54E6F380E28-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-12-07 16:29:46,422 [s0@group-C54E6F380E28-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-12-07 16:29:46,422 [s0@group-C54E6F380E28-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:46,422 [s0@group-C54E6F380E28-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-12-07 16:29:46,423 [s0@group-C54E6F380E28-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2023-12-07 16:29:46,423 [s0@group-C54E6F380E28-LeaderElection10] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2023-12-07 16:29:46,423 [s0@group-C54E6F380E28-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:46,423 [s0@group-C54E6F380E28-LeaderElection10] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2023-12-07 16:29:46,423 [s0@group-C54E6F380E28-LeaderElection10] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2023-12-07 16:29:46,423 [s0@group-C54E6F380E28-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:46,423 [s0@group-C54E6F380E28-LeaderElection10] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:46,423 [s0@group-C54E6F380E28-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-12-07 16:29:46,423 [s0@group-C54E6F380E28-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:46,423 [s0@group-C54E6F380E28-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-12-07 16:29:46,423 [s0@group-C54E6F380E28-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2023-12-07 16:29:46,423 [s0@group-C54E6F380E28-LeaderElection10] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2023-12-07 16:29:46,423 [s0@group-C54E6F380E28-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:46,423 [s0@group-C54E6F380E28-LeaderElection10] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2023-12-07 16:29:46,423 [s0@group-C54E6F380E28-LeaderElection10] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2023-12-07 16:29:46,423 [s0@group-C54E6F380E28-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:46,423 [s0@group-C54E6F380E28-LeaderElection10] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:46,423 [s0@group-C54E6F380E28-LeaderElection10] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-C54E6F380E28-LeaderStateImpl
2023-12-07 16:29:46,423 [s0@group-C54E6F380E28-LeaderElection10] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(564)) - s0@group-C54E6F380E28: set firstElectionSinceStartup to false for becomeLeader
2023-12-07 16:29:46,424 [s0@group-C54E6F380E28-LeaderElection10] INFO  server.RaftServer$Division (ServerState.java:setLeader(265)) - s0@group-C54E6F380E28: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 203ms
2023-12-07 16:29:46,424 [s0@group-C54E6F380E28-LeaderElection10] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s0@group-C54E6F380E28-SegmentedRaftLogWorker: Starting segment from index:0
2023-12-07 16:29:46,424 [s0@group-C54E6F380E28-LeaderElection10] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(382)) - s0@group-C54E6F380E28: set configuration 0: peers:[s0|localhost:35115, s1|localhost:33299, s2|localhost:43827]|listeners:[], old=null
2023-12-07 16:29:46,424 [s0@group-C54E6F380E28-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2023-12-07 16:29:46,427 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(265)) - s1@group-C54E6F380E28: change Leader from null to s0 at term 1 for appendEntries, leader elected after 203ms
2023-12-07 16:29:46,430 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-C54E6F380E28: receive appendEntries(s0, 1, null, -1, true, commits:[s0:c-1, s1:c-1, s2:c-1], cId:1, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:35115"
dataStreamAddress: "localhost:44913"
clientAddress: "localhost:37753"
adminAddress: "localhost:34617"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:33299"
dataStreamAddress: "localhost:46491"
clientAddress: "localhost:42083"
adminAddress: "localhost:39305"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:43827"
dataStreamAddress: "localhost:45257"
clientAddress: "localhost:34597"
adminAddress: "localhost:42937"
startupRole: FOLLOWER
, old:)]
2023-12-07 16:29:46,431 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(382)) - s1@group-C54E6F380E28: set configuration 0: peers:[s0|localhost:35115, s1|localhost:33299, s2|localhost:43827]|listeners:[], old=null
2023-12-07 16:29:46,431 [s1-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s1@group-C54E6F380E28-SegmentedRaftLogWorker: Starting segment from index:0
2023-12-07 16:29:46,431 [s1@group-C54E6F380E28-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2023-12-07 16:29:46,431 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(265)) - s2@group-C54E6F380E28: change Leader from null to s0 at term 1 for appendEntries, leader elected after 205ms
2023-12-07 16:29:46,431 [s0@group-C54E6F380E28-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s0@group-C54E6F380E28-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s0/ca1cd529-c6c1-405c-ab59-c54e6f380e28/current/log_inprogress_0
2023-12-07 16:29:46,433 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-C54E6F380E28: receive appendEntries(s0, 1, null, -1, true, commits:[s0:c-1, s1:c-1, s2:c-1], cId:1, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:35115"
dataStreamAddress: "localhost:44913"
clientAddress: "localhost:37753"
adminAddress: "localhost:34617"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:33299"
dataStreamAddress: "localhost:46491"
clientAddress: "localhost:42083"
adminAddress: "localhost:39305"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:43827"
dataStreamAddress: "localhost:45257"
clientAddress: "localhost:34597"
adminAddress: "localhost:42937"
startupRole: FOLLOWER
, old:)]
2023-12-07 16:29:46,433 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(382)) - s2@group-C54E6F380E28: set configuration 0: peers:[s0|localhost:35115, s1|localhost:33299, s2|localhost:43827]|listeners:[], old=null
2023-12-07 16:29:46,433 [s2-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s2@group-C54E6F380E28-SegmentedRaftLogWorker: Starting segment from index:0
2023-12-07 16:29:46,435 [s2@group-C54E6F380E28-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2023-12-07 16:29:46,442 [s1@group-C54E6F380E28-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s1@group-C54E6F380E28-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s1/ca1cd529-c6c1-405c-ab59-c54e6f380e28/current/log_inprogress_0
2023-12-07 16:29:46,443 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-C54E6F380E28: succeeded to handle AppendEntries. Reply: s0<-s1#1:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-12-07 16:29:46,443 [s2@group-C54E6F380E28-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s2@group-C54E6F380E28-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s2/ca1cd529-c6c1-405c-ab59-c54e6f380e28/current/log_inprogress_0
2023-12-07 16:29:46,443 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-C54E6F380E28: succeeded to handle AppendEntries. Reply: s0<-s2#1:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-12-07 16:29:46,443 [s0@group-C54E6F380E28-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s0/ca1cd529-c6c1-405c-ab59-c54e6f380e28/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@47626b24
2023-12-07 16:29:46,444 [s0@group-C54E6F380E28-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s0/ca1cd529-c6c1-405c-ab59-c54e6f380e28/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s0/ca1cd529-c6c1-405c-ab59-c54e6f380e28/current/raft-meta.conf with options [REPLACE_EXISTING]
2023-12-07 16:29:46,444 [s0@group-C54E6F380E28-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:isApplied(320)) - leader is ready since appliedIndex == 0 >= startIndex == 0
2023-12-07 16:29:46,448 [grpc-default-executor-5] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s0@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:42899
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:46,521 [s2@group-C54E6F380E28-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s2/ca1cd529-c6c1-405c-ab59-c54e6f380e28/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@7dd22158
2023-12-07 16:29:46,521 [s1@group-C54E6F380E28-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s1/ca1cd529-c6c1-405c-ab59-c54e6f380e28/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6d87d70a
2023-12-07 16:29:46,522 [s2@group-C54E6F380E28-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s2/ca1cd529-c6c1-405c-ab59-c54e6f380e28/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s2/ca1cd529-c6c1-405c-ab59-c54e6f380e28/current/raft-meta.conf with options [REPLACE_EXISTING]
2023-12-07 16:29:46,523 [s1@group-C54E6F380E28-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s1/ca1cd529-c6c1-405c-ab59-c54e6f380e28/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc80f5c6a3/s1/ca1cd529-c6c1-405c-ab59-c54e6f380e28/current/raft-meta.conf with options [REPLACE_EXISTING]
2023-12-07 16:29:46,552 [grpc-default-executor-5] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s1@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:41005
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:46,654 [grpc-default-executor-5] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s2@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:35469
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:46,701 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-C54E6F380E28:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-C54E6F380E28-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:35115, s1|localhost:33299, s2|localhost:43827]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C54E6F380E28:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-C54E6F380E28-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:35115, s1|localhost:33299, s2|localhost:43827]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C54E6F380E28:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-C54E6F380E28-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:35115, s1|localhost:33299, s2|localhost:43827]|listeners:[], old=null RUNNING
2023-12-07 16:29:46,705 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s0@group-C54E6F380E28: receive client request(RaftClientRequest:client-BA46F3F82579->s0@group-C54E6F380E28, cid=95, seq=null, RW, Message:494e4352454d454e54)
2023-12-07 16:29:46,705 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s0@group-C54E6F380E28-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-BA46F3F82579->s0@group-C54E6F380E28, cid=95, seq=null, RW, Message:494e4352454d454e54, entry=(t:1, i:1), STATEMACHINELOGENTRY, 95@client-BA46F3F82579
2023-12-07 16:29:46,706 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-C54E6F380E28: receive appendEntries(s0, 1, (t:1, i:0), 0, true, commits:[s0:c0, s1:c0, s2:c0], cId:7, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 95@client-BA46F3F82579]
2023-12-07 16:29:46,706 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-C54E6F380E28: receive appendEntries(s0, 1, (t:1, i:0), 0, true, commits:[s0:c0, s1:c0, s2:c0], cId:7, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 95@client-BA46F3F82579]
2023-12-07 16:29:46,706 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-C54E6F380E28: succeeded to handle AppendEntries. Reply: s0<-s1#7:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2023-12-07 16:29:46,706 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-C54E6F380E28: succeeded to handle AppendEntries. Reply: s0<-s2#7:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2023-12-07 16:29:46,707 [s0@group-C54E6F380E28-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:46,707 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-C54E6F380E28: receive appendEntries(s0, 1, (t:1, i:1), 1, true, commits:[s0:c1, s1:c0, s2:c0], cId:8, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2023-12-07 16:29:46,708 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-C54E6F380E28: receive appendEntries(s0, 1, (t:1, i:1), 1, true, commits:[s0:c1, s1:c0, s2:c0], cId:8, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2023-12-07 16:29:46,708 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-C54E6F380E28: succeeded to handle AppendEntries. Reply: s0<-s1#8:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2023-12-07 16:29:46,708 [s1@group-C54E6F380E28-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:46,709 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-C54E6F380E28: succeeded to handle AppendEntries. Reply: s0<-s2#8:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2023-12-07 16:29:46,709 [s2@group-C54E6F380E28-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:46,710 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s0@group-C54E6F380E28: receive client request(RaftClientRequest:client-BA46F3F82579->s0@group-C54E6F380E28, cid=96, seq=1*, Watch(0), Message:<EMPTY>)
2023-12-07 16:29:46,710 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addWatchReqeust(540)) - s0@group-C54E6F380E28-LeaderStateImpl: addWatchRequest RaftClientRequest:client-BA46F3F82579->s0@group-C54E6F380E28, cid=96, seq=1*, Watch(0), Message:<EMPTY>
2023-12-07 16:29:46,712 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s0@group-C54E6F380E28: receive client request(RaftClientRequest:client-BA46F3F82579->s0@group-C54E6F380E28, cid=97, seq=2, RW, Message:574149545f414e445f49...(size=18))
2023-12-07 16:29:46,712 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s0@group-C54E6F380E28-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-BA46F3F82579->s0@group-C54E6F380E28, cid=97, seq=2, RW, Message:574149545f414e445f49...(size=18), entry=(t:1, i:3), STATEMACHINELOGENTRY, 97@client-BA46F3F82579
2023-12-07 16:29:46,713 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-C54E6F380E28: receive appendEntries(s0, 1, (t:1, i:2), 2, true, commits:[s0:c2, s1:c1, s2:c1], cId:12, entries: [(t:1, i:3), STATEMACHINELOGENTRY, 97@client-BA46F3F82579]
2023-12-07 16:29:46,713 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-C54E6F380E28: receive appendEntries(s0, 1, (t:1, i:2), 2, true, commits:[s0:c2, s1:c1, s2:c1], cId:12, entries: [(t:1, i:3), STATEMACHINELOGENTRY, 97@client-BA46F3F82579]
2023-12-07 16:29:46,713 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-C54E6F380E28: succeeded to handle AppendEntries. Reply: s0<-s1#12:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2023-12-07 16:29:46,713 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-C54E6F380E28: succeeded to handle AppendEntries. Reply: s0<-s2#12:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2023-12-07 16:29:46,714 [s0@group-C54E6F380E28-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: WAIT_AND_INCREMENT
2023-12-07 16:29:46,715 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-C54E6F380E28: receive appendEntries(s0, 1, (t:1, i:3), 3, true, commits:[s0:c3, s1:c2, s2:c1], cId:14, entries: [(t:1, i:4), METADATAENTRY(c:3)]
2023-12-07 16:29:46,715 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-C54E6F380E28: receive appendEntries(s0, 1, (t:1, i:3), 3, true, commits:[s0:c3, s1:c2, s2:c1], cId:13, entries: [(t:1, i:4), METADATAENTRY(c:3)]
2023-12-07 16:29:46,715 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-C54E6F380E28: succeeded to handle AppendEntries. Reply: s0<-s2#14:OK-t1,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2023-12-07 16:29:46,715 [s2@group-C54E6F380E28-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: WAIT_AND_INCREMENT
2023-12-07 16:29:46,715 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-C54E6F380E28: succeeded to handle AppendEntries. Reply: s0<-s1#13:OK-t1,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2023-12-07 16:29:46,716 [s1@group-C54E6F380E28-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: WAIT_AND_INCREMENT
2023-12-07 16:29:46,758 [grpc-default-executor-5] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s0@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:42899
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:46,814 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s1@group-C54E6F380E28: receive client request(RaftClientRequest:client-EB2C67E2BE4E->s1@group-C54E6F380E28, cid=98, seq=null, RO, Message:5155455259)
2023-12-07 16:29:46,814 [s1-client-thread1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s0
2023-12-07 16:29:46,816 [s0-server-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=4, readAfterWriteConsistentIndex=null
2023-12-07 16:29:46,862 [grpc-default-executor-7] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s1@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:41005
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:46,964 [grpc-default-executor-7] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s2@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:35469
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:47,067 [grpc-default-executor-5] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s1@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:41005
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:47,170 [grpc-default-executor-3] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s0@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:42899
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:47,221 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-12-07 16:29:47,221 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-12-07 16:29:47,221 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2023-12-07 16:29:47,221 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-12-07 16:29:47,221 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-12-07 16:29:47,221 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-C54E6F380E28:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-C54E6F380E28-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|localhost:35115, s1|localhost:33299, s2|localhost:43827]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-C54E6F380E28:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-C54E6F380E28-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|localhost:35115, s1|localhost:33299, s2|localhost:43827]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-C54E6F380E28:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-C54E6F380E28-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|localhost:35115, s1|localhost:33299, s2|localhost:43827]|listeners:[], old=null RUNNING
2023-12-07 16:29:47,221 [MiniRaftCluster-37] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(416)) - s0: close
2023-12-07 16:29:47,221 [MiniRaftCluster-38] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(416)) - s1: close
2023-12-07 16:29:47,221 [MiniRaftCluster-39] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(416)) - s2: close
2023-12-07 16:29:47,221 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$3(516)) - s0@group-C54E6F380E28: shutdown
2023-12-07 16:29:47,223 [MiniRaftCluster-38] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-12-07 16:29:47,223 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C54E6F380E28,id=s0
2023-12-07 16:29:47,221 [MiniRaftCluster-37] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-12-07 16:29:47,223 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(94)) - s0: shutdown s0@group-C54E6F380E28-LeaderStateImpl
2023-12-07 16:29:47,223 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$3(516)) - s1@group-C54E6F380E28: shutdown
2023-12-07 16:29:47,224 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(289)) - s0@group-C54E6F380E28-PendingRequests: sendNotLeaderResponses
2023-12-07 16:29:47,224 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C54E6F380E28,id=s1
2023-12-07 16:29:47,224 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-C54E6F380E28-FollowerState
2023-12-07 16:29:47,224 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s1@group-C54E6F380E28-StateMachineUpdater: set stopIndex = 4
2023-12-07 16:29:47,224 [s1@group-C54E6F380E28-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-C54E6F380E28-FollowerState was interrupted
2023-12-07 16:29:47,224 [s0@group-C54E6F380E28->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(279)) - s0@group-C54E6F380E28->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2023-12-07 16:29:47,224 [s0@group-C54E6F380E28->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(279)) - s0@group-C54E6F380E28->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2023-12-07 16:29:47,223 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$3(516)) - s2@group-C54E6F380E28: shutdown
2023-12-07 16:29:47,224 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(157)) - s2: Completed APPEND_ENTRIES, lastRequest: s0->s2#14-t1,previous=(t:1, i:3),leaderCommit=3,initializing? true,entries: size=1, first=(t:1, i:4), METADATAENTRY(c:3)
2023-12-07 16:29:47,224 [Thread-555] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(103)) - s0 Close channels
2023-12-07 16:29:47,224 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(157)) - s2: Completed APPEND_ENTRIES, lastRequest: null
2023-12-07 16:29:47,224 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(157)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#13-t1,previous=(t:1, i:3),leaderCommit=3,initializing? true,entries: size=1, first=(t:1, i:4), METADATAENTRY(c:3)
2023-12-07 16:29:47,225 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$5(159)) - s1: Completed APPEND_ENTRIES, lastReply: null
2023-12-07 16:29:47,225 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$5(159)) - s2: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s0"
  replyId: "s2"
  raftGroupId {
    id: "\312\034\325)\306\301@\\\253Y\305No8\016("
  }
  callId: 25
  success: true
}
term: 1
nextIndex: 5
followerCommit: 4
matchIndex: 18446744073709551615
isHearbeat: true

2023-12-07 16:29:47,225 [grpc-default-executor-7] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(534)) - s0@group-C54E6F380E28->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-12-07 16:29:47,223 [MiniRaftCluster-39] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-12-07 16:29:47,224 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$5(159)) - s2: Completed APPEND_ENTRIES, lastReply: null
2023-12-07 16:29:47,224 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C54E6F380E28,id=s2
2023-12-07 16:29:47,225 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-C54E6F380E28-FollowerState
2023-12-07 16:29:47,225 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s2@group-C54E6F380E28-StateMachineUpdater: set stopIndex = 4
2023-12-07 16:29:47,225 [s2@group-C54E6F380E28-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-C54E6F380E28-FollowerState was interrupted
2023-12-07 16:29:47,225 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(423)) - s2@group-C54E6F380E28: applyIndex: 4
2023-12-07 16:29:47,225 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(157)) - s1: Completed APPEND_ENTRIES, lastRequest: null
2023-12-07 16:29:47,226 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$5(159)) - s1: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s0"
  replyId: "s1"
  raftGroupId {
    id: "\312\034\325)\306\301@\\\253Y\305No8\016("
  }
  callId: 22
  success: true
}
term: 1
nextIndex: 5
followerCommit: 4
matchIndex: 18446744073709551615
isHearbeat: true

2023-12-07 16:29:47,226 [s2@group-C54E6F380E28-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s2@group-C54E6F380E28-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2023-12-07 16:29:47,226 [grpc-default-executor-3] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(534)) - s0@group-C54E6F380E28->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-12-07 16:29:47,227 [grpc-default-executor-3] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(534)) - s0@group-C54E6F380E28->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-12-07 16:29:47,227 [grpc-default-executor-3] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(534)) - s0@group-C54E6F380E28->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-12-07 16:29:47,227 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(423)) - s1@group-C54E6F380E28: applyIndex: 4
2023-12-07 16:29:47,227 [s1@group-C54E6F380E28-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s1@group-C54E6F380E28-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2023-12-07 16:29:47,227 [MiniRaftCluster-38] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-12-07 16:29:47,227 [MiniRaftCluster-38] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server GrpcServerProtocolService now
2023-12-07 16:29:47,228 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s0@group-C54E6F380E28-StateMachineUpdater: set stopIndex = 4
2023-12-07 16:29:47,228 [Thread-556] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(103)) - s1 Close channels
2023-12-07 16:29:47,228 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(423)) - s0@group-C54E6F380E28: applyIndex: 4
2023-12-07 16:29:47,228 [s0@group-C54E6F380E28-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-C54E6F380E28-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2023-12-07 16:29:47,230 [MiniRaftCluster-38] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server GrpcServerProtocolService successfully
2023-12-07 16:29:47,230 [MiniRaftCluster-38] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-12-07 16:29:47,230 [MiniRaftCluster-39] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-12-07 16:29:47,230 [MiniRaftCluster-39] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server GrpcServerProtocolService now
2023-12-07 16:29:47,231 [MiniRaftCluster-38] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-12-07 16:29:47,231 [MiniRaftCluster-39] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server GrpcServerProtocolService successfully
2023-12-07 16:29:47,231 [MiniRaftCluster-39] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-12-07 16:29:47,231 [Thread-560] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(103)) - s2 Close channels
2023-12-07 16:29:47,231 [MiniRaftCluster-37] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-12-07 16:29:47,231 [MiniRaftCluster-37] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server GrpcServerProtocolService now
2023-12-07 16:29:47,232 [MiniRaftCluster-39] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-12-07 16:29:47,232 [MiniRaftCluster-37] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server GrpcServerProtocolService successfully
2023-12-07 16:29:47,232 [MiniRaftCluster-37] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-12-07 16:29:47,233 [MiniRaftCluster-37] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-12-07 16:29:47,274 [grpc-default-executor-5] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s1@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:41005
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:47,376 [grpc-default-executor-7] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s2@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:35469
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:47,479 [grpc-default-executor-3] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s1@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:41005
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:47,582 [grpc-default-executor-7] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s2@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:35469
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:47,685 [grpc-default-executor-3] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s0@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:42899
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:47,715 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s0@group-C54E6F380E28-SegmentedRaftLogWorker close()
2023-12-07 16:29:47,716 [JvmPauseMonitor18] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2023-12-07 16:29:47,716 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s2@group-C54E6F380E28-SegmentedRaftLogWorker close()
2023-12-07 16:29:47,716 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s1@group-C54E6F380E28-SegmentedRaftLogWorker close()
2023-12-07 16:29:47,717 [JvmPauseMonitor19] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s1: Stopped
2023-12-07 16:29:47,717 [JvmPauseMonitor20] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s2: Stopped
2023-12-07 16:29:47,717 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2023-12-07 16:29:47,717 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-12-07 16:29:47,718 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-12-07 16:29:47,718 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2023-12-07 16:29:47,718 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-12-07 16:29:47,718 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-12-07 16:29:47,718 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:   CLOSED    LEADER s0@group-C54E6F380E28:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-C54E6F380E28-SegmentedRaftLog:CLOSED:c4, conf=0: peers:[s0|localhost:35115, s1|localhost:33299, s2|localhost:43827]|listeners:[], old=null CLOSED
  s1:   CLOSED  FOLLOWER s1@group-C54E6F380E28:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-C54E6F380E28-SegmentedRaftLog:CLOSED:c4, conf=0: peers:[s0|localhost:35115, s1|localhost:33299, s2|localhost:43827]|listeners:[], old=null CLOSED
  s2:   CLOSED  FOLLOWER s2@group-C54E6F380E28:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-C54E6F380E28-SegmentedRaftLog:CLOSED:c4, conf=0: peers:[s0|localhost:35115, s1|localhost:33299, s2|localhost:43827]|listeners:[], old=null CLOSED
2023-12-07 16:29:47,718 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2023-12-07 16:29:47,719 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-12-07 16:29:47,719 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-12-07 16:29:47,719 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2023-12-07 16:29:47,719 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2023-12-07 16:29:47,720 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-75C8756F8EE4:[s0|localhost:45595, s1|localhost:35271, s2|localhost:44615]
2023-12-07 16:29:47,720 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-12-07 16:29:47,720 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-12-07 16:29:47,720 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2023-12-07 16:29:47,720 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-12-07 16:29:47,720 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-12-07 16:29:47,720 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-12-07 16:29:47,720 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-75C8756F8EE4:[s0|localhost:45595, s1|localhost:35271, s2|localhost:44615], format? true
2023-12-07 16:29:47,720 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s0
2023-12-07 16:29:47,720 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s0 does not exist.
2023-12-07 16:29:47,720 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s0
2023-12-07 16:29:47,720 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-12-07 16:29:47,720 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:47,720 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 38551 (custom)
2023-12-07 16:29:47,720 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:47,720 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 40107 (custom)
2023-12-07 16:29:47,720 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-12-07 16:29:47,721 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 45595 (custom)
2023-12-07 16:29:47,721 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-12-07 16:29:47,721 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:47,721 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-12-07 16:29:47,721 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:47,721 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:47,721 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-12-07 16:29:47,721 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-12-07 16:29:47,721 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-12-07 16:29:47,722 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:47,722 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2023-12-07 16:29:47,722 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:47,722 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s0] (custom)
2023-12-07 16:29:47,722 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-12-07 16:29:47,722 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-12-07 16:29:47,722 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(100)) - s0: addNew group-75C8756F8EE4:[s0|localhost:45595, s1|localhost:35271, s2|localhost:44615] returns group-75C8756F8EE4:java.util.concurrent.CompletableFuture@3601ce4d[Not completed]
2023-12-07 16:29:47,722 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-75C8756F8EE4:[s0|localhost:45595, s1|localhost:35271, s2|localhost:44615], format? true
2023-12-07 16:29:47,722 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s1
2023-12-07 16:29:47,722 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s0: new RaftServerImpl for group-75C8756F8EE4:[s0|localhost:45595, s1|localhost:35271, s2|localhost:44615] with CounterStateMachine:uninitialized
2023-12-07 16:29:47,722 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s1 does not exist.
2023-12-07 16:29:47,722 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s1
2023-12-07 16:29:47,722 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-12-07 16:29:47,722 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-12-07 16:29:47,723 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-12-07 16:29:47,723 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-12-07 16:29:47,723 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-12-07 16:29:47,723 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:47,723 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2023-12-07 16:29:47,723 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:47,723 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:47,723 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 36473 (custom)
2023-12-07 16:29:47,723 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-75C8756F8EE4: ConfigurationManager, init=-1: peers:[s0|localhost:45595, s1|localhost:35271, s2|localhost:44615]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-12-07 16:29:47,723 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:47,723 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-12-07 16:29:47,723 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 33203 (custom)
2023-12-07 16:29:47,723 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-12-07 16:29:47,723 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-12-07 16:29:47,723 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-12-07 16:29:47,723 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 35271 (custom)
2023-12-07 16:29:47,723 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2023-12-07 16:29:47,723 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-12-07 16:29:47,723 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:47,723 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = LINEARIZABLE (custom)
2023-12-07 16:29:47,723 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-12-07 16:29:47,723 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2023-12-07 16:29:47,723 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:47,723 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:47,723 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-12-07 16:29:47,724 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-12-07 16:29:47,724 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:47,724 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:47,724 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-12-07 16:29:47,724 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-12-07 16:29:47,724 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-12-07 16:29:47,724 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-12-07 16:29:47,724 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-12-07 16:29:47,724 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:47,725 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2023-12-07 16:29:47,725 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:47,725 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s1] (custom)
2023-12-07 16:29:47,725 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-12-07 16:29:47,725 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-12-07 16:29:47,725 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(100)) - s1: addNew group-75C8756F8EE4:[s0|localhost:45595, s1|localhost:35271, s2|localhost:44615] returns group-75C8756F8EE4:java.util.concurrent.CompletableFuture@6ee5f935[Not completed]
2023-12-07 16:29:47,725 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s1: new RaftServerImpl for group-75C8756F8EE4:[s0|localhost:45595, s1|localhost:35271, s2|localhost:44615] with CounterStateMachine:uninitialized
2023-12-07 16:29:47,725 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-75C8756F8EE4:[s0|localhost:45595, s1|localhost:35271, s2|localhost:44615], format? true
2023-12-07 16:29:47,725 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-12-07 16:29:47,725 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s2
2023-12-07 16:29:47,725 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-12-07 16:29:47,725 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-12-07 16:29:47,725 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s2 does not exist.
2023-12-07 16:29:47,725 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s2
2023-12-07 16:29:47,725 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-12-07 16:29:47,725 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:47,725 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2023-12-07 16:29:47,725 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:47,726 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-12-07 16:29:47,726 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-75C8756F8EE4: ConfigurationManager, init=-1: peers:[s0|localhost:45595, s1|localhost:35271, s2|localhost:44615]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-12-07 16:29:47,726 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:47,726 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-12-07 16:29:47,726 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 34725 (custom)
2023-12-07 16:29:47,726 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-12-07 16:29:47,726 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:47,726 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-12-07 16:29:47,726 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 35699 (custom)
2023-12-07 16:29:47,726 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2023-12-07 16:29:47,726 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-12-07 16:29:47,726 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = LINEARIZABLE (custom)
2023-12-07 16:29:47,726 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 44615 (custom)
2023-12-07 16:29:47,726 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2023-12-07 16:29:47,726 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-12-07 16:29:47,726 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:47,726 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-12-07 16:29:47,726 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:47,726 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:47,726 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-12-07 16:29:47,726 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-12-07 16:29:47,727 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:47,727 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:47,727 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-12-07 16:29:47,727 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-12-07 16:29:47,727 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-12-07 16:29:47,727 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-12-07 16:29:47,727 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-12-07 16:29:47,727 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:47,727 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2023-12-07 16:29:47,727 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:47,727 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s2] (custom)
2023-12-07 16:29:47,727 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-12-07 16:29:47,728 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-12-07 16:29:47,728 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(100)) - s2: addNew group-75C8756F8EE4:[s0|localhost:45595, s1|localhost:35271, s2|localhost:44615] returns group-75C8756F8EE4:java.util.concurrent.CompletableFuture@340ce9ef[Not completed]
2023-12-07 16:29:47,728 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s2: new RaftServerImpl for group-75C8756F8EE4:[s0|localhost:45595, s1|localhost:35271, s2|localhost:44615] with CounterStateMachine:uninitialized
2023-12-07 16:29:47,728 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-12-07 16:29:47,728 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-12-07 16:29:47,728 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-12-07 16:29:47,728 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-12-07 16:29:47,728 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-12-07 16:29:47,728 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-12-07 16:29:47,728 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:47,728 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s0] (custom)
2023-12-07 16:29:47,728 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2023-12-07 16:29:47,728 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:47,728 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-75C8756F8EE4: ConfigurationManager, init=-1: peers:[s0|localhost:45595, s1|localhost:35271, s2|localhost:44615]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-12-07 16:29:47,728 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-12-07 16:29:47,728 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s0/45bf5bf0-547d-461b-b573-75c8756f8ee4 does not exist. Creating ...
2023-12-07 16:29:47,728 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-12-07 16:29:47,728 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-12-07 16:29:47,728 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2023-12-07 16:29:47,728 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = LINEARIZABLE (custom)
2023-12-07 16:29:47,728 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2023-12-07 16:29:47,728 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s0/45bf5bf0-547d-461b-b573-75c8756f8ee4
2023-12-07 16:29:47,729 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:47,729 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:47,729 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-12-07 16:29:47,729 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s0/45bf5bf0-547d-461b-b573-75c8756f8ee4/in_use.lock acquired by nodename 9497@fv-az527-45
2023-12-07 16:29:47,729 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-12-07 16:29:47,729 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s0/45bf5bf0-547d-461b-b573-75c8756f8ee4/current
2023-12-07 16:29:47,729 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-12-07 16:29:47,729 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-12-07 16:29:47,729 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s0/45bf5bf0-547d-461b-b573-75c8756f8ee4/sm
2023-12-07 16:29:47,729 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s0/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@26377326
2023-12-07 16:29:47,730 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s0/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s0/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:47,730 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s0/45bf5bf0-547d-461b-b573-75c8756f8ee4 has been successfully formatted.
2023-12-07 16:29:47,730 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s0/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s0/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/raft-meta.conf
	at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:92)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:116)
	at java.base/sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:219)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:371)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:422)
	at java.base/java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:420)
	at java.base/java.nio.file.Files.newInputStream(Files.java:156)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:388)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:182)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:47,730 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-12-07 16:29:47,730 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-12-07 16:29:47,730 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:47,730 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-12-07 16:29:47,730 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-12-07 16:29:47,731 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:47,731 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-12-07 16:29:47,731 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-12-07 16:29:47,731 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:47,731 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-75C8756F8EE4-cacheEviction-AwaitToRun,5,main] started
2023-12-07 16:29:47,731 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s0@group-75C8756F8EE4-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s0/45bf5bf0-547d-461b-b573-75c8756f8ee4
2023-12-07 16:29:47,731 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-12-07 16:29:47,731 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-12-07 16:29:47,731 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:47,731 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-12-07 16:29:47,731 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-12-07 16:29:47,731 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-12-07 16:29:47,731 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-12-07 16:29:47,731 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-12-07 16:29:47,731 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2023-12-07 16:29:47,732 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:47,732 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-12-07 16:29:47,732 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-12-07 16:29:47,732 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-12-07 16:29:47,733 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-75C8756F8EE4-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:47,733 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-75C8756F8EE4-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:47,733 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s0@group-75C8756F8EE4: start as a follower, conf=-1: peers:[s0|localhost:45595, s1|localhost:35271, s2|localhost:44615]|listeners:[], old=null
2023-12-07 16:29:47,733 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-75C8756F8EE4: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-12-07 16:29:47,733 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-75C8756F8EE4-FollowerState
2023-12-07 16:29:47,733 [s0@group-75C8756F8EE4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:47,733 [s0@group-75C8756F8EE4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:47,733 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-75C8756F8EE4,id=s0
2023-12-07 16:29:47,733 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2023-12-07 16:29:47,733 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-12-07 16:29:47,733 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-12-07 16:29:47,733 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-12-07 16:29:47,733 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(406)) - s0: start RPC server
2023-12-07 16:29:47,734 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 40107
2023-12-07 16:29:47,734 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 45595
2023-12-07 16:29:47,734 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 38551
2023-12-07 16:29:47,735 [JvmPauseMonitor21] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2023-12-07 16:29:47,735 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-12-07 16:29:47,735 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-12-07 16:29:47,735 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s1] (custom)
2023-12-07 16:29:47,735 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s1/45bf5bf0-547d-461b-b573-75c8756f8ee4 does not exist. Creating ...
2023-12-07 16:29:47,735 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s1/45bf5bf0-547d-461b-b573-75c8756f8ee4
2023-12-07 16:29:47,736 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s1/45bf5bf0-547d-461b-b573-75c8756f8ee4/in_use.lock acquired by nodename 9497@fv-az527-45
2023-12-07 16:29:47,736 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s1/45bf5bf0-547d-461b-b573-75c8756f8ee4/current
2023-12-07 16:29:47,736 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s1/45bf5bf0-547d-461b-b573-75c8756f8ee4/sm
2023-12-07 16:29:47,736 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s1/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5115b021
2023-12-07 16:29:47,737 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s1/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s1/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:47,737 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s1/45bf5bf0-547d-461b-b573-75c8756f8ee4 has been successfully formatted.
2023-12-07 16:29:47,737 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s1/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s1/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/raft-meta.conf
	at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:92)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:116)
	at java.base/sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:219)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:371)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:422)
	at java.base/java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:420)
	at java.base/java.nio.file.Files.newInputStream(Files.java:156)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:388)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:182)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:47,737 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-12-07 16:29:47,737 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-12-07 16:29:47,737 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:47,737 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-12-07 16:29:47,737 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-12-07 16:29:47,737 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:47,737 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-12-07 16:29:47,737 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-12-07 16:29:47,737 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:47,737 [s1-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s1@group-75C8756F8EE4-cacheEviction-AwaitToRun,5,main] started
2023-12-07 16:29:47,737 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s1@group-75C8756F8EE4-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s1/45bf5bf0-547d-461b-b573-75c8756f8ee4
2023-12-07 16:29:47,737 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-12-07 16:29:47,737 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-12-07 16:29:47,737 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:47,737 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-12-07 16:29:47,737 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-12-07 16:29:47,737 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-12-07 16:29:47,738 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-12-07 16:29:47,738 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-12-07 16:29:47,738 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2023-12-07 16:29:47,739 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:47,739 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-12-07 16:29:47,739 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-12-07 16:29:47,739 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-12-07 16:29:47,739 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-75C8756F8EE4-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:47,739 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-75C8756F8EE4-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:47,739 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s1@group-75C8756F8EE4: start as a follower, conf=-1: peers:[s0|localhost:45595, s1|localhost:35271, s2|localhost:44615]|listeners:[], old=null
2023-12-07 16:29:47,739 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-75C8756F8EE4: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-12-07 16:29:47,739 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-75C8756F8EE4-FollowerState
2023-12-07 16:29:47,740 [s1@group-75C8756F8EE4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:47,740 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-75C8756F8EE4,id=s1
2023-12-07 16:29:47,740 [s1@group-75C8756F8EE4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:47,740 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2023-12-07 16:29:47,740 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-12-07 16:29:47,740 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-12-07 16:29:47,740 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-12-07 16:29:47,740 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(406)) - s1: start RPC server
2023-12-07 16:29:47,740 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 33203
2023-12-07 16:29:47,740 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 35271
2023-12-07 16:29:47,740 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 36473
2023-12-07 16:29:47,741 [JvmPauseMonitor22] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s1: Started
2023-12-07 16:29:47,741 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-12-07 16:29:47,741 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-12-07 16:29:47,741 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s2] (custom)
2023-12-07 16:29:47,741 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s2/45bf5bf0-547d-461b-b573-75c8756f8ee4 does not exist. Creating ...
2023-12-07 16:29:47,741 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s2/45bf5bf0-547d-461b-b573-75c8756f8ee4
2023-12-07 16:29:47,742 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s2/45bf5bf0-547d-461b-b573-75c8756f8ee4/in_use.lock acquired by nodename 9497@fv-az527-45
2023-12-07 16:29:47,742 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s2/45bf5bf0-547d-461b-b573-75c8756f8ee4/current
2023-12-07 16:29:47,742 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s2/45bf5bf0-547d-461b-b573-75c8756f8ee4/sm
2023-12-07 16:29:47,742 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s2/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@509efbbd
2023-12-07 16:29:47,742 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s2/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s2/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:47,742 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s2/45bf5bf0-547d-461b-b573-75c8756f8ee4 has been successfully formatted.
2023-12-07 16:29:47,742 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s2/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s2/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/raft-meta.conf
	at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:92)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:116)
	at java.base/sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:219)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:371)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:422)
	at java.base/java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:420)
	at java.base/java.nio.file.Files.newInputStream(Files.java:156)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:388)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:182)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:47,743 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-12-07 16:29:47,743 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-12-07 16:29:47,743 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:47,743 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-12-07 16:29:47,743 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-12-07 16:29:47,743 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:47,743 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-12-07 16:29:47,743 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-12-07 16:29:47,743 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:47,743 [s2-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s2@group-75C8756F8EE4-cacheEviction-AwaitToRun,5,main] started
2023-12-07 16:29:47,743 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s2@group-75C8756F8EE4-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s2/45bf5bf0-547d-461b-b573-75c8756f8ee4
2023-12-07 16:29:47,743 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-12-07 16:29:47,743 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-12-07 16:29:47,743 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:47,743 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-12-07 16:29:47,743 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-12-07 16:29:47,743 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-12-07 16:29:47,743 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-12-07 16:29:47,743 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-12-07 16:29:47,743 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2023-12-07 16:29:47,745 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:47,745 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-12-07 16:29:47,745 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-12-07 16:29:47,745 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-12-07 16:29:47,745 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-75C8756F8EE4-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:47,745 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-75C8756F8EE4-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:47,745 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s2@group-75C8756F8EE4: start as a follower, conf=-1: peers:[s0|localhost:45595, s1|localhost:35271, s2|localhost:44615]|listeners:[], old=null
2023-12-07 16:29:47,745 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-75C8756F8EE4: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-12-07 16:29:47,745 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-75C8756F8EE4-FollowerState
2023-12-07 16:29:47,745 [s2@group-75C8756F8EE4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:47,745 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-75C8756F8EE4,id=s2
2023-12-07 16:29:47,745 [s2@group-75C8756F8EE4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:47,745 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2023-12-07 16:29:47,745 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-12-07 16:29:47,745 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-12-07 16:29:47,745 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-12-07 16:29:47,746 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(406)) - s2: start RPC server
2023-12-07 16:29:47,746 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 35699
2023-12-07 16:29:47,747 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 44615
2023-12-07 16:29:47,747 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 34725
2023-12-07 16:29:47,747 [JvmPauseMonitor23] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s2: Started
2023-12-07 16:29:47,748 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-12-07 16:29:47,748 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-75C8756F8EE4:t0, leader=null, voted=, raftlog=Memoized:s0@group-75C8756F8EE4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:45595, s1|localhost:35271, s2|localhost:44615]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-75C8756F8EE4:t0, leader=null, voted=, raftlog=Memoized:s1@group-75C8756F8EE4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:45595, s1|localhost:35271, s2|localhost:44615]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-75C8756F8EE4:t0, leader=null, voted=, raftlog=Memoized:s2@group-75C8756F8EE4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:45595, s1|localhost:35271, s2|localhost:44615]|listeners:[], old=null RUNNING
2023-12-07 16:29:47,748 [Time-limited test] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(119)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-75C8756F8EE4:t0, leader=null, voted=, raftlog=Memoized:s0@group-75C8756F8EE4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:45595, s1|localhost:35271, s2|localhost:44615]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-75C8756F8EE4:t0, leader=null, voted=, raftlog=Memoized:s1@group-75C8756F8EE4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:45595, s1|localhost:35271, s2|localhost:44615]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-75C8756F8EE4:t0, leader=null, voted=, raftlog=Memoized:s2@group-75C8756F8EE4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:45595, s1|localhost:35271, s2|localhost:44615]|listeners:[], old=null RUNNING
2023-12-07 16:29:47,789 [grpc-default-executor-5] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s2@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:35469
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:47,892 [grpc-default-executor-3] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s1@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:41005
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:47,994 [grpc-default-executor-5] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s2@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:35469
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:48,007 [s1@group-75C8756F8EE4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-75C8756F8EE4-FollowerState: change to CANDIDATE, lastRpcElapsedTime:267561970ns, electionTimeout:267ms
2023-12-07 16:29:48,007 [s1@group-75C8756F8EE4-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-75C8756F8EE4-FollowerState
2023-12-07 16:29:48,007 [s1@group-75C8756F8EE4-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-75C8756F8EE4: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-12-07 16:29:48,007 [s1@group-75C8756F8EE4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-12-07 16:29:48,007 [s1@group-75C8756F8EE4-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-75C8756F8EE4-LeaderElection11
2023-12-07 16:29:48,008 [s1@group-75C8756F8EE4-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-75C8756F8EE4-LeaderElection11 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|localhost:45595, s1|localhost:35271, s2|localhost:44615]|listeners:[], old=null
2023-12-07 16:29:48,008 [s1@group-75C8756F8EE4-LeaderElection11-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s0
2023-12-07 16:29:48,008 [s1@group-75C8756F8EE4-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:48,008 [s1@group-75C8756F8EE4-LeaderElection11-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s2
2023-12-07 16:29:48,008 [s1@group-75C8756F8EE4-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:48,012 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s0@group-75C8756F8EE4: receive requestVote(PRE_VOTE, s1, group-75C8756F8EE4, 0, (t:0, i:0))
2023-12-07 16:29:48,012 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s2@group-75C8756F8EE4: receive requestVote(PRE_VOTE, s1, group-75C8756F8EE4, 0, (t:0, i:0))
2023-12-07 16:29:48,012 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-75C8756F8EE4-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-12-07 16:29:48,012 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-75C8756F8EE4-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-12-07 16:29:48,012 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s2@group-75C8756F8EE4 replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-75C8756F8EE4:t0, leader=null, voted=, raftlog=Memoized:s2@group-75C8756F8EE4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:45595, s1|localhost:35271, s2|localhost:44615]|listeners:[], old=null
2023-12-07 16:29:48,012 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s0@group-75C8756F8EE4 replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-75C8756F8EE4:t0, leader=null, voted=, raftlog=Memoized:s0@group-75C8756F8EE4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:45595, s1|localhost:35271, s2|localhost:44615]|listeners:[], old=null
2023-12-07 16:29:48,012 [s1@group-75C8756F8EE4-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-75C8756F8EE4-LeaderElection11: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-12-07 16:29:48,012 [s1@group-75C8756F8EE4-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t0
2023-12-07 16:29:48,012 [s1@group-75C8756F8EE4-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-75C8756F8EE4-LeaderElection11 PRE_VOTE round 0: result PASSED
2023-12-07 16:29:48,013 [s1@group-75C8756F8EE4-LeaderElection11] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s1/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@601f4ebd
2023-12-07 16:29:48,014 [s1@group-75C8756F8EE4-LeaderElection11] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s1/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s1/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:48,014 [s1@group-75C8756F8EE4-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-75C8756F8EE4-LeaderElection11 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|localhost:45595, s1|localhost:35271, s2|localhost:44615]|listeners:[], old=null
2023-12-07 16:29:48,014 [s1@group-75C8756F8EE4-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:48,014 [s1@group-75C8756F8EE4-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:48,014 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s2@group-75C8756F8EE4: receive requestVote(ELECTION, s1, group-75C8756F8EE4, 1, (t:0, i:0))
2023-12-07 16:29:48,015 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-75C8756F8EE4-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2023-12-07 16:29:48,015 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-75C8756F8EE4: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2023-12-07 16:29:48,015 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s0@group-75C8756F8EE4: receive requestVote(ELECTION, s1, group-75C8756F8EE4, 1, (t:0, i:0))
2023-12-07 16:29:48,015 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-75C8756F8EE4-FollowerState
2023-12-07 16:29:48,015 [s2@group-75C8756F8EE4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-75C8756F8EE4-FollowerState was interrupted
2023-12-07 16:29:48,015 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-75C8756F8EE4-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2023-12-07 16:29:48,015 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-75C8756F8EE4-FollowerState
2023-12-07 16:29:48,015 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-75C8756F8EE4: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2023-12-07 16:29:48,015 [grpc-default-executor-7] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-75C8756F8EE4-FollowerState
2023-12-07 16:29:48,015 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(564)) - s2@group-75C8756F8EE4: set firstElectionSinceStartup to false for candidate:s1
2023-12-07 16:29:48,016 [grpc-default-executor-7] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-75C8756F8EE4-FollowerState
2023-12-07 16:29:48,016 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(564)) - s0@group-75C8756F8EE4: set firstElectionSinceStartup to false for candidate:s1
2023-12-07 16:29:48,016 [grpc-default-executor-7] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s0/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@77718c4e
2023-12-07 16:29:48,016 [grpc-default-executor-5] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s2/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@475ba335
2023-12-07 16:29:48,016 [s0@group-75C8756F8EE4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-75C8756F8EE4-FollowerState was interrupted
2023-12-07 16:29:48,017 [grpc-default-executor-7] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s0/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s0/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:48,017 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s0@group-75C8756F8EE4 replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-75C8756F8EE4:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-75C8756F8EE4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:45595, s1|localhost:35271, s2|localhost:44615]|listeners:[], old=null
2023-12-07 16:29:48,017 [grpc-default-executor-5] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s2/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s2/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:48,017 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s2@group-75C8756F8EE4 replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-75C8756F8EE4:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-75C8756F8EE4-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:45595, s1|localhost:35271, s2|localhost:44615]|listeners:[], old=null
2023-12-07 16:29:48,018 [s1@group-75C8756F8EE4-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-75C8756F8EE4-LeaderElection11: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-12-07 16:29:48,018 [s1@group-75C8756F8EE4-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t1
2023-12-07 16:29:48,018 [s1@group-75C8756F8EE4-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-75C8756F8EE4-LeaderElection11 ELECTION round 0: result PASSED
2023-12-07 16:29:48,018 [s1@group-75C8756F8EE4-LeaderElection11] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-75C8756F8EE4-LeaderElection11
2023-12-07 16:29:48,018 [s1@group-75C8756F8EE4-LeaderElection11] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-75C8756F8EE4: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-12-07 16:29:48,018 [s1@group-75C8756F8EE4-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-12-07 16:29:48,018 [s1@group-75C8756F8EE4-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-12-07 16:29:48,018 [s1@group-75C8756F8EE4-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2023-12-07 16:29:48,018 [s1@group-75C8756F8EE4-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-12-07 16:29:48,018 [s1@group-75C8756F8EE4-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-12-07 16:29:48,018 [s1@group-75C8756F8EE4-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-12-07 16:29:48,019 [s1@group-75C8756F8EE4-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = true (custom)
2023-12-07 16:29:48,019 [s1@group-75C8756F8EE4-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2023-12-07 16:29:48,019 [s1@group-75C8756F8EE4-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-12-07 16:29:48,019 [s1@group-75C8756F8EE4-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-12-07 16:29:48,019 [s1@group-75C8756F8EE4-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-12-07 16:29:48,019 [s1@group-75C8756F8EE4-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-12-07 16:29:48,019 [s1@group-75C8756F8EE4-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:48,019 [s1@group-75C8756F8EE4-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-12-07 16:29:48,019 [s1@group-75C8756F8EE4-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2023-12-07 16:29:48,019 [s1@group-75C8756F8EE4-LeaderElection11] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2023-12-07 16:29:48,019 [s1@group-75C8756F8EE4-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:48,019 [s1@group-75C8756F8EE4-LeaderElection11] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2023-12-07 16:29:48,019 [s1@group-75C8756F8EE4-LeaderElection11] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2023-12-07 16:29:48,019 [s1@group-75C8756F8EE4-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:48,019 [s1@group-75C8756F8EE4-LeaderElection11] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:48,019 [s1@group-75C8756F8EE4-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-12-07 16:29:48,019 [s1@group-75C8756F8EE4-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:48,019 [s1@group-75C8756F8EE4-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-12-07 16:29:48,019 [s1@group-75C8756F8EE4-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2023-12-07 16:29:48,019 [s1@group-75C8756F8EE4-LeaderElection11] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2023-12-07 16:29:48,019 [s1@group-75C8756F8EE4-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:48,019 [s1@group-75C8756F8EE4-LeaderElection11] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2023-12-07 16:29:48,019 [s1@group-75C8756F8EE4-LeaderElection11] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2023-12-07 16:29:48,019 [s1@group-75C8756F8EE4-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:48,019 [s1@group-75C8756F8EE4-LeaderElection11] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:48,020 [s1@group-75C8756F8EE4-LeaderElection11] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-75C8756F8EE4-LeaderStateImpl
2023-12-07 16:29:48,020 [s1@group-75C8756F8EE4-LeaderElection11] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(564)) - s1@group-75C8756F8EE4: set firstElectionSinceStartup to false for becomeLeader
2023-12-07 16:29:48,020 [s1@group-75C8756F8EE4-LeaderElection11] INFO  server.RaftServer$Division (ServerState.java:setLeader(265)) - s1@group-75C8756F8EE4: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 293ms
2023-12-07 16:29:48,020 [s1@group-75C8756F8EE4-LeaderElection11] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s1@group-75C8756F8EE4-SegmentedRaftLogWorker: Starting segment from index:0
2023-12-07 16:29:48,020 [s1@group-75C8756F8EE4-LeaderElection11] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(382)) - s1@group-75C8756F8EE4: set configuration 0: peers:[s0|localhost:45595, s1|localhost:35271, s2|localhost:44615]|listeners:[], old=null
2023-12-07 16:29:48,020 [s1@group-75C8756F8EE4-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2023-12-07 16:29:48,026 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(265)) - s2@group-75C8756F8EE4: change Leader from null to s1 at term 1 for appendEntries, leader elected after 297ms
2023-12-07 16:29:48,026 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(265)) - s0@group-75C8756F8EE4: change Leader from null to s1 at term 1 for appendEntries, leader elected after 303ms
2023-12-07 16:29:48,027 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-75C8756F8EE4: receive appendEntries(s1, 1, null, -1, true, commits:[s1:c-1, s0:c-1, s2:c-1], cId:1, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:45595"
dataStreamAddress: "localhost:35447"
clientAddress: "localhost:40107"
adminAddress: "localhost:38551"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35271"
dataStreamAddress: "localhost:40283"
clientAddress: "localhost:33203"
adminAddress: "localhost:36473"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:44615"
dataStreamAddress: "localhost:38113"
clientAddress: "localhost:35699"
adminAddress: "localhost:34725"
startupRole: FOLLOWER
, old:)]
2023-12-07 16:29:48,029 [s1@group-75C8756F8EE4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s1@group-75C8756F8EE4-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s1/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/log_inprogress_0
2023-12-07 16:29:48,031 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(382)) - s2@group-75C8756F8EE4: set configuration 0: peers:[s0|localhost:45595, s1|localhost:35271, s2|localhost:44615]|listeners:[], old=null
2023-12-07 16:29:48,031 [s2-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s2@group-75C8756F8EE4-SegmentedRaftLogWorker: Starting segment from index:0
2023-12-07 16:29:48,031 [s0-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-75C8756F8EE4: receive appendEntries(s1, 1, null, -1, true, commits:[s1:c-1, s0:c-1, s2:c-1], cId:1, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:45595"
dataStreamAddress: "localhost:35447"
clientAddress: "localhost:40107"
adminAddress: "localhost:38551"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35271"
dataStreamAddress: "localhost:40283"
clientAddress: "localhost:33203"
adminAddress: "localhost:36473"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:44615"
dataStreamAddress: "localhost:38113"
clientAddress: "localhost:35699"
adminAddress: "localhost:34725"
startupRole: FOLLOWER
, old:)]
2023-12-07 16:29:48,033 [s0-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(382)) - s0@group-75C8756F8EE4: set configuration 0: peers:[s0|localhost:45595, s1|localhost:35271, s2|localhost:44615]|listeners:[], old=null
2023-12-07 16:29:48,033 [s2@group-75C8756F8EE4-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2023-12-07 16:29:48,033 [s0-server-thread3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s0@group-75C8756F8EE4-SegmentedRaftLogWorker: Starting segment from index:0
2023-12-07 16:29:48,034 [s0@group-75C8756F8EE4-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2023-12-07 16:29:48,044 [s0@group-75C8756F8EE4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s0@group-75C8756F8EE4-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s0/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/log_inprogress_0
2023-12-07 16:29:48,044 [s2@group-75C8756F8EE4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s2@group-75C8756F8EE4-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s2/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/log_inprogress_0
2023-12-07 16:29:48,044 [s0-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-75C8756F8EE4: succeeded to handle AppendEntries. Reply: s1<-s0#1:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-12-07 16:29:48,045 [s1@group-75C8756F8EE4-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s1/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5a1a9a89
2023-12-07 16:29:48,045 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-75C8756F8EE4: succeeded to handle AppendEntries. Reply: s1<-s2#1:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-12-07 16:29:48,046 [s1@group-75C8756F8EE4-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s1/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s1/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/raft-meta.conf with options [REPLACE_EXISTING]
2023-12-07 16:29:48,046 [s1@group-75C8756F8EE4-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:isApplied(320)) - leader is ready since appliedIndex == 0 >= startIndex == 0
2023-12-07 16:29:48,097 [grpc-default-executor-7] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s0@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:42899
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:48,122 [s2@group-75C8756F8EE4-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s2/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6e367573
2023-12-07 16:29:48,122 [s0@group-75C8756F8EE4-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s0/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@287e2f2e
2023-12-07 16:29:48,123 [s2@group-75C8756F8EE4-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s2/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s2/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/raft-meta.conf with options [REPLACE_EXISTING]
2023-12-07 16:29:48,123 [s0@group-75C8756F8EE4-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s0/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s0/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/raft-meta.conf with options [REPLACE_EXISTING]
2023-12-07 16:29:48,199 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-75C8756F8EE4:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-75C8756F8EE4-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:45595, s1|localhost:35271, s2|localhost:44615]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-75C8756F8EE4:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-75C8756F8EE4-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:45595, s1|localhost:35271, s2|localhost:44615]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-75C8756F8EE4:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-75C8756F8EE4-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:45595, s1|localhost:35271, s2|localhost:44615]|listeners:[], old=null RUNNING
2023-12-07 16:29:48,200 [grpc-default-executor-2] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s2@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:35469
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:48,203 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s1@group-75C8756F8EE4: receive client request(RaftClientRequest:client-FA2AF8713A62->s1@group-75C8756F8EE4, cid=99, seq=null, RW, Message:494e4352454d454e54)
2023-12-07 16:29:48,203 [s1-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s1@group-75C8756F8EE4-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-FA2AF8713A62->s1@group-75C8756F8EE4, cid=99, seq=null, RW, Message:494e4352454d454e54, entry=(t:1, i:1), STATEMACHINELOGENTRY, 99@client-FA2AF8713A62
2023-12-07 16:29:48,204 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-75C8756F8EE4: receive appendEntries(s1, 1, (t:1, i:0), 0, true, commits:[s1:c0, s0:c0, s2:c0], cId:6, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 99@client-FA2AF8713A62]
2023-12-07 16:29:48,204 [s0-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-75C8756F8EE4: receive appendEntries(s1, 1, (t:1, i:0), 0, true, commits:[s1:c0, s0:c0, s2:c0], cId:6, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 99@client-FA2AF8713A62]
2023-12-07 16:29:48,204 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-75C8756F8EE4: succeeded to handle AppendEntries. Reply: s1<-s2#6:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2023-12-07 16:29:48,204 [s0-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-75C8756F8EE4: succeeded to handle AppendEntries. Reply: s1<-s0#6:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2023-12-07 16:29:48,205 [s1@group-75C8756F8EE4-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:48,205 [s0-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-75C8756F8EE4: receive appendEntries(s1, 1, (t:1, i:1), 1, true, commits:[s1:c1, s0:c0, s2:c0], cId:7, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2023-12-07 16:29:48,205 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-75C8756F8EE4: receive appendEntries(s1, 1, (t:1, i:1), 1, true, commits:[s1:c1, s0:c0, s2:c0], cId:7, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2023-12-07 16:29:48,206 [s0-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-75C8756F8EE4: succeeded to handle AppendEntries. Reply: s1<-s0#7:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2023-12-07 16:29:48,206 [s0@group-75C8756F8EE4-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:48,206 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-75C8756F8EE4: succeeded to handle AppendEntries. Reply: s1<-s2#7:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2023-12-07 16:29:48,206 [s2@group-75C8756F8EE4-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:48,208 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s1@group-75C8756F8EE4: receive client request(RaftClientRequest:client-FA2AF8713A62->s1@group-75C8756F8EE4, cid=100, seq=null, RO, Message:5155455259)
2023-12-07 16:29:48,208 [s1-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=2, readAfterWriteConsistentIndex=null
2023-12-07 16:29:48,210 [s1-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:stepDownLeaderAsync(1247)) - s1@group-75C8756F8EE4 receive stepDown leader request TransferLeadershipRequest:client-FA2AF8713A62->s1@group-75C8756F8EE4, cid=101, seq=null, RO, null
2023-12-07 16:29:48,210 [s1@group-75C8756F8EE4-LeaderStateImpl] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-75C8756F8EE4: changes role from    LEADER to FOLLOWER at term 1 for StepDownReason:FORCE
2023-12-07 16:29:48,210 [s1@group-75C8756F8EE4-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(94)) - s1: shutdown s1@group-75C8756F8EE4-LeaderStateImpl
2023-12-07 16:29:48,210 [s1@group-75C8756F8EE4->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(279)) - s1@group-75C8756F8EE4->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2023-12-07 16:29:48,210 [s1@group-75C8756F8EE4-LeaderStateImpl] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(289)) - s1@group-75C8756F8EE4-PendingRequests: sendNotLeaderResponses
2023-12-07 16:29:48,210 [s1@group-75C8756F8EE4->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(279)) - s1@group-75C8756F8EE4->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2023-12-07 16:29:48,211 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(157)) - s2: Completed APPEND_ENTRIES, lastRequest: null
2023-12-07 16:29:48,211 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(157)) - s2: Completed APPEND_ENTRIES, lastRequest: s1->s2#7-t1,previous=(t:1, i:1),leaderCommit=1,initializing? true,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2023-12-07 16:29:48,211 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$5(159)) - s2: Completed APPEND_ENTRIES, lastReply: null
2023-12-07 16:29:48,211 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(157)) - s0: Completed APPEND_ENTRIES, lastRequest: null
2023-12-07 16:29:48,211 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(157)) - s0: Completed APPEND_ENTRIES, lastRequest: s1->s0#7-t1,previous=(t:1, i:1),leaderCommit=1,initializing? true,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2023-12-07 16:29:48,211 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$5(159)) - s0: Completed APPEND_ENTRIES, lastReply: null
2023-12-07 16:29:48,212 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(534)) - s1@group-75C8756F8EE4->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-12-07 16:29:48,212 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$5(159)) - s2: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s1"
  replyId: "s2"
  raftGroupId {
    id: "E\277[\360T}F\033\265su\310uo\216\344"
  }
  callId: 5
  success: true
}
term: 1
nextIndex: 1
matchIndex: 18446744073709551615
isHearbeat: true

2023-12-07 16:29:48,212 [grpc-default-executor-3] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(534)) - s1@group-75C8756F8EE4->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-12-07 16:29:48,212 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$5(159)) - s0: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s1"
  replyId: "s0"
  raftGroupId {
    id: "E\277[\360T}F\033\265su\310uo\216\344"
  }
  callId: 5
  success: true
}
term: 1
nextIndex: 1
matchIndex: 18446744073709551615
isHearbeat: true

2023-12-07 16:29:48,212 [grpc-default-executor-3] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(534)) - s1@group-75C8756F8EE4->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-12-07 16:29:48,211 [s1@group-75C8756F8EE4-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setLeader(265)) - s1@group-75C8756F8EE4: change Leader from s1 to null at term 1 for StepDownReason:FORCE
2023-12-07 16:29:48,212 [s1@group-75C8756F8EE4-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-75C8756F8EE4-FollowerState
2023-12-07 16:29:48,213 [s1@group-75C8756F8EE4-LeaderStateImpl] INFO  impl.PendingStepDown (PendingStepDown.java:complete(55)) - Successfully step down leader at s1@group-75C8756F8EE4-LeaderStateImpl for request TransferLeadershipRequest:client-FA2AF8713A62->s1@group-75C8756F8EE4, cid=101, seq=null, RO, null
2023-12-07 16:29:48,213 [grpc-default-executor-3] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(534)) - s1@group-75C8756F8EE4->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-12-07 16:29:48,214 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s1@group-75C8756F8EE4: receive client request(RaftClientRequest:client-FA2AF8713A62->s1@group-75C8756F8EE4, cid=102, seq=null, RO, Message:5155455259)
2023-12-07 16:29:48,215 [null-request--thread1] INFO  server.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(284)) - Failed RaftClientRequest:client-FA2AF8713A62->s1@group-75C8756F8EE4, cid=102, seq=null, RO, Message:5155455259, reply=RaftClientReply:client-FA2AF8713A62->s1@group-75C8756F8EE4, cid=102, FAILED org.apache.ratis.protocol.exceptions.ReadIndexException: s1@group-75C8756F8EE4: Leader is unknown., logIndex=0, commits[s1:c2, s0:c1, s2:c1]
2023-12-07 16:29:48,304 [grpc-default-executor-3] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s0@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:42899
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:48,406 [grpc-default-executor-2] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s2@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:35469
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:48,450 [s2@group-75C8756F8EE4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-75C8756F8EE4-FollowerState: change to CANDIDATE, lastRpcElapsedTime:244205661ns, electionTimeout:170ms
2023-12-07 16:29:48,450 [s2@group-75C8756F8EE4-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-75C8756F8EE4-FollowerState
2023-12-07 16:29:48,450 [s2@group-75C8756F8EE4-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-75C8756F8EE4: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-12-07 16:29:48,450 [s2@group-75C8756F8EE4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-12-07 16:29:48,450 [s2@group-75C8756F8EE4-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-75C8756F8EE4-LeaderElection12
2023-12-07 16:29:48,450 [s2@group-75C8756F8EE4-LeaderElection12] INFO  server.RaftServer$Division (ServerState.java:setLeader(265)) - s2@group-75C8756F8EE4: change Leader from s1 to null at term 1 for PRE_VOTE
2023-12-07 16:29:48,450 [s1@group-75C8756F8EE4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-75C8756F8EE4-FollowerState: change to CANDIDATE, lastRpcElapsedTime:238043245ns, electionTimeout:237ms
2023-12-07 16:29:48,451 [s2@group-75C8756F8EE4-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s2@group-75C8756F8EE4-LeaderElection12 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|localhost:45595, s1|localhost:35271, s2|localhost:44615]|listeners:[], old=null
2023-12-07 16:29:48,451 [s1@group-75C8756F8EE4-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-75C8756F8EE4-FollowerState
2023-12-07 16:29:48,451 [s1@group-75C8756F8EE4-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-75C8756F8EE4: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-12-07 16:29:48,451 [s1@group-75C8756F8EE4-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-12-07 16:29:48,451 [s1@group-75C8756F8EE4-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-75C8756F8EE4-LeaderElection13
2023-12-07 16:29:48,451 [s2@group-75C8756F8EE4-LeaderElection12-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s0
2023-12-07 16:29:48,451 [s1@group-75C8756F8EE4-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-75C8756F8EE4-LeaderElection13 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|localhost:45595, s1|localhost:35271, s2|localhost:44615]|listeners:[], old=null
2023-12-07 16:29:48,451 [s2@group-75C8756F8EE4-LeaderElection12-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s1
2023-12-07 16:29:48,454 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s2@group-75C8756F8EE4: receive requestVote(PRE_VOTE, s1, group-75C8756F8EE4, 1, (t:1, i:2))
2023-12-07 16:29:48,454 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-75C8756F8EE4-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-12-07 16:29:48,454 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s2@group-75C8756F8EE4 replies to PRE_VOTE vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-75C8756F8EE4:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-75C8756F8EE4-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|localhost:45595, s1|localhost:35271, s2|localhost:44615]|listeners:[], old=null
2023-12-07 16:29:48,454 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s0@group-75C8756F8EE4: receive requestVote(PRE_VOTE, s1, group-75C8756F8EE4, 1, (t:1, i:2))
2023-12-07 16:29:48,455 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-75C8756F8EE4-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-12-07 16:29:48,455 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s0@group-75C8756F8EE4 replies to PRE_VOTE vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-75C8756F8EE4:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-75C8756F8EE4-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|localhost:45595, s1|localhost:35271, s2|localhost:44615]|listeners:[], old=null
2023-12-07 16:29:48,455 [s1@group-75C8756F8EE4-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-75C8756F8EE4-LeaderElection13: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-12-07 16:29:48,455 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s0@group-75C8756F8EE4: receive requestVote(PRE_VOTE, s2, group-75C8756F8EE4, 1, (t:1, i:2))
2023-12-07 16:29:48,455 [s1@group-75C8756F8EE4-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t1
2023-12-07 16:29:48,455 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-75C8756F8EE4-FOLLOWER: reject PRE_VOTE from s2: this server is a follower and still has a valid leader s1
2023-12-07 16:29:48,455 [s1@group-75C8756F8EE4-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-75C8756F8EE4-LeaderElection13 PRE_VOTE round 0: result PASSED
2023-12-07 16:29:48,455 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s0@group-75C8756F8EE4 replies to PRE_VOTE vote request: s2<-s0#0:FAIL-t1. Peer's state: s0@group-75C8756F8EE4:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-75C8756F8EE4-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|localhost:45595, s1|localhost:35271, s2|localhost:44615]|listeners:[], old=null
2023-12-07 16:29:48,456 [s1@group-75C8756F8EE4-LeaderElection13] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s1/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4fd7e811
2023-12-07 16:29:48,456 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s1@group-75C8756F8EE4: receive requestVote(PRE_VOTE, s2, group-75C8756F8EE4, 1, (t:1, i:2))
2023-12-07 16:29:48,457 [s1@group-75C8756F8EE4-LeaderElection13] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s1/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s1/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:48,457 [s1@group-75C8756F8EE4-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-75C8756F8EE4-LeaderElection13 ELECTION round 0: submit vote requests at term 2 for 0: peers:[s0|localhost:45595, s1|localhost:35271, s2|localhost:44615]|listeners:[], old=null
2023-12-07 16:29:48,457 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-75C8756F8EE4-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-12-07 16:29:48,457 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s1@group-75C8756F8EE4 replies to PRE_VOTE vote request: s2<-s1#0:OK-t2. Peer's state: s1@group-75C8756F8EE4:t2, leader=null, voted=s1, raftlog=Memoized:s1@group-75C8756F8EE4-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|localhost:45595, s1|localhost:35271, s2|localhost:44615]|listeners:[], old=null
2023-12-07 16:29:48,457 [s2@group-75C8756F8EE4-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-75C8756F8EE4-LeaderElection12: PRE_VOTE DISCOVERED_A_NEW_TERM (term=2) received 2 response(s) and 0 exception(s):
2023-12-07 16:29:48,457 [s2@group-75C8756F8EE4-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:FAIL-t1
2023-12-07 16:29:48,457 [s2@group-75C8756F8EE4-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s2<-s1#0:OK-t2
2023-12-07 16:29:48,457 [s2@group-75C8756F8EE4-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s2@group-75C8756F8EE4-LeaderElection12 PRE_VOTE round 0: result DISCOVERED_A_NEW_TERM (term=2)
2023-12-07 16:29:48,457 [s2@group-75C8756F8EE4-LeaderElection12] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-75C8756F8EE4: changes role from CANDIDATE to FOLLOWER at term 2 for DISCOVERED_A_NEW_TERM (term=2)
2023-12-07 16:29:48,458 [s2@group-75C8756F8EE4-LeaderElection12] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-75C8756F8EE4-LeaderElection12
2023-12-07 16:29:48,458 [s2@group-75C8756F8EE4-LeaderElection12] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-75C8756F8EE4-FollowerState
2023-12-07 16:29:48,458 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s0@group-75C8756F8EE4: receive requestVote(ELECTION, s1, group-75C8756F8EE4, 2, (t:1, i:2))
2023-12-07 16:29:48,458 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-75C8756F8EE4-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2023-12-07 16:29:48,458 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(265)) - s0@group-75C8756F8EE4: change Leader from s1 to null at term 2 for updateCurrentTerm
2023-12-07 16:29:48,458 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-75C8756F8EE4: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s1
2023-12-07 16:29:48,458 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-75C8756F8EE4-FollowerState
2023-12-07 16:29:48,458 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-75C8756F8EE4-FollowerState
2023-12-07 16:29:48,458 [s0@group-75C8756F8EE4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-75C8756F8EE4-FollowerState was interrupted
2023-12-07 16:29:48,458 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s2@group-75C8756F8EE4: receive requestVote(ELECTION, s1, group-75C8756F8EE4, 2, (t:1, i:2))
2023-12-07 16:29:48,461 [grpc-default-executor-2] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s0/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@3533fbfa
2023-12-07 16:29:48,462 [s2@group-75C8756F8EE4-LeaderElection12] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s2/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@480a505c
2023-12-07 16:29:48,463 [s2@group-75C8756F8EE4-LeaderElection12] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s2/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s2/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:48,463 [grpc-default-executor-2] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s0/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s0/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:48,463 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-75C8756F8EE4-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2023-12-07 16:29:48,463 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-75C8756F8EE4: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s1
2023-12-07 16:29:48,463 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s0@group-75C8756F8EE4 replies to ELECTION vote request: s1<-s0#0:OK-t2. Peer's state: s0@group-75C8756F8EE4:t2, leader=null, voted=s1, raftlog=Memoized:s0@group-75C8756F8EE4-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|localhost:45595, s1|localhost:35271, s2|localhost:44615]|listeners:[], old=null
2023-12-07 16:29:48,463 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-75C8756F8EE4-FollowerState
2023-12-07 16:29:48,463 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-75C8756F8EE4-FollowerState
2023-12-07 16:29:48,463 [grpc-default-executor-3] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s2/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@44839090
2023-12-07 16:29:48,464 [s2@group-75C8756F8EE4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-75C8756F8EE4-FollowerState was interrupted
2023-12-07 16:29:48,464 [s1@group-75C8756F8EE4-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-75C8756F8EE4-LeaderElection13: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-12-07 16:29:48,464 [s1@group-75C8756F8EE4-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t2
2023-12-07 16:29:48,464 [s1@group-75C8756F8EE4-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-75C8756F8EE4-LeaderElection13 ELECTION round 0: result PASSED
2023-12-07 16:29:48,464 [s1@group-75C8756F8EE4-LeaderElection13] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-75C8756F8EE4-LeaderElection13
2023-12-07 16:29:48,464 [s1@group-75C8756F8EE4-LeaderElection13] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-75C8756F8EE4: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2023-12-07 16:29:48,464 [s1@group-75C8756F8EE4-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-12-07 16:29:48,464 [grpc-default-executor-3] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s2/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s2/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:48,464 [s1@group-75C8756F8EE4-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-12-07 16:29:48,464 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s2@group-75C8756F8EE4 replies to ELECTION vote request: s1<-s2#0:OK-t2. Peer's state: s2@group-75C8756F8EE4:t2, leader=null, voted=s1, raftlog=Memoized:s2@group-75C8756F8EE4-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|localhost:45595, s1|localhost:35271, s2|localhost:44615]|listeners:[], old=null
2023-12-07 16:29:48,464 [s1@group-75C8756F8EE4-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2023-12-07 16:29:48,464 [s1@group-75C8756F8EE4-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-12-07 16:29:48,464 [s1@group-75C8756F8EE4-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-12-07 16:29:48,464 [s1@group-75C8756F8EE4-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-12-07 16:29:48,464 [s1@group-75C8756F8EE4-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = true (custom)
2023-12-07 16:29:48,465 [s1@group-75C8756F8EE4-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2023-12-07 16:29:48,465 [s1@group-75C8756F8EE4-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-12-07 16:29:48,465 [s1@group-75C8756F8EE4-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-12-07 16:29:48,465 [s1@group-75C8756F8EE4-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-12-07 16:29:48,465 [s1@group-75C8756F8EE4-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-12-07 16:29:48,465 [s1@group-75C8756F8EE4-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:48,465 [s1@group-75C8756F8EE4-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-12-07 16:29:48,465 [s1@group-75C8756F8EE4-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2023-12-07 16:29:48,465 [s1@group-75C8756F8EE4-LeaderElection13] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2023-12-07 16:29:48,465 [s1@group-75C8756F8EE4-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:48,465 [s1@group-75C8756F8EE4-LeaderElection13] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2023-12-07 16:29:48,465 [s1@group-75C8756F8EE4-LeaderElection13] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2023-12-07 16:29:48,465 [s1@group-75C8756F8EE4-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:48,465 [s1@group-75C8756F8EE4-LeaderElection13] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:48,465 [s1@group-75C8756F8EE4-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-12-07 16:29:48,465 [s1@group-75C8756F8EE4-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:48,465 [s1@group-75C8756F8EE4-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-12-07 16:29:48,465 [s1@group-75C8756F8EE4-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2023-12-07 16:29:48,465 [s1@group-75C8756F8EE4-LeaderElection13] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2023-12-07 16:29:48,465 [s1@group-75C8756F8EE4-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:48,465 [s1@group-75C8756F8EE4-LeaderElection13] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2023-12-07 16:29:48,465 [s1@group-75C8756F8EE4-LeaderElection13] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2023-12-07 16:29:48,465 [s1@group-75C8756F8EE4-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:48,465 [s1@group-75C8756F8EE4-LeaderElection13] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:48,466 [s1@group-75C8756F8EE4-LeaderElection13] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-75C8756F8EE4-LeaderStateImpl
2023-12-07 16:29:48,466 [s1@group-75C8756F8EE4-LeaderElection13] INFO  server.RaftServer$Division (ServerState.java:setLeader(265)) - s1@group-75C8756F8EE4: change Leader from null to s1 at term 2 for becomeLeader, leader elected after 254ms
2023-12-07 16:29:48,466 [s1@group-75C8756F8EE4-LeaderElection13] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(435)) - s1@group-75C8756F8EE4-SegmentedRaftLogWorker: Rolling segment log-0_2 to index:2
2023-12-07 16:29:48,466 [s1@group-75C8756F8EE4-LeaderElection13] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(382)) - s1@group-75C8756F8EE4: set configuration 3: peers:[s0|localhost:45595, s1|localhost:35271, s2|localhost:44615]|listeners:[], old=null
2023-12-07 16:29:48,467 [s1@group-75C8756F8EE4-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s1/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s1/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/log_0-2
2023-12-07 16:29:48,467 [s1@group-75C8756F8EE4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(591)) - s1@group-75C8756F8EE4-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s1/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s1/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/log_0-2
2023-12-07 16:29:48,467 [s1@group-75C8756F8EE4-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_3 at position 0
2023-12-07 16:29:48,472 [s0-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setLeader(265)) - s0@group-75C8756F8EE4: change Leader from null to s1 at term 2 for appendEntries, leader elected after 14ms
2023-12-07 16:29:48,473 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setLeader(265)) - s2@group-75C8756F8EE4: change Leader from null to s1 at term 2 for appendEntries, leader elected after 22ms
2023-12-07 16:29:48,474 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-75C8756F8EE4: receive appendEntries(s1, 2, (t:1, i:2), 2, true, commits:[s1:c2, s0:c1, s2:c1], cId:1, entries: [(t:2, i:3), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:45595"
dataStreamAddress: "localhost:35447"
clientAddress: "localhost:40107"
adminAddress: "localhost:38551"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35271"
dataStreamAddress: "localhost:40283"
clientAddress: "localhost:33203"
adminAddress: "localhost:36473"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:44615"
dataStreamAddress: "localhost:38113"
clientAddress: "localhost:35699"
adminAddress: "localhost:34725"
startupRole: FOLLOWER
, old:)]
2023-12-07 16:29:48,474 [s1@group-75C8756F8EE4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s1@group-75C8756F8EE4-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s1/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/log_inprogress_3
2023-12-07 16:29:48,474 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(382)) - s2@group-75C8756F8EE4: set configuration 3: peers:[s0|localhost:45595, s1|localhost:35271, s2|localhost:44615]|listeners:[], old=null
2023-12-07 16:29:48,475 [s2-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(435)) - s2@group-75C8756F8EE4-SegmentedRaftLogWorker: Rolling segment log-0_2 to index:2
2023-12-07 16:29:48,475 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-75C8756F8EE4: receive appendEntries(s1, 2, (t:1, i:2), 2, true, commits:[s1:c2, s0:c2, s2:c1], cId:1, entries: [(t:2, i:3), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:45595"
dataStreamAddress: "localhost:35447"
clientAddress: "localhost:40107"
adminAddress: "localhost:38551"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:35271"
dataStreamAddress: "localhost:40283"
clientAddress: "localhost:33203"
adminAddress: "localhost:36473"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:44615"
dataStreamAddress: "localhost:38113"
clientAddress: "localhost:35699"
adminAddress: "localhost:34725"
startupRole: FOLLOWER
, old:)]
2023-12-07 16:29:48,475 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(382)) - s0@group-75C8756F8EE4: set configuration 3: peers:[s0|localhost:45595, s1|localhost:35271, s2|localhost:44615]|listeners:[], old=null
2023-12-07 16:29:48,475 [s0-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(435)) - s0@group-75C8756F8EE4-SegmentedRaftLogWorker: Rolling segment log-0_2 to index:2
2023-12-07 16:29:48,475 [s2@group-75C8756F8EE4-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s2/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s2/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/log_0-2
2023-12-07 16:29:48,476 [s2@group-75C8756F8EE4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(591)) - s2@group-75C8756F8EE4-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s2/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s2/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/log_0-2
2023-12-07 16:29:48,476 [s2@group-75C8756F8EE4-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_3 at position 0
2023-12-07 16:29:48,476 [s0@group-75C8756F8EE4-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s0/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s0/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/log_0-2
2023-12-07 16:29:48,476 [s0@group-75C8756F8EE4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(591)) - s0@group-75C8756F8EE4-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s0/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s0/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/log_0-2
2023-12-07 16:29:48,476 [s0@group-75C8756F8EE4-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_3 at position 0
2023-12-07 16:29:48,485 [s0@group-75C8756F8EE4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s0@group-75C8756F8EE4-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s0/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/log_inprogress_3
2023-12-07 16:29:48,485 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-75C8756F8EE4: succeeded to handle AppendEntries. Reply: s1<-s0#1:OK-t2,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2023-12-07 16:29:48,485 [s2@group-75C8756F8EE4-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s2@group-75C8756F8EE4-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s2/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/log_inprogress_3
2023-12-07 16:29:48,486 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-75C8756F8EE4: succeeded to handle AppendEntries. Reply: s1<-s2#1:OK-t2,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2023-12-07 16:29:48,486 [s1@group-75C8756F8EE4-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s1/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@50e2f1f9
2023-12-07 16:29:48,489 [s1@group-75C8756F8EE4-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s1/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s1/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/raft-meta.conf with options [REPLACE_EXISTING]
2023-12-07 16:29:48,489 [s1@group-75C8756F8EE4-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:isApplied(320)) - leader is ready since appliedIndex == 3 >= startIndex == 3
2023-12-07 16:29:48,490 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-75C8756F8EE4: receive appendEntries(s1, 2, (t:2, i:3), 3, true, commits:[s1:c3, s0:c2, s2:c2], cId:3, entries: [(t:2, i:4), METADATAENTRY(c:3)]
2023-12-07 16:29:48,490 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-75C8756F8EE4: succeeded to handle AppendEntries. Reply: s1<-s2#3:OK-t2,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2023-12-07 16:29:48,491 [s2@group-75C8756F8EE4-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s2/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@60f186c5
2023-12-07 16:29:48,492 [s2@group-75C8756F8EE4-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s2/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s2/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/raft-meta.conf with options [REPLACE_EXISTING]
2023-12-07 16:29:48,492 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-75C8756F8EE4: receive appendEntries(s1, 2, (t:2, i:3), 4, true, commits:[s1:c4, s0:c2, s2:c3], cId:2, entries: [(t:2, i:4), METADATAENTRY(c:3)]
2023-12-07 16:29:48,492 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-75C8756F8EE4: succeeded to handle AppendEntries. Reply: s1<-s0#2:OK-t2,SUCCESS,nextIndex=5,followerCommit=4,matchIndex=4
2023-12-07 16:29:48,493 [s0@group-75C8756F8EE4-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s0/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@26b9d451
2023-12-07 16:29:48,494 [s0@group-75C8756F8EE4-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s0/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc2cce95bd/s0/45bf5bf0-547d-461b-b573-75c8756f8ee4/current/raft-meta.conf with options [REPLACE_EXISTING]
2023-12-07 16:29:48,510 [grpc-default-executor-3] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s1@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:41005
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:48,613 [grpc-default-executor-4] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s0@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:42899
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:48,716 [grpc-default-executor-2] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s2@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:35469
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:48,719 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s1@group-75C8756F8EE4: receive client request(RaftClientRequest:client-FA2AF8713A62->s1@group-75C8756F8EE4, cid=102, seq=null, RO, Message:5155455259)
2023-12-07 16:29:48,719 [s1-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=4, readAfterWriteConsistentIndex=null
2023-12-07 16:29:48,722 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-12-07 16:29:48,722 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-12-07 16:29:48,722 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2023-12-07 16:29:48,722 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-12-07 16:29:48,722 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-12-07 16:29:48,722 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-75C8756F8EE4:t2, leader=s1, voted=s1, raftlog=Memoized:s0@group-75C8756F8EE4-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|localhost:45595, s1|localhost:35271, s2|localhost:44615]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-75C8756F8EE4:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-75C8756F8EE4-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|localhost:45595, s1|localhost:35271, s2|localhost:44615]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-75C8756F8EE4:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-75C8756F8EE4-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|localhost:45595, s1|localhost:35271, s2|localhost:44615]|listeners:[], old=null RUNNING
2023-12-07 16:29:48,722 [MiniRaftCluster-43] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(416)) - s0: close
2023-12-07 16:29:48,722 [MiniRaftCluster-44] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(416)) - s1: close
2023-12-07 16:29:48,723 [MiniRaftCluster-43] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-12-07 16:29:48,723 [MiniRaftCluster-45] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(416)) - s2: close
2023-12-07 16:29:48,723 [MiniRaftCluster-44] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-12-07 16:29:48,723 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$3(516)) - s1@group-75C8756F8EE4: shutdown
2023-12-07 16:29:48,723 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$3(516)) - s0@group-75C8756F8EE4: shutdown
2023-12-07 16:29:48,723 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-75C8756F8EE4,id=s1
2023-12-07 16:29:48,723 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$3(516)) - s2@group-75C8756F8EE4: shutdown
2023-12-07 16:29:48,723 [MiniRaftCluster-45] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-12-07 16:29:48,723 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-75C8756F8EE4,id=s2
2023-12-07 16:29:48,723 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(94)) - s1: shutdown s1@group-75C8756F8EE4-LeaderStateImpl
2023-12-07 16:29:48,723 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-75C8756F8EE4,id=s0
2023-12-07 16:29:48,726 [s1@group-75C8756F8EE4->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(279)) - s1@group-75C8756F8EE4->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2023-12-07 16:29:48,726 [s1-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(289)) - s1@group-75C8756F8EE4-PendingRequests: sendNotLeaderResponses
2023-12-07 16:29:48,726 [s1@group-75C8756F8EE4->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(279)) - s1@group-75C8756F8EE4->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2023-12-07 16:29:48,726 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(157)) - s2: Completed APPEND_ENTRIES, lastRequest: s1->s2#3-t2,previous=(t:2, i:3),leaderCommit=3,initializing? true,entries: size=1, first=(t:2, i:4), METADATAENTRY(c:3)
2023-12-07 16:29:48,726 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$5(159)) - s2: Completed APPEND_ENTRIES, lastReply: null
2023-12-07 16:29:48,726 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(157)) - s0: Completed APPEND_ENTRIES, lastRequest: s1->s0#2-t2,previous=(t:2, i:3),leaderCommit=4,initializing? true,entries: size=1, first=(t:2, i:4), METADATAENTRY(c:3)
2023-12-07 16:29:48,727 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$5(159)) - s0: Completed APPEND_ENTRIES, lastReply: null
2023-12-07 16:29:48,726 [Thread-649] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(103)) - s2 Close channels
2023-12-07 16:29:48,727 [grpc-default-executor-3] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(534)) - s1@group-75C8756F8EE4->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-12-07 16:29:48,726 [Thread-645] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(103)) - s0 Close channels
2023-12-07 16:29:48,727 [grpc-default-executor-3] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(216)) - s1@group-75C8756F8EE4->s2-GrpcLogAppender: Failed to getClient for s2
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s1 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:65)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:114)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:188)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:193)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$700(GrpcLogAppender.java:61)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:535)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:48,727 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(157)) - s2: Completed APPEND_ENTRIES, lastRequest: null
2023-12-07 16:29:48,723 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-75C8756F8EE4-FollowerState
2023-12-07 16:29:48,727 [grpc-default-executor-7] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(534)) - s1@group-75C8756F8EE4->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-12-07 16:29:48,727 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s2@group-75C8756F8EE4-StateMachineUpdater: set stopIndex = 4
2023-12-07 16:29:48,727 [Thread-650] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(103)) - s0 Close channels
2023-12-07 16:29:48,727 [s2@group-75C8756F8EE4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-75C8756F8EE4-FollowerState was interrupted
2023-12-07 16:29:48,726 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(157)) - s0: Completed APPEND_ENTRIES, lastRequest: null
2023-12-07 16:29:48,727 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$5(159)) - s2: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s1"
  replyId: "s2"
  raftGroupId {
    id: "E\277[\360T}F\033\265su\310uo\216\344"
  }
  callId: 8
  success: true
}
term: 2
nextIndex: 5
followerCommit: 4
matchIndex: 18446744073709551615
isHearbeat: true

2023-12-07 16:29:48,726 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-75C8756F8EE4-FollowerState
2023-12-07 16:29:48,728 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s0@group-75C8756F8EE4-StateMachineUpdater: set stopIndex = 4
2023-12-07 16:29:48,728 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$5(159)) - s0: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s1"
  replyId: "s0"
  raftGroupId {
    id: "E\277[\360T}F\033\265su\310uo\216\344"
  }
  callId: 4
  success: true
}
term: 2
nextIndex: 5
followerCommit: 4
matchIndex: 18446744073709551615
isHearbeat: true

2023-12-07 16:29:48,728 [s0@group-75C8756F8EE4-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-75C8756F8EE4-FollowerState was interrupted
2023-12-07 16:29:48,728 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(423)) - s0@group-75C8756F8EE4: applyIndex: 4
2023-12-07 16:29:48,728 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(423)) - s2@group-75C8756F8EE4: applyIndex: 4
2023-12-07 16:29:48,728 [s2@group-75C8756F8EE4-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s2@group-75C8756F8EE4-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2023-12-07 16:29:48,728 [s0@group-75C8756F8EE4-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-75C8756F8EE4-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2023-12-07 16:29:48,728 [grpc-default-executor-3] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(534)) - s1@group-75C8756F8EE4->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-12-07 16:29:48,728 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(534)) - s1@group-75C8756F8EE4->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-12-07 16:29:48,728 [grpc-default-executor-3] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(216)) - s1@group-75C8756F8EE4->s0-GrpcLogAppender: Failed to getClient for s0
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s1 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:65)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:114)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:188)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:193)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$700(GrpcLogAppender.java:61)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:535)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:48,727 [grpc-default-executor-7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(216)) - s1@group-75C8756F8EE4->s0-GrpcLogAppender: Failed to getClient for s0
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s1 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:65)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:114)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:188)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:193)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$700(GrpcLogAppender.java:61)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:535)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:48,728 [grpc-default-executor-5] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(216)) - s1@group-75C8756F8EE4->s2-GrpcLogAppender: Failed to getClient for s2
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s1 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:65)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:114)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:188)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:193)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$700(GrpcLogAppender.java:61)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:535)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:48,729 [MiniRaftCluster-44] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-12-07 16:29:48,729 [MiniRaftCluster-44] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server GrpcServerProtocolService now
2023-12-07 16:29:48,729 [MiniRaftCluster-43] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-12-07 16:29:48,729 [MiniRaftCluster-43] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server GrpcServerProtocolService now
2023-12-07 16:29:48,734 [MiniRaftCluster-44] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server GrpcServerProtocolService successfully
2023-12-07 16:29:48,734 [MiniRaftCluster-44] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-12-07 16:29:48,734 [Thread-651] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(103)) - s1 Close channels
2023-12-07 16:29:48,735 [MiniRaftCluster-45] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-12-07 16:29:48,735 [MiniRaftCluster-45] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server GrpcServerProtocolService now
2023-12-07 16:29:48,735 [MiniRaftCluster-43] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server GrpcServerProtocolService successfully
2023-12-07 16:29:48,735 [MiniRaftCluster-43] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-12-07 16:29:48,738 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s1@group-75C8756F8EE4-StateMachineUpdater: set stopIndex = 4
2023-12-07 16:29:48,738 [MiniRaftCluster-44] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-12-07 16:29:48,738 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(423)) - s1@group-75C8756F8EE4: applyIndex: 4
2023-12-07 16:29:48,738 [s1@group-75C8756F8EE4-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s1@group-75C8756F8EE4-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2023-12-07 16:29:48,740 [MiniRaftCluster-43] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-12-07 16:29:48,740 [MiniRaftCluster-45] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server GrpcServerProtocolService successfully
2023-12-07 16:29:48,740 [MiniRaftCluster-45] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-12-07 16:29:48,741 [MiniRaftCluster-45] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-12-07 16:29:48,819 [grpc-default-executor-7] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s1@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:41005
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:48,921 [grpc-default-executor-2] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s2@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:35469
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:49,024 [grpc-default-executor-5] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s1@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:41005
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:49,126 [grpc-default-executor-2] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s0@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:42899
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:49,229 [grpc-default-executor-7] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s1@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:41005
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:49,332 [grpc-default-executor-5] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s2@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:35469
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:49,434 [grpc-default-executor-2] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s1@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:41005
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:49,487 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s1@group-75C8756F8EE4-SegmentedRaftLogWorker close()
2023-12-07 16:29:49,488 [JvmPauseMonitor22] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s1: Stopped
2023-12-07 16:29:49,491 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s2@group-75C8756F8EE4-SegmentedRaftLogWorker close()
2023-12-07 16:29:49,492 [JvmPauseMonitor23] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s2: Stopped
2023-12-07 16:29:49,493 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s0@group-75C8756F8EE4-SegmentedRaftLogWorker close()
2023-12-07 16:29:49,493 [JvmPauseMonitor21] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2023-12-07 16:29:49,493 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2023-12-07 16:29:49,494 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-12-07 16:29:49,494 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-12-07 16:29:49,494 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2023-12-07 16:29:49,494 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2023-12-07 16:29:49,495 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-DE758ED81ED3:[s0|localhost:36535, s1|localhost:45433, s2|localhost:35843]
2023-12-07 16:29:49,495 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-12-07 16:29:49,495 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-12-07 16:29:49,495 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2023-12-07 16:29:49,495 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-12-07 16:29:49,495 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-12-07 16:29:49,495 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-12-07 16:29:49,495 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-DE758ED81ED3:[s0|localhost:36535, s1|localhost:45433, s2|localhost:35843], format? true
2023-12-07 16:29:49,495 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s0
2023-12-07 16:29:49,495 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s0 does not exist.
2023-12-07 16:29:49,495 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s0
2023-12-07 16:29:49,495 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-12-07 16:29:49,495 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:49,496 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 43355 (custom)
2023-12-07 16:29:49,496 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:49,496 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 38841 (custom)
2023-12-07 16:29:49,496 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-12-07 16:29:49,496 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 36535 (custom)
2023-12-07 16:29:49,496 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-12-07 16:29:49,496 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:49,496 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-12-07 16:29:49,496 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:49,496 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:49,496 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-12-07 16:29:49,496 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-12-07 16:29:49,497 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-12-07 16:29:49,497 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:49,497 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2023-12-07 16:29:49,497 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:49,497 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s0] (custom)
2023-12-07 16:29:49,497 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-12-07 16:29:49,497 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-12-07 16:29:49,497 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(100)) - s0: addNew group-DE758ED81ED3:[s0|localhost:36535, s1|localhost:45433, s2|localhost:35843] returns group-DE758ED81ED3:java.util.concurrent.CompletableFuture@5747901e[Not completed]
2023-12-07 16:29:49,497 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-DE758ED81ED3:[s0|localhost:36535, s1|localhost:45433, s2|localhost:35843], format? true
2023-12-07 16:29:49,497 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s0: new RaftServerImpl for group-DE758ED81ED3:[s0|localhost:36535, s1|localhost:45433, s2|localhost:35843] with CounterStateMachine:uninitialized
2023-12-07 16:29:49,497 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s1
2023-12-07 16:29:49,497 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-12-07 16:29:49,497 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-12-07 16:29:49,497 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s1 does not exist.
2023-12-07 16:29:49,497 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-12-07 16:29:49,498 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s1
2023-12-07 16:29:49,498 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-12-07 16:29:49,498 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:49,498 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2023-12-07 16:29:49,498 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:49,498 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-12-07 16:29:49,498 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-DE758ED81ED3: ConfigurationManager, init=-1: peers:[s0|localhost:36535, s1|localhost:45433, s2|localhost:35843]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-12-07 16:29:49,498 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:49,498 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-12-07 16:29:49,498 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 39517 (custom)
2023-12-07 16:29:49,498 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-12-07 16:29:49,498 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:49,498 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-12-07 16:29:49,498 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 39065 (custom)
2023-12-07 16:29:49,498 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2023-12-07 16:29:49,498 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-12-07 16:29:49,498 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 45433 (custom)
2023-12-07 16:29:49,498 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = LINEARIZABLE (custom)
2023-12-07 16:29:49,498 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-12-07 16:29:49,498 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2023-12-07 16:29:49,498 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:49,498 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-12-07 16:29:49,498 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:49,498 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:49,498 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-12-07 16:29:49,498 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-12-07 16:29:49,499 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:49,499 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:49,499 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-12-07 16:29:49,499 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-12-07 16:29:49,499 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-12-07 16:29:49,499 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-12-07 16:29:49,499 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-12-07 16:29:49,499 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:49,499 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2023-12-07 16:29:49,499 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:49,499 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s1] (custom)
2023-12-07 16:29:49,499 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-12-07 16:29:49,499 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-12-07 16:29:49,500 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(100)) - s1: addNew group-DE758ED81ED3:[s0|localhost:36535, s1|localhost:45433, s2|localhost:35843] returns group-DE758ED81ED3:java.util.concurrent.CompletableFuture@5c44d3a7[Not completed]
2023-12-07 16:29:49,500 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-DE758ED81ED3:[s0|localhost:36535, s1|localhost:45433, s2|localhost:35843], format? true
2023-12-07 16:29:49,500 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s1: new RaftServerImpl for group-DE758ED81ED3:[s0|localhost:36535, s1|localhost:45433, s2|localhost:35843] with CounterStateMachine:uninitialized
2023-12-07 16:29:49,500 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s2
2023-12-07 16:29:49,500 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-12-07 16:29:49,500 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-12-07 16:29:49,500 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s2 does not exist.
2023-12-07 16:29:49,500 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-12-07 16:29:49,500 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s2
2023-12-07 16:29:49,500 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-12-07 16:29:49,500 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:49,500 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2023-12-07 16:29:49,500 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:49,500 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-DE758ED81ED3: ConfigurationManager, init=-1: peers:[s0|localhost:36535, s1|localhost:45433, s2|localhost:35843]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-12-07 16:29:49,500 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-12-07 16:29:49,500 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-12-07 16:29:49,500 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-12-07 16:29:49,500 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:49,500 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-12-07 16:29:49,500 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 42993 (custom)
2023-12-07 16:29:49,500 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2023-12-07 16:29:49,500 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:49,500 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = LINEARIZABLE (custom)
2023-12-07 16:29:49,500 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 45483 (custom)
2023-12-07 16:29:49,500 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2023-12-07 16:29:49,500 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-12-07 16:29:49,501 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 35843 (custom)
2023-12-07 16:29:49,501 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-12-07 16:29:49,501 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:49,501 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-12-07 16:29:49,501 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:49,501 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:49,501 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-12-07 16:29:49,501 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-12-07 16:29:49,501 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:49,501 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:49,501 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-12-07 16:29:49,501 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-12-07 16:29:49,501 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-12-07 16:29:49,501 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-12-07 16:29:49,502 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-12-07 16:29:49,502 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:49,502 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2023-12-07 16:29:49,502 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:49,502 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s2] (custom)
2023-12-07 16:29:49,502 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-12-07 16:29:49,502 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-12-07 16:29:49,502 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(100)) - s2: addNew group-DE758ED81ED3:[s0|localhost:36535, s1|localhost:45433, s2|localhost:35843] returns group-DE758ED81ED3:java.util.concurrent.CompletableFuture@3d63ec3e[Not completed]
2023-12-07 16:29:49,502 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s2: new RaftServerImpl for group-DE758ED81ED3:[s0|localhost:36535, s1|localhost:45433, s2|localhost:35843] with CounterStateMachine:uninitialized
2023-12-07 16:29:49,502 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-12-07 16:29:49,502 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-12-07 16:29:49,502 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-12-07 16:29:49,502 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-12-07 16:29:49,502 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-12-07 16:29:49,502 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-12-07 16:29:49,502 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s0] (custom)
2023-12-07 16:29:49,503 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:49,503 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2023-12-07 16:29:49,503 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:49,503 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-DE758ED81ED3: ConfigurationManager, init=-1: peers:[s0|localhost:36535, s1|localhost:45433, s2|localhost:35843]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-12-07 16:29:49,503 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s0/3c9c547a-185e-4cb7-b958-de758ed81ed3 does not exist. Creating ...
2023-12-07 16:29:49,503 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-12-07 16:29:49,503 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-12-07 16:29:49,503 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-12-07 16:29:49,503 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2023-12-07 16:29:49,503 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = LINEARIZABLE (custom)
2023-12-07 16:29:49,503 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2023-12-07 16:29:49,503 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s0/3c9c547a-185e-4cb7-b958-de758ed81ed3
2023-12-07 16:29:49,503 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:49,503 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:49,503 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-12-07 16:29:49,504 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-12-07 16:29:49,504 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-12-07 16:29:49,504 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-12-07 16:29:49,504 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s0/3c9c547a-185e-4cb7-b958-de758ed81ed3/in_use.lock acquired by nodename 9497@fv-az527-45
2023-12-07 16:29:49,504 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s0/3c9c547a-185e-4cb7-b958-de758ed81ed3/current
2023-12-07 16:29:49,504 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s0/3c9c547a-185e-4cb7-b958-de758ed81ed3/sm
2023-12-07 16:29:49,504 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s0/3c9c547a-185e-4cb7-b958-de758ed81ed3/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@622cdb18
2023-12-07 16:29:49,505 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s0/3c9c547a-185e-4cb7-b958-de758ed81ed3/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s0/3c9c547a-185e-4cb7-b958-de758ed81ed3/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:49,505 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s0/3c9c547a-185e-4cb7-b958-de758ed81ed3 has been successfully formatted.
2023-12-07 16:29:49,505 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s0/3c9c547a-185e-4cb7-b958-de758ed81ed3/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s0/3c9c547a-185e-4cb7-b958-de758ed81ed3/current/raft-meta.conf
	at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:92)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:116)
	at java.base/sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:219)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:371)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:422)
	at java.base/java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:420)
	at java.base/java.nio.file.Files.newInputStream(Files.java:156)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:388)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:182)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:49,505 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-12-07 16:29:49,505 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-12-07 16:29:49,505 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:49,505 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-12-07 16:29:49,505 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-12-07 16:29:49,505 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:49,505 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-12-07 16:29:49,506 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-12-07 16:29:49,506 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:49,506 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-DE758ED81ED3-cacheEviction-AwaitToRun,5,main] started
2023-12-07 16:29:49,506 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s0@group-DE758ED81ED3-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s0/3c9c547a-185e-4cb7-b958-de758ed81ed3
2023-12-07 16:29:49,506 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-12-07 16:29:49,506 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-12-07 16:29:49,506 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:49,506 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-12-07 16:29:49,506 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-12-07 16:29:49,506 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-12-07 16:29:49,506 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-12-07 16:29:49,506 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-12-07 16:29:49,506 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2023-12-07 16:29:49,508 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:49,508 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-12-07 16:29:49,508 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-12-07 16:29:49,508 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-12-07 16:29:49,508 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-DE758ED81ED3-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:49,508 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-DE758ED81ED3-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:49,509 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s0@group-DE758ED81ED3: start as a follower, conf=-1: peers:[s0|localhost:36535, s1|localhost:45433, s2|localhost:35843]|listeners:[], old=null
2023-12-07 16:29:49,509 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-DE758ED81ED3: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-12-07 16:29:49,509 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-DE758ED81ED3-FollowerState
2023-12-07 16:29:49,509 [s0@group-DE758ED81ED3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:49,509 [s0@group-DE758ED81ED3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:49,509 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-DE758ED81ED3,id=s0
2023-12-07 16:29:49,509 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2023-12-07 16:29:49,509 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-12-07 16:29:49,509 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-12-07 16:29:49,509 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-12-07 16:29:49,509 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(406)) - s0: start RPC server
2023-12-07 16:29:49,510 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 38841
2023-12-07 16:29:49,510 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 36535
2023-12-07 16:29:49,510 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 43355
2023-12-07 16:29:49,510 [JvmPauseMonitor24] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2023-12-07 16:29:49,510 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-12-07 16:29:49,510 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-12-07 16:29:49,511 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s1] (custom)
2023-12-07 16:29:49,511 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s1/3c9c547a-185e-4cb7-b958-de758ed81ed3 does not exist. Creating ...
2023-12-07 16:29:49,511 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s1/3c9c547a-185e-4cb7-b958-de758ed81ed3
2023-12-07 16:29:49,511 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s1/3c9c547a-185e-4cb7-b958-de758ed81ed3/in_use.lock acquired by nodename 9497@fv-az527-45
2023-12-07 16:29:49,512 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s1/3c9c547a-185e-4cb7-b958-de758ed81ed3/current
2023-12-07 16:29:49,512 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s1/3c9c547a-185e-4cb7-b958-de758ed81ed3/sm
2023-12-07 16:29:49,512 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s1/3c9c547a-185e-4cb7-b958-de758ed81ed3/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5724573a
2023-12-07 16:29:49,512 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s1/3c9c547a-185e-4cb7-b958-de758ed81ed3/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s1/3c9c547a-185e-4cb7-b958-de758ed81ed3/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:49,512 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s1/3c9c547a-185e-4cb7-b958-de758ed81ed3 has been successfully formatted.
2023-12-07 16:29:49,513 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s1/3c9c547a-185e-4cb7-b958-de758ed81ed3/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s1/3c9c547a-185e-4cb7-b958-de758ed81ed3/current/raft-meta.conf
	at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:92)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:116)
	at java.base/sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:219)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:371)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:422)
	at java.base/java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:420)
	at java.base/java.nio.file.Files.newInputStream(Files.java:156)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:388)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:182)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:49,513 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-12-07 16:29:49,513 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-12-07 16:29:49,513 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:49,513 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-12-07 16:29:49,513 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-12-07 16:29:49,513 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:49,513 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-12-07 16:29:49,513 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-12-07 16:29:49,513 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:49,513 [s1-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s1@group-DE758ED81ED3-cacheEviction-AwaitToRun,5,main] started
2023-12-07 16:29:49,513 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s1@group-DE758ED81ED3-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s1/3c9c547a-185e-4cb7-b958-de758ed81ed3
2023-12-07 16:29:49,513 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-12-07 16:29:49,513 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-12-07 16:29:49,514 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:49,514 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-12-07 16:29:49,514 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-12-07 16:29:49,514 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-12-07 16:29:49,514 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-12-07 16:29:49,514 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-12-07 16:29:49,514 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2023-12-07 16:29:49,515 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:49,515 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-12-07 16:29:49,515 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-12-07 16:29:49,515 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-12-07 16:29:49,515 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-DE758ED81ED3-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:49,515 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-DE758ED81ED3-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:49,515 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s1@group-DE758ED81ED3: start as a follower, conf=-1: peers:[s0|localhost:36535, s1|localhost:45433, s2|localhost:35843]|listeners:[], old=null
2023-12-07 16:29:49,515 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-DE758ED81ED3: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-12-07 16:29:49,515 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-DE758ED81ED3-FollowerState
2023-12-07 16:29:49,515 [s1@group-DE758ED81ED3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:49,515 [s1@group-DE758ED81ED3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:49,516 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-DE758ED81ED3,id=s1
2023-12-07 16:29:49,516 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2023-12-07 16:29:49,516 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-12-07 16:29:49,516 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-12-07 16:29:49,516 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-12-07 16:29:49,516 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(406)) - s1: start RPC server
2023-12-07 16:29:49,516 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 39065
2023-12-07 16:29:49,516 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 45433
2023-12-07 16:29:49,517 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 39517
2023-12-07 16:29:49,517 [JvmPauseMonitor25] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s1: Started
2023-12-07 16:29:49,517 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-12-07 16:29:49,517 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-12-07 16:29:49,518 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s2] (custom)
2023-12-07 16:29:49,518 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s2/3c9c547a-185e-4cb7-b958-de758ed81ed3 does not exist. Creating ...
2023-12-07 16:29:49,518 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s2/3c9c547a-185e-4cb7-b958-de758ed81ed3
2023-12-07 16:29:49,518 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s2/3c9c547a-185e-4cb7-b958-de758ed81ed3/in_use.lock acquired by nodename 9497@fv-az527-45
2023-12-07 16:29:49,518 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s2/3c9c547a-185e-4cb7-b958-de758ed81ed3/current
2023-12-07 16:29:49,519 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s2/3c9c547a-185e-4cb7-b958-de758ed81ed3/sm
2023-12-07 16:29:49,519 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s2/3c9c547a-185e-4cb7-b958-de758ed81ed3/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2a7115b8
2023-12-07 16:29:49,519 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s2/3c9c547a-185e-4cb7-b958-de758ed81ed3/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s2/3c9c547a-185e-4cb7-b958-de758ed81ed3/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:49,519 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s2/3c9c547a-185e-4cb7-b958-de758ed81ed3 has been successfully formatted.
2023-12-07 16:29:49,520 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s2/3c9c547a-185e-4cb7-b958-de758ed81ed3/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s2/3c9c547a-185e-4cb7-b958-de758ed81ed3/current/raft-meta.conf
	at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:92)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:116)
	at java.base/sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:219)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:371)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:422)
	at java.base/java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:420)
	at java.base/java.nio.file.Files.newInputStream(Files.java:156)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:388)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:182)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:49,520 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-12-07 16:29:49,520 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-12-07 16:29:49,520 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:49,520 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-12-07 16:29:49,520 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-12-07 16:29:49,520 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:49,520 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-12-07 16:29:49,520 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-12-07 16:29:49,520 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:49,520 [s2-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s2@group-DE758ED81ED3-cacheEviction-AwaitToRun,5,main] started
2023-12-07 16:29:49,521 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s2@group-DE758ED81ED3-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s2/3c9c547a-185e-4cb7-b958-de758ed81ed3
2023-12-07 16:29:49,521 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-12-07 16:29:49,521 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-12-07 16:29:49,521 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:49,521 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-12-07 16:29:49,521 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-12-07 16:29:49,521 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-12-07 16:29:49,521 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-12-07 16:29:49,521 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-12-07 16:29:49,521 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2023-12-07 16:29:49,522 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:49,522 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-12-07 16:29:49,522 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-12-07 16:29:49,522 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-12-07 16:29:49,522 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-DE758ED81ED3-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:49,522 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-DE758ED81ED3-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:49,523 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s2@group-DE758ED81ED3: start as a follower, conf=-1: peers:[s0|localhost:36535, s1|localhost:45433, s2|localhost:35843]|listeners:[], old=null
2023-12-07 16:29:49,523 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-DE758ED81ED3: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-12-07 16:29:49,523 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-DE758ED81ED3-FollowerState
2023-12-07 16:29:49,523 [s2@group-DE758ED81ED3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:49,523 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-DE758ED81ED3,id=s2
2023-12-07 16:29:49,523 [s2@group-DE758ED81ED3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:49,523 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2023-12-07 16:29:49,523 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-12-07 16:29:49,523 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-12-07 16:29:49,523 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-12-07 16:29:49,523 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(406)) - s2: start RPC server
2023-12-07 16:29:49,523 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 45483
2023-12-07 16:29:49,524 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 35843
2023-12-07 16:29:49,524 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 42993
2023-12-07 16:29:49,524 [JvmPauseMonitor26] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s2: Started
2023-12-07 16:29:49,524 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-12-07 16:29:49,524 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-DE758ED81ED3:t0, leader=null, voted=, raftlog=Memoized:s0@group-DE758ED81ED3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:36535, s1|localhost:45433, s2|localhost:35843]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-DE758ED81ED3:t0, leader=null, voted=, raftlog=Memoized:s1@group-DE758ED81ED3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:36535, s1|localhost:45433, s2|localhost:35843]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-DE758ED81ED3:t0, leader=null, voted=, raftlog=Memoized:s2@group-DE758ED81ED3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:36535, s1|localhost:45433, s2|localhost:35843]|listeners:[], old=null RUNNING
2023-12-07 16:29:49,524 [Time-limited test] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(119)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-DE758ED81ED3:t0, leader=null, voted=, raftlog=Memoized:s0@group-DE758ED81ED3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:36535, s1|localhost:45433, s2|localhost:35843]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-DE758ED81ED3:t0, leader=null, voted=, raftlog=Memoized:s1@group-DE758ED81ED3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:36535, s1|localhost:45433, s2|localhost:35843]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-DE758ED81ED3:t0, leader=null, voted=, raftlog=Memoized:s2@group-DE758ED81ED3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:36535, s1|localhost:45433, s2|localhost:35843]|listeners:[], old=null RUNNING
2023-12-07 16:29:49,537 [grpc-default-executor-7] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s0@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:42899
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:49,639 [grpc-default-executor-5] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s1@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:41005
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:49,679 [s1@group-DE758ED81ED3-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-DE758ED81ED3-FollowerState: change to CANDIDATE, lastRpcElapsedTime:163340299ns, electionTimeout:163ms
2023-12-07 16:29:49,679 [s1@group-DE758ED81ED3-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-DE758ED81ED3-FollowerState
2023-12-07 16:29:49,679 [s1@group-DE758ED81ED3-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-DE758ED81ED3: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-12-07 16:29:49,679 [s1@group-DE758ED81ED3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-12-07 16:29:49,679 [s1@group-DE758ED81ED3-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-DE758ED81ED3-LeaderElection14
2023-12-07 16:29:49,679 [s1@group-DE758ED81ED3-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-DE758ED81ED3-LeaderElection14 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|localhost:36535, s1|localhost:45433, s2|localhost:35843]|listeners:[], old=null
2023-12-07 16:29:49,679 [s1@group-DE758ED81ED3-LeaderElection14-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s0
2023-12-07 16:29:49,679 [s1@group-DE758ED81ED3-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:49,680 [s1@group-DE758ED81ED3-LeaderElection14-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s2
2023-12-07 16:29:49,680 [s1@group-DE758ED81ED3-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:49,682 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s0@group-DE758ED81ED3: receive requestVote(PRE_VOTE, s1, group-DE758ED81ED3, 0, (t:0, i:0))
2023-12-07 16:29:49,682 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-DE758ED81ED3-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-12-07 16:29:49,682 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s0@group-DE758ED81ED3 replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-DE758ED81ED3:t0, leader=null, voted=, raftlog=Memoized:s0@group-DE758ED81ED3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:36535, s1|localhost:45433, s2|localhost:35843]|listeners:[], old=null
2023-12-07 16:29:49,683 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s2@group-DE758ED81ED3: receive requestVote(PRE_VOTE, s1, group-DE758ED81ED3, 0, (t:0, i:0))
2023-12-07 16:29:49,683 [s1@group-DE758ED81ED3-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-DE758ED81ED3-LeaderElection14: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-12-07 16:29:49,683 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-DE758ED81ED3-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-12-07 16:29:49,683 [s1@group-DE758ED81ED3-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t0
2023-12-07 16:29:49,683 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s2@group-DE758ED81ED3 replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-DE758ED81ED3:t0, leader=null, voted=, raftlog=Memoized:s2@group-DE758ED81ED3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:36535, s1|localhost:45433, s2|localhost:35843]|listeners:[], old=null
2023-12-07 16:29:49,683 [s1@group-DE758ED81ED3-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-DE758ED81ED3-LeaderElection14 PRE_VOTE round 0: result PASSED
2023-12-07 16:29:49,683 [s1@group-DE758ED81ED3-LeaderElection14] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s1/3c9c547a-185e-4cb7-b958-de758ed81ed3/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2e411cda
2023-12-07 16:29:49,684 [s1@group-DE758ED81ED3-LeaderElection14] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s1/3c9c547a-185e-4cb7-b958-de758ed81ed3/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s1/3c9c547a-185e-4cb7-b958-de758ed81ed3/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:49,684 [s1@group-DE758ED81ED3-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-DE758ED81ED3-LeaderElection14 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|localhost:36535, s1|localhost:45433, s2|localhost:35843]|listeners:[], old=null
2023-12-07 16:29:49,684 [s1@group-DE758ED81ED3-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:49,684 [s1@group-DE758ED81ED3-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:49,685 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s0@group-DE758ED81ED3: receive requestVote(ELECTION, s1, group-DE758ED81ED3, 1, (t:0, i:0))
2023-12-07 16:29:49,685 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-DE758ED81ED3-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2023-12-07 16:29:49,685 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-DE758ED81ED3: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2023-12-07 16:29:49,685 [grpc-default-executor-7] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-DE758ED81ED3-FollowerState
2023-12-07 16:29:49,685 [s0@group-DE758ED81ED3-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-DE758ED81ED3-FollowerState was interrupted
2023-12-07 16:29:49,685 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s2@group-DE758ED81ED3: receive requestVote(ELECTION, s1, group-DE758ED81ED3, 1, (t:0, i:0))
2023-12-07 16:29:49,685 [grpc-default-executor-7] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-DE758ED81ED3-FollowerState
2023-12-07 16:29:49,685 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-DE758ED81ED3-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2023-12-07 16:29:49,685 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-DE758ED81ED3: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2023-12-07 16:29:49,685 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-DE758ED81ED3-FollowerState
2023-12-07 16:29:49,685 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(564)) - s0@group-DE758ED81ED3: set firstElectionSinceStartup to false for candidate:s1
2023-12-07 16:29:49,686 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-DE758ED81ED3-FollowerState
2023-12-07 16:29:49,686 [s2@group-DE758ED81ED3-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-DE758ED81ED3-FollowerState was interrupted
2023-12-07 16:29:49,686 [grpc-default-executor-7] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s0/3c9c547a-185e-4cb7-b958-de758ed81ed3/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@52402f5a
2023-12-07 16:29:49,686 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(564)) - s2@group-DE758ED81ED3: set firstElectionSinceStartup to false for candidate:s1
2023-12-07 16:29:49,686 [grpc-default-executor-5] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s2/3c9c547a-185e-4cb7-b958-de758ed81ed3/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4f87610
2023-12-07 16:29:49,686 [grpc-default-executor-5] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s2/3c9c547a-185e-4cb7-b958-de758ed81ed3/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s2/3c9c547a-185e-4cb7-b958-de758ed81ed3/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:49,686 [grpc-default-executor-7] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s0/3c9c547a-185e-4cb7-b958-de758ed81ed3/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s0/3c9c547a-185e-4cb7-b958-de758ed81ed3/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:49,687 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s2@group-DE758ED81ED3 replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-DE758ED81ED3:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-DE758ED81ED3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:36535, s1|localhost:45433, s2|localhost:35843]|listeners:[], old=null
2023-12-07 16:29:49,687 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s0@group-DE758ED81ED3 replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-DE758ED81ED3:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-DE758ED81ED3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:36535, s1|localhost:45433, s2|localhost:35843]|listeners:[], old=null
2023-12-07 16:29:49,687 [s1@group-DE758ED81ED3-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-DE758ED81ED3-LeaderElection14: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-12-07 16:29:49,687 [s1@group-DE758ED81ED3-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s2#0:OK-t1
2023-12-07 16:29:49,687 [s1@group-DE758ED81ED3-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-DE758ED81ED3-LeaderElection14 ELECTION round 0: result PASSED
2023-12-07 16:29:49,687 [s1@group-DE758ED81ED3-LeaderElection14] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-DE758ED81ED3-LeaderElection14
2023-12-07 16:29:49,687 [s1@group-DE758ED81ED3-LeaderElection14] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-DE758ED81ED3: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-12-07 16:29:49,687 [s1@group-DE758ED81ED3-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-12-07 16:29:49,687 [s1@group-DE758ED81ED3-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-12-07 16:29:49,687 [s1@group-DE758ED81ED3-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2023-12-07 16:29:49,687 [s1@group-DE758ED81ED3-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-12-07 16:29:49,687 [s1@group-DE758ED81ED3-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-12-07 16:29:49,688 [s1@group-DE758ED81ED3-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-12-07 16:29:49,688 [s1@group-DE758ED81ED3-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = true (custom)
2023-12-07 16:29:49,688 [s1@group-DE758ED81ED3-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2023-12-07 16:29:49,688 [s1@group-DE758ED81ED3-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-12-07 16:29:49,688 [s1@group-DE758ED81ED3-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-12-07 16:29:49,688 [s1@group-DE758ED81ED3-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-12-07 16:29:49,688 [s1@group-DE758ED81ED3-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-12-07 16:29:49,688 [s1@group-DE758ED81ED3-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:49,688 [s1@group-DE758ED81ED3-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-12-07 16:29:49,688 [s1@group-DE758ED81ED3-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2023-12-07 16:29:49,688 [s1@group-DE758ED81ED3-LeaderElection14] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2023-12-07 16:29:49,688 [s1@group-DE758ED81ED3-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:49,689 [s1@group-DE758ED81ED3-LeaderElection14] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2023-12-07 16:29:49,689 [s1@group-DE758ED81ED3-LeaderElection14] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2023-12-07 16:29:49,689 [s1@group-DE758ED81ED3-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:49,689 [s1@group-DE758ED81ED3-LeaderElection14] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:49,689 [s1@group-DE758ED81ED3-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-12-07 16:29:49,689 [s1@group-DE758ED81ED3-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:49,689 [s1@group-DE758ED81ED3-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-12-07 16:29:49,689 [s1@group-DE758ED81ED3-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2023-12-07 16:29:49,689 [s1@group-DE758ED81ED3-LeaderElection14] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2023-12-07 16:29:49,689 [s1@group-DE758ED81ED3-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:49,689 [s1@group-DE758ED81ED3-LeaderElection14] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2023-12-07 16:29:49,689 [s1@group-DE758ED81ED3-LeaderElection14] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2023-12-07 16:29:49,689 [s1@group-DE758ED81ED3-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:49,689 [s1@group-DE758ED81ED3-LeaderElection14] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:49,689 [s1@group-DE758ED81ED3-LeaderElection14] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-DE758ED81ED3-LeaderStateImpl
2023-12-07 16:29:49,690 [s1@group-DE758ED81ED3-LeaderElection14] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(564)) - s1@group-DE758ED81ED3: set firstElectionSinceStartup to false for becomeLeader
2023-12-07 16:29:49,690 [s1@group-DE758ED81ED3-LeaderElection14] INFO  server.RaftServer$Division (ServerState.java:setLeader(265)) - s1@group-DE758ED81ED3: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 189ms
2023-12-07 16:29:49,690 [s1@group-DE758ED81ED3-LeaderElection14] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s1@group-DE758ED81ED3-SegmentedRaftLogWorker: Starting segment from index:0
2023-12-07 16:29:49,690 [s1@group-DE758ED81ED3-LeaderElection14] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(382)) - s1@group-DE758ED81ED3: set configuration 0: peers:[s0|localhost:36535, s1|localhost:45433, s2|localhost:35843]|listeners:[], old=null
2023-12-07 16:29:49,690 [s1@group-DE758ED81ED3-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2023-12-07 16:29:49,696 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(265)) - s2@group-DE758ED81ED3: change Leader from null to s1 at term 1 for appendEntries, leader elected after 192ms
2023-12-07 16:29:49,698 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-DE758ED81ED3: receive appendEntries(s1, 1, null, -1, true, commits:[s1:c-1, s0:c-1, s2:c-1], cId:1, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:36535"
dataStreamAddress: "localhost:45237"
clientAddress: "localhost:38841"
adminAddress: "localhost:43355"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:45433"
dataStreamAddress: "localhost:42987"
clientAddress: "localhost:39065"
adminAddress: "localhost:39517"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:35843"
dataStreamAddress: "localhost:36711"
clientAddress: "localhost:45483"
adminAddress: "localhost:42993"
startupRole: FOLLOWER
, old:)]
2023-12-07 16:29:49,698 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(382)) - s2@group-DE758ED81ED3: set configuration 0: peers:[s0|localhost:36535, s1|localhost:45433, s2|localhost:35843]|listeners:[], old=null
2023-12-07 16:29:49,698 [s2-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s2@group-DE758ED81ED3-SegmentedRaftLogWorker: Starting segment from index:0
2023-12-07 16:29:49,698 [s2@group-DE758ED81ED3-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2023-12-07 16:29:49,703 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(265)) - s0@group-DE758ED81ED3: change Leader from null to s1 at term 1 for appendEntries, leader elected after 204ms
2023-12-07 16:29:49,703 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-DE758ED81ED3: receive appendEntries(s1, 1, null, -1, true, commits:[s1:c-1, s0:c-1, s2:c-1], cId:1, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:36535"
dataStreamAddress: "localhost:45237"
clientAddress: "localhost:38841"
adminAddress: "localhost:43355"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:45433"
dataStreamAddress: "localhost:42987"
clientAddress: "localhost:39065"
adminAddress: "localhost:39517"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:35843"
dataStreamAddress: "localhost:36711"
clientAddress: "localhost:45483"
adminAddress: "localhost:42993"
startupRole: FOLLOWER
, old:)]
2023-12-07 16:29:49,705 [s0-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(382)) - s0@group-DE758ED81ED3: set configuration 0: peers:[s0|localhost:36535, s1|localhost:45433, s2|localhost:35843]|listeners:[], old=null
2023-12-07 16:29:49,706 [s0-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s0@group-DE758ED81ED3-SegmentedRaftLogWorker: Starting segment from index:0
2023-12-07 16:29:49,706 [s0@group-DE758ED81ED3-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2023-12-07 16:29:49,709 [s1@group-DE758ED81ED3-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s1@group-DE758ED81ED3-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s1/3c9c547a-185e-4cb7-b958-de758ed81ed3/current/log_inprogress_0
2023-12-07 16:29:49,715 [s2@group-DE758ED81ED3-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s2@group-DE758ED81ED3-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s2/3c9c547a-185e-4cb7-b958-de758ed81ed3/current/log_inprogress_0
2023-12-07 16:29:49,717 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-DE758ED81ED3: succeeded to handle AppendEntries. Reply: s1<-s2#1:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-12-07 16:29:49,717 [s0@group-DE758ED81ED3-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s0@group-DE758ED81ED3-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s0/3c9c547a-185e-4cb7-b958-de758ed81ed3/current/log_inprogress_0
2023-12-07 16:29:49,718 [s1@group-DE758ED81ED3-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s1/3c9c547a-185e-4cb7-b958-de758ed81ed3/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@596f9a6e
2023-12-07 16:29:49,718 [s0-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-DE758ED81ED3: succeeded to handle AppendEntries. Reply: s1<-s0#1:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-12-07 16:29:49,719 [s1@group-DE758ED81ED3-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s1/3c9c547a-185e-4cb7-b958-de758ed81ed3/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s1/3c9c547a-185e-4cb7-b958-de758ed81ed3/current/raft-meta.conf with options [REPLACE_EXISTING]
2023-12-07 16:29:49,719 [s1@group-DE758ED81ED3-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:isApplied(320)) - leader is ready since appliedIndex == 0 >= startIndex == 0
2023-12-07 16:29:49,742 [grpc-default-executor-2] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s0@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:42899
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:49,794 [s0@group-DE758ED81ED3-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s0/3c9c547a-185e-4cb7-b958-de758ed81ed3/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@7846217c
2023-12-07 16:29:49,795 [s2@group-DE758ED81ED3-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s2/3c9c547a-185e-4cb7-b958-de758ed81ed3/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@29bb46ba
2023-12-07 16:29:49,796 [s2@group-DE758ED81ED3-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s2/3c9c547a-185e-4cb7-b958-de758ed81ed3/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s2/3c9c547a-185e-4cb7-b958-de758ed81ed3/current/raft-meta.conf with options [REPLACE_EXISTING]
2023-12-07 16:29:49,796 [s0@group-DE758ED81ED3-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s0/3c9c547a-185e-4cb7-b958-de758ed81ed3/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc4d61cad/s0/3c9c547a-185e-4cb7-b958-de758ed81ed3/current/raft-meta.conf with options [REPLACE_EXISTING]
2023-12-07 16:29:49,845 [grpc-default-executor-7] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s2@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:35469
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:49,948 [grpc-default-executor-7] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s0@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:42899
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:49,975 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-DE758ED81ED3:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-DE758ED81ED3-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:36535, s1|localhost:45433, s2|localhost:35843]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-DE758ED81ED3:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-DE758ED81ED3-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:36535, s1|localhost:45433, s2|localhost:35843]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-DE758ED81ED3:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-DE758ED81ED3-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:36535, s1|localhost:45433, s2|localhost:35843]|listeners:[], old=null RUNNING
2023-12-07 16:29:49,978 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s1@group-DE758ED81ED3: receive client request(RaftClientRequest:client-28A55834CCDE->s1@group-DE758ED81ED3, cid=103, seq=null, RW, Message:494e4352454d454e54)
2023-12-07 16:29:49,978 [s1-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s1@group-DE758ED81ED3-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-28A55834CCDE->s1@group-DE758ED81ED3, cid=103, seq=null, RW, Message:494e4352454d454e54, entry=(t:1, i:1), STATEMACHINELOGENTRY, 103@client-28A55834CCDE
2023-12-07 16:29:49,979 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-DE758ED81ED3: receive appendEntries(s1, 1, (t:1, i:0), 0, true, commits:[s1:c0, s0:c0, s2:c0], cId:7, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 103@client-28A55834CCDE]
2023-12-07 16:29:49,979 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-DE758ED81ED3: receive appendEntries(s1, 1, (t:1, i:0), 0, true, commits:[s1:c0, s0:c0, s2:c0], cId:6, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 103@client-28A55834CCDE]
2023-12-07 16:29:49,979 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-DE758ED81ED3: succeeded to handle AppendEntries. Reply: s1<-s0#7:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2023-12-07 16:29:49,979 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-DE758ED81ED3: succeeded to handle AppendEntries. Reply: s1<-s2#6:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2023-12-07 16:29:49,980 [s1@group-DE758ED81ED3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:49,981 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-DE758ED81ED3: receive appendEntries(s1, 1, (t:1, i:1), 1, true, commits:[s1:c1, s0:c0, s2:c0], cId:8, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2023-12-07 16:29:49,982 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-DE758ED81ED3: succeeded to handle AppendEntries. Reply: s1<-s0#8:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2023-12-07 16:29:49,982 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-DE758ED81ED3: receive appendEntries(s1, 1, (t:1, i:1), 1, true, commits:[s1:c1, s0:c0, s2:c0], cId:7, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2023-12-07 16:29:49,982 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-DE758ED81ED3: succeeded to handle AppendEntries. Reply: s1<-s2#7:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2023-12-07 16:29:49,982 [s2@group-DE758ED81ED3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:49,983 [s0@group-DE758ED81ED3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:49,984 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s1@group-DE758ED81ED3: receive client request(RaftClientRequest:client-28A55834CCDE->s1@group-DE758ED81ED3, cid=104, seq=1*, Watch(0), Message:<EMPTY>)
2023-12-07 16:29:49,984 [s1-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addWatchReqeust(540)) - s1@group-DE758ED81ED3-LeaderStateImpl: addWatchRequest RaftClientRequest:client-28A55834CCDE->s1@group-DE758ED81ED3, cid=104, seq=1*, Watch(0), Message:<EMPTY>
2023-12-07 16:29:49,985 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s1@group-DE758ED81ED3: receive client request(RaftClientRequest:client-28A55834CCDE->s1@group-DE758ED81ED3, cid=105, seq=2, RW, Message:574149545f414e445f49...(size=18))
2023-12-07 16:29:49,986 [s1-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s1@group-DE758ED81ED3-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-28A55834CCDE->s1@group-DE758ED81ED3, cid=105, seq=2, RW, Message:574149545f414e445f49...(size=18), entry=(t:1, i:3), STATEMACHINELOGENTRY, 105@client-28A55834CCDE
2023-12-07 16:29:49,986 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-DE758ED81ED3: receive appendEntries(s1, 1, (t:1, i:2), 2, true, commits:[s1:c2, s0:c1, s2:c1], cId:11, entries: [(t:1, i:3), STATEMACHINELOGENTRY, 105@client-28A55834CCDE]
2023-12-07 16:29:49,986 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-DE758ED81ED3: receive appendEntries(s1, 1, (t:1, i:2), 2, true, commits:[s1:c2, s0:c1, s2:c1], cId:10, entries: [(t:1, i:3), STATEMACHINELOGENTRY, 105@client-28A55834CCDE]
2023-12-07 16:29:49,987 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-DE758ED81ED3: succeeded to handle AppendEntries. Reply: s1<-s0#11:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2023-12-07 16:29:49,987 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-DE758ED81ED3: succeeded to handle AppendEntries. Reply: s1<-s2#10:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2023-12-07 16:29:49,987 [s1@group-DE758ED81ED3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: WAIT_AND_INCREMENT
2023-12-07 16:29:49,988 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-DE758ED81ED3: receive appendEntries(s1, 1, (t:1, i:3), 3, true, commits:[s1:c3, s0:c2, s2:c2], cId:11, entries: [(t:1, i:4), METADATAENTRY(c:3)]
2023-12-07 16:29:49,988 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-DE758ED81ED3: receive appendEntries(s1, 1, (t:1, i:3), 3, true, commits:[s1:c3, s0:c2, s2:c2], cId:12, entries: [(t:1, i:4), METADATAENTRY(c:3)]
2023-12-07 16:29:49,988 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-DE758ED81ED3: succeeded to handle AppendEntries. Reply: s1<-s2#11:OK-t1,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2023-12-07 16:29:49,988 [s2@group-DE758ED81ED3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: WAIT_AND_INCREMENT
2023-12-07 16:29:49,988 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-DE758ED81ED3: succeeded to handle AppendEntries. Reply: s1<-s0#12:OK-t1,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2023-12-07 16:29:49,988 [s0@group-DE758ED81ED3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: WAIT_AND_INCREMENT
2023-12-07 16:29:50,051 [grpc-default-executor-5] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s2@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:35469
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:50,087 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s0@group-DE758ED81ED3: receive client request(RaftClientRequest:client-A341807AC0E7->s0@group-DE758ED81ED3, cid=106, seq=null, RO, Message:5155455259)
2023-12-07 16:29:50,087 [s0-client-thread1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s1
2023-12-07 16:29:50,088 [s1-server-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=4, readAfterWriteConsistentIndex=null
2023-12-07 16:29:50,154 [grpc-default-executor-7] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s0@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:42899
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:50,256 [grpc-default-executor-2] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s2@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:35469
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:50,359 [grpc-default-executor-5] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s1@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:41005
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:50,462 [grpc-default-executor-7] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s2@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:35469
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:50,491 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-12-07 16:29:50,491 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-12-07 16:29:50,491 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2023-12-07 16:29:50,491 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-12-07 16:29:50,491 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-12-07 16:29:50,491 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-DE758ED81ED3:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-DE758ED81ED3-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|localhost:36535, s1|localhost:45433, s2|localhost:35843]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-DE758ED81ED3:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-DE758ED81ED3-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|localhost:36535, s1|localhost:45433, s2|localhost:35843]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-DE758ED81ED3:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-DE758ED81ED3-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|localhost:36535, s1|localhost:45433, s2|localhost:35843]|listeners:[], old=null RUNNING
2023-12-07 16:29:50,491 [MiniRaftCluster-46] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(416)) - s0: close
2023-12-07 16:29:50,491 [MiniRaftCluster-47] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(416)) - s1: close
2023-12-07 16:29:50,492 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$3(516)) - s1@group-DE758ED81ED3: shutdown
2023-12-07 16:29:50,492 [MiniRaftCluster-47] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-12-07 16:29:50,492 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-DE758ED81ED3,id=s1
2023-12-07 16:29:50,492 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(94)) - s1: shutdown s1@group-DE758ED81ED3-LeaderStateImpl
2023-12-07 16:29:50,492 [MiniRaftCluster-46] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-12-07 16:29:50,492 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$3(516)) - s0@group-DE758ED81ED3: shutdown
2023-12-07 16:29:50,492 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-DE758ED81ED3,id=s0
2023-12-07 16:29:50,492 [s1@group-DE758ED81ED3->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(279)) - s1@group-DE758ED81ED3->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2023-12-07 16:29:50,492 [s1@group-DE758ED81ED3->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(279)) - s1@group-DE758ED81ED3->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2023-12-07 16:29:50,492 [Thread-723] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(103)) - s0 Close channels
2023-12-07 16:29:50,492 [MiniRaftCluster-48] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(416)) - s2: close
2023-12-07 16:29:50,492 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-DE758ED81ED3-FollowerState
2023-12-07 16:29:50,492 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s0@group-DE758ED81ED3-StateMachineUpdater: set stopIndex = 4
2023-12-07 16:29:50,492 [s1-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(289)) - s1@group-DE758ED81ED3-PendingRequests: sendNotLeaderResponses
2023-12-07 16:29:50,492 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(157)) - s0: Completed APPEND_ENTRIES, lastRequest: s1->s0#12-t1,previous=(t:1, i:3),leaderCommit=3,initializing? true,entries: size=1, first=(t:1, i:4), METADATAENTRY(c:3)
2023-12-07 16:29:50,492 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$5(159)) - s0: Completed APPEND_ENTRIES, lastReply: null
2023-12-07 16:29:50,492 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(423)) - s0@group-DE758ED81ED3: applyIndex: 4
2023-12-07 16:29:50,492 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(157)) - s2: Completed APPEND_ENTRIES, lastRequest: null
2023-12-07 16:29:50,492 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(157)) - s0: Completed APPEND_ENTRIES, lastRequest: null
2023-12-07 16:29:50,493 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(157)) - s2: Completed APPEND_ENTRIES, lastRequest: s1->s2#11-t1,previous=(t:1, i:3),leaderCommit=3,initializing? true,entries: size=1, first=(t:1, i:4), METADATAENTRY(c:3)
2023-12-07 16:29:50,493 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$5(159)) - s2: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s1"
  replyId: "s2"
  raftGroupId {
    id: "<\234Tz\030^L\267\271X\336u\216\330\036\323"
  }
  callId: 22
  success: true
}
term: 1
nextIndex: 5
followerCommit: 4
matchIndex: 18446744073709551615
isHearbeat: true

2023-12-07 16:29:50,493 [grpc-default-executor-3] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(534)) - s1@group-DE758ED81ED3->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-12-07 16:29:50,493 [grpc-default-executor-3] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(216)) - s1@group-DE758ED81ED3->s0-GrpcLogAppender: Failed to getClient for s0
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s1 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:65)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:114)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:188)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:193)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$700(GrpcLogAppender.java:61)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:535)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:50,493 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(534)) - s1@group-DE758ED81ED3->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-12-07 16:29:50,492 [s0@group-DE758ED81ED3-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-DE758ED81ED3-FollowerState was interrupted
2023-12-07 16:29:50,493 [s0@group-DE758ED81ED3-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-DE758ED81ED3-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2023-12-07 16:29:50,493 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$5(159)) - s0: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s1"
  replyId: "s0"
  raftGroupId {
    id: "<\234Tz\030^L\267\271X\336u\216\330\036\323"
  }
  callId: 20
  success: true
}
term: 1
nextIndex: 5
followerCommit: 4
matchIndex: 18446744073709551615
isHearbeat: true

2023-12-07 16:29:50,493 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$5(159)) - s2: Completed APPEND_ENTRIES, lastReply: null
2023-12-07 16:29:50,493 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(534)) - s1@group-DE758ED81ED3->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-12-07 16:29:50,493 [grpc-default-executor-5] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(216)) - s1@group-DE758ED81ED3->s0-GrpcLogAppender: Failed to getClient for s0
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s1 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:65)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:114)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:188)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:193)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$700(GrpcLogAppender.java:61)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:535)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:50,493 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(534)) - s1@group-DE758ED81ED3->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-12-07 16:29:50,494 [Thread-727] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(103)) - s1 Close channels
2023-12-07 16:29:50,495 [MiniRaftCluster-48] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-12-07 16:29:50,495 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$3(516)) - s2@group-DE758ED81ED3: shutdown
2023-12-07 16:29:50,496 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-DE758ED81ED3,id=s2
2023-12-07 16:29:50,496 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-DE758ED81ED3-FollowerState
2023-12-07 16:29:50,496 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s2@group-DE758ED81ED3-StateMachineUpdater: set stopIndex = 4
2023-12-07 16:29:50,496 [s2@group-DE758ED81ED3-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-DE758ED81ED3-FollowerState was interrupted
2023-12-07 16:29:50,496 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s1@group-DE758ED81ED3-StateMachineUpdater: set stopIndex = 4
2023-12-07 16:29:50,496 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(423)) - s1@group-DE758ED81ED3: applyIndex: 4
2023-12-07 16:29:50,496 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(423)) - s2@group-DE758ED81ED3: applyIndex: 4
2023-12-07 16:29:50,496 [s1@group-DE758ED81ED3-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s1@group-DE758ED81ED3-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2023-12-07 16:29:50,496 [s2@group-DE758ED81ED3-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s2@group-DE758ED81ED3-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2023-12-07 16:29:50,496 [MiniRaftCluster-48] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-12-07 16:29:50,496 [MiniRaftCluster-48] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server GrpcServerProtocolService now
2023-12-07 16:29:50,496 [MiniRaftCluster-46] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-12-07 16:29:50,496 [MiniRaftCluster-46] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server GrpcServerProtocolService now
2023-12-07 16:29:50,497 [MiniRaftCluster-48] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server GrpcServerProtocolService successfully
2023-12-07 16:29:50,497 [MiniRaftCluster-48] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-12-07 16:29:50,498 [MiniRaftCluster-46] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server GrpcServerProtocolService successfully
2023-12-07 16:29:50,498 [MiniRaftCluster-46] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-12-07 16:29:50,501 [MiniRaftCluster-48] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-12-07 16:29:50,505 [MiniRaftCluster-46] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-12-07 16:29:50,506 [Thread-726] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(103)) - s2 Close channels
2023-12-07 16:29:50,506 [MiniRaftCluster-47] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-12-07 16:29:50,506 [MiniRaftCluster-47] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server GrpcServerProtocolService now
2023-12-07 16:29:50,506 [MiniRaftCluster-47] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server GrpcServerProtocolService successfully
2023-12-07 16:29:50,507 [MiniRaftCluster-47] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-12-07 16:29:50,507 [MiniRaftCluster-47] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-12-07 16:29:50,564 [grpc-default-executor-4] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s0@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:42899
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:50,665 [grpc-default-executor-5] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s1@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:41005
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:50,767 [grpc-default-executor-7] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s2@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:35469
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:50,869 [grpc-default-executor-4] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s1@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:41005
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:50,971 [grpc-default-executor-5] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s0@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:42899
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:50,989 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s1@group-DE758ED81ED3-SegmentedRaftLogWorker close()
2023-12-07 16:29:50,989 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s2@group-DE758ED81ED3-SegmentedRaftLogWorker close()
2023-12-07 16:29:50,989 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s0@group-DE758ED81ED3-SegmentedRaftLogWorker close()
2023-12-07 16:29:50,989 [JvmPauseMonitor25] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s1: Stopped
2023-12-07 16:29:50,990 [JvmPauseMonitor26] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s2: Stopped
2023-12-07 16:29:50,991 [JvmPauseMonitor24] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2023-12-07 16:29:50,991 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2023-12-07 16:29:50,991 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-12-07 16:29:50,991 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-12-07 16:29:50,991 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2023-12-07 16:29:50,991 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-12-07 16:29:50,991 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-12-07 16:29:50,991 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:   CLOSED  FOLLOWER s0@group-DE758ED81ED3:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-DE758ED81ED3-SegmentedRaftLog:CLOSED:c4, conf=0: peers:[s0|localhost:36535, s1|localhost:45433, s2|localhost:35843]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-DE758ED81ED3:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-DE758ED81ED3-SegmentedRaftLog:CLOSED:c4, conf=0: peers:[s0|localhost:36535, s1|localhost:45433, s2|localhost:35843]|listeners:[], old=null CLOSED
  s2:   CLOSED  FOLLOWER s2@group-DE758ED81ED3:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-DE758ED81ED3-SegmentedRaftLog:CLOSED:c4, conf=0: peers:[s0|localhost:36535, s1|localhost:45433, s2|localhost:35843]|listeners:[], old=null CLOSED
2023-12-07 16:29:50,992 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2023-12-07 16:29:50,992 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-12-07 16:29:50,992 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-12-07 16:29:50,992 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2023-12-07 16:29:50,993 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2023-12-07 16:29:50,993 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-9C79C66A6AC3:[s0|localhost:37297, s1|localhost:42805, s2|localhost:33499]
2023-12-07 16:29:50,993 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-12-07 16:29:50,993 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-12-07 16:29:50,993 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2023-12-07 16:29:50,993 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-12-07 16:29:50,993 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-12-07 16:29:50,993 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-12-07 16:29:50,993 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-9C79C66A6AC3:[s0|localhost:37297, s1|localhost:42805, s2|localhost:33499], format? true
2023-12-07 16:29:50,993 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s0
2023-12-07 16:29:50,993 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s0 does not exist.
2023-12-07 16:29:50,993 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s0
2023-12-07 16:29:50,993 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-12-07 16:29:50,994 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:50,994 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 45331 (custom)
2023-12-07 16:29:50,994 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:50,994 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 42171 (custom)
2023-12-07 16:29:50,994 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-12-07 16:29:50,994 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 37297 (custom)
2023-12-07 16:29:50,994 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-12-07 16:29:50,994 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:50,994 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-12-07 16:29:50,994 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:50,994 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:50,994 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-12-07 16:29:50,994 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-12-07 16:29:50,995 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-12-07 16:29:50,995 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:50,995 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2023-12-07 16:29:50,995 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:50,995 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s0] (custom)
2023-12-07 16:29:50,995 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-12-07 16:29:50,995 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-12-07 16:29:50,995 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(100)) - s0: addNew group-9C79C66A6AC3:[s0|localhost:37297, s1|localhost:42805, s2|localhost:33499] returns group-9C79C66A6AC3:java.util.concurrent.CompletableFuture@5d375f4d[Not completed]
2023-12-07 16:29:50,996 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-9C79C66A6AC3:[s0|localhost:37297, s1|localhost:42805, s2|localhost:33499], format? true
2023-12-07 16:29:50,996 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s1
2023-12-07 16:29:50,996 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s0: new RaftServerImpl for group-9C79C66A6AC3:[s0|localhost:37297, s1|localhost:42805, s2|localhost:33499] with CounterStateMachine:uninitialized
2023-12-07 16:29:50,996 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s1 does not exist.
2023-12-07 16:29:50,996 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s1
2023-12-07 16:29:50,996 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-12-07 16:29:50,996 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-12-07 16:29:50,996 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-12-07 16:29:50,996 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-12-07 16:29:50,996 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-12-07 16:29:50,996 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:50,996 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:50,996 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2023-12-07 16:29:50,996 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 38113 (custom)
2023-12-07 16:29:50,996 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:50,996 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:50,996 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-9C79C66A6AC3: ConfigurationManager, init=-1: peers:[s0|localhost:37297, s1|localhost:42805, s2|localhost:33499]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-12-07 16:29:50,996 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 36523 (custom)
2023-12-07 16:29:50,996 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-12-07 16:29:50,996 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-12-07 16:29:50,996 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-12-07 16:29:50,996 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 42805 (custom)
2023-12-07 16:29:50,996 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-12-07 16:29:50,996 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-12-07 16:29:50,996 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2023-12-07 16:29:50,996 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:50,996 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-12-07 16:29:50,997 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = LINEARIZABLE (custom)
2023-12-07 16:29:50,997 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:50,997 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2023-12-07 16:29:50,997 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:50,997 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-12-07 16:29:50,997 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-12-07 16:29:50,997 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:50,997 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:50,997 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-12-07 16:29:50,997 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-12-07 16:29:50,997 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-12-07 16:29:50,998 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-12-07 16:29:50,998 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-12-07 16:29:50,998 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:50,998 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2023-12-07 16:29:50,998 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:50,998 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s1] (custom)
2023-12-07 16:29:50,998 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-12-07 16:29:50,998 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-12-07 16:29:50,998 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(100)) - s1: addNew group-9C79C66A6AC3:[s0|localhost:37297, s1|localhost:42805, s2|localhost:33499] returns group-9C79C66A6AC3:java.util.concurrent.CompletableFuture@5a32513e[Not completed]
2023-12-07 16:29:50,998 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-9C79C66A6AC3:[s0|localhost:37297, s1|localhost:42805, s2|localhost:33499], format? true
2023-12-07 16:29:50,998 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s2
2023-12-07 16:29:50,998 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s1: new RaftServerImpl for group-9C79C66A6AC3:[s0|localhost:37297, s1|localhost:42805, s2|localhost:33499] with CounterStateMachine:uninitialized
2023-12-07 16:29:50,998 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-12-07 16:29:50,998 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s2 does not exist.
2023-12-07 16:29:50,999 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s2
2023-12-07 16:29:50,998 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-12-07 16:29:50,999 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-12-07 16:29:50,999 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-12-07 16:29:50,999 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:50,999 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2023-12-07 16:29:50,999 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:50,999 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-12-07 16:29:50,999 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-9C79C66A6AC3: ConfigurationManager, init=-1: peers:[s0|localhost:37297, s1|localhost:42805, s2|localhost:33499]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-12-07 16:29:50,999 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:50,999 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-12-07 16:29:50,999 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 34057 (custom)
2023-12-07 16:29:50,999 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-12-07 16:29:50,999 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:50,999 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-12-07 16:29:50,999 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 46647 (custom)
2023-12-07 16:29:50,999 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2023-12-07 16:29:50,999 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-12-07 16:29:50,999 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = LINEARIZABLE (custom)
2023-12-07 16:29:50,999 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 33499 (custom)
2023-12-07 16:29:50,999 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2023-12-07 16:29:50,999 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-12-07 16:29:50,999 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:50,999 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-12-07 16:29:50,999 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:51,000 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:51,000 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-12-07 16:29:51,000 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-12-07 16:29:51,000 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:51,000 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:51,000 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-12-07 16:29:51,000 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-12-07 16:29:51,000 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-12-07 16:29:51,000 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-12-07 16:29:51,000 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-12-07 16:29:51,000 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:51,000 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2023-12-07 16:29:51,001 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:51,001 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s2] (custom)
2023-12-07 16:29:51,001 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-12-07 16:29:51,001 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-12-07 16:29:51,001 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(100)) - s2: addNew group-9C79C66A6AC3:[s0|localhost:37297, s1|localhost:42805, s2|localhost:33499] returns group-9C79C66A6AC3:java.util.concurrent.CompletableFuture@945d298[Not completed]
2023-12-07 16:29:51,001 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s2: new RaftServerImpl for group-9C79C66A6AC3:[s0|localhost:37297, s1|localhost:42805, s2|localhost:33499] with CounterStateMachine:uninitialized
2023-12-07 16:29:51,001 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-12-07 16:29:51,001 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-12-07 16:29:51,001 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-12-07 16:29:51,001 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-12-07 16:29:51,001 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-12-07 16:29:51,001 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-12-07 16:29:51,001 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s0] (custom)
2023-12-07 16:29:51,001 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:51,001 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2023-12-07 16:29:51,001 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:51,001 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s0/b080c65a-f26b-493d-83c6-9c79c66a6ac3 does not exist. Creating ...
2023-12-07 16:29:51,001 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-9C79C66A6AC3: ConfigurationManager, init=-1: peers:[s0|localhost:37297, s1|localhost:42805, s2|localhost:33499]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-12-07 16:29:51,002 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-12-07 16:29:51,002 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-12-07 16:29:51,002 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-12-07 16:29:51,002 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2023-12-07 16:29:51,002 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = LINEARIZABLE (custom)
2023-12-07 16:29:51,002 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2023-12-07 16:29:51,002 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s0/b080c65a-f26b-493d-83c6-9c79c66a6ac3
2023-12-07 16:29:51,002 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:51,002 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:51,002 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-12-07 16:29:51,002 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-12-07 16:29:51,002 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-12-07 16:29:51,003 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-12-07 16:29:51,003 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s0/b080c65a-f26b-493d-83c6-9c79c66a6ac3/in_use.lock acquired by nodename 9497@fv-az527-45
2023-12-07 16:29:51,003 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s0/b080c65a-f26b-493d-83c6-9c79c66a6ac3/current
2023-12-07 16:29:51,003 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s0/b080c65a-f26b-493d-83c6-9c79c66a6ac3/sm
2023-12-07 16:29:51,003 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s0/b080c65a-f26b-493d-83c6-9c79c66a6ac3/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@77c23688
2023-12-07 16:29:51,003 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s0/b080c65a-f26b-493d-83c6-9c79c66a6ac3/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s0/b080c65a-f26b-493d-83c6-9c79c66a6ac3/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:51,004 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s0/b080c65a-f26b-493d-83c6-9c79c66a6ac3 has been successfully formatted.
2023-12-07 16:29:51,004 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s0/b080c65a-f26b-493d-83c6-9c79c66a6ac3/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s0/b080c65a-f26b-493d-83c6-9c79c66a6ac3/current/raft-meta.conf
	at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:92)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:116)
	at java.base/sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:219)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:371)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:422)
	at java.base/java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:420)
	at java.base/java.nio.file.Files.newInputStream(Files.java:156)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:388)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:182)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:51,004 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-12-07 16:29:51,004 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-12-07 16:29:51,004 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:51,004 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-12-07 16:29:51,004 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-12-07 16:29:51,004 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:51,004 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-12-07 16:29:51,004 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-12-07 16:29:51,004 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:51,004 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-9C79C66A6AC3-cacheEviction-AwaitToRun,5,main] started
2023-12-07 16:29:51,004 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s0@group-9C79C66A6AC3-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s0/b080c65a-f26b-493d-83c6-9c79c66a6ac3
2023-12-07 16:29:51,004 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-12-07 16:29:51,004 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-12-07 16:29:51,004 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:51,005 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-12-07 16:29:51,005 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-12-07 16:29:51,005 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-12-07 16:29:51,005 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-12-07 16:29:51,005 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-12-07 16:29:51,005 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2023-12-07 16:29:51,006 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:51,006 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-12-07 16:29:51,006 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-12-07 16:29:51,006 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-12-07 16:29:51,006 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-9C79C66A6AC3-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:51,006 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-9C79C66A6AC3-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:51,006 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s0@group-9C79C66A6AC3: start as a follower, conf=-1: peers:[s0|localhost:37297, s1|localhost:42805, s2|localhost:33499]|listeners:[], old=null
2023-12-07 16:29:51,006 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-9C79C66A6AC3: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-12-07 16:29:51,007 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-9C79C66A6AC3-FollowerState
2023-12-07 16:29:51,007 [s0@group-9C79C66A6AC3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:51,007 [s0@group-9C79C66A6AC3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:51,007 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-9C79C66A6AC3,id=s0
2023-12-07 16:29:51,007 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2023-12-07 16:29:51,007 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-12-07 16:29:51,007 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-12-07 16:29:51,007 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-12-07 16:29:51,008 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(406)) - s0: start RPC server
2023-12-07 16:29:51,008 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 42171
2023-12-07 16:29:51,009 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 37297
2023-12-07 16:29:51,009 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 45331
2023-12-07 16:29:51,009 [JvmPauseMonitor27] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2023-12-07 16:29:51,009 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-12-07 16:29:51,009 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-12-07 16:29:51,009 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s1] (custom)
2023-12-07 16:29:51,009 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s1/b080c65a-f26b-493d-83c6-9c79c66a6ac3 does not exist. Creating ...
2023-12-07 16:29:51,009 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s1/b080c65a-f26b-493d-83c6-9c79c66a6ac3
2023-12-07 16:29:51,010 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s1/b080c65a-f26b-493d-83c6-9c79c66a6ac3/in_use.lock acquired by nodename 9497@fv-az527-45
2023-12-07 16:29:51,010 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s1/b080c65a-f26b-493d-83c6-9c79c66a6ac3/current
2023-12-07 16:29:51,010 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s1/b080c65a-f26b-493d-83c6-9c79c66a6ac3/sm
2023-12-07 16:29:51,010 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s1/b080c65a-f26b-493d-83c6-9c79c66a6ac3/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@48dfa9db
2023-12-07 16:29:51,011 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s1/b080c65a-f26b-493d-83c6-9c79c66a6ac3/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s1/b080c65a-f26b-493d-83c6-9c79c66a6ac3/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:51,011 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s1/b080c65a-f26b-493d-83c6-9c79c66a6ac3 has been successfully formatted.
2023-12-07 16:29:51,011 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s1/b080c65a-f26b-493d-83c6-9c79c66a6ac3/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s1/b080c65a-f26b-493d-83c6-9c79c66a6ac3/current/raft-meta.conf
	at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:92)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:116)
	at java.base/sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:219)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:371)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:422)
	at java.base/java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:420)
	at java.base/java.nio.file.Files.newInputStream(Files.java:156)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:388)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:182)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:51,011 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-12-07 16:29:51,011 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-12-07 16:29:51,011 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:51,011 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-12-07 16:29:51,011 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-12-07 16:29:51,011 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:51,011 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-12-07 16:29:51,012 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-12-07 16:29:51,012 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:51,012 [s1-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s1@group-9C79C66A6AC3-cacheEviction-AwaitToRun,5,main] started
2023-12-07 16:29:51,012 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s1@group-9C79C66A6AC3-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s1/b080c65a-f26b-493d-83c6-9c79c66a6ac3
2023-12-07 16:29:51,012 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-12-07 16:29:51,012 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-12-07 16:29:51,012 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:51,012 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-12-07 16:29:51,012 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-12-07 16:29:51,012 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-12-07 16:29:51,012 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-12-07 16:29:51,012 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-12-07 16:29:51,012 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2023-12-07 16:29:51,013 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:51,013 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-12-07 16:29:51,013 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-12-07 16:29:51,013 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-12-07 16:29:51,013 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-9C79C66A6AC3-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:51,013 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-9C79C66A6AC3-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:51,014 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s1@group-9C79C66A6AC3: start as a follower, conf=-1: peers:[s0|localhost:37297, s1|localhost:42805, s2|localhost:33499]|listeners:[], old=null
2023-12-07 16:29:51,014 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-9C79C66A6AC3: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-12-07 16:29:51,014 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-9C79C66A6AC3-FollowerState
2023-12-07 16:29:51,014 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-9C79C66A6AC3,id=s1
2023-12-07 16:29:51,014 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2023-12-07 16:29:51,014 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-12-07 16:29:51,014 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-12-07 16:29:51,014 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-12-07 16:29:51,014 [s1@group-9C79C66A6AC3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:51,014 [s1@group-9C79C66A6AC3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:51,014 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(406)) - s1: start RPC server
2023-12-07 16:29:51,014 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 36523
2023-12-07 16:29:51,015 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 42805
2023-12-07 16:29:51,015 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 38113
2023-12-07 16:29:51,015 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-12-07 16:29:51,015 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-12-07 16:29:51,015 [JvmPauseMonitor28] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s1: Started
2023-12-07 16:29:51,015 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s2] (custom)
2023-12-07 16:29:51,015 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s2/b080c65a-f26b-493d-83c6-9c79c66a6ac3 does not exist. Creating ...
2023-12-07 16:29:51,015 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s2/b080c65a-f26b-493d-83c6-9c79c66a6ac3
2023-12-07 16:29:51,016 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s2/b080c65a-f26b-493d-83c6-9c79c66a6ac3/in_use.lock acquired by nodename 9497@fv-az527-45
2023-12-07 16:29:51,016 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s2/b080c65a-f26b-493d-83c6-9c79c66a6ac3/current
2023-12-07 16:29:51,016 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s2/b080c65a-f26b-493d-83c6-9c79c66a6ac3/sm
2023-12-07 16:29:51,016 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s2/b080c65a-f26b-493d-83c6-9c79c66a6ac3/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@34f3c84
2023-12-07 16:29:51,017 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s2/b080c65a-f26b-493d-83c6-9c79c66a6ac3/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s2/b080c65a-f26b-493d-83c6-9c79c66a6ac3/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:51,017 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s2/b080c65a-f26b-493d-83c6-9c79c66a6ac3 has been successfully formatted.
2023-12-07 16:29:51,017 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s2/b080c65a-f26b-493d-83c6-9c79c66a6ac3/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s2/b080c65a-f26b-493d-83c6-9c79c66a6ac3/current/raft-meta.conf
	at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:92)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:116)
	at java.base/sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:219)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:371)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:422)
	at java.base/java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:420)
	at java.base/java.nio.file.Files.newInputStream(Files.java:156)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:388)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:182)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:51,017 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-12-07 16:29:51,017 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-12-07 16:29:51,017 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:51,017 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-12-07 16:29:51,017 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-12-07 16:29:51,017 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:51,017 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-12-07 16:29:51,017 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-12-07 16:29:51,017 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:51,017 [s2-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s2@group-9C79C66A6AC3-cacheEviction-AwaitToRun,5,main] started
2023-12-07 16:29:51,018 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s2@group-9C79C66A6AC3-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s2/b080c65a-f26b-493d-83c6-9c79c66a6ac3
2023-12-07 16:29:51,018 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-12-07 16:29:51,018 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-12-07 16:29:51,018 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:51,018 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-12-07 16:29:51,018 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-12-07 16:29:51,018 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-12-07 16:29:51,018 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-12-07 16:29:51,018 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-12-07 16:29:51,018 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2023-12-07 16:29:51,019 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:51,019 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-12-07 16:29:51,019 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-12-07 16:29:51,019 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-12-07 16:29:51,019 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-9C79C66A6AC3-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:51,019 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-9C79C66A6AC3-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:51,019 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s2@group-9C79C66A6AC3: start as a follower, conf=-1: peers:[s0|localhost:37297, s1|localhost:42805, s2|localhost:33499]|listeners:[], old=null
2023-12-07 16:29:51,019 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-9C79C66A6AC3: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-12-07 16:29:51,019 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-9C79C66A6AC3-FollowerState
2023-12-07 16:29:51,019 [s2@group-9C79C66A6AC3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:51,020 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-9C79C66A6AC3,id=s2
2023-12-07 16:29:51,020 [s2@group-9C79C66A6AC3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:51,020 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2023-12-07 16:29:51,020 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-12-07 16:29:51,020 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-12-07 16:29:51,020 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-12-07 16:29:51,020 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(406)) - s2: start RPC server
2023-12-07 16:29:51,020 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 46647
2023-12-07 16:29:51,020 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 33499
2023-12-07 16:29:51,020 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 34057
2023-12-07 16:29:51,021 [JvmPauseMonitor29] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s2: Started
2023-12-07 16:29:51,021 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-12-07 16:29:51,021 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-9C79C66A6AC3:t0, leader=null, voted=, raftlog=Memoized:s0@group-9C79C66A6AC3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:37297, s1|localhost:42805, s2|localhost:33499]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-9C79C66A6AC3:t0, leader=null, voted=, raftlog=Memoized:s1@group-9C79C66A6AC3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:37297, s1|localhost:42805, s2|localhost:33499]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-9C79C66A6AC3:t0, leader=null, voted=, raftlog=Memoized:s2@group-9C79C66A6AC3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:37297, s1|localhost:42805, s2|localhost:33499]|listeners:[], old=null RUNNING
2023-12-07 16:29:51,021 [Time-limited test] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(119)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-9C79C66A6AC3:t0, leader=null, voted=, raftlog=Memoized:s0@group-9C79C66A6AC3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:37297, s1|localhost:42805, s2|localhost:33499]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-9C79C66A6AC3:t0, leader=null, voted=, raftlog=Memoized:s1@group-9C79C66A6AC3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:37297, s1|localhost:42805, s2|localhost:33499]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-9C79C66A6AC3:t0, leader=null, voted=, raftlog=Memoized:s2@group-9C79C66A6AC3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:37297, s1|localhost:42805, s2|localhost:33499]|listeners:[], old=null RUNNING
2023-12-07 16:29:51,074 [grpc-default-executor-7] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s2@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:35469
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:51,176 [grpc-default-executor-4] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s0@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:42899
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:51,189 [s2@group-9C79C66A6AC3-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-9C79C66A6AC3-FollowerState: change to CANDIDATE, lastRpcElapsedTime:169283663ns, electionTimeout:169ms
2023-12-07 16:29:51,189 [s2@group-9C79C66A6AC3-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-9C79C66A6AC3-FollowerState
2023-12-07 16:29:51,189 [s2@group-9C79C66A6AC3-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-9C79C66A6AC3: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-12-07 16:29:51,189 [s2@group-9C79C66A6AC3-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-12-07 16:29:51,189 [s2@group-9C79C66A6AC3-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-9C79C66A6AC3-LeaderElection15
2023-12-07 16:29:51,190 [s2@group-9C79C66A6AC3-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s2@group-9C79C66A6AC3-LeaderElection15 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|localhost:37297, s1|localhost:42805, s2|localhost:33499]|listeners:[], old=null
2023-12-07 16:29:51,190 [s2@group-9C79C66A6AC3-LeaderElection15-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s0
2023-12-07 16:29:51,190 [s2@group-9C79C66A6AC3-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:51,190 [s2@group-9C79C66A6AC3-LeaderElection15-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s1
2023-12-07 16:29:51,190 [s2@group-9C79C66A6AC3-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:51,193 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s1@group-9C79C66A6AC3: receive requestVote(PRE_VOTE, s2, group-9C79C66A6AC3, 0, (t:0, i:0))
2023-12-07 16:29:51,193 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s0@group-9C79C66A6AC3: receive requestVote(PRE_VOTE, s2, group-9C79C66A6AC3, 0, (t:0, i:0))
2023-12-07 16:29:51,193 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-9C79C66A6AC3-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-12-07 16:29:51,193 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-9C79C66A6AC3-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-12-07 16:29:51,193 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s1@group-9C79C66A6AC3 replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-9C79C66A6AC3:t0, leader=null, voted=, raftlog=Memoized:s1@group-9C79C66A6AC3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:37297, s1|localhost:42805, s2|localhost:33499]|listeners:[], old=null
2023-12-07 16:29:51,193 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s0@group-9C79C66A6AC3 replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-9C79C66A6AC3:t0, leader=null, voted=, raftlog=Memoized:s0@group-9C79C66A6AC3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:37297, s1|localhost:42805, s2|localhost:33499]|listeners:[], old=null
2023-12-07 16:29:51,193 [s2@group-9C79C66A6AC3-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-9C79C66A6AC3-LeaderElection15: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-12-07 16:29:51,193 [s2@group-9C79C66A6AC3-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t0
2023-12-07 16:29:51,193 [s2@group-9C79C66A6AC3-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s2@group-9C79C66A6AC3-LeaderElection15 PRE_VOTE round 0: result PASSED
2023-12-07 16:29:51,194 [s2@group-9C79C66A6AC3-LeaderElection15] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s2/b080c65a-f26b-493d-83c6-9c79c66a6ac3/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2aa76c96
2023-12-07 16:29:51,194 [s2@group-9C79C66A6AC3-LeaderElection15] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s2/b080c65a-f26b-493d-83c6-9c79c66a6ac3/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s2/b080c65a-f26b-493d-83c6-9c79c66a6ac3/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:51,194 [s2@group-9C79C66A6AC3-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s2@group-9C79C66A6AC3-LeaderElection15 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|localhost:37297, s1|localhost:42805, s2|localhost:33499]|listeners:[], old=null
2023-12-07 16:29:51,195 [s2@group-9C79C66A6AC3-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:51,195 [s2@group-9C79C66A6AC3-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:51,195 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s0@group-9C79C66A6AC3: receive requestVote(ELECTION, s2, group-9C79C66A6AC3, 1, (t:0, i:0))
2023-12-07 16:29:51,195 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-9C79C66A6AC3-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2023-12-07 16:29:51,195 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-9C79C66A6AC3: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2023-12-07 16:29:51,195 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-9C79C66A6AC3-FollowerState
2023-12-07 16:29:51,195 [s0@group-9C79C66A6AC3-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-9C79C66A6AC3-FollowerState was interrupted
2023-12-07 16:29:51,195 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-9C79C66A6AC3-FollowerState
2023-12-07 16:29:51,195 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(564)) - s0@group-9C79C66A6AC3: set firstElectionSinceStartup to false for candidate:s2
2023-12-07 16:29:51,196 [grpc-default-executor-5] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s0/b080c65a-f26b-493d-83c6-9c79c66a6ac3/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@3adf3aa0
2023-12-07 16:29:51,196 [grpc-default-executor-5] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s0/b080c65a-f26b-493d-83c6-9c79c66a6ac3/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s0/b080c65a-f26b-493d-83c6-9c79c66a6ac3/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:51,196 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s0@group-9C79C66A6AC3 replies to ELECTION vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-9C79C66A6AC3:t1, leader=null, voted=s2, raftlog=Memoized:s0@group-9C79C66A6AC3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:37297, s1|localhost:42805, s2|localhost:33499]|listeners:[], old=null
2023-12-07 16:29:51,197 [s2@group-9C79C66A6AC3-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-9C79C66A6AC3-LeaderElection15: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-12-07 16:29:51,197 [s2@group-9C79C66A6AC3-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t1
2023-12-07 16:29:51,197 [s2@group-9C79C66A6AC3-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s2@group-9C79C66A6AC3-LeaderElection15 ELECTION round 0: result PASSED
2023-12-07 16:29:51,197 [s2@group-9C79C66A6AC3-LeaderElection15] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-9C79C66A6AC3-LeaderElection15
2023-12-07 16:29:51,197 [s2@group-9C79C66A6AC3-LeaderElection15] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-9C79C66A6AC3: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-12-07 16:29:51,197 [s2@group-9C79C66A6AC3-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-12-07 16:29:51,197 [s2@group-9C79C66A6AC3-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-12-07 16:29:51,197 [s2@group-9C79C66A6AC3-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2023-12-07 16:29:51,197 [s2@group-9C79C66A6AC3-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-12-07 16:29:51,197 [s2@group-9C79C66A6AC3-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-12-07 16:29:51,197 [s2@group-9C79C66A6AC3-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-12-07 16:29:51,197 [s2@group-9C79C66A6AC3-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = true (custom)
2023-12-07 16:29:51,197 [s2@group-9C79C66A6AC3-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2023-12-07 16:29:51,197 [s2@group-9C79C66A6AC3-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-12-07 16:29:51,197 [s2@group-9C79C66A6AC3-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-12-07 16:29:51,197 [s2@group-9C79C66A6AC3-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-12-07 16:29:51,197 [s2@group-9C79C66A6AC3-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-12-07 16:29:51,197 [s2@group-9C79C66A6AC3-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:51,197 [s2@group-9C79C66A6AC3-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-12-07 16:29:51,197 [s2@group-9C79C66A6AC3-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2023-12-07 16:29:51,197 [s2@group-9C79C66A6AC3-LeaderElection15] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2023-12-07 16:29:51,197 [s2@group-9C79C66A6AC3-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:51,198 [s2@group-9C79C66A6AC3-LeaderElection15] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2023-12-07 16:29:51,198 [s2@group-9C79C66A6AC3-LeaderElection15] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2023-12-07 16:29:51,198 [s2@group-9C79C66A6AC3-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:51,198 [s2@group-9C79C66A6AC3-LeaderElection15] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:51,198 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s1@group-9C79C66A6AC3: receive requestVote(ELECTION, s2, group-9C79C66A6AC3, 1, (t:0, i:0))
2023-12-07 16:29:51,198 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-9C79C66A6AC3-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2023-12-07 16:29:51,198 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-9C79C66A6AC3: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2023-12-07 16:29:51,198 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-9C79C66A6AC3-FollowerState
2023-12-07 16:29:51,198 [s2@group-9C79C66A6AC3-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-12-07 16:29:51,198 [s1@group-9C79C66A6AC3-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-9C79C66A6AC3-FollowerState was interrupted
2023-12-07 16:29:51,198 [s2@group-9C79C66A6AC3-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:51,198 [s2@group-9C79C66A6AC3-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-12-07 16:29:51,198 [s2@group-9C79C66A6AC3-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2023-12-07 16:29:51,198 [s2@group-9C79C66A6AC3-LeaderElection15] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2023-12-07 16:29:51,198 [s2@group-9C79C66A6AC3-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:51,198 [s2@group-9C79C66A6AC3-LeaderElection15] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2023-12-07 16:29:51,198 [s2@group-9C79C66A6AC3-LeaderElection15] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2023-12-07 16:29:51,199 [s2@group-9C79C66A6AC3-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:51,199 [s2@group-9C79C66A6AC3-LeaderElection15] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:51,199 [s2@group-9C79C66A6AC3-LeaderElection15] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-9C79C66A6AC3-LeaderStateImpl
2023-12-07 16:29:51,199 [s2@group-9C79C66A6AC3-LeaderElection15] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(564)) - s2@group-9C79C66A6AC3: set firstElectionSinceStartup to false for becomeLeader
2023-12-07 16:29:51,199 [s2@group-9C79C66A6AC3-LeaderElection15] INFO  server.RaftServer$Division (ServerState.java:setLeader(265)) - s2@group-9C79C66A6AC3: change Leader from null to s2 at term 1 for becomeLeader, leader elected after 197ms
2023-12-07 16:29:51,199 [s2@group-9C79C66A6AC3-LeaderElection15] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s2@group-9C79C66A6AC3-SegmentedRaftLogWorker: Starting segment from index:0
2023-12-07 16:29:51,199 [s2@group-9C79C66A6AC3-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2023-12-07 16:29:51,201 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-9C79C66A6AC3-FollowerState
2023-12-07 16:29:51,201 [s2@group-9C79C66A6AC3-LeaderElection15] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(382)) - s2@group-9C79C66A6AC3: set configuration 0: peers:[s0|localhost:37297, s1|localhost:42805, s2|localhost:33499]|listeners:[], old=null
2023-12-07 16:29:51,201 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(564)) - s1@group-9C79C66A6AC3: set firstElectionSinceStartup to false for candidate:s2
2023-12-07 16:29:51,202 [grpc-default-executor-5] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s1/b080c65a-f26b-493d-83c6-9c79c66a6ac3/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@58b45147
2023-12-07 16:29:51,204 [grpc-default-executor-5] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s1/b080c65a-f26b-493d-83c6-9c79c66a6ac3/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s1/b080c65a-f26b-493d-83c6-9c79c66a6ac3/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:51,204 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s1@group-9C79C66A6AC3 replies to ELECTION vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-9C79C66A6AC3:t1, leader=null, voted=s2, raftlog=Memoized:s1@group-9C79C66A6AC3-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:37297, s1|localhost:42805, s2|localhost:33499]|listeners:[], old=null
2023-12-07 16:29:51,207 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(265)) - s1@group-9C79C66A6AC3: change Leader from null to s2 at term 1 for appendEntries, leader elected after 207ms
2023-12-07 16:29:51,207 [s2@group-9C79C66A6AC3-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s2@group-9C79C66A6AC3-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s2/b080c65a-f26b-493d-83c6-9c79c66a6ac3/current/log_inprogress_0
2023-12-07 16:29:51,210 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-9C79C66A6AC3: receive appendEntries(s2, 1, null, -1, true, commits:[s2:c-1, s0:c-1, s1:c-1], cId:1, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37297"
dataStreamAddress: "localhost:38853"
clientAddress: "localhost:42171"
adminAddress: "localhost:45331"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42805"
dataStreamAddress: "localhost:37633"
clientAddress: "localhost:36523"
adminAddress: "localhost:38113"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:33499"
dataStreamAddress: "localhost:41883"
clientAddress: "localhost:46647"
adminAddress: "localhost:34057"
startupRole: FOLLOWER
, old:)]
2023-12-07 16:29:51,210 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(265)) - s0@group-9C79C66A6AC3: change Leader from null to s2 at term 1 for appendEntries, leader elected after 214ms
2023-12-07 16:29:51,211 [s1-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(382)) - s1@group-9C79C66A6AC3: set configuration 0: peers:[s0|localhost:37297, s1|localhost:42805, s2|localhost:33499]|listeners:[], old=null
2023-12-07 16:29:51,211 [s1-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s1@group-9C79C66A6AC3-SegmentedRaftLogWorker: Starting segment from index:0
2023-12-07 16:29:51,211 [s1@group-9C79C66A6AC3-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2023-12-07 16:29:51,211 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-9C79C66A6AC3: receive appendEntries(s2, 1, null, -1, true, commits:[s2:c-1, s0:c-1, s1:c-1], cId:1, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:37297"
dataStreamAddress: "localhost:38853"
clientAddress: "localhost:42171"
adminAddress: "localhost:45331"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:42805"
dataStreamAddress: "localhost:37633"
clientAddress: "localhost:36523"
adminAddress: "localhost:38113"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:33499"
dataStreamAddress: "localhost:41883"
clientAddress: "localhost:46647"
adminAddress: "localhost:34057"
startupRole: FOLLOWER
, old:)]
2023-12-07 16:29:51,211 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(382)) - s0@group-9C79C66A6AC3: set configuration 0: peers:[s0|localhost:37297, s1|localhost:42805, s2|localhost:33499]|listeners:[], old=null
2023-12-07 16:29:51,212 [s0-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s0@group-9C79C66A6AC3-SegmentedRaftLogWorker: Starting segment from index:0
2023-12-07 16:29:51,212 [s0@group-9C79C66A6AC3-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2023-12-07 16:29:51,222 [s1@group-9C79C66A6AC3-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s1@group-9C79C66A6AC3-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s1/b080c65a-f26b-493d-83c6-9c79c66a6ac3/current/log_inprogress_0
2023-12-07 16:29:51,222 [s0@group-9C79C66A6AC3-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s0@group-9C79C66A6AC3-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s0/b080c65a-f26b-493d-83c6-9c79c66a6ac3/current/log_inprogress_0
2023-12-07 16:29:51,223 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-9C79C66A6AC3: succeeded to handle AppendEntries. Reply: s2<-s1#1:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-12-07 16:29:51,223 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-9C79C66A6AC3: succeeded to handle AppendEntries. Reply: s2<-s0#1:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-12-07 16:29:51,224 [s2@group-9C79C66A6AC3-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s2/b080c65a-f26b-493d-83c6-9c79c66a6ac3/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@62d78e73
2023-12-07 16:29:51,225 [s2@group-9C79C66A6AC3-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s2/b080c65a-f26b-493d-83c6-9c79c66a6ac3/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s2/b080c65a-f26b-493d-83c6-9c79c66a6ac3/current/raft-meta.conf with options [REPLACE_EXISTING]
2023-12-07 16:29:51,225 [s2@group-9C79C66A6AC3-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:isApplied(320)) - leader is ready since appliedIndex == 0 >= startIndex == 0
2023-12-07 16:29:51,279 [grpc-default-executor-3] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s2@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:35469
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:51,300 [s1@group-9C79C66A6AC3-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s1/b080c65a-f26b-493d-83c6-9c79c66a6ac3/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@a4483ac
2023-12-07 16:29:51,301 [s0@group-9C79C66A6AC3-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s0/b080c65a-f26b-493d-83c6-9c79c66a6ac3/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2bd7c317
2023-12-07 16:29:51,301 [s1@group-9C79C66A6AC3-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s1/b080c65a-f26b-493d-83c6-9c79c66a6ac3/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s1/b080c65a-f26b-493d-83c6-9c79c66a6ac3/current/raft-meta.conf with options [REPLACE_EXISTING]
2023-12-07 16:29:51,302 [s0@group-9C79C66A6AC3-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s0/b080c65a-f26b-493d-83c6-9c79c66a6ac3/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc456892f4/s0/b080c65a-f26b-493d-83c6-9c79c66a6ac3/current/raft-meta.conf with options [REPLACE_EXISTING]
2023-12-07 16:29:51,382 [grpc-default-executor-2] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s1@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:41005
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:51,471 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-9C79C66A6AC3:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-9C79C66A6AC3-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:37297, s1|localhost:42805, s2|localhost:33499]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-9C79C66A6AC3:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-9C79C66A6AC3-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:37297, s1|localhost:42805, s2|localhost:33499]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-9C79C66A6AC3:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-9C79C66A6AC3-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:37297, s1|localhost:42805, s2|localhost:33499]|listeners:[], old=null RUNNING
2023-12-07 16:29:51,474 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s0@group-9C79C66A6AC3: receive client request(RaftClientRequest:client-D148AA0BE552->s0@group-9C79C66A6AC3, cid=107, seq=null, RW, Message:494e4352454d454e54)
2023-12-07 16:29:51,475 [null-request--thread1] INFO  server.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(284)) - Failed RaftClientRequest:client-D148AA0BE552->s0@group-9C79C66A6AC3, cid=107, seq=null, RW, Message:494e4352454d454e54, reply=RaftClientReply:client-D148AA0BE552->s0@group-9C79C66A6AC3, cid=107, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-9C79C66A6AC3 is not the leader s2|localhost:33499, logIndex=0, commits[s0:c0, s1:c0, s2:c0]
2023-12-07 16:29:51,483 [grpc-default-executor-2] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s2@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:35469
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:51,581 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-9C79C66A6AC3: receive client request(RaftClientRequest:client-D148AA0BE552->s2@group-9C79C66A6AC3, cid=107, seq=null, RW, Message:494e4352454d454e54)
2023-12-07 16:29:51,581 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s2@group-9C79C66A6AC3-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-D148AA0BE552->s2@group-9C79C66A6AC3, cid=107, seq=null, RW, Message:494e4352454d454e54, entry=(t:1, i:1), STATEMACHINELOGENTRY, 107@client-D148AA0BE552
2023-12-07 16:29:51,582 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-9C79C66A6AC3: receive appendEntries(s2, 1, (t:1, i:0), 0, true, commits:[s2:c0, s0:c0, s1:c0], cId:9, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 107@client-D148AA0BE552]
2023-12-07 16:29:51,582 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-9C79C66A6AC3: receive appendEntries(s2, 1, (t:1, i:0), 0, true, commits:[s2:c0, s0:c0, s1:c0], cId:7, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 107@client-D148AA0BE552]
2023-12-07 16:29:51,582 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-9C79C66A6AC3: succeeded to handle AppendEntries. Reply: s2<-s0#9:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2023-12-07 16:29:51,583 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-9C79C66A6AC3: succeeded to handle AppendEntries. Reply: s2<-s1#7:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2023-12-07 16:29:51,583 [s2@group-9C79C66A6AC3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:51,583 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-9C79C66A6AC3: receive appendEntries(s2, 1, (t:1, i:1), 1, true, commits:[s2:c1, s0:c0, s1:c0], cId:8, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2023-12-07 16:29:51,583 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-9C79C66A6AC3: receive appendEntries(s2, 1, (t:1, i:1), 1, true, commits:[s2:c1, s0:c0, s1:c0], cId:10, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2023-12-07 16:29:51,584 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-9C79C66A6AC3: succeeded to handle AppendEntries. Reply: s2<-s0#10:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2023-12-07 16:29:51,584 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-9C79C66A6AC3: succeeded to handle AppendEntries. Reply: s2<-s1#8:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2023-12-07 16:29:51,584 [s0@group-9C79C66A6AC3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:51,588 [grpc-default-executor-7] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s1@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:41005
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:51,588 [s1@group-9C79C66A6AC3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:51,589 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-9C79C66A6AC3: receive client request(RaftClientRequest:client-D148AA0BE552->s2@group-9C79C66A6AC3, cid=108, seq=null, RaW, Message:5155455259)
2023-12-07 16:29:51,589 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=1, readAfterWriteConsistentIndex=1
2023-12-07 16:29:51,591 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-9C79C66A6AC3: receive client request(RaftClientRequest:client-D148AA0BE552->s2@group-9C79C66A6AC3, cid=109, seq=1*, Watch(0), Message:<EMPTY>)
2023-12-07 16:29:51,591 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addWatchReqeust(540)) - s2@group-9C79C66A6AC3-LeaderStateImpl: addWatchRequest RaftClientRequest:client-D148AA0BE552->s2@group-9C79C66A6AC3, cid=109, seq=1*, Watch(0), Message:<EMPTY>
2023-12-07 16:29:51,592 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-9C79C66A6AC3: receive client request(RaftClientRequest:client-D148AA0BE552->s2@group-9C79C66A6AC3, cid=110, seq=2, RW, Message:494e4352454d454e54)
2023-12-07 16:29:51,592 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s2@group-9C79C66A6AC3-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-D148AA0BE552->s2@group-9C79C66A6AC3, cid=110, seq=2, RW, Message:494e4352454d454e54, entry=(t:1, i:3), STATEMACHINELOGENTRY, 110@client-D148AA0BE552
2023-12-07 16:29:51,594 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-9C79C66A6AC3: receive appendEntries(s2, 1, (t:1, i:2), 2, true, commits:[s2:c2, s0:c1, s1:c1], cId:14, entries: [(t:1, i:3), STATEMACHINELOGENTRY, 110@client-D148AA0BE552]
2023-12-07 16:29:51,594 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-9C79C66A6AC3: receive appendEntries(s2, 1, (t:1, i:2), 2, true, commits:[s2:c2, s0:c1, s1:c1], cId:12, entries: [(t:1, i:3), STATEMACHINELOGENTRY, 110@client-D148AA0BE552]
2023-12-07 16:29:51,594 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-9C79C66A6AC3: succeeded to handle AppendEntries. Reply: s2<-s0#14:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2023-12-07 16:29:51,594 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-9C79C66A6AC3: receive client request(RaftClientRequest:client-D148AA0BE552->s2@group-9C79C66A6AC3, cid=111, seq=3, RaW, Message:5155455259)
2023-12-07 16:29:51,594 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=3, readAfterWriteConsistentIndex=3
2023-12-07 16:29:51,594 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-9C79C66A6AC3: succeeded to handle AppendEntries. Reply: s2<-s1#12:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2023-12-07 16:29:51,595 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-9C79C66A6AC3: receive client request(RaftClientRequest:client-D148AA0BE552->s2@group-9C79C66A6AC3, cid=112, seq=4, RW, Message:494e4352454d454e54)
2023-12-07 16:29:51,597 [s2@group-9C79C66A6AC3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:51,597 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s2@group-9C79C66A6AC3-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-D148AA0BE552->s2@group-9C79C66A6AC3, cid=112, seq=4, RW, Message:494e4352454d454e54, entry=(t:1, i:5), STATEMACHINELOGENTRY, 112@client-D148AA0BE552
2023-12-07 16:29:51,597 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-9C79C66A6AC3: receive client request(RaftClientRequest:client-D148AA0BE552->s2@group-9C79C66A6AC3, cid=113, seq=5, RW, Message:494e4352454d454e54)
2023-12-07 16:29:51,597 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s2@group-9C79C66A6AC3-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-D148AA0BE552->s2@group-9C79C66A6AC3, cid=113, seq=5, RW, Message:494e4352454d454e54, entry=(t:1, i:6), STATEMACHINELOGENTRY, 113@client-D148AA0BE552
2023-12-07 16:29:51,598 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-9C79C66A6AC3: receive appendEntries(s2, 1, (t:1, i:3), 3, true, commits:[s2:c3, s0:c2, s1:c2], cId:15, entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), STATEMACHINELOGENTRY, 112@client-D148AA0BE552]
2023-12-07 16:29:51,598 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-9C79C66A6AC3: receive client request(RaftClientRequest:client-D148AA0BE552->s2@group-9C79C66A6AC3, cid=114, seq=6, RW, Message:494e4352454d454e54)
2023-12-07 16:29:51,598 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-9C79C66A6AC3: receive appendEntries(s2, 1, (t:1, i:3), 3, true, commits:[s2:c3, s0:c2, s1:c2], cId:14, entries: [(t:1, i:4), METADATAENTRY(c:3), (t:1, i:5), STATEMACHINELOGENTRY, 112@client-D148AA0BE552]
2023-12-07 16:29:51,598 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-9C79C66A6AC3: succeeded to handle AppendEntries. Reply: s2<-s0#15:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2023-12-07 16:29:51,598 [s0@group-9C79C66A6AC3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:51,598 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s2@group-9C79C66A6AC3-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-D148AA0BE552->s2@group-9C79C66A6AC3, cid=114, seq=6, RW, Message:494e4352454d454e54, entry=(t:1, i:7), STATEMACHINELOGENTRY, 114@client-D148AA0BE552
2023-12-07 16:29:51,599 [s2@group-9C79C66A6AC3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:51,599 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-9C79C66A6AC3: receive client request(RaftClientRequest:client-D148AA0BE552->s2@group-9C79C66A6AC3, cid=115, seq=7, RW, Message:494e4352454d454e54)
2023-12-07 16:29:51,599 [s1@group-9C79C66A6AC3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:51,599 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-9C79C66A6AC3: receive appendEntries(s2, 1, (t:1, i:5), 3, true, commits:[s2:c3, s0:c2, s1:c2], cId:15, entries: [(t:1, i:6), STATEMACHINELOGENTRY, 113@client-D148AA0BE552]
2023-12-07 16:29:51,599 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s2@group-9C79C66A6AC3-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-D148AA0BE552->s2@group-9C79C66A6AC3, cid=115, seq=7, RW, Message:494e4352454d454e54, entry=(t:1, i:9), STATEMACHINELOGENTRY, 115@client-D148AA0BE552
2023-12-07 16:29:51,599 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-9C79C66A6AC3: receive appendEntries(s2, 1, (t:1, i:5), 3, true, commits:[s2:c3, s0:c2, s1:c2], cId:16, entries: [(t:1, i:6), STATEMACHINELOGENTRY, 113@client-D148AA0BE552]
2023-12-07 16:29:51,599 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-9C79C66A6AC3: receive client request(RaftClientRequest:client-D148AA0BE552->s2@group-9C79C66A6AC3, cid=116, seq=8, RW, Message:494e4352454d454e54)
2023-12-07 16:29:51,600 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-9C79C66A6AC3: succeeded to handle AppendEntries. Reply: s2<-s0#16:OK-t1,SUCCESS,nextIndex=7,followerCommit=3,matchIndex=6
2023-12-07 16:29:51,600 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s2@group-9C79C66A6AC3-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-D148AA0BE552->s2@group-9C79C66A6AC3, cid=116, seq=8, RW, Message:494e4352454d454e54, entry=(t:1, i:10), STATEMACHINELOGENTRY, 116@client-D148AA0BE552
2023-12-07 16:29:51,600 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-9C79C66A6AC3: succeeded to handle AppendEntries. Reply: s2<-s1#15:OK-t1,SUCCESS,nextIndex=7,followerCommit=3,matchIndex=6
2023-12-07 16:29:51,600 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-9C79C66A6AC3: receive client request(RaftClientRequest:client-D148AA0BE552->s2@group-9C79C66A6AC3, cid=117, seq=9, RW, Message:494e4352454d454e54)
2023-12-07 16:29:51,600 [s2@group-9C79C66A6AC3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:51,600 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s2@group-9C79C66A6AC3-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-D148AA0BE552->s2@group-9C79C66A6AC3, cid=117, seq=9, RW, Message:494e4352454d454e54, entry=(t:1, i:12), STATEMACHINELOGENTRY, 117@client-D148AA0BE552
2023-12-07 16:29:51,600 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-9C79C66A6AC3: receive appendEntries(s2, 1, (t:1, i:6), 5, true, commits:[s2:c5, s0:c3, s1:c2], cId:16, entries: [(t:1, i:7), STATEMACHINELOGENTRY, 114@client-D148AA0BE552, (t:1, i:8), METADATAENTRY(c:5)]
2023-12-07 16:29:51,601 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-9C79C66A6AC3: receive client request(RaftClientRequest:client-D148AA0BE552->s2@group-9C79C66A6AC3, cid=118, seq=10, RW, Message:494e4352454d454e54)
2023-12-07 16:29:51,601 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s2@group-9C79C66A6AC3-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-D148AA0BE552->s2@group-9C79C66A6AC3, cid=118, seq=10, RW, Message:494e4352454d454e54, entry=(t:1, i:13), STATEMACHINELOGENTRY, 118@client-D148AA0BE552
2023-12-07 16:29:51,601 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-9C79C66A6AC3: succeeded to handle AppendEntries. Reply: s2<-s1#16:OK-t1,SUCCESS,nextIndex=9,followerCommit=5,matchIndex=8
2023-12-07 16:29:51,601 [s1@group-9C79C66A6AC3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:51,601 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-9C79C66A6AC3: succeeded to handle AppendEntries. Reply: s2<-s1#14:OK-t1,SUCCESS,nextIndex=6,followerCommit=3,matchIndex=5
2023-12-07 16:29:51,601 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-9C79C66A6AC3: receive client request(RaftClientRequest:client-D148AA0BE552->s2@group-9C79C66A6AC3, cid=119, seq=11, RW, Message:494e4352454d454e54)
2023-12-07 16:29:51,601 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-9C79C66A6AC3: receive appendEntries(s2, 1, (t:1, i:6), 5, true, commits:[s2:c5, s0:c3, s1:c2], cId:17, entries: [(t:1, i:7), STATEMACHINELOGENTRY, 114@client-D148AA0BE552, (t:1, i:8), METADATAENTRY(c:5)]
2023-12-07 16:29:51,602 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s2@group-9C79C66A6AC3-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-D148AA0BE552->s2@group-9C79C66A6AC3, cid=119, seq=11, RW, Message:494e4352454d454e54, entry=(t:1, i:14), STATEMACHINELOGENTRY, 119@client-D148AA0BE552
2023-12-07 16:29:51,602 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-9C79C66A6AC3: succeeded to handle AppendEntries. Reply: s2<-s0#17:OK-t1,SUCCESS,nextIndex=9,followerCommit=5,matchIndex=8
2023-12-07 16:29:51,602 [s0@group-9C79C66A6AC3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:51,602 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-9C79C66A6AC3: receive client request(RaftClientRequest:client-D148AA0BE552->s2@group-9C79C66A6AC3, cid=120, seq=12, RW, Message:494e4352454d454e54)
2023-12-07 16:29:51,602 [s2@group-9C79C66A6AC3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:51,602 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s2@group-9C79C66A6AC3-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-D148AA0BE552->s2@group-9C79C66A6AC3, cid=120, seq=12, RW, Message:494e4352454d454e54, entry=(t:1, i:15), STATEMACHINELOGENTRY, 120@client-D148AA0BE552
2023-12-07 16:29:51,603 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-9C79C66A6AC3: receive appendEntries(s2, 1, (t:1, i:8), 5, true, commits:[s2:c5, s0:c3, s1:c2], cId:17, entries: [(t:1, i:9), STATEMACHINELOGENTRY, 115@client-D148AA0BE552, (t:1, i:10), STATEMACHINELOGENTRY, 116@client-D148AA0BE552]
2023-12-07 16:29:51,603 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-9C79C66A6AC3: receive client request(RaftClientRequest:client-D148AA0BE552->s2@group-9C79C66A6AC3, cid=121, seq=13, RW, Message:494e4352454d454e54)
2023-12-07 16:29:51,603 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-9C79C66A6AC3: receive appendEntries(s2, 1, (t:1, i:8), 6, true, commits:[s2:c6, s0:c3, s1:c2], cId:18, entries: [(t:1, i:9), STATEMACHINELOGENTRY, 115@client-D148AA0BE552, (t:1, i:10), STATEMACHINELOGENTRY, 116@client-D148AA0BE552, (t:1, i:11), METADATAENTRY(c:6), (t:1, i:12), STATEMACHINELOGENTRY, 117@client-D148AA0BE552, (t:1, i:13), STATEMACHINELOGENTRY, 118@client-D148AA0BE552, (t:1, i:14), STATEMACHINELOGENTRY, 119@client-D148AA0BE552]
2023-12-07 16:29:51,603 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s2@group-9C79C66A6AC3-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-D148AA0BE552->s2@group-9C79C66A6AC3, cid=121, seq=13, RW, Message:494e4352454d454e54, entry=(t:1, i:16), STATEMACHINELOGENTRY, 121@client-D148AA0BE552
2023-12-07 16:29:51,603 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-9C79C66A6AC3: receive appendEntries(s2, 1, (t:1, i:10), 6, true, commits:[s2:c6, s0:c3, s1:c2], cId:18, entries: [(t:1, i:11), METADATAENTRY(c:6), (t:1, i:12), STATEMACHINELOGENTRY, 117@client-D148AA0BE552, (t:1, i:13), STATEMACHINELOGENTRY, 118@client-D148AA0BE552]
2023-12-07 16:29:51,604 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-9C79C66A6AC3: succeeded to handle AppendEntries. Reply: s2<-s1#17:OK-t1,SUCCESS,nextIndex=11,followerCommit=5,matchIndex=10
2023-12-07 16:29:51,604 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-9C79C66A6AC3: succeeded to handle AppendEntries. Reply: s2<-s0#18:OK-t1,SUCCESS,nextIndex=15,followerCommit=6,matchIndex=14
2023-12-07 16:29:51,604 [s1@group-9C79C66A6AC3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:51,604 [s0@group-9C79C66A6AC3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:51,604 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-9C79C66A6AC3: succeeded to handle AppendEntries. Reply: s2<-s1#18:OK-t1,SUCCESS,nextIndex=14,followerCommit=6,matchIndex=13
2023-12-07 16:29:51,604 [s2@group-9C79C66A6AC3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:51,604 [s2@group-9C79C66A6AC3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:51,604 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-9C79C66A6AC3: receive appendEntries(s2, 1, (t:1, i:14), 8, true, commits:[s2:c8, s0:c5, s1:c5], cId:19, entries: [(t:1, i:15), STATEMACHINELOGENTRY, 120@client-D148AA0BE552]
2023-12-07 16:29:51,605 [s2@group-9C79C66A6AC3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:51,605 [s2@group-9C79C66A6AC3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:51,605 [s2@group-9C79C66A6AC3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:51,605 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-9C79C66A6AC3: receive appendEntries(s2, 1, (t:1, i:13), 8, true, commits:[s2:c8, s0:c5, s1:c5], cId:19, entries: [(t:1, i:14), STATEMACHINELOGENTRY, 119@client-D148AA0BE552, (t:1, i:15), STATEMACHINELOGENTRY, 120@client-D148AA0BE552, (t:1, i:16), STATEMACHINELOGENTRY, 121@client-D148AA0BE552]
2023-12-07 16:29:51,605 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-9C79C66A6AC3: succeeded to handle AppendEntries. Reply: s2<-s0#19:OK-t1,SUCCESS,nextIndex=16,followerCommit=8,matchIndex=15
2023-12-07 16:29:51,606 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-9C79C66A6AC3: receive appendEntries(s2, 1, (t:1, i:15), 10, true, commits:[s2:c10, s0:c5, s1:c5], cId:20, entries: [(t:1, i:16), STATEMACHINELOGENTRY, 121@client-D148AA0BE552, (t:1, i:17), METADATAENTRY(c:10)]
2023-12-07 16:29:51,606 [s0@group-9C79C66A6AC3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:51,606 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-9C79C66A6AC3: succeeded to handle AppendEntries. Reply: s2<-s0#20:OK-t1,SUCCESS,nextIndex=18,followerCommit=10,matchIndex=17
2023-12-07 16:29:51,606 [s0@group-9C79C66A6AC3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:51,606 [s1@group-9C79C66A6AC3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:51,606 [s0@group-9C79C66A6AC3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:51,606 [s2@group-9C79C66A6AC3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:51,606 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-9C79C66A6AC3: succeeded to handle AppendEntries. Reply: s2<-s1#19:OK-t1,SUCCESS,nextIndex=17,followerCommit=8,matchIndex=16
2023-12-07 16:29:51,607 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-9C79C66A6AC3: receive appendEntries(s2, 1, (t:1, i:16), 14, true, commits:[s2:c14, s0:c6, s1:c5], cId:20, entries: [(t:1, i:17), METADATAENTRY(c:10), (t:1, i:18), METADATAENTRY(c:14)]
2023-12-07 16:29:51,607 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-9C79C66A6AC3: receive appendEntries(s2, 1, (t:1, i:17), 14, true, commits:[s2:c14, s0:c6, s1:c6], cId:21, entries: [(t:1, i:18), METADATAENTRY(c:14)]
2023-12-07 16:29:51,607 [s2@group-9C79C66A6AC3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:51,607 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-9C79C66A6AC3: succeeded to handle AppendEntries. Reply: s2<-s0#21:OK-t1,SUCCESS,nextIndex=19,followerCommit=14,matchIndex=18
2023-12-07 16:29:51,607 [s0@group-9C79C66A6AC3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:51,607 [s1@group-9C79C66A6AC3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:51,607 [s0@group-9C79C66A6AC3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:51,607 [s1@group-9C79C66A6AC3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:51,607 [s0@group-9C79C66A6AC3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:51,607 [s1@group-9C79C66A6AC3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:51,608 [s1@group-9C79C66A6AC3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:51,608 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-9C79C66A6AC3: receive appendEntries(s2, 1, (t:1, i:18), 15, true, commits:[s2:c15, s0:c8, s1:c6], cId:22, entries: [(t:1, i:19), METADATAENTRY(c:15)]
2023-12-07 16:29:51,608 [s1@group-9C79C66A6AC3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:51,608 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-9C79C66A6AC3: succeeded to handle AppendEntries. Reply: s2<-s1#20:OK-t1,SUCCESS,nextIndex=19,followerCommit=14,matchIndex=18
2023-12-07 16:29:51,608 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-9C79C66A6AC3: succeeded to handle AppendEntries. Reply: s2<-s1#22:OK-t1,SUCCESS,nextIndex=20,followerCommit=15,matchIndex=19
2023-12-07 16:29:51,608 [s1@group-9C79C66A6AC3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:51,608 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-9C79C66A6AC3: receive appendEntries(s2, 1, (t:1, i:18), 15, true, commits:[s2:c15, s0:c8, s1:c6], cId:22, entries: [(t:1, i:19), METADATAENTRY(c:15)]
2023-12-07 16:29:51,609 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-9C79C66A6AC3: succeeded to handle AppendEntries. Reply: s2<-s0#22:OK-t1,SUCCESS,nextIndex=20,followerCommit=15,matchIndex=19
2023-12-07 16:29:51,609 [s0@group-9C79C66A6AC3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:51,609 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-9C79C66A6AC3: receive appendEntries(s2, 1, (t:1, i:19), 16, true, commits:[s2:c16, s0:c10, s1:c8], cId:23, entries: [(t:1, i:20), METADATAENTRY(c:16)]
2023-12-07 16:29:51,609 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-9C79C66A6AC3: receive appendEntries(s2, 1, (t:1, i:19), 17, true, commits:[s2:c17, s0:c10, s1:c8], cId:23, entries: [(t:1, i:20), METADATAENTRY(c:16)]
2023-12-07 16:29:51,609 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-9C79C66A6AC3: succeeded to handle AppendEntries. Reply: s2<-s1#23:OK-t1,SUCCESS,nextIndex=21,followerCommit=16,matchIndex=20
2023-12-07 16:29:51,610 [s1@group-9C79C66A6AC3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:51,610 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-9C79C66A6AC3: succeeded to handle AppendEntries. Reply: s2<-s0#23:OK-t1,SUCCESS,nextIndex=21,followerCommit=17,matchIndex=20
2023-12-07 16:29:51,610 [s0@group-9C79C66A6AC3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:51,611 [s2-client-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-9C79C66A6AC3: receive client request(RaftClientRequest:client-D148AA0BE552->s2@group-9C79C66A6AC3, cid=122, seq=14, RW, Message:494e4352454d454e54)
2023-12-07 16:29:51,612 [s2-client-thread2] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s2@group-9C79C66A6AC3-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-D148AA0BE552->s2@group-9C79C66A6AC3, cid=122, seq=14, RW, Message:494e4352454d454e54, entry=(t:1, i:21), STATEMACHINELOGENTRY, 122@client-D148AA0BE552
2023-12-07 16:29:51,613 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-9C79C66A6AC3: receive appendEntries(s2, 1, (t:1, i:20), 20, true, commits:[s2:c20, s0:c17, s1:c16], cId:28, entries: [(t:1, i:21), STATEMACHINELOGENTRY, 122@client-D148AA0BE552]
2023-12-07 16:29:51,613 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-9C79C66A6AC3: receive appendEntries(s2, 1, (t:1, i:20), 20, true, commits:[s2:c20, s0:c17, s1:c16], cId:26, entries: [(t:1, i:21), STATEMACHINELOGENTRY, 122@client-D148AA0BE552]
2023-12-07 16:29:51,613 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-9C79C66A6AC3: succeeded to handle AppendEntries. Reply: s2<-s1#28:OK-t1,SUCCESS,nextIndex=22,followerCommit=20,matchIndex=21
2023-12-07 16:29:51,613 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-9C79C66A6AC3: succeeded to handle AppendEntries. Reply: s2<-s0#26:OK-t1,SUCCESS,nextIndex=22,followerCommit=20,matchIndex=21
2023-12-07 16:29:51,614 [s2@group-9C79C66A6AC3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:51,614 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-9C79C66A6AC3: receive appendEntries(s2, 1, (t:1, i:21), 21, true, commits:[s2:c21, s0:c20, s1:c20], cId:29, entries: [(t:1, i:22), METADATAENTRY(c:21)]
2023-12-07 16:29:51,614 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-9C79C66A6AC3: succeeded to handle AppendEntries. Reply: s2<-s1#29:OK-t1,SUCCESS,nextIndex=23,followerCommit=21,matchIndex=22
2023-12-07 16:29:51,614 [s1@group-9C79C66A6AC3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:51,615 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-9C79C66A6AC3: receive appendEntries(s2, 1, (t:1, i:21), 21, true, commits:[s2:c21, s0:c20, s1:c20], cId:27, entries: [(t:1, i:22), METADATAENTRY(c:21)]
2023-12-07 16:29:51,616 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-9C79C66A6AC3: succeeded to handle AppendEntries. Reply: s2<-s0#27:OK-t1,SUCCESS,nextIndex=23,followerCommit=21,matchIndex=22
2023-12-07 16:29:51,616 [s0@group-9C79C66A6AC3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:51,621 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-9C79C66A6AC3: receive client request(RaftClientRequest:client-D148AA0BE552->s2@group-9C79C66A6AC3, cid=123, seq=15, RW, Message:494e4352454d454e54)
2023-12-07 16:29:51,621 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s2@group-9C79C66A6AC3-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-D148AA0BE552->s2@group-9C79C66A6AC3, cid=123, seq=15, RW, Message:494e4352454d454e54, entry=(t:1, i:23), STATEMACHINELOGENTRY, 123@client-D148AA0BE552
2023-12-07 16:29:51,622 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-9C79C66A6AC3: receive appendEntries(s2, 1, (t:1, i:22), 22, true, commits:[s2:c22, s0:c21, s1:c21], cId:33, entries: [(t:1, i:23), STATEMACHINELOGENTRY, 123@client-D148AA0BE552]
2023-12-07 16:29:51,622 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-9C79C66A6AC3: succeeded to handle AppendEntries. Reply: s2<-s1#33:OK-t1,SUCCESS,nextIndex=24,followerCommit=22,matchIndex=23
2023-12-07 16:29:51,623 [s2@group-9C79C66A6AC3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:51,624 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-9C79C66A6AC3: receive appendEntries(s2, 1, (t:1, i:23), 23, true, commits:[s2:c23, s0:c21, s1:c22], cId:34, entries: [(t:1, i:24), METADATAENTRY(c:23)]
2023-12-07 16:29:51,624 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-9C79C66A6AC3: succeeded to handle AppendEntries. Reply: s2<-s1#34:OK-t1,SUCCESS,nextIndex=25,followerCommit=23,matchIndex=24
2023-12-07 16:29:51,624 [s1@group-9C79C66A6AC3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:51,627 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-9C79C66A6AC3: receive client request(RaftClientRequest:client-D148AA0BE552->s2@group-9C79C66A6AC3, cid=124, seq=16, RW, Message:494e4352454d454e54)
2023-12-07 16:29:51,628 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-9C79C66A6AC3: receive appendEntries(s2, 1, (t:1, i:22), 24, true, commits:[s2:c24, s0:c21, s1:c23], cId:30, entries: [(t:1, i:23), STATEMACHINELOGENTRY, 123@client-D148AA0BE552, (t:1, i:24), METADATAENTRY(c:23)]
2023-12-07 16:29:51,628 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s2@group-9C79C66A6AC3-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-D148AA0BE552->s2@group-9C79C66A6AC3, cid=124, seq=16, RW, Message:494e4352454d454e54, entry=(t:1, i:25), STATEMACHINELOGENTRY, 124@client-D148AA0BE552
2023-12-07 16:29:51,628 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-9C79C66A6AC3: succeeded to handle AppendEntries. Reply: s2<-s0#30:OK-t1,SUCCESS,nextIndex=25,followerCommit=24,matchIndex=24
2023-12-07 16:29:51,628 [s0@group-9C79C66A6AC3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:51,628 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-9C79C66A6AC3: receive client request(RaftClientRequest:client-D148AA0BE552->s2@group-9C79C66A6AC3, cid=125, seq=17, RW, Message:494e4352454d454e54)
2023-12-07 16:29:51,629 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-9C79C66A6AC3: receive appendEntries(s2, 1, (t:1, i:24), 24, true, commits:[s2:c24, s0:c21, s1:c23], cId:37, entries: [(t:1, i:25), STATEMACHINELOGENTRY, 124@client-D148AA0BE552]
2023-12-07 16:29:51,629 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s2@group-9C79C66A6AC3-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-D148AA0BE552->s2@group-9C79C66A6AC3, cid=125, seq=17, RW, Message:494e4352454d454e54, entry=(t:1, i:26), STATEMACHINELOGENTRY, 125@client-D148AA0BE552
2023-12-07 16:29:51,629 [s2-client-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-9C79C66A6AC3: receive client request(RaftClientRequest:client-D148AA0BE552->s2@group-9C79C66A6AC3, cid=126, seq=18, RW, Message:494e4352454d454e54)
2023-12-07 16:29:51,629 [s2-client-thread2] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s2@group-9C79C66A6AC3-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-D148AA0BE552->s2@group-9C79C66A6AC3, cid=126, seq=18, RW, Message:494e4352454d454e54, entry=(t:1, i:27), STATEMACHINELOGENTRY, 126@client-D148AA0BE552
2023-12-07 16:29:51,630 [s2-client-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-9C79C66A6AC3: receive client request(RaftClientRequest:client-D148AA0BE552->s2@group-9C79C66A6AC3, cid=127, seq=19, RW, Message:494e4352454d454e54)
2023-12-07 16:29:51,630 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-9C79C66A6AC3: receive appendEntries(s2, 1, (t:1, i:24), 24, true, commits:[s2:c24, s0:c21, s1:c23], cId:31, entries: [(t:1, i:25), STATEMACHINELOGENTRY, 124@client-D148AA0BE552]
2023-12-07 16:29:51,630 [s2-client-thread2] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s2@group-9C79C66A6AC3-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-D148AA0BE552->s2@group-9C79C66A6AC3, cid=127, seq=19, RW, Message:494e4352454d454e54, entry=(t:1, i:28), STATEMACHINELOGENTRY, 127@client-D148AA0BE552
2023-12-07 16:29:51,630 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-9C79C66A6AC3: succeeded to handle AppendEntries. Reply: s2<-s0#31:OK-t1,SUCCESS,nextIndex=26,followerCommit=24,matchIndex=25
2023-12-07 16:29:51,630 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-9C79C66A6AC3: succeeded to handle AppendEntries. Reply: s2<-s1#37:OK-t1,SUCCESS,nextIndex=26,followerCommit=24,matchIndex=25
2023-12-07 16:29:51,630 [s2-client-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-9C79C66A6AC3: receive client request(RaftClientRequest:client-D148AA0BE552->s2@group-9C79C66A6AC3, cid=128, seq=20, RW, Message:494e4352454d454e54)
2023-12-07 16:29:51,631 [s2-client-thread2] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s2@group-9C79C66A6AC3-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-D148AA0BE552->s2@group-9C79C66A6AC3, cid=128, seq=20, RW, Message:494e4352454d454e54, entry=(t:1, i:29), STATEMACHINELOGENTRY, 128@client-D148AA0BE552
2023-12-07 16:29:51,631 [s2-client-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-9C79C66A6AC3: receive client request(RaftClientRequest:client-D148AA0BE552->s2@group-9C79C66A6AC3, cid=129, seq=21, RW, Message:494e4352454d454e54)
2023-12-07 16:29:51,631 [s2-client-thread2] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s2@group-9C79C66A6AC3-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-D148AA0BE552->s2@group-9C79C66A6AC3, cid=129, seq=21, RW, Message:494e4352454d454e54, entry=(t:1, i:30), STATEMACHINELOGENTRY, 129@client-D148AA0BE552
2023-12-07 16:29:51,632 [s2-client-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-9C79C66A6AC3: receive client request(RaftClientRequest:client-D148AA0BE552->s2@group-9C79C66A6AC3, cid=130, seq=22, RW, Message:494e4352454d454e54)
2023-12-07 16:29:51,632 [s2-client-thread2] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s2@group-9C79C66A6AC3-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-D148AA0BE552->s2@group-9C79C66A6AC3, cid=130, seq=22, RW, Message:494e4352454d454e54, entry=(t:1, i:31), STATEMACHINELOGENTRY, 130@client-D148AA0BE552
2023-12-07 16:29:51,632 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-9C79C66A6AC3: receive appendEntries(s2, 1, (t:1, i:25), 24, true, commits:[s2:c24, s0:c24, s1:c23], cId:32, entries: [(t:1, i:26), STATEMACHINELOGENTRY, 125@client-D148AA0BE552, (t:1, i:27), STATEMACHINELOGENTRY, 126@client-D148AA0BE552, (t:1, i:28), STATEMACHINELOGENTRY, 127@client-D148AA0BE552]
2023-12-07 16:29:51,633 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-9C79C66A6AC3: succeeded to handle AppendEntries. Reply: s2<-s0#32:OK-t1,SUCCESS,nextIndex=29,followerCommit=24,matchIndex=28
2023-12-07 16:29:51,633 [s2-client-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-9C79C66A6AC3: receive client request(RaftClientRequest:client-D148AA0BE552->s2@group-9C79C66A6AC3, cid=131, seq=23, RW, Message:494e4352454d454e54)
2023-12-07 16:29:51,633 [s2-client-thread2] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s2@group-9C79C66A6AC3-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-D148AA0BE552->s2@group-9C79C66A6AC3, cid=131, seq=23, RW, Message:494e4352454d454e54, entry=(t:1, i:32), STATEMACHINELOGENTRY, 131@client-D148AA0BE552
2023-12-07 16:29:51,633 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-9C79C66A6AC3: receive client request(RaftClientRequest:client-D148AA0BE552->s2@group-9C79C66A6AC3, cid=132, seq=24, RO, Message:5155455259)
2023-12-07 16:29:51,633 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=28, readAfterWriteConsistentIndex=null
2023-12-07 16:29:51,633 [s2@group-9C79C66A6AC3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:51,634 [s2@group-9C79C66A6AC3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:51,634 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-9C79C66A6AC3: receive appendEntries(s2, 1, (t:1, i:28), 24, true, commits:[s2:c24, s0:c24, s1:c23], cId:33, entries: [(t:1, i:29), STATEMACHINELOGENTRY, 128@client-D148AA0BE552, (t:1, i:30), STATEMACHINELOGENTRY, 129@client-D148AA0BE552, (t:1, i:31), STATEMACHINELOGENTRY, 130@client-D148AA0BE552]
2023-12-07 16:29:51,634 [s2@group-9C79C66A6AC3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:51,634 [s2-client-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-9C79C66A6AC3: receive client request(RaftClientRequest:client-D148AA0BE552->s2@group-9C79C66A6AC3, cid=133, seq=25, RaW, Message:5155455259)
2023-12-07 16:29:51,634 [s2-client-thread2] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=27, readAfterWriteConsistentIndex=27
2023-12-07 16:29:51,634 [s2@group-9C79C66A6AC3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:51,634 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-9C79C66A6AC3: succeeded to handle AppendEntries. Reply: s2<-s0#33:OK-t1,SUCCESS,nextIndex=32,followerCommit=24,matchIndex=31
2023-12-07 16:29:51,635 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-9C79C66A6AC3: receive appendEntries(s2, 1, (t:1, i:31), 28, true, commits:[s2:c28, s0:c24, s1:c23], cId:34, entries: [(t:1, i:32), STATEMACHINELOGENTRY, 131@client-D148AA0BE552, (t:1, i:33), METADATAENTRY(c:28)]
2023-12-07 16:29:51,636 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-9C79C66A6AC3: succeeded to handle AppendEntries. Reply: s2<-s0#34:OK-t1,SUCCESS,nextIndex=34,followerCommit=28,matchIndex=33
2023-12-07 16:29:51,636 [s0@group-9C79C66A6AC3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:51,636 [s2@group-9C79C66A6AC3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:51,636 [s0@group-9C79C66A6AC3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:51,636 [s2@group-9C79C66A6AC3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:51,636 [s0@group-9C79C66A6AC3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:51,636 [s2@group-9C79C66A6AC3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:51,636 [s0@group-9C79C66A6AC3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:51,636 [s2@group-9C79C66A6AC3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:51,637 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-9C79C66A6AC3: receive appendEntries(s2, 1, (t:1, i:33), 31, true, commits:[s2:c31, s0:c24, s1:c24], cId:35, entries: [(t:1, i:34), METADATAENTRY(c:31)]
2023-12-07 16:29:51,637 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-9C79C66A6AC3: receive appendEntries(s2, 1, (t:1, i:25), 24, true, commits:[s2:c24, s0:c24, s1:c23], cId:38, entries: [(t:1, i:26), STATEMACHINELOGENTRY, 125@client-D148AA0BE552, (t:1, i:27), STATEMACHINELOGENTRY, 126@client-D148AA0BE552]
2023-12-07 16:29:51,638 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-9C79C66A6AC3: succeeded to handle AppendEntries. Reply: s2<-s0#35:OK-t1,SUCCESS,nextIndex=35,followerCommit=31,matchIndex=34
2023-12-07 16:29:51,638 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-9C79C66A6AC3: succeeded to handle AppendEntries. Reply: s2<-s1#38:OK-t1,SUCCESS,nextIndex=28,followerCommit=24,matchIndex=27
2023-12-07 16:29:51,638 [s0@group-9C79C66A6AC3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:51,638 [s0@group-9C79C66A6AC3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:51,638 [s0@group-9C79C66A6AC3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:51,639 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-9C79C66A6AC3: receive appendEntries(s2, 1, (t:1, i:27), 24, true, commits:[s2:c24, s0:c24, s1:c23], cId:39, entries: [(t:1, i:28), STATEMACHINELOGENTRY, 127@client-D148AA0BE552]
2023-12-07 16:29:51,639 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-9C79C66A6AC3: succeeded to handle AppendEntries. Reply: s2<-s1#39:OK-t1,SUCCESS,nextIndex=29,followerCommit=24,matchIndex=28
2023-12-07 16:29:51,639 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-9C79C66A6AC3: receive appendEntries(s2, 1, (t:1, i:28), 28, true, commits:[s2:c28, s0:c24, s1:c23], cId:40, entries: [(t:1, i:29), STATEMACHINELOGENTRY, 128@client-D148AA0BE552, (t:1, i:30), STATEMACHINELOGENTRY, 129@client-D148AA0BE552, (t:1, i:31), STATEMACHINELOGENTRY, 130@client-D148AA0BE552, (t:1, i:32), STATEMACHINELOGENTRY, 131@client-D148AA0BE552, (t:1, i:33), METADATAENTRY(c:28)]
2023-12-07 16:29:51,640 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-9C79C66A6AC3: succeeded to handle AppendEntries. Reply: s2<-s1#40:OK-t1,SUCCESS,nextIndex=34,followerCommit=28,matchIndex=33
2023-12-07 16:29:51,640 [s1@group-9C79C66A6AC3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:51,640 [s1@group-9C79C66A6AC3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:51,640 [s1@group-9C79C66A6AC3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:51,640 [s1@group-9C79C66A6AC3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:51,641 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-9C79C66A6AC3: receive appendEntries(s2, 1, (t:1, i:33), 33, true, commits:[s2:c33, s0:c28, s1:c24], cId:41, entries: [(t:1, i:34), METADATAENTRY(c:31)]
2023-12-07 16:29:51,641 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-9C79C66A6AC3: succeeded to handle AppendEntries. Reply: s2<-s1#41:OK-t1,SUCCESS,nextIndex=35,followerCommit=33,matchIndex=34
2023-12-07 16:29:51,641 [s1@group-9C79C66A6AC3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:51,641 [s1@group-9C79C66A6AC3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:51,641 [s1@group-9C79C66A6AC3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:51,641 [s1@group-9C79C66A6AC3-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:51,654 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-12-07 16:29:51,655 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-12-07 16:29:51,655 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2023-12-07 16:29:51,655 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-12-07 16:29:51,655 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-12-07 16:29:51,655 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-9C79C66A6AC3:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-9C79C66A6AC3-SegmentedRaftLog:OPENED:c31, conf=0: peers:[s0|localhost:37297, s1|localhost:42805, s2|localhost:33499]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-9C79C66A6AC3:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-9C79C66A6AC3-SegmentedRaftLog:OPENED:c33, conf=0: peers:[s0|localhost:37297, s1|localhost:42805, s2|localhost:33499]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-9C79C66A6AC3:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-9C79C66A6AC3-SegmentedRaftLog:OPENED:c34, conf=0: peers:[s0|localhost:37297, s1|localhost:42805, s2|localhost:33499]|listeners:[], old=null RUNNING
2023-12-07 16:29:51,655 [MiniRaftCluster-52] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(416)) - s0: close
2023-12-07 16:29:51,657 [MiniRaftCluster-52] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-12-07 16:29:51,657 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$3(516)) - s0@group-9C79C66A6AC3: shutdown
2023-12-07 16:29:51,657 [MiniRaftCluster-54] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(416)) - s2: close
2023-12-07 16:29:51,658 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-9C79C66A6AC3,id=s0
2023-12-07 16:29:51,658 [MiniRaftCluster-53] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(416)) - s1: close
2023-12-07 16:29:51,658 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-9C79C66A6AC3-FollowerState
2023-12-07 16:29:51,658 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s0@group-9C79C66A6AC3-StateMachineUpdater: set stopIndex = 31
2023-12-07 16:29:51,658 [s0@group-9C79C66A6AC3-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-9C79C66A6AC3-FollowerState was interrupted
2023-12-07 16:29:51,658 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(423)) - s0@group-9C79C66A6AC3: applyIndex: 31
2023-12-07 16:29:51,658 [s0@group-9C79C66A6AC3-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-9C79C66A6AC3-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2023-12-07 16:29:51,658 [MiniRaftCluster-52] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-12-07 16:29:51,658 [MiniRaftCluster-52] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server GrpcServerProtocolService now
2023-12-07 16:29:51,658 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$3(516)) - s1@group-9C79C66A6AC3: shutdown
2023-12-07 16:29:51,658 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-9C79C66A6AC3,id=s1
2023-12-07 16:29:51,658 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-9C79C66A6AC3-FollowerState
2023-12-07 16:29:51,658 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s1@group-9C79C66A6AC3-StateMachineUpdater: set stopIndex = 33
2023-12-07 16:29:51,658 [s1@group-9C79C66A6AC3-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-9C79C66A6AC3-FollowerState was interrupted
2023-12-07 16:29:51,659 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(423)) - s1@group-9C79C66A6AC3: applyIndex: 33
2023-12-07 16:29:51,659 [s1@group-9C79C66A6AC3-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s1@group-9C79C66A6AC3-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2023-12-07 16:29:51,658 [MiniRaftCluster-54] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-12-07 16:29:51,658 [MiniRaftCluster-53] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-12-07 16:29:51,658 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$3(516)) - s2@group-9C79C66A6AC3: shutdown
2023-12-07 16:29:51,660 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-9C79C66A6AC3,id=s2
2023-12-07 16:29:51,660 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(94)) - s2: shutdown s2@group-9C79C66A6AC3-LeaderStateImpl
2023-12-07 16:29:51,660 [s2@group-9C79C66A6AC3->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(279)) - s2@group-9C79C66A6AC3->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2023-12-07 16:29:51,660 [s2-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(289)) - s2@group-9C79C66A6AC3-PendingRequests: sendNotLeaderResponses
2023-12-07 16:29:51,660 [s2@group-9C79C66A6AC3->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(279)) - s2@group-9C79C66A6AC3->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2023-12-07 16:29:51,660 [grpc-default-executor-5] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s0: APPEND_ENTRIES onError, lastRequest: s2->s0#35-t1,previous=(t:1, i:33),leaderCommit=31,initializing? true,entries: size=1, first=(t:1, i:34), METADATAENTRY(c:31): org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2023-12-07 16:29:51,660 [grpc-default-executor-7] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s0: APPEND_ENTRIES onError, lastRequest: null: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2023-12-07 16:29:51,660 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(523)) - s2@group-9C79C66A6AC3->s0-GrpcLogAppender is already stopped
2023-12-07 16:29:51,661 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(157)) - s1: Completed APPEND_ENTRIES, lastRequest: s2->s1#41-t1,previous=(t:1, i:33),leaderCommit=33,initializing? true,entries: size=1, first=(t:1, i:34), METADATAENTRY(c:31)
2023-12-07 16:29:51,661 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(157)) - s1: Completed APPEND_ENTRIES, lastRequest: null
2023-12-07 16:29:51,661 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$5(159)) - s1: Completed APPEND_ENTRIES, lastReply: null
2023-12-07 16:29:51,661 [grpc-default-executor-7] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(523)) - s2@group-9C79C66A6AC3->s0-GrpcLogAppender is already stopped
2023-12-07 16:29:51,661 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$5(159)) - s1: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s2"
  replyId: "s1"
  raftGroupId {
    id: "\260\200\306Z\362kI=\203\306\234y\306jj\303"
  }
  callId: 6
  success: true
}
term: 1
nextIndex: 1
matchIndex: 18446744073709551615
isHearbeat: true

2023-12-07 16:29:51,661 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(534)) - s2@group-9C79C66A6AC3->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-12-07 16:29:51,661 [MiniRaftCluster-52] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server GrpcServerProtocolService successfully
2023-12-07 16:29:51,661 [MiniRaftCluster-52] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-12-07 16:29:51,661 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s2@group-9C79C66A6AC3-StateMachineUpdater: set stopIndex = 34
2023-12-07 16:29:51,661 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(534)) - s2@group-9C79C66A6AC3->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-12-07 16:29:51,662 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(423)) - s2@group-9C79C66A6AC3: applyIndex: 34
2023-12-07 16:29:51,662 [s2@group-9C79C66A6AC3-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s2@group-9C79C66A6AC3-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2023-12-07 16:29:51,662 [MiniRaftCluster-52] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-12-07 16:29:51,663 [Thread-805] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(103)) - s0 Close channels
2023-12-07 16:29:51,663 [Thread-813] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(103)) - s1 Close channels
2023-12-07 16:29:51,664 [MiniRaftCluster-53] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-12-07 16:29:51,664 [MiniRaftCluster-53] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server GrpcServerProtocolService now
2023-12-07 16:29:51,664 [MiniRaftCluster-54] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-12-07 16:29:51,664 [MiniRaftCluster-54] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server GrpcServerProtocolService now
2023-12-07 16:29:51,665 [MiniRaftCluster-53] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server GrpcServerProtocolService successfully
2023-12-07 16:29:51,665 [MiniRaftCluster-53] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-12-07 16:29:51,665 [MiniRaftCluster-54] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server GrpcServerProtocolService successfully
2023-12-07 16:29:51,665 [MiniRaftCluster-54] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-12-07 16:29:51,670 [MiniRaftCluster-53] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-12-07 16:29:51,670 [MiniRaftCluster-54] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-12-07 16:29:51,690 [grpc-default-executor-2] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s2@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:35469
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:51,793 [grpc-default-executor-7] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s0@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:42899
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:51,896 [grpc-default-executor-5] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s1@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:41005
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:51,998 [grpc-default-executor-7] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s2@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:35469
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:52,100 [grpc-default-executor-2] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s0@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:42899
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:52,203 [grpc-default-executor-5] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s1@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:41005
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:52,305 [grpc-default-executor-7] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s0@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:42899
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:52,408 [grpc-default-executor-2] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s2@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:35469
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:52,510 [grpc-default-executor-5] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s0@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:42899
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:52,612 [grpc-default-executor-7] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s2@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:35469
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:52,638 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s2@group-9C79C66A6AC3-SegmentedRaftLogWorker close()
2023-12-07 16:29:52,639 [JvmPauseMonitor29] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s2: Stopped
2023-12-07 16:29:52,639 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s0@group-9C79C66A6AC3-SegmentedRaftLogWorker close()
2023-12-07 16:29:52,639 [JvmPauseMonitor27] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2023-12-07 16:29:52,642 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s1@group-9C79C66A6AC3-SegmentedRaftLogWorker close()
2023-12-07 16:29:52,642 [JvmPauseMonitor28] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s1: Stopped
2023-12-07 16:29:52,642 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2023-12-07 16:29:52,645 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-12-07 16:29:52,645 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-12-07 16:29:52,645 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2023-12-07 16:29:52,646 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2023-12-07 16:29:52,646 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-BFB42CE21AFF:[s0|localhost:39085, s1|localhost:44185, s2|localhost:42475]
2023-12-07 16:29:52,646 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-12-07 16:29:52,646 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-12-07 16:29:52,646 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2023-12-07 16:29:52,646 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-12-07 16:29:52,646 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-12-07 16:29:52,647 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-12-07 16:29:52,647 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-BFB42CE21AFF:[s0|localhost:39085, s1|localhost:44185, s2|localhost:42475], format? true
2023-12-07 16:29:52,647 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s0
2023-12-07 16:29:52,647 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s0 does not exist.
2023-12-07 16:29:52,647 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s0
2023-12-07 16:29:52,647 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-12-07 16:29:52,647 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:52,647 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 44805 (custom)
2023-12-07 16:29:52,647 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:52,647 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 35959 (custom)
2023-12-07 16:29:52,647 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-12-07 16:29:52,647 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 39085 (custom)
2023-12-07 16:29:52,647 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-12-07 16:29:52,648 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:52,648 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-12-07 16:29:52,648 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:52,648 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:52,648 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-12-07 16:29:52,648 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-12-07 16:29:52,649 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-12-07 16:29:52,649 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:52,649 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2023-12-07 16:29:52,649 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:52,649 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s0] (custom)
2023-12-07 16:29:52,649 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-12-07 16:29:52,650 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-12-07 16:29:52,650 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(100)) - s0: addNew group-BFB42CE21AFF:[s0|localhost:39085, s1|localhost:44185, s2|localhost:42475] returns group-BFB42CE21AFF:java.util.concurrent.CompletableFuture@28647781[Not completed]
2023-12-07 16:29:52,650 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s0: new RaftServerImpl for group-BFB42CE21AFF:[s0|localhost:39085, s1|localhost:44185, s2|localhost:42475] with CounterStateMachine:uninitialized
2023-12-07 16:29:52,650 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-BFB42CE21AFF:[s0|localhost:39085, s1|localhost:44185, s2|localhost:42475], format? true
2023-12-07 16:29:52,650 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-12-07 16:29:52,650 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s1
2023-12-07 16:29:52,650 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-12-07 16:29:52,650 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-12-07 16:29:52,650 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s1 does not exist.
2023-12-07 16:29:52,650 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-12-07 16:29:52,650 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s1
2023-12-07 16:29:52,650 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:52,651 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2023-12-07 16:29:52,651 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:52,651 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-12-07 16:29:52,651 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-BFB42CE21AFF: ConfigurationManager, init=-1: peers:[s0|localhost:39085, s1|localhost:44185, s2|localhost:42475]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-12-07 16:29:52,651 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:52,651 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-12-07 16:29:52,651 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 33859 (custom)
2023-12-07 16:29:52,651 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-12-07 16:29:52,651 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:52,651 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-12-07 16:29:52,651 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 41119 (custom)
2023-12-07 16:29:52,651 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2023-12-07 16:29:52,651 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-12-07 16:29:52,651 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 44185 (custom)
2023-12-07 16:29:52,651 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = LINEARIZABLE (custom)
2023-12-07 16:29:52,651 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-12-07 16:29:52,651 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2023-12-07 16:29:52,651 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:52,651 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-12-07 16:29:52,651 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:52,651 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:52,651 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-12-07 16:29:52,651 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-12-07 16:29:52,652 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:52,652 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:52,652 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-12-07 16:29:52,652 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-12-07 16:29:52,652 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-12-07 16:29:52,652 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-12-07 16:29:52,652 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-12-07 16:29:52,652 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:52,652 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2023-12-07 16:29:52,653 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:52,653 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s1] (custom)
2023-12-07 16:29:52,653 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-12-07 16:29:52,653 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-12-07 16:29:52,653 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(100)) - s1: addNew group-BFB42CE21AFF:[s0|localhost:39085, s1|localhost:44185, s2|localhost:42475] returns group-BFB42CE21AFF:java.util.concurrent.CompletableFuture@43983743[Not completed]
2023-12-07 16:29:52,653 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s1: new RaftServerImpl for group-BFB42CE21AFF:[s0|localhost:39085, s1|localhost:44185, s2|localhost:42475] with CounterStateMachine:uninitialized
2023-12-07 16:29:52,653 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-12-07 16:29:52,653 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-BFB42CE21AFF:[s0|localhost:39085, s1|localhost:44185, s2|localhost:42475], format? true
2023-12-07 16:29:52,653 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-12-07 16:29:52,653 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s2
2023-12-07 16:29:52,653 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-12-07 16:29:52,653 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-12-07 16:29:52,653 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:52,653 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s2 does not exist.
2023-12-07 16:29:52,653 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s2
2023-12-07 16:29:52,653 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2023-12-07 16:29:52,653 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:52,654 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-BFB42CE21AFF: ConfigurationManager, init=-1: peers:[s0|localhost:39085, s1|localhost:44185, s2|localhost:42475]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-12-07 16:29:52,654 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-12-07 16:29:52,654 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-12-07 16:29:52,654 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-12-07 16:29:52,654 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:52,654 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-12-07 16:29:52,654 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 35719 (custom)
2023-12-07 16:29:52,654 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2023-12-07 16:29:52,654 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:52,654 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = LINEARIZABLE (custom)
2023-12-07 16:29:52,654 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 32945 (custom)
2023-12-07 16:29:52,654 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2023-12-07 16:29:52,654 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-12-07 16:29:52,654 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 42475 (custom)
2023-12-07 16:29:52,654 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-12-07 16:29:52,654 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:52,654 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-12-07 16:29:52,654 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:52,654 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:52,654 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:52,654 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:52,654 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-12-07 16:29:52,654 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-12-07 16:29:52,654 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-12-07 16:29:52,654 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-12-07 16:29:52,655 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-12-07 16:29:52,655 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-12-07 16:29:52,655 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-12-07 16:29:52,655 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:52,655 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2023-12-07 16:29:52,655 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:52,656 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s2] (custom)
2023-12-07 16:29:52,656 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-12-07 16:29:52,656 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-12-07 16:29:52,656 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(100)) - s2: addNew group-BFB42CE21AFF:[s0|localhost:39085, s1|localhost:44185, s2|localhost:42475] returns group-BFB42CE21AFF:java.util.concurrent.CompletableFuture@5abccc3a[Not completed]
2023-12-07 16:29:52,656 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s2: new RaftServerImpl for group-BFB42CE21AFF:[s0|localhost:39085, s1|localhost:44185, s2|localhost:42475] with CounterStateMachine:uninitialized
2023-12-07 16:29:52,656 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-12-07 16:29:52,656 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-12-07 16:29:52,656 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-12-07 16:29:52,656 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-12-07 16:29:52,656 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-12-07 16:29:52,656 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-12-07 16:29:52,656 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:52,656 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s0] (custom)
2023-12-07 16:29:52,656 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2023-12-07 16:29:52,656 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:52,656 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-BFB42CE21AFF: ConfigurationManager, init=-1: peers:[s0|localhost:39085, s1|localhost:44185, s2|localhost:42475]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-12-07 16:29:52,656 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-12-07 16:29:52,656 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s0/7eafbbb4-e2a3-4c5e-9705-bfb42ce21aff does not exist. Creating ...
2023-12-07 16:29:52,656 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-12-07 16:29:52,657 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-12-07 16:29:52,657 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2023-12-07 16:29:52,657 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = LINEARIZABLE (custom)
2023-12-07 16:29:52,657 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2023-12-07 16:29:52,657 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s0/7eafbbb4-e2a3-4c5e-9705-bfb42ce21aff
2023-12-07 16:29:52,657 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:52,657 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:52,657 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-12-07 16:29:52,657 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-12-07 16:29:52,657 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-12-07 16:29:52,657 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-12-07 16:29:52,658 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s0/7eafbbb4-e2a3-4c5e-9705-bfb42ce21aff/in_use.lock acquired by nodename 9497@fv-az527-45
2023-12-07 16:29:52,658 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s0/7eafbbb4-e2a3-4c5e-9705-bfb42ce21aff/current
2023-12-07 16:29:52,658 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s0/7eafbbb4-e2a3-4c5e-9705-bfb42ce21aff/sm
2023-12-07 16:29:52,658 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s0/7eafbbb4-e2a3-4c5e-9705-bfb42ce21aff/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@cd4b5
2023-12-07 16:29:52,659 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s0/7eafbbb4-e2a3-4c5e-9705-bfb42ce21aff/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s0/7eafbbb4-e2a3-4c5e-9705-bfb42ce21aff/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:52,659 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s0/7eafbbb4-e2a3-4c5e-9705-bfb42ce21aff has been successfully formatted.
2023-12-07 16:29:52,659 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s0/7eafbbb4-e2a3-4c5e-9705-bfb42ce21aff/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s0/7eafbbb4-e2a3-4c5e-9705-bfb42ce21aff/current/raft-meta.conf
	at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:92)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:116)
	at java.base/sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:219)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:371)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:422)
	at java.base/java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:420)
	at java.base/java.nio.file.Files.newInputStream(Files.java:156)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:388)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:182)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:52,659 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-12-07 16:29:52,659 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-12-07 16:29:52,659 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:52,659 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-12-07 16:29:52,659 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-12-07 16:29:52,659 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:52,659 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-12-07 16:29:52,659 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-12-07 16:29:52,659 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:52,660 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-BFB42CE21AFF-cacheEviction-AwaitToRun,5,main] started
2023-12-07 16:29:52,660 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s0@group-BFB42CE21AFF-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s0/7eafbbb4-e2a3-4c5e-9705-bfb42ce21aff
2023-12-07 16:29:52,660 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-12-07 16:29:52,660 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-12-07 16:29:52,660 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:52,660 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-12-07 16:29:52,660 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-12-07 16:29:52,660 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-12-07 16:29:52,660 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-12-07 16:29:52,660 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-12-07 16:29:52,660 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2023-12-07 16:29:52,662 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:52,662 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-12-07 16:29:52,662 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-12-07 16:29:52,662 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-12-07 16:29:52,662 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-BFB42CE21AFF-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:52,662 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-BFB42CE21AFF-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:52,663 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s0@group-BFB42CE21AFF: start as a follower, conf=-1: peers:[s0|localhost:39085, s1|localhost:44185, s2|localhost:42475]|listeners:[], old=null
2023-12-07 16:29:52,663 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-BFB42CE21AFF: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-12-07 16:29:52,663 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-BFB42CE21AFF-FollowerState
2023-12-07 16:29:52,663 [s0@group-BFB42CE21AFF-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:52,663 [s0@group-BFB42CE21AFF-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:52,663 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-BFB42CE21AFF,id=s0
2023-12-07 16:29:52,663 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2023-12-07 16:29:52,663 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-12-07 16:29:52,663 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-12-07 16:29:52,663 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-12-07 16:29:52,663 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(406)) - s0: start RPC server
2023-12-07 16:29:52,664 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 35959
2023-12-07 16:29:52,664 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 39085
2023-12-07 16:29:52,664 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 44805
2023-12-07 16:29:52,664 [JvmPauseMonitor30] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2023-12-07 16:29:52,664 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-12-07 16:29:52,664 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-12-07 16:29:52,665 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s1] (custom)
2023-12-07 16:29:52,665 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s1/7eafbbb4-e2a3-4c5e-9705-bfb42ce21aff does not exist. Creating ...
2023-12-07 16:29:52,665 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s1/7eafbbb4-e2a3-4c5e-9705-bfb42ce21aff
2023-12-07 16:29:52,666 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s1/7eafbbb4-e2a3-4c5e-9705-bfb42ce21aff/in_use.lock acquired by nodename 9497@fv-az527-45
2023-12-07 16:29:52,666 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s1/7eafbbb4-e2a3-4c5e-9705-bfb42ce21aff/current
2023-12-07 16:29:52,666 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s1/7eafbbb4-e2a3-4c5e-9705-bfb42ce21aff/sm
2023-12-07 16:29:52,666 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s1/7eafbbb4-e2a3-4c5e-9705-bfb42ce21aff/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1214bb0
2023-12-07 16:29:52,667 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s1/7eafbbb4-e2a3-4c5e-9705-bfb42ce21aff/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s1/7eafbbb4-e2a3-4c5e-9705-bfb42ce21aff/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:52,667 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s1/7eafbbb4-e2a3-4c5e-9705-bfb42ce21aff has been successfully formatted.
2023-12-07 16:29:52,667 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s1/7eafbbb4-e2a3-4c5e-9705-bfb42ce21aff/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s1/7eafbbb4-e2a3-4c5e-9705-bfb42ce21aff/current/raft-meta.conf
	at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:92)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:116)
	at java.base/sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:219)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:371)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:422)
	at java.base/java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:420)
	at java.base/java.nio.file.Files.newInputStream(Files.java:156)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:388)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:182)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:52,667 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-12-07 16:29:52,667 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-12-07 16:29:52,667 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:52,667 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-12-07 16:29:52,667 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-12-07 16:29:52,668 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:52,668 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-12-07 16:29:52,668 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-12-07 16:29:52,668 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:52,668 [s1-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s1@group-BFB42CE21AFF-cacheEviction-AwaitToRun,5,main] started
2023-12-07 16:29:52,668 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s1@group-BFB42CE21AFF-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s1/7eafbbb4-e2a3-4c5e-9705-bfb42ce21aff
2023-12-07 16:29:52,668 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-12-07 16:29:52,668 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-12-07 16:29:52,668 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:52,668 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-12-07 16:29:52,668 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-12-07 16:29:52,668 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-12-07 16:29:52,668 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-12-07 16:29:52,668 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-12-07 16:29:52,668 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2023-12-07 16:29:52,669 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:52,669 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-12-07 16:29:52,669 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-12-07 16:29:52,669 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-12-07 16:29:52,669 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-BFB42CE21AFF-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:52,669 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-BFB42CE21AFF-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:52,670 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s1@group-BFB42CE21AFF: start as a follower, conf=-1: peers:[s0|localhost:39085, s1|localhost:44185, s2|localhost:42475]|listeners:[], old=null
2023-12-07 16:29:52,670 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-BFB42CE21AFF: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-12-07 16:29:52,670 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-BFB42CE21AFF-FollowerState
2023-12-07 16:29:52,671 [s1@group-BFB42CE21AFF-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:52,671 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-BFB42CE21AFF,id=s1
2023-12-07 16:29:52,671 [s1@group-BFB42CE21AFF-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:52,671 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2023-12-07 16:29:52,671 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-12-07 16:29:52,671 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-12-07 16:29:52,671 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-12-07 16:29:52,672 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(406)) - s1: start RPC server
2023-12-07 16:29:52,672 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 41119
2023-12-07 16:29:52,672 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 44185
2023-12-07 16:29:52,673 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 33859
2023-12-07 16:29:52,673 [JvmPauseMonitor31] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s1: Started
2023-12-07 16:29:52,673 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-12-07 16:29:52,673 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-12-07 16:29:52,673 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s2] (custom)
2023-12-07 16:29:52,674 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s2/7eafbbb4-e2a3-4c5e-9705-bfb42ce21aff does not exist. Creating ...
2023-12-07 16:29:52,674 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s2/7eafbbb4-e2a3-4c5e-9705-bfb42ce21aff
2023-12-07 16:29:52,675 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s2/7eafbbb4-e2a3-4c5e-9705-bfb42ce21aff/in_use.lock acquired by nodename 9497@fv-az527-45
2023-12-07 16:29:52,675 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s2/7eafbbb4-e2a3-4c5e-9705-bfb42ce21aff/current
2023-12-07 16:29:52,675 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s2/7eafbbb4-e2a3-4c5e-9705-bfb42ce21aff/sm
2023-12-07 16:29:52,675 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s2/7eafbbb4-e2a3-4c5e-9705-bfb42ce21aff/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@47097554
2023-12-07 16:29:52,676 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s2/7eafbbb4-e2a3-4c5e-9705-bfb42ce21aff/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s2/7eafbbb4-e2a3-4c5e-9705-bfb42ce21aff/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:52,676 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s2/7eafbbb4-e2a3-4c5e-9705-bfb42ce21aff has been successfully formatted.
2023-12-07 16:29:52,676 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s2/7eafbbb4-e2a3-4c5e-9705-bfb42ce21aff/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s2/7eafbbb4-e2a3-4c5e-9705-bfb42ce21aff/current/raft-meta.conf
	at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:92)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:116)
	at java.base/sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:219)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:371)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:422)
	at java.base/java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:420)
	at java.base/java.nio.file.Files.newInputStream(Files.java:156)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:388)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:182)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:52,676 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-12-07 16:29:52,676 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-12-07 16:29:52,676 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:52,676 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-12-07 16:29:52,676 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-12-07 16:29:52,676 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:52,677 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-12-07 16:29:52,677 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-12-07 16:29:52,677 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:52,677 [s2-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s2@group-BFB42CE21AFF-cacheEviction-AwaitToRun,5,main] started
2023-12-07 16:29:52,677 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s2@group-BFB42CE21AFF-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s2/7eafbbb4-e2a3-4c5e-9705-bfb42ce21aff
2023-12-07 16:29:52,677 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-12-07 16:29:52,677 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-12-07 16:29:52,677 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:52,677 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-12-07 16:29:52,677 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-12-07 16:29:52,677 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-12-07 16:29:52,677 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-12-07 16:29:52,677 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-12-07 16:29:52,677 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2023-12-07 16:29:52,679 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:52,679 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-12-07 16:29:52,679 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-12-07 16:29:52,679 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-12-07 16:29:52,679 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-BFB42CE21AFF-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:52,679 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-BFB42CE21AFF-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:52,680 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s2@group-BFB42CE21AFF: start as a follower, conf=-1: peers:[s0|localhost:39085, s1|localhost:44185, s2|localhost:42475]|listeners:[], old=null
2023-12-07 16:29:52,680 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-BFB42CE21AFF: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-12-07 16:29:52,680 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-BFB42CE21AFF-FollowerState
2023-12-07 16:29:52,680 [s2@group-BFB42CE21AFF-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:52,680 [s2@group-BFB42CE21AFF-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:52,680 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-BFB42CE21AFF,id=s2
2023-12-07 16:29:52,680 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2023-12-07 16:29:52,680 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-12-07 16:29:52,680 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-12-07 16:29:52,680 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-12-07 16:29:52,680 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(406)) - s2: start RPC server
2023-12-07 16:29:52,681 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 32945
2023-12-07 16:29:52,681 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 42475
2023-12-07 16:29:52,681 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 35719
2023-12-07 16:29:52,681 [JvmPauseMonitor32] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s2: Started
2023-12-07 16:29:52,682 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-12-07 16:29:52,682 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-BFB42CE21AFF:t0, leader=null, voted=, raftlog=Memoized:s0@group-BFB42CE21AFF-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:39085, s1|localhost:44185, s2|localhost:42475]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-BFB42CE21AFF:t0, leader=null, voted=, raftlog=Memoized:s1@group-BFB42CE21AFF-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:39085, s1|localhost:44185, s2|localhost:42475]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-BFB42CE21AFF:t0, leader=null, voted=, raftlog=Memoized:s2@group-BFB42CE21AFF-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:39085, s1|localhost:44185, s2|localhost:42475]|listeners:[], old=null RUNNING
2023-12-07 16:29:52,682 [Time-limited test] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(119)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-BFB42CE21AFF:t0, leader=null, voted=, raftlog=Memoized:s0@group-BFB42CE21AFF-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:39085, s1|localhost:44185, s2|localhost:42475]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-BFB42CE21AFF:t0, leader=null, voted=, raftlog=Memoized:s1@group-BFB42CE21AFF-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:39085, s1|localhost:44185, s2|localhost:42475]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-BFB42CE21AFF:t0, leader=null, voted=, raftlog=Memoized:s2@group-BFB42CE21AFF-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:39085, s1|localhost:44185, s2|localhost:42475]|listeners:[], old=null RUNNING
2023-12-07 16:29:52,715 [grpc-default-executor-2] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s1@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:41005
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:52,817 [grpc-default-executor-5] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s2@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:35469
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:52,867 [s0@group-BFB42CE21AFF-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-BFB42CE21AFF-FollowerState: change to CANDIDATE, lastRpcElapsedTime:204322698ns, electionTimeout:204ms
2023-12-07 16:29:52,867 [s0@group-BFB42CE21AFF-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-BFB42CE21AFF-FollowerState
2023-12-07 16:29:52,867 [s0@group-BFB42CE21AFF-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-BFB42CE21AFF: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-12-07 16:29:52,867 [s0@group-BFB42CE21AFF-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-12-07 16:29:52,867 [s0@group-BFB42CE21AFF-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-BFB42CE21AFF-LeaderElection16
2023-12-07 16:29:52,868 [s0@group-BFB42CE21AFF-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-BFB42CE21AFF-LeaderElection16 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|localhost:39085, s1|localhost:44185, s2|localhost:42475]|listeners:[], old=null
2023-12-07 16:29:52,868 [s0@group-BFB42CE21AFF-LeaderElection16-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s1
2023-12-07 16:29:52,868 [s0@group-BFB42CE21AFF-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:52,868 [s0@group-BFB42CE21AFF-LeaderElection16-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s2
2023-12-07 16:29:52,868 [s0@group-BFB42CE21AFF-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:52,871 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s2@group-BFB42CE21AFF: receive requestVote(PRE_VOTE, s0, group-BFB42CE21AFF, 0, (t:0, i:0))
2023-12-07 16:29:52,871 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s1@group-BFB42CE21AFF: receive requestVote(PRE_VOTE, s0, group-BFB42CE21AFF, 0, (t:0, i:0))
2023-12-07 16:29:52,871 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-BFB42CE21AFF-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-12-07 16:29:52,871 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-BFB42CE21AFF-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-12-07 16:29:52,871 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s2@group-BFB42CE21AFF replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-BFB42CE21AFF:t0, leader=null, voted=, raftlog=Memoized:s2@group-BFB42CE21AFF-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:39085, s1|localhost:44185, s2|localhost:42475]|listeners:[], old=null
2023-12-07 16:29:52,871 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s1@group-BFB42CE21AFF replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-BFB42CE21AFF:t0, leader=null, voted=, raftlog=Memoized:s1@group-BFB42CE21AFF-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:39085, s1|localhost:44185, s2|localhost:42475]|listeners:[], old=null
2023-12-07 16:29:52,871 [s0@group-BFB42CE21AFF-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-BFB42CE21AFF-LeaderElection16: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-12-07 16:29:52,871 [s0@group-BFB42CE21AFF-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t0
2023-12-07 16:29:52,871 [s0@group-BFB42CE21AFF-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-BFB42CE21AFF-LeaderElection16 PRE_VOTE round 0: result PASSED
2023-12-07 16:29:52,872 [s0@group-BFB42CE21AFF-LeaderElection16] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s0/7eafbbb4-e2a3-4c5e-9705-bfb42ce21aff/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@7506f4a9
2023-12-07 16:29:52,873 [s0@group-BFB42CE21AFF-LeaderElection16] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s0/7eafbbb4-e2a3-4c5e-9705-bfb42ce21aff/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s0/7eafbbb4-e2a3-4c5e-9705-bfb42ce21aff/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:52,873 [s0@group-BFB42CE21AFF-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s0@group-BFB42CE21AFF-LeaderElection16 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|localhost:39085, s1|localhost:44185, s2|localhost:42475]|listeners:[], old=null
2023-12-07 16:29:52,873 [s0@group-BFB42CE21AFF-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:52,873 [s0@group-BFB42CE21AFF-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:52,874 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s2@group-BFB42CE21AFF: receive requestVote(ELECTION, s0, group-BFB42CE21AFF, 1, (t:0, i:0))
2023-12-07 16:29:52,874 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-BFB42CE21AFF-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2023-12-07 16:29:52,874 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-BFB42CE21AFF: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2023-12-07 16:29:52,874 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s1@group-BFB42CE21AFF: receive requestVote(ELECTION, s0, group-BFB42CE21AFF, 1, (t:0, i:0))
2023-12-07 16:29:52,874 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-BFB42CE21AFF-FollowerState
2023-12-07 16:29:52,874 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-BFB42CE21AFF-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2023-12-07 16:29:52,874 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-BFB42CE21AFF: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2023-12-07 16:29:52,874 [s2@group-BFB42CE21AFF-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-BFB42CE21AFF-FollowerState was interrupted
2023-12-07 16:29:52,874 [grpc-default-executor-7] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-BFB42CE21AFF-FollowerState
2023-12-07 16:29:52,874 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-BFB42CE21AFF-FollowerState
2023-12-07 16:29:52,875 [s1@group-BFB42CE21AFF-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-BFB42CE21AFF-FollowerState was interrupted
2023-12-07 16:29:52,875 [grpc-default-executor-7] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-BFB42CE21AFF-FollowerState
2023-12-07 16:29:52,875 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(564)) - s2@group-BFB42CE21AFF: set firstElectionSinceStartup to false for candidate:s0
2023-12-07 16:29:52,875 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(564)) - s1@group-BFB42CE21AFF: set firstElectionSinceStartup to false for candidate:s0
2023-12-07 16:29:52,875 [grpc-default-executor-5] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s2/7eafbbb4-e2a3-4c5e-9705-bfb42ce21aff/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@161c236a
2023-12-07 16:29:52,875 [grpc-default-executor-7] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s1/7eafbbb4-e2a3-4c5e-9705-bfb42ce21aff/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@63d868c9
2023-12-07 16:29:52,876 [grpc-default-executor-7] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s1/7eafbbb4-e2a3-4c5e-9705-bfb42ce21aff/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s1/7eafbbb4-e2a3-4c5e-9705-bfb42ce21aff/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:52,876 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s1@group-BFB42CE21AFF replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-BFB42CE21AFF:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-BFB42CE21AFF-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:39085, s1|localhost:44185, s2|localhost:42475]|listeners:[], old=null
2023-12-07 16:29:52,876 [grpc-default-executor-5] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s2/7eafbbb4-e2a3-4c5e-9705-bfb42ce21aff/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s2/7eafbbb4-e2a3-4c5e-9705-bfb42ce21aff/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:52,876 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s2@group-BFB42CE21AFF replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-BFB42CE21AFF:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-BFB42CE21AFF-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:39085, s1|localhost:44185, s2|localhost:42475]|listeners:[], old=null
2023-12-07 16:29:52,876 [s0@group-BFB42CE21AFF-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-BFB42CE21AFF-LeaderElection16: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-12-07 16:29:52,876 [s0@group-BFB42CE21AFF-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t1
2023-12-07 16:29:52,876 [s0@group-BFB42CE21AFF-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s0@group-BFB42CE21AFF-LeaderElection16 ELECTION round 0: result PASSED
2023-12-07 16:29:52,876 [s0@group-BFB42CE21AFF-LeaderElection16] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-BFB42CE21AFF-LeaderElection16
2023-12-07 16:29:52,876 [s0@group-BFB42CE21AFF-LeaderElection16] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-BFB42CE21AFF: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-12-07 16:29:52,877 [s0@group-BFB42CE21AFF-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-12-07 16:29:52,877 [s0@group-BFB42CE21AFF-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-12-07 16:29:52,877 [s0@group-BFB42CE21AFF-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2023-12-07 16:29:52,877 [s0@group-BFB42CE21AFF-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-12-07 16:29:52,877 [s0@group-BFB42CE21AFF-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-12-07 16:29:52,877 [s0@group-BFB42CE21AFF-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-12-07 16:29:52,877 [s0@group-BFB42CE21AFF-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = true (custom)
2023-12-07 16:29:52,877 [s0@group-BFB42CE21AFF-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2023-12-07 16:29:52,877 [s0@group-BFB42CE21AFF-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-12-07 16:29:52,877 [s0@group-BFB42CE21AFF-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-12-07 16:29:52,877 [s0@group-BFB42CE21AFF-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-12-07 16:29:52,877 [s0@group-BFB42CE21AFF-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-12-07 16:29:52,877 [s0@group-BFB42CE21AFF-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:52,877 [s0@group-BFB42CE21AFF-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-12-07 16:29:52,877 [s0@group-BFB42CE21AFF-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2023-12-07 16:29:52,877 [s0@group-BFB42CE21AFF-LeaderElection16] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2023-12-07 16:29:52,877 [s0@group-BFB42CE21AFF-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:52,877 [s0@group-BFB42CE21AFF-LeaderElection16] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2023-12-07 16:29:52,877 [s0@group-BFB42CE21AFF-LeaderElection16] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2023-12-07 16:29:52,877 [s0@group-BFB42CE21AFF-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:52,877 [s0@group-BFB42CE21AFF-LeaderElection16] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:52,878 [s0@group-BFB42CE21AFF-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-12-07 16:29:52,878 [s0@group-BFB42CE21AFF-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:52,878 [s0@group-BFB42CE21AFF-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-12-07 16:29:52,878 [s0@group-BFB42CE21AFF-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2023-12-07 16:29:52,878 [s0@group-BFB42CE21AFF-LeaderElection16] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2023-12-07 16:29:52,878 [s0@group-BFB42CE21AFF-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:52,878 [s0@group-BFB42CE21AFF-LeaderElection16] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2023-12-07 16:29:52,878 [s0@group-BFB42CE21AFF-LeaderElection16] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2023-12-07 16:29:52,878 [s0@group-BFB42CE21AFF-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:52,878 [s0@group-BFB42CE21AFF-LeaderElection16] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:52,878 [s0@group-BFB42CE21AFF-LeaderElection16] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-BFB42CE21AFF-LeaderStateImpl
2023-12-07 16:29:52,878 [s0@group-BFB42CE21AFF-LeaderElection16] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(564)) - s0@group-BFB42CE21AFF: set firstElectionSinceStartup to false for becomeLeader
2023-12-07 16:29:52,878 [s0@group-BFB42CE21AFF-LeaderElection16] INFO  server.RaftServer$Division (ServerState.java:setLeader(265)) - s0@group-BFB42CE21AFF: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 227ms
2023-12-07 16:29:52,878 [s0@group-BFB42CE21AFF-LeaderElection16] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s0@group-BFB42CE21AFF-SegmentedRaftLogWorker: Starting segment from index:0
2023-12-07 16:29:52,878 [s0@group-BFB42CE21AFF-LeaderElection16] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(382)) - s0@group-BFB42CE21AFF: set configuration 0: peers:[s0|localhost:39085, s1|localhost:44185, s2|localhost:42475]|listeners:[], old=null
2023-12-07 16:29:52,878 [s0@group-BFB42CE21AFF-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2023-12-07 16:29:52,882 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(265)) - s1@group-BFB42CE21AFF: change Leader from null to s0 at term 1 for appendEntries, leader elected after 228ms
2023-12-07 16:29:52,884 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BFB42CE21AFF: receive appendEntries(s0, 1, null, -1, true, commits:[s0:c-1, s1:c-1, s2:c-1], cId:1, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39085"
dataStreamAddress: "localhost:37285"
clientAddress: "localhost:35959"
adminAddress: "localhost:44805"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:44185"
dataStreamAddress: "localhost:40957"
clientAddress: "localhost:41119"
adminAddress: "localhost:33859"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:42475"
dataStreamAddress: "localhost:38303"
clientAddress: "localhost:32945"
adminAddress: "localhost:35719"
startupRole: FOLLOWER
, old:)]
2023-12-07 16:29:52,884 [s1-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(382)) - s1@group-BFB42CE21AFF: set configuration 0: peers:[s0|localhost:39085, s1|localhost:44185, s2|localhost:42475]|listeners:[], old=null
2023-12-07 16:29:52,884 [s1-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s1@group-BFB42CE21AFF-SegmentedRaftLogWorker: Starting segment from index:0
2023-12-07 16:29:52,884 [s1@group-BFB42CE21AFF-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2023-12-07 16:29:52,885 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(265)) - s2@group-BFB42CE21AFF: change Leader from null to s0 at term 1 for appendEntries, leader elected after 228ms
2023-12-07 16:29:52,886 [s0@group-BFB42CE21AFF-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s0@group-BFB42CE21AFF-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s0/7eafbbb4-e2a3-4c5e-9705-bfb42ce21aff/current/log_inprogress_0
2023-12-07 16:29:52,886 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BFB42CE21AFF: receive appendEntries(s0, 1, null, -1, true, commits:[s0:c-1, s1:c-1, s2:c-1], cId:1, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:39085"
dataStreamAddress: "localhost:37285"
clientAddress: "localhost:35959"
adminAddress: "localhost:44805"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:44185"
dataStreamAddress: "localhost:40957"
clientAddress: "localhost:41119"
adminAddress: "localhost:33859"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:42475"
dataStreamAddress: "localhost:38303"
clientAddress: "localhost:32945"
adminAddress: "localhost:35719"
startupRole: FOLLOWER
, old:)]
2023-12-07 16:29:52,887 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(382)) - s2@group-BFB42CE21AFF: set configuration 0: peers:[s0|localhost:39085, s1|localhost:44185, s2|localhost:42475]|listeners:[], old=null
2023-12-07 16:29:52,887 [s2-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s2@group-BFB42CE21AFF-SegmentedRaftLogWorker: Starting segment from index:0
2023-12-07 16:29:52,887 [s2@group-BFB42CE21AFF-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2023-12-07 16:29:52,895 [s1@group-BFB42CE21AFF-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s1@group-BFB42CE21AFF-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s1/7eafbbb4-e2a3-4c5e-9705-bfb42ce21aff/current/log_inprogress_0
2023-12-07 16:29:52,895 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BFB42CE21AFF: succeeded to handle AppendEntries. Reply: s0<-s1#1:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-12-07 16:29:52,895 [s2@group-BFB42CE21AFF-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s2@group-BFB42CE21AFF-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s2/7eafbbb4-e2a3-4c5e-9705-bfb42ce21aff/current/log_inprogress_0
2023-12-07 16:29:52,895 [s0@group-BFB42CE21AFF-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s0/7eafbbb4-e2a3-4c5e-9705-bfb42ce21aff/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@658e7514
2023-12-07 16:29:52,895 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BFB42CE21AFF: succeeded to handle AppendEntries. Reply: s0<-s2#1:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-12-07 16:29:52,896 [s0@group-BFB42CE21AFF-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s0/7eafbbb4-e2a3-4c5e-9705-bfb42ce21aff/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s0/7eafbbb4-e2a3-4c5e-9705-bfb42ce21aff/current/raft-meta.conf with options [REPLACE_EXISTING]
2023-12-07 16:29:52,896 [s0@group-BFB42CE21AFF-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:isApplied(320)) - leader is ready since appliedIndex == 0 >= startIndex == 0
2023-12-07 16:29:52,920 [grpc-default-executor-3] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s1@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:41005
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:52,971 [s1@group-BFB42CE21AFF-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s1/7eafbbb4-e2a3-4c5e-9705-bfb42ce21aff/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@40a52b70
2023-12-07 16:29:52,972 [s2@group-BFB42CE21AFF-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s2/7eafbbb4-e2a3-4c5e-9705-bfb42ce21aff/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@34b96c41
2023-12-07 16:29:52,972 [s1@group-BFB42CE21AFF-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s1/7eafbbb4-e2a3-4c5e-9705-bfb42ce21aff/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s1/7eafbbb4-e2a3-4c5e-9705-bfb42ce21aff/current/raft-meta.conf with options [REPLACE_EXISTING]
2023-12-07 16:29:52,973 [s2@group-BFB42CE21AFF-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s2/7eafbbb4-e2a3-4c5e-9705-bfb42ce21aff/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc3e1233fc/s2/7eafbbb4-e2a3-4c5e-9705-bfb42ce21aff/current/raft-meta.conf with options [REPLACE_EXISTING]
2023-12-07 16:29:53,022 [grpc-default-executor-4] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s0@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:42899
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:53,124 [grpc-default-executor-3] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s2@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:35469
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:53,132 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-BFB42CE21AFF:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-BFB42CE21AFF-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:39085, s1|localhost:44185, s2|localhost:42475]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-BFB42CE21AFF:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-BFB42CE21AFF-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:39085, s1|localhost:44185, s2|localhost:42475]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-BFB42CE21AFF:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-BFB42CE21AFF-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:39085, s1|localhost:44185, s2|localhost:42475]|listeners:[], old=null RUNNING
2023-12-07 16:29:53,136 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s0@group-BFB42CE21AFF: receive client request(RaftClientRequest:client-AC2B1AF42A2B->s0@group-BFB42CE21AFF, cid=134, seq=null, RW, Message:494e4352454d454e54)
2023-12-07 16:29:53,136 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s0@group-BFB42CE21AFF-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-AC2B1AF42A2B->s0@group-BFB42CE21AFF, cid=134, seq=null, RW, Message:494e4352454d454e54, entry=(t:1, i:1), STATEMACHINELOGENTRY, 134@client-AC2B1AF42A2B
2023-12-07 16:29:53,137 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BFB42CE21AFF: receive appendEntries(s0, 1, (t:1, i:0), 0, true, commits:[s0:c0, s1:c0, s2:c0], cId:7, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 134@client-AC2B1AF42A2B]
2023-12-07 16:29:53,137 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BFB42CE21AFF: receive appendEntries(s0, 1, (t:1, i:0), 0, true, commits:[s0:c0, s1:c0, s2:c0], cId:8, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 134@client-AC2B1AF42A2B]
2023-12-07 16:29:53,137 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BFB42CE21AFF: succeeded to handle AppendEntries. Reply: s0<-s1#7:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2023-12-07 16:29:53,138 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BFB42CE21AFF: succeeded to handle AppendEntries. Reply: s0<-s2#8:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2023-12-07 16:29:53,138 [s0@group-BFB42CE21AFF-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:53,139 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BFB42CE21AFF: receive appendEntries(s0, 1, (t:1, i:1), 1, true, commits:[s0:c1, s1:c0, s2:c0], cId:8, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2023-12-07 16:29:53,140 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BFB42CE21AFF: succeeded to handle AppendEntries. Reply: s0<-s1#8:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2023-12-07 16:29:53,140 [s1@group-BFB42CE21AFF-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:53,140 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s0@group-BFB42CE21AFF: receive client request(RaftClientRequest:client-AC2B1AF42A2B->s0@group-BFB42CE21AFF, cid=135, seq=null, RO, Message:5155455259)
2023-12-07 16:29:53,140 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BFB42CE21AFF: receive appendEntries(s0, 1, (t:1, i:1), 1, true, commits:[s0:c1, s1:c0, s2:c0], cId:9, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2023-12-07 16:29:53,140 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=2, readAfterWriteConsistentIndex=null
2023-12-07 16:29:53,141 [s2@group-BFB42CE21AFF-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:53,141 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BFB42CE21AFF: succeeded to handle AppendEntries. Reply: s0<-s2#9:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2023-12-07 16:29:53,142 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s0@group-BFB42CE21AFF: receive client request(RaftClientRequest:client-AC2B1AF42A2B->s0@group-BFB42CE21AFF, cid=136, seq=null, RW, Message:494e4352454d454e54)
2023-12-07 16:29:53,142 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s0@group-BFB42CE21AFF-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-AC2B1AF42A2B->s0@group-BFB42CE21AFF, cid=136, seq=null, RW, Message:494e4352454d454e54, entry=(t:1, i:3), STATEMACHINELOGENTRY, 136@client-AC2B1AF42A2B
2023-12-07 16:29:53,143 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BFB42CE21AFF: receive appendEntries(s0, 1, (t:1, i:2), 2, true, commits:[s0:c2, s1:c1, s2:c1], cId:11, entries: [(t:1, i:3), STATEMACHINELOGENTRY, 136@client-AC2B1AF42A2B]
2023-12-07 16:29:53,143 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BFB42CE21AFF: receive appendEntries(s0, 1, (t:1, i:2), 2, true, commits:[s0:c2, s1:c1, s2:c1], cId:12, entries: [(t:1, i:3), STATEMACHINELOGENTRY, 136@client-AC2B1AF42A2B]
2023-12-07 16:29:53,143 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BFB42CE21AFF: succeeded to handle AppendEntries. Reply: s0<-s1#11:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2023-12-07 16:29:53,143 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BFB42CE21AFF: succeeded to handle AppendEntries. Reply: s0<-s2#12:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2023-12-07 16:29:53,144 [s0@group-BFB42CE21AFF-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:53,146 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BFB42CE21AFF: receive appendEntries(s0, 1, (t:1, i:3), 3, true, commits:[s0:c3, s1:c2, s2:c2], cId:12, entries: [(t:1, i:4), METADATAENTRY(c:3)]
2023-12-07 16:29:53,147 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BFB42CE21AFF: succeeded to handle AppendEntries. Reply: s0<-s1#12:OK-t1,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2023-12-07 16:29:53,147 [s1@group-BFB42CE21AFF-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:53,148 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s0@group-BFB42CE21AFF: receive client request(RaftClientRequest:client-AC2B1AF42A2B->s0@group-BFB42CE21AFF, cid=137, seq=null, RO, Message:5155455259)
2023-12-07 16:29:53,148 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BFB42CE21AFF: receive appendEntries(s0, 1, (t:1, i:3), 3, true, commits:[s0:c3, s1:c2, s2:c2], cId:14, entries: [(t:1, i:4), METADATAENTRY(c:3)]
2023-12-07 16:29:53,148 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=4, readAfterWriteConsistentIndex=null
2023-12-07 16:29:53,148 [s2@group-BFB42CE21AFF-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:53,149 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BFB42CE21AFF: succeeded to handle AppendEntries. Reply: s0<-s2#14:OK-t1,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2023-12-07 16:29:53,149 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s0@group-BFB42CE21AFF: receive client request(RaftClientRequest:client-AC2B1AF42A2B->s0@group-BFB42CE21AFF, cid=138, seq=null, RW, Message:494e4352454d454e54)
2023-12-07 16:29:53,149 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s0@group-BFB42CE21AFF-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-AC2B1AF42A2B->s0@group-BFB42CE21AFF, cid=138, seq=null, RW, Message:494e4352454d454e54, entry=(t:1, i:5), STATEMACHINELOGENTRY, 138@client-AC2B1AF42A2B
2023-12-07 16:29:53,150 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BFB42CE21AFF: receive appendEntries(s0, 1, (t:1, i:4), 4, true, commits:[s0:c4, s1:c3, s2:c3], cId:16, entries: [(t:1, i:5), STATEMACHINELOGENTRY, 138@client-AC2B1AF42A2B]
2023-12-07 16:29:53,150 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BFB42CE21AFF: receive appendEntries(s0, 1, (t:1, i:4), 4, true, commits:[s0:c4, s1:c3, s2:c3], cId:19, entries: [(t:1, i:5), STATEMACHINELOGENTRY, 138@client-AC2B1AF42A2B]
2023-12-07 16:29:53,150 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BFB42CE21AFF: succeeded to handle AppendEntries. Reply: s0<-s1#16:OK-t1,SUCCESS,nextIndex=6,followerCommit=4,matchIndex=5
2023-12-07 16:29:53,150 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BFB42CE21AFF: succeeded to handle AppendEntries. Reply: s0<-s2#19:OK-t1,SUCCESS,nextIndex=6,followerCommit=4,matchIndex=5
2023-12-07 16:29:53,151 [s0@group-BFB42CE21AFF-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:53,151 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BFB42CE21AFF: receive appendEntries(s0, 1, (t:1, i:5), 5, true, commits:[s0:c5, s1:c4, s2:c4], cId:17, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2023-12-07 16:29:53,152 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BFB42CE21AFF: succeeded to handle AppendEntries. Reply: s0<-s1#17:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2023-12-07 16:29:53,152 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BFB42CE21AFF: receive appendEntries(s0, 1, (t:1, i:5), 5, true, commits:[s0:c5, s1:c4, s2:c4], cId:21, entries: [(t:1, i:6), METADATAENTRY(c:5)]
2023-12-07 16:29:53,152 [s1@group-BFB42CE21AFF-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:53,152 [s2@group-BFB42CE21AFF-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:53,152 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BFB42CE21AFF: succeeded to handle AppendEntries. Reply: s0<-s2#21:OK-t1,SUCCESS,nextIndex=7,followerCommit=5,matchIndex=6
2023-12-07 16:29:53,152 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s0@group-BFB42CE21AFF: receive client request(RaftClientRequest:client-AC2B1AF42A2B->s0@group-BFB42CE21AFF, cid=139, seq=null, RO, Message:5155455259)
2023-12-07 16:29:53,152 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=6, readAfterWriteConsistentIndex=null
2023-12-07 16:29:53,154 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s0@group-BFB42CE21AFF: receive client request(RaftClientRequest:client-AC2B1AF42A2B->s0@group-BFB42CE21AFF, cid=140, seq=null, RW, Message:494e4352454d454e54)
2023-12-07 16:29:53,154 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s0@group-BFB42CE21AFF-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-AC2B1AF42A2B->s0@group-BFB42CE21AFF, cid=140, seq=null, RW, Message:494e4352454d454e54, entry=(t:1, i:7), STATEMACHINELOGENTRY, 140@client-AC2B1AF42A2B
2023-12-07 16:29:53,155 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BFB42CE21AFF: receive appendEntries(s0, 1, (t:1, i:6), 6, true, commits:[s0:c6, s1:c5, s2:c5], cId:25, entries: [(t:1, i:7), STATEMACHINELOGENTRY, 140@client-AC2B1AF42A2B]
2023-12-07 16:29:53,155 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BFB42CE21AFF: receive appendEntries(s0, 1, (t:1, i:6), 6, true, commits:[s0:c6, s1:c5, s2:c5], cId:20, entries: [(t:1, i:7), STATEMACHINELOGENTRY, 140@client-AC2B1AF42A2B]
2023-12-07 16:29:53,155 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BFB42CE21AFF: succeeded to handle AppendEntries. Reply: s0<-s2#25:OK-t1,SUCCESS,nextIndex=8,followerCommit=6,matchIndex=7
2023-12-07 16:29:53,155 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BFB42CE21AFF: succeeded to handle AppendEntries. Reply: s0<-s1#20:OK-t1,SUCCESS,nextIndex=8,followerCommit=6,matchIndex=7
2023-12-07 16:29:53,156 [s0@group-BFB42CE21AFF-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:53,156 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BFB42CE21AFF: receive appendEntries(s0, 1, (t:1, i:7), 7, true, commits:[s0:c7, s1:c6, s2:c6], cId:21, entries: [(t:1, i:8), METADATAENTRY(c:7)]
2023-12-07 16:29:53,156 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BFB42CE21AFF: receive appendEntries(s0, 1, (t:1, i:7), 7, true, commits:[s0:c7, s1:c6, s2:c6], cId:26, entries: [(t:1, i:8), METADATAENTRY(c:7)]
2023-12-07 16:29:53,157 [s1@group-BFB42CE21AFF-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:53,156 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BFB42CE21AFF: succeeded to handle AppendEntries. Reply: s0<-s1#21:OK-t1,SUCCESS,nextIndex=9,followerCommit=7,matchIndex=8
2023-12-07 16:29:53,157 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BFB42CE21AFF: succeeded to handle AppendEntries. Reply: s0<-s2#26:OK-t1,SUCCESS,nextIndex=9,followerCommit=7,matchIndex=8
2023-12-07 16:29:53,157 [s2@group-BFB42CE21AFF-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:53,157 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s0@group-BFB42CE21AFF: receive client request(RaftClientRequest:client-AC2B1AF42A2B->s0@group-BFB42CE21AFF, cid=141, seq=null, RO, Message:5155455259)
2023-12-07 16:29:53,158 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=8, readAfterWriteConsistentIndex=null
2023-12-07 16:29:53,162 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s0@group-BFB42CE21AFF: receive client request(RaftClientRequest:client-AC2B1AF42A2B->s0@group-BFB42CE21AFF, cid=142, seq=null, RW, Message:494e4352454d454e54)
2023-12-07 16:29:53,163 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s0@group-BFB42CE21AFF-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-AC2B1AF42A2B->s0@group-BFB42CE21AFF, cid=142, seq=null, RW, Message:494e4352454d454e54, entry=(t:1, i:9), STATEMACHINELOGENTRY, 142@client-AC2B1AF42A2B
2023-12-07 16:29:53,163 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BFB42CE21AFF: receive appendEntries(s0, 1, (t:1, i:8), 8, true, commits:[s0:c8, s1:c7, s2:c7], cId:24, entries: [(t:1, i:9), STATEMACHINELOGENTRY, 142@client-AC2B1AF42A2B]
2023-12-07 16:29:53,163 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BFB42CE21AFF: receive appendEntries(s0, 1, (t:1, i:8), 8, true, commits:[s0:c8, s1:c7, s2:c7], cId:30, entries: [(t:1, i:9), STATEMACHINELOGENTRY, 142@client-AC2B1AF42A2B]
2023-12-07 16:29:53,164 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BFB42CE21AFF: succeeded to handle AppendEntries. Reply: s0<-s1#24:OK-t1,SUCCESS,nextIndex=10,followerCommit=8,matchIndex=9
2023-12-07 16:29:53,164 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BFB42CE21AFF: succeeded to handle AppendEntries. Reply: s0<-s2#30:OK-t1,SUCCESS,nextIndex=10,followerCommit=8,matchIndex=9
2023-12-07 16:29:53,164 [s0@group-BFB42CE21AFF-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:53,164 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BFB42CE21AFF: receive appendEntries(s0, 1, (t:1, i:9), 9, true, commits:[s0:c9, s1:c8, s2:c8], cId:25, entries: [(t:1, i:10), METADATAENTRY(c:9)]
2023-12-07 16:29:53,165 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BFB42CE21AFF: succeeded to handle AppendEntries. Reply: s0<-s1#25:OK-t1,SUCCESS,nextIndex=11,followerCommit=9,matchIndex=10
2023-12-07 16:29:53,165 [s1@group-BFB42CE21AFF-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:53,165 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BFB42CE21AFF: receive appendEntries(s0, 1, (t:1, i:9), 9, true, commits:[s0:c9, s1:c8, s2:c8], cId:32, entries: [(t:1, i:10), METADATAENTRY(c:9)]
2023-12-07 16:29:53,165 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BFB42CE21AFF: succeeded to handle AppendEntries. Reply: s0<-s2#32:OK-t1,SUCCESS,nextIndex=11,followerCommit=9,matchIndex=10
2023-12-07 16:29:53,165 [s2@group-BFB42CE21AFF-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:53,166 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s0@group-BFB42CE21AFF: receive client request(RaftClientRequest:client-AC2B1AF42A2B->s0@group-BFB42CE21AFF, cid=143, seq=null, RO, Message:5155455259)
2023-12-07 16:29:53,166 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=10, readAfterWriteConsistentIndex=null
2023-12-07 16:29:53,174 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s0@group-BFB42CE21AFF: receive client request(RaftClientRequest:client-AC2B1AF42A2B->s0@group-BFB42CE21AFF, cid=144, seq=null, RW, Message:494e4352454d454e54)
2023-12-07 16:29:53,174 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s0@group-BFB42CE21AFF-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-AC2B1AF42A2B->s0@group-BFB42CE21AFF, cid=144, seq=null, RW, Message:494e4352454d454e54, entry=(t:1, i:11), STATEMACHINELOGENTRY, 144@client-AC2B1AF42A2B
2023-12-07 16:29:53,175 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BFB42CE21AFF: receive appendEntries(s0, 1, (t:1, i:10), 10, true, commits:[s0:c10, s1:c9, s2:c9], cId:28, entries: [(t:1, i:11), STATEMACHINELOGENTRY, 144@client-AC2B1AF42A2B]
2023-12-07 16:29:53,175 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BFB42CE21AFF: receive appendEntries(s0, 1, (t:1, i:10), 10, true, commits:[s0:c10, s1:c9, s2:c9], cId:36, entries: [(t:1, i:11), STATEMACHINELOGENTRY, 144@client-AC2B1AF42A2B]
2023-12-07 16:29:53,176 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BFB42CE21AFF: succeeded to handle AppendEntries. Reply: s0<-s1#28:OK-t1,SUCCESS,nextIndex=12,followerCommit=10,matchIndex=11
2023-12-07 16:29:53,176 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BFB42CE21AFF: succeeded to handle AppendEntries. Reply: s0<-s2#36:OK-t1,SUCCESS,nextIndex=12,followerCommit=10,matchIndex=11
2023-12-07 16:29:53,176 [s0@group-BFB42CE21AFF-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:53,177 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BFB42CE21AFF: receive appendEntries(s0, 1, (t:1, i:11), 11, true, commits:[s0:c11, s1:c10, s2:c10], cId:29, entries: [(t:1, i:12), METADATAENTRY(c:11)]
2023-12-07 16:29:53,177 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BFB42CE21AFF: receive appendEntries(s0, 1, (t:1, i:11), 11, true, commits:[s0:c11, s1:c10, s2:c10], cId:38, entries: [(t:1, i:12), METADATAENTRY(c:11)]
2023-12-07 16:29:53,177 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BFB42CE21AFF: succeeded to handle AppendEntries. Reply: s0<-s1#29:OK-t1,SUCCESS,nextIndex=13,followerCommit=11,matchIndex=12
2023-12-07 16:29:53,177 [s1@group-BFB42CE21AFF-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:53,177 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BFB42CE21AFF: succeeded to handle AppendEntries. Reply: s0<-s2#38:OK-t1,SUCCESS,nextIndex=13,followerCommit=11,matchIndex=12
2023-12-07 16:29:53,177 [s2@group-BFB42CE21AFF-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:53,178 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s0@group-BFB42CE21AFF: receive client request(RaftClientRequest:client-AC2B1AF42A2B->s0@group-BFB42CE21AFF, cid=145, seq=null, RO, Message:5155455259)
2023-12-07 16:29:53,178 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=12, readAfterWriteConsistentIndex=null
2023-12-07 16:29:53,180 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s0@group-BFB42CE21AFF: receive client request(RaftClientRequest:client-AC2B1AF42A2B->s0@group-BFB42CE21AFF, cid=146, seq=null, RW, Message:494e4352454d454e54)
2023-12-07 16:29:53,180 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s0@group-BFB42CE21AFF-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-AC2B1AF42A2B->s0@group-BFB42CE21AFF, cid=146, seq=null, RW, Message:494e4352454d454e54, entry=(t:1, i:13), STATEMACHINELOGENTRY, 146@client-AC2B1AF42A2B
2023-12-07 16:29:53,180 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BFB42CE21AFF: receive appendEntries(s0, 1, (t:1, i:12), 12, true, commits:[s0:c12, s1:c11, s2:c11], cId:32, entries: [(t:1, i:13), STATEMACHINELOGENTRY, 146@client-AC2B1AF42A2B]
2023-12-07 16:29:53,180 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BFB42CE21AFF: receive appendEntries(s0, 1, (t:1, i:12), 12, true, commits:[s0:c12, s1:c11, s2:c11], cId:41, entries: [(t:1, i:13), STATEMACHINELOGENTRY, 146@client-AC2B1AF42A2B]
2023-12-07 16:29:53,181 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BFB42CE21AFF: succeeded to handle AppendEntries. Reply: s0<-s1#32:OK-t1,SUCCESS,nextIndex=14,followerCommit=12,matchIndex=13
2023-12-07 16:29:53,181 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BFB42CE21AFF: succeeded to handle AppendEntries. Reply: s0<-s2#41:OK-t1,SUCCESS,nextIndex=14,followerCommit=12,matchIndex=13
2023-12-07 16:29:53,181 [s0@group-BFB42CE21AFF-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:53,182 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BFB42CE21AFF: receive appendEntries(s0, 1, (t:1, i:13), 13, true, commits:[s0:c13, s1:c12, s2:c12], cId:33, entries: [(t:1, i:14), METADATAENTRY(c:13)]
2023-12-07 16:29:53,182 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BFB42CE21AFF: receive appendEntries(s0, 1, (t:1, i:13), 13, true, commits:[s0:c13, s1:c12, s2:c12], cId:42, entries: [(t:1, i:14), METADATAENTRY(c:13)]
2023-12-07 16:29:53,182 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BFB42CE21AFF: succeeded to handle AppendEntries. Reply: s0<-s2#42:OK-t1,SUCCESS,nextIndex=15,followerCommit=13,matchIndex=14
2023-12-07 16:29:53,182 [s2@group-BFB42CE21AFF-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:53,182 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BFB42CE21AFF: succeeded to handle AppendEntries. Reply: s0<-s1#33:OK-t1,SUCCESS,nextIndex=15,followerCommit=13,matchIndex=14
2023-12-07 16:29:53,182 [s1@group-BFB42CE21AFF-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:53,184 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s0@group-BFB42CE21AFF: receive client request(RaftClientRequest:client-AC2B1AF42A2B->s0@group-BFB42CE21AFF, cid=147, seq=null, RO, Message:5155455259)
2023-12-07 16:29:53,184 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=14, readAfterWriteConsistentIndex=null
2023-12-07 16:29:53,185 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s0@group-BFB42CE21AFF: receive client request(RaftClientRequest:client-AC2B1AF42A2B->s0@group-BFB42CE21AFF, cid=148, seq=null, RW, Message:494e4352454d454e54)
2023-12-07 16:29:53,185 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s0@group-BFB42CE21AFF-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-AC2B1AF42A2B->s0@group-BFB42CE21AFF, cid=148, seq=null, RW, Message:494e4352454d454e54, entry=(t:1, i:15), STATEMACHINELOGENTRY, 148@client-AC2B1AF42A2B
2023-12-07 16:29:53,186 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BFB42CE21AFF: receive appendEntries(s0, 1, (t:1, i:14), 14, true, commits:[s0:c14, s1:c13, s2:c13], cId:45, entries: [(t:1, i:15), STATEMACHINELOGENTRY, 148@client-AC2B1AF42A2B]
2023-12-07 16:29:53,186 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BFB42CE21AFF: receive appendEntries(s0, 1, (t:1, i:14), 14, true, commits:[s0:c14, s1:c13, s2:c13], cId:36, entries: [(t:1, i:15), STATEMACHINELOGENTRY, 148@client-AC2B1AF42A2B]
2023-12-07 16:29:53,186 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BFB42CE21AFF: succeeded to handle AppendEntries. Reply: s0<-s2#45:OK-t1,SUCCESS,nextIndex=16,followerCommit=14,matchIndex=15
2023-12-07 16:29:53,186 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BFB42CE21AFF: succeeded to handle AppendEntries. Reply: s0<-s1#36:OK-t1,SUCCESS,nextIndex=16,followerCommit=14,matchIndex=15
2023-12-07 16:29:53,187 [s0@group-BFB42CE21AFF-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:53,187 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BFB42CE21AFF: receive appendEntries(s0, 1, (t:1, i:15), 15, true, commits:[s0:c15, s1:c14, s2:c14], cId:47, entries: [(t:1, i:16), METADATAENTRY(c:15)]
2023-12-07 16:29:53,187 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BFB42CE21AFF: receive appendEntries(s0, 1, (t:1, i:15), 15, true, commits:[s0:c15, s1:c14, s2:c14], cId:38, entries: [(t:1, i:16), METADATAENTRY(c:15)]
2023-12-07 16:29:53,188 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BFB42CE21AFF: succeeded to handle AppendEntries. Reply: s0<-s2#47:OK-t1,SUCCESS,nextIndex=17,followerCommit=15,matchIndex=16
2023-12-07 16:29:53,188 [s2@group-BFB42CE21AFF-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:53,188 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BFB42CE21AFF: succeeded to handle AppendEntries. Reply: s0<-s1#38:OK-t1,SUCCESS,nextIndex=17,followerCommit=15,matchIndex=16
2023-12-07 16:29:53,188 [s1@group-BFB42CE21AFF-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:53,189 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s0@group-BFB42CE21AFF: receive client request(RaftClientRequest:client-AC2B1AF42A2B->s0@group-BFB42CE21AFF, cid=149, seq=null, RO, Message:5155455259)
2023-12-07 16:29:53,190 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=16, readAfterWriteConsistentIndex=null
2023-12-07 16:29:53,191 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s0@group-BFB42CE21AFF: receive client request(RaftClientRequest:client-AC2B1AF42A2B->s0@group-BFB42CE21AFF, cid=150, seq=null, RW, Message:494e4352454d454e54)
2023-12-07 16:29:53,191 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s0@group-BFB42CE21AFF-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-AC2B1AF42A2B->s0@group-BFB42CE21AFF, cid=150, seq=null, RW, Message:494e4352454d454e54, entry=(t:1, i:17), STATEMACHINELOGENTRY, 150@client-AC2B1AF42A2B
2023-12-07 16:29:53,191 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BFB42CE21AFF: receive appendEntries(s0, 1, (t:1, i:16), 16, true, commits:[s0:c16, s1:c15, s2:c15], cId:41, entries: [(t:1, i:17), STATEMACHINELOGENTRY, 150@client-AC2B1AF42A2B]
2023-12-07 16:29:53,192 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BFB42CE21AFF: receive appendEntries(s0, 1, (t:1, i:16), 16, true, commits:[s0:c16, s1:c15, s2:c15], cId:50, entries: [(t:1, i:17), STATEMACHINELOGENTRY, 150@client-AC2B1AF42A2B]
2023-12-07 16:29:53,192 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BFB42CE21AFF: succeeded to handle AppendEntries. Reply: s0<-s1#41:OK-t1,SUCCESS,nextIndex=18,followerCommit=16,matchIndex=17
2023-12-07 16:29:53,192 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BFB42CE21AFF: succeeded to handle AppendEntries. Reply: s0<-s2#50:OK-t1,SUCCESS,nextIndex=18,followerCommit=16,matchIndex=17
2023-12-07 16:29:53,192 [s0@group-BFB42CE21AFF-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:53,193 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BFB42CE21AFF: receive appendEntries(s0, 1, (t:1, i:17), 17, true, commits:[s0:c17, s1:c16, s2:c15], cId:42, entries: [(t:1, i:18), METADATAENTRY(c:17)]
2023-12-07 16:29:53,193 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BFB42CE21AFF: succeeded to handle AppendEntries. Reply: s0<-s1#42:OK-t1,SUCCESS,nextIndex=19,followerCommit=17,matchIndex=18
2023-12-07 16:29:53,193 [s1@group-BFB42CE21AFF-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:53,194 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BFB42CE21AFF: receive appendEntries(s0, 1, (t:1, i:17), 17, true, commits:[s0:c17, s1:c16, s2:c15], cId:52, entries: [(t:1, i:18), METADATAENTRY(c:17)]
2023-12-07 16:29:53,194 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BFB42CE21AFF: succeeded to handle AppendEntries. Reply: s0<-s2#52:OK-t1,SUCCESS,nextIndex=19,followerCommit=17,matchIndex=18
2023-12-07 16:29:53,194 [s2@group-BFB42CE21AFF-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:53,195 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s0@group-BFB42CE21AFF: receive client request(RaftClientRequest:client-AC2B1AF42A2B->s0@group-BFB42CE21AFF, cid=151, seq=null, RO, Message:5155455259)
2023-12-07 16:29:53,195 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=18, readAfterWriteConsistentIndex=null
2023-12-07 16:29:53,196 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s0@group-BFB42CE21AFF: receive client request(RaftClientRequest:client-AC2B1AF42A2B->s0@group-BFB42CE21AFF, cid=152, seq=null, RW, Message:494e4352454d454e54)
2023-12-07 16:29:53,196 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s0@group-BFB42CE21AFF-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-AC2B1AF42A2B->s0@group-BFB42CE21AFF, cid=152, seq=null, RW, Message:494e4352454d454e54, entry=(t:1, i:19), STATEMACHINELOGENTRY, 152@client-AC2B1AF42A2B
2023-12-07 16:29:53,197 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BFB42CE21AFF: receive appendEntries(s0, 1, (t:1, i:18), 18, true, commits:[s0:c18, s1:c17, s2:c17], cId:56, entries: [(t:1, i:19), STATEMACHINELOGENTRY, 152@client-AC2B1AF42A2B]
2023-12-07 16:29:53,197 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BFB42CE21AFF: receive appendEntries(s0, 1, (t:1, i:18), 18, true, commits:[s0:c18, s1:c17, s2:c17], cId:46, entries: [(t:1, i:19), STATEMACHINELOGENTRY, 152@client-AC2B1AF42A2B]
2023-12-07 16:29:53,197 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BFB42CE21AFF: succeeded to handle AppendEntries. Reply: s0<-s2#56:OK-t1,SUCCESS,nextIndex=20,followerCommit=18,matchIndex=19
2023-12-07 16:29:53,197 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BFB42CE21AFF: succeeded to handle AppendEntries. Reply: s0<-s1#46:OK-t1,SUCCESS,nextIndex=20,followerCommit=18,matchIndex=19
2023-12-07 16:29:53,198 [s0@group-BFB42CE21AFF-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:53,198 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BFB42CE21AFF: receive appendEntries(s0, 1, (t:1, i:19), 19, true, commits:[s0:c19, s1:c18, s2:c18], cId:48, entries: [(t:1, i:20), METADATAENTRY(c:19)]
2023-12-07 16:29:53,198 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-BFB42CE21AFF: succeeded to handle AppendEntries. Reply: s0<-s1#48:OK-t1,SUCCESS,nextIndex=21,followerCommit=19,matchIndex=20
2023-12-07 16:29:53,198 [s1@group-BFB42CE21AFF-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:53,199 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BFB42CE21AFF: receive appendEntries(s0, 1, (t:1, i:19), 19, true, commits:[s0:c19, s1:c18, s2:c18], cId:58, entries: [(t:1, i:20), METADATAENTRY(c:19)]
2023-12-07 16:29:53,199 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-BFB42CE21AFF: succeeded to handle AppendEntries. Reply: s0<-s2#58:OK-t1,SUCCESS,nextIndex=21,followerCommit=19,matchIndex=20
2023-12-07 16:29:53,199 [s2@group-BFB42CE21AFF-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:53,200 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s0@group-BFB42CE21AFF: receive client request(RaftClientRequest:client-AC2B1AF42A2B->s0@group-BFB42CE21AFF, cid=153, seq=null, RO, Message:5155455259)
2023-12-07 16:29:53,200 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=20, readAfterWriteConsistentIndex=null
2023-12-07 16:29:53,203 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-12-07 16:29:53,203 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-12-07 16:29:53,203 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2023-12-07 16:29:53,203 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-12-07 16:29:53,203 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-12-07 16:29:53,203 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-BFB42CE21AFF:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-BFB42CE21AFF-SegmentedRaftLog:OPENED:c20, conf=0: peers:[s0|localhost:39085, s1|localhost:44185, s2|localhost:42475]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-BFB42CE21AFF:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-BFB42CE21AFF-SegmentedRaftLog:OPENED:c19, conf=0: peers:[s0|localhost:39085, s1|localhost:44185, s2|localhost:42475]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-BFB42CE21AFF:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-BFB42CE21AFF-SegmentedRaftLog:OPENED:c19, conf=0: peers:[s0|localhost:39085, s1|localhost:44185, s2|localhost:42475]|listeners:[], old=null RUNNING
2023-12-07 16:29:53,203 [MiniRaftCluster-55] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(416)) - s0: close
2023-12-07 16:29:53,203 [MiniRaftCluster-56] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(416)) - s1: close
2023-12-07 16:29:53,203 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$3(516)) - s0@group-BFB42CE21AFF: shutdown
2023-12-07 16:29:53,204 [MiniRaftCluster-56] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-12-07 16:29:53,204 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-BFB42CE21AFF,id=s0
2023-12-07 16:29:53,204 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(94)) - s0: shutdown s0@group-BFB42CE21AFF-LeaderStateImpl
2023-12-07 16:29:53,203 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$3(516)) - s1@group-BFB42CE21AFF: shutdown
2023-12-07 16:29:53,204 [MiniRaftCluster-55] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-12-07 16:29:53,204 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-BFB42CE21AFF,id=s1
2023-12-07 16:29:53,204 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-BFB42CE21AFF-FollowerState
2023-12-07 16:29:53,204 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s1@group-BFB42CE21AFF-StateMachineUpdater: set stopIndex = 19
2023-12-07 16:29:53,204 [MiniRaftCluster-57] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(416)) - s2: close
2023-12-07 16:29:53,204 [s1@group-BFB42CE21AFF-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-BFB42CE21AFF-FollowerState was interrupted
2023-12-07 16:29:53,204 [s0@group-BFB42CE21AFF->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(279)) - s0@group-BFB42CE21AFF->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2023-12-07 16:29:53,204 [s0@group-BFB42CE21AFF->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(279)) - s0@group-BFB42CE21AFF->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2023-12-07 16:29:53,204 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(157)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#48-t1,previous=(t:1, i:19),leaderCommit=19,initializing? true,entries: size=1, first=(t:1, i:20), METADATAENTRY(c:19)
2023-12-07 16:29:53,204 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(157)) - s2: Completed APPEND_ENTRIES, lastRequest: null
2023-12-07 16:29:53,204 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$5(159)) - s1: Completed APPEND_ENTRIES, lastReply: null
2023-12-07 16:29:53,205 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$5(159)) - s2: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s0"
  replyId: "s2"
  raftGroupId {
    id: "~\257\273\264\342\243L^\227\005\277\264,\342\032\377"
  }
  callId: 7
  success: true
}
term: 1
nextIndex: 1
matchIndex: 18446744073709551615
isHearbeat: true

2023-12-07 16:29:53,205 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(534)) - s0@group-BFB42CE21AFF->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-12-07 16:29:53,205 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(157)) - s1: Completed APPEND_ENTRIES, lastRequest: null
2023-12-07 16:29:53,205 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(423)) - s1@group-BFB42CE21AFF: applyIndex: 19
2023-12-07 16:29:53,205 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(534)) - s0@group-BFB42CE21AFF->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-12-07 16:29:53,205 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$5(159)) - s1: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s0"
  replyId: "s1"
  raftGroupId {
    id: "~\257\273\264\342\243L^\227\005\277\264,\342\032\377"
  }
  callId: 6
  success: true
}
term: 1
nextIndex: 1
matchIndex: 18446744073709551615
isHearbeat: true

2023-12-07 16:29:53,204 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(289)) - s0@group-BFB42CE21AFF-PendingRequests: sendNotLeaderResponses
2023-12-07 16:29:53,205 [s1@group-BFB42CE21AFF-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s1@group-BFB42CE21AFF-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2023-12-07 16:29:53,205 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(157)) - s2: Completed APPEND_ENTRIES, lastRequest: s0->s2#58-t1,previous=(t:1, i:19),leaderCommit=19,initializing? true,entries: size=1, first=(t:1, i:20), METADATAENTRY(c:19)
2023-12-07 16:29:53,205 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$5(159)) - s2: Completed APPEND_ENTRIES, lastReply: null
2023-12-07 16:29:53,205 [grpc-default-executor-7] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(534)) - s0@group-BFB42CE21AFF->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-12-07 16:29:53,205 [grpc-default-executor-3] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(534)) - s0@group-BFB42CE21AFF->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-12-07 16:29:53,212 [MiniRaftCluster-57] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-12-07 16:29:53,212 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$3(516)) - s2@group-BFB42CE21AFF: shutdown
2023-12-07 16:29:53,212 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-BFB42CE21AFF,id=s2
2023-12-07 16:29:53,212 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-BFB42CE21AFF-FollowerState
2023-12-07 16:29:53,212 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s2@group-BFB42CE21AFF-StateMachineUpdater: set stopIndex = 19
2023-12-07 16:29:53,212 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(423)) - s2@group-BFB42CE21AFF: applyIndex: 19
2023-12-07 16:29:53,212 [s2@group-BFB42CE21AFF-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s2@group-BFB42CE21AFF-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2023-12-07 16:29:53,213 [s2@group-BFB42CE21AFF-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-BFB42CE21AFF-FollowerState was interrupted
2023-12-07 16:29:53,213 [Thread-875] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(103)) - s1 Close channels
2023-12-07 16:29:53,217 [MiniRaftCluster-56] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-12-07 16:29:53,218 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s0@group-BFB42CE21AFF-StateMachineUpdater: set stopIndex = 20
2023-12-07 16:29:53,218 [MiniRaftCluster-56] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server GrpcServerProtocolService now
2023-12-07 16:29:53,218 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(423)) - s0@group-BFB42CE21AFF: applyIndex: 20
2023-12-07 16:29:53,218 [s0@group-BFB42CE21AFF-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-BFB42CE21AFF-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2023-12-07 16:29:53,218 [Thread-877] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(103)) - s2 Close channels
2023-12-07 16:29:53,219 [MiniRaftCluster-56] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server GrpcServerProtocolService successfully
2023-12-07 16:29:53,219 [MiniRaftCluster-56] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-12-07 16:29:53,220 [MiniRaftCluster-55] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-12-07 16:29:53,220 [MiniRaftCluster-55] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server GrpcServerProtocolService now
2023-12-07 16:29:53,224 [MiniRaftCluster-57] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-12-07 16:29:53,224 [MiniRaftCluster-57] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server GrpcServerProtocolService now
2023-12-07 16:29:53,228 [grpc-default-executor-5] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s1@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.drainPendingCallbacks(DelayedClientCall.java:528)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$1DrainListenerRunnable.runInContext(DelayedClientCall.java:317)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 11 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 11 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:41005
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:53,232 [MiniRaftCluster-56] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-12-07 16:29:53,233 [MiniRaftCluster-55] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server GrpcServerProtocolService successfully
2023-12-07 16:29:53,233 [MiniRaftCluster-55] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-12-07 16:29:53,234 [MiniRaftCluster-57] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server GrpcServerProtocolService successfully
2023-12-07 16:29:53,234 [MiniRaftCluster-57] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-12-07 16:29:53,234 [MiniRaftCluster-55] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-12-07 16:29:53,235 [MiniRaftCluster-57] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-12-07 16:29:53,330 [grpc-default-executor-2] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s0@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:42899
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:53,433 [grpc-default-executor-7] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s1@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:41005
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:53,537 [grpc-default-executor-5] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s2@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:35469
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:53,639 [grpc-default-executor-2] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s0@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:42899
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:53,743 [grpc-default-executor-7] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s1@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:41005
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:53,846 [grpc-default-executor-2] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s2@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:35469
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:53,948 [grpc-default-executor-7] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s1@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:41005
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:54,051 [grpc-default-executor-5] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s0@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:42899
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:54,154 [grpc-default-executor-2] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s1@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:41005
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:54,199 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s0@group-BFB42CE21AFF-SegmentedRaftLogWorker close()
2023-12-07 16:29:54,199 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s1@group-BFB42CE21AFF-SegmentedRaftLogWorker close()
2023-12-07 16:29:54,200 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s2@group-BFB42CE21AFF-SegmentedRaftLogWorker close()
2023-12-07 16:29:54,200 [JvmPauseMonitor30] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2023-12-07 16:29:54,200 [JvmPauseMonitor31] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s1: Stopped
2023-12-07 16:29:54,201 [JvmPauseMonitor32] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s2: Stopped
2023-12-07 16:29:54,201 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2023-12-07 16:29:54,201 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-12-07 16:29:54,201 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-12-07 16:29:54,201 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2023-12-07 16:29:54,201 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-12-07 16:29:54,201 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-12-07 16:29:54,201 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:   CLOSED    LEADER s0@group-BFB42CE21AFF:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-BFB42CE21AFF-SegmentedRaftLog:CLOSED:c20, conf=0: peers:[s0|localhost:39085, s1|localhost:44185, s2|localhost:42475]|listeners:[], old=null CLOSED
  s1:   CLOSED  FOLLOWER s1@group-BFB42CE21AFF:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-BFB42CE21AFF-SegmentedRaftLog:CLOSED:c19, conf=0: peers:[s0|localhost:39085, s1|localhost:44185, s2|localhost:42475]|listeners:[], old=null CLOSED
  s2:   CLOSED  FOLLOWER s2@group-BFB42CE21AFF:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-BFB42CE21AFF-SegmentedRaftLog:CLOSED:c19, conf=0: peers:[s0|localhost:39085, s1|localhost:44185, s2|localhost:42475]|listeners:[], old=null CLOSED
2023-12-07 16:29:54,202 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2023-12-07 16:29:54,202 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-12-07 16:29:54,202 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-12-07 16:29:54,202 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2023-12-07 16:29:54,203 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2023-12-07 16:29:54,203 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-D0CE332DC739:[s0|localhost:40473, s1|localhost:37185, s2|localhost:43875]
2023-12-07 16:29:54,203 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-12-07 16:29:54,203 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-12-07 16:29:54,203 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2023-12-07 16:29:54,203 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-12-07 16:29:54,204 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-12-07 16:29:54,204 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-12-07 16:29:54,204 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-D0CE332DC739:[s0|localhost:40473, s1|localhost:37185, s2|localhost:43875], format? true
2023-12-07 16:29:54,204 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s0
2023-12-07 16:29:54,204 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s0 does not exist.
2023-12-07 16:29:54,204 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s0
2023-12-07 16:29:54,204 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-12-07 16:29:54,204 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:54,204 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 41025 (custom)
2023-12-07 16:29:54,204 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:54,204 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 39081 (custom)
2023-12-07 16:29:54,204 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-12-07 16:29:54,204 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 40473 (custom)
2023-12-07 16:29:54,205 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-12-07 16:29:54,205 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:54,205 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-12-07 16:29:54,205 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:54,205 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:54,205 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-12-07 16:29:54,205 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-12-07 16:29:54,206 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-12-07 16:29:54,206 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:54,206 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2023-12-07 16:29:54,206 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:54,207 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s0] (custom)
2023-12-07 16:29:54,207 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-12-07 16:29:54,207 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-12-07 16:29:54,207 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(100)) - s0: addNew group-D0CE332DC739:[s0|localhost:40473, s1|localhost:37185, s2|localhost:43875] returns group-D0CE332DC739:java.util.concurrent.CompletableFuture@9df11a2[Not completed]
2023-12-07 16:29:54,207 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-D0CE332DC739:[s0|localhost:40473, s1|localhost:37185, s2|localhost:43875], format? true
2023-12-07 16:29:54,207 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s1
2023-12-07 16:29:54,207 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s0: new RaftServerImpl for group-D0CE332DC739:[s0|localhost:40473, s1|localhost:37185, s2|localhost:43875] with CounterStateMachine:uninitialized
2023-12-07 16:29:54,207 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-12-07 16:29:54,207 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-12-07 16:29:54,207 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-12-07 16:29:54,207 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-12-07 16:29:54,208 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:54,208 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2023-12-07 16:29:54,208 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:54,208 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-D0CE332DC739: ConfigurationManager, init=-1: peers:[s0|localhost:40473, s1|localhost:37185, s2|localhost:43875]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-12-07 16:29:54,208 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s1 does not exist.
2023-12-07 16:29:54,208 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-12-07 16:29:54,208 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s1
2023-12-07 16:29:54,208 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-12-07 16:29:54,208 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-12-07 16:29:54,208 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2023-12-07 16:29:54,208 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-12-07 16:29:54,208 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = LINEARIZABLE (custom)
2023-12-07 16:29:54,208 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2023-12-07 16:29:54,208 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:54,208 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 46665 (custom)
2023-12-07 16:29:54,208 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:54,208 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 40733 (custom)
2023-12-07 16:29:54,208 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-12-07 16:29:54,208 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 37185 (custom)
2023-12-07 16:29:54,208 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-12-07 16:29:54,208 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:54,208 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-12-07 16:29:54,208 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:54,208 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:54,209 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:54,209 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:54,209 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-12-07 16:29:54,209 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-12-07 16:29:54,209 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-12-07 16:29:54,209 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-12-07 16:29:54,209 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-12-07 16:29:54,209 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-12-07 16:29:54,210 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-12-07 16:29:54,210 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:54,210 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2023-12-07 16:29:54,210 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:54,210 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s1] (custom)
2023-12-07 16:29:54,210 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-12-07 16:29:54,210 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-12-07 16:29:54,210 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(100)) - s1: addNew group-D0CE332DC739:[s0|localhost:40473, s1|localhost:37185, s2|localhost:43875] returns group-D0CE332DC739:java.util.concurrent.CompletableFuture@18d3be54[Not completed]
2023-12-07 16:29:54,210 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s1: new RaftServerImpl for group-D0CE332DC739:[s0|localhost:40473, s1|localhost:37185, s2|localhost:43875] with CounterStateMachine:uninitialized
2023-12-07 16:29:54,210 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-D0CE332DC739:[s0|localhost:40473, s1|localhost:37185, s2|localhost:43875], format? true
2023-12-07 16:29:54,211 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-12-07 16:29:54,211 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s2
2023-12-07 16:29:54,211 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-12-07 16:29:54,211 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-12-07 16:29:54,211 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-12-07 16:29:54,211 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:54,211 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s2 does not exist.
2023-12-07 16:29:54,211 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2023-12-07 16:29:54,211 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s2
2023-12-07 16:29:54,211 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:54,211 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-D0CE332DC739: ConfigurationManager, init=-1: peers:[s0|localhost:40473, s1|localhost:37185, s2|localhost:43875]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-12-07 16:29:54,211 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-12-07 16:29:54,211 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-12-07 16:29:54,211 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-12-07 16:29:54,211 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-12-07 16:29:54,211 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2023-12-07 16:29:54,211 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:54,211 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = LINEARIZABLE (custom)
2023-12-07 16:29:54,211 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 44189 (custom)
2023-12-07 16:29:54,211 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2023-12-07 16:29:54,211 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:54,211 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 45607 (custom)
2023-12-07 16:29:54,211 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-12-07 16:29:54,211 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 43875 (custom)
2023-12-07 16:29:54,211 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-12-07 16:29:54,211 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:54,211 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:54,211 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-12-07 16:29:54,211 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:54,211 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:54,211 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-12-07 16:29:54,212 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:54,212 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-12-07 16:29:54,212 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-12-07 16:29:54,212 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-12-07 16:29:54,212 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-12-07 16:29:54,212 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-12-07 16:29:54,212 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-12-07 16:29:54,213 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:54,213 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2023-12-07 16:29:54,213 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:54,213 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s2] (custom)
2023-12-07 16:29:54,213 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-12-07 16:29:54,213 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-12-07 16:29:54,213 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(100)) - s2: addNew group-D0CE332DC739:[s0|localhost:40473, s1|localhost:37185, s2|localhost:43875] returns group-D0CE332DC739:java.util.concurrent.CompletableFuture@673dd31[Not completed]
2023-12-07 16:29:54,213 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s2: new RaftServerImpl for group-D0CE332DC739:[s0|localhost:40473, s1|localhost:37185, s2|localhost:43875] with CounterStateMachine:uninitialized
2023-12-07 16:29:54,213 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-12-07 16:29:54,213 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-12-07 16:29:54,213 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-12-07 16:29:54,213 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-12-07 16:29:54,213 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-12-07 16:29:54,213 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-12-07 16:29:54,213 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:54,214 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2023-12-07 16:29:54,214 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s0] (custom)
2023-12-07 16:29:54,214 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:54,214 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-D0CE332DC739: ConfigurationManager, init=-1: peers:[s0|localhost:40473, s1|localhost:37185, s2|localhost:43875]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-12-07 16:29:54,214 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-12-07 16:29:54,214 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-12-07 16:29:54,214 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s0/3adc4813-dd84-4024-9d6c-d0ce332dc739 does not exist. Creating ...
2023-12-07 16:29:54,214 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-12-07 16:29:54,214 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2023-12-07 16:29:54,214 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = LINEARIZABLE (custom)
2023-12-07 16:29:54,214 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2023-12-07 16:29:54,214 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s0/3adc4813-dd84-4024-9d6c-d0ce332dc739
2023-12-07 16:29:54,215 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:54,215 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:54,215 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-12-07 16:29:54,215 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-12-07 16:29:54,215 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-12-07 16:29:54,215 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-12-07 16:29:54,215 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s0/3adc4813-dd84-4024-9d6c-d0ce332dc739/in_use.lock acquired by nodename 9497@fv-az527-45
2023-12-07 16:29:54,215 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s0/3adc4813-dd84-4024-9d6c-d0ce332dc739/current
2023-12-07 16:29:54,215 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s0/3adc4813-dd84-4024-9d6c-d0ce332dc739/sm
2023-12-07 16:29:54,215 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s0/3adc4813-dd84-4024-9d6c-d0ce332dc739/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@3317fe51
2023-12-07 16:29:54,216 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s0/3adc4813-dd84-4024-9d6c-d0ce332dc739/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s0/3adc4813-dd84-4024-9d6c-d0ce332dc739/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:54,216 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s0/3adc4813-dd84-4024-9d6c-d0ce332dc739 has been successfully formatted.
2023-12-07 16:29:54,216 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s0/3adc4813-dd84-4024-9d6c-d0ce332dc739/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s0/3adc4813-dd84-4024-9d6c-d0ce332dc739/current/raft-meta.conf
	at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:92)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:116)
	at java.base/sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:219)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:371)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:422)
	at java.base/java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:420)
	at java.base/java.nio.file.Files.newInputStream(Files.java:156)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:388)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:182)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:54,216 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-12-07 16:29:54,216 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-12-07 16:29:54,216 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:54,216 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-12-07 16:29:54,216 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-12-07 16:29:54,217 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:54,217 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-12-07 16:29:54,217 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-12-07 16:29:54,217 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:54,217 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-D0CE332DC739-cacheEviction-AwaitToRun,5,main] started
2023-12-07 16:29:54,217 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s0@group-D0CE332DC739-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s0/3adc4813-dd84-4024-9d6c-d0ce332dc739
2023-12-07 16:29:54,217 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-12-07 16:29:54,217 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-12-07 16:29:54,217 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:54,217 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-12-07 16:29:54,217 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-12-07 16:29:54,217 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-12-07 16:29:54,217 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-12-07 16:29:54,217 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-12-07 16:29:54,217 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2023-12-07 16:29:54,218 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:54,218 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-12-07 16:29:54,218 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-12-07 16:29:54,218 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-12-07 16:29:54,219 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-D0CE332DC739-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:54,219 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-D0CE332DC739-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:54,219 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s0@group-D0CE332DC739: start as a follower, conf=-1: peers:[s0|localhost:40473, s1|localhost:37185, s2|localhost:43875]|listeners:[], old=null
2023-12-07 16:29:54,219 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-D0CE332DC739: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-12-07 16:29:54,219 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-D0CE332DC739-FollowerState
2023-12-07 16:29:54,219 [s0@group-D0CE332DC739-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:54,219 [s0@group-D0CE332DC739-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:54,219 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-D0CE332DC739,id=s0
2023-12-07 16:29:54,219 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2023-12-07 16:29:54,219 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-12-07 16:29:54,219 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-12-07 16:29:54,219 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-12-07 16:29:54,219 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(406)) - s0: start RPC server
2023-12-07 16:29:54,220 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 39081
2023-12-07 16:29:54,220 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 40473
2023-12-07 16:29:54,220 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 41025
2023-12-07 16:29:54,220 [JvmPauseMonitor33] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2023-12-07 16:29:54,220 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-12-07 16:29:54,220 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-12-07 16:29:54,220 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s1] (custom)
2023-12-07 16:29:54,220 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s1/3adc4813-dd84-4024-9d6c-d0ce332dc739 does not exist. Creating ...
2023-12-07 16:29:54,221 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s1/3adc4813-dd84-4024-9d6c-d0ce332dc739
2023-12-07 16:29:54,221 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s1/3adc4813-dd84-4024-9d6c-d0ce332dc739/in_use.lock acquired by nodename 9497@fv-az527-45
2023-12-07 16:29:54,221 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s1/3adc4813-dd84-4024-9d6c-d0ce332dc739/current
2023-12-07 16:29:54,221 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s1/3adc4813-dd84-4024-9d6c-d0ce332dc739/sm
2023-12-07 16:29:54,221 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s1/3adc4813-dd84-4024-9d6c-d0ce332dc739/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@32423a8f
2023-12-07 16:29:54,222 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s1/3adc4813-dd84-4024-9d6c-d0ce332dc739/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s1/3adc4813-dd84-4024-9d6c-d0ce332dc739/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:54,222 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s1/3adc4813-dd84-4024-9d6c-d0ce332dc739 has been successfully formatted.
2023-12-07 16:29:54,222 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s1/3adc4813-dd84-4024-9d6c-d0ce332dc739/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s1/3adc4813-dd84-4024-9d6c-d0ce332dc739/current/raft-meta.conf
	at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:92)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:116)
	at java.base/sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:219)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:371)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:422)
	at java.base/java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:420)
	at java.base/java.nio.file.Files.newInputStream(Files.java:156)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:388)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:182)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:54,222 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-12-07 16:29:54,222 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-12-07 16:29:54,222 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:54,223 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-12-07 16:29:54,223 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-12-07 16:29:54,223 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:54,223 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-12-07 16:29:54,223 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-12-07 16:29:54,223 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:54,223 [s1-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s1@group-D0CE332DC739-cacheEviction-AwaitToRun,5,main] started
2023-12-07 16:29:54,223 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s1@group-D0CE332DC739-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s1/3adc4813-dd84-4024-9d6c-d0ce332dc739
2023-12-07 16:29:54,223 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-12-07 16:29:54,223 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-12-07 16:29:54,223 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:54,223 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-12-07 16:29:54,223 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-12-07 16:29:54,223 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-12-07 16:29:54,223 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-12-07 16:29:54,223 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-12-07 16:29:54,223 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2023-12-07 16:29:54,224 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:54,224 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-12-07 16:29:54,224 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-12-07 16:29:54,224 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-12-07 16:29:54,225 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-D0CE332DC739-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:54,225 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-D0CE332DC739-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:54,225 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s1@group-D0CE332DC739: start as a follower, conf=-1: peers:[s0|localhost:40473, s1|localhost:37185, s2|localhost:43875]|listeners:[], old=null
2023-12-07 16:29:54,225 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-D0CE332DC739: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-12-07 16:29:54,225 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-D0CE332DC739-FollowerState
2023-12-07 16:29:54,225 [s1@group-D0CE332DC739-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:54,225 [s1@group-D0CE332DC739-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:54,225 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-D0CE332DC739,id=s1
2023-12-07 16:29:54,225 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2023-12-07 16:29:54,225 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-12-07 16:29:54,225 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-12-07 16:29:54,225 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-12-07 16:29:54,225 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(406)) - s1: start RPC server
2023-12-07 16:29:54,226 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 40733
2023-12-07 16:29:54,226 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 37185
2023-12-07 16:29:54,226 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 46665
2023-12-07 16:29:54,226 [JvmPauseMonitor34] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s1: Started
2023-12-07 16:29:54,226 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-12-07 16:29:54,226 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-12-07 16:29:54,226 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s2] (custom)
2023-12-07 16:29:54,227 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s2/3adc4813-dd84-4024-9d6c-d0ce332dc739 does not exist. Creating ...
2023-12-07 16:29:54,227 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s2/3adc4813-dd84-4024-9d6c-d0ce332dc739
2023-12-07 16:29:54,227 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s2/3adc4813-dd84-4024-9d6c-d0ce332dc739/in_use.lock acquired by nodename 9497@fv-az527-45
2023-12-07 16:29:54,227 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s2/3adc4813-dd84-4024-9d6c-d0ce332dc739/current
2023-12-07 16:29:54,227 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s2/3adc4813-dd84-4024-9d6c-d0ce332dc739/sm
2023-12-07 16:29:54,227 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s2/3adc4813-dd84-4024-9d6c-d0ce332dc739/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@35b5b1d8
2023-12-07 16:29:54,228 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s2/3adc4813-dd84-4024-9d6c-d0ce332dc739/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s2/3adc4813-dd84-4024-9d6c-d0ce332dc739/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:54,228 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s2/3adc4813-dd84-4024-9d6c-d0ce332dc739 has been successfully formatted.
2023-12-07 16:29:54,228 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s2/3adc4813-dd84-4024-9d6c-d0ce332dc739/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s2/3adc4813-dd84-4024-9d6c-d0ce332dc739/current/raft-meta.conf
	at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:92)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:116)
	at java.base/sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:219)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:371)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:422)
	at java.base/java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:420)
	at java.base/java.nio.file.Files.newInputStream(Files.java:156)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:388)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:182)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:54,228 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-12-07 16:29:54,228 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-12-07 16:29:54,228 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:54,228 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-12-07 16:29:54,228 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-12-07 16:29:54,229 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:54,229 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-12-07 16:29:54,229 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-12-07 16:29:54,229 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:54,229 [s2-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s2@group-D0CE332DC739-cacheEviction-AwaitToRun,5,main] started
2023-12-07 16:29:54,229 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s2@group-D0CE332DC739-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s2/3adc4813-dd84-4024-9d6c-d0ce332dc739
2023-12-07 16:29:54,229 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-12-07 16:29:54,229 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-12-07 16:29:54,229 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:54,229 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-12-07 16:29:54,229 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-12-07 16:29:54,229 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-12-07 16:29:54,229 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-12-07 16:29:54,229 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-12-07 16:29:54,229 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2023-12-07 16:29:54,230 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:54,230 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-12-07 16:29:54,230 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-12-07 16:29:54,230 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-12-07 16:29:54,230 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-D0CE332DC739-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:54,230 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-D0CE332DC739-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:54,231 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s2@group-D0CE332DC739: start as a follower, conf=-1: peers:[s0|localhost:40473, s1|localhost:37185, s2|localhost:43875]|listeners:[], old=null
2023-12-07 16:29:54,231 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-D0CE332DC739: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-12-07 16:29:54,231 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-D0CE332DC739-FollowerState
2023-12-07 16:29:54,231 [s2@group-D0CE332DC739-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:54,231 [s2@group-D0CE332DC739-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:54,231 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-D0CE332DC739,id=s2
2023-12-07 16:29:54,231 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2023-12-07 16:29:54,231 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-12-07 16:29:54,231 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-12-07 16:29:54,231 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-12-07 16:29:54,231 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(406)) - s2: start RPC server
2023-12-07 16:29:54,231 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 45607
2023-12-07 16:29:54,231 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 43875
2023-12-07 16:29:54,232 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 44189
2023-12-07 16:29:54,232 [JvmPauseMonitor35] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s2: Started
2023-12-07 16:29:54,232 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-12-07 16:29:54,232 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-D0CE332DC739:t0, leader=null, voted=, raftlog=Memoized:s0@group-D0CE332DC739-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:40473, s1|localhost:37185, s2|localhost:43875]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-D0CE332DC739:t0, leader=null, voted=, raftlog=Memoized:s1@group-D0CE332DC739-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:40473, s1|localhost:37185, s2|localhost:43875]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-D0CE332DC739:t0, leader=null, voted=, raftlog=Memoized:s2@group-D0CE332DC739-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:40473, s1|localhost:37185, s2|localhost:43875]|listeners:[], old=null RUNNING
2023-12-07 16:29:54,232 [Time-limited test] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(119)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-D0CE332DC739:t0, leader=null, voted=, raftlog=Memoized:s0@group-D0CE332DC739-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:40473, s1|localhost:37185, s2|localhost:43875]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-D0CE332DC739:t0, leader=null, voted=, raftlog=Memoized:s1@group-D0CE332DC739-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:40473, s1|localhost:37185, s2|localhost:43875]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-D0CE332DC739:t0, leader=null, voted=, raftlog=Memoized:s2@group-D0CE332DC739-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:40473, s1|localhost:37185, s2|localhost:43875]|listeners:[], old=null RUNNING
2023-12-07 16:29:54,256 [grpc-default-executor-7] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s0@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:42899
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:54,359 [grpc-default-executor-2] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s1@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:41005
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:54,444 [s1@group-D0CE332DC739-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-D0CE332DC739-FollowerState: change to CANDIDATE, lastRpcElapsedTime:219370565ns, electionTimeout:219ms
2023-12-07 16:29:54,444 [s1@group-D0CE332DC739-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-D0CE332DC739-FollowerState
2023-12-07 16:29:54,444 [s1@group-D0CE332DC739-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-D0CE332DC739: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-12-07 16:29:54,444 [s1@group-D0CE332DC739-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-12-07 16:29:54,444 [s1@group-D0CE332DC739-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-D0CE332DC739-LeaderElection17
2023-12-07 16:29:54,445 [s1@group-D0CE332DC739-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-D0CE332DC739-LeaderElection17 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|localhost:40473, s1|localhost:37185, s2|localhost:43875]|listeners:[], old=null
2023-12-07 16:29:54,445 [s1@group-D0CE332DC739-LeaderElection17-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s0
2023-12-07 16:29:54,445 [s1@group-D0CE332DC739-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:54,446 [s1@group-D0CE332DC739-LeaderElection17-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s2
2023-12-07 16:29:54,446 [s1@group-D0CE332DC739-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:54,449 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s2@group-D0CE332DC739: receive requestVote(PRE_VOTE, s1, group-D0CE332DC739, 0, (t:0, i:0))
2023-12-07 16:29:54,449 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-D0CE332DC739-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-12-07 16:29:54,449 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s2@group-D0CE332DC739 replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-D0CE332DC739:t0, leader=null, voted=, raftlog=Memoized:s2@group-D0CE332DC739-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:40473, s1|localhost:37185, s2|localhost:43875]|listeners:[], old=null
2023-12-07 16:29:54,449 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s0@group-D0CE332DC739: receive requestVote(PRE_VOTE, s1, group-D0CE332DC739, 0, (t:0, i:0))
2023-12-07 16:29:54,449 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-D0CE332DC739-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-12-07 16:29:54,449 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s0@group-D0CE332DC739 replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-D0CE332DC739:t0, leader=null, voted=, raftlog=Memoized:s0@group-D0CE332DC739-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:40473, s1|localhost:37185, s2|localhost:43875]|listeners:[], old=null
2023-12-07 16:29:54,450 [s1@group-D0CE332DC739-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-D0CE332DC739-LeaderElection17: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-12-07 16:29:54,450 [s1@group-D0CE332DC739-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t0
2023-12-07 16:29:54,450 [s1@group-D0CE332DC739-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-D0CE332DC739-LeaderElection17 PRE_VOTE round 0: result PASSED
2023-12-07 16:29:54,450 [s1@group-D0CE332DC739-LeaderElection17] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s1/3adc4813-dd84-4024-9d6c-d0ce332dc739/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5b0f6c19
2023-12-07 16:29:54,451 [s1@group-D0CE332DC739-LeaderElection17] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s1/3adc4813-dd84-4024-9d6c-d0ce332dc739/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s1/3adc4813-dd84-4024-9d6c-d0ce332dc739/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:54,451 [s1@group-D0CE332DC739-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s1@group-D0CE332DC739-LeaderElection17 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|localhost:40473, s1|localhost:37185, s2|localhost:43875]|listeners:[], old=null
2023-12-07 16:29:54,451 [s1@group-D0CE332DC739-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:54,451 [s1@group-D0CE332DC739-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:54,452 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s2@group-D0CE332DC739: receive requestVote(ELECTION, s1, group-D0CE332DC739, 1, (t:0, i:0))
2023-12-07 16:29:54,452 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s0@group-D0CE332DC739: receive requestVote(ELECTION, s1, group-D0CE332DC739, 1, (t:0, i:0))
2023-12-07 16:29:54,452 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-D0CE332DC739-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2023-12-07 16:29:54,452 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-D0CE332DC739-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2023-12-07 16:29:54,452 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-D0CE332DC739: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2023-12-07 16:29:54,452 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-D0CE332DC739: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2023-12-07 16:29:54,452 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-D0CE332DC739-FollowerState
2023-12-07 16:29:54,452 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-D0CE332DC739-FollowerState
2023-12-07 16:29:54,452 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-D0CE332DC739-FollowerState
2023-12-07 16:29:54,452 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-D0CE332DC739-FollowerState
2023-12-07 16:29:54,452 [s2@group-D0CE332DC739-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-D0CE332DC739-FollowerState was interrupted
2023-12-07 16:29:54,452 [s0@group-D0CE332DC739-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-D0CE332DC739-FollowerState was interrupted
2023-12-07 16:29:54,452 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(564)) - s2@group-D0CE332DC739: set firstElectionSinceStartup to false for candidate:s1
2023-12-07 16:29:54,452 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(564)) - s0@group-D0CE332DC739: set firstElectionSinceStartup to false for candidate:s1
2023-12-07 16:29:54,452 [grpc-default-executor-5] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s2/3adc4813-dd84-4024-9d6c-d0ce332dc739/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@3f9d9d82
2023-12-07 16:29:54,452 [grpc-default-executor-2] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s0/3adc4813-dd84-4024-9d6c-d0ce332dc739/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@200a730d
2023-12-07 16:29:54,453 [grpc-default-executor-2] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s0/3adc4813-dd84-4024-9d6c-d0ce332dc739/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s0/3adc4813-dd84-4024-9d6c-d0ce332dc739/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:54,453 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s0@group-D0CE332DC739 replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-D0CE332DC739:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-D0CE332DC739-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:40473, s1|localhost:37185, s2|localhost:43875]|listeners:[], old=null
2023-12-07 16:29:54,453 [grpc-default-executor-5] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s2/3adc4813-dd84-4024-9d6c-d0ce332dc739/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s2/3adc4813-dd84-4024-9d6c-d0ce332dc739/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:54,453 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s2@group-D0CE332DC739 replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-D0CE332DC739:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-D0CE332DC739-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:40473, s1|localhost:37185, s2|localhost:43875]|listeners:[], old=null
2023-12-07 16:29:54,454 [s1@group-D0CE332DC739-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-D0CE332DC739-LeaderElection17: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-12-07 16:29:54,454 [s1@group-D0CE332DC739-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t1
2023-12-07 16:29:54,454 [s1@group-D0CE332DC739-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s1@group-D0CE332DC739-LeaderElection17 ELECTION round 0: result PASSED
2023-12-07 16:29:54,454 [s1@group-D0CE332DC739-LeaderElection17] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-D0CE332DC739-LeaderElection17
2023-12-07 16:29:54,454 [s1@group-D0CE332DC739-LeaderElection17] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-D0CE332DC739: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-12-07 16:29:54,454 [s1@group-D0CE332DC739-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-12-07 16:29:54,454 [s1@group-D0CE332DC739-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-12-07 16:29:54,454 [s1@group-D0CE332DC739-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2023-12-07 16:29:54,454 [s1@group-D0CE332DC739-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-12-07 16:29:54,454 [s1@group-D0CE332DC739-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-12-07 16:29:54,454 [s1@group-D0CE332DC739-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-12-07 16:29:54,454 [s1@group-D0CE332DC739-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = true (custom)
2023-12-07 16:29:54,454 [s1@group-D0CE332DC739-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2023-12-07 16:29:54,454 [s1@group-D0CE332DC739-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-12-07 16:29:54,454 [s1@group-D0CE332DC739-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-12-07 16:29:54,454 [s1@group-D0CE332DC739-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-12-07 16:29:54,454 [s1@group-D0CE332DC739-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-12-07 16:29:54,454 [s1@group-D0CE332DC739-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:54,454 [s1@group-D0CE332DC739-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-12-07 16:29:54,454 [s1@group-D0CE332DC739-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2023-12-07 16:29:54,454 [s1@group-D0CE332DC739-LeaderElection17] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2023-12-07 16:29:54,454 [s1@group-D0CE332DC739-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:54,454 [s1@group-D0CE332DC739-LeaderElection17] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2023-12-07 16:29:54,454 [s1@group-D0CE332DC739-LeaderElection17] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2023-12-07 16:29:54,454 [s1@group-D0CE332DC739-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:54,454 [s1@group-D0CE332DC739-LeaderElection17] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:54,455 [s1@group-D0CE332DC739-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-12-07 16:29:54,455 [s1@group-D0CE332DC739-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:54,455 [s1@group-D0CE332DC739-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-12-07 16:29:54,455 [s1@group-D0CE332DC739-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2023-12-07 16:29:54,455 [s1@group-D0CE332DC739-LeaderElection17] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2023-12-07 16:29:54,455 [s1@group-D0CE332DC739-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:54,455 [s1@group-D0CE332DC739-LeaderElection17] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2023-12-07 16:29:54,455 [s1@group-D0CE332DC739-LeaderElection17] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2023-12-07 16:29:54,455 [s1@group-D0CE332DC739-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:54,455 [s1@group-D0CE332DC739-LeaderElection17] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:54,455 [s1@group-D0CE332DC739-LeaderElection17] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-D0CE332DC739-LeaderStateImpl
2023-12-07 16:29:54,455 [s1@group-D0CE332DC739-LeaderElection17] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(564)) - s1@group-D0CE332DC739: set firstElectionSinceStartup to false for becomeLeader
2023-12-07 16:29:54,455 [s1@group-D0CE332DC739-LeaderElection17] INFO  server.RaftServer$Division (ServerState.java:setLeader(265)) - s1@group-D0CE332DC739: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 244ms
2023-12-07 16:29:54,455 [s1@group-D0CE332DC739-LeaderElection17] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s1@group-D0CE332DC739-SegmentedRaftLogWorker: Starting segment from index:0
2023-12-07 16:29:54,455 [s1@group-D0CE332DC739-LeaderElection17] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(382)) - s1@group-D0CE332DC739: set configuration 0: peers:[s0|localhost:40473, s1|localhost:37185, s2|localhost:43875]|listeners:[], old=null
2023-12-07 16:29:54,455 [s1@group-D0CE332DC739-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2023-12-07 16:29:54,459 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(265)) - s2@group-D0CE332DC739: change Leader from null to s1 at term 1 for appendEntries, leader elected after 245ms
2023-12-07 16:29:54,462 [grpc-default-executor-1] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s2@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:35469
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:54,462 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-D0CE332DC739: receive appendEntries(s1, 1, null, -1, true, commits:[s1:c-1, s0:c-1, s2:c-1], cId:1, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:40473"
dataStreamAddress: "localhost:45667"
clientAddress: "localhost:39081"
adminAddress: "localhost:41025"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:37185"
dataStreamAddress: "localhost:44447"
clientAddress: "localhost:40733"
adminAddress: "localhost:46665"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:43875"
dataStreamAddress: "localhost:41323"
clientAddress: "localhost:45607"
adminAddress: "localhost:44189"
startupRole: FOLLOWER
, old:)]
2023-12-07 16:29:54,463 [s1@group-D0CE332DC739-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s1@group-D0CE332DC739-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s1/3adc4813-dd84-4024-9d6c-d0ce332dc739/current/log_inprogress_0
2023-12-07 16:29:54,464 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-D0CE332DC739: receive appendEntries(s1, 1, null, -1, true, commits:[s1:c-1, s0:c-1, s2:c-1], cId:1, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:40473"
dataStreamAddress: "localhost:45667"
clientAddress: "localhost:39081"
adminAddress: "localhost:41025"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:37185"
dataStreamAddress: "localhost:44447"
clientAddress: "localhost:40733"
adminAddress: "localhost:46665"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:43875"
dataStreamAddress: "localhost:41323"
clientAddress: "localhost:45607"
adminAddress: "localhost:44189"
startupRole: FOLLOWER
, old:)]
2023-12-07 16:29:54,464 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(265)) - s0@group-D0CE332DC739: change Leader from null to s1 at term 1 for appendEntries, leader elected after 256ms
2023-12-07 16:29:54,464 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(382)) - s2@group-D0CE332DC739: set configuration 0: peers:[s0|localhost:40473, s1|localhost:37185, s2|localhost:43875]|listeners:[], old=null
2023-12-07 16:29:54,464 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(382)) - s0@group-D0CE332DC739: set configuration 0: peers:[s0|localhost:40473, s1|localhost:37185, s2|localhost:43875]|listeners:[], old=null
2023-12-07 16:29:54,464 [s2-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s2@group-D0CE332DC739-SegmentedRaftLogWorker: Starting segment from index:0
2023-12-07 16:29:54,464 [s0-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s0@group-D0CE332DC739-SegmentedRaftLogWorker: Starting segment from index:0
2023-12-07 16:29:54,465 [s2@group-D0CE332DC739-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2023-12-07 16:29:54,465 [s0@group-D0CE332DC739-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2023-12-07 16:29:54,474 [s2@group-D0CE332DC739-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s2@group-D0CE332DC739-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s2/3adc4813-dd84-4024-9d6c-d0ce332dc739/current/log_inprogress_0
2023-12-07 16:29:54,474 [s2-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s2@group-D0CE332DC739: succeeded to handle AppendEntries. Reply: s1<-s2#1:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-12-07 16:29:54,474 [s0@group-D0CE332DC739-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s0@group-D0CE332DC739-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s0/3adc4813-dd84-4024-9d6c-d0ce332dc739/current/log_inprogress_0
2023-12-07 16:29:54,475 [s1@group-D0CE332DC739-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s1/3adc4813-dd84-4024-9d6c-d0ce332dc739/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@751dac75
2023-12-07 16:29:54,476 [s1@group-D0CE332DC739-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s1/3adc4813-dd84-4024-9d6c-d0ce332dc739/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s1/3adc4813-dd84-4024-9d6c-d0ce332dc739/current/raft-meta.conf with options [REPLACE_EXISTING]
2023-12-07 16:29:54,476 [s1@group-D0CE332DC739-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:isApplied(320)) - leader is ready since appliedIndex == 0 >= startIndex == 0
2023-12-07 16:29:54,477 [s0-server-thread3] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-D0CE332DC739: succeeded to handle AppendEntries. Reply: s1<-s0#1:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-12-07 16:29:54,552 [s2@group-D0CE332DC739-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s2/3adc4813-dd84-4024-9d6c-d0ce332dc739/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@3dcdab
2023-12-07 16:29:54,553 [s0@group-D0CE332DC739-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s0/3adc4813-dd84-4024-9d6c-d0ce332dc739/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@42f5cafb
2023-12-07 16:29:54,554 [s2@group-D0CE332DC739-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s2/3adc4813-dd84-4024-9d6c-d0ce332dc739/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s2/3adc4813-dd84-4024-9d6c-d0ce332dc739/current/raft-meta.conf with options [REPLACE_EXISTING]
2023-12-07 16:29:54,554 [s0@group-D0CE332DC739-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s0/3adc4813-dd84-4024-9d6c-d0ce332dc739/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpc9d27254c/s0/3adc4813-dd84-4024-9d6c-d0ce332dc739/current/raft-meta.conf with options [REPLACE_EXISTING]
2023-12-07 16:29:54,564 [grpc-default-executor-5] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s1@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:41005
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:54,667 [grpc-default-executor-6] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s2@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:35469
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:54,683 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-D0CE332DC739:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-D0CE332DC739-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:40473, s1|localhost:37185, s2|localhost:43875]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-D0CE332DC739:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-D0CE332DC739-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:40473, s1|localhost:37185, s2|localhost:43875]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-D0CE332DC739:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-D0CE332DC739-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:40473, s1|localhost:37185, s2|localhost:43875]|listeners:[], old=null RUNNING
2023-12-07 16:29:54,687 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s1@group-D0CE332DC739: receive client request(RaftClientRequest:client-50B4B534E5D5->s1@group-D0CE332DC739, cid=154, seq=1*, Watch(0), Message:<EMPTY>)
2023-12-07 16:29:54,687 [s1-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:stepDownLeaderAsync(1247)) - s1@group-D0CE332DC739 receive stepDown leader request TransferLeadershipRequest:client-50B4B534E5D5->s1@group-D0CE332DC739, cid=156, seq=null, RO, null
2023-12-07 16:29:54,687 [s1-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addWatchReqeust(540)) - s1@group-D0CE332DC739-LeaderStateImpl: addWatchRequest RaftClientRequest:client-50B4B534E5D5->s1@group-D0CE332DC739, cid=154, seq=1*, Watch(0), Message:<EMPTY>
2023-12-07 16:29:54,687 [s1@group-D0CE332DC739-LeaderStateImpl] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-D0CE332DC739: changes role from    LEADER to FOLLOWER at term 1 for StepDownReason:FORCE
2023-12-07 16:29:54,687 [s1@group-D0CE332DC739-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(94)) - s1: shutdown s1@group-D0CE332DC739-LeaderStateImpl
2023-12-07 16:29:54,687 [s1@group-D0CE332DC739->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(279)) - s1@group-D0CE332DC739->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2023-12-07 16:29:54,687 [s1@group-D0CE332DC739->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(279)) - s1@group-D0CE332DC739->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2023-12-07 16:29:54,687 [s1@group-D0CE332DC739-LeaderStateImpl] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(289)) - s1@group-D0CE332DC739-PendingRequests: sendNotLeaderResponses
2023-12-07 16:29:54,687 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(157)) - s0: Completed APPEND_ENTRIES, lastRequest: null
2023-12-07 16:29:54,687 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(157)) - s2: Completed APPEND_ENTRIES, lastRequest: null
2023-12-07 16:29:54,687 [s1@group-D0CE332DC739-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setLeader(265)) - s1@group-D0CE332DC739: change Leader from s1 to null at term 1 for StepDownReason:FORCE
2023-12-07 16:29:54,687 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$5(159)) - s2: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s1"
  replyId: "s2"
  raftGroupId {
    id: ":\334H\023\335\204@$\235l\320\3163-\3079"
  }
  callId: 4
  success: true
}
term: 1
nextIndex: 1
matchIndex: 18446744073709551615
isHearbeat: true

2023-12-07 16:29:54,688 [s1@group-D0CE332DC739-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-D0CE332DC739-FollowerState
2023-12-07 16:29:54,687 [grpc-default-executor-6] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(157)) - s0: Completed APPEND_ENTRIES, lastRequest: s1->s0#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? true,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:40473"
dataStreamAddress: "localhost:45667"
clientAddress: "localhost:39081"
adminAddress: "localhost:41025"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:37185"
dataStreamAddress: "localhost:44447"
clientAddress: "localhost:40733"
adminAddress: "localhost:46665"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:43875"
dataStreamAddress: "localhost:41323"
clientAddress: "localhost:45607"
adminAddress: "localhost:44189"
startupRole: FOLLOWER
, old:)
2023-12-07 16:29:54,688 [grpc-default-executor-6] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$5(159)) - s0: Completed APPEND_ENTRIES, lastReply: null
2023-12-07 16:29:54,687 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$5(159)) - s0: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s1"
  replyId: "s0"
  raftGroupId {
    id: ":\334H\023\335\204@$\235l\320\3163-\3079"
  }
  callId: 5
  success: true
}
term: 1
nextIndex: 1
matchIndex: 18446744073709551615
isHearbeat: true

2023-12-07 16:29:54,688 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(157)) - s2: Completed APPEND_ENTRIES, lastRequest: s1->s2#1-t1,previous=(t:0, i:0),leaderCommit=-1,initializing? true,entries: size=1, first=(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:40473"
dataStreamAddress: "localhost:45667"
clientAddress: "localhost:39081"
adminAddress: "localhost:41025"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:37185"
dataStreamAddress: "localhost:44447"
clientAddress: "localhost:40733"
adminAddress: "localhost:46665"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:43875"
dataStreamAddress: "localhost:41323"
clientAddress: "localhost:45607"
adminAddress: "localhost:44189"
startupRole: FOLLOWER
, old:)
2023-12-07 16:29:54,688 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$5(159)) - s2: Completed APPEND_ENTRIES, lastReply: null
2023-12-07 16:29:54,688 [grpc-default-executor-6] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-50B4B534E5D5: Failed* RaftClientRequest:client-50B4B534E5D5->s1@group-D0CE332DC739, cid=154, seq=1*, Watch(0), null
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.AlreadyClosedException: client-50B4B534E5D5->s1: Stream completed: no reply for async request cid=154
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onCompleted(GrpcClientProtocolClient.java:336)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.AlreadyClosedException: client-50B4B534E5D5->s1: Stream completed: no reply for async request cid=154
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:396)
	... 18 more
2023-12-07 16:29:54,688 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(534)) - s1@group-D0CE332DC739->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-12-07 16:29:54,689 [s1@group-D0CE332DC739-LeaderStateImpl] INFO  impl.PendingStepDown (PendingStepDown.java:complete(55)) - Successfully step down leader at s1@group-D0CE332DC739-LeaderStateImpl for request TransferLeadershipRequest:client-50B4B534E5D5->s1@group-D0CE332DC739, cid=156, seq=null, RO, null
2023-12-07 16:29:54,689 [grpc-default-executor-8] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(534)) - s1@group-D0CE332DC739->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-12-07 16:29:54,689 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(534)) - s1@group-D0CE332DC739->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-12-07 16:29:54,689 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(534)) - s1@group-D0CE332DC739->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-12-07 16:29:54,691 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s1@group-D0CE332DC739: receive client request(RaftClientRequest:client-44C9C6B29589->s1@group-D0CE332DC739, cid=157, seq=null, RO, Message:5155455259)
2023-12-07 16:29:54,692 [null-request--thread1] INFO  server.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(284)) - Failed RaftClientRequest:client-44C9C6B29589->s1@group-D0CE332DC739, cid=157, seq=null, RO, Message:5155455259, reply=RaftClientReply:client-44C9C6B29589->s1@group-D0CE332DC739, cid=157, FAILED org.apache.ratis.protocol.exceptions.ReadIndexException: s1@group-D0CE332DC739: Leader is unknown., logIndex=0, commits[s1:c0, s0:c0, s2:c0]
2023-12-07 16:29:54,698 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-12-07 16:29:54,698 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-12-07 16:29:54,698 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2023-12-07 16:29:54,698 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-12-07 16:29:54,698 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-12-07 16:29:54,698 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-D0CE332DC739:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-D0CE332DC739-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:40473, s1|localhost:37185, s2|localhost:43875]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-D0CE332DC739:t1, leader=null, voted=s1, raftlog=Memoized:s1@group-D0CE332DC739-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:40473, s1|localhost:37185, s2|localhost:43875]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-D0CE332DC739:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-D0CE332DC739-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:40473, s1|localhost:37185, s2|localhost:43875]|listeners:[], old=null RUNNING
2023-12-07 16:29:54,698 [MiniRaftCluster-61] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(416)) - s0: close
2023-12-07 16:29:54,698 [MiniRaftCluster-62] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(416)) - s1: close
2023-12-07 16:29:54,698 [MiniRaftCluster-61] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-12-07 16:29:54,698 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$3(516)) - s0@group-D0CE332DC739: shutdown
2023-12-07 16:29:54,698 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$3(516)) - s1@group-D0CE332DC739: shutdown
2023-12-07 16:29:54,699 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-D0CE332DC739,id=s0
2023-12-07 16:29:54,699 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-D0CE332DC739,id=s1
2023-12-07 16:29:54,699 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-D0CE332DC739-FollowerState
2023-12-07 16:29:54,699 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s0@group-D0CE332DC739-StateMachineUpdater: set stopIndex = 0
2023-12-07 16:29:54,699 [s0@group-D0CE332DC739-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-D0CE332DC739-FollowerState was interrupted
2023-12-07 16:29:54,698 [MiniRaftCluster-62] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-12-07 16:29:54,699 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(423)) - s0@group-D0CE332DC739: applyIndex: 0
2023-12-07 16:29:54,698 [MiniRaftCluster-63] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(416)) - s2: close
2023-12-07 16:29:54,699 [s0@group-D0CE332DC739-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-D0CE332DC739-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2023-12-07 16:29:54,699 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-D0CE332DC739-FollowerState
2023-12-07 16:29:54,699 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s1@group-D0CE332DC739-StateMachineUpdater: set stopIndex = 0
2023-12-07 16:29:54,699 [s1@group-D0CE332DC739-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-D0CE332DC739-FollowerState was interrupted
2023-12-07 16:29:54,699 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(423)) - s1@group-D0CE332DC739: applyIndex: 0
2023-12-07 16:29:54,699 [s1@group-D0CE332DC739-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s1@group-D0CE332DC739-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2023-12-07 16:29:54,708 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$3(516)) - s2@group-D0CE332DC739: shutdown
2023-12-07 16:29:54,708 [MiniRaftCluster-63] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-12-07 16:29:54,708 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-D0CE332DC739,id=s2
2023-12-07 16:29:54,708 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-D0CE332DC739-FollowerState
2023-12-07 16:29:54,708 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s2@group-D0CE332DC739-StateMachineUpdater: set stopIndex = 0
2023-12-07 16:29:54,708 [s2@group-D0CE332DC739-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-D0CE332DC739-FollowerState was interrupted
2023-12-07 16:29:54,709 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(423)) - s2@group-D0CE332DC739: applyIndex: 0
2023-12-07 16:29:54,709 [s2@group-D0CE332DC739-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s2@group-D0CE332DC739-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2023-12-07 16:29:54,709 [MiniRaftCluster-61] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-12-07 16:29:54,710 [MiniRaftCluster-61] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server GrpcServerProtocolService now
2023-12-07 16:29:54,710 [Thread-953] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(103)) - s0 Close channels
2023-12-07 16:29:54,710 [Thread-957] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(103)) - s2 Close channels
2023-12-07 16:29:54,711 [MiniRaftCluster-62] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-12-07 16:29:54,711 [MiniRaftCluster-62] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server GrpcServerProtocolService now
2023-12-07 16:29:54,713 [MiniRaftCluster-63] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-12-07 16:29:54,713 [MiniRaftCluster-63] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server GrpcServerProtocolService now
2023-12-07 16:29:54,717 [MiniRaftCluster-61] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server GrpcServerProtocolService successfully
2023-12-07 16:29:54,718 [MiniRaftCluster-61] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-12-07 16:29:54,718 [MiniRaftCluster-63] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server GrpcServerProtocolService successfully
2023-12-07 16:29:54,718 [MiniRaftCluster-63] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-12-07 16:29:54,718 [MiniRaftCluster-62] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server GrpcServerProtocolService successfully
2023-12-07 16:29:54,718 [MiniRaftCluster-61] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-12-07 16:29:54,718 [MiniRaftCluster-62] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-12-07 16:29:54,722 [MiniRaftCluster-63] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-12-07 16:29:54,722 [MiniRaftCluster-62] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-12-07 16:29:54,769 [grpc-default-executor-6] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s1@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:41005
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:54,790 [timer4] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-50B4B534E5D5: Failed* RaftClientRequest:client-50B4B534E5D5->s0@group-D0CE332DC739, cid=154, seq=1*, Watch(0), null
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.AlreadyClosedException: client-50B4B534E5D5 is already CLOSED
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.uniApplyNow(CompletableFuture.java:670)
	at java.base/java.util.concurrent.CompletableFuture.uniApplyStage(CompletableFuture.java:658)
	at java.base/java.util.concurrent.CompletableFuture.thenApply(CompletableFuture.java:2100)
	at org.apache.ratis.client.impl.OrderedAsync.sendRequest(OrderedAsync.java:239)
	at org.apache.ratis.client.impl.OrderedAsync.sendRequestWithRetry(OrderedAsync.java:203)
	at org.apache.ratis.util.SlidingWindow$Client.sendOrDelayRequest(SlidingWindow.java:312)
	at org.apache.ratis.util.SlidingWindow$Client.retry(SlidingWindow.java:328)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$scheduleWithTimeout$6(OrderedAsync.java:227)
	at org.apache.ratis.util.TimeoutTimer.lambda$onTimeout$2(TimeoutTimer.java:101)
	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:78)
	at org.apache.ratis.util.TimeoutTimer$Task.run(TimeoutTimer.java:55)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.ratis.protocol.exceptions.AlreadyClosedException: client-50B4B534E5D5 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:65)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:114)
	at org.apache.ratis.grpc.client.GrpcClientRpc.sendRequestAsync(GrpcClientRpc.java:69)
	... 11 more
2023-12-07 16:29:54,871 [grpc-default-executor-7] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s0@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:42899
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:54,891 [timer5] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-50B4B534E5D5: Failed* RaftClientRequest:client-50B4B534E5D5->s2@group-D0CE332DC739, cid=154, seq=1*, Watch(0), null
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.AlreadyClosedException: client-50B4B534E5D5 is already CLOSED
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.uniApplyNow(CompletableFuture.java:670)
	at java.base/java.util.concurrent.CompletableFuture.uniApplyStage(CompletableFuture.java:658)
	at java.base/java.util.concurrent.CompletableFuture.thenApply(CompletableFuture.java:2100)
	at org.apache.ratis.client.impl.OrderedAsync.sendRequest(OrderedAsync.java:239)
	at org.apache.ratis.client.impl.OrderedAsync.sendRequestWithRetry(OrderedAsync.java:203)
	at org.apache.ratis.util.SlidingWindow$Client.sendOrDelayRequest(SlidingWindow.java:312)
	at org.apache.ratis.util.SlidingWindow$Client.retry(SlidingWindow.java:328)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$scheduleWithTimeout$6(OrderedAsync.java:227)
	at org.apache.ratis.util.TimeoutTimer.lambda$onTimeout$2(TimeoutTimer.java:101)
	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:78)
	at org.apache.ratis.util.TimeoutTimer$Task.run(TimeoutTimer.java:55)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.ratis.protocol.exceptions.AlreadyClosedException: client-50B4B534E5D5 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:65)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:114)
	at org.apache.ratis.grpc.client.GrpcClientRpc.sendRequestAsync(GrpcClientRpc.java:69)
	... 11 more
2023-12-07 16:29:54,973 [grpc-default-executor-0] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s2@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:35469
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:54,993 [grpc-default-executor-6] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-50B4B534E5D5: Failed* RaftClientRequest:client-50B4B534E5D5->s0@group-D0CE332DC739, cid=154, seq=1*, Watch(0), null
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:39081
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:55,076 [grpc-default-executor-7] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s1@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:41005
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:55,094 [timer4] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-50B4B534E5D5: Failed* RaftClientRequest:client-50B4B534E5D5->s1@group-D0CE332DC739, cid=154, seq=1*, Watch(0), null
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.AlreadyClosedException: client-50B4B534E5D5 is already CLOSED
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.uniApplyNow(CompletableFuture.java:670)
	at java.base/java.util.concurrent.CompletableFuture.uniApplyStage(CompletableFuture.java:658)
	at java.base/java.util.concurrent.CompletableFuture.thenApply(CompletableFuture.java:2100)
	at org.apache.ratis.client.impl.OrderedAsync.sendRequest(OrderedAsync.java:239)
	at org.apache.ratis.client.impl.OrderedAsync.sendRequestWithRetry(OrderedAsync.java:203)
	at org.apache.ratis.util.SlidingWindow$Client.sendOrDelayRequest(SlidingWindow.java:312)
	at org.apache.ratis.util.SlidingWindow$Client.retry(SlidingWindow.java:328)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$scheduleWithTimeout$6(OrderedAsync.java:227)
	at org.apache.ratis.util.TimeoutTimer.lambda$onTimeout$2(TimeoutTimer.java:101)
	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:78)
	at org.apache.ratis.util.TimeoutTimer$Task.run(TimeoutTimer.java:55)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
Caused by: org.apache.ratis.protocol.exceptions.AlreadyClosedException: client-50B4B534E5D5 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:65)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:114)
	at org.apache.ratis.grpc.client.GrpcClientRpc.sendRequestAsync(GrpcClientRpc.java:69)
	... 11 more
2023-12-07 16:29:55,178 [grpc-default-executor-0] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s0@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:42899
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:55,195 [grpc-default-executor-6] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-50B4B534E5D5: Failed* RaftClientRequest:client-50B4B534E5D5->s0@group-D0CE332DC739, cid=154, seq=1*, Watch(0), null
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:39081
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:55,280 [grpc-default-executor-7] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s1@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:41005
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:55,297 [grpc-default-executor-0] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-50B4B534E5D5: Failed* RaftClientRequest:client-50B4B534E5D5->s2@group-D0CE332DC739, cid=154, seq=1*, Watch(0), null
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:45607
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:55,383 [grpc-default-executor-6] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s2@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:35469
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:55,399 [grpc-default-executor-7] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-50B4B534E5D5: Failed* RaftClientRequest:client-50B4B534E5D5->s0@group-D0CE332DC739, cid=154, seq=1*, Watch(0), null
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:39081
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:55,464 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s1@group-D0CE332DC739-SegmentedRaftLogWorker close()
2023-12-07 16:29:55,465 [JvmPauseMonitor34] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s1: Stopped
2023-12-07 16:29:55,475 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s2@group-D0CE332DC739-SegmentedRaftLogWorker close()
2023-12-07 16:29:55,475 [JvmPauseMonitor35] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s2: Stopped
2023-12-07 16:29:55,475 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s0@group-D0CE332DC739-SegmentedRaftLogWorker close()
2023-12-07 16:29:55,476 [JvmPauseMonitor33] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2023-12-07 16:29:55,476 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2023-12-07 16:29:55,476 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-12-07 16:29:55,476 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-12-07 16:29:55,476 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2023-12-07 16:29:55,476 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-12-07 16:29:55,476 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-12-07 16:29:55,476 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:   CLOSED  FOLLOWER s0@group-D0CE332DC739:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-D0CE332DC739-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s0|localhost:40473, s1|localhost:37185, s2|localhost:43875]|listeners:[], old=null CLOSED
  s1:   CLOSED  FOLLOWER s1@group-D0CE332DC739:t1, leader=null, voted=s1, raftlog=Memoized:s1@group-D0CE332DC739-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s0|localhost:40473, s1|localhost:37185, s2|localhost:43875]|listeners:[], old=null CLOSED
  s2:   CLOSED  FOLLOWER s2@group-D0CE332DC739:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-D0CE332DC739-SegmentedRaftLog:CLOSED:c0, conf=0: peers:[s0|localhost:40473, s1|localhost:37185, s2|localhost:43875]|listeners:[], old=null CLOSED
2023-12-07 16:29:55,477 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2023-12-07 16:29:55,477 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-12-07 16:29:55,477 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-12-07 16:29:55,477 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2023-12-07 16:29:55,478 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2023-12-07 16:29:55,478 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-5717A5BA0616:[s0|localhost:35275, s1|localhost:39521, s2|localhost:35813]
2023-12-07 16:29:55,478 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-12-07 16:29:55,478 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-12-07 16:29:55,478 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2023-12-07 16:29:55,478 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-12-07 16:29:55,478 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-12-07 16:29:55,478 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-12-07 16:29:55,478 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-5717A5BA0616:[s0|localhost:35275, s1|localhost:39521, s2|localhost:35813], format? true
2023-12-07 16:29:55,479 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s0
2023-12-07 16:29:55,479 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s0 does not exist.
2023-12-07 16:29:55,479 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s0
2023-12-07 16:29:55,479 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-12-07 16:29:55,479 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:55,479 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 45365 (custom)
2023-12-07 16:29:55,479 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:55,479 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 34063 (custom)
2023-12-07 16:29:55,479 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-12-07 16:29:55,479 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 35275 (custom)
2023-12-07 16:29:55,479 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-12-07 16:29:55,479 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:55,479 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-12-07 16:29:55,479 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:55,479 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:55,479 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-12-07 16:29:55,479 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-12-07 16:29:55,480 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-12-07 16:29:55,480 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:55,480 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2023-12-07 16:29:55,480 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:55,480 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s0] (custom)
2023-12-07 16:29:55,480 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-12-07 16:29:55,480 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-12-07 16:29:55,481 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(100)) - s0: addNew group-5717A5BA0616:[s0|localhost:35275, s1|localhost:39521, s2|localhost:35813] returns group-5717A5BA0616:java.util.concurrent.CompletableFuture@372b11a4[Not completed]
2023-12-07 16:29:55,481 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-5717A5BA0616:[s0|localhost:35275, s1|localhost:39521, s2|localhost:35813], format? true
2023-12-07 16:29:55,481 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s1
2023-12-07 16:29:55,481 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s0: new RaftServerImpl for group-5717A5BA0616:[s0|localhost:35275, s1|localhost:39521, s2|localhost:35813] with CounterStateMachine:uninitialized
2023-12-07 16:29:55,481 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s1 does not exist.
2023-12-07 16:29:55,481 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-12-07 16:29:55,481 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s1
2023-12-07 16:29:55,481 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-12-07 16:29:55,481 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-12-07 16:29:55,481 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-12-07 16:29:55,481 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-12-07 16:29:55,481 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:55,481 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:55,481 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2023-12-07 16:29:55,481 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 41317 (custom)
2023-12-07 16:29:55,481 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:55,481 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:55,481 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-5717A5BA0616: ConfigurationManager, init=-1: peers:[s0|localhost:35275, s1|localhost:39521, s2|localhost:35813]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-12-07 16:29:55,481 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 44539 (custom)
2023-12-07 16:29:55,481 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-12-07 16:29:55,482 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-12-07 16:29:55,482 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-12-07 16:29:55,482 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 39521 (custom)
2023-12-07 16:29:55,482 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-12-07 16:29:55,482 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-12-07 16:29:55,482 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2023-12-07 16:29:55,482 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:55,482 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-12-07 16:29:55,482 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = LINEARIZABLE (custom)
2023-12-07 16:29:55,482 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:55,482 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2023-12-07 16:29:55,482 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:55,482 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-12-07 16:29:55,482 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-12-07 16:29:55,482 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:55,482 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:55,483 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-12-07 16:29:55,483 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-12-07 16:29:55,483 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-12-07 16:29:55,483 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-12-07 16:29:55,483 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-12-07 16:29:55,483 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:55,483 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2023-12-07 16:29:55,483 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:55,483 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s1] (custom)
2023-12-07 16:29:55,483 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-12-07 16:29:55,483 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-12-07 16:29:55,483 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s1: new RaftServerImpl for group-5717A5BA0616:[s0|localhost:35275, s1|localhost:39521, s2|localhost:35813] with CounterStateMachine:uninitialized
2023-12-07 16:29:55,483 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-12-07 16:29:55,484 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-12-07 16:29:55,484 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-12-07 16:29:55,484 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-12-07 16:29:55,484 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:55,484 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2023-12-07 16:29:55,484 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:55,484 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-5717A5BA0616: ConfigurationManager, init=-1: peers:[s0|localhost:35275, s1|localhost:39521, s2|localhost:35813]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-12-07 16:29:55,484 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-12-07 16:29:55,484 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-12-07 16:29:55,484 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-12-07 16:29:55,484 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2023-12-07 16:29:55,484 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = LINEARIZABLE (custom)
2023-12-07 16:29:55,484 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2023-12-07 16:29:55,484 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:55,484 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:55,484 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(100)) - s1: addNew group-5717A5BA0616:[s0|localhost:35275, s1|localhost:39521, s2|localhost:35813] returns group-5717A5BA0616:java.util.concurrent.CompletableFuture@384d6e77[Not completed]
2023-12-07 16:29:55,484 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-12-07 16:29:55,484 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-5717A5BA0616:[s0|localhost:35275, s1|localhost:39521, s2|localhost:35813], format? true
2023-12-07 16:29:55,485 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-12-07 16:29:55,485 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(305)) - deleteFully target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s2
2023-12-07 16:29:55,485 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-12-07 16:29:55,485 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-12-07 16:29:55,485 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(318)) - deleteFully: target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s2 does not exist.
2023-12-07 16:29:55,485 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s2
2023-12-07 16:29:55,485 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-12-07 16:29:55,485 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:55,485 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 46725 (custom)
2023-12-07 16:29:55,485 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-12-07 16:29:55,485 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 42915 (custom)
2023-12-07 16:29:55,485 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-12-07 16:29:55,485 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 35813 (custom)
2023-12-07 16:29:55,485 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-12-07 16:29:55,485 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:55,485 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-12-07 16:29:55,485 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:55,485 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:55,486 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-12-07 16:29:55,486 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-12-07 16:29:55,486 [grpc-default-executor-0] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s1@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:41005
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:55,487 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-12-07 16:29:55,487 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:55,487 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.close.threshold = 60s (default)
2023-12-07 16:29:55,487 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:55,487 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s2] (custom)
2023-12-07 16:29:55,487 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-12-07 16:29:55,487 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-12-07 16:29:55,487 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(100)) - s2: addNew group-5717A5BA0616:[s0|localhost:35275, s1|localhost:39521, s2|localhost:35813] returns group-5717A5BA0616:java.util.concurrent.CompletableFuture@70a4e2df[Not completed]
2023-12-07 16:29:55,487 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(256)) - s2: new RaftServerImpl for group-5717A5BA0616:[s0|localhost:35275, s1|localhost:39521, s2|localhost:35813] with CounterStateMachine:uninitialized
2023-12-07 16:29:55,487 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-12-07 16:29:55,487 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-12-07 16:29:55,487 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-12-07 16:29:55,487 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-12-07 16:29:55,487 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-12-07 16:29:55,488 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-12-07 16:29:55,488 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-12-07 16:29:55,488 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.member.majority-add = false (default)
2023-12-07 16:29:55,488 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s0] (custom)
2023-12-07 16:29:55,488 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-12-07 16:29:55,488 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-5717A5BA0616: ConfigurationManager, init=-1: peers:[s0|localhost:35275, s1|localhost:39521, s2|localhost:35813]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-12-07 16:29:55,488 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-12-07 16:29:55,488 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-12-07 16:29:55,488 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-12-07 16:29:55,488 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100ms (default)
2023-12-07 16:29:55,488 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s0/728dc0ac-a4b8-4044-a947-5717a5ba0616 does not exist. Creating ...
2023-12-07 16:29:55,488 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = LINEARIZABLE (custom)
2023-12-07 16:29:55,488 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.read-after-write-consistent.write-index-cache.expiry-time = 60s (default)
2023-12-07 16:29:55,488 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s0/728dc0ac-a4b8-4044-a947-5717a5ba0616
2023-12-07 16:29:55,488 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:55,488 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:55,488 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-12-07 16:29:55,488 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-12-07 16:29:55,488 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-12-07 16:29:55,488 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-12-07 16:29:55,489 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s0/728dc0ac-a4b8-4044-a947-5717a5ba0616/in_use.lock acquired by nodename 9497@fv-az527-45
2023-12-07 16:29:55,489 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s0/728dc0ac-a4b8-4044-a947-5717a5ba0616/current
2023-12-07 16:29:55,489 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s0/728dc0ac-a4b8-4044-a947-5717a5ba0616/sm
2023-12-07 16:29:55,489 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s0/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5b17413a
2023-12-07 16:29:55,490 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s0/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s0/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:55,490 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s0/728dc0ac-a4b8-4044-a947-5717a5ba0616 has been successfully formatted.
2023-12-07 16:29:55,490 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s0/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s0/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/raft-meta.conf
	at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:92)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:116)
	at java.base/sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:219)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:371)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:422)
	at java.base/java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:420)
	at java.base/java.nio.file.Files.newInputStream(Files.java:156)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:388)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:182)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:55,490 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-12-07 16:29:55,490 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-12-07 16:29:55,490 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:55,490 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-12-07 16:29:55,490 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-12-07 16:29:55,491 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:55,491 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-12-07 16:29:55,491 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-12-07 16:29:55,491 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:55,491 [s0-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s0@group-5717A5BA0616-cacheEviction-AwaitToRun,5,main] started
2023-12-07 16:29:55,491 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s0@group-5717A5BA0616-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s0/728dc0ac-a4b8-4044-a947-5717a5ba0616
2023-12-07 16:29:55,491 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-12-07 16:29:55,491 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-12-07 16:29:55,491 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:55,491 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-12-07 16:29:55,491 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-12-07 16:29:55,491 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-12-07 16:29:55,491 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-12-07 16:29:55,491 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-12-07 16:29:55,491 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2023-12-07 16:29:55,492 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:55,492 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-12-07 16:29:55,492 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-12-07 16:29:55,492 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-12-07 16:29:55,493 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-5717A5BA0616-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:55,493 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-5717A5BA0616-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:55,493 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s0@group-5717A5BA0616: start as a follower, conf=-1: peers:[s0|localhost:35275, s1|localhost:39521, s2|localhost:35813]|listeners:[], old=null
2023-12-07 16:29:55,493 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-5717A5BA0616: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-12-07 16:29:55,493 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-5717A5BA0616-FollowerState
2023-12-07 16:29:55,493 [s0@group-5717A5BA0616-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:55,493 [s0@group-5717A5BA0616-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:55,493 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-5717A5BA0616,id=s0
2023-12-07 16:29:55,493 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2023-12-07 16:29:55,493 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-12-07 16:29:55,493 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-12-07 16:29:55,493 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-12-07 16:29:55,493 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(406)) - s0: start RPC server
2023-12-07 16:29:55,494 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 34063
2023-12-07 16:29:55,494 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 35275
2023-12-07 16:29:55,494 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 45365
2023-12-07 16:29:55,494 [JvmPauseMonitor36] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s0: Started
2023-12-07 16:29:55,494 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-12-07 16:29:55,495 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-12-07 16:29:55,495 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s1] (custom)
2023-12-07 16:29:55,495 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s1/728dc0ac-a4b8-4044-a947-5717a5ba0616 does not exist. Creating ...
2023-12-07 16:29:55,495 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s1/728dc0ac-a4b8-4044-a947-5717a5ba0616
2023-12-07 16:29:55,496 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s1/728dc0ac-a4b8-4044-a947-5717a5ba0616/in_use.lock acquired by nodename 9497@fv-az527-45
2023-12-07 16:29:55,496 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s1/728dc0ac-a4b8-4044-a947-5717a5ba0616/current
2023-12-07 16:29:55,496 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s1/728dc0ac-a4b8-4044-a947-5717a5ba0616/sm
2023-12-07 16:29:55,496 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s1/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@6934f175
2023-12-07 16:29:55,496 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s1/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s1/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:55,496 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s1/728dc0ac-a4b8-4044-a947-5717a5ba0616 has been successfully formatted.
2023-12-07 16:29:55,497 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s1/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s1/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/raft-meta.conf
	at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:92)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:116)
	at java.base/sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:219)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:371)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:422)
	at java.base/java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:420)
	at java.base/java.nio.file.Files.newInputStream(Files.java:156)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:388)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:182)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:55,497 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-12-07 16:29:55,497 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-12-07 16:29:55,497 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:55,497 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-12-07 16:29:55,497 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-12-07 16:29:55,497 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:55,497 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-12-07 16:29:55,497 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-12-07 16:29:55,497 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:55,502 [s1-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s1@group-5717A5BA0616-cacheEviction-AwaitToRun,5,main] started
2023-12-07 16:29:55,502 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s1@group-5717A5BA0616-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s1/728dc0ac-a4b8-4044-a947-5717a5ba0616
2023-12-07 16:29:55,502 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-12-07 16:29:55,502 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-12-07 16:29:55,502 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:55,502 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-12-07 16:29:55,502 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-12-07 16:29:55,502 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-12-07 16:29:55,502 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-12-07 16:29:55,502 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-12-07 16:29:55,502 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2023-12-07 16:29:55,502 [grpc-default-executor-0] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-50B4B534E5D5: Failed* RaftClientRequest:client-50B4B534E5D5->s1@group-D0CE332DC739, cid=154, seq=1*, Watch(0), null
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:40733
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:55,503 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:55,503 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-12-07 16:29:55,503 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-12-07 16:29:55,503 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-12-07 16:29:55,503 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-5717A5BA0616-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:55,503 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-5717A5BA0616-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:55,503 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s1@group-5717A5BA0616: start as a follower, conf=-1: peers:[s0|localhost:35275, s1|localhost:39521, s2|localhost:35813]|listeners:[], old=null
2023-12-07 16:29:55,503 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-5717A5BA0616: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-12-07 16:29:55,503 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-5717A5BA0616-FollowerState
2023-12-07 16:29:55,504 [s1@group-5717A5BA0616-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:55,504 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-5717A5BA0616,id=s1
2023-12-07 16:29:55,504 [s1@group-5717A5BA0616-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:55,504 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2023-12-07 16:29:55,504 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-12-07 16:29:55,504 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-12-07 16:29:55,504 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-12-07 16:29:55,504 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(406)) - s1: start RPC server
2023-12-07 16:29:55,504 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 44539
2023-12-07 16:29:55,505 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 39521
2023-12-07 16:29:55,505 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 41317
2023-12-07 16:29:55,505 [JvmPauseMonitor37] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s1: Started
2023-12-07 16:29:55,505 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-12-07 16:29:55,505 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-12-07 16:29:55,505 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s2] (custom)
2023-12-07 16:29:55,505 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s2/728dc0ac-a4b8-4044-a947-5717a5ba0616 does not exist. Creating ...
2023-12-07 16:29:55,506 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s2/728dc0ac-a4b8-4044-a947-5717a5ba0616
2023-12-07 16:29:55,506 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(228)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s2/728dc0ac-a4b8-4044-a947-5717a5ba0616/in_use.lock acquired by nodename 9497@fv-az527-45
2023-12-07 16:29:55,506 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s2/728dc0ac-a4b8-4044-a947-5717a5ba0616/current
2023-12-07 16:29:55,506 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s2/728dc0ac-a4b8-4044-a947-5717a5ba0616/sm
2023-12-07 16:29:55,507 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s2/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@18723818
2023-12-07 16:29:55,507 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s2/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s2/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:55,507 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(99)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s2/728dc0ac-a4b8-4044-a947-5717a5ba0616 has been successfully formatted.
2023-12-07 16:29:55,508 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:supplyAndLog(61)) - Failed to Files.newInputStream /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s2/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/raft-meta.conf with options []
java.nio.file.NoSuchFileException: /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s2/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/raft-meta.conf
	at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:92)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:116)
	at java.base/sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:219)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:371)
	at java.base/java.nio.file.Files.newByteChannel(Files.java:422)
	at java.base/java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:420)
	at java.base/java.nio.file.Files.newInputStream(Files.java:156)
	at org.apache.ratis.util.FileUtils.lambda$newInputStream$2(FileUtils.java:73)
	at org.apache.ratis.util.LogUtils.supplyAndLog(LogUtils.java:58)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:72)
	at org.apache.ratis.util.FileUtils.newInputStream(FileUtils.java:68)
	at org.apache.ratis.server.storage.RaftStorageImpl.readRaftConfiguration(RaftStorageImpl.java:156)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:141)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:388)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:203)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:182)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:55,508 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-12-07 16:29:55,508 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-12-07 16:29:55,508 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:55,508 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-12-07 16:29:55,508 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-12-07 16:29:55,508 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:55,508 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-12-07 16:29:55,508 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-12-07 16:29:55,508 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:55,508 [s2-impl-thread1] INFO  util.AwaitToRun (AwaitToRun.java:start(81)) - Thread[s2@group-5717A5BA0616-cacheEviction-AwaitToRun,5,main] started
2023-12-07 16:29:55,508 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(182)) - new s2@group-5717A5BA0616-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s2/728dc0ac-a4b8-4044-a947-5717a5ba0616
2023-12-07 16:29:55,508 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-12-07 16:29:55,508 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-12-07 16:29:55,509 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 32MB (=33554432) (default)
2023-12-07 16:29:55,509 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-12-07 16:29:55,509 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-12-07 16:29:55,509 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-12-07 16:29:55,509 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-12-07 16:29:55,509 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-12-07 16:29:55,509 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 8MB (=8388608) (default)
2023-12-07 16:29:55,511 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:55,511 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-12-07 16:29:55,511 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-12-07 16:29:55,511 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-12-07 16:29:55,511 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-5717A5BA0616-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:55,511 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-5717A5BA0616-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-12-07 16:29:55,511 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(392)) - s2@group-5717A5BA0616: start as a follower, conf=-1: peers:[s0|localhost:35275, s1|localhost:39521, s2|localhost:35813]|listeners:[], old=null
2023-12-07 16:29:55,511 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-5717A5BA0616: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-12-07 16:29:55,511 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5717A5BA0616-FollowerState
2023-12-07 16:29:55,511 [s2@group-5717A5BA0616-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:55,511 [s2@group-5717A5BA0616-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:55,511 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-5717A5BA0616,id=s2
2023-12-07 16:29:55,511 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.trigger-when-stop.enabled = true (default)
2023-12-07 16:29:55,512 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-12-07 16:29:55,512 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-12-07 16:29:55,512 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-12-07 16:29:55,512 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(406)) - s2: start RPC server
2023-12-07 16:29:55,512 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 42915
2023-12-07 16:29:55,512 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 35813
2023-12-07 16:29:55,512 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 46725
2023-12-07 16:29:55,513 [JvmPauseMonitor38] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(146)) - JvmPauseMonitor-s2: Started
2023-12-07 16:29:55,513 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-12-07 16:29:55,513 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-5717A5BA0616:t0, leader=null, voted=, raftlog=Memoized:s0@group-5717A5BA0616-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:35275, s1|localhost:39521, s2|localhost:35813]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-5717A5BA0616:t0, leader=null, voted=, raftlog=Memoized:s1@group-5717A5BA0616-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:35275, s1|localhost:39521, s2|localhost:35813]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5717A5BA0616:t0, leader=null, voted=, raftlog=Memoized:s2@group-5717A5BA0616-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:35275, s1|localhost:39521, s2|localhost:35813]|listeners:[], old=null RUNNING
2023-12-07 16:29:55,513 [Time-limited test] WARN  ratis.RaftTestUtil (RaftTestUtil.java:lambda$waitForLeader$3(119)) - Attempt #1 failed: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-5717A5BA0616:t0, leader=null, voted=, raftlog=Memoized:s0@group-5717A5BA0616-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:35275, s1|localhost:39521, s2|localhost:35813]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-5717A5BA0616:t0, leader=null, voted=, raftlog=Memoized:s1@group-5717A5BA0616-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:35275, s1|localhost:39521, s2|localhost:35813]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5717A5BA0616:t0, leader=null, voted=, raftlog=Memoized:s2@group-5717A5BA0616-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:35275, s1|localhost:39521, s2|localhost:35813]|listeners:[], old=null RUNNING
2023-12-07 16:29:55,589 [grpc-default-executor-6] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s2@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:35469
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:55,604 [grpc-default-executor-7] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-50B4B534E5D5: Failed* RaftClientRequest:client-50B4B534E5D5->s0@group-D0CE332DC739, cid=154, seq=1*, Watch(0), null
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:39081
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:55,666 [s2@group-5717A5BA0616-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-5717A5BA0616-FollowerState: change to CANDIDATE, lastRpcElapsedTime:154314552ns, electionTimeout:154ms
2023-12-07 16:29:55,666 [s2@group-5717A5BA0616-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-5717A5BA0616-FollowerState
2023-12-07 16:29:55,666 [s2@group-5717A5BA0616-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-5717A5BA0616: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-12-07 16:29:55,666 [s2@group-5717A5BA0616-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-12-07 16:29:55,666 [s2@group-5717A5BA0616-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5717A5BA0616-LeaderElection18
2023-12-07 16:29:55,666 [s2@group-5717A5BA0616-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s2@group-5717A5BA0616-LeaderElection18 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|localhost:35275, s1|localhost:39521, s2|localhost:35813]|listeners:[], old=null
2023-12-07 16:29:55,667 [s2@group-5717A5BA0616-LeaderElection18-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s0
2023-12-07 16:29:55,667 [s2@group-5717A5BA0616-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:55,667 [s2@group-5717A5BA0616-LeaderElection18-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(65)) - Build channel for s1
2023-12-07 16:29:55,667 [s2@group-5717A5BA0616-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:55,669 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s0@group-5717A5BA0616: receive requestVote(PRE_VOTE, s2, group-5717A5BA0616, 0, (t:0, i:0))
2023-12-07 16:29:55,669 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s1@group-5717A5BA0616: receive requestVote(PRE_VOTE, s2, group-5717A5BA0616, 0, (t:0, i:0))
2023-12-07 16:29:55,669 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-5717A5BA0616-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-12-07 16:29:55,669 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-5717A5BA0616-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-12-07 16:29:55,669 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s0@group-5717A5BA0616 replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-5717A5BA0616:t0, leader=null, voted=, raftlog=Memoized:s0@group-5717A5BA0616-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:35275, s1|localhost:39521, s2|localhost:35813]|listeners:[], old=null
2023-12-07 16:29:55,669 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s1@group-5717A5BA0616 replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-5717A5BA0616:t0, leader=null, voted=, raftlog=Memoized:s1@group-5717A5BA0616-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:35275, s1|localhost:39521, s2|localhost:35813]|listeners:[], old=null
2023-12-07 16:29:55,670 [s2@group-5717A5BA0616-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-5717A5BA0616-LeaderElection18: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-12-07 16:29:55,670 [s2@group-5717A5BA0616-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t0
2023-12-07 16:29:55,670 [s2@group-5717A5BA0616-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s2@group-5717A5BA0616-LeaderElection18 PRE_VOTE round 0: result PASSED
2023-12-07 16:29:55,670 [s2@group-5717A5BA0616-LeaderElection18] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s2/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5fda313e
2023-12-07 16:29:55,671 [s2@group-5717A5BA0616-LeaderElection18] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s2/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s2/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:55,671 [s2@group-5717A5BA0616-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s2@group-5717A5BA0616-LeaderElection18 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|localhost:35275, s1|localhost:39521, s2|localhost:35813]|listeners:[], old=null
2023-12-07 16:29:55,671 [s2@group-5717A5BA0616-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-12-07 16:29:55,671 [s2@group-5717A5BA0616-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-12-07 16:29:55,672 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s0@group-5717A5BA0616: receive requestVote(ELECTION, s2, group-5717A5BA0616, 1, (t:0, i:0))
2023-12-07 16:29:55,672 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-5717A5BA0616-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2023-12-07 16:29:55,672 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-5717A5BA0616: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2023-12-07 16:29:55,672 [grpc-default-executor-7] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-5717A5BA0616-FollowerState
2023-12-07 16:29:55,672 [grpc-default-executor-7] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-5717A5BA0616-FollowerState
2023-12-07 16:29:55,672 [s0@group-5717A5BA0616-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-5717A5BA0616-FollowerState was interrupted
2023-12-07 16:29:55,672 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(564)) - s0@group-5717A5BA0616: set firstElectionSinceStartup to false for candidate:s2
2023-12-07 16:29:55,672 [grpc-default-executor-7] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s0/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@2571f5a2
2023-12-07 16:29:55,672 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s1@group-5717A5BA0616: receive requestVote(ELECTION, s2, group-5717A5BA0616, 1, (t:0, i:0))
2023-12-07 16:29:55,673 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-5717A5BA0616-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2023-12-07 16:29:55,673 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-5717A5BA0616: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s2
2023-12-07 16:29:55,673 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-5717A5BA0616-FollowerState
2023-12-07 16:29:55,673 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-5717A5BA0616-FollowerState
2023-12-07 16:29:55,673 [s1@group-5717A5BA0616-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-5717A5BA0616-FollowerState was interrupted
2023-12-07 16:29:55,673 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(564)) - s1@group-5717A5BA0616: set firstElectionSinceStartup to false for candidate:s2
2023-12-07 16:29:55,673 [grpc-default-executor-0] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s1/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@1e8e25ce
2023-12-07 16:29:55,673 [grpc-default-executor-7] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s0/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s0/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:55,674 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s0@group-5717A5BA0616 replies to ELECTION vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-5717A5BA0616:t1, leader=null, voted=s2, raftlog=Memoized:s0@group-5717A5BA0616-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:35275, s1|localhost:39521, s2|localhost:35813]|listeners:[], old=null
2023-12-07 16:29:55,674 [grpc-default-executor-0] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s1/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s1/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:55,674 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s1@group-5717A5BA0616 replies to ELECTION vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-5717A5BA0616:t1, leader=null, voted=s2, raftlog=Memoized:s1@group-5717A5BA0616-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|localhost:35275, s1|localhost:39521, s2|localhost:35813]|listeners:[], old=null
2023-12-07 16:29:55,675 [s2@group-5717A5BA0616-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-5717A5BA0616-LeaderElection18: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-12-07 16:29:55,675 [s2@group-5717A5BA0616-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t1
2023-12-07 16:29:55,675 [s2@group-5717A5BA0616-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s2@group-5717A5BA0616-LeaderElection18 ELECTION round 0: result PASSED
2023-12-07 16:29:55,675 [s2@group-5717A5BA0616-LeaderElection18] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-5717A5BA0616-LeaderElection18
2023-12-07 16:29:55,675 [s2@group-5717A5BA0616-LeaderElection18] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-5717A5BA0616: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-12-07 16:29:55,675 [s2@group-5717A5BA0616-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-12-07 16:29:55,675 [s2@group-5717A5BA0616-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-12-07 16:29:55,675 [s2@group-5717A5BA0616-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2023-12-07 16:29:55,675 [s2@group-5717A5BA0616-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-12-07 16:29:55,675 [s2@group-5717A5BA0616-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-12-07 16:29:55,675 [s2@group-5717A5BA0616-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-12-07 16:29:55,675 [s2@group-5717A5BA0616-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = true (custom)
2023-12-07 16:29:55,675 [s2@group-5717A5BA0616-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2023-12-07 16:29:55,675 [s2@group-5717A5BA0616-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-12-07 16:29:55,675 [s2@group-5717A5BA0616-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-12-07 16:29:55,675 [s2@group-5717A5BA0616-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-12-07 16:29:55,675 [s2@group-5717A5BA0616-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-12-07 16:29:55,675 [s2@group-5717A5BA0616-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:55,675 [s2@group-5717A5BA0616-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-12-07 16:29:55,675 [s2@group-5717A5BA0616-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2023-12-07 16:29:55,675 [s2@group-5717A5BA0616-LeaderElection18] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2023-12-07 16:29:55,675 [s2@group-5717A5BA0616-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:55,675 [s2@group-5717A5BA0616-LeaderElection18] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2023-12-07 16:29:55,675 [s2@group-5717A5BA0616-LeaderElection18] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2023-12-07 16:29:55,675 [s2@group-5717A5BA0616-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:55,675 [s2@group-5717A5BA0616-LeaderElection18] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:55,676 [s2@group-5717A5BA0616-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-12-07 16:29:55,676 [s2@group-5717A5BA0616-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:55,676 [s2@group-5717A5BA0616-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-12-07 16:29:55,676 [s2@group-5717A5BA0616-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2023-12-07 16:29:55,676 [s2@group-5717A5BA0616-LeaderElection18] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2023-12-07 16:29:55,676 [s2@group-5717A5BA0616-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:55,676 [s2@group-5717A5BA0616-LeaderElection18] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2023-12-07 16:29:55,676 [s2@group-5717A5BA0616-LeaderElection18] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2023-12-07 16:29:55,676 [s2@group-5717A5BA0616-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:55,676 [s2@group-5717A5BA0616-LeaderElection18] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:55,676 [s2@group-5717A5BA0616-LeaderElection18] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5717A5BA0616-LeaderStateImpl
2023-12-07 16:29:55,676 [s2@group-5717A5BA0616-LeaderElection18] INFO  server.RaftServer$Division (RaftServerImpl.java:setFirstElection(564)) - s2@group-5717A5BA0616: set firstElectionSinceStartup to false for becomeLeader
2023-12-07 16:29:55,676 [s2@group-5717A5BA0616-LeaderElection18] INFO  server.RaftServer$Division (ServerState.java:setLeader(265)) - s2@group-5717A5BA0616: change Leader from null to s2 at term 1 for becomeLeader, leader elected after 188ms
2023-12-07 16:29:55,676 [s2@group-5717A5BA0616-LeaderElection18] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s2@group-5717A5BA0616-SegmentedRaftLogWorker: Starting segment from index:0
2023-12-07 16:29:55,676 [s2@group-5717A5BA0616-LeaderElection18] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(382)) - s2@group-5717A5BA0616: set configuration 0: peers:[s0|localhost:35275, s1|localhost:39521, s2|localhost:35813]|listeners:[], old=null
2023-12-07 16:29:55,676 [s2@group-5717A5BA0616-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2023-12-07 16:29:55,680 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(265)) - s1@group-5717A5BA0616: change Leader from null to s2 at term 1 for appendEntries, leader elected after 195ms
2023-12-07 16:29:55,681 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-5717A5BA0616: receive appendEntries(s2, 1, null, -1, true, commits:[s2:c-1, s0:c-1, s1:c-1], cId:1, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:35275"
dataStreamAddress: "localhost:36917"
clientAddress: "localhost:34063"
adminAddress: "localhost:45365"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:39521"
dataStreamAddress: "localhost:37069"
clientAddress: "localhost:44539"
adminAddress: "localhost:41317"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:35813"
dataStreamAddress: "localhost:42751"
clientAddress: "localhost:42915"
adminAddress: "localhost:46725"
startupRole: FOLLOWER
, old:)]
2023-12-07 16:29:55,684 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(382)) - s1@group-5717A5BA0616: set configuration 0: peers:[s0|localhost:35275, s1|localhost:39521, s2|localhost:35813]|listeners:[], old=null
2023-12-07 16:29:55,684 [s1-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s1@group-5717A5BA0616-SegmentedRaftLogWorker: Starting segment from index:0
2023-12-07 16:29:55,684 [s1@group-5717A5BA0616-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2023-12-07 16:29:55,685 [s2@group-5717A5BA0616-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s2@group-5717A5BA0616-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s2/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/log_inprogress_0
2023-12-07 16:29:55,688 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(265)) - s0@group-5717A5BA0616: change Leader from null to s2 at term 1 for appendEntries, leader elected after 206ms
2023-12-07 16:29:55,689 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-5717A5BA0616: receive appendEntries(s2, 1, null, -1, true, commits:[s2:c-1, s0:c-1, s1:c-1], cId:1, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:35275"
dataStreamAddress: "localhost:36917"
clientAddress: "localhost:34063"
adminAddress: "localhost:45365"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:39521"
dataStreamAddress: "localhost:37069"
clientAddress: "localhost:44539"
adminAddress: "localhost:41317"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:35813"
dataStreamAddress: "localhost:42751"
clientAddress: "localhost:42915"
adminAddress: "localhost:46725"
startupRole: FOLLOWER
, old:)]
2023-12-07 16:29:55,689 [s0-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(382)) - s0@group-5717A5BA0616: set configuration 0: peers:[s0|localhost:35275, s1|localhost:39521, s2|localhost:35813]|listeners:[], old=null
2023-12-07 16:29:55,690 [s0-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(430)) - s0@group-5717A5BA0616-SegmentedRaftLogWorker: Starting segment from index:0
2023-12-07 16:29:55,691 [s0@group-5717A5BA0616-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_0 at position 0
2023-12-07 16:29:55,692 [grpc-default-executor-7] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s1@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.drainPendingCallbacks(DelayedClientCall.java:528)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$1DrainListenerRunnable.runInContext(DelayedClientCall.java:317)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 11 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 11 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:41005
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:55,692 [s1@group-5717A5BA0616-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s1@group-5717A5BA0616-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s1/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/log_inprogress_0
2023-12-07 16:29:55,693 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-5717A5BA0616: succeeded to handle AppendEntries. Reply: s2<-s1#1:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-12-07 16:29:55,695 [s2@group-5717A5BA0616-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s2/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@7f222a9e
2023-12-07 16:29:55,699 [s2@group-5717A5BA0616-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s2/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s2/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/raft-meta.conf with options [REPLACE_EXISTING]
2023-12-07 16:29:55,699 [s2@group-5717A5BA0616-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:isApplied(320)) - leader is ready since appliedIndex == 0 >= startIndex == 0
2023-12-07 16:29:55,699 [s0@group-5717A5BA0616-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s0@group-5717A5BA0616-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s0/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/log_inprogress_0
2023-12-07 16:29:55,699 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-5717A5BA0616: succeeded to handle AppendEntries. Reply: s2<-s0#1:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-12-07 16:29:55,705 [grpc-default-executor-7] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-50B4B534E5D5: Failed* RaftClientRequest:client-50B4B534E5D5->s1@group-D0CE332DC739, cid=154, seq=1*, Watch(0), null
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:40733
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:55,771 [s1@group-5717A5BA0616-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s1/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@44b29dbe
2023-12-07 16:29:55,773 [s1@group-5717A5BA0616-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s1/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s1/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/raft-meta.conf with options [REPLACE_EXISTING]
2023-12-07 16:29:55,775 [s0@group-5717A5BA0616-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s0/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@5f15177b
2023-12-07 16:29:55,776 [s0@group-5717A5BA0616-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s0/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s0/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/raft-meta.conf with options [REPLACE_EXISTING]
2023-12-07 16:29:55,793 [grpc-default-executor-0] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s2@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:35469
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:55,807 [grpc-default-executor-6] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-50B4B534E5D5: Failed* RaftClientRequest:client-50B4B534E5D5->s0@group-D0CE332DC739, cid=154, seq=1*, Watch(0), null
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:39081
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:55,896 [grpc-default-executor-7] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s1@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:41005
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:55,908 [grpc-default-executor-0] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-50B4B534E5D5: Failed* RaftClientRequest:client-50B4B534E5D5->s2@group-D0CE332DC739, cid=154, seq=1*, Watch(0), null
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:45607
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:55,963 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(124)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-5717A5BA0616:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-5717A5BA0616-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:35275, s1|localhost:39521, s2|localhost:35813]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-5717A5BA0616:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-5717A5BA0616-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:35275, s1|localhost:39521, s2|localhost:35813]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-5717A5BA0616:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-5717A5BA0616-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|localhost:35275, s1|localhost:39521, s2|localhost:35813]|listeners:[], old=null RUNNING
2023-12-07 16:29:55,966 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-5717A5BA0616: receive client request(RaftClientRequest:client-FFD0CC51915A->s2@group-5717A5BA0616, cid=158, seq=null, RW, Message:494e4352454d454e54)
2023-12-07 16:29:55,966 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(522)) - s2@group-5717A5BA0616-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-FFD0CC51915A->s2@group-5717A5BA0616, cid=158, seq=null, RW, Message:494e4352454d454e54, entry=(t:1, i:1), STATEMACHINELOGENTRY, 158@client-FFD0CC51915A
2023-12-07 16:29:55,967 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-5717A5BA0616: receive appendEntries(s2, 1, (t:1, i:0), 0, true, commits:[s2:c0, s0:c0, s1:c0], cId:8, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 158@client-FFD0CC51915A]
2023-12-07 16:29:55,967 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-5717A5BA0616: receive appendEntries(s2, 1, (t:1, i:0), 0, true, commits:[s2:c0, s0:c0, s1:c0], cId:6, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 158@client-FFD0CC51915A]
2023-12-07 16:29:55,967 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-5717A5BA0616: succeeded to handle AppendEntries. Reply: s2<-s0#8:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2023-12-07 16:29:55,967 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-5717A5BA0616: succeeded to handle AppendEntries. Reply: s2<-s1#6:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2023-12-07 16:29:55,968 [s2@group-5717A5BA0616-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:55,968 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-5717A5BA0616: receive appendEntries(s2, 1, (t:1, i:1), 1, true, commits:[s2:c1, s0:c0, s1:c0], cId:7, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2023-12-07 16:29:55,968 [s1-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-5717A5BA0616: succeeded to handle AppendEntries. Reply: s2<-s1#7:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2023-12-07 16:29:55,969 [s1@group-5717A5BA0616-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:55,969 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-5717A5BA0616: receive appendEntries(s2, 1, (t:1, i:1), 1, true, commits:[s2:c1, s0:c0, s1:c0], cId:9, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2023-12-07 16:29:55,970 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-5717A5BA0616: receive client request(RaftClientRequest:client-FFD0CC51915A->s2@group-5717A5BA0616, cid=159, seq=null, RO, Message:5155455259)
2023-12-07 16:29:55,970 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=2, readAfterWriteConsistentIndex=null
2023-12-07 16:29:55,970 [s0@group-5717A5BA0616-StateMachineUpdater] INFO  statemachine.StateMachine (ReadOnlyRequestTests.java:applyTransaction(375)) - receive command: INCREMENT
2023-12-07 16:29:55,970 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-5717A5BA0616: succeeded to handle AppendEntries. Reply: s2<-s0#9:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2023-12-07 16:29:55,972 [s2-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:stepDownLeaderAsync(1247)) - s2@group-5717A5BA0616 receive stepDown leader request TransferLeadershipRequest:client-FFD0CC51915A->s2@group-5717A5BA0616, cid=160, seq=null, RO, null
2023-12-07 16:29:55,972 [s2@group-5717A5BA0616-LeaderStateImpl] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-5717A5BA0616: changes role from    LEADER to FOLLOWER at term 1 for StepDownReason:FORCE
2023-12-07 16:29:55,972 [s2@group-5717A5BA0616-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(94)) - s2: shutdown s2@group-5717A5BA0616-LeaderStateImpl
2023-12-07 16:29:55,972 [s2@group-5717A5BA0616->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(279)) - s2@group-5717A5BA0616->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2023-12-07 16:29:55,972 [s2@group-5717A5BA0616-LeaderStateImpl] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(289)) - s2@group-5717A5BA0616-PendingRequests: sendNotLeaderResponses
2023-12-07 16:29:55,972 [s2@group-5717A5BA0616->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(279)) - s2@group-5717A5BA0616->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2023-12-07 16:29:55,974 [grpc-default-executor-6] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(157)) - s0: Completed APPEND_ENTRIES, lastRequest: null
2023-12-07 16:29:55,974 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(157)) - s0: Completed APPEND_ENTRIES, lastRequest: s2->s0#9-t1,previous=(t:1, i:1),leaderCommit=1,initializing? true,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2023-12-07 16:29:55,974 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(157)) - s1: Completed APPEND_ENTRIES, lastRequest: null
2023-12-07 16:29:55,974 [grpc-default-executor-6] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$5(159)) - s0: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s2"
  replyId: "s0"
  raftGroupId {
    id: "r\215\300\254\244\270@D\251GW\027\245\272\006\026"
  }
  callId: 7
  success: true
}
term: 1
nextIndex: 1
matchIndex: 18446744073709551615
isHearbeat: true

2023-12-07 16:29:55,974 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$5(159)) - s1: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s2"
  replyId: "s1"
  raftGroupId {
    id: "r\215\300\254\244\270@D\251GW\027\245\272\006\026"
  }
  callId: 5
  success: true
}
term: 1
nextIndex: 1
matchIndex: 18446744073709551615
isHearbeat: true

2023-12-07 16:29:55,974 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(157)) - s1: Completed APPEND_ENTRIES, lastRequest: s2->s1#7-t1,previous=(t:1, i:1),leaderCommit=1,initializing? true,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2023-12-07 16:29:55,974 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$5(159)) - s0: Completed APPEND_ENTRIES, lastReply: null
2023-12-07 16:29:55,974 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$5(159)) - s1: Completed APPEND_ENTRIES, lastReply: null
2023-12-07 16:29:55,974 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(534)) - s2@group-5717A5BA0616->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-12-07 16:29:55,974 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(534)) - s2@group-5717A5BA0616->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-12-07 16:29:55,974 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(534)) - s2@group-5717A5BA0616->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-12-07 16:29:55,975 [s2@group-5717A5BA0616-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setLeader(265)) - s2@group-5717A5BA0616: change Leader from s2 to null at term 1 for StepDownReason:FORCE
2023-12-07 16:29:55,975 [s2@group-5717A5BA0616-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5717A5BA0616-FollowerState
2023-12-07 16:29:55,975 [grpc-default-executor-6] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(534)) - s2@group-5717A5BA0616->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-12-07 16:29:55,975 [s2@group-5717A5BA0616-LeaderStateImpl] INFO  impl.PendingStepDown (PendingStepDown.java:complete(55)) - Successfully step down leader at s2@group-5717A5BA0616-LeaderStateImpl for request TransferLeadershipRequest:client-FFD0CC51915A->s2@group-5717A5BA0616, cid=160, seq=null, RO, null
2023-12-07 16:29:55,976 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-5717A5BA0616: receive client request(RaftClientRequest:client-FFD0CC51915A->s2@group-5717A5BA0616, cid=161, seq=null, RO, Message:5155455259)
2023-12-07 16:29:55,976 [null-request--thread1] INFO  server.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(284)) - Failed RaftClientRequest:client-FFD0CC51915A->s2@group-5717A5BA0616, cid=161, seq=null, RO, Message:5155455259, reply=RaftClientReply:client-FFD0CC51915A->s2@group-5717A5BA0616, cid=161, FAILED org.apache.ratis.protocol.exceptions.ReadIndexException: s2@group-5717A5BA0616: Leader is unknown., logIndex=0, commits[s2:c2, s0:c0, s1:c1]
2023-12-07 16:29:55,998 [grpc-default-executor-6] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s2@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:35469
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:56,010 [grpc-default-executor-7] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-50B4B534E5D5: Failed* RaftClientRequest:client-50B4B534E5D5->s0@group-D0CE332DC739, cid=154, seq=1*, Watch(0), null
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:39081
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:56,099 [grpc-default-executor-0] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s0@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:42899
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:56,111 [grpc-default-executor-6] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-50B4B534E5D5: Failed* RaftClientRequest:client-50B4B534E5D5->s2@group-D0CE332DC739, cid=154, seq=1*, Watch(0), null
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:45607
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:56,202 [grpc-default-executor-7] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s2@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:35469
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:56,214 [grpc-default-executor-0] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-50B4B534E5D5: Failed* RaftClientRequest:client-50B4B534E5D5->s0@group-D0CE332DC739, cid=154, seq=1*, Watch(0), null
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:39081
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:56,260 [s2@group-5717A5BA0616-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-5717A5BA0616-FollowerState: change to CANDIDATE, lastRpcElapsedTime:285312149ns, electionTimeout:285ms
2023-12-07 16:29:56,260 [s2@group-5717A5BA0616-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-5717A5BA0616-FollowerState
2023-12-07 16:29:56,260 [s2@group-5717A5BA0616-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-5717A5BA0616: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-12-07 16:29:56,260 [s2@group-5717A5BA0616-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-12-07 16:29:56,260 [s2@group-5717A5BA0616-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5717A5BA0616-LeaderElection19
2023-12-07 16:29:56,260 [s2@group-5717A5BA0616-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s2@group-5717A5BA0616-LeaderElection19 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|localhost:35275, s1|localhost:39521, s2|localhost:35813]|listeners:[], old=null
2023-12-07 16:29:56,262 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s1@group-5717A5BA0616: receive requestVote(PRE_VOTE, s2, group-5717A5BA0616, 1, (t:1, i:2))
2023-12-07 16:29:56,262 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s0@group-5717A5BA0616: receive requestVote(PRE_VOTE, s2, group-5717A5BA0616, 1, (t:1, i:2))
2023-12-07 16:29:56,262 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-5717A5BA0616-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-12-07 16:29:56,262 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-5717A5BA0616-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-12-07 16:29:56,262 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s1@group-5717A5BA0616 replies to PRE_VOTE vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-5717A5BA0616:t1, leader=s2, voted=s2, raftlog=Memoized:s1@group-5717A5BA0616-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|localhost:35275, s1|localhost:39521, s2|localhost:35813]|listeners:[], old=null
2023-12-07 16:29:56,262 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s0@group-5717A5BA0616 replies to PRE_VOTE vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-5717A5BA0616:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-5717A5BA0616-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|localhost:35275, s1|localhost:39521, s2|localhost:35813]|listeners:[], old=null
2023-12-07 16:29:56,262 [s2@group-5717A5BA0616-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-5717A5BA0616-LeaderElection19: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-12-07 16:29:56,262 [s2@group-5717A5BA0616-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s1#0:OK-t1
2023-12-07 16:29:56,262 [s2@group-5717A5BA0616-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s2@group-5717A5BA0616-LeaderElection19 PRE_VOTE round 0: result PASSED
2023-12-07 16:29:56,262 [s2@group-5717A5BA0616-LeaderElection19] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s2/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@353892e7
2023-12-07 16:29:56,263 [s2@group-5717A5BA0616-LeaderElection19] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s2/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s2/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:56,263 [s2@group-5717A5BA0616-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(321)) - s2@group-5717A5BA0616-LeaderElection19 ELECTION round 0: submit vote requests at term 2 for 0: peers:[s0|localhost:35275, s1|localhost:39521, s2|localhost:35813]|listeners:[], old=null
2023-12-07 16:29:56,266 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s1@group-5717A5BA0616: receive requestVote(ELECTION, s2, group-5717A5BA0616, 2, (t:1, i:2))
2023-12-07 16:29:56,266 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1377)) - s0@group-5717A5BA0616: receive requestVote(ELECTION, s2, group-5717A5BA0616, 2, (t:1, i:2))
2023-12-07 16:29:56,266 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-5717A5BA0616-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2023-12-07 16:29:56,266 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-5717A5BA0616-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2023-12-07 16:29:56,266 [grpc-default-executor-0] INFO  server.RaftServer$Division (ServerState.java:setLeader(265)) - s1@group-5717A5BA0616: change Leader from s2 to null at term 2 for updateCurrentTerm
2023-12-07 16:29:56,266 [grpc-default-executor-6] INFO  server.RaftServer$Division (ServerState.java:setLeader(265)) - s0@group-5717A5BA0616: change Leader from s2 to null at term 2 for updateCurrentTerm
2023-12-07 16:29:56,266 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s1@group-5717A5BA0616: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s2
2023-12-07 16:29:56,266 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s0@group-5717A5BA0616: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s2
2023-12-07 16:29:56,266 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-5717A5BA0616-FollowerState
2023-12-07 16:29:56,266 [grpc-default-executor-6] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-5717A5BA0616-FollowerState
2023-12-07 16:29:56,266 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-5717A5BA0616-FollowerState
2023-12-07 16:29:56,266 [s1@group-5717A5BA0616-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-5717A5BA0616-FollowerState was interrupted
2023-12-07 16:29:56,266 [grpc-default-executor-6] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-5717A5BA0616-FollowerState
2023-12-07 16:29:56,266 [s0@group-5717A5BA0616-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-5717A5BA0616-FollowerState was interrupted
2023-12-07 16:29:56,266 [grpc-default-executor-0] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s1/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@3a67972f
2023-12-07 16:29:56,266 [grpc-default-executor-6] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s0/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/raft-meta.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4cccbe8a
2023-12-07 16:29:56,267 [grpc-default-executor-0] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s1/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s1/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:56,267 [grpc-default-executor-6] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s0/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/raft-meta.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s0/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/raft-meta with options [REPLACE_EXISTING]
2023-12-07 16:29:56,267 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s1@group-5717A5BA0616 replies to ELECTION vote request: s2<-s1#0:OK-t2. Peer's state: s1@group-5717A5BA0616:t2, leader=null, voted=s2, raftlog=Memoized:s1@group-5717A5BA0616-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|localhost:35275, s1|localhost:39521, s2|localhost:35813]|listeners:[], old=null
2023-12-07 16:29:56,267 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1410)) - s0@group-5717A5BA0616 replies to ELECTION vote request: s2<-s0#0:OK-t2. Peer's state: s0@group-5717A5BA0616:t2, leader=null, voted=s2, raftlog=Memoized:s0@group-5717A5BA0616-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|localhost:35275, s1|localhost:39521, s2|localhost:35813]|listeners:[], old=null
2023-12-07 16:29:56,267 [s2@group-5717A5BA0616-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-5717A5BA0616-LeaderElection19: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-12-07 16:29:56,267 [s2@group-5717A5BA0616-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s1#0:OK-t2
2023-12-07 16:29:56,268 [s2@group-5717A5BA0616-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(323)) - s2@group-5717A5BA0616-LeaderElection19 ELECTION round 0: result PASSED
2023-12-07 16:29:56,268 [s2@group-5717A5BA0616-LeaderElection19] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-5717A5BA0616-LeaderElection19
2023-12-07 16:29:56,268 [s2@group-5717A5BA0616-LeaderElection19] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(379)) - s2@group-5717A5BA0616: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2023-12-07 16:29:56,268 [s2@group-5717A5BA0616-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-12-07 16:29:56,268 [s2@group-5717A5BA0616-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-12-07 16:29:56,268 [s2@group-5717A5BA0616-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2023-12-07 16:29:56,268 [s2@group-5717A5BA0616-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-12-07 16:29:56,268 [s2@group-5717A5BA0616-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-12-07 16:29:56,268 [s2@group-5717A5BA0616-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-12-07 16:29:56,268 [s2@group-5717A5BA0616-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.enabled = true (custom)
2023-12-07 16:29:56,268 [s2@group-5717A5BA0616-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.leader.lease.timeout.ratio = 0.9 (default)
2023-12-07 16:29:56,268 [s2@group-5717A5BA0616-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-12-07 16:29:56,268 [s2@group-5717A5BA0616-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-12-07 16:29:56,268 [s2@group-5717A5BA0616-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-12-07 16:29:56,268 [s2@group-5717A5BA0616-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-12-07 16:29:56,268 [s2@group-5717A5BA0616-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:56,268 [s2@group-5717A5BA0616-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-12-07 16:29:56,268 [s2@group-5717A5BA0616-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2023-12-07 16:29:56,268 [s2@group-5717A5BA0616-LeaderElection19] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2023-12-07 16:29:56,268 [s2@group-5717A5BA0616-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:56,268 [s2@group-5717A5BA0616-LeaderElection19] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2023-12-07 16:29:56,269 [s2@group-5717A5BA0616-LeaderElection19] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2023-12-07 16:29:56,269 [s2@group-5717A5BA0616-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:56,269 [s2@group-5717A5BA0616-LeaderElection19] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:56,269 [s2@group-5717A5BA0616-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-12-07 16:29:56,269 [s2@group-5717A5BA0616-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-12-07 16:29:56,269 [s2@group-5717A5BA0616-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-12-07 16:29:56,269 [s2@group-5717A5BA0616-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 1ms (default)
2023-12-07 16:29:56,269 [s2@group-5717A5BA0616-LeaderElection19] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 8 (default)
2023-12-07 16:29:56,269 [s2@group-5717A5BA0616-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-12-07 16:29:56,269 [s2@group-5717A5BA0616-LeaderElection19] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.element-limit = 8 (default)
2023-12-07 16:29:56,269 [s2@group-5717A5BA0616-LeaderElection19] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.install_snapshot.request.timeout = 3000ms (default)
2023-12-07 16:29:56,269 [s2@group-5717A5BA0616-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-12-07 16:29:56,269 [s2@group-5717A5BA0616-LeaderElection19] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-12-07 16:29:56,269 [s2@group-5717A5BA0616-LeaderElection19] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5717A5BA0616-LeaderStateImpl
2023-12-07 16:29:56,269 [s2@group-5717A5BA0616-LeaderElection19] INFO  server.RaftServer$Division (ServerState.java:setLeader(265)) - s2@group-5717A5BA0616: change Leader from null to s2 at term 2 for becomeLeader, leader elected after 294ms
2023-12-07 16:29:56,269 [s2@group-5717A5BA0616-LeaderElection19] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(435)) - s2@group-5717A5BA0616-SegmentedRaftLogWorker: Rolling segment log-0_2 to index:2
2023-12-07 16:29:56,270 [s2@group-5717A5BA0616-LeaderElection19] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(382)) - s2@group-5717A5BA0616: set configuration 3: peers:[s0|localhost:35275, s1|localhost:39521, s2|localhost:35813]|listeners:[], old=null
2023-12-07 16:29:56,270 [s2@group-5717A5BA0616-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s2/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s2/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/log_0-2
2023-12-07 16:29:56,270 [s2@group-5717A5BA0616-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(591)) - s2@group-5717A5BA0616-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s2/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s2/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/log_0-2
2023-12-07 16:29:56,270 [s2@group-5717A5BA0616-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_3 at position 0
2023-12-07 16:29:56,272 [s1-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setLeader(265)) - s1@group-5717A5BA0616: change Leader from null to s2 at term 2 for appendEntries, leader elected after 5ms
2023-12-07 16:29:56,274 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-5717A5BA0616: receive appendEntries(s2, 2, (t:1, i:2), 2, true, commits:[s2:c2, s0:c0, s1:c2], cId:1, entries: [(t:2, i:3), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:35275"
dataStreamAddress: "localhost:36917"
clientAddress: "localhost:34063"
adminAddress: "localhost:45365"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:39521"
dataStreamAddress: "localhost:37069"
clientAddress: "localhost:44539"
adminAddress: "localhost:41317"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:35813"
dataStreamAddress: "localhost:42751"
clientAddress: "localhost:42915"
adminAddress: "localhost:46725"
startupRole: FOLLOWER
, old:)]
2023-12-07 16:29:56,274 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(382)) - s1@group-5717A5BA0616: set configuration 3: peers:[s0|localhost:35275, s1|localhost:39521, s2|localhost:35813]|listeners:[], old=null
2023-12-07 16:29:56,274 [s1-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(435)) - s1@group-5717A5BA0616-SegmentedRaftLogWorker: Rolling segment log-0_2 to index:2
2023-12-07 16:29:56,275 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(265)) - s0@group-5717A5BA0616: change Leader from null to s2 at term 2 for appendEntries, leader elected after 8ms
2023-12-07 16:29:56,275 [s1@group-5717A5BA0616-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s1/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s1/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/log_0-2
2023-12-07 16:29:56,275 [s1@group-5717A5BA0616-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(591)) - s1@group-5717A5BA0616-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s1/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s1/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/log_0-2
2023-12-07 16:29:56,278 [s2@group-5717A5BA0616-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s2@group-5717A5BA0616-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s2/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/log_inprogress_3
2023-12-07 16:29:56,278 [s1@group-5717A5BA0616-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_3 at position 0
2023-12-07 16:29:56,278 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-5717A5BA0616: receive appendEntries(s2, 2, (t:1, i:2), 2, true, commits:[s2:c2, s0:c2, s1:c2], cId:1, entries: [(t:2, i:3), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:35275"
dataStreamAddress: "localhost:36917"
clientAddress: "localhost:34063"
adminAddress: "localhost:45365"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:39521"
dataStreamAddress: "localhost:37069"
clientAddress: "localhost:44539"
adminAddress: "localhost:41317"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:35813"
dataStreamAddress: "localhost:42751"
clientAddress: "localhost:42915"
adminAddress: "localhost:46725"
startupRole: FOLLOWER
, old:)]
2023-12-07 16:29:56,278 [s0-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(382)) - s0@group-5717A5BA0616: set configuration 3: peers:[s0|localhost:35275, s1|localhost:39521, s2|localhost:35813]|listeners:[], old=null
2023-12-07 16:29:56,278 [s0-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(435)) - s0@group-5717A5BA0616-SegmentedRaftLogWorker: Rolling segment log-0_2 to index:2
2023-12-07 16:29:56,279 [s0@group-5717A5BA0616-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s0/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s0/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/log_0-2
2023-12-07 16:29:56,279 [s0@group-5717A5BA0616-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(591)) - s0@group-5717A5BA0616-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s0/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s0/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/log_0-2
2023-12-07 16:29:56,279 [s0@group-5717A5BA0616-SegmentedRaftLogWorker] INFO  segmented.BufferedWriteChannel (BufferedWriteChannel.java:open(62)) - open log_inprogress_3 at position 0
2023-12-07 16:29:56,288 [s1@group-5717A5BA0616-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s1@group-5717A5BA0616-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s1/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/log_inprogress_3
2023-12-07 16:29:56,288 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-5717A5BA0616: succeeded to handle AppendEntries. Reply: s2<-s1#1:OK-t2,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2023-12-07 16:29:56,288 [s0@group-5717A5BA0616-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(634)) - s0@group-5717A5BA0616-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s0/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/log_inprogress_3
2023-12-07 16:29:56,288 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-5717A5BA0616: succeeded to handle AppendEntries. Reply: s2<-s0#1:OK-t2,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2023-12-07 16:29:56,289 [s2@group-5717A5BA0616-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s2/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@75da41ee
2023-12-07 16:29:56,289 [s2@group-5717A5BA0616-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s2/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s2/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/raft-meta.conf with options [REPLACE_EXISTING]
2023-12-07 16:29:56,289 [s2@group-5717A5BA0616-StateMachineUpdater] INFO  server.RaftServer$Division (LeaderStateImpl.java:isApplied(320)) - leader is ready since appliedIndex == 3 >= startIndex == 3
2023-12-07 16:29:56,290 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-5717A5BA0616: receive appendEntries(s2, 2, (t:2, i:3), 3, true, commits:[s2:c3, s0:c2, s1:c2], cId:2, entries: [(t:2, i:4), METADATAENTRY(c:3)]
2023-12-07 16:29:56,290 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-5717A5BA0616: receive appendEntries(s2, 2, (t:2, i:3), 3, true, commits:[s2:c3, s0:c2, s1:c2], cId:2, entries: [(t:2, i:4), METADATAENTRY(c:3)]
2023-12-07 16:29:56,290 [s0-server-thread2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s0@group-5717A5BA0616: succeeded to handle AppendEntries. Reply: s2<-s0#2:OK-t2,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2023-12-07 16:29:56,290 [s0@group-5717A5BA0616-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s0/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@51d2f2e9
2023-12-07 16:29:56,290 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1504)) - s1@group-5717A5BA0616: succeeded to handle AppendEntries. Reply: s2<-s1#2:OK-t2,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2023-12-07 16:29:56,290 [s1@group-5717A5BA0616-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:supplyAndLog(69)) - Successfully supplied FileChannel.open /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s1/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/raft-meta.conf.tmp with options [CREATE, WRITE]: sun.nio.ch.FileChannelImpl@4a757b58
2023-12-07 16:29:56,291 [s0@group-5717A5BA0616-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s0/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s0/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/raft-meta.conf with options [REPLACE_EXISTING]
2023-12-07 16:29:56,291 [s1@group-5717A5BA0616-StateMachineUpdater] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s1/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/raft-meta.conf.tmp to /home/runner/work/ratis/ratis/ratis-test/target/test/data/529b38ef/MiniRaftClusterWithGrpccebbdeac/s1/728dc0ac-a4b8-4044-a947-5717a5ba0616/current/raft-meta.conf with options [REPLACE_EXISTING]
2023-12-07 16:29:56,304 [grpc-default-executor-6] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s1@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:41005
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:56,315 [grpc-default-executor-1] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-50B4B534E5D5: Failed* RaftClientRequest:client-50B4B534E5D5->s1@group-D0CE332DC739, cid=154, seq=1*, Watch(0), null
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:40733
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:56,406 [grpc-default-executor-1] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s0@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:42899
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:56,416 [grpc-default-executor-6] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-50B4B534E5D5: Failed* RaftClientRequest:client-50B4B534E5D5->s0@group-D0CE332DC739, cid=154, seq=1*, Watch(0), null
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:39081
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:56,480 [s2-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(893)) - s2@group-5717A5BA0616: receive client request(RaftClientRequest:client-FFD0CC51915A->s2@group-5717A5BA0616, cid=161, seq=null, RO, Message:5155455259)
2023-12-07 16:29:56,480 [s2-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:getReadIndex(1118)) - readIndex=4, readAfterWriteConsistentIndex=null
2023-12-07 16:29:56,481 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-12-07 16:29:56,481 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-12-07 16:29:56,481 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2023-12-07 16:29:56,481 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-12-07 16:29:56,481 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-12-07 16:29:56,481 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-5717A5BA0616:t2, leader=s2, voted=s2, raftlog=Memoized:s0@group-5717A5BA0616-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|localhost:35275, s1|localhost:39521, s2|localhost:35813]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-5717A5BA0616:t2, leader=s2, voted=s2, raftlog=Memoized:s1@group-5717A5BA0616-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|localhost:35275, s1|localhost:39521, s2|localhost:35813]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-5717A5BA0616:t2, leader=s2, voted=s2, raftlog=Memoized:s2@group-5717A5BA0616-SegmentedRaftLog:OPENED:c4, conf=3: peers:[s0|localhost:35275, s1|localhost:39521, s2|localhost:35813]|listeners:[], old=null RUNNING
2023-12-07 16:29:56,481 [MiniRaftCluster-67] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(416)) - s0: close
2023-12-07 16:29:56,481 [MiniRaftCluster-68] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(416)) - s1: close
2023-12-07 16:29:56,482 [MiniRaftCluster-69] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$9(416)) - s2: close
2023-12-07 16:29:56,484 [MiniRaftCluster-68] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-12-07 16:29:56,484 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$3(516)) - s2@group-5717A5BA0616: shutdown
2023-12-07 16:29:56,484 [MiniRaftCluster-69] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-12-07 16:29:56,484 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-5717A5BA0616,id=s2
2023-12-07 16:29:56,484 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(94)) - s2: shutdown s2@group-5717A5BA0616-LeaderStateImpl
2023-12-07 16:29:56,484 [MiniRaftCluster-67] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-12-07 16:29:56,484 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$3(516)) - s1@group-5717A5BA0616: shutdown
2023-12-07 16:29:56,484 [s2-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(289)) - s2@group-5717A5BA0616-PendingRequests: sendNotLeaderResponses
2023-12-07 16:29:56,484 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-5717A5BA0616,id=s1
2023-12-07 16:29:56,484 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-5717A5BA0616-FollowerState
2023-12-07 16:29:56,484 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s1@group-5717A5BA0616-StateMachineUpdater: set stopIndex = 4
2023-12-07 16:29:56,484 [s1@group-5717A5BA0616-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-5717A5BA0616-FollowerState was interrupted
2023-12-07 16:29:56,484 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$3(516)) - s0@group-5717A5BA0616: shutdown
2023-12-07 16:29:56,484 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-5717A5BA0616,id=s0
2023-12-07 16:29:56,484 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(423)) - s1@group-5717A5BA0616: applyIndex: 4
2023-12-07 16:29:56,484 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-5717A5BA0616-FollowerState
2023-12-07 16:29:56,484 [s1@group-5717A5BA0616-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s1@group-5717A5BA0616-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2023-12-07 16:29:56,484 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s0@group-5717A5BA0616-StateMachineUpdater: set stopIndex = 4
2023-12-07 16:29:56,484 [s0@group-5717A5BA0616-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-5717A5BA0616-FollowerState was interrupted
2023-12-07 16:29:56,485 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(423)) - s0@group-5717A5BA0616: applyIndex: 4
2023-12-07 16:29:56,485 [s0@group-5717A5BA0616-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s0@group-5717A5BA0616-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2023-12-07 16:29:56,485 [Thread-1039] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(103)) - s0 Close channels
2023-12-07 16:29:56,485 [Thread-1041] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(103)) - s1 Close channels
2023-12-07 16:29:56,485 [MiniRaftCluster-68] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-12-07 16:29:56,485 [MiniRaftCluster-68] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server GrpcServerProtocolService now
2023-12-07 16:29:56,486 [grpc-default-executor-6] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s1: APPEND_ENTRIES onError, lastRequest: s2->s1#2-t2,previous=(t:2, i:3),leaderCommit=3,initializing? true,entries: size=1, first=(t:2, i:4), METADATAENTRY(c:3): org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2023-12-07 16:29:56,486 [grpc-default-executor-7] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(523)) - s2@group-5717A5BA0616->s1-GrpcLogAppender is already stopped
2023-12-07 16:29:56,486 [grpc-default-executor-5] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(121)) - s1: APPEND_ENTRIES onError, lastRequest: null: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2023-12-07 16:29:56,486 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(523)) - s2@group-5717A5BA0616->s1-GrpcLogAppender is already stopped
2023-12-07 16:29:56,484 [s2@group-5717A5BA0616->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(279)) - s2@group-5717A5BA0616->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2023-12-07 16:29:56,488 [s2@group-5717A5BA0616->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(279)) - s2@group-5717A5BA0616->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2023-12-07 16:29:56,488 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(157)) - s2@group-5717A5BA0616-StateMachineUpdater: set stopIndex = 4
2023-12-07 16:29:56,488 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(157)) - s0: Completed APPEND_ENTRIES, lastRequest: null
2023-12-07 16:29:56,488 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(423)) - s2@group-5717A5BA0616: applyIndex: 4
2023-12-07 16:29:56,488 [s2@group-5717A5BA0616-cacheEviction-AwaitToRun] INFO  util.AwaitToRun (AwaitToRun.java:run(49)) - s2@group-5717A5BA0616-cacheEviction-AwaitToRun-AwaitForSignal is interrupted
2023-12-07 16:29:56,489 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$5(159)) - s0: Completed APPEND_ENTRIES, lastReply: serverReply {
  requestorId: "s2"
  replyId: "s0"
  raftGroupId {
    id: "r\215\300\254\244\270@D\251GW\027\245\272\006\026"
  }
  callId: 6
  success: true
}
term: 2
nextIndex: 5
followerCommit: 4
matchIndex: 18446744073709551615
isHearbeat: true

2023-12-07 16:29:56,489 [MiniRaftCluster-67] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-12-07 16:29:56,489 [MiniRaftCluster-67] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server GrpcServerProtocolService now
2023-12-07 16:29:56,489 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(157)) - s0: Completed APPEND_ENTRIES, lastRequest: s2->s0#2-t2,previous=(t:2, i:3),leaderCommit=3,initializing? true,entries: size=1, first=(t:2, i:4), METADATAENTRY(c:3)
2023-12-07 16:29:56,489 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:lambda$onCompleted$5(159)) - s0: Completed APPEND_ENTRIES, lastReply: null
2023-12-07 16:29:56,489 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(534)) - s2@group-5717A5BA0616->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-12-07 16:29:56,489 [grpc-default-executor-0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(216)) - s2@group-5717A5BA0616->s0-GrpcLogAppender: Failed to getClient for s0
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s2 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:65)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:114)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:188)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:193)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$700(GrpcLogAppender.java:61)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:535)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:56,490 [MiniRaftCluster-69] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-12-07 16:29:56,490 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(534)) - s2@group-5717A5BA0616->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-12-07 16:29:56,490 [MiniRaftCluster-69] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server GrpcServerProtocolService now
2023-12-07 16:29:56,490 [grpc-default-executor-1] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(216)) - s2@group-5717A5BA0616->s0-GrpcLogAppender: Failed to getClient for s0
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s2 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:65)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:114)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:188)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:193)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$700(GrpcLogAppender.java:61)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:535)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:479)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:56,490 [MiniRaftCluster-68] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server GrpcServerProtocolService successfully
2023-12-07 16:29:56,490 [MiniRaftCluster-67] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server GrpcServerProtocolService successfully
2023-12-07 16:29:56,490 [MiniRaftCluster-67] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-12-07 16:29:56,490 [MiniRaftCluster-68] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-12-07 16:29:56,491 [MiniRaftCluster-69] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server GrpcServerProtocolService successfully
2023-12-07 16:29:56,491 [MiniRaftCluster-69] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-12-07 16:29:56,491 [MiniRaftCluster-68] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-12-07 16:29:56,491 [MiniRaftCluster-69] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-12-07 16:29:56,492 [MiniRaftCluster-67] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-12-07 16:29:56,507 [grpc-default-executor-0] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s2@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:35469
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:56,518 [grpc-default-executor-5] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-50B4B534E5D5: Failed* RaftClientRequest:client-50B4B534E5D5->s2@group-D0CE332DC739, cid=154, seq=1*, Watch(0), null
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:45607
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:56,610 [grpc-default-executor-1] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s0@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:42899
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:56,620 [grpc-default-executor-0] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-50B4B534E5D5: Failed* RaftClientRequest:client-50B4B534E5D5->s1@group-D0CE332DC739, cid=154, seq=1*, Watch(0), null
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:40733
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:56,712 [grpc-default-executor-5] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s2@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:35469
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:56,721 [grpc-default-executor-0] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-50B4B534E5D5: Failed* RaftClientRequest:client-50B4B534E5D5->s0@group-D0CE332DC739, cid=154, seq=1*, Watch(0), null
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:39081
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:56,815 [grpc-default-executor-1] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s1@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:41005
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:56,823 [grpc-default-executor-5] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-50B4B534E5D5: Failed* RaftClientRequest:client-50B4B534E5D5->s2@group-D0CE332DC739, cid=154, seq=1*, Watch(0), null
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:45607
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:56,917 [grpc-default-executor-0] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s2@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:35469
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:56,925 [grpc-default-executor-1] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-50B4B534E5D5: Failed* RaftClientRequest:client-50B4B534E5D5->s0@group-D0CE332DC739, cid=154, seq=1*, Watch(0), null
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:39081
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:57,019 [grpc-default-executor-5] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s1@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:41005
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:57,027 [grpc-default-executor-0] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-50B4B534E5D5: Failed* RaftClientRequest:client-50B4B534E5D5->s1@group-D0CE332DC739, cid=154, seq=1*, Watch(0), null
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:40733
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:57,121 [grpc-default-executor-1] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s2@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:35469
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:57,129 [grpc-default-executor-5] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-50B4B534E5D5: Failed* RaftClientRequest:client-50B4B534E5D5->s0@group-D0CE332DC739, cid=154, seq=1*, Watch(0), null
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:39081
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:57,223 [grpc-default-executor-0] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-47B5F62936C2: Failed* RaftClientRequest:client-47B5F62936C2->s1@group-A0FBED472E75, cid=92, seq=2*, RW, INCREMENT
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:41005
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:57,230 [grpc-default-executor-1] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$sendRequest$9(247)) - client-50B4B534E5D5: Failed* RaftClientRequest:client-50B4B534E5D5->s1@group-D0CE332DC739, cid=154, seq=1*, Watch(0), null
java.util.concurrent.CompletionException: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2094)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:481)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:489)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:453)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:486)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:567)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:71)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:735)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:716)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.grpc.GrpcUtil.unwrapException(GrpcUtil.java:99)
	at org.apache.ratis.grpc.GrpcUtil.unwrapIOException(GrpcUtil.java:159)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:330)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: UNAVAILABLE: io exception
	at org.apache.ratis.thirdparty.io.grpc.Status.asRuntimeException(Status.java:537)
	... 16 more
Caused by: org.apache.ratis.thirdparty.io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:40733
Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.newConnectException0(Errors.java:166)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Errors.handleConnectErrno(Errors.java:131)
	at org.apache.ratis.thirdparty.io.netty.channel.unix.Socket.finishConnect(Socket.java:359)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.doFinishConnect(AbstractEpollChannel.java:710)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.finishConnect(AbstractEpollChannel.java:687)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe.epollOutReady(AbstractEpollChannel.java:567)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)
	at org.apache.ratis.thirdparty.io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:407)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)
	at org.apache.ratis.thirdparty.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at org.apache.ratis.thirdparty.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-12-07 16:29:57,289 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s2@group-5717A5BA0616-SegmentedRaftLogWorker close()
2023-12-07 16:29:57,290 [JvmPauseMonitor38] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s2: Stopped
2023-12-07 16:29:57,291 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s1@group-5717A5BA0616-SegmentedRaftLogWorker close()
2023-12-07 16:29:57,291 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(245)) - s0@group-5717A5BA0616-SegmentedRaftLogWorker close()
2023-12-07 16:29:57,291 [JvmPauseMonitor37] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s1: Stopped
2023-12-07 16:29:57,292 [JvmPauseMonitor36] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(152)) - JvmPauseMonitor-s0: Stopped
2023-12-07 16:29:57,292 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
