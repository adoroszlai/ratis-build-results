2023-01-19 14:38:38,363 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-01-19 14:38:38,376 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-01-19 14:38:38,381 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2023-01-19 14:38:38,419 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2023-01-19 14:38:38,482 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-768B129E9DAC:[s0|rpc:localhost:37101|admin:localhost:34901|client:localhost:41987|dataStream:localhost:35177|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37711|admin:localhost:38053|client:localhost:44313|dataStream:localhost:39539|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38829|admin:localhost:34203|client:localhost:44949|dataStream:localhost:38579|priority:0|startupRole:FOLLOWER]
2023-01-19 14:38:38,482 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-01-19 14:38:38,483 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-01-19 14:38:38,484 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2023-01-19 14:38:38,485 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-01-19 14:38:38,485 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-01-19 14:38:38,486 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-01-19 14:38:38,491 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-768B129E9DAC:[s0|rpc:localhost:37101|admin:localhost:34901|client:localhost:41987|dataStream:localhost:35177|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37711|admin:localhost:38053|client:localhost:44313|dataStream:localhost:39539|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38829|admin:localhost:34203|client:localhost:44949|dataStream:localhost:38579|priority:0|startupRole:FOLLOWER], format? true
2023-01-19 14:38:38,494 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/f0947725/MiniRaftClusterWithGrpc4d613736/s0
2023-01-19 14:38:38,494 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/f0947725/MiniRaftClusterWithGrpc4d613736/s0 does not exist.
2023-01-19 14:38:38,495 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/f0947725/MiniRaftClusterWithGrpc4d613736/s0
2023-01-19 14:38:38,528 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-01-19 14:38:38,603 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:38:38,605 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 34901 (custom)
2023-01-19 14:38:38,606 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:38:38,606 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 41987 (custom)
2023-01-19 14:38:38,607 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-01-19 14:38:38,607 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 37101 (custom)
2023-01-19 14:38:38,608 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:38:38,611 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:38:38,612 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:38:38,613 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-01-19 14:38:38,630 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-01-19 14:38:38,634 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-01-19 14:38:38,634 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-01-19 14:38:38,835 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-01-19 14:38:38,839 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-01-19 14:38:38,839 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-01-19 14:38:38,840 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-01-19 14:38:38,841 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-01-19 14:38:38,843 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc4d613736/s0] (custom)
2023-01-19 14:38:38,854 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-768B129E9DAC:[s0|rpc:localhost:37101|admin:localhost:34901|client:localhost:41987|dataStream:localhost:35177|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37711|admin:localhost:38053|client:localhost:44313|dataStream:localhost:39539|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38829|admin:localhost:34203|client:localhost:44949|dataStream:localhost:38579|priority:0|startupRole:FOLLOWER] returns group-768B129E9DAC:java.util.concurrent.CompletableFuture@108c8b97[Not completed]
2023-01-19 14:38:38,854 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-768B129E9DAC:[s0|rpc:localhost:37101|admin:localhost:34901|client:localhost:41987|dataStream:localhost:35177|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37711|admin:localhost:38053|client:localhost:44313|dataStream:localhost:39539|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38829|admin:localhost:34203|client:localhost:44949|dataStream:localhost:38579|priority:0|startupRole:FOLLOWER], format? true
2023-01-19 14:38:38,854 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/f0947725/MiniRaftClusterWithGrpc4d613736/s1
2023-01-19 14:38:38,855 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/f0947725/MiniRaftClusterWithGrpc4d613736/s1 does not exist.
2023-01-19 14:38:38,855 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/f0947725/MiniRaftClusterWithGrpc4d613736/s1
2023-01-19 14:38:38,855 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-01-19 14:38:38,856 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:38:38,856 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 38053 (custom)
2023-01-19 14:38:38,856 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:38:38,856 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 44313 (custom)
2023-01-19 14:38:38,857 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-01-19 14:38:38,857 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 37711 (custom)
2023-01-19 14:38:38,857 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:38:38,857 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:38:38,858 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:38:38,858 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-01-19 14:38:38,863 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-01-19 14:38:38,864 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-01-19 14:38:38,864 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-01-19 14:38:38,866 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-01-19 14:38:38,867 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-01-19 14:38:38,867 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-01-19 14:38:38,868 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-01-19 14:38:38,868 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-01-19 14:38:38,868 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc4d613736/s1] (custom)
2023-01-19 14:38:38,880 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-768B129E9DAC:[s0|rpc:localhost:37101|admin:localhost:34901|client:localhost:41987|dataStream:localhost:35177|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37711|admin:localhost:38053|client:localhost:44313|dataStream:localhost:39539|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38829|admin:localhost:34203|client:localhost:44949|dataStream:localhost:38579|priority:0|startupRole:FOLLOWER] returns group-768B129E9DAC:java.util.concurrent.CompletableFuture@7192a2dc[Not completed]
2023-01-19 14:38:38,880 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-768B129E9DAC:[s0|rpc:localhost:37101|admin:localhost:34901|client:localhost:41987|dataStream:localhost:35177|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37711|admin:localhost:38053|client:localhost:44313|dataStream:localhost:39539|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38829|admin:localhost:34203|client:localhost:44949|dataStream:localhost:38579|priority:0|startupRole:FOLLOWER], format? true
2023-01-19 14:38:38,880 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/f0947725/MiniRaftClusterWithGrpc4d613736/s2
2023-01-19 14:38:38,881 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/f0947725/MiniRaftClusterWithGrpc4d613736/s2 does not exist.
2023-01-19 14:38:38,881 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/f0947725/MiniRaftClusterWithGrpc4d613736/s2
2023-01-19 14:38:38,884 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-01-19 14:38:38,885 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:38:38,885 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 34203 (custom)
2023-01-19 14:38:38,885 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:38:38,885 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 44949 (custom)
2023-01-19 14:38:38,886 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-01-19 14:38:38,886 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 38829 (custom)
2023-01-19 14:38:38,886 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:38:38,886 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:38:38,886 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:38:38,887 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-01-19 14:38:38,887 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-01-19 14:38:38,887 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-01-19 14:38:38,887 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-01-19 14:38:38,889 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-01-19 14:38:38,889 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-01-19 14:38:38,895 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-01-19 14:38:38,896 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-01-19 14:38:38,896 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-01-19 14:38:38,896 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc4d613736/s2] (custom)
2023-01-19 14:38:38,895 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:38:38,900 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-01-19 14:38:38,900 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-01-19 14:38:38,895 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:38:38,901 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-01-19 14:38:38,902 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-01-19 14:38:38,908 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-768B129E9DAC:[s0|rpc:localhost:37101|admin:localhost:34901|client:localhost:41987|dataStream:localhost:35177|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37711|admin:localhost:38053|client:localhost:44313|dataStream:localhost:39539|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38829|admin:localhost:34203|client:localhost:44949|dataStream:localhost:38579|priority:0|startupRole:FOLLOWER] returns group-768B129E9DAC:java.util.concurrent.CompletableFuture@70e57f5a[Not completed]
2023-01-19 14:38:38,911 [pool-1-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-768B129E9DAC:[s0|rpc:localhost:37101|admin:localhost:34901|client:localhost:41987|dataStream:localhost:35177|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37711|admin:localhost:38053|client:localhost:44313|dataStream:localhost:39539|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38829|admin:localhost:34203|client:localhost:44949|dataStream:localhost:38579|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-01-19 14:38:38,912 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:38:38,914 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-01-19 14:38:38,914 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-01-19 14:38:38,915 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-01-19 14:38:38,914 [pool-3-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-768B129E9DAC:[s0|rpc:localhost:37101|admin:localhost:34901|client:localhost:41987|dataStream:localhost:35177|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37711|admin:localhost:38053|client:localhost:44313|dataStream:localhost:39539|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38829|admin:localhost:34203|client:localhost:44949|dataStream:localhost:38579|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-01-19 14:38:38,915 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-01-19 14:38:38,915 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-01-19 14:38:38,916 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-01-19 14:38:38,916 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-01-19 14:38:38,916 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-01-19 14:38:38,917 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-01-19 14:38:38,916 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-01-19 14:38:38,925 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-01-19 14:38:38,926 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-01-19 14:38:38,926 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-01-19 14:38:38,926 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-01-19 14:38:38,927 [pool-2-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-768B129E9DAC:[s0|rpc:localhost:37101|admin:localhost:34901|client:localhost:41987|dataStream:localhost:35177|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37711|admin:localhost:38053|client:localhost:44313|dataStream:localhost:39539|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38829|admin:localhost:34203|client:localhost:44949|dataStream:localhost:38579|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-01-19 14:38:38,927 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-01-19 14:38:38,937 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-01-19 14:38:38,945 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-01-19 14:38:38,946 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-01-19 14:38:38,946 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-01-19 14:38:38,946 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-01-19 14:38:38,946 [pool-2-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-768B129E9DAC: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:37101|admin:localhost:34901|client:localhost:41987|dataStream:localhost:35177|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37711|admin:localhost:38053|client:localhost:44313|dataStream:localhost:39539|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38829|admin:localhost:34203|client:localhost:44949|dataStream:localhost:38579|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-01-19 14:38:38,942 [pool-1-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-768B129E9DAC: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:37101|admin:localhost:34901|client:localhost:41987|dataStream:localhost:35177|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37711|admin:localhost:38053|client:localhost:44313|dataStream:localhost:39539|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38829|admin:localhost:34203|client:localhost:44949|dataStream:localhost:38579|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-01-19 14:38:38,942 [pool-3-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-768B129E9DAC: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:37101|admin:localhost:34901|client:localhost:41987|dataStream:localhost:35177|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37711|admin:localhost:38053|client:localhost:44313|dataStream:localhost:39539|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38829|admin:localhost:34203|client:localhost:44949|dataStream:localhost:38579|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-01-19 14:38:38,956 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-01-19 14:38:38,957 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-01-19 14:38:38,963 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-01-19 14:38:38,968 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-01-19 14:38:38,968 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-01-19 14:38:38,969 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-01-19 14:38:38,970 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-01-19 14:38:38,970 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-01-19 14:38:38,977 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-01-19 14:38:38,978 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-01-19 14:38:38,978 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-01-19 14:38:38,978 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-01-19 14:38:38,993 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-01-19 14:38:38,994 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-01-19 14:38:38,998 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-01-19 14:38:39,001 [pool-1-thread-1] INFO  metrics.MetricRegistries (MetricRegistriesLoader.java:load(64)) - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2023-01-19 14:38:39,140 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-01-19 14:38:39,140 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-01-19 14:38:39,140 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-01-19 14:38:39,141 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-01-19 14:38:39,141 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-01-19 14:38:39,141 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-01-19 14:38:39,142 [pool-1-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-01-19 14:38:39,142 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-01-19 14:38:39,142 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-01-19 14:38:39,142 [pool-3-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-01-19 14:38:39,143 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-01-19 14:38:39,143 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-01-19 14:38:39,143 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-01-19 14:38:39,143 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-01-19 14:38:39,143 [pool-2-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-01-19 14:38:39,143 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-01-19 14:38:39,144 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-01-19 14:38:39,144 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc4d613736/s0] (custom)
2023-01-19 14:38:39,155 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc4d613736/s0/9061accc-2e4d-4991-a9f3-768b129e9dac does not exist. Creating ...
2023-01-19 14:38:39,157 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc4d613736/s0/9061accc-2e4d-4991-a9f3-768b129e9dac
2023-01-19 14:38:39,162 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc4d613736/s0/9061accc-2e4d-4991-a9f3-768b129e9dac/in_use.lock acquired by nodename 4721@fv-az82-597
2023-01-19 14:38:39,162 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc4d613736/s0/9061accc-2e4d-4991-a9f3-768b129e9dac/current
2023-01-19 14:38:39,163 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc4d613736/s0/9061accc-2e4d-4991-a9f3-768b129e9dac/sm
2023-01-19 14:38:39,177 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc4d613736/s0/9061accc-2e4d-4991-a9f3-768b129e9dac has been successfully formatted.
2023-01-19 14:38:39,178 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-01-19 14:38:39,180 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-01-19 14:38:39,182 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-01-19 14:38:39,188 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-01-19 14:38:39,188 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:38:39,190 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-01-19 14:38:39,191 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-01-19 14:38:39,194 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:38:39,200 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-01-19 14:38:39,200 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-01-19 14:38:39,204 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s0@group-768B129E9DAC-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc4d613736/s0/9061accc-2e4d-4991-a9f3-768b129e9dac
2023-01-19 14:38:39,204 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-01-19 14:38:39,205 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-01-19 14:38:39,206 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:38:39,206 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-01-19 14:38:39,207 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-01-19 14:38:39,207 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-01-19 14:38:39,208 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-01-19 14:38:39,208 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-01-19 14:38:39,210 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-01-19 14:38:39,211 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:38:39,213 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-01-19 14:38:39,213 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-01-19 14:38:39,214 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-01-19 14:38:39,221 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-768B129E9DAC-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-01-19 14:38:39,221 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-768B129E9DAC-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-01-19 14:38:39,223 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-768B129E9DAC: start as a follower, conf=-1: peers:[s0|rpc:localhost:37101|admin:localhost:34901|client:localhost:41987|dataStream:localhost:35177|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37711|admin:localhost:38053|client:localhost:44313|dataStream:localhost:39539|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38829|admin:localhost:34203|client:localhost:44949|dataStream:localhost:38579|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:39,223 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-768B129E9DAC: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-01-19 14:38:39,224 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-768B129E9DAC-FollowerState
2023-01-19 14:38:39,234 [s0@group-768B129E9DAC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:38:39,237 [s0@group-768B129E9DAC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:38:39,237 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-768B129E9DAC,id=s0
2023-01-19 14:38:39,239 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-01-19 14:38:39,240 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-01-19 14:38:39,240 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-01-19 14:38:39,245 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2023-01-19 14:38:39,295 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 41987
2023-01-19 14:38:39,297 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 37101
2023-01-19 14:38:39,299 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 34901
2023-01-19 14:38:39,302 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-01-19 14:38:39,302 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-01-19 14:38:39,303 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc4d613736/s1] (custom)
2023-01-19 14:38:39,303 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc4d613736/s1/9061accc-2e4d-4991-a9f3-768b129e9dac does not exist. Creating ...
2023-01-19 14:38:39,306 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc4d613736/s1/9061accc-2e4d-4991-a9f3-768b129e9dac
2023-01-19 14:38:39,308 [JvmPauseMonitor0] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2023-01-19 14:38:39,309 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc4d613736/s1/9061accc-2e4d-4991-a9f3-768b129e9dac/in_use.lock acquired by nodename 4721@fv-az82-597
2023-01-19 14:38:39,309 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc4d613736/s1/9061accc-2e4d-4991-a9f3-768b129e9dac/current
2023-01-19 14:38:39,309 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc4d613736/s1/9061accc-2e4d-4991-a9f3-768b129e9dac/sm
2023-01-19 14:38:39,311 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc4d613736/s1/9061accc-2e4d-4991-a9f3-768b129e9dac has been successfully formatted.
2023-01-19 14:38:39,313 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-01-19 14:38:39,314 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-01-19 14:38:39,314 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-01-19 14:38:39,316 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-01-19 14:38:39,317 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:38:39,317 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-01-19 14:38:39,317 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-01-19 14:38:39,319 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:38:39,320 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-01-19 14:38:39,320 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-01-19 14:38:39,320 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s1@group-768B129E9DAC-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc4d613736/s1/9061accc-2e4d-4991-a9f3-768b129e9dac
2023-01-19 14:38:39,324 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-01-19 14:38:39,324 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-01-19 14:38:39,324 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:38:39,324 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-01-19 14:38:39,324 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-01-19 14:38:39,325 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-01-19 14:38:39,325 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-01-19 14:38:39,325 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-01-19 14:38:39,325 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-01-19 14:38:39,326 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:38:39,327 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-01-19 14:38:39,327 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-01-19 14:38:39,327 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-01-19 14:38:39,328 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-768B129E9DAC-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-01-19 14:38:39,328 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-768B129E9DAC-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-01-19 14:38:39,329 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s1@group-768B129E9DAC: start as a follower, conf=-1: peers:[s0|rpc:localhost:37101|admin:localhost:34901|client:localhost:41987|dataStream:localhost:35177|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37711|admin:localhost:38053|client:localhost:44313|dataStream:localhost:39539|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38829|admin:localhost:34203|client:localhost:44949|dataStream:localhost:38579|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:39,335 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-768B129E9DAC: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-01-19 14:38:39,335 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-768B129E9DAC-FollowerState
2023-01-19 14:38:39,337 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-768B129E9DAC,id=s1
2023-01-19 14:38:39,340 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-01-19 14:38:39,340 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-01-19 14:38:39,340 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-01-19 14:38:39,341 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s1: start RPC server
2023-01-19 14:38:39,345 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 44313
2023-01-19 14:38:39,345 [s1@group-768B129E9DAC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:38:39,346 [s1@group-768B129E9DAC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:38:39,346 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 37711
2023-01-19 14:38:39,347 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 38053
2023-01-19 14:38:39,348 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-01-19 14:38:39,348 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-01-19 14:38:39,348 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc4d613736/s2] (custom)
2023-01-19 14:38:39,349 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc4d613736/s2/9061accc-2e4d-4991-a9f3-768b129e9dac does not exist. Creating ...
2023-01-19 14:38:39,350 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc4d613736/s2/9061accc-2e4d-4991-a9f3-768b129e9dac
2023-01-19 14:38:39,351 [JvmPauseMonitor1] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2023-01-19 14:38:39,354 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc4d613736/s2/9061accc-2e4d-4991-a9f3-768b129e9dac/in_use.lock acquired by nodename 4721@fv-az82-597
2023-01-19 14:38:39,354 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc4d613736/s2/9061accc-2e4d-4991-a9f3-768b129e9dac/current
2023-01-19 14:38:39,354 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc4d613736/s2/9061accc-2e4d-4991-a9f3-768b129e9dac/sm
2023-01-19 14:38:39,356 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc4d613736/s2/9061accc-2e4d-4991-a9f3-768b129e9dac has been successfully formatted.
2023-01-19 14:38:39,356 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-01-19 14:38:39,356 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-01-19 14:38:39,357 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-01-19 14:38:39,357 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-01-19 14:38:39,357 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:38:39,357 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-01-19 14:38:39,358 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-01-19 14:38:39,360 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:38:39,360 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-01-19 14:38:39,361 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-01-19 14:38:39,361 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s2@group-768B129E9DAC-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc4d613736/s2/9061accc-2e4d-4991-a9f3-768b129e9dac
2023-01-19 14:38:39,361 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-01-19 14:38:39,361 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-01-19 14:38:39,362 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:38:39,362 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-01-19 14:38:39,366 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-01-19 14:38:39,367 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-01-19 14:38:39,367 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-01-19 14:38:39,367 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-01-19 14:38:39,369 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-01-19 14:38:39,369 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:38:39,371 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-01-19 14:38:39,371 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-01-19 14:38:39,372 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-01-19 14:38:39,372 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-768B129E9DAC-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-01-19 14:38:39,372 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-768B129E9DAC-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-01-19 14:38:39,372 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s2@group-768B129E9DAC: start as a follower, conf=-1: peers:[s0|rpc:localhost:37101|admin:localhost:34901|client:localhost:41987|dataStream:localhost:35177|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37711|admin:localhost:38053|client:localhost:44313|dataStream:localhost:39539|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38829|admin:localhost:34203|client:localhost:44949|dataStream:localhost:38579|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:39,373 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-768B129E9DAC: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-01-19 14:38:39,373 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-768B129E9DAC-FollowerState
2023-01-19 14:38:39,373 [s2@group-768B129E9DAC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:38:39,373 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-768B129E9DAC,id=s2
2023-01-19 14:38:39,374 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-01-19 14:38:39,374 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-01-19 14:38:39,374 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-01-19 14:38:39,375 [s2@group-768B129E9DAC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:38:39,377 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s2: start RPC server
2023-01-19 14:38:39,378 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 44949
2023-01-19 14:38:39,379 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 38829
2023-01-19 14:38:39,380 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 34203
2023-01-19 14:38:39,382 [JvmPauseMonitor2] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2023-01-19 14:38:39,386 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-01-19 14:38:39,388 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-768B129E9DAC:t0, leader=null, voted=, raftlog=Memoized:s0@group-768B129E9DAC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37101|admin:localhost:34901|client:localhost:41987|dataStream:localhost:35177|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37711|admin:localhost:38053|client:localhost:44313|dataStream:localhost:39539|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38829|admin:localhost:34203|client:localhost:44949|dataStream:localhost:38579|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-768B129E9DAC:t0, leader=null, voted=, raftlog=Memoized:s1@group-768B129E9DAC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37101|admin:localhost:34901|client:localhost:41987|dataStream:localhost:35177|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37711|admin:localhost:38053|client:localhost:44313|dataStream:localhost:39539|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38829|admin:localhost:34203|client:localhost:44949|dataStream:localhost:38579|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-768B129E9DAC:t0, leader=null, voted=, raftlog=Memoized:s2@group-768B129E9DAC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37101|admin:localhost:34901|client:localhost:41987|dataStream:localhost:35177|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37711|admin:localhost:38053|client:localhost:44313|dataStream:localhost:39539|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38829|admin:localhost:34203|client:localhost:44949|dataStream:localhost:38579|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-01-19 14:38:39,392 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-768B129E9DAC:t0, leader=null, voted=, raftlog=Memoized:s0@group-768B129E9DAC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37101|admin:localhost:34901|client:localhost:41987|dataStream:localhost:35177|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37711|admin:localhost:38053|client:localhost:44313|dataStream:localhost:39539|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38829|admin:localhost:34203|client:localhost:44949|dataStream:localhost:38579|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-768B129E9DAC:t0, leader=null, voted=, raftlog=Memoized:s1@group-768B129E9DAC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37101|admin:localhost:34901|client:localhost:41987|dataStream:localhost:35177|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37711|admin:localhost:38053|client:localhost:44313|dataStream:localhost:39539|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38829|admin:localhost:34203|client:localhost:44949|dataStream:localhost:38579|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-768B129E9DAC:t0, leader=null, voted=, raftlog=Memoized:s2@group-768B129E9DAC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37101|admin:localhost:34901|client:localhost:41987|dataStream:localhost:35177|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37711|admin:localhost:38053|client:localhost:44313|dataStream:localhost:39539|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38829|admin:localhost:34203|client:localhost:44949|dataStream:localhost:38579|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-768B129E9DAC:t0, leader=null, voted=, raftlog=Memoized:s0@group-768B129E9DAC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37101|admin:localhost:34901|client:localhost:41987|dataStream:localhost:35177|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37711|admin:localhost:38053|client:localhost:44313|dataStream:localhost:39539|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38829|admin:localhost:34203|client:localhost:44949|dataStream:localhost:38579|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-768B129E9DAC:t0, leader=null, voted=, raftlog=Memoized:s1@group-768B129E9DAC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37101|admin:localhost:34901|client:localhost:41987|dataStream:localhost:35177|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37711|admin:localhost:38053|client:localhost:44313|dataStream:localhost:39539|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38829|admin:localhost:34203|client:localhost:44949|dataStream:localhost:38579|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-768B129E9DAC:t0, leader=null, voted=, raftlog=Memoized:s2@group-768B129E9DAC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37101|admin:localhost:34901|client:localhost:41987|dataStream:localhost:35177|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37711|admin:localhost:38053|client:localhost:44313|dataStream:localhost:39539|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38829|admin:localhost:34203|client:localhost:44949|dataStream:localhost:38579|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientRequestMetrics(TestRaftServerWithGrpc.java:308)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientMetrics(TestRaftServerWithGrpc.java:219)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-01-19 14:38:39,429 [s0@group-768B129E9DAC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-768B129E9DAC-FollowerState: change to CANDIDATE, lastRpcElapsedTime:205162183ns, electionTimeout:191ms
2023-01-19 14:38:39,429 [s0@group-768B129E9DAC-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-768B129E9DAC-FollowerState
2023-01-19 14:38:39,429 [s0@group-768B129E9DAC-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-768B129E9DAC: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-01-19 14:38:39,432 [s0@group-768B129E9DAC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-01-19 14:38:39,432 [s0@group-768B129E9DAC-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-768B129E9DAC-LeaderElection1
2023-01-19 14:38:39,437 [s0@group-768B129E9DAC-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-768B129E9DAC-LeaderElection1 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:37101|admin:localhost:34901|client:localhost:41987|dataStream:localhost:35177|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37711|admin:localhost:38053|client:localhost:44313|dataStream:localhost:39539|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38829|admin:localhost:34203|client:localhost:44949|dataStream:localhost:38579|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:39,454 [s0@group-768B129E9DAC-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:38:39,455 [s0@group-768B129E9DAC-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:38:39,456 [s0@group-768B129E9DAC-LeaderElection1-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2023-01-19 14:38:39,457 [s0@group-768B129E9DAC-LeaderElection1-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2023-01-19 14:38:39,581 [s1@group-768B129E9DAC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-768B129E9DAC-FollowerState: change to CANDIDATE, lastRpcElapsedTime:245990871ns, electionTimeout:234ms
2023-01-19 14:38:39,582 [s1@group-768B129E9DAC-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-768B129E9DAC-FollowerState
2023-01-19 14:38:39,582 [s1@group-768B129E9DAC-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-768B129E9DAC: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-01-19 14:38:39,582 [s1@group-768B129E9DAC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-01-19 14:38:39,582 [s1@group-768B129E9DAC-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-768B129E9DAC-LeaderElection2
2023-01-19 14:38:39,590 [s2@group-768B129E9DAC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-768B129E9DAC-FollowerState: change to CANDIDATE, lastRpcElapsedTime:217459792ns, electionTimeout:215ms
2023-01-19 14:38:39,590 [s2@group-768B129E9DAC-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-768B129E9DAC-FollowerState
2023-01-19 14:38:39,590 [s2@group-768B129E9DAC-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-768B129E9DAC: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-01-19 14:38:39,593 [s2@group-768B129E9DAC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-01-19 14:38:39,593 [s2@group-768B129E9DAC-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-768B129E9DAC-LeaderElection3
2023-01-19 14:38:39,594 [s1@group-768B129E9DAC-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-768B129E9DAC-LeaderElection2 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:37101|admin:localhost:34901|client:localhost:41987|dataStream:localhost:35177|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37711|admin:localhost:38053|client:localhost:44313|dataStream:localhost:39539|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38829|admin:localhost:34203|client:localhost:44949|dataStream:localhost:38579|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:39,602 [s2@group-768B129E9DAC-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-768B129E9DAC-LeaderElection3 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:37101|admin:localhost:34901|client:localhost:41987|dataStream:localhost:35177|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37711|admin:localhost:38053|client:localhost:44313|dataStream:localhost:39539|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38829|admin:localhost:34203|client:localhost:44949|dataStream:localhost:38579|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:39,605 [s1@group-768B129E9DAC-LeaderElection2-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2023-01-19 14:38:39,607 [s1@group-768B129E9DAC-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:38:39,609 [s1@group-768B129E9DAC-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:38:39,610 [s2@group-768B129E9DAC-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:38:39,611 [s2@group-768B129E9DAC-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:38:39,611 [s2@group-768B129E9DAC-LeaderElection3-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2023-01-19 14:38:39,612 [s0@group-768B129E9DAC-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-768B129E9DAC-LeaderElection1: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2023-01-19 14:38:39,613 [s0@group-768B129E9DAC-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-768B129E9DAC-LeaderElection1 PRE_VOTE round 0: result TIMEOUT
2023-01-19 14:38:39,613 [s0@group-768B129E9DAC-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-768B129E9DAC-LeaderElection1 PRE_VOTE round 1: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:37101|admin:localhost:34901|client:localhost:41987|dataStream:localhost:35177|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37711|admin:localhost:38053|client:localhost:44313|dataStream:localhost:39539|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38829|admin:localhost:34203|client:localhost:44949|dataStream:localhost:38579|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:39,614 [s2@group-768B129E9DAC-LeaderElection3-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2023-01-19 14:38:39,615 [s1@group-768B129E9DAC-LeaderElection2-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2023-01-19 14:38:39,618 [s0@group-768B129E9DAC-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:38:39,624 [s0@group-768B129E9DAC-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:38:39,785 [s2@group-768B129E9DAC-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-768B129E9DAC-LeaderElection3: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2023-01-19 14:38:39,785 [s2@group-768B129E9DAC-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-768B129E9DAC-LeaderElection3 PRE_VOTE round 0: result TIMEOUT
2023-01-19 14:38:39,785 [s2@group-768B129E9DAC-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-768B129E9DAC-LeaderElection3 PRE_VOTE round 1: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:37101|admin:localhost:34901|client:localhost:41987|dataStream:localhost:35177|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37711|admin:localhost:38053|client:localhost:44313|dataStream:localhost:39539|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38829|admin:localhost:34203|client:localhost:44949|dataStream:localhost:38579|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:39,799 [s2@group-768B129E9DAC-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:38:39,800 [s2@group-768B129E9DAC-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:38:39,801 [s1@group-768B129E9DAC-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-768B129E9DAC-LeaderElection2: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2023-01-19 14:38:39,802 [s1@group-768B129E9DAC-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-768B129E9DAC-LeaderElection2 PRE_VOTE round 0: result TIMEOUT
2023-01-19 14:38:39,802 [s1@group-768B129E9DAC-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-768B129E9DAC-LeaderElection2 PRE_VOTE round 1: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:37101|admin:localhost:34901|client:localhost:41987|dataStream:localhost:35177|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37711|admin:localhost:38053|client:localhost:44313|dataStream:localhost:39539|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38829|admin:localhost:34203|client:localhost:44949|dataStream:localhost:38579|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:39,807 [s1@group-768B129E9DAC-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:38:39,807 [s1@group-768B129E9DAC-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:38:39,827 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s1@group-768B129E9DAC: receive requestVote(PRE_VOTE, s0, group-768B129E9DAC, 0, (t:0, i:0))
2023-01-19 14:38:39,836 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-768B129E9DAC-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-01-19 14:38:39,841 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s2@group-768B129E9DAC: receive requestVote(PRE_VOTE, s1, group-768B129E9DAC, 0, (t:0, i:0))
2023-01-19 14:38:39,844 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #2/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-768B129E9DAC:t0, leader=null, voted=, raftlog=Memoized:s0@group-768B129E9DAC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37101|admin:localhost:34901|client:localhost:41987|dataStream:localhost:35177|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37711|admin:localhost:38053|client:localhost:44313|dataStream:localhost:39539|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38829|admin:localhost:34203|client:localhost:44949|dataStream:localhost:38579|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-768B129E9DAC:t0, leader=null, voted=, raftlog=Memoized:s1@group-768B129E9DAC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37101|admin:localhost:34901|client:localhost:41987|dataStream:localhost:35177|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37711|admin:localhost:38053|client:localhost:44313|dataStream:localhost:39539|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38829|admin:localhost:34203|client:localhost:44949|dataStream:localhost:38579|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-768B129E9DAC:t0, leader=null, voted=, raftlog=Memoized:s2@group-768B129E9DAC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37101|admin:localhost:34901|client:localhost:41987|dataStream:localhost:35177|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37711|admin:localhost:38053|client:localhost:44313|dataStream:localhost:39539|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38829|admin:localhost:34203|client:localhost:44949|dataStream:localhost:38579|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-768B129E9DAC:t0, leader=null, voted=, raftlog=Memoized:s0@group-768B129E9DAC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37101|admin:localhost:34901|client:localhost:41987|dataStream:localhost:35177|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37711|admin:localhost:38053|client:localhost:44313|dataStream:localhost:39539|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38829|admin:localhost:34203|client:localhost:44949|dataStream:localhost:38579|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-768B129E9DAC:t0, leader=null, voted=, raftlog=Memoized:s1@group-768B129E9DAC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37101|admin:localhost:34901|client:localhost:41987|dataStream:localhost:35177|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37711|admin:localhost:38053|client:localhost:44313|dataStream:localhost:39539|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38829|admin:localhost:34203|client:localhost:44949|dataStream:localhost:38579|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-768B129E9DAC:t0, leader=null, voted=, raftlog=Memoized:s2@group-768B129E9DAC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37101|admin:localhost:34901|client:localhost:41987|dataStream:localhost:35177|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37711|admin:localhost:38053|client:localhost:44313|dataStream:localhost:39539|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38829|admin:localhost:34203|client:localhost:44949|dataStream:localhost:38579|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientRequestMetrics(TestRaftServerWithGrpc.java:308)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientMetrics(TestRaftServerWithGrpc.java:219)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-01-19 14:38:39,828 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s1@group-768B129E9DAC: receive requestVote(PRE_VOTE, s0, group-768B129E9DAC, 0, (t:0, i:0))
2023-01-19 14:38:39,828 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s0@group-768B129E9DAC: receive requestVote(PRE_VOTE, s1, group-768B129E9DAC, 0, (t:0, i:0))
2023-01-19 14:38:39,828 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s2@group-768B129E9DAC: receive requestVote(PRE_VOTE, s0, group-768B129E9DAC, 0, (t:0, i:0))
2023-01-19 14:38:39,827 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s2@group-768B129E9DAC: receive requestVote(PRE_VOTE, s0, group-768B129E9DAC, 0, (t:0, i:0))
2023-01-19 14:38:39,827 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s0@group-768B129E9DAC: receive requestVote(PRE_VOTE, s2, group-768B129E9DAC, 0, (t:0, i:0))
2023-01-19 14:38:39,853 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-768B129E9DAC-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-01-19 14:38:39,853 [grpc-default-executor-11] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s1@group-768B129E9DAC: receive requestVote(PRE_VOTE, s2, group-768B129E9DAC, 0, (t:0, i:0))
2023-01-19 14:38:39,854 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s0@group-768B129E9DAC replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-768B129E9DAC:t0, leader=null, voted=, raftlog=Memoized:s0@group-768B129E9DAC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37101|admin:localhost:34901|client:localhost:41987|dataStream:localhost:35177|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37711|admin:localhost:38053|client:localhost:44313|dataStream:localhost:39539|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38829|admin:localhost:34203|client:localhost:44949|dataStream:localhost:38579|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:39,841 [grpc-default-executor-8] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-768B129E9DAC-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-01-19 14:38:39,854 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s2@group-768B129E9DAC replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-768B129E9DAC:t0, leader=null, voted=, raftlog=Memoized:s2@group-768B129E9DAC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37101|admin:localhost:34901|client:localhost:41987|dataStream:localhost:35177|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37711|admin:localhost:38053|client:localhost:44313|dataStream:localhost:39539|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38829|admin:localhost:34203|client:localhost:44949|dataStream:localhost:38579|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:39,852 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s0@group-768B129E9DAC: receive requestVote(PRE_VOTE, s2, group-768B129E9DAC, 0, (t:0, i:0))
2023-01-19 14:38:39,851 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s1@group-768B129E9DAC: receive requestVote(PRE_VOTE, s2, group-768B129E9DAC, 0, (t:0, i:0))
2023-01-19 14:38:39,848 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s2@group-768B129E9DAC: receive requestVote(PRE_VOTE, s1, group-768B129E9DAC, 0, (t:0, i:0))
2023-01-19 14:38:39,847 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s1@group-768B129E9DAC replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-768B129E9DAC:t0, leader=null, voted=, raftlog=Memoized:s1@group-768B129E9DAC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37101|admin:localhost:34901|client:localhost:41987|dataStream:localhost:35177|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37711|admin:localhost:38053|client:localhost:44313|dataStream:localhost:39539|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38829|admin:localhost:34203|client:localhost:44949|dataStream:localhost:38579|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:39,867 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-768B129E9DAC-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-01-19 14:38:39,868 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s1@group-768B129E9DAC replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-768B129E9DAC:t0, leader=null, voted=, raftlog=Memoized:s1@group-768B129E9DAC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37101|admin:localhost:34901|client:localhost:41987|dataStream:localhost:35177|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37711|admin:localhost:38053|client:localhost:44313|dataStream:localhost:39539|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38829|admin:localhost:34203|client:localhost:44949|dataStream:localhost:38579|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:39,868 [s0@group-768B129E9DAC-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-768B129E9DAC-LeaderElection1: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2023-01-19 14:38:39,869 [s0@group-768B129E9DAC-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-768B129E9DAC-LeaderElection1 PRE_VOTE round 1: result TIMEOUT
2023-01-19 14:38:39,864 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s0@group-768B129E9DAC: receive requestVote(PRE_VOTE, s1, group-768B129E9DAC, 0, (t:0, i:0))
2023-01-19 14:38:39,856 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-768B129E9DAC-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-01-19 14:38:39,870 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s0@group-768B129E9DAC replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-768B129E9DAC:t0, leader=null, voted=, raftlog=Memoized:s0@group-768B129E9DAC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37101|admin:localhost:34901|client:localhost:41987|dataStream:localhost:35177|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37711|admin:localhost:38053|client:localhost:44313|dataStream:localhost:39539|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38829|admin:localhost:34203|client:localhost:44949|dataStream:localhost:38579|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:39,856 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-768B129E9DAC-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-01-19 14:38:39,871 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s2@group-768B129E9DAC replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-768B129E9DAC:t0, leader=null, voted=, raftlog=Memoized:s2@group-768B129E9DAC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37101|admin:localhost:34901|client:localhost:41987|dataStream:localhost:35177|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37711|admin:localhost:38053|client:localhost:44313|dataStream:localhost:39539|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38829|admin:localhost:34203|client:localhost:44949|dataStream:localhost:38579|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:39,872 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-768B129E9DAC-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-01-19 14:38:39,872 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s2@group-768B129E9DAC replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-768B129E9DAC:t0, leader=null, voted=, raftlog=Memoized:s2@group-768B129E9DAC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37101|admin:localhost:34901|client:localhost:41987|dataStream:localhost:35177|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37711|admin:localhost:38053|client:localhost:44313|dataStream:localhost:39539|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38829|admin:localhost:34203|client:localhost:44949|dataStream:localhost:38579|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:39,873 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-768B129E9DAC-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-01-19 14:38:39,873 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s2@group-768B129E9DAC replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-768B129E9DAC:t0, leader=null, voted=, raftlog=Memoized:s2@group-768B129E9DAC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37101|admin:localhost:34901|client:localhost:41987|dataStream:localhost:35177|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37711|admin:localhost:38053|client:localhost:44313|dataStream:localhost:39539|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38829|admin:localhost:34203|client:localhost:44949|dataStream:localhost:38579|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:39,874 [grpc-default-executor-9] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-768B129E9DAC-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-01-19 14:38:39,875 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s0@group-768B129E9DAC replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-768B129E9DAC:t0, leader=null, voted=, raftlog=Memoized:s0@group-768B129E9DAC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37101|admin:localhost:34901|client:localhost:41987|dataStream:localhost:35177|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37711|admin:localhost:38053|client:localhost:44313|dataStream:localhost:39539|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38829|admin:localhost:34203|client:localhost:44949|dataStream:localhost:38579|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:39,875 [grpc-default-executor-10] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-768B129E9DAC-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-01-19 14:38:39,872 [grpc-default-executor-11] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-768B129E9DAC-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-01-19 14:38:39,882 [grpc-default-executor-11] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s1@group-768B129E9DAC replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-768B129E9DAC:t0, leader=null, voted=, raftlog=Memoized:s1@group-768B129E9DAC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37101|admin:localhost:34901|client:localhost:41987|dataStream:localhost:35177|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37711|admin:localhost:38053|client:localhost:44313|dataStream:localhost:39539|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38829|admin:localhost:34203|client:localhost:44949|dataStream:localhost:38579|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:39,883 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-768B129E9DAC-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-01-19 14:38:39,883 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s1@group-768B129E9DAC replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-768B129E9DAC:t0, leader=null, voted=, raftlog=Memoized:s1@group-768B129E9DAC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37101|admin:localhost:34901|client:localhost:41987|dataStream:localhost:35177|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37711|admin:localhost:38053|client:localhost:44313|dataStream:localhost:39539|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38829|admin:localhost:34203|client:localhost:44949|dataStream:localhost:38579|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:39,882 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s0@group-768B129E9DAC replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-768B129E9DAC:t0, leader=null, voted=, raftlog=Memoized:s0@group-768B129E9DAC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37101|admin:localhost:34901|client:localhost:41987|dataStream:localhost:35177|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37711|admin:localhost:38053|client:localhost:44313|dataStream:localhost:39539|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38829|admin:localhost:34203|client:localhost:44949|dataStream:localhost:38579|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:39,875 [s0@group-768B129E9DAC-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-768B129E9DAC-LeaderElection1 PRE_VOTE round 2: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:37101|admin:localhost:34901|client:localhost:41987|dataStream:localhost:35177|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37711|admin:localhost:38053|client:localhost:44313|dataStream:localhost:39539|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38829|admin:localhost:34203|client:localhost:44949|dataStream:localhost:38579|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:39,889 [s1@group-768B129E9DAC-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-768B129E9DAC-LeaderElection2: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-01-19 14:38:39,897 [s1@group-768B129E9DAC-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s2#0:OK-t0
2023-01-19 14:38:39,898 [s1@group-768B129E9DAC-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-768B129E9DAC-LeaderElection2 PRE_VOTE round 1: result PASSED
2023-01-19 14:38:39,894 [s0@group-768B129E9DAC-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:38:39,899 [s0@group-768B129E9DAC-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:38:39,899 [s1@group-768B129E9DAC-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-768B129E9DAC-LeaderElection2 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:37101|admin:localhost:34901|client:localhost:41987|dataStream:localhost:35177|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37711|admin:localhost:38053|client:localhost:44313|dataStream:localhost:39539|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38829|admin:localhost:34203|client:localhost:44949|dataStream:localhost:38579|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:39,901 [s1@group-768B129E9DAC-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:38:39,901 [s1@group-768B129E9DAC-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:38:39,911 [s2@group-768B129E9DAC-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-768B129E9DAC-LeaderElection3: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-01-19 14:38:39,911 [s2@group-768B129E9DAC-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s1#0:OK-t0
2023-01-19 14:38:39,911 [s2@group-768B129E9DAC-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-768B129E9DAC-LeaderElection3 PRE_VOTE round 1: result PASSED
2023-01-19 14:38:39,913 [s2@group-768B129E9DAC-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-768B129E9DAC-LeaderElection3 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:37101|admin:localhost:34901|client:localhost:41987|dataStream:localhost:35177|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37711|admin:localhost:38053|client:localhost:44313|dataStream:localhost:39539|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38829|admin:localhost:34203|client:localhost:44949|dataStream:localhost:38579|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:39,914 [s2@group-768B129E9DAC-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:38:39,914 [s2@group-768B129E9DAC-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:38:39,933 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s2@group-768B129E9DAC: receive requestVote(PRE_VOTE, s0, group-768B129E9DAC, 0, (t:0, i:0))
2023-01-19 14:38:39,934 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-768B129E9DAC-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-01-19 14:38:39,934 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s2@group-768B129E9DAC replies to PRE_VOTE vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-768B129E9DAC:t1, leader=null, voted=s2, raftlog=Memoized:s2@group-768B129E9DAC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37101|admin:localhost:34901|client:localhost:41987|dataStream:localhost:35177|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37711|admin:localhost:38053|client:localhost:44313|dataStream:localhost:39539|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38829|admin:localhost:34203|client:localhost:44949|dataStream:localhost:38579|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:39,938 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s0@group-768B129E9DAC: receive requestVote(ELECTION, s2, group-768B129E9DAC, 1, (t:0, i:0))
2023-01-19 14:38:39,938 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-768B129E9DAC-CANDIDATE: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2023-01-19 14:38:39,938 [s0@group-768B129E9DAC-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-768B129E9DAC-LeaderElection1: PRE_VOTE DISCOVERED_A_NEW_TERM (term=1) received 1 response(s) and 0 exception(s):
2023-01-19 14:38:39,940 [s0@group-768B129E9DAC-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s2#0:OK-t1
2023-01-19 14:38:39,939 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-768B129E9DAC: changes role from CANDIDATE to FOLLOWER at term 1 for candidate:s2
2023-01-19 14:38:39,939 [grpc-default-executor-11] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s1@group-768B129E9DAC: receive requestVote(ELECTION, s2, group-768B129E9DAC, 1, (t:0, i:0))
2023-01-19 14:38:39,940 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-768B129E9DAC-LeaderElection1
2023-01-19 14:38:39,942 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-768B129E9DAC-FollowerState
2023-01-19 14:38:39,940 [s0@group-768B129E9DAC-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-768B129E9DAC-LeaderElection1 PRE_VOTE round 2: result DISCOVERED_A_NEW_TERM (term=1)
2023-01-19 14:38:39,941 [grpc-default-executor-11] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-768B129E9DAC-CANDIDATE: reject ELECTION from s2: already has voted for s1 at current term 1
2023-01-19 14:38:39,943 [grpc-default-executor-11] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s1@group-768B129E9DAC replies to ELECTION vote request: s2<-s1#0:FAIL-t1. Peer's state: s1@group-768B129E9DAC:t1, leader=null, voted=s1, raftlog=Memoized:s1@group-768B129E9DAC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37101|admin:localhost:34901|client:localhost:41987|dataStream:localhost:35177|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37711|admin:localhost:38053|client:localhost:44313|dataStream:localhost:39539|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38829|admin:localhost:34203|client:localhost:44949|dataStream:localhost:38579|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:39,945 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s2@group-768B129E9DAC: receive requestVote(ELECTION, s1, group-768B129E9DAC, 1, (t:0, i:0))
2023-01-19 14:38:39,945 [grpc-default-executor-9] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-768B129E9DAC-CANDIDATE: reject ELECTION from s1: already has voted for s2 at current term 1
2023-01-19 14:38:39,945 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s2@group-768B129E9DAC replies to ELECTION vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-768B129E9DAC:t1, leader=null, voted=s2, raftlog=Memoized:s2@group-768B129E9DAC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37101|admin:localhost:34901|client:localhost:41987|dataStream:localhost:35177|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37711|admin:localhost:38053|client:localhost:44313|dataStream:localhost:39539|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38829|admin:localhost:34203|client:localhost:44949|dataStream:localhost:38579|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:39,948 [grpc-default-executor-11] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s0@group-768B129E9DAC: receive requestVote(ELECTION, s1, group-768B129E9DAC, 1, (t:0, i:0))
2023-01-19 14:38:39,948 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s1@group-768B129E9DAC: receive requestVote(PRE_VOTE, s0, group-768B129E9DAC, 0, (t:0, i:0))
2023-01-19 14:38:39,949 [grpc-default-executor-10] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-768B129E9DAC-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-01-19 14:38:39,949 [s0@group-768B129E9DAC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:38:39,949 [s0@group-768B129E9DAC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:38:39,951 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s0@group-768B129E9DAC replies to ELECTION vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-768B129E9DAC:t1, leader=null, voted=s2, raftlog=Memoized:s0@group-768B129E9DAC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37101|admin:localhost:34901|client:localhost:41987|dataStream:localhost:35177|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37711|admin:localhost:38053|client:localhost:44313|dataStream:localhost:39539|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38829|admin:localhost:34203|client:localhost:44949|dataStream:localhost:38579|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:39,951 [grpc-default-executor-11] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-768B129E9DAC-FOLLOWER: reject ELECTION from s1: already has voted for s2 at current term 1
2023-01-19 14:38:39,952 [grpc-default-executor-11] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s0@group-768B129E9DAC replies to ELECTION vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-768B129E9DAC:t1, leader=null, voted=s2, raftlog=Memoized:s0@group-768B129E9DAC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37101|admin:localhost:34901|client:localhost:41987|dataStream:localhost:35177|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37711|admin:localhost:38053|client:localhost:44313|dataStream:localhost:39539|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38829|admin:localhost:34203|client:localhost:44949|dataStream:localhost:38579|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:39,949 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s1@group-768B129E9DAC replies to PRE_VOTE vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-768B129E9DAC:t1, leader=null, voted=s1, raftlog=Memoized:s1@group-768B129E9DAC-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37101|admin:localhost:34901|client:localhost:41987|dataStream:localhost:35177|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37711|admin:localhost:38053|client:localhost:44313|dataStream:localhost:39539|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38829|admin:localhost:34203|client:localhost:44949|dataStream:localhost:38579|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:39,956 [s1@group-768B129E9DAC-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-768B129E9DAC-LeaderElection2: ELECTION REJECTED received 2 response(s) and 0 exception(s):
2023-01-19 14:38:39,956 [s1@group-768B129E9DAC-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:FAIL-t1
2023-01-19 14:38:39,956 [s1@group-768B129E9DAC-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s1<-s2#0:FAIL-t1
2023-01-19 14:38:39,956 [s1@group-768B129E9DAC-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-768B129E9DAC-LeaderElection2 ELECTION round 0: result REJECTED
2023-01-19 14:38:39,956 [s1@group-768B129E9DAC-LeaderElection2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-768B129E9DAC: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2023-01-19 14:38:39,956 [s1@group-768B129E9DAC-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-768B129E9DAC-LeaderElection2
2023-01-19 14:38:39,956 [s1@group-768B129E9DAC-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-768B129E9DAC-FollowerState
2023-01-19 14:38:39,959 [s1@group-768B129E9DAC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:38:39,959 [s1@group-768B129E9DAC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:38:39,965 [s2@group-768B129E9DAC-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-768B129E9DAC-LeaderElection3: ELECTION PASSED received 2 response(s) and 0 exception(s):
2023-01-19 14:38:39,966 [s2@group-768B129E9DAC-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t1
2023-01-19 14:38:39,966 [s2@group-768B129E9DAC-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s2<-s1#0:FAIL-t1
2023-01-19 14:38:39,966 [s2@group-768B129E9DAC-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-768B129E9DAC-LeaderElection3 ELECTION round 0: result PASSED
2023-01-19 14:38:39,966 [s2@group-768B129E9DAC-LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-768B129E9DAC-LeaderElection3
2023-01-19 14:38:39,966 [s2@group-768B129E9DAC-LeaderElection3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-768B129E9DAC: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-01-19 14:38:39,966 [s2@group-768B129E9DAC-LeaderElection3] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-768B129E9DAC: change Leader from null to s2 at term 1 for becomeLeader, leader elected after 1010ms
2023-01-19 14:38:39,975 [s2@group-768B129E9DAC-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-01-19 14:38:39,979 [s2@group-768B129E9DAC-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-01-19 14:38:39,981 [s2@group-768B129E9DAC-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2023-01-19 14:38:39,984 [s2@group-768B129E9DAC-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-01-19 14:38:39,985 [s2@group-768B129E9DAC-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-01-19 14:38:39,985 [s2@group-768B129E9DAC-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-01-19 14:38:39,997 [s2@group-768B129E9DAC-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-01-19 14:38:40,000 [s2@group-768B129E9DAC-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-01-19 14:38:40,010 [s2@group-768B129E9DAC-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-01-19 14:38:40,010 [s2@group-768B129E9DAC-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:38:40,011 [s2@group-768B129E9DAC-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-01-19 14:38:40,013 [s2@group-768B129E9DAC-LeaderElection3] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2023-01-19 14:38:40,013 [s2@group-768B129E9DAC-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-01-19 14:38:40,014 [s2@group-768B129E9DAC-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-01-19 14:38:40,014 [s2@group-768B129E9DAC-LeaderElection3] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-01-19 14:38:40,014 [s2@group-768B129E9DAC-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-01-19 14:38:40,017 [s2@group-768B129E9DAC-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-01-19 14:38:40,017 [s2@group-768B129E9DAC-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:38:40,017 [s2@group-768B129E9DAC-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-01-19 14:38:40,017 [s2@group-768B129E9DAC-LeaderElection3] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2023-01-19 14:38:40,017 [s2@group-768B129E9DAC-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-01-19 14:38:40,017 [s2@group-768B129E9DAC-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-01-19 14:38:40,018 [s2@group-768B129E9DAC-LeaderElection3] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-01-19 14:38:40,018 [s2@group-768B129E9DAC-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-01-19 14:38:40,019 [s2@group-768B129E9DAC-LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-768B129E9DAC-LeaderStateImpl
2023-01-19 14:38:40,034 [s2@group-768B129E9DAC-LeaderElection3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s2@group-768B129E9DAC-SegmentedRaftLogWorker: Starting segment from index:0
2023-01-19 14:38:40,090 [s2@group-768B129E9DAC-LeaderElection3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s2@group-768B129E9DAC: set configuration 0: peers:[s0|rpc:localhost:37101|admin:localhost:34901|client:localhost:41987|dataStream:localhost:35177|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37711|admin:localhost:38053|client:localhost:44313|dataStream:localhost:39539|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38829|admin:localhost:34203|client:localhost:44949|dataStream:localhost:38579|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:40,121 [s1@group-768B129E9DAC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-768B129E9DAC-FollowerState: change to CANDIDATE, lastRpcElapsedTime:165265182ns, electionTimeout:162ms
2023-01-19 14:38:40,122 [s1@group-768B129E9DAC-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-768B129E9DAC-FollowerState
2023-01-19 14:38:40,122 [s1@group-768B129E9DAC-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-768B129E9DAC: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-01-19 14:38:40,122 [s1@group-768B129E9DAC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-01-19 14:38:40,122 [s1@group-768B129E9DAC-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-768B129E9DAC-LeaderElection4
2023-01-19 14:38:40,125 [s0@group-768B129E9DAC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:38:40,125 [s0@group-768B129E9DAC-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:38:40,125 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-768B129E9DAC: change Leader from null to s2 at term 1 for appendEntries, leader elected after 1169ms
2023-01-19 14:38:40,159 [s1-server-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-768B129E9DAC: changes role from CANDIDATE to FOLLOWER at term 1 for appendEntries
2023-01-19 14:38:40,160 [s1-server-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-768B129E9DAC-LeaderElection4
2023-01-19 14:38:40,160 [s1-server-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-768B129E9DAC-FollowerState
2023-01-19 14:38:40,163 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-768B129E9DAC: set configuration 0: peers:[s0|rpc:localhost:37101|admin:localhost:34901|client:localhost:41987|dataStream:localhost:35177|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37711|admin:localhost:38053|client:localhost:44313|dataStream:localhost:39539|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38829|admin:localhost:34203|client:localhost:44949|dataStream:localhost:38579|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:40,163 [s0-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-768B129E9DAC-SegmentedRaftLogWorker: Starting segment from index:0
2023-01-19 14:38:40,183 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-768B129E9DAC: change Leader from null to s2 at term 1 for appendEntries, leader elected after 1205ms
2023-01-19 14:38:40,196 [s1@group-768B129E9DAC-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:run(232)) - s1@group-768B129E9DAC-LeaderElection4: skip running since this is already CLOSING
2023-01-19 14:38:40,205 [s0@group-768B129E9DAC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-768B129E9DAC-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc4d613736/s0/9061accc-2e4d-4991-a9f3-768b129e9dac/current/log_inprogress_0
2023-01-19 14:38:40,218 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s1@group-768B129E9DAC: set configuration 0: peers:[s0|rpc:localhost:37101|admin:localhost:34901|client:localhost:41987|dataStream:localhost:35177|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37711|admin:localhost:38053|client:localhost:44313|dataStream:localhost:39539|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38829|admin:localhost:34203|client:localhost:44949|dataStream:localhost:38579|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:40,218 [s1-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s1@group-768B129E9DAC-SegmentedRaftLogWorker: Starting segment from index:0
2023-01-19 14:38:40,231 [s2@group-768B129E9DAC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-768B129E9DAC-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc4d613736/s2/9061accc-2e4d-4991-a9f3-768b129e9dac/current/log_inprogress_0
2023-01-19 14:38:40,231 [s1@group-768B129E9DAC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-768B129E9DAC-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc4d613736/s1/9061accc-2e4d-4991-a9f3-768b129e9dac/current/log_inprogress_0
2023-01-19 14:38:40,297 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-768B129E9DAC:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-768B129E9DAC-SegmentedRaftLog:OPENED:c-1, conf=0: peers:[s0|rpc:localhost:37101|admin:localhost:34901|client:localhost:41987|dataStream:localhost:35177|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37711|admin:localhost:38053|client:localhost:44313|dataStream:localhost:39539|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38829|admin:localhost:34203|client:localhost:44949|dataStream:localhost:38579|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-768B129E9DAC:t1, leader=s2, voted=s1, raftlog=Memoized:s1@group-768B129E9DAC-SegmentedRaftLog:OPENED:c-1, conf=0: peers:[s0|rpc:localhost:37101|admin:localhost:34901|client:localhost:41987|dataStream:localhost:35177|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37711|admin:localhost:38053|client:localhost:44313|dataStream:localhost:39539|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38829|admin:localhost:34203|client:localhost:44949|dataStream:localhost:38579|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-768B129E9DAC:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-768B129E9DAC-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37101|admin:localhost:34901|client:localhost:41987|dataStream:localhost:35177|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37711|admin:localhost:38053|client:localhost:44313|dataStream:localhost:39539|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38829|admin:localhost:34203|client:localhost:44949|dataStream:localhost:38579|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-01-19 14:38:40,350 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:38:40,350 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:38:40,432 [grpc-default-executor-11] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-9DB8F4B41E40->s0: receive RaftClientReply:client-9DB8F4B41E40->s0@group-768B129E9DAC, cid=0, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-768B129E9DAC is not the leader s2|rpc:localhost:38829|admin:localhost:34203|client:localhost:44949|dataStream:localhost:38579|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s0:c0, s1:c0, s2:c0]
2023-01-19 14:38:40,447 [timer4] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:38:40,447 [timer4] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:38:40,471 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-9DB8F4B41E40->s2: receive RaftClientReply:client-9DB8F4B41E40->s2@group-768B129E9DAC, cid=0, SUCCESS, logIndex=0, commits[s2:c0, s0:c0, s1:c0]
2023-01-19 14:38:40,514 [s2@group-768B129E9DAC-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 1@client-9DB8F4B41E40
2023-01-19 14:38:40,518 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-9DB8F4B41E40->s2: receive RaftClientReply:client-9DB8F4B41E40->s2@group-768B129E9DAC, cid=1, SUCCESS, logIndex=1, commits[s2:c1, s0:c0, s1:c0]
2023-01-19 14:38:40,525 [s1@group-768B129E9DAC-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 1@client-9DB8F4B41E40
2023-01-19 14:38:40,525 [s0@group-768B129E9DAC-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 1@client-9DB8F4B41E40
2023-01-19 14:38:40,533 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-01-19 14:38:40,533 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-01-19 14:38:40,533 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2023-01-19 14:38:40,533 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-01-19 14:38:40,533 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-01-19 14:38:40,534 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-768B129E9DAC:t1, leader=s2, voted=s2, raftlog=Memoized:s0@group-768B129E9DAC-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|rpc:localhost:37101|admin:localhost:34901|client:localhost:41987|dataStream:localhost:35177|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37711|admin:localhost:38053|client:localhost:44313|dataStream:localhost:39539|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38829|admin:localhost:34203|client:localhost:44949|dataStream:localhost:38579|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-768B129E9DAC:t1, leader=s2, voted=s1, raftlog=Memoized:s1@group-768B129E9DAC-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|rpc:localhost:37101|admin:localhost:34901|client:localhost:41987|dataStream:localhost:35177|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37711|admin:localhost:38053|client:localhost:44313|dataStream:localhost:39539|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38829|admin:localhost:34203|client:localhost:44949|dataStream:localhost:38579|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-768B129E9DAC:t1, leader=s2, voted=s2, raftlog=Memoized:s2@group-768B129E9DAC-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:37101|admin:localhost:34901|client:localhost:41987|dataStream:localhost:35177|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:37711|admin:localhost:38053|client:localhost:44313|dataStream:localhost:39539|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38829|admin:localhost:34203|client:localhost:44949|dataStream:localhost:38579|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-01-19 14:38:40,538 [MiniRaftCluster-2] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s1: close
2023-01-19 14:38:40,540 [MiniRaftCluster-3] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s2: close
2023-01-19 14:38:40,543 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s1@group-768B129E9DAC: shutdown
2023-01-19 14:38:40,544 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-768B129E9DAC,id=s1
2023-01-19 14:38:40,544 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-768B129E9DAC-FollowerState
2023-01-19 14:38:40,544 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-768B129E9DAC-StateMachineUpdater: set stopIndex = 1
2023-01-19 14:38:40,544 [s1@group-768B129E9DAC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-768B129E9DAC-FollowerState was interrupted
2023-01-19 14:38:40,542 [MiniRaftCluster-1] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2023-01-19 14:38:40,547 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s1@group-768B129E9DAC: applyIndex: 1
2023-01-19 14:38:40,547 [MiniRaftCluster-1] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-01-19 14:38:40,548 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-768B129E9DAC: shutdown
2023-01-19 14:38:40,548 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-768B129E9DAC,id=s0
2023-01-19 14:38:40,548 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-768B129E9DAC-FollowerState
2023-01-19 14:38:40,548 [s1@group-768B129E9DAC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s1@group-768B129E9DAC-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2023-01-19 14:38:40,549 [s0@group-768B129E9DAC-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-768B129E9DAC-FollowerState was interrupted
2023-01-19 14:38:40,544 [MiniRaftCluster-2] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-01-19 14:38:40,551 [MiniRaftCluster-3] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-01-19 14:38:40,551 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s2@group-768B129E9DAC: shutdown
2023-01-19 14:38:40,551 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-768B129E9DAC,id=s2
2023-01-19 14:38:40,552 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-768B129E9DAC-LeaderStateImpl
2023-01-19 14:38:40,552 [s2@group-768B129E9DAC->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s2@group-768B129E9DAC->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2023-01-19 14:38:40,548 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-768B129E9DAC-StateMachineUpdater: set stopIndex = 1
2023-01-19 14:38:40,552 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s0@group-768B129E9DAC: applyIndex: 1
2023-01-19 14:38:40,553 [s0@group-768B129E9DAC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s0@group-768B129E9DAC-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2023-01-19 14:38:40,554 [grpc-default-executor-11] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s0: Completed APPEND_ENTRIES, lastRequest: s2->s0#15-t1,previous=(t:1, i:1),leaderCommit=1,initializing? true,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2023-01-19 14:38:40,552 [s2-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s2@group-768B129E9DAC-PendingRequests: sendNotLeaderResponses
2023-01-19 14:38:40,552 [s2@group-768B129E9DAC->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s2@group-768B129E9DAC->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2023-01-19 14:38:40,557 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s1@group-768B129E9DAC-SegmentedRaftLogWorker close()
2023-01-19 14:38:40,557 [grpc-default-executor-9] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s1: Completed APPEND_ENTRIES, lastRequest: s2->s1#16-t1,previous=(t:1, i:1),leaderCommit=1,initializing? true,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2023-01-19 14:38:40,555 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s2@group-768B129E9DAC->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-01-19 14:38:40,560 [grpc-default-executor-4] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s2@group-768B129E9DAC->s0: nextIndex: updateUnconditionally 3 -> 2
2023-01-19 14:38:40,561 [grpc-default-executor-9] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s2@group-768B129E9DAC->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-01-19 14:38:40,565 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s0@group-768B129E9DAC-SegmentedRaftLogWorker close()
2023-01-19 14:38:40,566 [MiniRaftCluster-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s0 Close channels
2023-01-19 14:38:40,569 [MiniRaftCluster-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s0 Close channels
2023-01-19 14:38:40,562 [grpc-default-executor-9] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s2@group-768B129E9DAC->s1: nextIndex: updateUnconditionally 3 -> 2
2023-01-19 14:38:40,581 [MiniRaftCluster-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s1 Close channels
2023-01-19 14:38:40,583 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-768B129E9DAC-StateMachineUpdater: set stopIndex = 2
2023-01-19 14:38:40,584 [MiniRaftCluster-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s2 Close channels
2023-01-19 14:38:40,584 [MiniRaftCluster-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s2 Close channels
2023-01-19 14:38:40,584 [MiniRaftCluster-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s1 Close channels
2023-01-19 14:38:40,584 [MiniRaftCluster-1] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-01-19 14:38:40,586 [MiniRaftCluster-1] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server GrpcServerProtocolService now
2023-01-19 14:38:40,585 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s2@group-768B129E9DAC: applyIndex: 2
2023-01-19 14:38:40,586 [s2@group-768B129E9DAC-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s2@group-768B129E9DAC-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2023-01-19 14:38:40,585 [MiniRaftCluster-2] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-01-19 14:38:40,587 [MiniRaftCluster-2] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server GrpcServerProtocolService now
2023-01-19 14:38:40,589 [MiniRaftCluster-3] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-01-19 14:38:40,589 [MiniRaftCluster-3] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server GrpcServerProtocolService now
2023-01-19 14:38:40,590 [MiniRaftCluster-1] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server GrpcServerProtocolService successfully
2023-01-19 14:38:40,590 [MiniRaftCluster-1] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-01-19 14:38:40,591 [MiniRaftCluster-3] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server GrpcServerProtocolService successfully
2023-01-19 14:38:40,591 [MiniRaftCluster-3] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-01-19 14:38:40,597 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s2@group-768B129E9DAC-SegmentedRaftLogWorker close()
2023-01-19 14:38:40,597 [MiniRaftCluster-1] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-01-19 14:38:40,598 [JvmPauseMonitor0] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2023-01-19 14:38:40,599 [MiniRaftCluster-2] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server GrpcServerProtocolService successfully
2023-01-19 14:38:40,600 [MiniRaftCluster-2] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-01-19 14:38:40,601 [MiniRaftCluster-3] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-01-19 14:38:40,607 [MiniRaftCluster-2] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-01-19 14:38:40,608 [JvmPauseMonitor1] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2023-01-19 14:38:40,608 [JvmPauseMonitor2] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s2: Stopped
2023-01-19 14:38:40,609 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2023-01-19 14:38:40,621 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-01-19 14:38:40,622 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-01-19 14:38:40,622 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2023-01-19 14:38:40,633 [Time-limited test] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(61)) - Getting resource ssl/server.pem: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/server.pem
2023-01-19 14:38:40,944 [Time-limited test] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(61)) - Getting resource ssl/server.crt: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/server.crt
2023-01-19 14:38:41,107 [Time-limited test] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(61)) - Getting resource ssl/ca.crt: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/ca.crt
2023-01-19 14:38:41,115 [Time-limited test] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(61)) - Getting resource ssl/client.pem: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/client.pem
2023-01-19 14:38:41,117 [Time-limited test] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(61)) - Getting resource ssl/client.crt: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/client.crt
2023-01-19 14:38:41,196 [Time-limited test] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(61)) - Getting resource ssl/ca.crt: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/ca.crt
2023-01-19 14:38:41,203 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-6F261EF10331:[s3|rpc:localhost:33197|admin:localhost:44375|client:localhost:45435|dataStream:localhost:41415|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:46721|admin:localhost:45623|client:localhost:34765|dataStream:localhost:44007|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:35995|admin:localhost:46671|client:localhost:44767|dataStream:localhost:38827|priority:0|startupRole:FOLLOWER]
2023-01-19 14:38:41,203 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-01-19 14:38:41,203 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-01-19 14:38:41,203 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2023-01-19 14:38:41,203 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-01-19 14:38:41,203 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-01-19 14:38:41,203 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-01-19 14:38:41,204 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s3, group-6F261EF10331:[s3|rpc:localhost:33197|admin:localhost:44375|client:localhost:45435|dataStream:localhost:41415|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:46721|admin:localhost:45623|client:localhost:34765|dataStream:localhost:44007|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:35995|admin:localhost:46671|client:localhost:44767|dataStream:localhost:38827|priority:0|startupRole:FOLLOWER], format? true
2023-01-19 14:38:41,204 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/f0947725/MiniRaftClusterWithGrpcb7acbb1a/s3
2023-01-19 14:38:41,204 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/f0947725/MiniRaftClusterWithGrpcb7acbb1a/s3 does not exist.
2023-01-19 14:38:41,204 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/f0947725/MiniRaftClusterWithGrpcb7acbb1a/s3
2023-01-19 14:38:41,204 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-01-19 14:38:41,205 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:38:41,205 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 44375 (custom)
2023-01-19 14:38:41,205 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:38:41,205 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 45435 (custom)
2023-01-19 14:38:41,205 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-01-19 14:38:41,205 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 33197 (custom)
2023-01-19 14:38:41,205 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:38:41,206 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:38:41,206 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:38:41,206 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-01-19 14:38:41,206 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-01-19 14:38:41,206 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-01-19 14:38:41,206 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-01-19 14:38:41,361 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-01-19 14:38:41,361 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-01-19 14:38:41,361 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-01-19 14:38:41,362 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-01-19 14:38:41,362 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-01-19 14:38:41,362 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcb7acbb1a/s3] (custom)
2023-01-19 14:38:41,363 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s3: addNew group-6F261EF10331:[s3|rpc:localhost:33197|admin:localhost:44375|client:localhost:45435|dataStream:localhost:41415|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:46721|admin:localhost:45623|client:localhost:34765|dataStream:localhost:44007|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:35995|admin:localhost:46671|client:localhost:44767|dataStream:localhost:38827|priority:0|startupRole:FOLLOWER] returns group-6F261EF10331:java.util.concurrent.CompletableFuture@43d1807b[Not completed]
2023-01-19 14:38:41,363 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s4, group-6F261EF10331:[s3|rpc:localhost:33197|admin:localhost:44375|client:localhost:45435|dataStream:localhost:41415|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:46721|admin:localhost:45623|client:localhost:34765|dataStream:localhost:44007|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:35995|admin:localhost:46671|client:localhost:44767|dataStream:localhost:38827|priority:0|startupRole:FOLLOWER], format? true
2023-01-19 14:38:41,363 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/f0947725/MiniRaftClusterWithGrpcb7acbb1a/s4
2023-01-19 14:38:41,364 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/f0947725/MiniRaftClusterWithGrpcb7acbb1a/s4 does not exist.
2023-01-19 14:38:41,364 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/f0947725/MiniRaftClusterWithGrpcb7acbb1a/s4
2023-01-19 14:38:41,364 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-01-19 14:38:41,364 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:38:41,364 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 45623 (custom)
2023-01-19 14:38:41,364 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:38:41,365 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 34765 (custom)
2023-01-19 14:38:41,365 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-01-19 14:38:41,365 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 46721 (custom)
2023-01-19 14:38:41,365 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:38:41,365 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:38:41,365 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:38:41,365 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-01-19 14:38:41,365 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-01-19 14:38:41,366 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-01-19 14:38:41,366 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-01-19 14:38:41,369 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-01-19 14:38:41,370 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-01-19 14:38:41,370 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-01-19 14:38:41,370 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-01-19 14:38:41,371 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-01-19 14:38:41,370 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:38:41,371 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-01-19 14:38:41,372 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-01-19 14:38:41,372 [pool-6-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s3: new RaftServerImpl for group-6F261EF10331:[s3|rpc:localhost:33197|admin:localhost:44375|client:localhost:45435|dataStream:localhost:41415|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:46721|admin:localhost:45623|client:localhost:34765|dataStream:localhost:44007|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:35995|admin:localhost:46671|client:localhost:44767|dataStream:localhost:38827|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-01-19 14:38:41,372 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-01-19 14:38:41,372 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-01-19 14:38:41,372 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-01-19 14:38:41,372 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-01-19 14:38:41,374 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-01-19 14:38:41,374 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-01-19 14:38:41,373 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcb7acbb1a/s4] (custom)
2023-01-19 14:38:41,375 [pool-6-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s3@group-6F261EF10331: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:33197|admin:localhost:44375|client:localhost:45435|dataStream:localhost:41415|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:46721|admin:localhost:45623|client:localhost:34765|dataStream:localhost:44007|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:35995|admin:localhost:46671|client:localhost:44767|dataStream:localhost:38827|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-01-19 14:38:41,377 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-01-19 14:38:41,377 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-01-19 14:38:41,378 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-01-19 14:38:41,379 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-01-19 14:38:41,379 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-01-19 14:38:41,385 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-01-19 14:38:41,385 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-01-19 14:38:41,386 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-01-19 14:38:41,386 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-01-19 14:38:41,386 [pool-6-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-01-19 14:38:41,392 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s4: addNew group-6F261EF10331:[s3|rpc:localhost:33197|admin:localhost:44375|client:localhost:45435|dataStream:localhost:41415|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:46721|admin:localhost:45623|client:localhost:34765|dataStream:localhost:44007|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:35995|admin:localhost:46671|client:localhost:44767|dataStream:localhost:38827|priority:0|startupRole:FOLLOWER] returns group-6F261EF10331:java.util.concurrent.CompletableFuture@5e027ec[Not completed]
2023-01-19 14:38:41,393 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s5, group-6F261EF10331:[s3|rpc:localhost:33197|admin:localhost:44375|client:localhost:45435|dataStream:localhost:41415|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:46721|admin:localhost:45623|client:localhost:34765|dataStream:localhost:44007|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:35995|admin:localhost:46671|client:localhost:44767|dataStream:localhost:38827|priority:0|startupRole:FOLLOWER], format? true
2023-01-19 14:38:41,393 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/f0947725/MiniRaftClusterWithGrpcb7acbb1a/s5
2023-01-19 14:38:41,394 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/f0947725/MiniRaftClusterWithGrpcb7acbb1a/s5 does not exist.
2023-01-19 14:38:41,394 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/f0947725/MiniRaftClusterWithGrpcb7acbb1a/s5
2023-01-19 14:38:41,394 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-01-19 14:38:41,394 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:38:41,395 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 46671 (custom)
2023-01-19 14:38:41,395 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:38:41,395 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 44767 (custom)
2023-01-19 14:38:41,395 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-01-19 14:38:41,395 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 35995 (custom)
2023-01-19 14:38:41,395 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:38:41,395 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:38:41,395 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:38:41,395 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-01-19 14:38:41,396 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-01-19 14:38:41,396 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-01-19 14:38:41,396 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-01-19 14:38:41,402 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:38:41,402 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-01-19 14:38:41,402 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-01-19 14:38:41,402 [pool-7-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s4: new RaftServerImpl for group-6F261EF10331:[s3|rpc:localhost:33197|admin:localhost:44375|client:localhost:45435|dataStream:localhost:41415|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:46721|admin:localhost:45623|client:localhost:34765|dataStream:localhost:44007|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:35995|admin:localhost:46671|client:localhost:44767|dataStream:localhost:38827|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-01-19 14:38:41,402 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-01-19 14:38:41,402 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-01-19 14:38:41,402 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-01-19 14:38:41,403 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-01-19 14:38:41,403 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-01-19 14:38:41,403 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-01-19 14:38:41,403 [pool-7-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s4@group-6F261EF10331: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:33197|admin:localhost:44375|client:localhost:45435|dataStream:localhost:41415|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:46721|admin:localhost:45623|client:localhost:34765|dataStream:localhost:44007|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:35995|admin:localhost:46671|client:localhost:44767|dataStream:localhost:38827|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-01-19 14:38:41,403 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-01-19 14:38:41,403 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-01-19 14:38:41,403 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-01-19 14:38:41,403 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-01-19 14:38:41,403 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-01-19 14:38:41,406 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-01-19 14:38:41,406 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-01-19 14:38:41,406 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-01-19 14:38:41,407 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-01-19 14:38:41,407 [pool-7-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-01-19 14:38:41,411 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-01-19 14:38:41,412 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-01-19 14:38:41,412 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-01-19 14:38:41,412 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-01-19 14:38:41,412 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-01-19 14:38:41,412 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcb7acbb1a/s5] (custom)
2023-01-19 14:38:41,415 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s5: addNew group-6F261EF10331:[s3|rpc:localhost:33197|admin:localhost:44375|client:localhost:45435|dataStream:localhost:41415|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:46721|admin:localhost:45623|client:localhost:34765|dataStream:localhost:44007|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:35995|admin:localhost:46671|client:localhost:44767|dataStream:localhost:38827|priority:0|startupRole:FOLLOWER] returns group-6F261EF10331:java.util.concurrent.CompletableFuture@4be4008b[Not completed]
2023-01-19 14:38:41,415 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-01-19 14:38:41,415 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-01-19 14:38:41,415 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcb7acbb1a/s3] (custom)
2023-01-19 14:38:41,415 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcb7acbb1a/s3/cb2c0ff7-9826-442b-948a-6f261ef10331 does not exist. Creating ...
2023-01-19 14:38:41,416 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcb7acbb1a/s3/cb2c0ff7-9826-442b-948a-6f261ef10331
2023-01-19 14:38:41,417 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:38:41,420 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcb7acbb1a/s3/cb2c0ff7-9826-442b-948a-6f261ef10331/in_use.lock acquired by nodename 4721@fv-az82-597
2023-01-19 14:38:41,420 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcb7acbb1a/s3/cb2c0ff7-9826-442b-948a-6f261ef10331/current
2023-01-19 14:38:41,420 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcb7acbb1a/s3/cb2c0ff7-9826-442b-948a-6f261ef10331/sm
2023-01-19 14:38:41,420 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-01-19 14:38:41,421 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-01-19 14:38:41,421 [pool-8-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s5: new RaftServerImpl for group-6F261EF10331:[s3|rpc:localhost:33197|admin:localhost:44375|client:localhost:45435|dataStream:localhost:41415|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:46721|admin:localhost:45623|client:localhost:34765|dataStream:localhost:44007|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:35995|admin:localhost:46671|client:localhost:44767|dataStream:localhost:38827|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-01-19 14:38:41,421 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-01-19 14:38:41,421 [s3-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcb7acbb1a/s3/cb2c0ff7-9826-442b-948a-6f261ef10331 has been successfully formatted.
2023-01-19 14:38:41,421 [s3-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-01-19 14:38:41,422 [s3-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-01-19 14:38:41,422 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-01-19 14:38:41,422 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-01-19 14:38:41,422 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:38:41,422 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-01-19 14:38:41,422 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-01-19 14:38:41,424 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:38:41,424 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-01-19 14:38:41,424 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-01-19 14:38:41,424 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s3@group-6F261EF10331-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcb7acbb1a/s3/cb2c0ff7-9826-442b-948a-6f261ef10331
2023-01-19 14:38:41,424 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-01-19 14:38:41,425 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-01-19 14:38:41,425 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:38:41,425 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-01-19 14:38:41,425 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-01-19 14:38:41,425 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-01-19 14:38:41,425 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-01-19 14:38:41,425 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-01-19 14:38:41,425 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-01-19 14:38:41,426 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:38:41,426 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-01-19 14:38:41,426 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-01-19 14:38:41,426 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-01-19 14:38:41,427 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-6F261EF10331-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-01-19 14:38:41,427 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-6F261EF10331-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-01-19 14:38:41,431 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-01-19 14:38:41,431 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-01-19 14:38:41,431 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-01-19 14:38:41,431 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-01-19 14:38:41,431 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-01-19 14:38:41,431 [pool-8-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s5@group-6F261EF10331: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:33197|admin:localhost:44375|client:localhost:45435|dataStream:localhost:41415|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:46721|admin:localhost:45623|client:localhost:34765|dataStream:localhost:44007|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:35995|admin:localhost:46671|client:localhost:44767|dataStream:localhost:38827|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-01-19 14:38:41,432 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-01-19 14:38:41,432 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-01-19 14:38:41,432 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-01-19 14:38:41,432 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-01-19 14:38:41,432 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-01-19 14:38:41,433 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s3@group-6F261EF10331: start as a follower, conf=-1: peers:[s3|rpc:localhost:33197|admin:localhost:44375|client:localhost:45435|dataStream:localhost:41415|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:46721|admin:localhost:45623|client:localhost:34765|dataStream:localhost:44007|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:35995|admin:localhost:46671|client:localhost:44767|dataStream:localhost:38827|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:41,434 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s3@group-6F261EF10331: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-01-19 14:38:41,434 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-6F261EF10331-FollowerState
2023-01-19 14:38:41,438 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-01-19 14:38:41,438 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-01-19 14:38:41,438 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-01-19 14:38:41,438 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-01-19 14:38:41,438 [pool-8-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-01-19 14:38:41,440 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-6F261EF10331,id=s3
2023-01-19 14:38:41,440 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-01-19 14:38:41,440 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-01-19 14:38:41,441 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-01-19 14:38:41,441 [s3@group-6F261EF10331-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:38:41,441 [s3@group-6F261EF10331-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:38:41,445 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s3: start RPC server
2023-01-19 14:38:41,450 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s3: GrpcService started, listening on 45435
2023-01-19 14:38:41,451 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s3: GrpcService started, listening on 33197
2023-01-19 14:38:41,452 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s3: GrpcService started, listening on 44375
2023-01-19 14:38:41,460 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-01-19 14:38:41,460 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-01-19 14:38:41,460 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcb7acbb1a/s4] (custom)
2023-01-19 14:38:41,460 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcb7acbb1a/s4/cb2c0ff7-9826-442b-948a-6f261ef10331 does not exist. Creating ...
2023-01-19 14:38:41,461 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcb7acbb1a/s4/cb2c0ff7-9826-442b-948a-6f261ef10331
2023-01-19 14:38:41,462 [JvmPauseMonitor3] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s3: Started
2023-01-19 14:38:41,462 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcb7acbb1a/s4/cb2c0ff7-9826-442b-948a-6f261ef10331/in_use.lock acquired by nodename 4721@fv-az82-597
2023-01-19 14:38:41,463 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcb7acbb1a/s4/cb2c0ff7-9826-442b-948a-6f261ef10331/current
2023-01-19 14:38:41,463 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcb7acbb1a/s4/cb2c0ff7-9826-442b-948a-6f261ef10331/sm
2023-01-19 14:38:41,464 [s4-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcb7acbb1a/s4/cb2c0ff7-9826-442b-948a-6f261ef10331 has been successfully formatted.
2023-01-19 14:38:41,464 [s4-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-01-19 14:38:41,464 [s4-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-01-19 14:38:41,464 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-01-19 14:38:41,465 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-01-19 14:38:41,465 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:38:41,465 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-01-19 14:38:41,465 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-01-19 14:38:41,466 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:38:41,466 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-01-19 14:38:41,467 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-01-19 14:38:41,467 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s4@group-6F261EF10331-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcb7acbb1a/s4/cb2c0ff7-9826-442b-948a-6f261ef10331
2023-01-19 14:38:41,467 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-01-19 14:38:41,467 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-01-19 14:38:41,467 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:38:41,467 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-01-19 14:38:41,467 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-01-19 14:38:41,467 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-01-19 14:38:41,467 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-01-19 14:38:41,467 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-01-19 14:38:41,467 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-01-19 14:38:41,468 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:38:41,469 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-01-19 14:38:41,469 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-01-19 14:38:41,469 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-01-19 14:38:41,473 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s4@group-6F261EF10331-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-01-19 14:38:41,473 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s4@group-6F261EF10331-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-01-19 14:38:41,477 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s4@group-6F261EF10331: start as a follower, conf=-1: peers:[s3|rpc:localhost:33197|admin:localhost:44375|client:localhost:45435|dataStream:localhost:41415|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:46721|admin:localhost:45623|client:localhost:34765|dataStream:localhost:44007|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:35995|admin:localhost:46671|client:localhost:44767|dataStream:localhost:38827|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:41,477 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s4@group-6F261EF10331: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-01-19 14:38:41,478 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-6F261EF10331-FollowerState
2023-01-19 14:38:41,480 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-6F261EF10331,id=s4
2023-01-19 14:38:41,480 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-01-19 14:38:41,480 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-01-19 14:38:41,480 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-01-19 14:38:41,481 [s4@group-6F261EF10331-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:38:41,481 [s4@group-6F261EF10331-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:38:41,485 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s4: start RPC server
2023-01-19 14:38:41,488 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s4: GrpcService started, listening on 34765
2023-01-19 14:38:41,489 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s4: GrpcService started, listening on 46721
2023-01-19 14:38:41,490 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s4: GrpcService started, listening on 45623
2023-01-19 14:38:41,493 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-01-19 14:38:41,493 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-01-19 14:38:41,494 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcb7acbb1a/s5] (custom)
2023-01-19 14:38:41,494 [s5-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcb7acbb1a/s5/cb2c0ff7-9826-442b-948a-6f261ef10331 does not exist. Creating ...
2023-01-19 14:38:41,494 [s5-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcb7acbb1a/s5/cb2c0ff7-9826-442b-948a-6f261ef10331
2023-01-19 14:38:41,495 [JvmPauseMonitor4] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s4: Started
2023-01-19 14:38:41,495 [s5-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcb7acbb1a/s5/cb2c0ff7-9826-442b-948a-6f261ef10331/in_use.lock acquired by nodename 4721@fv-az82-597
2023-01-19 14:38:41,496 [s5-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcb7acbb1a/s5/cb2c0ff7-9826-442b-948a-6f261ef10331/current
2023-01-19 14:38:41,496 [s5-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcb7acbb1a/s5/cb2c0ff7-9826-442b-948a-6f261ef10331/sm
2023-01-19 14:38:41,497 [s5-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcb7acbb1a/s5/cb2c0ff7-9826-442b-948a-6f261ef10331 has been successfully formatted.
2023-01-19 14:38:41,497 [s5-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-01-19 14:38:41,498 [s5-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-01-19 14:38:41,498 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-01-19 14:38:41,498 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-01-19 14:38:41,498 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:38:41,498 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-01-19 14:38:41,498 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-01-19 14:38:41,499 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:38:41,499 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-01-19 14:38:41,499 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-01-19 14:38:41,500 [s5-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s5@group-6F261EF10331-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcb7acbb1a/s5/cb2c0ff7-9826-442b-948a-6f261ef10331
2023-01-19 14:38:41,500 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-01-19 14:38:41,500 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-01-19 14:38:41,500 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:38:41,500 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-01-19 14:38:41,500 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-01-19 14:38:41,500 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-01-19 14:38:41,500 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-01-19 14:38:41,500 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-01-19 14:38:41,501 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-01-19 14:38:41,501 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:38:41,502 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-01-19 14:38:41,503 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-01-19 14:38:41,503 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-01-19 14:38:41,503 [s5-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s5@group-6F261EF10331-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-01-19 14:38:41,503 [s5-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s5@group-6F261EF10331-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-01-19 14:38:41,505 [s5-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s5@group-6F261EF10331: start as a follower, conf=-1: peers:[s3|rpc:localhost:33197|admin:localhost:44375|client:localhost:45435|dataStream:localhost:41415|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:46721|admin:localhost:45623|client:localhost:34765|dataStream:localhost:44007|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:35995|admin:localhost:46671|client:localhost:44767|dataStream:localhost:38827|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:41,505 [s5-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s5@group-6F261EF10331: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-01-19 14:38:41,506 [s5-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s5: start s5@group-6F261EF10331-FollowerState
2023-01-19 14:38:41,509 [s5-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-6F261EF10331,id=s5
2023-01-19 14:38:41,510 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-01-19 14:38:41,510 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-01-19 14:38:41,510 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-01-19 14:38:41,511 [s5@group-6F261EF10331-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:38:41,512 [s5@group-6F261EF10331-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:38:41,512 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s5: start RPC server
2023-01-19 14:38:41,514 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s5: GrpcService started, listening on 44767
2023-01-19 14:38:41,515 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s5: GrpcService started, listening on 35995
2023-01-19 14:38:41,516 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s5: GrpcService started, listening on 46671
2023-01-19 14:38:41,517 [JvmPauseMonitor5] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s5: Started
2023-01-19 14:38:41,522 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:38:41,522 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:38:41,631 [s3@group-6F261EF10331-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s3@group-6F261EF10331-FollowerState: change to CANDIDATE, lastRpcElapsedTime:196935265ns, electionTimeout:189ms
2023-01-19 14:38:41,631 [s3@group-6F261EF10331-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-6F261EF10331-FollowerState
2023-01-19 14:38:41,631 [s3@group-6F261EF10331-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s3@group-6F261EF10331: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-01-19 14:38:41,633 [s3@group-6F261EF10331-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-01-19 14:38:41,633 [s3@group-6F261EF10331-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-6F261EF10331-LeaderElection5
2023-01-19 14:38:41,649 [s3@group-6F261EF10331-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s3@group-6F261EF10331-LeaderElection5 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s3|rpc:localhost:33197|admin:localhost:44375|client:localhost:45435|dataStream:localhost:41415|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:46721|admin:localhost:45623|client:localhost:34765|dataStream:localhost:44007|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:35995|admin:localhost:46671|client:localhost:44767|dataStream:localhost:38827|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:41,657 [s3@group-6F261EF10331-LeaderElection5-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s4
2023-01-19 14:38:41,670 [s3@group-6F261EF10331-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:38:41,670 [s3@group-6F261EF10331-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:38:41,671 [s3@group-6F261EF10331-LeaderElection5-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s5
2023-01-19 14:38:41,682 [s4@group-6F261EF10331-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-6F261EF10331-FollowerState: change to CANDIDATE, lastRpcElapsedTime:204002454ns, electionTimeout:200ms
2023-01-19 14:38:41,682 [s4@group-6F261EF10331-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-6F261EF10331-FollowerState
2023-01-19 14:38:41,682 [s4@group-6F261EF10331-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s4@group-6F261EF10331: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-01-19 14:38:41,682 [s4@group-6F261EF10331-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-01-19 14:38:41,682 [s4@group-6F261EF10331-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-6F261EF10331-LeaderElection6
2023-01-19 14:38:41,683 [s4@group-6F261EF10331-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s4@group-6F261EF10331-LeaderElection6 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s3|rpc:localhost:33197|admin:localhost:44375|client:localhost:45435|dataStream:localhost:41415|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:46721|admin:localhost:45623|client:localhost:34765|dataStream:localhost:44007|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:35995|admin:localhost:46671|client:localhost:44767|dataStream:localhost:38827|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:41,684 [s4@group-6F261EF10331-LeaderElection6-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s3
2023-01-19 14:38:41,685 [s4@group-6F261EF10331-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:38:41,686 [s4@group-6F261EF10331-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:38:41,686 [s4@group-6F261EF10331-LeaderElection6-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s5
2023-01-19 14:38:41,788 [s5@group-6F261EF10331-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s5@group-6F261EF10331-FollowerState: change to CANDIDATE, lastRpcElapsedTime:282806082ns, electionTimeout:276ms
2023-01-19 14:38:41,789 [s5@group-6F261EF10331-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s5: shutdown s5@group-6F261EF10331-FollowerState
2023-01-19 14:38:41,789 [s5@group-6F261EF10331-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s5@group-6F261EF10331: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-01-19 14:38:41,796 [s5@group-6F261EF10331-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-01-19 14:38:41,796 [s5@group-6F261EF10331-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s5: start s5@group-6F261EF10331-LeaderElection7
2023-01-19 14:38:41,796 [grpc-default-executor-11] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s5@group-6F261EF10331: receive requestVote(PRE_VOTE, s4, group-6F261EF10331, 0, (t:0, i:0))
2023-01-19 14:38:41,799 [grpc-default-executor-11] INFO  impl.VoteContext (VoteContext.java:log(49)) - s5@group-6F261EF10331-CANDIDATE: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2023-01-19 14:38:41,799 [grpc-default-executor-11] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s5@group-6F261EF10331 replies to PRE_VOTE vote request: s4<-s5#0:OK-t0. Peer's state: s5@group-6F261EF10331:t0, leader=null, voted=, raftlog=Memoized:s5@group-6F261EF10331-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:33197|admin:localhost:44375|client:localhost:45435|dataStream:localhost:41415|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:46721|admin:localhost:45623|client:localhost:34765|dataStream:localhost:44007|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:35995|admin:localhost:46671|client:localhost:44767|dataStream:localhost:38827|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:41,800 [s5@group-6F261EF10331-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s5@group-6F261EF10331-LeaderElection7 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s3|rpc:localhost:33197|admin:localhost:44375|client:localhost:45435|dataStream:localhost:41415|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:46721|admin:localhost:45623|client:localhost:34765|dataStream:localhost:44007|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:35995|admin:localhost:46671|client:localhost:44767|dataStream:localhost:38827|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:41,806 [s5@group-6F261EF10331-LeaderElection7-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s3
2023-01-19 14:38:41,817 [s4@group-6F261EF10331-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s4@group-6F261EF10331-LeaderElection6: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-01-19 14:38:41,817 [s4@group-6F261EF10331-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s4<-s5#0:OK-t0
2023-01-19 14:38:41,817 [s4@group-6F261EF10331-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s4@group-6F261EF10331-LeaderElection6 PRE_VOTE round 0: result PASSED
2023-01-19 14:38:41,822 [s5@group-6F261EF10331-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:38:41,822 [s5@group-6F261EF10331-LeaderElection7-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s4
2023-01-19 14:38:41,822 [s5@group-6F261EF10331-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:38:41,826 [s4@group-6F261EF10331-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s4@group-6F261EF10331-LeaderElection6 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s3|rpc:localhost:33197|admin:localhost:44375|client:localhost:45435|dataStream:localhost:41415|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:46721|admin:localhost:45623|client:localhost:34765|dataStream:localhost:44007|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:35995|admin:localhost:46671|client:localhost:44767|dataStream:localhost:38827|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:41,834 [s4@group-6F261EF10331-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:38:41,834 [s4@group-6F261EF10331-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:38:41,851 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s5@group-6F261EF10331: receive requestVote(ELECTION, s4, group-6F261EF10331, 1, (t:0, i:0))
2023-01-19 14:38:41,851 [grpc-default-executor-9] INFO  impl.VoteContext (VoteContext.java:log(49)) - s5@group-6F261EF10331-CANDIDATE: accept ELECTION from s4: our priority 0 <= candidate's priority 0
2023-01-19 14:38:41,851 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s5@group-6F261EF10331: changes role from CANDIDATE to FOLLOWER at term 1 for candidate:s4
2023-01-19 14:38:41,851 [grpc-default-executor-9] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s5: shutdown s5@group-6F261EF10331-LeaderElection7
2023-01-19 14:38:41,851 [grpc-default-executor-9] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s5: start s5@group-6F261EF10331-FollowerState
2023-01-19 14:38:41,852 [s5@group-6F261EF10331-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:38:41,852 [s5@group-6F261EF10331-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:38:41,853 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s5@group-6F261EF10331 replies to ELECTION vote request: s4<-s5#0:OK-t1. Peer's state: s5@group-6F261EF10331:t1, leader=null, voted=s4, raftlog=Memoized:s5@group-6F261EF10331-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:33197|admin:localhost:44375|client:localhost:45435|dataStream:localhost:41415|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:46721|admin:localhost:45623|client:localhost:34765|dataStream:localhost:44007|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:35995|admin:localhost:46671|client:localhost:44767|dataStream:localhost:38827|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:41,864 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s5@group-6F261EF10331: receive requestVote(PRE_VOTE, s3, group-6F261EF10331, 0, (t:0, i:0))
2023-01-19 14:38:41,865 [grpc-default-executor-9] INFO  impl.VoteContext (VoteContext.java:log(49)) - s5@group-6F261EF10331-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2023-01-19 14:38:41,865 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s5@group-6F261EF10331 replies to PRE_VOTE vote request: s3<-s5#0:OK-t1. Peer's state: s5@group-6F261EF10331:t1, leader=null, voted=s4, raftlog=Memoized:s5@group-6F261EF10331-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:33197|admin:localhost:44375|client:localhost:45435|dataStream:localhost:41415|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:46721|admin:localhost:45623|client:localhost:34765|dataStream:localhost:44007|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:35995|admin:localhost:46671|client:localhost:44767|dataStream:localhost:38827|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:41,865 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s4@group-6F261EF10331: receive requestVote(PRE_VOTE, s3, group-6F261EF10331, 0, (t:0, i:0))
2023-01-19 14:38:41,866 [grpc-default-executor-9] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-6F261EF10331-CANDIDATE: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2023-01-19 14:38:41,866 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s4@group-6F261EF10331 replies to PRE_VOTE vote request: s3<-s4#0:OK-t1. Peer's state: s4@group-6F261EF10331:t1, leader=null, voted=s4, raftlog=Memoized:s4@group-6F261EF10331-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:33197|admin:localhost:44375|client:localhost:45435|dataStream:localhost:41415|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:46721|admin:localhost:45623|client:localhost:34765|dataStream:localhost:44007|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:35995|admin:localhost:46671|client:localhost:44767|dataStream:localhost:38827|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:41,874 [s3@group-6F261EF10331-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s3@group-6F261EF10331-LeaderElection5: PRE_VOTE DISCOVERED_A_NEW_TERM (term=1) received 1 response(s) and 0 exception(s):
2023-01-19 14:38:41,874 [s3@group-6F261EF10331-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s3<-s4#0:OK-t1
2023-01-19 14:38:41,874 [s3@group-6F261EF10331-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s3@group-6F261EF10331-LeaderElection5 PRE_VOTE round 0: result DISCOVERED_A_NEW_TERM (term=1)
2023-01-19 14:38:41,874 [s3@group-6F261EF10331-LeaderElection5] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s3@group-6F261EF10331: changes role from CANDIDATE to FOLLOWER at term 1 for DISCOVERED_A_NEW_TERM (term=1)
2023-01-19 14:38:41,874 [s3@group-6F261EF10331-LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s3: shutdown s3@group-6F261EF10331-LeaderElection5
2023-01-19 14:38:41,874 [s3@group-6F261EF10331-LeaderElection5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-6F261EF10331-FollowerState
2023-01-19 14:38:41,890 [s3@group-6F261EF10331-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:38:41,890 [s3@group-6F261EF10331-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:38:41,900 [s4@group-6F261EF10331-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s4@group-6F261EF10331-LeaderElection6: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-01-19 14:38:41,900 [s4@group-6F261EF10331-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s4<-s5#0:OK-t1
2023-01-19 14:38:41,900 [s4@group-6F261EF10331-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s4@group-6F261EF10331-LeaderElection6 ELECTION round 0: result PASSED
2023-01-19 14:38:41,900 [s4@group-6F261EF10331-LeaderElection6] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-6F261EF10331-LeaderElection6
2023-01-19 14:38:41,900 [s4@group-6F261EF10331-LeaderElection6] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s4@group-6F261EF10331: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-01-19 14:38:41,900 [s4@group-6F261EF10331-LeaderElection6] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s4@group-6F261EF10331: change Leader from null to s4 at term 1 for becomeLeader, leader elected after 497ms
2023-01-19 14:38:41,900 [s4@group-6F261EF10331-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-01-19 14:38:41,901 [s4@group-6F261EF10331-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2023-01-19 14:38:41,901 [s4@group-6F261EF10331-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 1MB (=1048576) (custom)
2023-01-19 14:38:41,901 [s4@group-6F261EF10331-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-01-19 14:38:41,901 [s4@group-6F261EF10331-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-01-19 14:38:41,901 [s4@group-6F261EF10331-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-01-19 14:38:41,901 [s4@group-6F261EF10331-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2023-01-19 14:38:41,901 [s4@group-6F261EF10331-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-01-19 14:38:41,902 [s4@group-6F261EF10331-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-01-19 14:38:41,902 [s4@group-6F261EF10331-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:38:41,902 [s4@group-6F261EF10331-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-01-19 14:38:41,902 [s4@group-6F261EF10331-LeaderElection6] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2023-01-19 14:38:41,902 [s4@group-6F261EF10331-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-01-19 14:38:41,902 [s4@group-6F261EF10331-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-01-19 14:38:41,903 [s4@group-6F261EF10331-LeaderElection6] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-01-19 14:38:41,903 [s4@group-6F261EF10331-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-01-19 14:38:41,903 [s4@group-6F261EF10331-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-01-19 14:38:41,903 [s4@group-6F261EF10331-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:38:41,903 [s4@group-6F261EF10331-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-01-19 14:38:41,904 [s4@group-6F261EF10331-LeaderElection6] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2023-01-19 14:38:41,904 [s4@group-6F261EF10331-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-01-19 14:38:41,904 [s4@group-6F261EF10331-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-01-19 14:38:41,904 [s4@group-6F261EF10331-LeaderElection6] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-01-19 14:38:41,904 [s4@group-6F261EF10331-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-01-19 14:38:41,904 [s4@group-6F261EF10331-LeaderElection6] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-6F261EF10331-LeaderStateImpl
2023-01-19 14:38:41,904 [s4@group-6F261EF10331-LeaderElection6] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s4@group-6F261EF10331-SegmentedRaftLogWorker: Starting segment from index:0
2023-01-19 14:38:41,913 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-D6B0BDFB0B9B->s3: receive RaftClientReply:client-D6B0BDFB0B9B->s3@group-6F261EF10331, cid=2, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-6F261EF10331 is not the leader, logIndex=0, commits[s3:c-1]
2023-01-19 14:38:41,915 [s4@group-6F261EF10331-LeaderElection6] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s4@group-6F261EF10331: set configuration 0: peers:[s3|rpc:localhost:33197|admin:localhost:44375|client:localhost:45435|dataStream:localhost:41415|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:46721|admin:localhost:45623|client:localhost:34765|dataStream:localhost:44007|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:35995|admin:localhost:46671|client:localhost:44767|dataStream:localhost:38827|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:41,932 [s4@group-6F261EF10331-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s4@group-6F261EF10331-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcb7acbb1a/s4/cb2c0ff7-9826-442b-948a-6f261ef10331/current/log_inprogress_0
2023-01-19 14:38:41,936 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s3@group-6F261EF10331: receive requestVote(ELECTION, s4, group-6F261EF10331, 1, (t:0, i:0))
2023-01-19 14:38:41,936 [grpc-default-executor-10] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-6F261EF10331-FOLLOWER: accept ELECTION from s4: our priority 0 <= candidate's priority 0
2023-01-19 14:38:41,936 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s3@group-6F261EF10331: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s4
2023-01-19 14:38:41,936 [grpc-default-executor-10] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-6F261EF10331-FollowerState
2023-01-19 14:38:41,936 [grpc-default-executor-10] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-6F261EF10331-FollowerState
2023-01-19 14:38:41,936 [s3@group-6F261EF10331-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s3@group-6F261EF10331-FollowerState was interrupted
2023-01-19 14:38:41,938 [grpc-default-executor-11] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s3@group-6F261EF10331: receive requestVote(PRE_VOTE, s4, group-6F261EF10331, 0, (t:0, i:0))
2023-01-19 14:38:41,939 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s3@group-6F261EF10331 replies to ELECTION vote request: s4<-s3#0:OK-t1. Peer's state: s3@group-6F261EF10331:t1, leader=null, voted=s4, raftlog=Memoized:s3@group-6F261EF10331-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:33197|admin:localhost:44375|client:localhost:45435|dataStream:localhost:41415|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:46721|admin:localhost:45623|client:localhost:34765|dataStream:localhost:44007|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:35995|admin:localhost:46671|client:localhost:44767|dataStream:localhost:38827|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:41,939 [grpc-default-executor-11] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-6F261EF10331-FOLLOWER: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2023-01-19 14:38:41,939 [grpc-default-executor-11] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s3@group-6F261EF10331 replies to PRE_VOTE vote request: s4<-s3#0:OK-t1. Peer's state: s3@group-6F261EF10331:t1, leader=null, voted=s4, raftlog=Memoized:s3@group-6F261EF10331-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:33197|admin:localhost:44375|client:localhost:45435|dataStream:localhost:41415|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:46721|admin:localhost:45623|client:localhost:34765|dataStream:localhost:44007|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:35995|admin:localhost:46671|client:localhost:44767|dataStream:localhost:38827|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:41,944 [s3-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s3@group-6F261EF10331: change Leader from null to s4 at term 1 for appendEntries, leader elected after 567ms
2023-01-19 14:38:41,966 [grpc-default-executor-11] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s4@group-6F261EF10331: receive requestVote(PRE_VOTE, s5, group-6F261EF10331, 0, (t:0, i:0))
2023-01-19 14:38:41,967 [grpc-default-executor-11] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-6F261EF10331-LEADER: reject PRE_VOTE from s5: this server is the leader and still has leadership
2023-01-19 14:38:41,967 [grpc-default-executor-11] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s4@group-6F261EF10331 replies to PRE_VOTE vote request: s5<-s4#0:FAIL-t1. Peer's state: s4@group-6F261EF10331:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-6F261EF10331-SegmentedRaftLog:OPENED:c-1, conf=0: peers:[s3|rpc:localhost:33197|admin:localhost:44375|client:localhost:45435|dataStream:localhost:41415|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:46721|admin:localhost:45623|client:localhost:34765|dataStream:localhost:44007|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:35995|admin:localhost:46671|client:localhost:44767|dataStream:localhost:38827|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:41,967 [s3-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s3@group-6F261EF10331: set configuration 0: peers:[s3|rpc:localhost:33197|admin:localhost:44375|client:localhost:45435|dataStream:localhost:41415|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:46721|admin:localhost:45623|client:localhost:34765|dataStream:localhost:44007|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:35995|admin:localhost:46671|client:localhost:44767|dataStream:localhost:38827|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:41,968 [s3-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s3@group-6F261EF10331-SegmentedRaftLogWorker: Starting segment from index:0
2023-01-19 14:38:41,976 [s5-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s5@group-6F261EF10331: change Leader from null to s4 at term 1 for appendEntries, leader elected after 544ms
2023-01-19 14:38:41,977 [s5@group-6F261EF10331-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s5@group-6F261EF10331-LeaderElection7: PRE_VOTE DISCOVERED_A_NEW_TERM (term=1) received 1 response(s) and 0 exception(s):
2023-01-19 14:38:41,977 [s5@group-6F261EF10331-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s5<-s4#0:FAIL-t1
2023-01-19 14:38:41,977 [s5@group-6F261EF10331-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s5@group-6F261EF10331-LeaderElection7 PRE_VOTE round 0: result DISCOVERED_A_NEW_TERM (term=1)
2023-01-19 14:38:41,980 [s3@group-6F261EF10331-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s3@group-6F261EF10331-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcb7acbb1a/s3/cb2c0ff7-9826-442b-948a-6f261ef10331/current/log_inprogress_0
2023-01-19 14:38:41,988 [s5-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s5@group-6F261EF10331: set configuration 0: peers:[s3|rpc:localhost:33197|admin:localhost:44375|client:localhost:45435|dataStream:localhost:41415|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:46721|admin:localhost:45623|client:localhost:34765|dataStream:localhost:44007|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:35995|admin:localhost:46671|client:localhost:44767|dataStream:localhost:38827|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:41,988 [s5-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s5@group-6F261EF10331-SegmentedRaftLogWorker: Starting segment from index:0
2023-01-19 14:38:42,006 [s5@group-6F261EF10331-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s5@group-6F261EF10331-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcb7acbb1a/s5/cb2c0ff7-9826-442b-948a-6f261ef10331/current/log_inprogress_0
2023-01-19 14:38:42,014 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s3@group-6F261EF10331: receive requestVote(PRE_VOTE, s5, group-6F261EF10331, 0, (t:0, i:0))
2023-01-19 14:38:42,015 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-6F261EF10331-FOLLOWER: reject PRE_VOTE from s5: this server is a follower and still has a valid leader s4
2023-01-19 14:38:42,015 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s3@group-6F261EF10331 replies to PRE_VOTE vote request: s5<-s3#0:FAIL-t1. Peer's state: s3@group-6F261EF10331:t1, leader=s4, voted=s4, raftlog=Memoized:s3@group-6F261EF10331-SegmentedRaftLog:OPENED:c-1, conf=0: peers:[s3|rpc:localhost:33197|admin:localhost:44375|client:localhost:45435|dataStream:localhost:41415|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:46721|admin:localhost:45623|client:localhost:34765|dataStream:localhost:44007|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:35995|admin:localhost:46671|client:localhost:44767|dataStream:localhost:38827|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:42,108 [timer3] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:38:42,108 [timer3] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:38:42,154 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-D6B0BDFB0B9B->s5: receive RaftClientReply:client-D6B0BDFB0B9B->s5@group-6F261EF10331, cid=2, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s5@group-6F261EF10331 is not the leader s4|rpc:localhost:46721|admin:localhost:45623|client:localhost:34765|dataStream:localhost:44007|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s5:c0, s3:c-1, s4:c0]
2023-01-19 14:38:42,158 [timer6] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:38:42,158 [timer6] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:38:42,222 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-D6B0BDFB0B9B->s4: receive RaftClientReply:client-D6B0BDFB0B9B->s4@group-6F261EF10331, cid=2, SUCCESS, logIndex=0, commits[s4:c0, s3:c0, s5:c0]
2023-01-19 14:38:42,230 [s4@group-6F261EF10331-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 3@client-D6B0BDFB0B9B
2023-01-19 14:38:42,232 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-D6B0BDFB0B9B->s4: receive RaftClientReply:client-D6B0BDFB0B9B->s4@group-6F261EF10331, cid=3, SUCCESS, logIndex=1, commits[s4:c1, s3:c0, s5:c0]
2023-01-19 14:38:42,234 [s5@group-6F261EF10331-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 3@client-D6B0BDFB0B9B
2023-01-19 14:38:42,239 [s3@group-6F261EF10331-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 3@client-D6B0BDFB0B9B
2023-01-19 14:38:42,241 [Time-limited test] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:block(135)) - block FLUSH_STATE_MACHINE_DATA
2023-01-19 14:38:42,242 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:38:42,242 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:38:42,246 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:38:42,246 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:38:42,257 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:38:42,258 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:38:42,281 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:38:42,285 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:38:42,290 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:38:42,298 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:38:42,311 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:38:42,314 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:38:42,327 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:38:42,328 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:38:42,340 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:38:42,346 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:38:42,349 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:38:42,361 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:38:42,365 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:38:42,369 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:38:42,372 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:38:42,383 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:38:42,619 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-DD27F786214B->s4: receive RaftClientReply:client-DD27F786214B->s4@group-6F261EF10331, cid=6, SUCCESS, logIndex=2, commits[s4:c2, s3:c2, s5:c2]
2023-01-19 14:38:42,663 [grpc-default-executor-10] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-6DADD5174B7D->s4: receive RaftClientReply:client-6DADD5174B7D->s4@group-6F261EF10331, cid=4, SUCCESS, logIndex=2, commits[s4:c2, s3:c2, s5:c2]
2023-01-19 14:38:42,673 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-A6D70C62975B->s4: receive RaftClientReply:client-A6D70C62975B->s4@group-6F261EF10331, cid=8, SUCCESS, logIndex=2, commits[s4:c2, s3:c2, s5:c2]
2023-01-19 14:38:42,676 [grpc-default-executor-10] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-61FF790A77CD->s4: receive RaftClientReply:client-61FF790A77CD->s4@group-6F261EF10331, cid=10, SUCCESS, logIndex=2, commits[s4:c2, s3:c2, s5:c2]
2023-01-19 14:38:42,680 [grpc-default-executor-10] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-54FD1084AF8B->s4: receive RaftClientReply:client-54FD1084AF8B->s4@group-6F261EF10331, cid=14, SUCCESS, logIndex=2, commits[s4:c2, s3:c2, s5:c2]
2023-01-19 14:38:42,700 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-13B1DB204B6B->s4: receive RaftClientReply:client-13B1DB204B6B->s4@group-6F261EF10331, cid=12, SUCCESS, logIndex=2, commits[s4:c2, s3:c2, s5:c2]
2023-01-19 14:38:42,714 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-3B119EDDAFB3->s4: receive RaftClientReply:client-3B119EDDAFB3->s4@group-6F261EF10331, cid=24, SUCCESS, logIndex=2, commits[s4:c2, s3:c2, s5:c2]
2023-01-19 14:38:42,726 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-53B537DE4AE7->s4: receive RaftClientReply:client-53B537DE4AE7->s4@group-6F261EF10331, cid=16, SUCCESS, logIndex=2, commits[s4:c2, s3:c2, s5:c2]
2023-01-19 14:38:42,727 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-188A68B4F345->s4: receive RaftClientReply:client-188A68B4F345->s4@group-6F261EF10331, cid=20, SUCCESS, logIndex=2, commits[s4:c2, s3:c2, s5:c2]
2023-01-19 14:38:42,730 [grpc-default-executor-10] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-93D329C2D1ED->s4: receive RaftClientReply:client-93D329C2D1ED->s4@group-6F261EF10331, cid=22, SUCCESS, logIndex=2, commits[s4:c2, s3:c2, s5:c2]
2023-01-19 14:38:42,744 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-FDA71CCA32E4->s4: receive RaftClientReply:client-FDA71CCA32E4->s4@group-6F261EF10331, cid=18, SUCCESS, logIndex=2, commits[s4:c2, s3:c2, s5:c2]
2023-01-19 14:38:42,795 [grpc-default-executor-10] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=message 6
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s4@group-6F261EF10331: Failed to acquire a pending write request for RaftClientRequest:client-FDA71CCA32E4->s4@group-6F261EF10331, cid=19, seq=2, RW, Message:6d6573736167652036
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:392)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:487)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:468)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:432)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:465)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s4@group-6F261EF10331: Failed to acquire a pending write request for RaftClientRequest:client-FDA71CCA32E4->s4@group-6F261EF10331, cid=19, seq=2, RW, Message:6d6573736167652036
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:771)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:882)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:820)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:820)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	... 3 more
	Suppressed: java.lang.NullPointerException
		at org.apache.ratis.server.impl.RaftServerImpl.lambda$submitClientRequestAsync$15(RaftServerImpl.java:890)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883)
		at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251)
		at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:889)
		... 7 more
2023-01-19 14:38:42,991 [Time-limited test] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:unblock(142)) - unblock FLUSH_STATE_MACHINE_DATA
2023-01-19 14:38:42,994 [s4@group-6F261EF10331-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 3, message 0 -> (t:1, i:3), STATEMACHINELOGENTRY, 7@client-DD27F786214B
2023-01-19 14:38:42,996 [s4@group-6F261EF10331-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 4, message 2 -> (t:1, i:4), STATEMACHINELOGENTRY, 11@client-61FF790A77CD
2023-01-19 14:38:42,996 [s5@group-6F261EF10331-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 3, message 0 -> (t:1, i:3), STATEMACHINELOGENTRY, 7@client-DD27F786214B
2023-01-19 14:38:42,996 [s4@group-6F261EF10331-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 5, message 1 -> (t:1, i:5), STATEMACHINELOGENTRY, 9@client-A6D70C62975B
2023-01-19 14:38:42,997 [s4@group-6F261EF10331-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 6, message 4 -> (t:1, i:6), STATEMACHINELOGENTRY, 15@client-54FD1084AF8B
2023-01-19 14:38:42,997 [s4@group-6F261EF10331-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 7, 2nd Messag... -> (t:1, i:7), STATEMACHINELOGENTRY, 5@client-6DADD5174B7D
2023-01-19 14:38:42,998 [s4@group-6F261EF10331-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 8, message 3 -> (t:1, i:8), STATEMACHINELOGENTRY, 13@client-13B1DB204B6B
2023-01-19 14:38:42,998 [s3@group-6F261EF10331-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 3, message 0 -> (t:1, i:3), STATEMACHINELOGENTRY, 7@client-DD27F786214B
2023-01-19 14:38:43,000 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-DD27F786214B->s4: receive RaftClientReply:client-DD27F786214B->s4@group-6F261EF10331, cid=7, SUCCESS, logIndex=3, commits[s4:c3, s3:c2, s5:c2]
2023-01-19 14:38:43,000 [s4@group-6F261EF10331-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 9, message 9 -> (t:1, i:9), STATEMACHINELOGENTRY, 25@client-3B119EDDAFB3
2023-01-19 14:38:43,001 [s3@group-6F261EF10331-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 4, message 2 -> (t:1, i:4), STATEMACHINELOGENTRY, 11@client-61FF790A77CD
2023-01-19 14:38:43,002 [s3@group-6F261EF10331-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 5, message 1 -> (t:1, i:5), STATEMACHINELOGENTRY, 9@client-A6D70C62975B
2023-01-19 14:38:43,002 [s3@group-6F261EF10331-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 6, message 4 -> (t:1, i:6), STATEMACHINELOGENTRY, 15@client-54FD1084AF8B
2023-01-19 14:38:43,002 [s3@group-6F261EF10331-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 7, 2nd Messag... -> (t:1, i:7), STATEMACHINELOGENTRY, 5@client-6DADD5174B7D
2023-01-19 14:38:43,003 [s3@group-6F261EF10331-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 8, message 3 -> (t:1, i:8), STATEMACHINELOGENTRY, 13@client-13B1DB204B6B
2023-01-19 14:38:43,003 [s3@group-6F261EF10331-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 9, message 9 -> (t:1, i:9), STATEMACHINELOGENTRY, 25@client-3B119EDDAFB3
2023-01-19 14:38:43,003 [s3@group-6F261EF10331-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 10, message 7 -> (t:1, i:10), STATEMACHINELOGENTRY, 21@client-188A68B4F345
2023-01-19 14:38:43,004 [s3@group-6F261EF10331-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 11, message 8 -> (t:1, i:11), STATEMACHINELOGENTRY, 23@client-93D329C2D1ED
2023-01-19 14:38:43,004 [s3@group-6F261EF10331-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 12, message 5 -> (t:1, i:12), STATEMACHINELOGENTRY, 17@client-53B537DE4AE7
2023-01-19 14:38:43,006 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-13B1DB204B6B->s4: receive RaftClientReply:client-13B1DB204B6B->s4@group-6F261EF10331, cid=13, SUCCESS, logIndex=8, commits[s4:c12, s3:c3, s5:c2]
2023-01-19 14:38:43,006 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-3B119EDDAFB3->s4: receive RaftClientReply:client-3B119EDDAFB3->s4@group-6F261EF10331, cid=25, SUCCESS, logIndex=9, commits[s4:c12, s3:c3, s5:c2]
2023-01-19 14:38:43,006 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-A6D70C62975B->s4: receive RaftClientReply:client-A6D70C62975B->s4@group-6F261EF10331, cid=9, SUCCESS, logIndex=5, commits[s4:c12, s3:c2, s5:c2]
2023-01-19 14:38:43,007 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-6DADD5174B7D->s4: receive RaftClientReply:client-6DADD5174B7D->s4@group-6F261EF10331, cid=5, SUCCESS, logIndex=7, commits[s4:c12, s3:c2, s5:c2]
2023-01-19 14:38:43,009 [s5@group-6F261EF10331-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 4, message 2 -> (t:1, i:4), STATEMACHINELOGENTRY, 11@client-61FF790A77CD
2023-01-19 14:38:43,009 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-61FF790A77CD->s4: receive RaftClientReply:client-61FF790A77CD->s4@group-6F261EF10331, cid=11, SUCCESS, logIndex=4, commits[s4:c12, s3:c2, s5:c2]
2023-01-19 14:38:43,009 [s5@group-6F261EF10331-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 5, message 1 -> (t:1, i:5), STATEMACHINELOGENTRY, 9@client-A6D70C62975B
2023-01-19 14:38:43,010 [s5@group-6F261EF10331-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 6, message 4 -> (t:1, i:6), STATEMACHINELOGENTRY, 15@client-54FD1084AF8B
2023-01-19 14:38:43,010 [s5@group-6F261EF10331-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 7, 2nd Messag... -> (t:1, i:7), STATEMACHINELOGENTRY, 5@client-6DADD5174B7D
2023-01-19 14:38:43,010 [s5@group-6F261EF10331-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 8, message 3 -> (t:1, i:8), STATEMACHINELOGENTRY, 13@client-13B1DB204B6B
2023-01-19 14:38:43,011 [s5@group-6F261EF10331-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 9, message 9 -> (t:1, i:9), STATEMACHINELOGENTRY, 25@client-3B119EDDAFB3
2023-01-19 14:38:43,011 [s5@group-6F261EF10331-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 10, message 7 -> (t:1, i:10), STATEMACHINELOGENTRY, 21@client-188A68B4F345
2023-01-19 14:38:43,011 [s5@group-6F261EF10331-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 11, message 8 -> (t:1, i:11), STATEMACHINELOGENTRY, 23@client-93D329C2D1ED
2023-01-19 14:38:43,011 [s5@group-6F261EF10331-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 12, message 5 -> (t:1, i:12), STATEMACHINELOGENTRY, 17@client-53B537DE4AE7
2023-01-19 14:38:43,014 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-54FD1084AF8B->s4: receive RaftClientReply:client-54FD1084AF8B->s4@group-6F261EF10331, cid=15, SUCCESS, logIndex=6, commits[s4:c12, s3:c2, s5:c2]
2023-01-19 14:38:43,014 [s4@group-6F261EF10331-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 10, message 7 -> (t:1, i:10), STATEMACHINELOGENTRY, 21@client-188A68B4F345
2023-01-19 14:38:43,015 [s4@group-6F261EF10331-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 11, message 8 -> (t:1, i:11), STATEMACHINELOGENTRY, 23@client-93D329C2D1ED
2023-01-19 14:38:43,016 [grpc-default-executor-10] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-93D329C2D1ED->s4: receive RaftClientReply:client-93D329C2D1ED->s4@group-6F261EF10331, cid=23, SUCCESS, logIndex=11, commits[s4:c14, s3:c12, s5:c3]
2023-01-19 14:38:43,017 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-188A68B4F345->s4: receive RaftClientReply:client-188A68B4F345->s4@group-6F261EF10331, cid=21, SUCCESS, logIndex=10, commits[s4:c14, s3:c12, s5:c2]
2023-01-19 14:38:43,016 [s4@group-6F261EF10331-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 12, message 5 -> (t:1, i:12), STATEMACHINELOGENTRY, 17@client-53B537DE4AE7
2023-01-19 14:38:43,018 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-53B537DE4AE7->s4: receive RaftClientReply:client-53B537DE4AE7->s4@group-6F261EF10331, cid=17, SUCCESS, logIndex=12, commits[s4:c14, s3:c12, s5:c12]
2023-01-19 14:38:43,041 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:38:43,041 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:38:43,091 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-CFD26049242F->s4: receive RaftClientReply:client-CFD26049242F->s4@group-6F261EF10331, cid=26, SUCCESS, logIndex=14, commits[s4:c14, s3:c12, s5:c12]
2023-01-19 14:38:43,137 [grpc-default-executor-9] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=1025kb (=1049600)-message
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s4@group-6F261EF10331: Failed to acquire a pending write request for RaftClientRequest:client-CFD26049242F->s4@group-6F261EF10331, cid=27, seq=2, RW, Message:fe05039a5f5838b5af81...(size=1049600)
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:392)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:487)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s4@group-6F261EF10331: Failed to acquire a pending write request for RaftClientRequest:client-CFD26049242F->s4@group-6F261EF10331, cid=27, seq=2, RW, Message:fe05039a5f5838b5af81...(size=1049600)
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:771)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:882)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:820)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:820)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	... 3 more
	Suppressed: java.lang.NullPointerException
		at org.apache.ratis.server.impl.RaftServerImpl.lambda$submitClientRequestAsync$15(RaftServerImpl.java:890)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883)
		at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251)
		at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:889)
		... 7 more
2023-01-19 14:38:43,412 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-01-19 14:38:43,412 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-01-19 14:38:43,412 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2023-01-19 14:38:43,412 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-01-19 14:38:43,413 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-01-19 14:38:43,413 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-6F261EF10331:t1, leader=s4, voted=s4, raftlog=Memoized:s3@group-6F261EF10331-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s3|rpc:localhost:33197|admin:localhost:44375|client:localhost:45435|dataStream:localhost:41415|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:46721|admin:localhost:45623|client:localhost:34765|dataStream:localhost:44007|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:35995|admin:localhost:46671|client:localhost:44767|dataStream:localhost:38827|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING    LEADER s4@group-6F261EF10331:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-6F261EF10331-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s3|rpc:localhost:33197|admin:localhost:44375|client:localhost:45435|dataStream:localhost:41415|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:46721|admin:localhost:45623|client:localhost:34765|dataStream:localhost:44007|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:35995|admin:localhost:46671|client:localhost:44767|dataStream:localhost:38827|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s5:  RUNNING  FOLLOWER s5@group-6F261EF10331:t1, leader=s4, voted=s4, raftlog=Memoized:s5@group-6F261EF10331-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s3|rpc:localhost:33197|admin:localhost:44375|client:localhost:45435|dataStream:localhost:41415|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:46721|admin:localhost:45623|client:localhost:34765|dataStream:localhost:44007|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:35995|admin:localhost:46671|client:localhost:44767|dataStream:localhost:38827|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-01-19 14:38:43,416 [MiniRaftCluster-4] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s3: close
2023-01-19 14:38:43,417 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s3@group-6F261EF10331: shutdown
2023-01-19 14:38:43,418 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-6F261EF10331,id=s3
2023-01-19 14:38:43,418 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-6F261EF10331-FollowerState
2023-01-19 14:38:43,418 [s3-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s3@group-6F261EF10331-StateMachineUpdater: set stopIndex = 14
2023-01-19 14:38:43,418 [s3@group-6F261EF10331-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s3@group-6F261EF10331-FollowerState was interrupted
2023-01-19 14:38:43,419 [s3-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s3@group-6F261EF10331: applyIndex: 14
2023-01-19 14:38:43,423 [s3@group-6F261EF10331-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s3@group-6F261EF10331-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2023-01-19 14:38:43,423 [MiniRaftCluster-4] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-01-19 14:38:43,424 [MiniRaftCluster-6] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s5: close
2023-01-19 14:38:43,425 [MiniRaftCluster-5] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s4: close
2023-01-19 14:38:43,425 [MiniRaftCluster-4] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s4 Close channels
2023-01-19 14:38:43,426 [s5-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s5@group-6F261EF10331: shutdown
2023-01-19 14:38:43,426 [s5-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-6F261EF10331,id=s5
2023-01-19 14:38:43,426 [s5-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s5: shutdown s5@group-6F261EF10331-FollowerState
2023-01-19 14:38:43,426 [s5-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s5@group-6F261EF10331-StateMachineUpdater: set stopIndex = 14
2023-01-19 14:38:43,426 [s5@group-6F261EF10331-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s5@group-6F261EF10331-FollowerState was interrupted
2023-01-19 14:38:43,426 [s5-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s5@group-6F261EF10331: applyIndex: 14
2023-01-19 14:38:43,426 [s5@group-6F261EF10331-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s5@group-6F261EF10331-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2023-01-19 14:38:43,427 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s3@group-6F261EF10331-SegmentedRaftLogWorker close()
2023-01-19 14:38:43,427 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s4@group-6F261EF10331: shutdown
2023-01-19 14:38:43,428 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-6F261EF10331,id=s4
2023-01-19 14:38:43,428 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s4: shutdown s4@group-6F261EF10331-LeaderStateImpl
2023-01-19 14:38:43,428 [s4-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s4@group-6F261EF10331-PendingRequests: sendNotLeaderResponses
2023-01-19 14:38:43,429 [s4@group-6F261EF10331->s3-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s4@group-6F261EF10331->s3-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2023-01-19 14:38:43,429 [s4@group-6F261EF10331->s5-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s4@group-6F261EF10331->s5-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2023-01-19 14:38:43,428 [s5-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s5@group-6F261EF10331-SegmentedRaftLogWorker close()
2023-01-19 14:38:43,427 [MiniRaftCluster-5] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-01-19 14:38:43,436 [MiniRaftCluster-4] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s5 Close channels
2023-01-19 14:38:43,435 [grpc-default-executor-10] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s3: Completed APPEND_ENTRIES, lastRequest: s4->s3#52-t1,previous=(t:1, i:13),leaderCommit=12,initializing? true,entries: size=1, first=(t:1, i:14), METADATAENTRY(c:12)
2023-01-19 14:38:43,434 [grpc-default-executor-9] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s5: Completed APPEND_ENTRIES, lastRequest: s4->s5#54-t1,previous=(t:1, i:12),leaderCommit=12,initializing? true,entries: size=2, first=(t:1, i:13), METADATAENTRY(c:3)
2023-01-19 14:38:43,432 [s4-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s4@group-6F261EF10331-StateMachineUpdater: set stopIndex = 14
2023-01-19 14:38:43,439 [s4-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s4@group-6F261EF10331: applyIndex: 14
2023-01-19 14:38:43,439 [s4@group-6F261EF10331-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s4@group-6F261EF10331-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2023-01-19 14:38:43,443 [MiniRaftCluster-6] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s5: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-01-19 14:38:43,443 [grpc-default-executor-10] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s4@group-6F261EF10331->s3-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-01-19 14:38:43,443 [grpc-default-executor-10] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s4@group-6F261EF10331->s3: nextIndex: updateUnconditionally 15 -> 14
2023-01-19 14:38:43,450 [MiniRaftCluster-5] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s3 Close channels
2023-01-19 14:38:43,457 [MiniRaftCluster-6] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s3 Close channels
2023-01-19 14:38:43,456 [grpc-default-executor-10] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s4@group-6F261EF10331->s5-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-01-19 14:38:43,457 [grpc-default-executor-10] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s4@group-6F261EF10331->s5: nextIndex: updateUnconditionally 15 -> 14
2023-01-19 14:38:43,455 [MiniRaftCluster-4] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-01-19 14:38:43,458 [MiniRaftCluster-4] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s3: shutdown server GrpcServerProtocolService now
2023-01-19 14:38:43,455 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s4@group-6F261EF10331-SegmentedRaftLogWorker close()
2023-01-19 14:38:43,461 [MiniRaftCluster-4] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s3: shutdown server GrpcServerProtocolService successfully
2023-01-19 14:38:43,461 [MiniRaftCluster-4] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-01-19 14:38:43,462 [MiniRaftCluster-4] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-01-19 14:38:43,462 [JvmPauseMonitor3] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s3: Stopped
2023-01-19 14:38:43,467 [MiniRaftCluster-5] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s5 Close channels
2023-01-19 14:38:43,468 [MiniRaftCluster-5] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-01-19 14:38:43,469 [MiniRaftCluster-5] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s4: shutdown server GrpcServerProtocolService now
2023-01-19 14:38:43,469 [MiniRaftCluster-6] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s4 Close channels
2023-01-19 14:38:43,473 [MiniRaftCluster-5] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s4: shutdown server GrpcServerProtocolService successfully
2023-01-19 14:38:43,473 [MiniRaftCluster-5] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-01-19 14:38:43,473 [MiniRaftCluster-6] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s5: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-01-19 14:38:43,473 [MiniRaftCluster-6] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s5: shutdown server GrpcServerProtocolService now
2023-01-19 14:38:43,474 [MiniRaftCluster-5] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-01-19 14:38:43,474 [MiniRaftCluster-6] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s5: shutdown server GrpcServerProtocolService successfully
2023-01-19 14:38:43,474 [MiniRaftCluster-6] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s5: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-01-19 14:38:43,475 [MiniRaftCluster-6] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s5: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-01-19 14:38:43,476 [JvmPauseMonitor5] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s5: Stopped
2023-01-19 14:38:43,476 [JvmPauseMonitor4] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s4: Stopped
2023-01-19 14:38:43,477 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2023-01-19 14:38:43,477 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-01-19 14:38:43,477 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-01-19 14:38:43,477 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2023-01-19 14:38:43,482 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2023-01-19 14:38:43,483 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-AA3EE62D5B06:[s0|rpc:localhost:36807|admin:localhost:34939|client:localhost:43437|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43267|admin:localhost:35275|client:localhost:34175|dataStream:localhost:33411|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45229|admin:localhost:46117|client:localhost:43803|dataStream:localhost:45187|priority:0|startupRole:FOLLOWER]
2023-01-19 14:38:43,483 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-01-19 14:38:43,483 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-01-19 14:38:43,483 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2023-01-19 14:38:43,483 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-01-19 14:38:43,483 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-01-19 14:38:43,483 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-01-19 14:38:43,483 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-AA3EE62D5B06:[s0|rpc:localhost:36807|admin:localhost:34939|client:localhost:43437|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43267|admin:localhost:35275|client:localhost:34175|dataStream:localhost:33411|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45229|admin:localhost:46117|client:localhost:43803|dataStream:localhost:45187|priority:0|startupRole:FOLLOWER], format? true
2023-01-19 14:38:43,484 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/f0947725/MiniRaftClusterWithGrpcf538c58/s0
2023-01-19 14:38:43,484 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/f0947725/MiniRaftClusterWithGrpcf538c58/s0 does not exist.
2023-01-19 14:38:43,484 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/f0947725/MiniRaftClusterWithGrpcf538c58/s0
2023-01-19 14:38:43,484 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-01-19 14:38:43,485 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:38:43,485 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 34939 (custom)
2023-01-19 14:38:43,485 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:38:43,485 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 43437 (custom)
2023-01-19 14:38:43,485 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-01-19 14:38:43,485 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 36807 (custom)
2023-01-19 14:38:43,485 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:38:43,486 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:38:43,486 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:38:43,486 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-01-19 14:38:43,486 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-01-19 14:38:43,487 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-01-19 14:38:43,487 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-01-19 14:38:43,488 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-01-19 14:38:43,489 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-01-19 14:38:43,489 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-01-19 14:38:43,489 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-01-19 14:38:43,489 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-01-19 14:38:43,489 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcf538c58/s0] (custom)
2023-01-19 14:38:43,490 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-AA3EE62D5B06:[s0|rpc:localhost:36807|admin:localhost:34939|client:localhost:43437|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43267|admin:localhost:35275|client:localhost:34175|dataStream:localhost:33411|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45229|admin:localhost:46117|client:localhost:43803|dataStream:localhost:45187|priority:0|startupRole:FOLLOWER] returns group-AA3EE62D5B06:java.util.concurrent.CompletableFuture@6ec950b0[Not completed]
2023-01-19 14:38:43,490 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-AA3EE62D5B06:[s0|rpc:localhost:36807|admin:localhost:34939|client:localhost:43437|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43267|admin:localhost:35275|client:localhost:34175|dataStream:localhost:33411|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45229|admin:localhost:46117|client:localhost:43803|dataStream:localhost:45187|priority:0|startupRole:FOLLOWER], format? true
2023-01-19 14:38:43,490 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/f0947725/MiniRaftClusterWithGrpcf538c58/s1
2023-01-19 14:38:43,490 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/f0947725/MiniRaftClusterWithGrpcf538c58/s1 does not exist.
2023-01-19 14:38:43,490 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/f0947725/MiniRaftClusterWithGrpcf538c58/s1
2023-01-19 14:38:43,490 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-01-19 14:38:43,491 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:38:43,491 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 35275 (custom)
2023-01-19 14:38:43,491 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:38:43,491 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 34175 (custom)
2023-01-19 14:38:43,491 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-01-19 14:38:43,491 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 43267 (custom)
2023-01-19 14:38:43,491 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:38:43,491 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:38:43,491 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:38:43,492 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-01-19 14:38:43,492 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-01-19 14:38:43,492 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-01-19 14:38:43,492 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-01-19 14:38:43,493 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-01-19 14:38:43,493 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-01-19 14:38:43,493 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-01-19 14:38:43,493 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-01-19 14:38:43,494 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-01-19 14:38:43,494 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcf538c58/s1] (custom)
2023-01-19 14:38:43,494 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:38:43,494 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-01-19 14:38:43,494 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-01-19 14:38:43,495 [pool-9-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-AA3EE62D5B06:[s0|rpc:localhost:36807|admin:localhost:34939|client:localhost:43437|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43267|admin:localhost:35275|client:localhost:34175|dataStream:localhost:33411|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45229|admin:localhost:46117|client:localhost:43803|dataStream:localhost:45187|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-01-19 14:38:43,495 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-01-19 14:38:43,495 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-01-19 14:38:43,495 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-01-19 14:38:43,495 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-01-19 14:38:43,495 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-01-19 14:38:43,495 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-01-19 14:38:43,495 [pool-9-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-AA3EE62D5B06: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:36807|admin:localhost:34939|client:localhost:43437|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43267|admin:localhost:35275|client:localhost:34175|dataStream:localhost:33411|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45229|admin:localhost:46117|client:localhost:43803|dataStream:localhost:45187|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-01-19 14:38:43,495 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-01-19 14:38:43,495 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-01-19 14:38:43,495 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-01-19 14:38:43,495 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-01-19 14:38:43,496 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-01-19 14:38:43,497 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-01-19 14:38:43,497 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-01-19 14:38:43,497 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-01-19 14:38:43,497 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-01-19 14:38:43,498 [pool-9-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-01-19 14:38:43,502 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-AA3EE62D5B06:[s0|rpc:localhost:36807|admin:localhost:34939|client:localhost:43437|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43267|admin:localhost:35275|client:localhost:34175|dataStream:localhost:33411|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45229|admin:localhost:46117|client:localhost:43803|dataStream:localhost:45187|priority:0|startupRole:FOLLOWER] returns group-AA3EE62D5B06:java.util.concurrent.CompletableFuture@2a8e26ce[Not completed]
2023-01-19 14:38:43,502 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-AA3EE62D5B06:[s0|rpc:localhost:36807|admin:localhost:34939|client:localhost:43437|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43267|admin:localhost:35275|client:localhost:34175|dataStream:localhost:33411|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45229|admin:localhost:46117|client:localhost:43803|dataStream:localhost:45187|priority:0|startupRole:FOLLOWER], format? true
2023-01-19 14:38:43,502 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/f0947725/MiniRaftClusterWithGrpcf538c58/s2
2023-01-19 14:38:43,502 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/f0947725/MiniRaftClusterWithGrpcf538c58/s2 does not exist.
2023-01-19 14:38:43,502 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/f0947725/MiniRaftClusterWithGrpcf538c58/s2
2023-01-19 14:38:43,502 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-01-19 14:38:43,503 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:38:43,503 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 46117 (custom)
2023-01-19 14:38:43,503 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:38:43,503 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 43803 (custom)
2023-01-19 14:38:43,503 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-01-19 14:38:43,503 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 45229 (custom)
2023-01-19 14:38:43,503 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:38:43,503 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:38:43,503 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:38:43,503 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-01-19 14:38:43,504 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-01-19 14:38:43,504 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-01-19 14:38:43,504 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-01-19 14:38:43,505 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-01-19 14:38:43,505 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-01-19 14:38:43,505 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-01-19 14:38:43,505 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-01-19 14:38:43,506 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-01-19 14:38:43,506 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcf538c58/s2] (custom)
2023-01-19 14:38:43,506 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:38:43,506 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-01-19 14:38:43,506 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-01-19 14:38:43,507 [pool-10-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-AA3EE62D5B06:[s0|rpc:localhost:36807|admin:localhost:34939|client:localhost:43437|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43267|admin:localhost:35275|client:localhost:34175|dataStream:localhost:33411|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45229|admin:localhost:46117|client:localhost:43803|dataStream:localhost:45187|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-01-19 14:38:43,507 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-01-19 14:38:43,507 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-01-19 14:38:43,507 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-01-19 14:38:43,507 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-01-19 14:38:43,507 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-01-19 14:38:43,507 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-01-19 14:38:43,507 [pool-10-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-AA3EE62D5B06: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:36807|admin:localhost:34939|client:localhost:43437|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43267|admin:localhost:35275|client:localhost:34175|dataStream:localhost:33411|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45229|admin:localhost:46117|client:localhost:43803|dataStream:localhost:45187|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-01-19 14:38:43,507 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-01-19 14:38:43,507 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-01-19 14:38:43,507 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-01-19 14:38:43,507 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-01-19 14:38:43,508 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-01-19 14:38:43,509 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-01-19 14:38:43,509 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-01-19 14:38:43,509 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-01-19 14:38:43,509 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-01-19 14:38:43,509 [pool-10-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-01-19 14:38:43,513 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-AA3EE62D5B06:[s0|rpc:localhost:36807|admin:localhost:34939|client:localhost:43437|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43267|admin:localhost:35275|client:localhost:34175|dataStream:localhost:33411|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45229|admin:localhost:46117|client:localhost:43803|dataStream:localhost:45187|priority:0|startupRole:FOLLOWER] returns group-AA3EE62D5B06:java.util.concurrent.CompletableFuture@6ae96eec[Not completed]
2023-01-19 14:38:43,513 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-01-19 14:38:43,513 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-01-19 14:38:43,513 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcf538c58/s0] (custom)
2023-01-19 14:38:43,514 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcf538c58/s0/38787abb-e9a4-4fe0-89a5-aa3ee62d5b06 does not exist. Creating ...
2023-01-19 14:38:43,514 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcf538c58/s0/38787abb-e9a4-4fe0-89a5-aa3ee62d5b06
2023-01-19 14:38:43,515 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:38:43,515 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-01-19 14:38:43,515 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-01-19 14:38:43,515 [pool-11-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-AA3EE62D5B06:[s0|rpc:localhost:36807|admin:localhost:34939|client:localhost:43437|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43267|admin:localhost:35275|client:localhost:34175|dataStream:localhost:33411|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45229|admin:localhost:46117|client:localhost:43803|dataStream:localhost:45187|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-01-19 14:38:43,516 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-01-19 14:38:43,516 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-01-19 14:38:43,516 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcf538c58/s0/38787abb-e9a4-4fe0-89a5-aa3ee62d5b06/in_use.lock acquired by nodename 4721@fv-az82-597
2023-01-19 14:38:43,516 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcf538c58/s0/38787abb-e9a4-4fe0-89a5-aa3ee62d5b06/current
2023-01-19 14:38:43,516 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcf538c58/s0/38787abb-e9a4-4fe0-89a5-aa3ee62d5b06/sm
2023-01-19 14:38:43,517 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcf538c58/s0/38787abb-e9a4-4fe0-89a5-aa3ee62d5b06 has been successfully formatted.
2023-01-19 14:38:43,518 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-01-19 14:38:43,518 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-01-19 14:38:43,518 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-01-19 14:38:43,518 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-01-19 14:38:43,518 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:38:43,519 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-01-19 14:38:43,519 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-01-19 14:38:43,519 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:38:43,520 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-01-19 14:38:43,520 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-01-19 14:38:43,520 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s0@group-AA3EE62D5B06-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcf538c58/s0/38787abb-e9a4-4fe0-89a5-aa3ee62d5b06
2023-01-19 14:38:43,524 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-01-19 14:38:43,524 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-01-19 14:38:43,524 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:38:43,524 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-01-19 14:38:43,524 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-01-19 14:38:43,524 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-01-19 14:38:43,525 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-01-19 14:38:43,525 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-01-19 14:38:43,525 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-01-19 14:38:43,525 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:38:43,527 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-01-19 14:38:43,527 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-01-19 14:38:43,527 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-01-19 14:38:43,527 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-01-19 14:38:43,527 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-01-19 14:38:43,528 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-01-19 14:38:43,528 [pool-11-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-AA3EE62D5B06: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:36807|admin:localhost:34939|client:localhost:43437|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43267|admin:localhost:35275|client:localhost:34175|dataStream:localhost:33411|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45229|admin:localhost:46117|client:localhost:43803|dataStream:localhost:45187|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-01-19 14:38:43,528 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-01-19 14:38:43,528 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-AA3EE62D5B06-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-01-19 14:38:43,528 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-AA3EE62D5B06-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-01-19 14:38:43,529 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-01-19 14:38:43,529 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-01-19 14:38:43,529 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-01-19 14:38:43,529 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-01-19 14:38:43,529 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-01-19 14:38:43,531 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-01-19 14:38:43,531 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-01-19 14:38:43,531 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-01-19 14:38:43,532 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-01-19 14:38:43,532 [pool-11-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-01-19 14:38:43,533 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-AA3EE62D5B06: start as a follower, conf=-1: peers:[s0|rpc:localhost:36807|admin:localhost:34939|client:localhost:43437|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43267|admin:localhost:35275|client:localhost:34175|dataStream:localhost:33411|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45229|admin:localhost:46117|client:localhost:43803|dataStream:localhost:45187|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:43,533 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-AA3EE62D5B06: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-01-19 14:38:43,533 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-AA3EE62D5B06-FollowerState
2023-01-19 14:38:43,534 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-AA3EE62D5B06,id=s0
2023-01-19 14:38:43,534 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-01-19 14:38:43,534 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-01-19 14:38:43,534 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-01-19 14:38:43,534 [s0@group-AA3EE62D5B06-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:38:43,534 [s0@group-AA3EE62D5B06-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:38:43,535 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2023-01-19 14:38:43,536 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 43437
2023-01-19 14:38:43,543 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 36807
2023-01-19 14:38:43,544 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 34939
2023-01-19 14:38:43,544 [JvmPauseMonitor6] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2023-01-19 14:38:43,544 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-01-19 14:38:43,545 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-01-19 14:38:43,545 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcf538c58/s1] (custom)
2023-01-19 14:38:43,545 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcf538c58/s1/38787abb-e9a4-4fe0-89a5-aa3ee62d5b06 does not exist. Creating ...
2023-01-19 14:38:43,546 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcf538c58/s1/38787abb-e9a4-4fe0-89a5-aa3ee62d5b06
2023-01-19 14:38:43,547 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcf538c58/s1/38787abb-e9a4-4fe0-89a5-aa3ee62d5b06/in_use.lock acquired by nodename 4721@fv-az82-597
2023-01-19 14:38:43,547 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcf538c58/s1/38787abb-e9a4-4fe0-89a5-aa3ee62d5b06/current
2023-01-19 14:38:43,547 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcf538c58/s1/38787abb-e9a4-4fe0-89a5-aa3ee62d5b06/sm
2023-01-19 14:38:43,548 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcf538c58/s1/38787abb-e9a4-4fe0-89a5-aa3ee62d5b06 has been successfully formatted.
2023-01-19 14:38:43,549 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-01-19 14:38:43,549 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-01-19 14:38:43,549 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-01-19 14:38:43,549 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-01-19 14:38:43,549 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:38:43,549 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-01-19 14:38:43,550 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-01-19 14:38:43,550 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:38:43,551 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-01-19 14:38:43,551 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-01-19 14:38:43,551 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s1@group-AA3EE62D5B06-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcf538c58/s1/38787abb-e9a4-4fe0-89a5-aa3ee62d5b06
2023-01-19 14:38:43,551 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-01-19 14:38:43,551 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-01-19 14:38:43,551 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:38:43,551 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-01-19 14:38:43,552 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-01-19 14:38:43,552 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-01-19 14:38:43,552 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-01-19 14:38:43,552 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-01-19 14:38:43,553 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-01-19 14:38:43,553 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:38:43,555 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-01-19 14:38:43,555 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-01-19 14:38:43,555 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-01-19 14:38:43,555 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-AA3EE62D5B06-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-01-19 14:38:43,555 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-AA3EE62D5B06-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-01-19 14:38:43,555 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s1@group-AA3EE62D5B06: start as a follower, conf=-1: peers:[s0|rpc:localhost:36807|admin:localhost:34939|client:localhost:43437|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43267|admin:localhost:35275|client:localhost:34175|dataStream:localhost:33411|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45229|admin:localhost:46117|client:localhost:43803|dataStream:localhost:45187|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:43,556 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-AA3EE62D5B06: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-01-19 14:38:43,556 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-AA3EE62D5B06-FollowerState
2023-01-19 14:38:43,556 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-AA3EE62D5B06,id=s1
2023-01-19 14:38:43,556 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-01-19 14:38:43,556 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-01-19 14:38:43,556 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-01-19 14:38:43,557 [s1@group-AA3EE62D5B06-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:38:43,557 [s1@group-AA3EE62D5B06-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:38:43,557 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s1: start RPC server
2023-01-19 14:38:43,558 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 34175
2023-01-19 14:38:43,561 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 43267
2023-01-19 14:38:43,561 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 35275
2023-01-19 14:38:43,565 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-01-19 14:38:43,565 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-01-19 14:38:43,565 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcf538c58/s2] (custom)
2023-01-19 14:38:43,566 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcf538c58/s2/38787abb-e9a4-4fe0-89a5-aa3ee62d5b06 does not exist. Creating ...
2023-01-19 14:38:43,566 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcf538c58/s2/38787abb-e9a4-4fe0-89a5-aa3ee62d5b06
2023-01-19 14:38:43,566 [JvmPauseMonitor7] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2023-01-19 14:38:43,567 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcf538c58/s2/38787abb-e9a4-4fe0-89a5-aa3ee62d5b06/in_use.lock acquired by nodename 4721@fv-az82-597
2023-01-19 14:38:43,567 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcf538c58/s2/38787abb-e9a4-4fe0-89a5-aa3ee62d5b06/current
2023-01-19 14:38:43,567 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcf538c58/s2/38787abb-e9a4-4fe0-89a5-aa3ee62d5b06/sm
2023-01-19 14:38:43,569 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcf538c58/s2/38787abb-e9a4-4fe0-89a5-aa3ee62d5b06 has been successfully formatted.
2023-01-19 14:38:43,569 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-01-19 14:38:43,569 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-01-19 14:38:43,569 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-01-19 14:38:43,569 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-01-19 14:38:43,569 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:38:43,570 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-01-19 14:38:43,570 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-01-19 14:38:43,571 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:38:43,571 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-01-19 14:38:43,571 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-01-19 14:38:43,571 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s2@group-AA3EE62D5B06-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcf538c58/s2/38787abb-e9a4-4fe0-89a5-aa3ee62d5b06
2023-01-19 14:38:43,571 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-01-19 14:38:43,571 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-01-19 14:38:43,571 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:38:43,572 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-01-19 14:38:43,572 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-01-19 14:38:43,572 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-01-19 14:38:43,572 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-01-19 14:38:43,573 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-01-19 14:38:43,573 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-01-19 14:38:43,573 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:38:43,575 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-01-19 14:38:43,575 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-01-19 14:38:43,575 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-01-19 14:38:43,575 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-AA3EE62D5B06-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-01-19 14:38:43,575 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-AA3EE62D5B06-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-01-19 14:38:43,576 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s2@group-AA3EE62D5B06: start as a follower, conf=-1: peers:[s0|rpc:localhost:36807|admin:localhost:34939|client:localhost:43437|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43267|admin:localhost:35275|client:localhost:34175|dataStream:localhost:33411|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45229|admin:localhost:46117|client:localhost:43803|dataStream:localhost:45187|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:43,576 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-AA3EE62D5B06: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-01-19 14:38:43,576 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-AA3EE62D5B06-FollowerState
2023-01-19 14:38:43,577 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-AA3EE62D5B06,id=s2
2023-01-19 14:38:43,577 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-01-19 14:38:43,577 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-01-19 14:38:43,578 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-01-19 14:38:43,578 [s2@group-AA3EE62D5B06-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:38:43,578 [s2@group-AA3EE62D5B06-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:38:43,578 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s2: start RPC server
2023-01-19 14:38:43,579 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 43803
2023-01-19 14:38:43,580 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 45229
2023-01-19 14:38:43,581 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 46117
2023-01-19 14:38:43,585 [JvmPauseMonitor8] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2023-01-19 14:38:43,586 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:38:43,586 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:38:43,608 [grpc-default-executor-10] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-BA54C35ABF22->s0: receive RaftClientReply:client-BA54C35ABF22->s0@group-AA3EE62D5B06, cid=28, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-AA3EE62D5B06 is not the leader, logIndex=0, commits[s0:c-1]
2023-01-19 14:38:43,714 [timer7] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:38:43,714 [timer7] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:38:43,727 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-BA54C35ABF22->s2: receive RaftClientReply:client-BA54C35ABF22->s2@group-AA3EE62D5B06, cid=28, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s2@group-AA3EE62D5B06 is not the leader, logIndex=0, commits[s2:c-1]
2023-01-19 14:38:43,748 [s0@group-AA3EE62D5B06-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-AA3EE62D5B06-FollowerState: change to CANDIDATE, lastRpcElapsedTime:214501084ns, electionTimeout:213ms
2023-01-19 14:38:43,748 [s0@group-AA3EE62D5B06-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-AA3EE62D5B06-FollowerState
2023-01-19 14:38:43,748 [s0@group-AA3EE62D5B06-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-AA3EE62D5B06: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-01-19 14:38:43,748 [s0@group-AA3EE62D5B06-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-01-19 14:38:43,748 [s0@group-AA3EE62D5B06-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-AA3EE62D5B06-LeaderElection8
2023-01-19 14:38:43,749 [s0@group-AA3EE62D5B06-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-AA3EE62D5B06-LeaderElection8 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:36807|admin:localhost:34939|client:localhost:43437|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43267|admin:localhost:35275|client:localhost:34175|dataStream:localhost:33411|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45229|admin:localhost:46117|client:localhost:43803|dataStream:localhost:45187|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:43,753 [s0@group-AA3EE62D5B06-LeaderElection8-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2023-01-19 14:38:43,753 [s0@group-AA3EE62D5B06-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:38:43,753 [s0@group-AA3EE62D5B06-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:38:43,753 [s0@group-AA3EE62D5B06-LeaderElection8-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2023-01-19 14:38:43,762 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s2@group-AA3EE62D5B06: receive requestVote(PRE_VOTE, s0, group-AA3EE62D5B06, 0, (t:0, i:0))
2023-01-19 14:38:43,762 [grpc-default-executor-9] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-AA3EE62D5B06-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-01-19 14:38:43,763 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s2@group-AA3EE62D5B06 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-AA3EE62D5B06:t0, leader=null, voted=, raftlog=Memoized:s2@group-AA3EE62D5B06-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36807|admin:localhost:34939|client:localhost:43437|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43267|admin:localhost:35275|client:localhost:34175|dataStream:localhost:33411|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45229|admin:localhost:46117|client:localhost:43803|dataStream:localhost:45187|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:43,765 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s1@group-AA3EE62D5B06: receive requestVote(PRE_VOTE, s0, group-AA3EE62D5B06, 0, (t:0, i:0))
2023-01-19 14:38:43,765 [grpc-default-executor-10] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-AA3EE62D5B06-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-01-19 14:38:43,765 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s1@group-AA3EE62D5B06 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-AA3EE62D5B06:t0, leader=null, voted=, raftlog=Memoized:s1@group-AA3EE62D5B06-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36807|admin:localhost:34939|client:localhost:43437|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43267|admin:localhost:35275|client:localhost:34175|dataStream:localhost:33411|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45229|admin:localhost:46117|client:localhost:43803|dataStream:localhost:45187|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:43,767 [s0@group-AA3EE62D5B06-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-AA3EE62D5B06-LeaderElection8: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-01-19 14:38:43,767 [s0@group-AA3EE62D5B06-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t0
2023-01-19 14:38:43,767 [s0@group-AA3EE62D5B06-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-AA3EE62D5B06-LeaderElection8 PRE_VOTE round 0: result PASSED
2023-01-19 14:38:43,769 [s0@group-AA3EE62D5B06-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-AA3EE62D5B06-LeaderElection8 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:36807|admin:localhost:34939|client:localhost:43437|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43267|admin:localhost:35275|client:localhost:34175|dataStream:localhost:33411|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45229|admin:localhost:46117|client:localhost:43803|dataStream:localhost:45187|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:43,774 [s2@group-AA3EE62D5B06-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:38:43,774 [s2@group-AA3EE62D5B06-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:38:43,774 [s0@group-AA3EE62D5B06-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:38:43,775 [s0@group-AA3EE62D5B06-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:38:43,776 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s2@group-AA3EE62D5B06: receive requestVote(ELECTION, s0, group-AA3EE62D5B06, 1, (t:0, i:0))
2023-01-19 14:38:43,776 [grpc-default-executor-9] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-AA3EE62D5B06-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2023-01-19 14:38:43,776 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-AA3EE62D5B06: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2023-01-19 14:38:43,776 [grpc-default-executor-9] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-AA3EE62D5B06-FollowerState
2023-01-19 14:38:43,776 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s1@group-AA3EE62D5B06: receive requestVote(ELECTION, s0, group-AA3EE62D5B06, 1, (t:0, i:0))
2023-01-19 14:38:43,777 [s2@group-AA3EE62D5B06-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-AA3EE62D5B06-FollowerState was interrupted
2023-01-19 14:38:43,777 [grpc-default-executor-9] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-AA3EE62D5B06-FollowerState
2023-01-19 14:38:43,777 [grpc-default-executor-10] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-AA3EE62D5B06-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2023-01-19 14:38:43,777 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-AA3EE62D5B06: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2023-01-19 14:38:43,777 [grpc-default-executor-10] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-AA3EE62D5B06-FollowerState
2023-01-19 14:38:43,777 [s1@group-AA3EE62D5B06-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-AA3EE62D5B06-FollowerState was interrupted
2023-01-19 14:38:43,778 [grpc-default-executor-10] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-AA3EE62D5B06-FollowerState
2023-01-19 14:38:43,779 [s1@group-AA3EE62D5B06-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:38:43,779 [s1@group-AA3EE62D5B06-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:38:43,782 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s1@group-AA3EE62D5B06 replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-AA3EE62D5B06:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-AA3EE62D5B06-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36807|admin:localhost:34939|client:localhost:43437|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43267|admin:localhost:35275|client:localhost:34175|dataStream:localhost:33411|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45229|admin:localhost:46117|client:localhost:43803|dataStream:localhost:45187|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:43,784 [s2@group-AA3EE62D5B06-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:38:43,784 [s2@group-AA3EE62D5B06-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:38:43,784 [s0@group-AA3EE62D5B06-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-AA3EE62D5B06-LeaderElection8: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-01-19 14:38:43,784 [s0@group-AA3EE62D5B06-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t1
2023-01-19 14:38:43,784 [s0@group-AA3EE62D5B06-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-AA3EE62D5B06-LeaderElection8 ELECTION round 0: result PASSED
2023-01-19 14:38:43,784 [s0@group-AA3EE62D5B06-LeaderElection8] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-AA3EE62D5B06-LeaderElection8
2023-01-19 14:38:43,784 [s0@group-AA3EE62D5B06-LeaderElection8] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-AA3EE62D5B06: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-01-19 14:38:43,784 [s0@group-AA3EE62D5B06-LeaderElection8] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-AA3EE62D5B06: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 289ms
2023-01-19 14:38:43,785 [s0@group-AA3EE62D5B06-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-01-19 14:38:43,785 [s0@group-AA3EE62D5B06-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2023-01-19 14:38:43,785 [s0@group-AA3EE62D5B06-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 1MB (=1048576) (custom)
2023-01-19 14:38:43,785 [s0@group-AA3EE62D5B06-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-01-19 14:38:43,785 [s0@group-AA3EE62D5B06-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-01-19 14:38:43,785 [s0@group-AA3EE62D5B06-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-01-19 14:38:43,785 [s0@group-AA3EE62D5B06-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2023-01-19 14:38:43,786 [s0@group-AA3EE62D5B06-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-01-19 14:38:43,786 [s0@group-AA3EE62D5B06-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-01-19 14:38:43,786 [s0@group-AA3EE62D5B06-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:38:43,786 [s0@group-AA3EE62D5B06-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-01-19 14:38:43,786 [s0@group-AA3EE62D5B06-LeaderElection8] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2023-01-19 14:38:43,786 [s0@group-AA3EE62D5B06-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-01-19 14:38:43,786 [s0@group-AA3EE62D5B06-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-01-19 14:38:43,786 [s0@group-AA3EE62D5B06-LeaderElection8] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-01-19 14:38:43,786 [s0@group-AA3EE62D5B06-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-01-19 14:38:43,787 [s0@group-AA3EE62D5B06-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-01-19 14:38:43,787 [s0@group-AA3EE62D5B06-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:38:43,787 [s0@group-AA3EE62D5B06-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-01-19 14:38:43,787 [s0@group-AA3EE62D5B06-LeaderElection8] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2023-01-19 14:38:43,787 [s0@group-AA3EE62D5B06-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-01-19 14:38:43,787 [s0@group-AA3EE62D5B06-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-01-19 14:38:43,787 [s0@group-AA3EE62D5B06-LeaderElection8] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-01-19 14:38:43,787 [s0@group-AA3EE62D5B06-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-01-19 14:38:43,788 [s0@group-AA3EE62D5B06-LeaderElection8] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-AA3EE62D5B06-LeaderStateImpl
2023-01-19 14:38:43,788 [s0@group-AA3EE62D5B06-LeaderElection8] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-AA3EE62D5B06-SegmentedRaftLogWorker: Starting segment from index:0
2023-01-19 14:38:43,792 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s2@group-AA3EE62D5B06 replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-AA3EE62D5B06:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-AA3EE62D5B06-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36807|admin:localhost:34939|client:localhost:43437|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43267|admin:localhost:35275|client:localhost:34175|dataStream:localhost:33411|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45229|admin:localhost:46117|client:localhost:43803|dataStream:localhost:45187|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:43,797 [s0@group-AA3EE62D5B06-LeaderElection8] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-AA3EE62D5B06: set configuration 0: peers:[s0|rpc:localhost:36807|admin:localhost:34939|client:localhost:43437|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43267|admin:localhost:35275|client:localhost:34175|dataStream:localhost:33411|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45229|admin:localhost:46117|client:localhost:43803|dataStream:localhost:45187|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:43,799 [s0@group-AA3EE62D5B06-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-AA3EE62D5B06-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcf538c58/s0/38787abb-e9a4-4fe0-89a5-aa3ee62d5b06/current/log_inprogress_0
2023-01-19 14:38:43,804 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-AA3EE62D5B06: change Leader from null to s0 at term 1 for appendEntries, leader elected after 296ms
2023-01-19 14:38:43,812 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-AA3EE62D5B06: change Leader from null to s0 at term 1 for appendEntries, leader elected after 283ms
2023-01-19 14:38:43,815 [s1-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s1@group-AA3EE62D5B06: set configuration 0: peers:[s0|rpc:localhost:36807|admin:localhost:34939|client:localhost:43437|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43267|admin:localhost:35275|client:localhost:34175|dataStream:localhost:33411|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45229|admin:localhost:46117|client:localhost:43803|dataStream:localhost:45187|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:43,815 [s1-server-thread3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s1@group-AA3EE62D5B06-SegmentedRaftLogWorker: Starting segment from index:0
2023-01-19 14:38:43,818 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s2@group-AA3EE62D5B06: set configuration 0: peers:[s0|rpc:localhost:36807|admin:localhost:34939|client:localhost:43437|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43267|admin:localhost:35275|client:localhost:34175|dataStream:localhost:33411|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45229|admin:localhost:46117|client:localhost:43803|dataStream:localhost:45187|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:43,819 [s2-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s2@group-AA3EE62D5B06-SegmentedRaftLogWorker: Starting segment from index:0
2023-01-19 14:38:43,833 [timer6] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:38:43,833 [timer6] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:38:43,833 [s1@group-AA3EE62D5B06-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-AA3EE62D5B06-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcf538c58/s1/38787abb-e9a4-4fe0-89a5-aa3ee62d5b06/current/log_inprogress_0
2023-01-19 14:38:43,833 [s2@group-AA3EE62D5B06-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-AA3EE62D5B06-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcf538c58/s2/38787abb-e9a4-4fe0-89a5-aa3ee62d5b06/current/log_inprogress_0
2023-01-19 14:38:43,848 [grpc-default-executor-10] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-BA54C35ABF22->s1: receive RaftClientReply:client-BA54C35ABF22->s1@group-AA3EE62D5B06, cid=28, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s1@group-AA3EE62D5B06 is not the leader s0|rpc:localhost:36807|admin:localhost:34939|client:localhost:43437|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s1:c-1, s0:c-1, s2:c-1]
2023-01-19 14:38:43,854 [timer2] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:38:43,854 [timer2] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:38:43,861 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-BA54C35ABF22->s0: receive RaftClientReply:client-BA54C35ABF22->s0@group-AA3EE62D5B06, cid=28, SUCCESS, logIndex=0, commits[s0:c0, s1:c-1, s2:c-1]
2023-01-19 14:38:43,869 [s0@group-AA3EE62D5B06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 29@client-BA54C35ABF22
2023-01-19 14:38:43,872 [s1@group-AA3EE62D5B06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 29@client-BA54C35ABF22
2023-01-19 14:38:43,875 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-BA54C35ABF22->s0: receive RaftClientReply:client-BA54C35ABF22->s0@group-AA3EE62D5B06, cid=29, SUCCESS, logIndex=1, commits[s0:c1, s1:c0, s2:c-1]
2023-01-19 14:38:43,875 [s2@group-AA3EE62D5B06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 29@client-BA54C35ABF22
2023-01-19 14:38:43,881 [Time-limited test] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:block(135)) - block FLUSH_STATE_MACHINE_DATA
2023-01-19 14:38:43,881 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:38:43,881 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:38:43,883 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:38:43,884 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:38:43,889 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:38:43,890 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:38:43,895 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:38:43,897 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:38:43,906 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-9D9F2E45175F->s0: receive RaftClientReply:client-9D9F2E45175F->s0@group-AA3EE62D5B06, cid=30, SUCCESS, logIndex=2, commits[s0:c2, s1:c1, s2:c1]
2023-01-19 14:38:43,915 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:38:43,917 [grpc-default-executor-10] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-6E97F3C496B6->s0: receive RaftClientReply:client-6E97F3C496B6->s0@group-AA3EE62D5B06, cid=34, SUCCESS, logIndex=2, commits[s0:c2, s1:c1, s2:c1]
2023-01-19 14:38:43,922 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:38:43,923 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-3E21617511DF->s0: receive RaftClientReply:client-3E21617511DF->s0@group-AA3EE62D5B06, cid=32, SUCCESS, logIndex=2, commits[s0:c2, s1:c1, s2:c1]
2023-01-19 14:38:43,935 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-12F0F9DC94AE->s0: receive RaftClientReply:client-12F0F9DC94AE->s0@group-AA3EE62D5B06, cid=36, SUCCESS, logIndex=2, commits[s0:c2, s1:c1, s2:c1]
2023-01-19 14:38:43,937 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:38:43,939 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:38:43,948 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:38:43,948 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:38:43,954 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:38:43,955 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:38:43,959 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-DAC51A2517EC->s0: receive RaftClientReply:client-DAC51A2517EC->s0@group-AA3EE62D5B06, cid=38, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2023-01-19 14:38:43,963 [grpc-default-executor-10] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-3B9E406813B4->s0: receive RaftClientReply:client-3B9E406813B4->s0@group-AA3EE62D5B06, cid=40, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2023-01-19 14:38:43,963 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-187D270AB60C->s0: receive RaftClientReply:client-187D270AB60C->s0@group-AA3EE62D5B06, cid=42, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2023-01-19 14:38:43,972 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:38:43,972 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:38:43,976 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-03B584C187B6->s0: receive RaftClientReply:client-03B584C187B6->s0@group-AA3EE62D5B06, cid=44, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2023-01-19 14:38:43,981 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:38:43,982 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:38:43,988 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-A3A60DFEDB89->s0: receive RaftClientReply:client-A3A60DFEDB89->s0@group-AA3EE62D5B06, cid=46, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2023-01-19 14:38:43,990 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:38:43,991 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:38:44,000 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-B33D71568FF8->s0: receive RaftClientReply:client-B33D71568FF8->s0@group-AA3EE62D5B06, cid=48, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2023-01-19 14:38:44,010 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-C84B8FBF8A51->s0: receive RaftClientReply:client-C84B8FBF8A51->s0@group-AA3EE62D5B06, cid=50, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2023-01-19 14:38:44,018 [grpc-default-executor-2] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=message 9
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-AA3EE62D5B06: Failed to acquire a pending write request for RaftClientRequest:client-C84B8FBF8A51->s0@group-AA3EE62D5B06, cid=51, seq=2, RW, Message:6d6573736167652039
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:392)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:487)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-AA3EE62D5B06: Failed to acquire a pending write request for RaftClientRequest:client-C84B8FBF8A51->s0@group-AA3EE62D5B06, cid=51, seq=2, RW, Message:6d6573736167652039
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:771)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:882)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:820)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:820)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	... 3 more
	Suppressed: java.lang.NullPointerException
		at org.apache.ratis.server.impl.RaftServerImpl.lambda$submitClientRequestAsync$15(RaftServerImpl.java:890)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883)
		at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251)
		at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:889)
		... 7 more
2023-01-19 14:38:44,299 [Time-limited test] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:unblock(142)) - unblock FLUSH_STATE_MACHINE_DATA
2023-01-19 14:38:44,303 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:38:44,303 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:38:44,305 [s0@group-AA3EE62D5B06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, 31@client-9D9F2E45175F
2023-01-19 14:38:44,305 [s0@group-AA3EE62D5B06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 4, message 2 -> (t:1, i:4), STATEMACHINELOGENTRY, 37@client-12F0F9DC94AE
2023-01-19 14:38:44,306 [s0@group-AA3EE62D5B06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 5, message 1 -> (t:1, i:5), STATEMACHINELOGENTRY, 35@client-6E97F3C496B6
2023-01-19 14:38:44,306 [s0@group-AA3EE62D5B06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 6, message 0 -> (t:1, i:6), STATEMACHINELOGENTRY, 33@client-3E21617511DF
2023-01-19 14:38:44,307 [s0@group-AA3EE62D5B06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 7, message 5 -> (t:1, i:7), STATEMACHINELOGENTRY, 43@client-187D270AB60C
2023-01-19 14:38:44,307 [s0@group-AA3EE62D5B06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 8, message 4 -> (t:1, i:8), STATEMACHINELOGENTRY, 41@client-3B9E406813B4
2023-01-19 14:38:44,307 [s0@group-AA3EE62D5B06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 9, message 3 -> (t:1, i:9), STATEMACHINELOGENTRY, 39@client-DAC51A2517EC
2023-01-19 14:38:44,307 [s0@group-AA3EE62D5B06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 10, message 6 -> (t:1, i:10), STATEMACHINELOGENTRY, 45@client-03B584C187B6
2023-01-19 14:38:44,308 [s0@group-AA3EE62D5B06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 11, message 7 -> (t:1, i:11), STATEMACHINELOGENTRY, 47@client-A3A60DFEDB89
2023-01-19 14:38:44,308 [s0@group-AA3EE62D5B06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 12, message 8 -> (t:1, i:12), STATEMACHINELOGENTRY, 49@client-B33D71568FF8
2023-01-19 14:38:44,310 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-6E97F3C496B6->s0: receive RaftClientReply:client-6E97F3C496B6->s0@group-AA3EE62D5B06, cid=35, SUCCESS, logIndex=5, commits[s0:c12, s1:c2, s2:c2]
2023-01-19 14:38:44,310 [grpc-default-executor-10] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-3E21617511DF->s0: receive RaftClientReply:client-3E21617511DF->s0@group-AA3EE62D5B06, cid=33, SUCCESS, logIndex=6, commits[s0:c12, s1:c2, s2:c2]
2023-01-19 14:38:44,310 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-187D270AB60C->s0: receive RaftClientReply:client-187D270AB60C->s0@group-AA3EE62D5B06, cid=43, SUCCESS, logIndex=7, commits[s0:c12, s1:c2, s2:c2]
2023-01-19 14:38:44,312 [grpc-default-executor-11] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-B33D71568FF8->s0: receive RaftClientReply:client-B33D71568FF8->s0@group-AA3EE62D5B06, cid=49, SUCCESS, logIndex=12, commits[s0:c12, s1:c2, s2:c2]
2023-01-19 14:38:44,312 [grpc-default-executor-10] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-3B9E406813B4->s0: receive RaftClientReply:client-3B9E406813B4->s0@group-AA3EE62D5B06, cid=41, SUCCESS, logIndex=8, commits[s0:c12, s1:c2, s2:c2]
2023-01-19 14:38:44,312 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-12F0F9DC94AE->s0: receive RaftClientReply:client-12F0F9DC94AE->s0@group-AA3EE62D5B06, cid=37, SUCCESS, logIndex=4, commits[s0:c12, s1:c2, s2:c2]
2023-01-19 14:38:44,313 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-A3A60DFEDB89->s0: receive RaftClientReply:client-A3A60DFEDB89->s0@group-AA3EE62D5B06, cid=47, SUCCESS, logIndex=11, commits[s0:c12, s1:c2, s2:c2]
2023-01-19 14:38:44,314 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-03B584C187B6->s0: receive RaftClientReply:client-03B584C187B6->s0@group-AA3EE62D5B06, cid=45, SUCCESS, logIndex=10, commits[s0:c12, s1:c2, s2:c2]
2023-01-19 14:38:44,315 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-DAC51A2517EC->s0: receive RaftClientReply:client-DAC51A2517EC->s0@group-AA3EE62D5B06, cid=39, SUCCESS, logIndex=9, commits[s0:c12, s1:c2, s2:c2]
2023-01-19 14:38:44,318 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-9D9F2E45175F->s0: receive RaftClientReply:client-9D9F2E45175F->s0@group-AA3EE62D5B06, cid=31, SUCCESS, logIndex=3, commits[s0:c12, s1:c2, s2:c2]
2023-01-19 14:38:44,321 [s1@group-AA3EE62D5B06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, 31@client-9D9F2E45175F
2023-01-19 14:38:44,322 [s1@group-AA3EE62D5B06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 4, message 2 -> (t:1, i:4), STATEMACHINELOGENTRY, 37@client-12F0F9DC94AE
2023-01-19 14:38:44,322 [s1@group-AA3EE62D5B06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 5, message 1 -> (t:1, i:5), STATEMACHINELOGENTRY, 35@client-6E97F3C496B6
2023-01-19 14:38:44,322 [s1@group-AA3EE62D5B06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 6, message 0 -> (t:1, i:6), STATEMACHINELOGENTRY, 33@client-3E21617511DF
2023-01-19 14:38:44,323 [s1@group-AA3EE62D5B06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 7, message 5 -> (t:1, i:7), STATEMACHINELOGENTRY, 43@client-187D270AB60C
2023-01-19 14:38:44,323 [s1@group-AA3EE62D5B06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 8, message 4 -> (t:1, i:8), STATEMACHINELOGENTRY, 41@client-3B9E406813B4
2023-01-19 14:38:44,323 [s1@group-AA3EE62D5B06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 9, message 3 -> (t:1, i:9), STATEMACHINELOGENTRY, 39@client-DAC51A2517EC
2023-01-19 14:38:44,323 [s1@group-AA3EE62D5B06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 10, message 6 -> (t:1, i:10), STATEMACHINELOGENTRY, 45@client-03B584C187B6
2023-01-19 14:38:44,324 [s1@group-AA3EE62D5B06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 11, message 7 -> (t:1, i:11), STATEMACHINELOGENTRY, 47@client-A3A60DFEDB89
2023-01-19 14:38:44,324 [s1@group-AA3EE62D5B06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 12, message 8 -> (t:1, i:12), STATEMACHINELOGENTRY, 49@client-B33D71568FF8
2023-01-19 14:38:44,325 [s2@group-AA3EE62D5B06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, 31@client-9D9F2E45175F
2023-01-19 14:38:44,325 [s2@group-AA3EE62D5B06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 4, message 2 -> (t:1, i:4), STATEMACHINELOGENTRY, 37@client-12F0F9DC94AE
2023-01-19 14:38:44,327 [s2@group-AA3EE62D5B06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 5, message 1 -> (t:1, i:5), STATEMACHINELOGENTRY, 35@client-6E97F3C496B6
2023-01-19 14:38:44,328 [s2@group-AA3EE62D5B06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 6, message 0 -> (t:1, i:6), STATEMACHINELOGENTRY, 33@client-3E21617511DF
2023-01-19 14:38:44,328 [s2@group-AA3EE62D5B06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 7, message 5 -> (t:1, i:7), STATEMACHINELOGENTRY, 43@client-187D270AB60C
2023-01-19 14:38:44,328 [s2@group-AA3EE62D5B06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 8, message 4 -> (t:1, i:8), STATEMACHINELOGENTRY, 41@client-3B9E406813B4
2023-01-19 14:38:44,328 [s2@group-AA3EE62D5B06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 9, message 3 -> (t:1, i:9), STATEMACHINELOGENTRY, 39@client-DAC51A2517EC
2023-01-19 14:38:44,329 [s2@group-AA3EE62D5B06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 10, message 6 -> (t:1, i:10), STATEMACHINELOGENTRY, 45@client-03B584C187B6
2023-01-19 14:38:44,329 [s2@group-AA3EE62D5B06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 11, message 7 -> (t:1, i:11), STATEMACHINELOGENTRY, 47@client-A3A60DFEDB89
2023-01-19 14:38:44,329 [s2@group-AA3EE62D5B06-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 12, message 8 -> (t:1, i:12), STATEMACHINELOGENTRY, 49@client-B33D71568FF8
2023-01-19 14:38:44,337 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-B1E61FC63838->s0: receive RaftClientReply:client-B1E61FC63838->s0@group-AA3EE62D5B06, cid=52, SUCCESS, logIndex=14, commits[s0:c14, s1:c12, s2:c12]
2023-01-19 14:38:44,358 [grpc-default-executor-9] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=1025kb (=1049600)-message
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-AA3EE62D5B06: Failed to acquire a pending write request for RaftClientRequest:client-B1E61FC63838->s0@group-AA3EE62D5B06, cid=53, seq=2, RW, Message:174696230edc0e4be626...(size=1049600)
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:392)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:487)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-AA3EE62D5B06: Failed to acquire a pending write request for RaftClientRequest:client-B1E61FC63838->s0@group-AA3EE62D5B06, cid=53, seq=2, RW, Message:174696230edc0e4be626...(size=1049600)
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:771)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:882)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:820)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:820)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	... 3 more
	Suppressed: java.lang.NullPointerException
		at org.apache.ratis.server.impl.RaftServerImpl.lambda$submitClientRequestAsync$15(RaftServerImpl.java:890)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883)
		at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251)
		at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:889)
		... 7 more
2023-01-19 14:38:44,667 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-01-19 14:38:44,667 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-01-19 14:38:44,667 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2023-01-19 14:38:44,667 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-01-19 14:38:44,668 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-01-19 14:38:44,668 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-AA3EE62D5B06:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-AA3EE62D5B06-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s0|rpc:localhost:36807|admin:localhost:34939|client:localhost:43437|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43267|admin:localhost:35275|client:localhost:34175|dataStream:localhost:33411|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45229|admin:localhost:46117|client:localhost:43803|dataStream:localhost:45187|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-AA3EE62D5B06:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-AA3EE62D5B06-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s0|rpc:localhost:36807|admin:localhost:34939|client:localhost:43437|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43267|admin:localhost:35275|client:localhost:34175|dataStream:localhost:33411|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45229|admin:localhost:46117|client:localhost:43803|dataStream:localhost:45187|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-AA3EE62D5B06:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-AA3EE62D5B06-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s0|rpc:localhost:36807|admin:localhost:34939|client:localhost:43437|dataStream:localhost:45157|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43267|admin:localhost:35275|client:localhost:34175|dataStream:localhost:33411|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:45229|admin:localhost:46117|client:localhost:43803|dataStream:localhost:45187|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-01-19 14:38:44,668 [MiniRaftCluster-7] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2023-01-19 14:38:44,669 [MiniRaftCluster-9] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s2: close
2023-01-19 14:38:44,668 [MiniRaftCluster-8] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s1: close
2023-01-19 14:38:44,674 [MiniRaftCluster-7] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-01-19 14:38:44,674 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-AA3EE62D5B06: shutdown
2023-01-19 14:38:44,677 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-AA3EE62D5B06,id=s0
2023-01-19 14:38:44,677 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-AA3EE62D5B06-LeaderStateImpl
2023-01-19 14:38:44,677 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s2@group-AA3EE62D5B06: shutdown
2023-01-19 14:38:44,677 [s0@group-AA3EE62D5B06->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s0@group-AA3EE62D5B06->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2023-01-19 14:38:44,677 [s0@group-AA3EE62D5B06->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s0@group-AA3EE62D5B06->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2023-01-19 14:38:44,678 [grpc-default-executor-9] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#30-t1,previous=(t:1, i:12),leaderCommit=12,initializing? true,entries: size=2, first=(t:1, i:13), METADATAENTRY(c:3)
2023-01-19 14:38:44,678 [grpc-default-executor-9] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s2: Completed APPEND_ENTRIES, lastRequest: s0->s2#29-t1,previous=(t:1, i:12),leaderCommit=12,initializing? true,entries: size=2, first=(t:1, i:13), METADATAENTRY(c:3)
2023-01-19 14:38:44,678 [grpc-default-executor-6] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s0@group-AA3EE62D5B06->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-01-19 14:38:44,678 [grpc-default-executor-6] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-AA3EE62D5B06->s1: nextIndex: updateUnconditionally 15 -> 14
2023-01-19 14:38:44,677 [MiniRaftCluster-9] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-01-19 14:38:44,676 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s1@group-AA3EE62D5B06: shutdown
2023-01-19 14:38:44,680 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-AA3EE62D5B06,id=s1
2023-01-19 14:38:44,680 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-AA3EE62D5B06-FollowerState
2023-01-19 14:38:44,699 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-AA3EE62D5B06-StateMachineUpdater: set stopIndex = 14
2023-01-19 14:38:44,676 [MiniRaftCluster-8] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-01-19 14:38:44,700 [s1@group-AA3EE62D5B06-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-AA3EE62D5B06-FollowerState was interrupted
2023-01-19 14:38:44,701 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s1@group-AA3EE62D5B06: applyIndex: 14
2023-01-19 14:38:44,680 [grpc-default-executor-6] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s0@group-AA3EE62D5B06->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-01-19 14:38:44,701 [grpc-default-executor-6] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-AA3EE62D5B06->s2: nextIndex: updateUnconditionally 15 -> 14
2023-01-19 14:38:44,702 [s1@group-AA3EE62D5B06-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s1@group-AA3EE62D5B06-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2023-01-19 14:38:44,677 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-AA3EE62D5B06-PendingRequests: sendNotLeaderResponses
2023-01-19 14:38:44,677 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-AA3EE62D5B06,id=s2
2023-01-19 14:38:44,702 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-AA3EE62D5B06-FollowerState
2023-01-19 14:38:44,702 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-AA3EE62D5B06-StateMachineUpdater: set stopIndex = 14
2023-01-19 14:38:44,702 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s2@group-AA3EE62D5B06: applyIndex: 14
2023-01-19 14:38:44,702 [s2@group-AA3EE62D5B06-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s2@group-AA3EE62D5B06-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2023-01-19 14:38:44,702 [s2@group-AA3EE62D5B06-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-AA3EE62D5B06-FollowerState was interrupted
2023-01-19 14:38:44,703 [MiniRaftCluster-7] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s1 Close channels
2023-01-19 14:38:44,705 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-AA3EE62D5B06-StateMachineUpdater: set stopIndex = 14
2023-01-19 14:38:44,706 [MiniRaftCluster-9] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-01-19 14:38:44,706 [MiniRaftCluster-9] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server GrpcServerProtocolService now
2023-01-19 14:38:44,706 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s0@group-AA3EE62D5B06: applyIndex: 14
2023-01-19 14:38:44,706 [s0@group-AA3EE62D5B06-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s0@group-AA3EE62D5B06-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2023-01-19 14:38:44,706 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s2@group-AA3EE62D5B06-SegmentedRaftLogWorker close()
2023-01-19 14:38:44,706 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s1@group-AA3EE62D5B06-SegmentedRaftLogWorker close()
2023-01-19 14:38:44,707 [MiniRaftCluster-7] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s2 Close channels
2023-01-19 14:38:44,707 [MiniRaftCluster-8] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-01-19 14:38:44,707 [MiniRaftCluster-8] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server GrpcServerProtocolService now
2023-01-19 14:38:44,710 [MiniRaftCluster-9] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server GrpcServerProtocolService successfully
2023-01-19 14:38:44,710 [MiniRaftCluster-9] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-01-19 14:38:44,710 [MiniRaftCluster-7] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-01-19 14:38:44,710 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s0@group-AA3EE62D5B06-SegmentedRaftLogWorker close()
2023-01-19 14:38:44,710 [MiniRaftCluster-7] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server GrpcServerProtocolService now
2023-01-19 14:38:44,711 [MiniRaftCluster-8] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server GrpcServerProtocolService successfully
2023-01-19 14:38:44,711 [MiniRaftCluster-8] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-01-19 14:38:44,711 [MiniRaftCluster-9] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-01-19 14:38:44,715 [JvmPauseMonitor8] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s2: Stopped
2023-01-19 14:38:44,715 [MiniRaftCluster-8] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-01-19 14:38:44,715 [MiniRaftCluster-7] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server GrpcServerProtocolService successfully
2023-01-19 14:38:44,716 [MiniRaftCluster-7] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-01-19 14:38:44,716 [JvmPauseMonitor7] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2023-01-19 14:38:44,716 [MiniRaftCluster-7] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-01-19 14:38:44,716 [JvmPauseMonitor6] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2023-01-19 14:38:44,717 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2023-01-19 14:38:44,718 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-01-19 14:38:44,718 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-01-19 14:38:44,718 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2023-01-19 14:38:44,719 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2023-01-19 14:38:44,720 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-AE373264C303:[s0|rpc:localhost:44347|admin:localhost:45035|client:localhost:35583|dataStream:localhost:34039|priority:0|startupRole:FOLLOWER]
2023-01-19 14:38:44,720 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-01-19 14:38:44,720 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-01-19 14:38:44,720 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2023-01-19 14:38:44,720 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-01-19 14:38:44,720 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-01-19 14:38:44,720 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-01-19 14:38:44,720 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-AE373264C303:[s0|rpc:localhost:44347|admin:localhost:45035|client:localhost:35583|dataStream:localhost:34039|priority:0|startupRole:FOLLOWER], format? true
2023-01-19 14:38:44,721 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/f0947725/MiniRaftClusterWithGrpc2e200b19/s0
2023-01-19 14:38:44,721 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/f0947725/MiniRaftClusterWithGrpc2e200b19/s0 does not exist.
2023-01-19 14:38:44,721 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/f0947725/MiniRaftClusterWithGrpc2e200b19/s0
2023-01-19 14:38:44,722 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-01-19 14:38:44,722 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:38:44,722 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 45035 (custom)
2023-01-19 14:38:44,723 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:38:44,723 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 35583 (custom)
2023-01-19 14:38:44,723 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-01-19 14:38:44,723 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 44347 (custom)
2023-01-19 14:38:44,723 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:38:44,723 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:38:44,723 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:38:44,723 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-01-19 14:38:44,724 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-01-19 14:38:44,724 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-01-19 14:38:44,724 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-01-19 14:38:44,727 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-01-19 14:38:44,727 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-01-19 14:38:44,727 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-01-19 14:38:44,728 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-01-19 14:38:44,728 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-01-19 14:38:44,728 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc2e200b19/s0] (custom)
2023-01-19 14:38:44,729 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-AE373264C303:[s0|rpc:localhost:44347|admin:localhost:45035|client:localhost:35583|dataStream:localhost:34039|priority:0|startupRole:FOLLOWER] returns group-AE373264C303:java.util.concurrent.CompletableFuture@2a961e59[Not completed]
2023-01-19 14:38:44,733 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:38:44,733 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-01-19 14:38:44,733 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-01-19 14:38:44,733 [pool-12-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-AE373264C303:[s0|rpc:localhost:44347|admin:localhost:45035|client:localhost:35583|dataStream:localhost:34039|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-01-19 14:38:44,733 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-01-19 14:38:44,734 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-01-19 14:38:44,734 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-01-19 14:38:44,734 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-01-19 14:38:44,734 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-01-19 14:38:44,734 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-01-19 14:38:44,734 [pool-12-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-AE373264C303: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:44347|admin:localhost:45035|client:localhost:35583|dataStream:localhost:34039|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-01-19 14:38:44,734 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-01-19 14:38:44,734 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-01-19 14:38:44,734 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-01-19 14:38:44,734 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-01-19 14:38:44,735 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-01-19 14:38:44,737 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-01-19 14:38:44,737 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-01-19 14:38:44,737 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-01-19 14:38:44,737 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-01-19 14:38:44,737 [pool-12-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-01-19 14:38:44,738 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-01-19 14:38:44,738 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-01-19 14:38:44,738 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc2e200b19/s0] (custom)
2023-01-19 14:38:44,738 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc2e200b19/s0/53b6c389-23f3-4999-8677-ae373264c303 does not exist. Creating ...
2023-01-19 14:38:44,738 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc2e200b19/s0/53b6c389-23f3-4999-8677-ae373264c303
2023-01-19 14:38:44,740 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc2e200b19/s0/53b6c389-23f3-4999-8677-ae373264c303/in_use.lock acquired by nodename 4721@fv-az82-597
2023-01-19 14:38:44,740 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc2e200b19/s0/53b6c389-23f3-4999-8677-ae373264c303/current
2023-01-19 14:38:44,741 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc2e200b19/s0/53b6c389-23f3-4999-8677-ae373264c303/sm
2023-01-19 14:38:44,742 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc2e200b19/s0/53b6c389-23f3-4999-8677-ae373264c303 has been successfully formatted.
2023-01-19 14:38:44,742 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-01-19 14:38:44,742 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-01-19 14:38:44,742 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-01-19 14:38:44,742 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-01-19 14:38:44,742 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:38:44,742 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-01-19 14:38:44,743 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-01-19 14:38:44,743 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:38:44,744 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-01-19 14:38:44,744 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-01-19 14:38:44,744 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s0@group-AE373264C303-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc2e200b19/s0/53b6c389-23f3-4999-8677-ae373264c303
2023-01-19 14:38:44,744 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-01-19 14:38:44,744 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-01-19 14:38:44,744 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:38:44,744 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-01-19 14:38:44,744 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-01-19 14:38:44,744 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-01-19 14:38:44,745 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-01-19 14:38:44,745 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-01-19 14:38:44,745 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-01-19 14:38:44,745 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:38:44,746 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-01-19 14:38:44,746 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-01-19 14:38:44,746 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-01-19 14:38:44,747 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-AE373264C303-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-01-19 14:38:44,747 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-AE373264C303-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-01-19 14:38:44,747 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-AE373264C303: start as a follower, conf=-1: peers:[s0|rpc:localhost:44347|admin:localhost:45035|client:localhost:35583|dataStream:localhost:34039|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:44,747 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-AE373264C303: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-01-19 14:38:44,747 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-AE373264C303-FollowerState
2023-01-19 14:38:44,748 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-AE373264C303,id=s0
2023-01-19 14:38:44,748 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-01-19 14:38:44,748 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-01-19 14:38:44,748 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-01-19 14:38:44,749 [s0@group-AE373264C303-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:38:44,749 [s0@group-AE373264C303-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:38:44,749 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2023-01-19 14:38:44,750 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 35583
2023-01-19 14:38:44,751 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 44347
2023-01-19 14:38:44,751 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 45035
2023-01-19 14:38:44,752 [JvmPauseMonitor9] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2023-01-19 14:38:44,752 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-01-19 14:38:44,752 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-AE373264C303:t0, leader=null, voted=, raftlog=Memoized:s0@group-AE373264C303-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44347|admin:localhost:45035|client:localhost:35583|dataStream:localhost:34039|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-01-19 14:38:44,753 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-AE373264C303:t0, leader=null, voted=, raftlog=Memoized:s0@group-AE373264C303-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44347|admin:localhost:45035|client:localhost:35583|dataStream:localhost:34039|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-AE373264C303:t0, leader=null, voted=, raftlog=Memoized:s0@group-AE373264C303-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44347|admin:localhost:45035|client:localhost:35583|dataStream:localhost:34039|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:155)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:151)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-01-19 14:38:44,977 [s0@group-AE373264C303-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-AE373264C303-FollowerState: change to CANDIDATE, lastRpcElapsedTime:229897915ns, electionTimeout:228ms
2023-01-19 14:38:44,977 [s0@group-AE373264C303-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-AE373264C303-FollowerState
2023-01-19 14:38:44,977 [s0@group-AE373264C303-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-AE373264C303: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-01-19 14:38:44,978 [s0@group-AE373264C303-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-01-19 14:38:44,978 [s0@group-AE373264C303-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-AE373264C303-LeaderElection9
2023-01-19 14:38:44,978 [s0@group-AE373264C303-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-AE373264C303-LeaderElection9 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:44347|admin:localhost:45035|client:localhost:35583|dataStream:localhost:34039|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:44,978 [s0@group-AE373264C303-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-AE373264C303-LeaderElection9 PRE_VOTE round 0: result PASSED (term=0)
2023-01-19 14:38:44,980 [s0@group-AE373264C303-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-AE373264C303-LeaderElection9 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:44347|admin:localhost:45035|client:localhost:35583|dataStream:localhost:34039|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:44,980 [s0@group-AE373264C303-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-AE373264C303-LeaderElection9 ELECTION round 0: result PASSED (term=1)
2023-01-19 14:38:44,980 [s0@group-AE373264C303-LeaderElection9] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-AE373264C303-LeaderElection9
2023-01-19 14:38:44,980 [s0@group-AE373264C303-LeaderElection9] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-AE373264C303: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-01-19 14:38:44,980 [s0@group-AE373264C303-LeaderElection9] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-AE373264C303: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 246ms
2023-01-19 14:38:44,980 [s0@group-AE373264C303-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-01-19 14:38:44,981 [s0@group-AE373264C303-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-01-19 14:38:44,981 [s0@group-AE373264C303-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2023-01-19 14:38:44,981 [s0@group-AE373264C303-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-01-19 14:38:44,981 [s0@group-AE373264C303-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-01-19 14:38:44,981 [s0@group-AE373264C303-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-01-19 14:38:44,982 [s0@group-AE373264C303-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-01-19 14:38:44,982 [s0@group-AE373264C303-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-01-19 14:38:44,982 [s0@group-AE373264C303-LeaderElection9] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-AE373264C303-LeaderStateImpl
2023-01-19 14:38:44,982 [s0@group-AE373264C303-LeaderElection9] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-AE373264C303-SegmentedRaftLogWorker: Starting segment from index:0
2023-01-19 14:38:44,985 [s0@group-AE373264C303-LeaderElection9] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-AE373264C303: set configuration 0: peers:[s0|rpc:localhost:44347|admin:localhost:45035|client:localhost:35583|dataStream:localhost:34039|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:44,995 [s0@group-AE373264C303-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-AE373264C303-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc2e200b19/s0/53b6c389-23f3-4999-8677-ae373264c303/current/log_inprogress_0
2023-01-19 14:38:45,203 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-AE373264C303:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-AE373264C303-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:44347|admin:localhost:45035|client:localhost:35583|dataStream:localhost:34039|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-01-19 14:38:45,204 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:38:45,204 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 45035 (custom)
2023-01-19 14:38:45,204 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:38:45,204 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 35583 (custom)
2023-01-19 14:38:45,204 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-01-19 14:38:45,204 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 44347 (custom)
2023-01-19 14:38:45,204 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:38:45,204 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:38:45,204 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:38:45,204 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-01-19 14:38:45,204 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-01-19 14:38:45,204 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-01-19 14:38:45,205 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-01-19 14:38:45,206 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'appendEntries'
2023-01-19 14:38:45,207 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "appendEntries" throws UnsupportedOperationException
java.lang.UnsupportedOperationException: Blocking appendEntries call is not supported
	at org.apache.ratis.grpc.server.GrpcService.appendEntries(GrpcService.java:355)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.lambda$runTestUnsupportedMethods$1(TestRaftServerWithGrpc.java:159)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:158)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:151)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-01-19 14:38:45,207 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'installSnapshot'
2023-01-19 14:38:45,207 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "installSnapshot" throws UnsupportedOperationException
java.lang.UnsupportedOperationException: Blocking installSnapshot call is not supported
	at org.apache.ratis.grpc.server.GrpcService.installSnapshot(GrpcService.java:361)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.lambda$runTestUnsupportedMethods$2(TestRaftServerWithGrpc.java:163)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:162)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:151)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-01-19 14:38:45,207 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-01-19 14:38:45,208 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-01-19 14:38:45,208 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2023-01-19 14:38:45,208 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-01-19 14:38:45,208 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-01-19 14:38:45,208 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-AE373264C303:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-AE373264C303-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:44347|admin:localhost:45035|client:localhost:35583|dataStream:localhost:34039|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-01-19 14:38:45,208 [MiniRaftCluster-10] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2023-01-19 14:38:45,209 [MiniRaftCluster-10] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-01-19 14:38:45,209 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-AE373264C303: shutdown
2023-01-19 14:38:45,210 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-AE373264C303,id=s0
2023-01-19 14:38:45,210 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-AE373264C303-LeaderStateImpl
2023-01-19 14:38:45,210 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-AE373264C303-PendingRequests: sendNotLeaderResponses
2023-01-19 14:38:45,210 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-AE373264C303-StateMachineUpdater: set stopIndex = 0
2023-01-19 14:38:45,211 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s0@group-AE373264C303: applyIndex: 0
2023-01-19 14:38:45,212 [s0@group-AE373264C303-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s0@group-AE373264C303-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2023-01-19 14:38:45,214 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s0@group-AE373264C303-SegmentedRaftLogWorker close()
2023-01-19 14:38:45,215 [MiniRaftCluster-10] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-01-19 14:38:45,215 [MiniRaftCluster-10] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server GrpcServerProtocolService now
2023-01-19 14:38:45,215 [MiniRaftCluster-10] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server GrpcServerProtocolService successfully
2023-01-19 14:38:45,215 [MiniRaftCluster-10] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-01-19 14:38:45,216 [MiniRaftCluster-10] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-01-19 14:38:45,217 [JvmPauseMonitor9] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2023-01-19 14:38:45,217 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2023-01-19 14:38:45,219 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-01-19 14:38:45,219 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-01-19 14:38:45,219 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2023-01-19 14:38:45,220 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2023-01-19 14:38:45,220 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-EADED7F32786:[s0|rpc:localhost:41319|admin:localhost:45783|client:localhost:34143|dataStream:localhost:37093|priority:0|startupRole:FOLLOWER]
2023-01-19 14:38:45,220 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-01-19 14:38:45,220 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-01-19 14:38:45,220 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2023-01-19 14:38:45,221 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-01-19 14:38:45,221 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-01-19 14:38:45,221 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-01-19 14:38:45,221 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-EADED7F32786:[s0|rpc:localhost:41319|admin:localhost:45783|client:localhost:34143|dataStream:localhost:37093|priority:0|startupRole:FOLLOWER], format? true
2023-01-19 14:38:45,221 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/f0947725/MiniRaftClusterWithGrpc4f3fee01/s0
2023-01-19 14:38:45,221 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/f0947725/MiniRaftClusterWithGrpc4f3fee01/s0 does not exist.
2023-01-19 14:38:45,221 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/f0947725/MiniRaftClusterWithGrpc4f3fee01/s0
2023-01-19 14:38:45,224 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-01-19 14:38:45,224 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:38:45,224 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 45783 (custom)
2023-01-19 14:38:45,224 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:38:45,224 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 34143 (custom)
2023-01-19 14:38:45,224 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-01-19 14:38:45,225 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 41319 (custom)
2023-01-19 14:38:45,225 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:38:45,225 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:38:45,225 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:38:45,225 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-01-19 14:38:45,225 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-01-19 14:38:45,225 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-01-19 14:38:45,225 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-01-19 14:38:45,227 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-01-19 14:38:45,227 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-01-19 14:38:45,228 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-01-19 14:38:45,228 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-01-19 14:38:45,228 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-01-19 14:38:45,228 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc4f3fee01/s0] (custom)
2023-01-19 14:38:45,230 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-EADED7F32786:[s0|rpc:localhost:41319|admin:localhost:45783|client:localhost:34143|dataStream:localhost:37093|priority:0|startupRole:FOLLOWER] returns group-EADED7F32786:java.util.concurrent.CompletableFuture@6d320535[Not completed]
2023-01-19 14:38:45,230 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:38:45,230 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-01-19 14:38:45,230 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-01-19 14:38:45,230 [pool-13-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-EADED7F32786:[s0|rpc:localhost:41319|admin:localhost:45783|client:localhost:34143|dataStream:localhost:37093|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-01-19 14:38:45,230 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-01-19 14:38:45,231 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-01-19 14:38:45,231 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-01-19 14:38:45,231 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-01-19 14:38:45,231 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-01-19 14:38:45,231 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-01-19 14:38:45,231 [pool-13-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-EADED7F32786: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:41319|admin:localhost:45783|client:localhost:34143|dataStream:localhost:37093|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-01-19 14:38:45,231 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-01-19 14:38:45,231 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-01-19 14:38:45,231 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-01-19 14:38:45,232 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-01-19 14:38:45,233 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-01-19 14:38:45,234 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-01-19 14:38:45,234 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-01-19 14:38:45,234 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-01-19 14:38:45,234 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-01-19 14:38:45,235 [pool-13-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-01-19 14:38:45,235 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-01-19 14:38:45,235 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-01-19 14:38:45,235 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc4f3fee01/s0] (custom)
2023-01-19 14:38:45,235 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc4f3fee01/s0/cd6f14f1-c9a7-4c2d-840c-eaded7f32786 does not exist. Creating ...
2023-01-19 14:38:45,236 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc4f3fee01/s0/cd6f14f1-c9a7-4c2d-840c-eaded7f32786
2023-01-19 14:38:45,237 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc4f3fee01/s0/cd6f14f1-c9a7-4c2d-840c-eaded7f32786/in_use.lock acquired by nodename 4721@fv-az82-597
2023-01-19 14:38:45,237 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc4f3fee01/s0/cd6f14f1-c9a7-4c2d-840c-eaded7f32786/current
2023-01-19 14:38:45,237 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc4f3fee01/s0/cd6f14f1-c9a7-4c2d-840c-eaded7f32786/sm
2023-01-19 14:38:45,239 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc4f3fee01/s0/cd6f14f1-c9a7-4c2d-840c-eaded7f32786 has been successfully formatted.
2023-01-19 14:38:45,239 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-01-19 14:38:45,239 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-01-19 14:38:45,239 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-01-19 14:38:45,239 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-01-19 14:38:45,239 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:38:45,239 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-01-19 14:38:45,240 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-01-19 14:38:45,240 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:38:45,241 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-01-19 14:38:45,241 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-01-19 14:38:45,241 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s0@group-EADED7F32786-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc4f3fee01/s0/cd6f14f1-c9a7-4c2d-840c-eaded7f32786
2023-01-19 14:38:45,241 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-01-19 14:38:45,241 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-01-19 14:38:45,241 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:38:45,241 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-01-19 14:38:45,241 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-01-19 14:38:45,242 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-01-19 14:38:45,242 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-01-19 14:38:45,242 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-01-19 14:38:45,242 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-01-19 14:38:45,242 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:38:45,243 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-01-19 14:38:45,243 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-01-19 14:38:45,243 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-01-19 14:38:45,243 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-EADED7F32786-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-01-19 14:38:45,244 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-EADED7F32786-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-01-19 14:38:45,244 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-EADED7F32786: start as a follower, conf=-1: peers:[s0|rpc:localhost:41319|admin:localhost:45783|client:localhost:34143|dataStream:localhost:37093|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:45,244 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-EADED7F32786: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-01-19 14:38:45,244 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-EADED7F32786-FollowerState
2023-01-19 14:38:45,245 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-EADED7F32786,id=s0
2023-01-19 14:38:45,245 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-01-19 14:38:45,246 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-01-19 14:38:45,246 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-01-19 14:38:45,246 [s0@group-EADED7F32786-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:38:45,246 [s0@group-EADED7F32786-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:38:45,251 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2023-01-19 14:38:45,251 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 34143
2023-01-19 14:38:45,252 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 41319
2023-01-19 14:38:45,253 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 45783
2023-01-19 14:38:45,253 [JvmPauseMonitor10] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2023-01-19 14:38:45,258 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-01-19 14:38:45,259 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-EADED7F32786:t0, leader=null, voted=, raftlog=Memoized:s0@group-EADED7F32786-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:41319|admin:localhost:45783|client:localhost:34143|dataStream:localhost:37093|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-01-19 14:38:45,259 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-EADED7F32786:t0, leader=null, voted=, raftlog=Memoized:s0@group-EADED7F32786-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:41319|admin:localhost:45783|client:localhost:34143|dataStream:localhost:37093|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-EADED7F32786:t0, leader=null, voted=, raftlog=Memoized:s0@group-EADED7F32786-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:41319|admin:localhost:45783|client:localhost:34143|dataStream:localhost:37093|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestServerRestartOnException(TestRaftServerWithGrpc.java:121)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testServerRestartOnException(TestRaftServerWithGrpc.java:104)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-01-19 14:38:45,469 [s0@group-EADED7F32786-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-EADED7F32786-FollowerState: change to CANDIDATE, lastRpcElapsedTime:224556296ns, electionTimeout:222ms
2023-01-19 14:38:45,469 [s0@group-EADED7F32786-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-EADED7F32786-FollowerState
2023-01-19 14:38:45,469 [s0@group-EADED7F32786-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-EADED7F32786: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-01-19 14:38:45,469 [s0@group-EADED7F32786-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-01-19 14:38:45,469 [s0@group-EADED7F32786-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-EADED7F32786-LeaderElection10
2023-01-19 14:38:45,476 [s0@group-EADED7F32786-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-EADED7F32786-LeaderElection10 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:41319|admin:localhost:45783|client:localhost:34143|dataStream:localhost:37093|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:45,476 [s0@group-EADED7F32786-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-EADED7F32786-LeaderElection10 PRE_VOTE round 0: result PASSED (term=0)
2023-01-19 14:38:45,477 [s0@group-EADED7F32786-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-EADED7F32786-LeaderElection10 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:41319|admin:localhost:45783|client:localhost:34143|dataStream:localhost:37093|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:45,477 [s0@group-EADED7F32786-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-EADED7F32786-LeaderElection10 ELECTION round 0: result PASSED (term=1)
2023-01-19 14:38:45,477 [s0@group-EADED7F32786-LeaderElection10] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-EADED7F32786-LeaderElection10
2023-01-19 14:38:45,477 [s0@group-EADED7F32786-LeaderElection10] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-EADED7F32786: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-01-19 14:38:45,478 [s0@group-EADED7F32786-LeaderElection10] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-EADED7F32786: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 246ms
2023-01-19 14:38:45,478 [s0@group-EADED7F32786-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-01-19 14:38:45,478 [s0@group-EADED7F32786-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-01-19 14:38:45,478 [s0@group-EADED7F32786-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2023-01-19 14:38:45,478 [s0@group-EADED7F32786-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-01-19 14:38:45,478 [s0@group-EADED7F32786-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-01-19 14:38:45,478 [s0@group-EADED7F32786-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-01-19 14:38:45,479 [s0@group-EADED7F32786-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-01-19 14:38:45,479 [s0@group-EADED7F32786-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-01-19 14:38:45,479 [s0@group-EADED7F32786-LeaderElection10] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-EADED7F32786-LeaderStateImpl
2023-01-19 14:38:45,479 [s0@group-EADED7F32786-LeaderElection10] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-EADED7F32786-SegmentedRaftLogWorker: Starting segment from index:0
2023-01-19 14:38:45,484 [s0@group-EADED7F32786-LeaderElection10] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-EADED7F32786: set configuration 0: peers:[s0|rpc:localhost:41319|admin:localhost:45783|client:localhost:34143|dataStream:localhost:37093|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:45,494 [s0@group-EADED7F32786-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-EADED7F32786-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc4f3fee01/s0/cd6f14f1-c9a7-4c2d-840c-eaded7f32786/current/log_inprogress_0
2023-01-19 14:38:45,710 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-EADED7F32786:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-EADED7F32786-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:41319|admin:localhost:45783|client:localhost:34143|dataStream:localhost:37093|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-01-19 14:38:45,712 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-01-19 14:38:45,713 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:38:45,713 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 45783 (custom)
2023-01-19 14:38:45,713 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:38:45,713 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 34143 (custom)
2023-01-19 14:38:45,713 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-01-19 14:38:45,713 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 41319 (custom)
2023-01-19 14:38:45,713 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:38:45,713 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:38:45,713 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:38:45,713 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-01-19 14:38:45,713 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-01-19 14:38:45,713 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-01-19 14:38:45,714 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-01-19 14:38:45,715 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-01-19 14:38:45,715 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-01-19 14:38:45,715 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-01-19 14:38:45,715 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-01-19 14:38:45,715 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-01-19 14:38:45,716 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc4f3fee01/s0] (custom)
2023-01-19 14:38:45,717 [s0-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(254)) - s0: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc4f3fee01/s0/cd6f14f1-c9a7-4c2d-840c-eaded7f32786
2023-01-19 14:38:45,717 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-EADED7F32786:[s0|rpc:localhost:41319|admin:localhost:45783|client:localhost:34143|dataStream:localhost:37093|priority:0|startupRole:FOLLOWER] returns group-EADED7F32786:java.util.concurrent.CompletableFuture@6b7f6ae9[Not completed]
2023-01-19 14:38:45,717 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-01-19 14:38:45,718 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-01-19 14:38:45,718 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server GrpcServerProtocolService now
2023-01-19 14:38:45,718 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server GrpcServerProtocolService successfully
2023-01-19 14:38:45,718 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-01-19 14:38:45,718 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-01-19 14:38:45,719 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'Starting a new server with the same address should fail'
2023-01-19 14:38:45,719 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-01-19 14:38:45,719 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:38:45,719 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 45783 (custom)
2023-01-19 14:38:45,719 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:38:45,719 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 34143 (custom)
2023-01-19 14:38:45,719 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-01-19 14:38:45,719 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 41319 (custom)
2023-01-19 14:38:45,719 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:38:45,720 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:38:45,720 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:38:45,721 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-01-19 14:38:45,721 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-01-19 14:38:45,721 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-01-19 14:38:45,721 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-01-19 14:38:45,722 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-01-19 14:38:45,722 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-01-19 14:38:45,722 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-01-19 14:38:45,722 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-01-19 14:38:45,723 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-01-19 14:38:45,723 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc4f3fee01/s0] (custom)
2023-01-19 14:38:45,723 [pool-14-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-EADED7F32786:[s0|rpc:localhost:41319|admin:localhost:45783|client:localhost:34143|dataStream:localhost:37093|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:s0:group-EADED7F32786
2023-01-19 14:38:45,723 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-01-19 14:38:45,723 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-01-19 14:38:45,723 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-01-19 14:38:45,723 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-01-19 14:38:45,723 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-01-19 14:38:45,724 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-01-19 14:38:45,724 [pool-14-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-EADED7F32786: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:41319|admin:localhost:45783|client:localhost:34143|dataStream:localhost:37093|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-01-19 14:38:45,724 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-01-19 14:38:45,724 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-01-19 14:38:45,724 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-01-19 14:38:45,724 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-01-19 14:38:45,724 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-01-19 14:38:45,724 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-01-19 14:38:45,724 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-01-19 14:38:45,724 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-01-19 14:38:45,724 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-01-19 14:38:45,724 [pool-14-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-01-19 14:38:45,725 [s0-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(254)) - s0: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc4f3fee01/s0/cd6f14f1-c9a7-4c2d-840c-eaded7f32786
2023-01-19 14:38:45,725 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-EADED7F32786:[s0|rpc:localhost:41319|admin:localhost:45783|client:localhost:34143|dataStream:localhost:37093|priority:0|startupRole:FOLLOWER] returns group-EADED7F32786:java.util.concurrent.CompletableFuture@941adfe[Not completed]
2023-01-19 14:38:45,725 [pool-15-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-EADED7F32786:[s0|rpc:localhost:41319|admin:localhost:45783|client:localhost:34143|dataStream:localhost:37093|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:s0:group-EADED7F32786
2023-01-19 14:38:45,726 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-01-19 14:38:45,726 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-01-19 14:38:45,726 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-01-19 14:38:45,726 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-01-19 14:38:45,726 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-01-19 14:38:45,727 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-01-19 14:38:45,728 [pool-15-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-EADED7F32786: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:41319|admin:localhost:45783|client:localhost:34143|dataStream:localhost:37093|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-01-19 14:38:45,728 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-01-19 14:38:45,728 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-01-19 14:38:45,728 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-01-19 14:38:45,728 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-01-19 14:38:45,728 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-01-19 14:38:45,729 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-01-19 14:38:45,729 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-01-19 14:38:45,729 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-01-19 14:38:45,730 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-01-19 14:38:45,730 [pool-15-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-01-19 14:38:45,730 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-01-19 14:38:45,730 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-01-19 14:38:45,730 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc4f3fee01/s0] (custom)
2023-01-19 14:38:45,731 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc4f3fee01/s0/cd6f14f1-c9a7-4c2d-840c-eaded7f32786
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-01-19 14:38:45,733 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc4f3fee01/s0/cd6f14f1-c9a7-4c2d-840c-eaded7f32786/in_use.lock", attempt #1/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc4f3fee01/s0/cd6f14f1-c9a7-4c2d-840c-eaded7f32786. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc4f3fee01/s0/cd6f14f1-c9a7-4c2d-840c-eaded7f32786. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2023-01-19 14:38:46,734 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc4f3fee01/s0/cd6f14f1-c9a7-4c2d-840c-eaded7f32786
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-01-19 14:38:46,734 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc4f3fee01/s0/cd6f14f1-c9a7-4c2d-840c-eaded7f32786/in_use.lock", attempt #2/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc4f3fee01/s0/cd6f14f1-c9a7-4c2d-840c-eaded7f32786. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc4f3fee01/s0/cd6f14f1-c9a7-4c2d-840c-eaded7f32786. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2023-01-19 14:38:47,735 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc4f3fee01/s0/cd6f14f1-c9a7-4c2d-840c-eaded7f32786
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-01-19 14:38:47,735 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc4f3fee01/s0/cd6f14f1-c9a7-4c2d-840c-eaded7f32786/in_use.lock", attempt #3/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc4f3fee01/s0/cd6f14f1-c9a7-4c2d-840c-eaded7f32786. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc4f3fee01/s0/cd6f14f1-c9a7-4c2d-840c-eaded7f32786. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2023-01-19 14:38:48,737 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc4f3fee01/s0/cd6f14f1-c9a7-4c2d-840c-eaded7f32786
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-01-19 14:38:48,738 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc4f3fee01/s0/cd6f14f1-c9a7-4c2d-840c-eaded7f32786/in_use.lock", attempt #4/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc4f3fee01/s0/cd6f14f1-c9a7-4c2d-840c-eaded7f32786. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc4f3fee01/s0/cd6f14f1-c9a7-4c2d-840c-eaded7f32786. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2023-01-19 14:38:49,738 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc4f3fee01/s0/cd6f14f1-c9a7-4c2d-840c-eaded7f32786
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-01-19 14:38:49,739 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "Starting a new server with the same address should fail" throws CompletionException
java.util.concurrent.CompletionException: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc4f3fee01/s0/cd6f14f1-c9a7-4c2d-840c-eaded7f32786. The directory is already locked
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$BiRelay.tryFire(CompletableFuture.java:1423)
	at java.base/java.util.concurrent.CompletableFuture$CoCompletion.tryFire(CompletableFuture.java:1144)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:176)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc4f3fee01/s0/cd6f14f1-c9a7-4c2d-840c-eaded7f32786. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	... 4 more
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2023-01-19 14:38:49,740 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:38:49,740 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 45783 (custom)
2023-01-19 14:38:49,740 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:38:49,740 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 34143 (custom)
2023-01-19 14:38:49,740 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-01-19 14:38:49,740 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 41319 (custom)
2023-01-19 14:38:49,740 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:38:49,741 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:38:49,741 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:38:49,741 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-01-19 14:38:49,741 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-01-19 14:38:49,741 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-01-19 14:38:49,741 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-01-19 14:38:49,742 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-01-19 14:38:49,742 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-01-19 14:38:49,742 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2023-01-19 14:38:49,742 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-01-19 14:38:49,743 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-01-19 14:38:49,743 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-EADED7F32786:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-EADED7F32786-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:41319|admin:localhost:45783|client:localhost:34143|dataStream:localhost:37093|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-01-19 14:38:49,743 [MiniRaftCluster-11] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2023-01-19 14:38:49,744 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-EADED7F32786: shutdown
2023-01-19 14:38:49,744 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-EADED7F32786,id=s0
2023-01-19 14:38:49,744 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-EADED7F32786-LeaderStateImpl
2023-01-19 14:38:49,744 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-EADED7F32786-PendingRequests: sendNotLeaderResponses
2023-01-19 14:38:49,745 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-EADED7F32786-StateMachineUpdater: set stopIndex = 0
2023-01-19 14:38:49,745 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s0@group-EADED7F32786: applyIndex: 0
2023-01-19 14:38:49,745 [s0@group-EADED7F32786-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s0@group-EADED7F32786-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2023-01-19 14:38:49,746 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s0@group-EADED7F32786-SegmentedRaftLogWorker close()
2023-01-19 14:38:49,747 [JvmPauseMonitor10] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2023-01-19 14:38:49,747 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2023-01-19 14:38:49,749 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-01-19 14:38:49,749 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-01-19 14:38:49,749 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2023-01-19 14:38:49,750 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2023-01-19 14:38:49,751 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-DB27D1BA5B58:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]
2023-01-19 14:38:49,751 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-01-19 14:38:49,751 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-01-19 14:38:49,751 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2023-01-19 14:38:49,751 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-01-19 14:38:49,751 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-01-19 14:38:49,751 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-01-19 14:38:49,752 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-DB27D1BA5B58:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER], format? true
2023-01-19 14:38:49,752 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/f0947725/MiniRaftClusterWithGrpcc2d76647/s0
2023-01-19 14:38:49,752 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/f0947725/MiniRaftClusterWithGrpcc2d76647/s0 does not exist.
2023-01-19 14:38:49,752 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/f0947725/MiniRaftClusterWithGrpcc2d76647/s0
2023-01-19 14:38:49,753 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-01-19 14:38:49,753 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:38:49,753 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 33533 (custom)
2023-01-19 14:38:49,754 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:38:49,754 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 46273 (custom)
2023-01-19 14:38:49,754 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-01-19 14:38:49,754 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 43093 (custom)
2023-01-19 14:38:49,754 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:38:49,754 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:38:49,754 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:38:49,754 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-01-19 14:38:49,754 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-01-19 14:38:49,755 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-01-19 14:38:49,755 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-01-19 14:38:49,756 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-01-19 14:38:49,756 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-01-19 14:38:49,756 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-01-19 14:38:49,756 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-01-19 14:38:49,757 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-01-19 14:38:49,757 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcc2d76647/s0] (custom)
2023-01-19 14:38:49,757 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-DB27D1BA5B58:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER] returns group-DB27D1BA5B58:java.util.concurrent.CompletableFuture@1695365d[Not completed]
2023-01-19 14:38:49,757 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-DB27D1BA5B58:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER], format? true
2023-01-19 14:38:49,758 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/f0947725/MiniRaftClusterWithGrpcc2d76647/s1
2023-01-19 14:38:49,757 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:38:49,758 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/f0947725/MiniRaftClusterWithGrpcc2d76647/s1 does not exist.
2023-01-19 14:38:49,758 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/f0947725/MiniRaftClusterWithGrpcc2d76647/s1
2023-01-19 14:38:49,758 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-01-19 14:38:49,758 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-01-19 14:38:49,758 [pool-16-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-DB27D1BA5B58:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-01-19 14:38:49,758 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-01-19 14:38:49,758 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-01-19 14:38:49,758 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-01-19 14:38:49,758 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-01-19 14:38:49,758 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-01-19 14:38:49,759 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-01-19 14:38:49,759 [pool-16-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-DB27D1BA5B58: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-01-19 14:38:49,759 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-01-19 14:38:49,759 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-01-19 14:38:49,759 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-01-19 14:38:49,759 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-01-19 14:38:49,759 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-01-19 14:38:49,760 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-01-19 14:38:49,760 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-01-19 14:38:49,760 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-01-19 14:38:49,761 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-01-19 14:38:49,761 [pool-16-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-01-19 14:38:49,761 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-01-19 14:38:49,761 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:38:49,761 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 34359 (custom)
2023-01-19 14:38:49,761 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:38:49,761 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 36859 (custom)
2023-01-19 14:38:49,761 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-01-19 14:38:49,761 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 34355 (custom)
2023-01-19 14:38:49,762 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:38:49,762 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:38:49,762 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:38:49,762 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-01-19 14:38:49,762 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-01-19 14:38:49,762 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-01-19 14:38:49,762 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-01-19 14:38:49,763 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-01-19 14:38:49,763 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-01-19 14:38:49,763 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-01-19 14:38:49,763 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-01-19 14:38:49,763 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-01-19 14:38:49,764 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcc2d76647/s1] (custom)
2023-01-19 14:38:49,765 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-DB27D1BA5B58:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER] returns group-DB27D1BA5B58:java.util.concurrent.CompletableFuture@492239b5[Not completed]
2023-01-19 14:38:49,765 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-DB27D1BA5B58:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER], format? true
2023-01-19 14:38:49,765 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/f0947725/MiniRaftClusterWithGrpcc2d76647/s2
2023-01-19 14:38:49,765 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:38:49,766 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/f0947725/MiniRaftClusterWithGrpcc2d76647/s2 does not exist.
2023-01-19 14:38:49,766 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/f0947725/MiniRaftClusterWithGrpcc2d76647/s2
2023-01-19 14:38:49,766 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-01-19 14:38:49,767 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-01-19 14:38:49,766 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-01-19 14:38:49,767 [pool-17-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-DB27D1BA5B58:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-01-19 14:38:49,768 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-01-19 14:38:49,767 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:38:49,768 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-01-19 14:38:49,768 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 32891 (custom)
2023-01-19 14:38:49,768 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-01-19 14:38:49,768 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:38:49,768 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-01-19 14:38:49,768 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 38425 (custom)
2023-01-19 14:38:49,769 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-01-19 14:38:49,769 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-01-19 14:38:49,769 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-01-19 14:38:49,769 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 34187 (custom)
2023-01-19 14:38:49,769 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:38:49,769 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:38:49,769 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:38:49,769 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-01-19 14:38:49,769 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-01-19 14:38:49,769 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-01-19 14:38:49,770 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-01-19 14:38:49,771 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-01-19 14:38:49,771 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-01-19 14:38:49,771 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-01-19 14:38:49,771 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-01-19 14:38:49,771 [pool-17-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-DB27D1BA5B58: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-01-19 14:38:49,771 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-01-19 14:38:49,772 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-01-19 14:38:49,772 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcc2d76647/s2] (custom)
2023-01-19 14:38:49,772 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-DB27D1BA5B58:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER] returns group-DB27D1BA5B58:java.util.concurrent.CompletableFuture@72f45301[Not completed]
2023-01-19 14:38:49,773 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-01-19 14:38:49,773 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:38:49,773 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-01-19 14:38:49,773 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-01-19 14:38:49,773 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-01-19 14:38:49,773 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcc2d76647/s0] (custom)
2023-01-19 14:38:49,773 [pool-18-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-DB27D1BA5B58:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-01-19 14:38:49,773 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-01-19 14:38:49,773 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-01-19 14:38:49,773 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-01-19 14:38:49,773 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcc2d76647/s0/5cf66164-212f-463a-935f-db27d1ba5b58 does not exist. Creating ...
2023-01-19 14:38:49,773 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-01-19 14:38:49,773 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-01-19 14:38:49,774 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcc2d76647/s0/5cf66164-212f-463a-935f-db27d1ba5b58
2023-01-19 14:38:49,774 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-01-19 14:38:49,775 [pool-18-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-DB27D1BA5B58: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-01-19 14:38:49,775 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-01-19 14:38:49,775 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-01-19 14:38:49,775 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-01-19 14:38:49,775 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-01-19 14:38:49,775 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-01-19 14:38:49,775 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcc2d76647/s0/5cf66164-212f-463a-935f-db27d1ba5b58/in_use.lock acquired by nodename 4721@fv-az82-597
2023-01-19 14:38:49,776 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcc2d76647/s0/5cf66164-212f-463a-935f-db27d1ba5b58/current
2023-01-19 14:38:49,776 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcc2d76647/s0/5cf66164-212f-463a-935f-db27d1ba5b58/sm
2023-01-19 14:38:49,777 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-01-19 14:38:49,777 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-01-19 14:38:49,777 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-01-19 14:38:49,777 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-01-19 14:38:49,777 [pool-18-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-01-19 14:38:49,779 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-01-19 14:38:49,779 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-01-19 14:38:49,779 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-01-19 14:38:49,779 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcc2d76647/s0/5cf66164-212f-463a-935f-db27d1ba5b58 has been successfully formatted.
2023-01-19 14:38:49,780 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-01-19 14:38:49,780 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-01-19 14:38:49,780 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-01-19 14:38:49,780 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-01-19 14:38:49,780 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-01-19 14:38:49,780 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:38:49,781 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-01-19 14:38:49,781 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-01-19 14:38:49,781 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:38:49,783 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-01-19 14:38:49,783 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-01-19 14:38:49,783 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s0@group-DB27D1BA5B58-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcc2d76647/s0/5cf66164-212f-463a-935f-db27d1ba5b58
2023-01-19 14:38:49,783 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-01-19 14:38:49,783 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-01-19 14:38:49,783 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:38:49,783 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-01-19 14:38:49,784 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-01-19 14:38:49,784 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-01-19 14:38:49,784 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-01-19 14:38:49,784 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-01-19 14:38:49,784 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-01-19 14:38:49,784 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:38:49,785 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-01-19 14:38:49,785 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-01-19 14:38:49,785 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-01-19 14:38:49,786 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-DB27D1BA5B58-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-01-19 14:38:49,786 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-DB27D1BA5B58-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-01-19 14:38:49,781 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-01-19 14:38:49,786 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-01-19 14:38:49,786 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-01-19 14:38:49,786 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-01-19 14:38:49,786 [pool-17-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-01-19 14:38:49,787 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-DB27D1BA5B58: start as a follower, conf=-1: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:49,787 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-DB27D1BA5B58: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-01-19 14:38:49,787 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-DB27D1BA5B58-FollowerState
2023-01-19 14:38:49,787 [s0@group-DB27D1BA5B58-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:38:49,787 [s0@group-DB27D1BA5B58-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:38:49,788 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-DB27D1BA5B58,id=s0
2023-01-19 14:38:49,788 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-01-19 14:38:49,788 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-01-19 14:38:49,788 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-01-19 14:38:49,788 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2023-01-19 14:38:49,790 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 46273
2023-01-19 14:38:49,791 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 43093
2023-01-19 14:38:49,792 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 33533
2023-01-19 14:38:49,792 [JvmPauseMonitor11] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2023-01-19 14:38:49,792 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-01-19 14:38:49,792 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-01-19 14:38:49,792 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcc2d76647/s1] (custom)
2023-01-19 14:38:49,792 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcc2d76647/s1/5cf66164-212f-463a-935f-db27d1ba5b58 does not exist. Creating ...
2023-01-19 14:38:49,794 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcc2d76647/s1/5cf66164-212f-463a-935f-db27d1ba5b58
2023-01-19 14:38:49,796 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcc2d76647/s1/5cf66164-212f-463a-935f-db27d1ba5b58/in_use.lock acquired by nodename 4721@fv-az82-597
2023-01-19 14:38:49,796 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcc2d76647/s1/5cf66164-212f-463a-935f-db27d1ba5b58/current
2023-01-19 14:38:49,796 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcc2d76647/s1/5cf66164-212f-463a-935f-db27d1ba5b58/sm
2023-01-19 14:38:49,798 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcc2d76647/s1/5cf66164-212f-463a-935f-db27d1ba5b58 has been successfully formatted.
2023-01-19 14:38:49,798 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-01-19 14:38:49,798 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-01-19 14:38:49,798 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-01-19 14:38:49,799 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-01-19 14:38:49,799 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:38:49,799 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-01-19 14:38:49,799 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-01-19 14:38:49,799 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:38:49,800 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-01-19 14:38:49,800 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-01-19 14:38:49,800 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s1@group-DB27D1BA5B58-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcc2d76647/s1/5cf66164-212f-463a-935f-db27d1ba5b58
2023-01-19 14:38:49,800 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-01-19 14:38:49,800 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-01-19 14:38:49,800 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:38:49,800 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-01-19 14:38:49,800 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-01-19 14:38:49,801 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-01-19 14:38:49,801 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-01-19 14:38:49,801 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-01-19 14:38:49,802 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-01-19 14:38:49,802 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:38:49,803 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-01-19 14:38:49,803 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-01-19 14:38:49,803 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-01-19 14:38:49,803 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-DB27D1BA5B58-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-01-19 14:38:49,803 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-DB27D1BA5B58-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-01-19 14:38:49,803 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s1@group-DB27D1BA5B58: start as a follower, conf=-1: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:49,804 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-DB27D1BA5B58: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-01-19 14:38:49,804 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-DB27D1BA5B58-FollowerState
2023-01-19 14:38:49,804 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-DB27D1BA5B58,id=s1
2023-01-19 14:38:49,804 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-01-19 14:38:49,804 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-01-19 14:38:49,804 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-01-19 14:38:49,805 [s1@group-DB27D1BA5B58-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:38:49,805 [s1@group-DB27D1BA5B58-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:38:49,805 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s1: start RPC server
2023-01-19 14:38:49,806 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 36859
2023-01-19 14:38:49,807 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 34355
2023-01-19 14:38:49,809 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 34359
2023-01-19 14:38:49,809 [JvmPauseMonitor12] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2023-01-19 14:38:49,809 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-01-19 14:38:49,809 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-01-19 14:38:49,809 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcc2d76647/s2] (custom)
2023-01-19 14:38:49,810 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcc2d76647/s2/5cf66164-212f-463a-935f-db27d1ba5b58 does not exist. Creating ...
2023-01-19 14:38:49,810 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcc2d76647/s2/5cf66164-212f-463a-935f-db27d1ba5b58
2023-01-19 14:38:49,811 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcc2d76647/s2/5cf66164-212f-463a-935f-db27d1ba5b58/in_use.lock acquired by nodename 4721@fv-az82-597
2023-01-19 14:38:49,811 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcc2d76647/s2/5cf66164-212f-463a-935f-db27d1ba5b58/current
2023-01-19 14:38:49,811 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcc2d76647/s2/5cf66164-212f-463a-935f-db27d1ba5b58/sm
2023-01-19 14:38:49,813 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcc2d76647/s2/5cf66164-212f-463a-935f-db27d1ba5b58 has been successfully formatted.
2023-01-19 14:38:49,813 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-01-19 14:38:49,813 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-01-19 14:38:49,813 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-01-19 14:38:49,813 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-01-19 14:38:49,813 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:38:49,814 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-01-19 14:38:49,814 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-01-19 14:38:49,815 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:38:49,815 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-01-19 14:38:49,815 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-01-19 14:38:49,815 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s2@group-DB27D1BA5B58-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcc2d76647/s2/5cf66164-212f-463a-935f-db27d1ba5b58
2023-01-19 14:38:49,815 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-01-19 14:38:49,816 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-01-19 14:38:49,816 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:38:49,816 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-01-19 14:38:49,816 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-01-19 14:38:49,816 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-01-19 14:38:49,816 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-01-19 14:38:49,816 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-01-19 14:38:49,816 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-01-19 14:38:49,817 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:38:49,818 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-01-19 14:38:49,818 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-01-19 14:38:49,818 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-01-19 14:38:49,818 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-DB27D1BA5B58-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-01-19 14:38:49,818 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-DB27D1BA5B58-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-01-19 14:38:49,819 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s2@group-DB27D1BA5B58: start as a follower, conf=-1: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:49,820 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-DB27D1BA5B58: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-01-19 14:38:49,820 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-DB27D1BA5B58-FollowerState
2023-01-19 14:38:49,820 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-DB27D1BA5B58,id=s2
2023-01-19 14:38:49,820 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-01-19 14:38:49,820 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-01-19 14:38:49,820 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-01-19 14:38:49,821 [s2@group-DB27D1BA5B58-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:38:49,821 [s2@group-DB27D1BA5B58-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:38:49,825 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s2: start RPC server
2023-01-19 14:38:49,827 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 38425
2023-01-19 14:38:49,827 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 34187
2023-01-19 14:38:49,827 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 32891
2023-01-19 14:38:49,828 [JvmPauseMonitor13] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2023-01-19 14:38:49,829 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-01-19 14:38:49,830 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-DB27D1BA5B58:t0, leader=null, voted=, raftlog=Memoized:s0@group-DB27D1BA5B58-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-DB27D1BA5B58:t0, leader=null, voted=, raftlog=Memoized:s1@group-DB27D1BA5B58-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-DB27D1BA5B58:t0, leader=null, voted=, raftlog=Memoized:s2@group-DB27D1BA5B58-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-01-19 14:38:49,830 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-DB27D1BA5B58:t0, leader=null, voted=, raftlog=Memoized:s0@group-DB27D1BA5B58-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-DB27D1BA5B58:t0, leader=null, voted=, raftlog=Memoized:s1@group-DB27D1BA5B58-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-DB27D1BA5B58:t0, leader=null, voted=, raftlog=Memoized:s2@group-DB27D1BA5B58-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-DB27D1BA5B58:t0, leader=null, voted=, raftlog=Memoized:s0@group-DB27D1BA5B58-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-DB27D1BA5B58:t0, leader=null, voted=, raftlog=Memoized:s1@group-DB27D1BA5B58-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-DB27D1BA5B58:t0, leader=null, voted=, raftlog=Memoized:s2@group-DB27D1BA5B58-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:173)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-01-19 14:38:49,994 [s1@group-DB27D1BA5B58-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-DB27D1BA5B58-FollowerState: change to CANDIDATE, lastRpcElapsedTime:190381324ns, electionTimeout:189ms
2023-01-19 14:38:49,994 [s1@group-DB27D1BA5B58-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-DB27D1BA5B58-FollowerState
2023-01-19 14:38:49,995 [s1@group-DB27D1BA5B58-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-DB27D1BA5B58: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-01-19 14:38:49,995 [s1@group-DB27D1BA5B58-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-01-19 14:38:49,995 [s1@group-DB27D1BA5B58-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-DB27D1BA5B58-LeaderElection11
2023-01-19 14:38:49,996 [s0@group-DB27D1BA5B58-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-DB27D1BA5B58-FollowerState: change to CANDIDATE, lastRpcElapsedTime:208908966ns, electionTimeout:208ms
2023-01-19 14:38:49,996 [s0@group-DB27D1BA5B58-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-DB27D1BA5B58-FollowerState
2023-01-19 14:38:49,996 [s0@group-DB27D1BA5B58-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-DB27D1BA5B58: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-01-19 14:38:49,996 [s1@group-DB27D1BA5B58-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-DB27D1BA5B58-LeaderElection11 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:49,997 [s1@group-DB27D1BA5B58-LeaderElection11-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2023-01-19 14:38:49,997 [s1@group-DB27D1BA5B58-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:38:49,997 [s1@group-DB27D1BA5B58-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:38:50,000 [s1@group-DB27D1BA5B58-LeaderElection11-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2023-01-19 14:38:50,000 [s0@group-DB27D1BA5B58-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-01-19 14:38:50,001 [s0@group-DB27D1BA5B58-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-DB27D1BA5B58-LeaderElection12
2023-01-19 14:38:50,002 [s2@group-DB27D1BA5B58-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-DB27D1BA5B58-FollowerState: change to CANDIDATE, lastRpcElapsedTime:181897084ns, electionTimeout:180ms
2023-01-19 14:38:50,002 [s2@group-DB27D1BA5B58-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-DB27D1BA5B58-FollowerState
2023-01-19 14:38:50,002 [s2@group-DB27D1BA5B58-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-DB27D1BA5B58: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-01-19 14:38:50,003 [s2@group-DB27D1BA5B58-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-01-19 14:38:50,003 [s2@group-DB27D1BA5B58-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-DB27D1BA5B58-LeaderElection13
2023-01-19 14:38:50,008 [s2@group-DB27D1BA5B58-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-DB27D1BA5B58-LeaderElection13 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:50,009 [s0@group-DB27D1BA5B58-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-DB27D1BA5B58-LeaderElection12 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:50,013 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s2@group-DB27D1BA5B58: receive requestVote(PRE_VOTE, s1, group-DB27D1BA5B58, 0, (t:0, i:0))
2023-01-19 14:38:50,013 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-DB27D1BA5B58-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-01-19 14:38:50,013 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s2@group-DB27D1BA5B58 replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-DB27D1BA5B58:t0, leader=null, voted=, raftlog=Memoized:s2@group-DB27D1BA5B58-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:50,015 [s1@group-DB27D1BA5B58-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-DB27D1BA5B58-LeaderElection11: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-01-19 14:38:50,015 [s1@group-DB27D1BA5B58-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s2#0:OK-t0
2023-01-19 14:38:50,016 [s1@group-DB27D1BA5B58-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-DB27D1BA5B58-LeaderElection11 PRE_VOTE round 0: result PASSED
2023-01-19 14:38:50,017 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s0@group-DB27D1BA5B58: receive requestVote(PRE_VOTE, s1, group-DB27D1BA5B58, 0, (t:0, i:0))
2023-01-19 14:38:50,017 [s2@group-DB27D1BA5B58-LeaderElection13-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2023-01-19 14:38:50,017 [s2@group-DB27D1BA5B58-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:38:50,021 [s2@group-DB27D1BA5B58-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:38:50,017 [s1@group-DB27D1BA5B58-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-DB27D1BA5B58-LeaderElection11 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:50,021 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-DB27D1BA5B58-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-01-19 14:38:50,023 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s0@group-DB27D1BA5B58 replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-DB27D1BA5B58:t0, leader=null, voted=, raftlog=Memoized:s0@group-DB27D1BA5B58-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:50,022 [s2@group-DB27D1BA5B58-LeaderElection13-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2023-01-19 14:38:50,032 [s0@group-DB27D1BA5B58-LeaderElection12-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2023-01-19 14:38:50,038 [s0@group-DB27D1BA5B58-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:38:50,039 [s0@group-DB27D1BA5B58-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:38:50,039 [s0@group-DB27D1BA5B58-LeaderElection12-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2023-01-19 14:38:50,040 [s1@group-DB27D1BA5B58-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:38:50,040 [s1@group-DB27D1BA5B58-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:38:50,047 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s0@group-DB27D1BA5B58: receive requestVote(ELECTION, s1, group-DB27D1BA5B58, 1, (t:0, i:0))
2023-01-19 14:38:50,047 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s1@group-DB27D1BA5B58: receive requestVote(PRE_VOTE, s2, group-DB27D1BA5B58, 0, (t:0, i:0))
2023-01-19 14:38:50,048 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-DB27D1BA5B58-CANDIDATE: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2023-01-19 14:38:50,048 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-DB27D1BA5B58-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-01-19 14:38:50,048 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s1@group-DB27D1BA5B58 replies to PRE_VOTE vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-DB27D1BA5B58:t1, leader=null, voted=s1, raftlog=Memoized:s1@group-DB27D1BA5B58-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:50,048 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-DB27D1BA5B58: changes role from CANDIDATE to FOLLOWER at term 1 for candidate:s1
2023-01-19 14:38:50,048 [grpc-default-executor-6] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-DB27D1BA5B58-LeaderElection12
2023-01-19 14:38:50,048 [grpc-default-executor-6] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-DB27D1BA5B58-FollowerState
2023-01-19 14:38:50,050 [s2@group-DB27D1BA5B58-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-DB27D1BA5B58-LeaderElection13: PRE_VOTE DISCOVERED_A_NEW_TERM (term=1) received 1 response(s) and 0 exception(s):
2023-01-19 14:38:50,050 [s2@group-DB27D1BA5B58-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s1#0:OK-t1
2023-01-19 14:38:50,050 [s2@group-DB27D1BA5B58-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-DB27D1BA5B58-LeaderElection13 PRE_VOTE round 0: result DISCOVERED_A_NEW_TERM (term=1)
2023-01-19 14:38:50,050 [s2@group-DB27D1BA5B58-LeaderElection13] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-DB27D1BA5B58: changes role from CANDIDATE to FOLLOWER at term 1 for DISCOVERED_A_NEW_TERM (term=1)
2023-01-19 14:38:50,050 [s2@group-DB27D1BA5B58-LeaderElection13] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-DB27D1BA5B58-LeaderElection13
2023-01-19 14:38:50,050 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s0@group-DB27D1BA5B58: receive requestVote(PRE_VOTE, s2, group-DB27D1BA5B58, 0, (t:0, i:0))
2023-01-19 14:38:50,050 [s2@group-DB27D1BA5B58-LeaderElection13] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-DB27D1BA5B58-FollowerState
2023-01-19 14:38:50,051 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s1@group-DB27D1BA5B58: receive requestVote(PRE_VOTE, s0, group-DB27D1BA5B58, 0, (t:0, i:0))
2023-01-19 14:38:50,051 [grpc-default-executor-9] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-DB27D1BA5B58-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-01-19 14:38:50,051 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s1@group-DB27D1BA5B58 replies to PRE_VOTE vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-DB27D1BA5B58:t1, leader=null, voted=s1, raftlog=Memoized:s1@group-DB27D1BA5B58-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:50,053 [s0@group-DB27D1BA5B58-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-DB27D1BA5B58-LeaderElection12: PRE_VOTE DISCOVERED_A_NEW_TERM (term=1) received 1 response(s) and 0 exception(s):
2023-01-19 14:38:50,053 [s0@group-DB27D1BA5B58-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t1
2023-01-19 14:38:50,053 [s0@group-DB27D1BA5B58-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-DB27D1BA5B58-LeaderElection12 PRE_VOTE round 0: result DISCOVERED_A_NEW_TERM (term=1)
2023-01-19 14:38:50,054 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s0@group-DB27D1BA5B58 replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-DB27D1BA5B58:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-DB27D1BA5B58-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:50,055 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-DB27D1BA5B58-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-01-19 14:38:50,055 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s0@group-DB27D1BA5B58 replies to PRE_VOTE vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-DB27D1BA5B58:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-DB27D1BA5B58-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:50,057 [s1@group-DB27D1BA5B58-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-DB27D1BA5B58-LeaderElection11: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-01-19 14:38:50,057 [s1@group-DB27D1BA5B58-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t1
2023-01-19 14:38:50,057 [s1@group-DB27D1BA5B58-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-DB27D1BA5B58-LeaderElection11 ELECTION round 0: result PASSED
2023-01-19 14:38:50,057 [s1@group-DB27D1BA5B58-LeaderElection11] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-DB27D1BA5B58-LeaderElection11
2023-01-19 14:38:50,057 [s1@group-DB27D1BA5B58-LeaderElection11] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-DB27D1BA5B58: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-01-19 14:38:50,057 [s1@group-DB27D1BA5B58-LeaderElection11] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-DB27D1BA5B58: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 285ms
2023-01-19 14:38:50,057 [s1@group-DB27D1BA5B58-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-01-19 14:38:50,058 [s1@group-DB27D1BA5B58-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-01-19 14:38:50,058 [s1@group-DB27D1BA5B58-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2023-01-19 14:38:50,058 [s1@group-DB27D1BA5B58-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-01-19 14:38:50,058 [s1@group-DB27D1BA5B58-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-01-19 14:38:50,058 [s1@group-DB27D1BA5B58-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-01-19 14:38:50,058 [s1@group-DB27D1BA5B58-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-01-19 14:38:50,058 [s1@group-DB27D1BA5B58-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-01-19 14:38:50,060 [s1@group-DB27D1BA5B58-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-01-19 14:38:50,060 [s1@group-DB27D1BA5B58-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:38:50,061 [s1@group-DB27D1BA5B58-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-01-19 14:38:50,061 [s1@group-DB27D1BA5B58-LeaderElection11] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2023-01-19 14:38:50,061 [s1@group-DB27D1BA5B58-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-01-19 14:38:50,061 [s1@group-DB27D1BA5B58-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-01-19 14:38:50,065 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s2@group-DB27D1BA5B58: receive requestVote(PRE_VOTE, s0, group-DB27D1BA5B58, 0, (t:0, i:0))
2023-01-19 14:38:50,069 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-DB27D1BA5B58-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-01-19 14:38:50,069 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s2@group-DB27D1BA5B58 replies to PRE_VOTE vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-DB27D1BA5B58:t1, leader=null, voted=null, raftlog=Memoized:s2@group-DB27D1BA5B58-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:50,064 [s0@group-DB27D1BA5B58-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:38:50,061 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s2@group-DB27D1BA5B58: receive requestVote(ELECTION, s1, group-DB27D1BA5B58, 1, (t:0, i:0))
2023-01-19 14:38:50,069 [s2@group-DB27D1BA5B58-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:38:50,069 [s2@group-DB27D1BA5B58-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:38:50,069 [s1@group-DB27D1BA5B58-LeaderElection11] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-01-19 14:38:50,070 [s0@group-DB27D1BA5B58-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:38:50,069 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-DB27D1BA5B58-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2023-01-19 14:38:50,070 [s1@group-DB27D1BA5B58-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-01-19 14:38:50,070 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-DB27D1BA5B58: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2023-01-19 14:38:50,070 [grpc-default-executor-6] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-DB27D1BA5B58-FollowerState
2023-01-19 14:38:50,070 [grpc-default-executor-6] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-DB27D1BA5B58-FollowerState
2023-01-19 14:38:50,070 [s2@group-DB27D1BA5B58-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-DB27D1BA5B58-FollowerState was interrupted
2023-01-19 14:38:50,071 [s1@group-DB27D1BA5B58-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-01-19 14:38:50,071 [s1@group-DB27D1BA5B58-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:38:50,071 [s1@group-DB27D1BA5B58-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-01-19 14:38:50,071 [s1@group-DB27D1BA5B58-LeaderElection11] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2023-01-19 14:38:50,071 [s1@group-DB27D1BA5B58-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-01-19 14:38:50,071 [s1@group-DB27D1BA5B58-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-01-19 14:38:50,072 [s1@group-DB27D1BA5B58-LeaderElection11] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-01-19 14:38:50,072 [s1@group-DB27D1BA5B58-LeaderElection11] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-01-19 14:38:50,072 [s1@group-DB27D1BA5B58-LeaderElection11] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-DB27D1BA5B58-LeaderStateImpl
2023-01-19 14:38:50,072 [s1@group-DB27D1BA5B58-LeaderElection11] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s1@group-DB27D1BA5B58-SegmentedRaftLogWorker: Starting segment from index:0
2023-01-19 14:38:50,078 [s2@group-DB27D1BA5B58-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:38:50,078 [s2@group-DB27D1BA5B58-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:38:50,082 [s1@group-DB27D1BA5B58-LeaderElection11] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s1@group-DB27D1BA5B58: set configuration 0: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:50,084 [s1@group-DB27D1BA5B58-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-DB27D1BA5B58-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcc2d76647/s1/5cf66164-212f-463a-935f-db27d1ba5b58/current/log_inprogress_0
2023-01-19 14:38:50,085 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s2@group-DB27D1BA5B58 replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-DB27D1BA5B58:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-DB27D1BA5B58-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:50,095 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-DB27D1BA5B58: change Leader from null to s1 at term 1 for appendEntries, leader elected after 336ms
2023-01-19 14:38:50,096 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-DB27D1BA5B58: change Leader from null to s1 at term 1 for appendEntries, leader elected after 321ms
2023-01-19 14:38:50,108 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s2@group-DB27D1BA5B58: set configuration 0: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:50,108 [s2-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s2@group-DB27D1BA5B58-SegmentedRaftLogWorker: Starting segment from index:0
2023-01-19 14:38:50,114 [s0-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-DB27D1BA5B58: set configuration 0: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:50,114 [s0-server-thread3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-DB27D1BA5B58-SegmentedRaftLogWorker: Starting segment from index:0
2023-01-19 14:38:50,128 [s2@group-DB27D1BA5B58-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-DB27D1BA5B58-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcc2d76647/s2/5cf66164-212f-463a-935f-db27d1ba5b58/current/log_inprogress_0
2023-01-19 14:38:50,128 [s0@group-DB27D1BA5B58-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-DB27D1BA5B58-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcc2d76647/s0/5cf66164-212f-463a-935f-db27d1ba5b58/current/log_inprogress_0
2023-01-19 14:38:50,281 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-DB27D1BA5B58:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-DB27D1BA5B58-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-DB27D1BA5B58:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-DB27D1BA5B58-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-DB27D1BA5B58:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-DB27D1BA5B58-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-01-19 14:38:50,281 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:38:50,281 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:38:50,294 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-CD5E834ECA9D->s0: receive RaftClientReply:client-CD5E834ECA9D->s0@group-DB27D1BA5B58, cid=54, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-DB27D1BA5B58 is not the leader s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s0:c0, s1:c0, s2:c0]
2023-01-19 14:38:50,296 [timer3] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:38:50,296 [timer3] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:38:50,304 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-CD5E834ECA9D->s1: receive RaftClientReply:client-CD5E834ECA9D->s1@group-DB27D1BA5B58, cid=54, SUCCESS, logIndex=0, commits[s1:c0, s0:c0, s2:c0]
2023-01-19 14:38:50,310 [s1@group-DB27D1BA5B58-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 55@client-CD5E834ECA9D
2023-01-19 14:38:50,313 [s0@group-DB27D1BA5B58-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 55@client-CD5E834ECA9D
2023-01-19 14:38:50,314 [s2@group-DB27D1BA5B58-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 55@client-CD5E834ECA9D
2023-01-19 14:38:50,314 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-CD5E834ECA9D->s1: receive RaftClientReply:client-CD5E834ECA9D->s1@group-DB27D1BA5B58, cid=55, SUCCESS, logIndex=1, commits[s1:c1, s0:c0, s2:c0]
2023-01-19 14:38:50,325 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:38:50,326 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:38:50,336 [s1@group-DB27D1BA5B58-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-554807755843
2023-01-19 14:38:50,339 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-554807755843->s1: receive RaftClientReply:client-554807755843->s1@group-DB27D1BA5B58, cid=1, SUCCESS, logIndex=3, commits[s1:c3, s0:c2, s2:c1]
2023-01-19 14:38:50,339 [s2@group-DB27D1BA5B58-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-554807755843
2023-01-19 14:38:50,341 [s0@group-DB27D1BA5B58-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-554807755843
2023-01-19 14:38:50,342 [Time-limited test] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:block(135)) - block START_TRANSACTION
2023-01-19 14:38:50,343 [Time-limited test] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:blockRequestor(49)) - Block requestor s1
2023-01-19 14:38:50,344 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-01-19 14:38:50,344 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-DB27D1BA5B58:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-DB27D1BA5B58-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-DB27D1BA5B58:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-DB27D1BA5B58-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-DB27D1BA5B58:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-DB27D1BA5B58-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-01-19 14:38:50,344 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-DB27D1BA5B58:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-DB27D1BA5B58-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-DB27D1BA5B58:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-DB27D1BA5B58-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-DB27D1BA5B58:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-DB27D1BA5B58-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-01-19 14:38:50,346 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "changeLeader-changeLeader", attempt #1/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:199)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-01-19 14:38:50,418 [s2-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s2: Block request from s1
2023-01-19 14:38:50,418 [s0-server-thread3] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s1
2023-01-19 14:38:50,447 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-01-19 14:38:50,448 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-DB27D1BA5B58:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-DB27D1BA5B58-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-DB27D1BA5B58:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-DB27D1BA5B58-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-DB27D1BA5B58:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-DB27D1BA5B58-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-01-19 14:38:50,448 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-DB27D1BA5B58:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-DB27D1BA5B58-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-DB27D1BA5B58:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-DB27D1BA5B58-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-DB27D1BA5B58:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-DB27D1BA5B58-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-01-19 14:38:50,448 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "changeLeader-changeLeader", attempt #2/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:199)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-01-19 14:38:50,548 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-01-19 14:38:50,549 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-DB27D1BA5B58:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-DB27D1BA5B58-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-DB27D1BA5B58:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-DB27D1BA5B58-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-DB27D1BA5B58:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-DB27D1BA5B58-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-01-19 14:38:50,549 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-DB27D1BA5B58:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-DB27D1BA5B58-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-DB27D1BA5B58:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-DB27D1BA5B58-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-DB27D1BA5B58:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-DB27D1BA5B58-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-01-19 14:38:50,549 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "changeLeader-changeLeader", attempt #3/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:199)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-01-19 14:38:50,650 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-01-19 14:38:50,650 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-DB27D1BA5B58:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-DB27D1BA5B58-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-DB27D1BA5B58:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-DB27D1BA5B58-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-DB27D1BA5B58:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-DB27D1BA5B58-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-01-19 14:38:50,650 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-DB27D1BA5B58:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-DB27D1BA5B58-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-DB27D1BA5B58:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-DB27D1BA5B58-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-DB27D1BA5B58:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-DB27D1BA5B58-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-01-19 14:38:50,650 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "changeLeader-changeLeader", attempt #4/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:199)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-01-19 14:38:50,683 [s0@group-DB27D1BA5B58-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-DB27D1BA5B58-FollowerState: change to CANDIDATE, lastRpcElapsedTime:342792427ns, electionTimeout:196ms
2023-01-19 14:38:50,684 [s0@group-DB27D1BA5B58-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-DB27D1BA5B58-FollowerState
2023-01-19 14:38:50,684 [s0@group-DB27D1BA5B58-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-DB27D1BA5B58: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-01-19 14:38:50,684 [s0@group-DB27D1BA5B58-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-01-19 14:38:50,684 [s0@group-DB27D1BA5B58-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-DB27D1BA5B58-LeaderElection14
2023-01-19 14:38:50,684 [s0@group-DB27D1BA5B58-LeaderElection14] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-DB27D1BA5B58: change Leader from s1 to null at term 1 for PRE_VOTE
2023-01-19 14:38:50,686 [s0@group-DB27D1BA5B58-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-DB27D1BA5B58-LeaderElection14 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:50,688 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s1@group-DB27D1BA5B58: receive requestVote(PRE_VOTE, s0, group-DB27D1BA5B58, 1, (t:1, i:4))
2023-01-19 14:38:50,688 [grpc-default-executor-4] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1104)) - s1@group-DB27D1BA5B58-LeaderStateImpl: Lost leadership on term: 1. Election timeout: 300ms. In charge for: 630ms. Conf: 0: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:50,688 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s2@group-DB27D1BA5B58: receive requestVote(PRE_VOTE, s0, group-DB27D1BA5B58, 1, (t:1, i:4))
2023-01-19 14:38:50,688 [grpc-default-executor-10] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-DB27D1BA5B58-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-01-19 14:38:50,689 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s2@group-DB27D1BA5B58 replies to PRE_VOTE vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-DB27D1BA5B58:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-DB27D1BA5B58-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:50,689 [grpc-default-executor-4] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$18(1108)) - Follower s1@group-DB27D1BA5B58->s0(c3,m4,n5, attendVote=true, lastRpcSendTime=3, lastRpcResponseTime=347)
2023-01-19 14:38:50,689 [grpc-default-executor-4] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$18(1108)) - Follower s1@group-DB27D1BA5B58->s2(c3,m4,n5, attendVote=true, lastRpcSendTime=3, lastRpcResponseTime=347)
2023-01-19 14:38:50,689 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-DB27D1BA5B58: changes role from    LEADER to FOLLOWER at term 1 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2023-01-19 14:38:50,689 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-DB27D1BA5B58-LeaderStateImpl
2023-01-19 14:38:50,689 [grpc-default-executor-4] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-DB27D1BA5B58-PendingRequests: sendNotLeaderResponses
2023-01-19 14:38:50,689 [s1@group-DB27D1BA5B58->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s1@group-DB27D1BA5B58->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2023-01-19 14:38:50,690 [s1@group-DB27D1BA5B58->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s1@group-DB27D1BA5B58->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2023-01-19 14:38:50,691 [grpc-default-executor-4] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-DB27D1BA5B58: change Leader from s1 to null at term 1 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2023-01-19 14:38:50,691 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-DB27D1BA5B58-FollowerState
2023-01-19 14:38:50,692 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-DB27D1BA5B58-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-01-19 14:38:50,692 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s1@group-DB27D1BA5B58 replies to PRE_VOTE vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-DB27D1BA5B58:t1, leader=null, voted=s1, raftlog=Memoized:s1@group-DB27D1BA5B58-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:50,694 [s0@group-DB27D1BA5B58-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-DB27D1BA5B58-LeaderElection14: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-01-19 14:38:50,694 [s0@group-DB27D1BA5B58-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s2#0:OK-t1
2023-01-19 14:38:50,694 [s0@group-DB27D1BA5B58-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-DB27D1BA5B58-LeaderElection14 PRE_VOTE round 0: result PASSED
2023-01-19 14:38:50,695 [s0@group-DB27D1BA5B58-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-DB27D1BA5B58-LeaderElection14 ELECTION round 0: submit vote requests at term 2 for 0: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:50,697 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s1@group-DB27D1BA5B58: receive requestVote(ELECTION, s0, group-DB27D1BA5B58, 2, (t:1, i:4))
2023-01-19 14:38:50,697 [grpc-default-executor-10] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-DB27D1BA5B58-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2023-01-19 14:38:50,697 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-DB27D1BA5B58: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s0
2023-01-19 14:38:50,697 [grpc-default-executor-10] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-DB27D1BA5B58-FollowerState
2023-01-19 14:38:50,697 [grpc-default-executor-10] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-DB27D1BA5B58-FollowerState
2023-01-19 14:38:50,697 [s1@group-DB27D1BA5B58-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-DB27D1BA5B58-FollowerState was interrupted
2023-01-19 14:38:50,708 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s1@group-DB27D1BA5B58 replies to ELECTION vote request: s0<-s1#0:OK-t2. Peer's state: s1@group-DB27D1BA5B58:t2, leader=null, voted=s0, raftlog=Memoized:s1@group-DB27D1BA5B58-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:50,709 [s0@group-DB27D1BA5B58-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-DB27D1BA5B58-LeaderElection14: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-01-19 14:38:50,709 [s0@group-DB27D1BA5B58-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t2
2023-01-19 14:38:50,709 [s0@group-DB27D1BA5B58-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-DB27D1BA5B58-LeaderElection14 ELECTION round 0: result PASSED
2023-01-19 14:38:50,709 [s0@group-DB27D1BA5B58-LeaderElection14] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-DB27D1BA5B58-LeaderElection14
2023-01-19 14:38:50,709 [s0@group-DB27D1BA5B58-LeaderElection14] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-DB27D1BA5B58: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2023-01-19 14:38:50,709 [s0@group-DB27D1BA5B58-LeaderElection14] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-DB27D1BA5B58: change Leader from null to s0 at term 2 for becomeLeader, leader elected after 24ms
2023-01-19 14:38:50,709 [s0@group-DB27D1BA5B58-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-01-19 14:38:50,709 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s2@group-DB27D1BA5B58: receive requestVote(ELECTION, s0, group-DB27D1BA5B58, 2, (t:1, i:4))
2023-01-19 14:38:50,709 [s0@group-DB27D1BA5B58-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-01-19 14:38:50,709 [grpc-default-executor-10] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-DB27D1BA5B58-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2023-01-19 14:38:50,710 [grpc-default-executor-10] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-DB27D1BA5B58: change Leader from s1 to null at term 2 for updateCurrentTerm
2023-01-19 14:38:50,710 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-DB27D1BA5B58: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s0
2023-01-19 14:38:50,710 [grpc-default-executor-10] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-DB27D1BA5B58-FollowerState
2023-01-19 14:38:50,710 [s0@group-DB27D1BA5B58-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2023-01-19 14:38:50,710 [s2@group-DB27D1BA5B58-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-DB27D1BA5B58-FollowerState was interrupted
2023-01-19 14:38:50,710 [grpc-default-executor-10] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-DB27D1BA5B58-FollowerState
2023-01-19 14:38:50,711 [s0@group-DB27D1BA5B58-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-01-19 14:38:50,711 [s0@group-DB27D1BA5B58-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-01-19 14:38:50,711 [s0@group-DB27D1BA5B58-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-01-19 14:38:50,711 [s0@group-DB27D1BA5B58-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-01-19 14:38:50,711 [s0@group-DB27D1BA5B58-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-01-19 14:38:50,712 [s0@group-DB27D1BA5B58-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-01-19 14:38:50,712 [s0@group-DB27D1BA5B58-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:38:50,712 [s0@group-DB27D1BA5B58-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-01-19 14:38:50,712 [s0@group-DB27D1BA5B58-LeaderElection14] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2023-01-19 14:38:50,712 [s0@group-DB27D1BA5B58-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-01-19 14:38:50,712 [s0@group-DB27D1BA5B58-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-01-19 14:38:50,712 [s0@group-DB27D1BA5B58-LeaderElection14] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-01-19 14:38:50,712 [s0@group-DB27D1BA5B58-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-01-19 14:38:50,713 [s0@group-DB27D1BA5B58-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-01-19 14:38:50,713 [s0@group-DB27D1BA5B58-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:38:50,713 [s0@group-DB27D1BA5B58-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-01-19 14:38:50,713 [s0@group-DB27D1BA5B58-LeaderElection14] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2023-01-19 14:38:50,713 [s0@group-DB27D1BA5B58-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-01-19 14:38:50,715 [s0@group-DB27D1BA5B58-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-01-19 14:38:50,715 [s0@group-DB27D1BA5B58-LeaderElection14] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-01-19 14:38:50,715 [s0@group-DB27D1BA5B58-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-01-19 14:38:50,716 [s0@group-DB27D1BA5B58-LeaderElection14] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-DB27D1BA5B58-LeaderStateImpl
2023-01-19 14:38:50,716 [s0@group-DB27D1BA5B58-LeaderElection14] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s0@group-DB27D1BA5B58-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2023-01-19 14:38:50,714 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s2@group-DB27D1BA5B58 replies to ELECTION vote request: s0<-s2#0:OK-t2. Peer's state: s2@group-DB27D1BA5B58:t2, leader=null, voted=s0, raftlog=Memoized:s2@group-DB27D1BA5B58-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:50,722 [s0@group-DB27D1BA5B58-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcc2d76647/s0/5cf66164-212f-463a-935f-db27d1ba5b58/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcc2d76647/s0/5cf66164-212f-463a-935f-db27d1ba5b58/current/log_0-4
2023-01-19 14:38:50,723 [s0@group-DB27D1BA5B58-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s0@group-DB27D1BA5B58-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcc2d76647/s0/5cf66164-212f-463a-935f-db27d1ba5b58/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcc2d76647/s0/5cf66164-212f-463a-935f-db27d1ba5b58/current/log_0-4
2023-01-19 14:38:50,738 [s0@group-DB27D1BA5B58-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-DB27D1BA5B58-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcc2d76647/s0/5cf66164-212f-463a-935f-db27d1ba5b58/current/log_inprogress_5
2023-01-19 14:38:50,740 [s0@group-DB27D1BA5B58-LeaderElection14] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-DB27D1BA5B58: set configuration 5: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:50,742 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-DB27D1BA5B58: change Leader from null to s0 at term 2 for appendEntries, leader elected after 50ms
2023-01-19 14:38:50,746 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-DB27D1BA5B58: change Leader from null to s0 at term 2 for appendEntries, leader elected after 36ms
2023-01-19 14:38:50,750 [s2-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s2@group-DB27D1BA5B58: set configuration 5: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:50,750 [s2-server-thread3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s2@group-DB27D1BA5B58-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2023-01-19 14:38:50,751 [s2@group-DB27D1BA5B58-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcc2d76647/s2/5cf66164-212f-463a-935f-db27d1ba5b58/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcc2d76647/s2/5cf66164-212f-463a-935f-db27d1ba5b58/current/log_0-4
2023-01-19 14:38:50,751 [s2@group-DB27D1BA5B58-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s2@group-DB27D1BA5B58-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcc2d76647/s2/5cf66164-212f-463a-935f-db27d1ba5b58/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcc2d76647/s2/5cf66164-212f-463a-935f-db27d1ba5b58/current/log_0-4
2023-01-19 14:38:50,754 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-01-19 14:38:50,755 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-DB27D1BA5B58:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-DB27D1BA5B58-SegmentedRaftLog:OPENED:c3, conf=5: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-DB27D1BA5B58:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-DB27D1BA5B58-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-DB27D1BA5B58:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-DB27D1BA5B58-SegmentedRaftLog:OPENED:c3, conf=5: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-01-19 14:38:50,755 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: Leader: s0@group-DB27D1BA5B58 not ready, sleep 450ms and then retry.
java.lang.IllegalStateException: Leader: s0@group-DB27D1BA5B58 not ready
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:114)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:431)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:199)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-01-19 14:38:50,758 [s1-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s1@group-DB27D1BA5B58: set configuration 5: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:50,758 [s1-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s1@group-DB27D1BA5B58-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2023-01-19 14:38:50,763 [s1@group-DB27D1BA5B58-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcc2d76647/s1/5cf66164-212f-463a-935f-db27d1ba5b58/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcc2d76647/s1/5cf66164-212f-463a-935f-db27d1ba5b58/current/log_0-4
2023-01-19 14:38:50,764 [s1@group-DB27D1BA5B58-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s1@group-DB27D1BA5B58-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcc2d76647/s1/5cf66164-212f-463a-935f-db27d1ba5b58/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcc2d76647/s1/5cf66164-212f-463a-935f-db27d1ba5b58/current/log_0-4
2023-01-19 14:38:50,764 [s2@group-DB27D1BA5B58-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-DB27D1BA5B58-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcc2d76647/s2/5cf66164-212f-463a-935f-db27d1ba5b58/current/log_inprogress_5
2023-01-19 14:38:50,778 [s1@group-DB27D1BA5B58-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-DB27D1BA5B58-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcc2d76647/s1/5cf66164-212f-463a-935f-db27d1ba5b58/current/log_inprogress_5
2023-01-19 14:38:51,206 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-DB27D1BA5B58:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-DB27D1BA5B58-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-DB27D1BA5B58:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-DB27D1BA5B58-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-DB27D1BA5B58:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-DB27D1BA5B58-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-01-19 14:38:51,206 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s1 to s0
2023-01-19 14:38:51,206 [Time-limited test] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:unblockRequestor(54)) - UnBlock requestor s1
2023-01-19 14:38:51,207 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'request should fail'
2023-01-19 14:38:51,207 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "request should fail" throws ExecutionException
java.util.concurrent.ExecutionException: org.apache.ratis.protocol.exceptions.AlreadyClosedException: client-554807755843->s1: Stream completed: no reply for async request cid=2
	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)
	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:203)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.AlreadyClosedException: client-554807755843->s1: Stream completed: no reply for async request cid=2
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:396)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onCompleted(GrpcClientProtocolClient.java:336)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:485)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	... 1 more
2023-01-19 14:38:51,208 [Time-limited test] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:unblock(142)) - unblock START_TRANSACTION
2023-01-19 14:38:51,209 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:38:51,209 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:38:51,212 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'request should timeout'
2023-01-19 14:38:51,320 [s0-server-thread3] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s1
2023-01-19 14:38:51,323 [s2-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s2: unBlock request from s1
2023-01-19 14:38:51,326 [grpc-default-executor-9] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s0: Completed APPEND_ENTRIES, lastRequest: s1->s0#19-t1,previous=(t:1, i:3),leaderCommit=3,initializing? true,entries: size=1, first=(t:1, i:4), METADATAENTRY(c:3)
2023-01-19 14:38:51,330 [grpc-default-executor-9] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s2: Completed APPEND_ENTRIES, lastRequest: s1->s2#19-t1,previous=(t:1, i:3),leaderCommit=3,initializing? true,entries: size=1, first=(t:1, i:4), METADATAENTRY(c:3)
2023-01-19 14:38:51,331 [grpc-default-executor-9] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s1@group-DB27D1BA5B58->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-01-19 14:38:51,331 [grpc-default-executor-9] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s1@group-DB27D1BA5B58->s2: nextIndex: updateUnconditionally 5 -> 4
2023-01-19 14:38:51,332 [grpc-default-executor-9] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s1@group-DB27D1BA5B58->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-01-19 14:38:51,332 [grpc-default-executor-9] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s1@group-DB27D1BA5B58->s0: nextIndex: updateUnconditionally 5 -> 4
2023-01-19 14:38:52,212 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "request should timeout" throws ExecutionException
java.util.concurrent.ExecutionException: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-554807755843->s1 request #3 timeout 1s
	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)
	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:211)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-554807755843->s1 request #3 timeout 1s
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:374)
	at java.base/java.util.Optional.ifPresent(Optional.java:183)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.handleReplyFuture(GrpcClientProtocolClient.java:378)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.timeoutCheck(GrpcClientProtocolClient.java:373)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$onNext$3(GrpcClientProtocolClient.java:366)
	at org.apache.ratis.util.TimeoutTimer.lambda$onTimeout$2(TimeoutTimer.java:101)
	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:79)
	at org.apache.ratis.util.TimeoutTimer$Task.run(TimeoutTimer.java:55)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
2023-01-19 14:38:52,222 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-554807755843->s1: receive RaftClientReply:client-554807755843->s1@group-DB27D1BA5B58, cid=3, FAILED org.apache.ratis.protocol.exceptions.AlreadyClosedException: SlidingWindow$Server:2-OrderedRequestStreamObserver2 is closing: seq = 3 > nextToProcess = -1 will NEVER be processed; request = 3:null, logIndex=0, commits[]
2023-01-19 14:38:55,213 [Time-limited test] WARN  grpc.GrpcUtil (GrpcUtil.java:shutdownManagedChannel(223)) - Timed out gracefully shutting down connection: ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=503, target=localhost:36859}}. 
2023-01-19 14:38:55,218 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-01-19 14:38:55,218 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-01-19 14:38:55,218 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2023-01-19 14:38:55,218 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-01-19 14:38:55,218 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-01-19 14:38:55,218 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-DB27D1BA5B58:t2, leader=s0, voted=s0, raftlog=Memoized:s0@group-DB27D1BA5B58-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-DB27D1BA5B58:t2, leader=s0, voted=s0, raftlog=Memoized:s1@group-DB27D1BA5B58-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-DB27D1BA5B58:t2, leader=s0, voted=s0, raftlog=Memoized:s2@group-DB27D1BA5B58-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:43093|admin:localhost:33533|client:localhost:46273|dataStream:localhost:34923|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34355|admin:localhost:34359|client:localhost:36859|dataStream:localhost:40671|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34187|admin:localhost:32891|client:localhost:38425|dataStream:localhost:45693|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-01-19 14:38:55,219 [MiniRaftCluster-12] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2023-01-19 14:38:55,220 [MiniRaftCluster-14] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s2: close
2023-01-19 14:38:55,219 [MiniRaftCluster-13] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s1: close
2023-01-19 14:38:55,220 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s1@group-DB27D1BA5B58: shutdown
2023-01-19 14:38:55,220 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-DB27D1BA5B58,id=s1
2023-01-19 14:38:55,220 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-DB27D1BA5B58-FollowerState
2023-01-19 14:38:55,220 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-DB27D1BA5B58-StateMachineUpdater: set stopIndex = 6
2023-01-19 14:38:55,221 [s1@group-DB27D1BA5B58-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-DB27D1BA5B58-FollowerState was interrupted
2023-01-19 14:38:55,221 [MiniRaftCluster-13] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-01-19 14:38:55,222 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s1@group-DB27D1BA5B58: applyIndex: 6
2023-01-19 14:38:55,222 [s1@group-DB27D1BA5B58-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s1@group-DB27D1BA5B58-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2023-01-19 14:38:55,227 [MiniRaftCluster-13] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s0 Close channels
2023-01-19 14:38:55,229 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-DB27D1BA5B58: shutdown
2023-01-19 14:38:55,229 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-DB27D1BA5B58,id=s0
2023-01-19 14:38:55,229 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-DB27D1BA5B58-LeaderStateImpl
2023-01-19 14:38:55,229 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-DB27D1BA5B58-PendingRequests: sendNotLeaderResponses
2023-01-19 14:38:55,229 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s1@group-DB27D1BA5B58-SegmentedRaftLogWorker close()
2023-01-19 14:38:55,229 [s0@group-DB27D1BA5B58->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s0@group-DB27D1BA5B58->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2023-01-19 14:38:55,230 [s0@group-DB27D1BA5B58->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s0@group-DB27D1BA5B58->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2023-01-19 14:38:55,230 [MiniRaftCluster-14] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-01-19 14:38:55,230 [MiniRaftCluster-12] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-01-19 14:38:55,230 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s2@group-DB27D1BA5B58: shutdown
2023-01-19 14:38:55,230 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-DB27D1BA5B58,id=s2
2023-01-19 14:38:55,230 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-DB27D1BA5B58-FollowerState
2023-01-19 14:38:55,231 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-DB27D1BA5B58-StateMachineUpdater: set stopIndex = 6
2023-01-19 14:38:55,231 [s2@group-DB27D1BA5B58-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-DB27D1BA5B58-FollowerState was interrupted
2023-01-19 14:38:55,231 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s2: Completed APPEND_ENTRIES, lastRequest: s0->s2#2-t2,previous=(t:2, i:5),leaderCommit=5,initializing? true,entries: size=1, first=(t:2, i:6), METADATAENTRY(c:5)
2023-01-19 14:38:55,234 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s2@group-DB27D1BA5B58: applyIndex: 6
2023-01-19 14:38:55,234 [s2@group-DB27D1BA5B58-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s2@group-DB27D1BA5B58-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2023-01-19 14:38:55,234 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#2-t2,previous=(t:2, i:5),leaderCommit=5,initializing? true,entries: size=1, first=(t:2, i:6), METADATAENTRY(c:5)
2023-01-19 14:38:55,235 [grpc-default-executor-9] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s0@group-DB27D1BA5B58->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-01-19 14:38:55,235 [grpc-default-executor-9] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-DB27D1BA5B58->s2: nextIndex: updateUnconditionally 7 -> 6
2023-01-19 14:38:55,235 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s0@group-DB27D1BA5B58->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-01-19 14:38:55,235 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-DB27D1BA5B58->s1: nextIndex: updateUnconditionally 7 -> 6
2023-01-19 14:38:55,238 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-DB27D1BA5B58-StateMachineUpdater: set stopIndex = 6
2023-01-19 14:38:55,238 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s0@group-DB27D1BA5B58: applyIndex: 6
2023-01-19 14:38:55,239 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s2@group-DB27D1BA5B58-SegmentedRaftLogWorker close()
2023-01-19 14:38:55,239 [s0@group-DB27D1BA5B58-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s0@group-DB27D1BA5B58-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2023-01-19 14:38:55,240 [MiniRaftCluster-13] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s2 Close channels
2023-01-19 14:38:55,241 [MiniRaftCluster-13] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-01-19 14:38:55,241 [MiniRaftCluster-13] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server GrpcServerProtocolService now
2023-01-19 14:38:55,241 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s0@group-DB27D1BA5B58-SegmentedRaftLogWorker close()
2023-01-19 14:38:55,245 [MiniRaftCluster-14] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s0 Close channels
2023-01-19 14:38:55,249 [MiniRaftCluster-14] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s1 Close channels
2023-01-19 14:38:55,249 [MiniRaftCluster-14] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-01-19 14:38:55,249 [MiniRaftCluster-14] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server GrpcServerProtocolService now
2023-01-19 14:38:55,250 [MiniRaftCluster-14] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server GrpcServerProtocolService successfully
2023-01-19 14:38:55,250 [MiniRaftCluster-14] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-01-19 14:38:55,251 [MiniRaftCluster-14] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-01-19 14:38:55,251 [MiniRaftCluster-12] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s1 Close channels
2023-01-19 14:38:55,251 [JvmPauseMonitor13] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s2: Stopped
2023-01-19 14:38:55,252 [MiniRaftCluster-12] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s2 Close channels
2023-01-19 14:38:55,252 [MiniRaftCluster-12] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-01-19 14:38:55,252 [MiniRaftCluster-12] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server GrpcServerProtocolService now
2023-01-19 14:38:55,252 [MiniRaftCluster-13] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server GrpcServerProtocolService successfully
2023-01-19 14:38:55,253 [MiniRaftCluster-13] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-01-19 14:38:55,253 [MiniRaftCluster-13] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-01-19 14:38:55,253 [JvmPauseMonitor12] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2023-01-19 14:38:55,254 [MiniRaftCluster-12] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server GrpcServerProtocolService successfully
2023-01-19 14:38:55,254 [MiniRaftCluster-12] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-01-19 14:38:55,257 [MiniRaftCluster-12] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-01-19 14:38:55,257 [JvmPauseMonitor11] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2023-01-19 14:38:55,257 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2023-01-19 14:38:55,258 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-01-19 14:38:55,258 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-01-19 14:38:55,258 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2023-01-19 14:38:55,263 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2023-01-19 14:38:55,264 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-F6FE5A9C8DD7:[s0|rpc:localhost:38387|admin:localhost:34403|client:localhost:45595|dataStream:localhost:37485|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38993|admin:localhost:44817|client:localhost:46647|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38545|admin:localhost:40497|client:localhost:39511|dataStream:localhost:41399|priority:0|startupRole:FOLLOWER]
2023-01-19 14:38:55,264 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-01-19 14:38:55,264 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-01-19 14:38:55,264 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2023-01-19 14:38:55,264 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-01-19 14:38:55,264 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-01-19 14:38:55,264 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-01-19 14:38:55,264 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-F6FE5A9C8DD7:[s0|rpc:localhost:38387|admin:localhost:34403|client:localhost:45595|dataStream:localhost:37485|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38993|admin:localhost:44817|client:localhost:46647|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38545|admin:localhost:40497|client:localhost:39511|dataStream:localhost:41399|priority:0|startupRole:FOLLOWER], format? true
2023-01-19 14:38:55,265 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/f0947725/MiniRaftClusterWithGrpcd0340e66/s0
2023-01-19 14:38:55,265 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/f0947725/MiniRaftClusterWithGrpcd0340e66/s0 does not exist.
2023-01-19 14:38:55,265 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/f0947725/MiniRaftClusterWithGrpcd0340e66/s0
2023-01-19 14:38:55,265 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-01-19 14:38:55,265 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:38:55,266 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 34403 (custom)
2023-01-19 14:38:55,266 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:38:55,266 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 45595 (custom)
2023-01-19 14:38:55,266 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-01-19 14:38:55,266 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 38387 (custom)
2023-01-19 14:38:55,266 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:38:55,266 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:38:55,267 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:38:55,267 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-01-19 14:38:55,267 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-01-19 14:38:55,267 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-01-19 14:38:55,267 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-01-19 14:38:55,269 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-01-19 14:38:55,269 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-01-19 14:38:55,269 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-01-19 14:38:55,270 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-01-19 14:38:55,270 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-01-19 14:38:55,270 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcd0340e66/s0] (custom)
2023-01-19 14:38:55,271 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-F6FE5A9C8DD7:[s0|rpc:localhost:38387|admin:localhost:34403|client:localhost:45595|dataStream:localhost:37485|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38993|admin:localhost:44817|client:localhost:46647|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38545|admin:localhost:40497|client:localhost:39511|dataStream:localhost:41399|priority:0|startupRole:FOLLOWER] returns group-F6FE5A9C8DD7:java.util.concurrent.CompletableFuture@4ab47d7b[Not completed]
2023-01-19 14:38:55,271 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-F6FE5A9C8DD7:[s0|rpc:localhost:38387|admin:localhost:34403|client:localhost:45595|dataStream:localhost:37485|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38993|admin:localhost:44817|client:localhost:46647|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38545|admin:localhost:40497|client:localhost:39511|dataStream:localhost:41399|priority:0|startupRole:FOLLOWER], format? true
2023-01-19 14:38:55,271 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/f0947725/MiniRaftClusterWithGrpcd0340e66/s1
2023-01-19 14:38:55,271 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/f0947725/MiniRaftClusterWithGrpcd0340e66/s1 does not exist.
2023-01-19 14:38:55,271 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/f0947725/MiniRaftClusterWithGrpcd0340e66/s1
2023-01-19 14:38:55,271 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-01-19 14:38:55,271 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:38:55,271 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 44817 (custom)
2023-01-19 14:38:55,271 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:38:55,271 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 46647 (custom)
2023-01-19 14:38:55,272 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-01-19 14:38:55,272 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 38993 (custom)
2023-01-19 14:38:55,272 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:38:55,272 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:38:55,272 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:38:55,272 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-01-19 14:38:55,272 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-01-19 14:38:55,272 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-01-19 14:38:55,272 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-01-19 14:38:55,274 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-01-19 14:38:55,274 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-01-19 14:38:55,274 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-01-19 14:38:55,274 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-01-19 14:38:55,274 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-01-19 14:38:55,275 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcd0340e66/s1] (custom)
2023-01-19 14:38:55,275 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:38:55,275 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-01-19 14:38:55,275 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-01-19 14:38:55,275 [pool-19-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-F6FE5A9C8DD7:[s0|rpc:localhost:38387|admin:localhost:34403|client:localhost:45595|dataStream:localhost:37485|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38993|admin:localhost:44817|client:localhost:46647|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38545|admin:localhost:40497|client:localhost:39511|dataStream:localhost:41399|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-01-19 14:38:55,275 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-01-19 14:38:55,276 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-01-19 14:38:55,276 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-01-19 14:38:55,276 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-01-19 14:38:55,276 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-01-19 14:38:55,276 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-01-19 14:38:55,276 [pool-19-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-F6FE5A9C8DD7: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:38387|admin:localhost:34403|client:localhost:45595|dataStream:localhost:37485|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38993|admin:localhost:44817|client:localhost:46647|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38545|admin:localhost:40497|client:localhost:39511|dataStream:localhost:41399|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-01-19 14:38:55,276 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-01-19 14:38:55,277 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-01-19 14:38:55,277 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-01-19 14:38:55,277 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-01-19 14:38:55,277 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-01-19 14:38:55,279 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-01-19 14:38:55,279 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-01-19 14:38:55,279 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-01-19 14:38:55,279 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-01-19 14:38:55,279 [pool-19-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-01-19 14:38:55,285 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-F6FE5A9C8DD7:[s0|rpc:localhost:38387|admin:localhost:34403|client:localhost:45595|dataStream:localhost:37485|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38993|admin:localhost:44817|client:localhost:46647|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38545|admin:localhost:40497|client:localhost:39511|dataStream:localhost:41399|priority:0|startupRole:FOLLOWER] returns group-F6FE5A9C8DD7:java.util.concurrent.CompletableFuture@3e73a415[Not completed]
2023-01-19 14:38:55,285 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-F6FE5A9C8DD7:[s0|rpc:localhost:38387|admin:localhost:34403|client:localhost:45595|dataStream:localhost:37485|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38993|admin:localhost:44817|client:localhost:46647|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38545|admin:localhost:40497|client:localhost:39511|dataStream:localhost:41399|priority:0|startupRole:FOLLOWER], format? true
2023-01-19 14:38:55,285 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/f0947725/MiniRaftClusterWithGrpcd0340e66/s2
2023-01-19 14:38:55,286 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/f0947725/MiniRaftClusterWithGrpcd0340e66/s2 does not exist.
2023-01-19 14:38:55,286 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/f0947725/MiniRaftClusterWithGrpcd0340e66/s2
2023-01-19 14:38:55,286 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-01-19 14:38:55,286 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:38:55,286 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 40497 (custom)
2023-01-19 14:38:55,286 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:38:55,286 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 39511 (custom)
2023-01-19 14:38:55,286 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-01-19 14:38:55,286 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 38545 (custom)
2023-01-19 14:38:55,287 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:38:55,287 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:38:55,287 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:38:55,287 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-01-19 14:38:55,287 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-01-19 14:38:55,287 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-01-19 14:38:55,287 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-01-19 14:38:55,288 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-01-19 14:38:55,288 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-01-19 14:38:55,288 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-01-19 14:38:55,292 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-01-19 14:38:55,292 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-01-19 14:38:55,292 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcd0340e66/s2] (custom)
2023-01-19 14:38:55,293 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:38:55,293 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-01-19 14:38:55,294 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-01-19 14:38:55,294 [pool-20-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-F6FE5A9C8DD7:[s0|rpc:localhost:38387|admin:localhost:34403|client:localhost:45595|dataStream:localhost:37485|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38993|admin:localhost:44817|client:localhost:46647|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38545|admin:localhost:40497|client:localhost:39511|dataStream:localhost:41399|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-01-19 14:38:55,294 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-01-19 14:38:55,294 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-01-19 14:38:55,294 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-01-19 14:38:55,294 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-01-19 14:38:55,294 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-01-19 14:38:55,294 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-01-19 14:38:55,294 [pool-20-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-F6FE5A9C8DD7: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:38387|admin:localhost:34403|client:localhost:45595|dataStream:localhost:37485|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38993|admin:localhost:44817|client:localhost:46647|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38545|admin:localhost:40497|client:localhost:39511|dataStream:localhost:41399|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-01-19 14:38:55,294 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-01-19 14:38:55,294 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-01-19 14:38:55,295 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-01-19 14:38:55,295 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-01-19 14:38:55,295 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-01-19 14:38:55,296 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-01-19 14:38:55,296 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-01-19 14:38:55,296 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-01-19 14:38:55,296 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-01-19 14:38:55,296 [pool-20-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-01-19 14:38:55,297 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-F6FE5A9C8DD7:[s0|rpc:localhost:38387|admin:localhost:34403|client:localhost:45595|dataStream:localhost:37485|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38993|admin:localhost:44817|client:localhost:46647|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38545|admin:localhost:40497|client:localhost:39511|dataStream:localhost:41399|priority:0|startupRole:FOLLOWER] returns group-F6FE5A9C8DD7:java.util.concurrent.CompletableFuture@1241a496[Not completed]
2023-01-19 14:38:55,297 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-01-19 14:38:55,297 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-01-19 14:38:55,297 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcd0340e66/s0] (custom)
2023-01-19 14:38:55,298 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcd0340e66/s0/2d6d9ec4-09ed-47de-bba4-f6fe5a9c8dd7 does not exist. Creating ...
2023-01-19 14:38:55,298 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcd0340e66/s0/2d6d9ec4-09ed-47de-bba4-f6fe5a9c8dd7
2023-01-19 14:38:55,299 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:38:55,299 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-01-19 14:38:55,299 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-01-19 14:38:55,299 [pool-21-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-F6FE5A9C8DD7:[s0|rpc:localhost:38387|admin:localhost:34403|client:localhost:45595|dataStream:localhost:37485|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38993|admin:localhost:44817|client:localhost:46647|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38545|admin:localhost:40497|client:localhost:39511|dataStream:localhost:41399|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-01-19 14:38:55,299 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcd0340e66/s0/2d6d9ec4-09ed-47de-bba4-f6fe5a9c8dd7/in_use.lock acquired by nodename 4721@fv-az82-597
2023-01-19 14:38:55,300 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcd0340e66/s0/2d6d9ec4-09ed-47de-bba4-f6fe5a9c8dd7/current
2023-01-19 14:38:55,300 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcd0340e66/s0/2d6d9ec4-09ed-47de-bba4-f6fe5a9c8dd7/sm
2023-01-19 14:38:55,300 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-01-19 14:38:55,300 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-01-19 14:38:55,301 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-01-19 14:38:55,301 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-01-19 14:38:55,301 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-01-19 14:38:55,301 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcd0340e66/s0/2d6d9ec4-09ed-47de-bba4-f6fe5a9c8dd7 has been successfully formatted.
2023-01-19 14:38:55,301 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-01-19 14:38:55,301 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-01-19 14:38:55,302 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-01-19 14:38:55,302 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-01-19 14:38:55,302 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:38:55,302 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-01-19 14:38:55,302 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-01-19 14:38:55,303 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:38:55,303 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-01-19 14:38:55,303 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-01-19 14:38:55,303 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s0@group-F6FE5A9C8DD7-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcd0340e66/s0/2d6d9ec4-09ed-47de-bba4-f6fe5a9c8dd7
2023-01-19 14:38:55,303 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-01-19 14:38:55,304 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-01-19 14:38:55,304 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:38:55,304 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-01-19 14:38:55,304 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-01-19 14:38:55,304 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-01-19 14:38:55,304 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-01-19 14:38:55,304 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-01-19 14:38:55,304 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-01-19 14:38:55,305 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:38:55,305 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-01-19 14:38:55,305 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-01-19 14:38:55,306 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-01-19 14:38:55,306 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-F6FE5A9C8DD7-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-01-19 14:38:55,306 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-F6FE5A9C8DD7-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-01-19 14:38:55,306 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-01-19 14:38:55,306 [pool-21-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-F6FE5A9C8DD7: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:38387|admin:localhost:34403|client:localhost:45595|dataStream:localhost:37485|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38993|admin:localhost:44817|client:localhost:46647|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38545|admin:localhost:40497|client:localhost:39511|dataStream:localhost:41399|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-01-19 14:38:55,306 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-01-19 14:38:55,306 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-01-19 14:38:55,306 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-01-19 14:38:55,307 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-01-19 14:38:55,307 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-01-19 14:38:55,308 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-01-19 14:38:55,308 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-01-19 14:38:55,309 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-01-19 14:38:55,309 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-01-19 14:38:55,309 [pool-21-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-01-19 14:38:55,309 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-F6FE5A9C8DD7: start as a follower, conf=-1: peers:[s0|rpc:localhost:38387|admin:localhost:34403|client:localhost:45595|dataStream:localhost:37485|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38993|admin:localhost:44817|client:localhost:46647|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38545|admin:localhost:40497|client:localhost:39511|dataStream:localhost:41399|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:55,309 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-F6FE5A9C8DD7: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-01-19 14:38:55,309 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-F6FE5A9C8DD7-FollowerState
2023-01-19 14:38:55,313 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-F6FE5A9C8DD7,id=s0
2023-01-19 14:38:55,313 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-01-19 14:38:55,313 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-01-19 14:38:55,313 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-01-19 14:38:55,315 [s0@group-F6FE5A9C8DD7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:38:55,315 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2023-01-19 14:38:55,315 [s0@group-F6FE5A9C8DD7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:38:55,317 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 45595
2023-01-19 14:38:55,318 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 38387
2023-01-19 14:38:55,318 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 34403
2023-01-19 14:38:55,318 [JvmPauseMonitor14] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2023-01-19 14:38:55,318 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-01-19 14:38:55,318 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-01-19 14:38:55,319 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcd0340e66/s1] (custom)
2023-01-19 14:38:55,319 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcd0340e66/s1/2d6d9ec4-09ed-47de-bba4-f6fe5a9c8dd7 does not exist. Creating ...
2023-01-19 14:38:55,319 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcd0340e66/s1/2d6d9ec4-09ed-47de-bba4-f6fe5a9c8dd7
2023-01-19 14:38:55,321 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcd0340e66/s1/2d6d9ec4-09ed-47de-bba4-f6fe5a9c8dd7/in_use.lock acquired by nodename 4721@fv-az82-597
2023-01-19 14:38:55,321 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcd0340e66/s1/2d6d9ec4-09ed-47de-bba4-f6fe5a9c8dd7/current
2023-01-19 14:38:55,321 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcd0340e66/s1/2d6d9ec4-09ed-47de-bba4-f6fe5a9c8dd7/sm
2023-01-19 14:38:55,322 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcd0340e66/s1/2d6d9ec4-09ed-47de-bba4-f6fe5a9c8dd7 has been successfully formatted.
2023-01-19 14:38:55,322 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-01-19 14:38:55,322 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-01-19 14:38:55,322 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-01-19 14:38:55,322 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-01-19 14:38:55,322 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:38:55,322 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-01-19 14:38:55,322 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-01-19 14:38:55,323 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:38:55,323 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-01-19 14:38:55,323 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-01-19 14:38:55,323 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s1@group-F6FE5A9C8DD7-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcd0340e66/s1/2d6d9ec4-09ed-47de-bba4-f6fe5a9c8dd7
2023-01-19 14:38:55,323 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-01-19 14:38:55,323 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-01-19 14:38:55,324 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:38:55,324 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-01-19 14:38:55,324 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-01-19 14:38:55,324 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-01-19 14:38:55,324 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-01-19 14:38:55,324 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-01-19 14:38:55,324 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-01-19 14:38:55,324 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:38:55,341 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-01-19 14:38:55,341 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-01-19 14:38:55,341 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-01-19 14:38:55,341 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-F6FE5A9C8DD7-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-01-19 14:38:55,341 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-F6FE5A9C8DD7-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-01-19 14:38:55,349 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s1@group-F6FE5A9C8DD7: start as a follower, conf=-1: peers:[s0|rpc:localhost:38387|admin:localhost:34403|client:localhost:45595|dataStream:localhost:37485|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38993|admin:localhost:44817|client:localhost:46647|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38545|admin:localhost:40497|client:localhost:39511|dataStream:localhost:41399|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:55,349 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-F6FE5A9C8DD7: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-01-19 14:38:55,349 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-F6FE5A9C8DD7-FollowerState
2023-01-19 14:38:55,350 [s1@group-F6FE5A9C8DD7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:38:55,350 [s1@group-F6FE5A9C8DD7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:38:55,350 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-F6FE5A9C8DD7,id=s1
2023-01-19 14:38:55,350 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-01-19 14:38:55,350 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-01-19 14:38:55,350 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-01-19 14:38:55,351 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s1: start RPC server
2023-01-19 14:38:55,351 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 46647
2023-01-19 14:38:55,352 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 38993
2023-01-19 14:38:55,352 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 44817
2023-01-19 14:38:55,352 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-01-19 14:38:55,352 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-01-19 14:38:55,353 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcd0340e66/s2] (custom)
2023-01-19 14:38:55,353 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcd0340e66/s2/2d6d9ec4-09ed-47de-bba4-f6fe5a9c8dd7 does not exist. Creating ...
2023-01-19 14:38:55,353 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcd0340e66/s2/2d6d9ec4-09ed-47de-bba4-f6fe5a9c8dd7
2023-01-19 14:38:55,354 [JvmPauseMonitor15] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2023-01-19 14:38:55,354 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcd0340e66/s2/2d6d9ec4-09ed-47de-bba4-f6fe5a9c8dd7/in_use.lock acquired by nodename 4721@fv-az82-597
2023-01-19 14:38:55,355 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcd0340e66/s2/2d6d9ec4-09ed-47de-bba4-f6fe5a9c8dd7/current
2023-01-19 14:38:55,355 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcd0340e66/s2/2d6d9ec4-09ed-47de-bba4-f6fe5a9c8dd7/sm
2023-01-19 14:38:55,358 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcd0340e66/s2/2d6d9ec4-09ed-47de-bba4-f6fe5a9c8dd7 has been successfully formatted.
2023-01-19 14:38:55,358 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-01-19 14:38:55,358 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-01-19 14:38:55,358 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-01-19 14:38:55,359 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-01-19 14:38:55,359 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:38:55,359 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-01-19 14:38:55,359 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-01-19 14:38:55,359 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:38:55,360 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-01-19 14:38:55,360 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-01-19 14:38:55,360 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s2@group-F6FE5A9C8DD7-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcd0340e66/s2/2d6d9ec4-09ed-47de-bba4-f6fe5a9c8dd7
2023-01-19 14:38:55,360 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-01-19 14:38:55,360 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-01-19 14:38:55,360 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:38:55,360 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-01-19 14:38:55,360 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-01-19 14:38:55,360 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-01-19 14:38:55,360 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-01-19 14:38:55,360 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-01-19 14:38:55,360 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-01-19 14:38:55,361 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:38:55,362 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-01-19 14:38:55,362 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-01-19 14:38:55,362 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-01-19 14:38:55,362 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-F6FE5A9C8DD7-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-01-19 14:38:55,362 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-F6FE5A9C8DD7-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-01-19 14:38:55,365 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s2@group-F6FE5A9C8DD7: start as a follower, conf=-1: peers:[s0|rpc:localhost:38387|admin:localhost:34403|client:localhost:45595|dataStream:localhost:37485|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38993|admin:localhost:44817|client:localhost:46647|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38545|admin:localhost:40497|client:localhost:39511|dataStream:localhost:41399|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:55,365 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-F6FE5A9C8DD7: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-01-19 14:38:55,365 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-F6FE5A9C8DD7-FollowerState
2023-01-19 14:38:55,369 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-F6FE5A9C8DD7,id=s2
2023-01-19 14:38:55,369 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-01-19 14:38:55,369 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-01-19 14:38:55,370 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-01-19 14:38:55,372 [s2@group-F6FE5A9C8DD7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:38:55,372 [s2@group-F6FE5A9C8DD7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:38:55,373 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s2: start RPC server
2023-01-19 14:38:55,374 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 39511
2023-01-19 14:38:55,374 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 38545
2023-01-19 14:38:55,375 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 40497
2023-01-19 14:38:55,390 [JvmPauseMonitor16] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2023-01-19 14:38:55,393 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-01-19 14:38:55,394 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F6FE5A9C8DD7:t0, leader=null, voted=, raftlog=Memoized:s0@group-F6FE5A9C8DD7-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:38387|admin:localhost:34403|client:localhost:45595|dataStream:localhost:37485|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38993|admin:localhost:44817|client:localhost:46647|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38545|admin:localhost:40497|client:localhost:39511|dataStream:localhost:41399|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F6FE5A9C8DD7:t0, leader=null, voted=, raftlog=Memoized:s1@group-F6FE5A9C8DD7-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:38387|admin:localhost:34403|client:localhost:45595|dataStream:localhost:37485|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38993|admin:localhost:44817|client:localhost:46647|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38545|admin:localhost:40497|client:localhost:39511|dataStream:localhost:41399|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F6FE5A9C8DD7:t0, leader=null, voted=, raftlog=Memoized:s2@group-F6FE5A9C8DD7-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:38387|admin:localhost:34403|client:localhost:45595|dataStream:localhost:37485|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38993|admin:localhost:44817|client:localhost:46647|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38545|admin:localhost:40497|client:localhost:39511|dataStream:localhost:41399|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-01-19 14:38:55,394 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F6FE5A9C8DD7:t0, leader=null, voted=, raftlog=Memoized:s0@group-F6FE5A9C8DD7-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:38387|admin:localhost:34403|client:localhost:45595|dataStream:localhost:37485|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38993|admin:localhost:44817|client:localhost:46647|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38545|admin:localhost:40497|client:localhost:39511|dataStream:localhost:41399|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F6FE5A9C8DD7:t0, leader=null, voted=, raftlog=Memoized:s1@group-F6FE5A9C8DD7-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:38387|admin:localhost:34403|client:localhost:45595|dataStream:localhost:37485|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38993|admin:localhost:44817|client:localhost:46647|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38545|admin:localhost:40497|client:localhost:39511|dataStream:localhost:41399|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F6FE5A9C8DD7:t0, leader=null, voted=, raftlog=Memoized:s2@group-F6FE5A9C8DD7-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:38387|admin:localhost:34403|client:localhost:45595|dataStream:localhost:37485|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38993|admin:localhost:44817|client:localhost:46647|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38545|admin:localhost:40497|client:localhost:39511|dataStream:localhost:41399|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F6FE5A9C8DD7:t0, leader=null, voted=, raftlog=Memoized:s0@group-F6FE5A9C8DD7-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:38387|admin:localhost:34403|client:localhost:45595|dataStream:localhost:37485|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38993|admin:localhost:44817|client:localhost:46647|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38545|admin:localhost:40497|client:localhost:39511|dataStream:localhost:41399|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-F6FE5A9C8DD7:t0, leader=null, voted=, raftlog=Memoized:s1@group-F6FE5A9C8DD7-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:38387|admin:localhost:34403|client:localhost:45595|dataStream:localhost:37485|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38993|admin:localhost:44817|client:localhost:46647|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38545|admin:localhost:40497|client:localhost:39511|dataStream:localhost:41399|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F6FE5A9C8DD7:t0, leader=null, voted=, raftlog=Memoized:s2@group-F6FE5A9C8DD7-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:38387|admin:localhost:34403|client:localhost:45595|dataStream:localhost:37485|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38993|admin:localhost:44817|client:localhost:46647|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38545|admin:localhost:40497|client:localhost:39511|dataStream:localhost:41399|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientRequestMetrics(TestRaftServerWithGrpc.java:308)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientMetrics(TestRaftServerWithGrpc.java:219)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-01-19 14:38:55,566 [s1@group-F6FE5A9C8DD7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-F6FE5A9C8DD7-FollowerState: change to CANDIDATE, lastRpcElapsedTime:216747280ns, electionTimeout:216ms
2023-01-19 14:38:55,566 [s1@group-F6FE5A9C8DD7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-F6FE5A9C8DD7-FollowerState
2023-01-19 14:38:55,566 [s1@group-F6FE5A9C8DD7-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-F6FE5A9C8DD7: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-01-19 14:38:55,567 [s1@group-F6FE5A9C8DD7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-01-19 14:38:55,567 [s1@group-F6FE5A9C8DD7-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-F6FE5A9C8DD7-LeaderElection15
2023-01-19 14:38:55,570 [s1@group-F6FE5A9C8DD7-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-F6FE5A9C8DD7-LeaderElection15 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:38387|admin:localhost:34403|client:localhost:45595|dataStream:localhost:37485|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38993|admin:localhost:44817|client:localhost:46647|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38545|admin:localhost:40497|client:localhost:39511|dataStream:localhost:41399|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:55,570 [s1@group-F6FE5A9C8DD7-LeaderElection15-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2023-01-19 14:38:55,570 [s1@group-F6FE5A9C8DD7-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:38:55,571 [s1@group-F6FE5A9C8DD7-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:38:55,571 [s1@group-F6FE5A9C8DD7-LeaderElection15-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2023-01-19 14:38:55,579 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s0@group-F6FE5A9C8DD7: receive requestVote(PRE_VOTE, s1, group-F6FE5A9C8DD7, 0, (t:0, i:0))
2023-01-19 14:38:55,579 [grpc-default-executor-9] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-F6FE5A9C8DD7-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-01-19 14:38:55,580 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s2@group-F6FE5A9C8DD7: receive requestVote(PRE_VOTE, s1, group-F6FE5A9C8DD7, 0, (t:0, i:0))
2023-01-19 14:38:55,580 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s0@group-F6FE5A9C8DD7 replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-F6FE5A9C8DD7:t0, leader=null, voted=, raftlog=Memoized:s0@group-F6FE5A9C8DD7-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:38387|admin:localhost:34403|client:localhost:45595|dataStream:localhost:37485|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38993|admin:localhost:44817|client:localhost:46647|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38545|admin:localhost:40497|client:localhost:39511|dataStream:localhost:41399|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:55,580 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-F6FE5A9C8DD7-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-01-19 14:38:55,580 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s2@group-F6FE5A9C8DD7 replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-F6FE5A9C8DD7:t0, leader=null, voted=, raftlog=Memoized:s2@group-F6FE5A9C8DD7-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:38387|admin:localhost:34403|client:localhost:45595|dataStream:localhost:37485|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38993|admin:localhost:44817|client:localhost:46647|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38545|admin:localhost:40497|client:localhost:39511|dataStream:localhost:41399|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:55,581 [s1@group-F6FE5A9C8DD7-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-F6FE5A9C8DD7-LeaderElection15: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-01-19 14:38:55,581 [s1@group-F6FE5A9C8DD7-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t0
2023-01-19 14:38:55,581 [s1@group-F6FE5A9C8DD7-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-F6FE5A9C8DD7-LeaderElection15 PRE_VOTE round 0: result PASSED
2023-01-19 14:38:55,589 [s1@group-F6FE5A9C8DD7-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-F6FE5A9C8DD7-LeaderElection15 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:38387|admin:localhost:34403|client:localhost:45595|dataStream:localhost:37485|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38993|admin:localhost:44817|client:localhost:46647|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38545|admin:localhost:40497|client:localhost:39511|dataStream:localhost:41399|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:55,591 [s1@group-F6FE5A9C8DD7-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:38:55,591 [s1@group-F6FE5A9C8DD7-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:38:55,592 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s0@group-F6FE5A9C8DD7: receive requestVote(ELECTION, s1, group-F6FE5A9C8DD7, 1, (t:0, i:0))
2023-01-19 14:38:55,592 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-F6FE5A9C8DD7-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2023-01-19 14:38:55,593 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-F6FE5A9C8DD7: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2023-01-19 14:38:55,593 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-F6FE5A9C8DD7-FollowerState
2023-01-19 14:38:55,593 [s0@group-F6FE5A9C8DD7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-F6FE5A9C8DD7-FollowerState was interrupted
2023-01-19 14:38:55,593 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-F6FE5A9C8DD7-FollowerState
2023-01-19 14:38:55,598 [s0@group-F6FE5A9C8DD7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:38:55,598 [s0@group-F6FE5A9C8DD7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:38:55,599 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s0@group-F6FE5A9C8DD7 replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-F6FE5A9C8DD7:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-F6FE5A9C8DD7-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:38387|admin:localhost:34403|client:localhost:45595|dataStream:localhost:37485|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38993|admin:localhost:44817|client:localhost:46647|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38545|admin:localhost:40497|client:localhost:39511|dataStream:localhost:41399|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:55,600 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s2@group-F6FE5A9C8DD7: receive requestVote(ELECTION, s1, group-F6FE5A9C8DD7, 1, (t:0, i:0))
2023-01-19 14:38:55,601 [s1@group-F6FE5A9C8DD7-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-F6FE5A9C8DD7-LeaderElection15: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-01-19 14:38:55,601 [s1@group-F6FE5A9C8DD7-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t1
2023-01-19 14:38:55,601 [s1@group-F6FE5A9C8DD7-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-F6FE5A9C8DD7-LeaderElection15 ELECTION round 0: result PASSED
2023-01-19 14:38:55,601 [s1@group-F6FE5A9C8DD7-LeaderElection15] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-F6FE5A9C8DD7-LeaderElection15
2023-01-19 14:38:55,601 [s1@group-F6FE5A9C8DD7-LeaderElection15] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-F6FE5A9C8DD7: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-01-19 14:38:55,601 [s1@group-F6FE5A9C8DD7-LeaderElection15] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-F6FE5A9C8DD7: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 306ms
2023-01-19 14:38:55,601 [s1@group-F6FE5A9C8DD7-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-01-19 14:38:55,601 [s1@group-F6FE5A9C8DD7-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-01-19 14:38:55,601 [s1@group-F6FE5A9C8DD7-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2023-01-19 14:38:55,602 [s1@group-F6FE5A9C8DD7-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-01-19 14:38:55,602 [s1@group-F6FE5A9C8DD7-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-01-19 14:38:55,602 [s1@group-F6FE5A9C8DD7-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-01-19 14:38:55,602 [s1@group-F6FE5A9C8DD7-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-01-19 14:38:55,602 [s1@group-F6FE5A9C8DD7-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-01-19 14:38:55,602 [s1@group-F6FE5A9C8DD7-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-01-19 14:38:55,602 [s1@group-F6FE5A9C8DD7-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:38:55,602 [s1@group-F6FE5A9C8DD7-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-01-19 14:38:55,603 [s1@group-F6FE5A9C8DD7-LeaderElection15] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2023-01-19 14:38:55,603 [s1@group-F6FE5A9C8DD7-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-01-19 14:38:55,603 [s1@group-F6FE5A9C8DD7-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-01-19 14:38:55,603 [s1@group-F6FE5A9C8DD7-LeaderElection15] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-01-19 14:38:55,603 [s1@group-F6FE5A9C8DD7-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-01-19 14:38:55,603 [s1@group-F6FE5A9C8DD7-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-01-19 14:38:55,604 [s1@group-F6FE5A9C8DD7-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:38:55,604 [s1@group-F6FE5A9C8DD7-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-01-19 14:38:55,604 [s1@group-F6FE5A9C8DD7-LeaderElection15] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2023-01-19 14:38:55,604 [s1@group-F6FE5A9C8DD7-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-01-19 14:38:55,604 [s1@group-F6FE5A9C8DD7-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-01-19 14:38:55,604 [s1@group-F6FE5A9C8DD7-LeaderElection15] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-01-19 14:38:55,604 [s1@group-F6FE5A9C8DD7-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-01-19 14:38:55,604 [s1@group-F6FE5A9C8DD7-LeaderElection15] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-F6FE5A9C8DD7-LeaderStateImpl
2023-01-19 14:38:55,604 [s1@group-F6FE5A9C8DD7-LeaderElection15] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s1@group-F6FE5A9C8DD7-SegmentedRaftLogWorker: Starting segment from index:0
2023-01-19 14:38:55,605 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-F6FE5A9C8DD7-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2023-01-19 14:38:55,605 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-F6FE5A9C8DD7: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2023-01-19 14:38:55,605 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-F6FE5A9C8DD7-FollowerState
2023-01-19 14:38:55,605 [s2@group-F6FE5A9C8DD7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-F6FE5A9C8DD7-FollowerState was interrupted
2023-01-19 14:38:55,606 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-F6FE5A9C8DD7-FollowerState
2023-01-19 14:38:55,606 [s2@group-F6FE5A9C8DD7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:38:55,607 [s2@group-F6FE5A9C8DD7-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:38:55,608 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s2@group-F6FE5A9C8DD7 replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-F6FE5A9C8DD7:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-F6FE5A9C8DD7-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:38387|admin:localhost:34403|client:localhost:45595|dataStream:localhost:37485|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38993|admin:localhost:44817|client:localhost:46647|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38545|admin:localhost:40497|client:localhost:39511|dataStream:localhost:41399|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:55,615 [s1@group-F6FE5A9C8DD7-LeaderElection15] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s1@group-F6FE5A9C8DD7: set configuration 0: peers:[s0|rpc:localhost:38387|admin:localhost:34403|client:localhost:45595|dataStream:localhost:37485|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38993|admin:localhost:44817|client:localhost:46647|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38545|admin:localhost:40497|client:localhost:39511|dataStream:localhost:41399|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:55,619 [s1@group-F6FE5A9C8DD7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-F6FE5A9C8DD7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcd0340e66/s1/2d6d9ec4-09ed-47de-bba4-f6fe5a9c8dd7/current/log_inprogress_0
2023-01-19 14:38:55,625 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-F6FE5A9C8DD7: change Leader from null to s1 at term 1 for appendEntries, leader elected after 348ms
2023-01-19 14:38:55,629 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-F6FE5A9C8DD7: set configuration 0: peers:[s0|rpc:localhost:38387|admin:localhost:34403|client:localhost:45595|dataStream:localhost:37485|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38993|admin:localhost:44817|client:localhost:46647|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38545|admin:localhost:40497|client:localhost:39511|dataStream:localhost:41399|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:55,630 [s0-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-F6FE5A9C8DD7-SegmentedRaftLogWorker: Starting segment from index:0
2023-01-19 14:38:55,634 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-F6FE5A9C8DD7: change Leader from null to s1 at term 1 for appendEntries, leader elected after 328ms
2023-01-19 14:38:55,637 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s2@group-F6FE5A9C8DD7: set configuration 0: peers:[s0|rpc:localhost:38387|admin:localhost:34403|client:localhost:45595|dataStream:localhost:37485|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38993|admin:localhost:44817|client:localhost:46647|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38545|admin:localhost:40497|client:localhost:39511|dataStream:localhost:41399|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:38:55,637 [s2-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s2@group-F6FE5A9C8DD7-SegmentedRaftLogWorker: Starting segment from index:0
2023-01-19 14:38:55,648 [s0@group-F6FE5A9C8DD7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-F6FE5A9C8DD7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcd0340e66/s0/2d6d9ec4-09ed-47de-bba4-f6fe5a9c8dd7/current/log_inprogress_0
2023-01-19 14:38:55,649 [s2@group-F6FE5A9C8DD7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-F6FE5A9C8DD7-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcd0340e66/s2/2d6d9ec4-09ed-47de-bba4-f6fe5a9c8dd7/current/log_inprogress_0
2023-01-19 14:38:55,845 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F6FE5A9C8DD7:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-F6FE5A9C8DD7-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:38387|admin:localhost:34403|client:localhost:45595|dataStream:localhost:37485|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38993|admin:localhost:44817|client:localhost:46647|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38545|admin:localhost:40497|client:localhost:39511|dataStream:localhost:41399|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-F6FE5A9C8DD7:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-F6FE5A9C8DD7-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:38387|admin:localhost:34403|client:localhost:45595|dataStream:localhost:37485|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38993|admin:localhost:44817|client:localhost:46647|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38545|admin:localhost:40497|client:localhost:39511|dataStream:localhost:41399|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F6FE5A9C8DD7:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-F6FE5A9C8DD7-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:38387|admin:localhost:34403|client:localhost:45595|dataStream:localhost:37485|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38993|admin:localhost:44817|client:localhost:46647|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38545|admin:localhost:40497|client:localhost:39511|dataStream:localhost:41399|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-01-19 14:38:55,846 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:38:55,846 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:38:55,855 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-78F3DF34B40E->s0: receive RaftClientReply:client-78F3DF34B40E->s0@group-F6FE5A9C8DD7, cid=56, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-F6FE5A9C8DD7 is not the leader s1|rpc:localhost:38993|admin:localhost:44817|client:localhost:46647|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s0:c0, s1:c0, s2:c0]
2023-01-19 14:38:55,858 [timer2] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:38:55,858 [timer2] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:38:55,867 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-78F3DF34B40E->s1: receive RaftClientReply:client-78F3DF34B40E->s1@group-F6FE5A9C8DD7, cid=56, SUCCESS, logIndex=0, commits[s1:c0, s0:c0, s2:c0]
2023-01-19 14:38:55,874 [s1@group-F6FE5A9C8DD7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 57@client-78F3DF34B40E
2023-01-19 14:38:55,876 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-78F3DF34B40E->s1: receive RaftClientReply:client-78F3DF34B40E->s1@group-F6FE5A9C8DD7, cid=57, SUCCESS, logIndex=1, commits[s1:c1, s0:c0, s2:c0]
2023-01-19 14:38:55,876 [s0@group-F6FE5A9C8DD7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 57@client-78F3DF34B40E
2023-01-19 14:38:55,877 [s1-client-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:query(328)) - query testing
2023-01-19 14:38:55,878 [s2@group-F6FE5A9C8DD7-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 57@client-78F3DF34B40E
2023-01-19 14:38:55,886 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-78F3DF34B40E->s1: receive RaftClientReply:client-78F3DF34B40E->s1@group-F6FE5A9C8DD7, cid=58, SUCCESS, logIndex=0, commits[s1:c2, s0:c1, s2:c1]
2023-01-19 14:38:59,887 [timer0] WARN  grpc.GrpcUtil (GrpcUtil.java:shutdownManagedChannel(223)) - Timed out gracefully shutting down connection: ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=564, target=localhost:46647}}. 
2023-01-19 14:38:59,989 [timer1] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:38:59,989 [timer1] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:38:59,996 [s1-client-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:query(328)) - query testing
2023-01-19 14:38:59,998 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-78F3DF34B40E->s1: receive RaftClientReply:client-78F3DF34B40E->s1@group-F6FE5A9C8DD7, cid=59, SUCCESS, logIndex=0, commits[s1:c2, s0:c2, s2:c2]
2023-01-19 14:39:00,001 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:39:00,001 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:39:00,012 [null-request--thread1] INFO  server.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(284)) - Failed RaftClientRequest:client-78F3DF34B40E->s0@group-F6FE5A9C8DD7, cid=60, seq=0, Watch-ALL(0), Message:<EMPTY>, reply=RaftClientReply:client-78F3DF34B40E->s0@group-F6FE5A9C8DD7, cid=60, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-F6FE5A9C8DD7 is not the leader s1|rpc:localhost:38993|admin:localhost:44817|client:localhost:46647|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s0:c2, s1:c2, s2:c2]
2023-01-19 14:39:00,013 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-78F3DF34B40E->s0: receive RaftClientReply:client-78F3DF34B40E->s0@group-F6FE5A9C8DD7, cid=60, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-F6FE5A9C8DD7 is not the leader s1|rpc:localhost:38993|admin:localhost:44817|client:localhost:46647|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s0:c2, s1:c2, s2:c2]
2023-01-19 14:39:00,022 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-78F3DF34B40E->s1: receive RaftClientReply:client-78F3DF34B40E->s1@group-F6FE5A9C8DD7, cid=60, SUCCESS, logIndex=2, commits[s1:c2, s0:c2, s2:c2]
2023-01-19 14:39:00,028 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-78F3DF34B40E->s1: receive RaftClientReply:client-78F3DF34B40E->s1@group-F6FE5A9C8DD7, cid=61, SUCCESS, logIndex=2, commits[s1:c2, s0:c2, s2:c2]
2023-01-19 14:39:00,033 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-01-19 14:39:00,033 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-01-19 14:39:00,033 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2023-01-19 14:39:00,033 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-01-19 14:39:00,034 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-01-19 14:39:00,034 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-F6FE5A9C8DD7:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-F6FE5A9C8DD7-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:38387|admin:localhost:34403|client:localhost:45595|dataStream:localhost:37485|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38993|admin:localhost:44817|client:localhost:46647|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38545|admin:localhost:40497|client:localhost:39511|dataStream:localhost:41399|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-F6FE5A9C8DD7:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-F6FE5A9C8DD7-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:38387|admin:localhost:34403|client:localhost:45595|dataStream:localhost:37485|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38993|admin:localhost:44817|client:localhost:46647|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38545|admin:localhost:40497|client:localhost:39511|dataStream:localhost:41399|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-F6FE5A9C8DD7:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-F6FE5A9C8DD7-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:38387|admin:localhost:34403|client:localhost:45595|dataStream:localhost:37485|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38993|admin:localhost:44817|client:localhost:46647|dataStream:localhost:35593|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38545|admin:localhost:40497|client:localhost:39511|dataStream:localhost:41399|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-01-19 14:39:00,035 [MiniRaftCluster-15] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2023-01-19 14:39:00,038 [MiniRaftCluster-16] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s1: close
2023-01-19 14:39:00,039 [MiniRaftCluster-17] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s2: close
2023-01-19 14:39:00,039 [MiniRaftCluster-15] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-01-19 14:39:00,039 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-F6FE5A9C8DD7: shutdown
2023-01-19 14:39:00,040 [MiniRaftCluster-16] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-01-19 14:39:00,040 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-F6FE5A9C8DD7,id=s0
2023-01-19 14:39:00,040 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-F6FE5A9C8DD7-FollowerState
2023-01-19 14:39:00,040 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-F6FE5A9C8DD7-StateMachineUpdater: set stopIndex = 2
2023-01-19 14:39:00,040 [MiniRaftCluster-15] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-01-19 14:39:00,040 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s1@group-F6FE5A9C8DD7: shutdown
2023-01-19 14:39:00,040 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-F6FE5A9C8DD7,id=s1
2023-01-19 14:39:00,040 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-F6FE5A9C8DD7-LeaderStateImpl
2023-01-19 14:39:00,040 [MiniRaftCluster-15] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server GrpcServerProtocolService now
2023-01-19 14:39:00,040 [s1-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-F6FE5A9C8DD7-PendingRequests: sendNotLeaderResponses
2023-01-19 14:39:00,040 [s1@group-F6FE5A9C8DD7->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s1@group-F6FE5A9C8DD7->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2023-01-19 14:39:00,041 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s2: Completed APPEND_ENTRIES, lastRequest: null
2023-01-19 14:39:00,041 [s1@group-F6FE5A9C8DD7->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s1@group-F6FE5A9C8DD7->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2023-01-19 14:39:00,041 [s0@group-F6FE5A9C8DD7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-F6FE5A9C8DD7-FollowerState was interrupted
2023-01-19 14:39:00,041 [grpc-default-executor-9] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s2: Completed APPEND_ENTRIES, lastRequest: s1->s2#14-t1,previous=(t:1, i:1),leaderCommit=1,initializing? true,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2023-01-19 14:39:00,041 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s0: Completed APPEND_ENTRIES, lastRequest: null
2023-01-19 14:39:00,042 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s0: Completed APPEND_ENTRIES, lastRequest: s1->s0#13-t1,previous=(t:1, i:1),leaderCommit=1,initializing? true,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2023-01-19 14:39:00,043 [grpc-default-executor-9] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s1@group-F6FE5A9C8DD7->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-01-19 14:39:00,043 [grpc-default-executor-9] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s1@group-F6FE5A9C8DD7->s0: nextIndex: updateUnconditionally 3 -> 2
2023-01-19 14:39:00,043 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s0@group-F6FE5A9C8DD7: applyIndex: 2
2023-01-19 14:39:00,043 [s0@group-F6FE5A9C8DD7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s0@group-F6FE5A9C8DD7-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2023-01-19 14:39:00,043 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s1@group-F6FE5A9C8DD7->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-01-19 14:39:00,043 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s1@group-F6FE5A9C8DD7->s2: nextIndex: updateUnconditionally 3 -> 2
2023-01-19 14:39:00,043 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s1@group-F6FE5A9C8DD7->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-01-19 14:39:00,043 [grpc-default-executor-5] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s1@group-F6FE5A9C8DD7->s2: nextIndex: updateUnconditionally 2 -> 1
2023-01-19 14:39:00,043 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s1@group-F6FE5A9C8DD7->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-01-19 14:39:00,043 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s1@group-F6FE5A9C8DD7->s0: nextIndex: updateUnconditionally 2 -> 1
2023-01-19 14:39:00,046 [MiniRaftCluster-16] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s0 Close channels
2023-01-19 14:39:00,047 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s0@group-F6FE5A9C8DD7-SegmentedRaftLogWorker close()
2023-01-19 14:39:00,052 [MiniRaftCluster-15] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server GrpcServerProtocolService successfully
2023-01-19 14:39:00,053 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-F6FE5A9C8DD7-StateMachineUpdater: set stopIndex = 2
2023-01-19 14:39:00,053 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s1@group-F6FE5A9C8DD7: applyIndex: 2
2023-01-19 14:39:00,053 [MiniRaftCluster-15] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-01-19 14:39:00,053 [s1@group-F6FE5A9C8DD7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s1@group-F6FE5A9C8DD7-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2023-01-19 14:39:00,053 [MiniRaftCluster-16] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s2 Close channels
2023-01-19 14:39:00,054 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s1@group-F6FE5A9C8DD7-SegmentedRaftLogWorker close()
2023-01-19 14:39:00,055 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s2@group-F6FE5A9C8DD7: shutdown
2023-01-19 14:39:00,055 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-F6FE5A9C8DD7,id=s2
2023-01-19 14:39:00,055 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-F6FE5A9C8DD7-FollowerState
2023-01-19 14:39:00,055 [MiniRaftCluster-15] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-01-19 14:39:00,055 [s2@group-F6FE5A9C8DD7-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-F6FE5A9C8DD7-FollowerState was interrupted
2023-01-19 14:39:00,056 [MiniRaftCluster-16] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-01-19 14:39:00,056 [MiniRaftCluster-16] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server GrpcServerProtocolService now
2023-01-19 14:39:00,055 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-F6FE5A9C8DD7-StateMachineUpdater: set stopIndex = 2
2023-01-19 14:39:00,056 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s2@group-F6FE5A9C8DD7: applyIndex: 2
2023-01-19 14:39:00,056 [s2@group-F6FE5A9C8DD7-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s2@group-F6FE5A9C8DD7-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2023-01-19 14:39:00,056 [MiniRaftCluster-16] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server GrpcServerProtocolService successfully
2023-01-19 14:39:00,057 [MiniRaftCluster-16] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-01-19 14:39:00,057 [JvmPauseMonitor14] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2023-01-19 14:39:00,057 [MiniRaftCluster-16] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-01-19 14:39:00,058 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s2@group-F6FE5A9C8DD7-SegmentedRaftLogWorker close()
2023-01-19 14:39:00,059 [JvmPauseMonitor15] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2023-01-19 14:39:00,057 [MiniRaftCluster-17] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-01-19 14:39:00,061 [MiniRaftCluster-17] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-01-19 14:39:00,061 [MiniRaftCluster-17] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server GrpcServerProtocolService now
2023-01-19 14:39:00,061 [MiniRaftCluster-17] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server GrpcServerProtocolService successfully
2023-01-19 14:39:00,061 [MiniRaftCluster-17] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-01-19 14:39:00,062 [MiniRaftCluster-17] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-01-19 14:39:00,062 [JvmPauseMonitor16] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s2: Stopped
2023-01-19 14:39:00,062 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2023-01-19 14:39:00,063 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-01-19 14:39:00,063 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-01-19 14:39:00,063 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2023-01-19 14:39:00,069 [Time-limited test] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(61)) - Getting resource ssl/server.pem: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/server.pem
2023-01-19 14:39:00,075 [Time-limited test] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(61)) - Getting resource ssl/server.crt: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/server.crt
2023-01-19 14:39:00,124 [Time-limited test] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(61)) - Getting resource ssl/ca.crt: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/ca.crt
2023-01-19 14:39:00,127 [Time-limited test] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(61)) - Getting resource ssl/client.pem: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/client.pem
2023-01-19 14:39:00,128 [Time-limited test] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(61)) - Getting resource ssl/client.crt: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/client.crt
2023-01-19 14:39:00,166 [Time-limited test] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(61)) - Getting resource ssl/ca.crt: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/ca.crt
2023-01-19 14:39:00,171 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-C8959FD45C26:[s3|rpc:localhost:35721|admin:localhost:44365|client:localhost:40595|dataStream:localhost:38627|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:35223|admin:localhost:41225|client:localhost:45983|dataStream:localhost:38333|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:36457|admin:localhost:43577|client:localhost:34667|dataStream:localhost:38949|priority:0|startupRole:FOLLOWER]
2023-01-19 14:39:00,171 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-01-19 14:39:00,171 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-01-19 14:39:00,171 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2023-01-19 14:39:00,171 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-01-19 14:39:00,171 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-01-19 14:39:00,171 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-01-19 14:39:00,171 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s3, group-C8959FD45C26:[s3|rpc:localhost:35721|admin:localhost:44365|client:localhost:40595|dataStream:localhost:38627|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:35223|admin:localhost:41225|client:localhost:45983|dataStream:localhost:38333|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:36457|admin:localhost:43577|client:localhost:34667|dataStream:localhost:38949|priority:0|startupRole:FOLLOWER], format? true
2023-01-19 14:39:00,171 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/f0947725/MiniRaftClusterWithGrpc277b1603/s3
2023-01-19 14:39:00,171 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/f0947725/MiniRaftClusterWithGrpc277b1603/s3 does not exist.
2023-01-19 14:39:00,171 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/f0947725/MiniRaftClusterWithGrpc277b1603/s3
2023-01-19 14:39:00,174 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-01-19 14:39:00,174 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:39:00,174 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 44365 (custom)
2023-01-19 14:39:00,175 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:39:00,175 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 40595 (custom)
2023-01-19 14:39:00,175 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-01-19 14:39:00,175 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 35721 (custom)
2023-01-19 14:39:00,175 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:39:00,175 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:39:00,175 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:39:00,175 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-01-19 14:39:00,175 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-01-19 14:39:00,175 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-01-19 14:39:00,175 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-01-19 14:39:00,180 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-01-19 14:39:00,180 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-01-19 14:39:00,180 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-01-19 14:39:00,180 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-01-19 14:39:00,180 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-01-19 14:39:00,181 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc277b1603/s3] (custom)
2023-01-19 14:39:00,193 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s3: addNew group-C8959FD45C26:[s3|rpc:localhost:35721|admin:localhost:44365|client:localhost:40595|dataStream:localhost:38627|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:35223|admin:localhost:41225|client:localhost:45983|dataStream:localhost:38333|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:36457|admin:localhost:43577|client:localhost:34667|dataStream:localhost:38949|priority:0|startupRole:FOLLOWER] returns group-C8959FD45C26:java.util.concurrent.CompletableFuture@6454f122[Not completed]
2023-01-19 14:39:00,193 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s4, group-C8959FD45C26:[s3|rpc:localhost:35721|admin:localhost:44365|client:localhost:40595|dataStream:localhost:38627|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:35223|admin:localhost:41225|client:localhost:45983|dataStream:localhost:38333|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:36457|admin:localhost:43577|client:localhost:34667|dataStream:localhost:38949|priority:0|startupRole:FOLLOWER], format? true
2023-01-19 14:39:00,193 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/f0947725/MiniRaftClusterWithGrpc277b1603/s4
2023-01-19 14:39:00,193 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/f0947725/MiniRaftClusterWithGrpc277b1603/s4 does not exist.
2023-01-19 14:39:00,193 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/f0947725/MiniRaftClusterWithGrpc277b1603/s4
2023-01-19 14:39:00,193 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-01-19 14:39:00,194 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:39:00,194 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 41225 (custom)
2023-01-19 14:39:00,194 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:39:00,194 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 45983 (custom)
2023-01-19 14:39:00,194 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-01-19 14:39:00,194 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 35223 (custom)
2023-01-19 14:39:00,194 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:39:00,194 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:39:00,194 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:39:00,194 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-01-19 14:39:00,194 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-01-19 14:39:00,194 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-01-19 14:39:00,195 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-01-19 14:39:00,197 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-01-19 14:39:00,197 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-01-19 14:39:00,197 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-01-19 14:39:00,197 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-01-19 14:39:00,197 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-01-19 14:39:00,198 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc277b1603/s4] (custom)
2023-01-19 14:39:00,198 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:39:00,199 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-01-19 14:39:00,199 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-01-19 14:39:00,199 [pool-22-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s3: new RaftServerImpl for group-C8959FD45C26:[s3|rpc:localhost:35721|admin:localhost:44365|client:localhost:40595|dataStream:localhost:38627|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:35223|admin:localhost:41225|client:localhost:45983|dataStream:localhost:38333|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:36457|admin:localhost:43577|client:localhost:34667|dataStream:localhost:38949|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-01-19 14:39:00,199 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-01-19 14:39:00,199 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-01-19 14:39:00,199 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-01-19 14:39:00,199 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-01-19 14:39:00,199 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-01-19 14:39:00,200 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-01-19 14:39:00,200 [pool-22-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s3@group-C8959FD45C26: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:35721|admin:localhost:44365|client:localhost:40595|dataStream:localhost:38627|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:35223|admin:localhost:41225|client:localhost:45983|dataStream:localhost:38333|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:36457|admin:localhost:43577|client:localhost:34667|dataStream:localhost:38949|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-01-19 14:39:00,200 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-01-19 14:39:00,200 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-01-19 14:39:00,200 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-01-19 14:39:00,200 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-01-19 14:39:00,200 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-01-19 14:39:00,202 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-01-19 14:39:00,202 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-01-19 14:39:00,202 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-01-19 14:39:00,202 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-01-19 14:39:00,202 [pool-22-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-01-19 14:39:00,208 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s4: addNew group-C8959FD45C26:[s3|rpc:localhost:35721|admin:localhost:44365|client:localhost:40595|dataStream:localhost:38627|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:35223|admin:localhost:41225|client:localhost:45983|dataStream:localhost:38333|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:36457|admin:localhost:43577|client:localhost:34667|dataStream:localhost:38949|priority:0|startupRole:FOLLOWER] returns group-C8959FD45C26:java.util.concurrent.CompletableFuture@103d73fc[Not completed]
2023-01-19 14:39:00,208 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s5, group-C8959FD45C26:[s3|rpc:localhost:35721|admin:localhost:44365|client:localhost:40595|dataStream:localhost:38627|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:35223|admin:localhost:41225|client:localhost:45983|dataStream:localhost:38333|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:36457|admin:localhost:43577|client:localhost:34667|dataStream:localhost:38949|priority:0|startupRole:FOLLOWER], format? true
2023-01-19 14:39:00,208 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/f0947725/MiniRaftClusterWithGrpc277b1603/s5
2023-01-19 14:39:00,208 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/f0947725/MiniRaftClusterWithGrpc277b1603/s5 does not exist.
2023-01-19 14:39:00,208 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/f0947725/MiniRaftClusterWithGrpc277b1603/s5
2023-01-19 14:39:00,208 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-01-19 14:39:00,209 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:39:00,209 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 43577 (custom)
2023-01-19 14:39:00,209 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:39:00,209 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 34667 (custom)
2023-01-19 14:39:00,209 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-01-19 14:39:00,209 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 36457 (custom)
2023-01-19 14:39:00,209 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:39:00,209 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:39:00,209 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:39:00,209 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-01-19 14:39:00,210 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-01-19 14:39:00,210 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-01-19 14:39:00,210 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-01-19 14:39:00,215 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-01-19 14:39:00,216 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-01-19 14:39:00,216 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-01-19 14:39:00,216 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-01-19 14:39:00,216 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-01-19 14:39:00,216 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc277b1603/s5] (custom)
2023-01-19 14:39:00,218 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:39:00,218 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-01-19 14:39:00,218 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-01-19 14:39:00,218 [pool-23-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s4: new RaftServerImpl for group-C8959FD45C26:[s3|rpc:localhost:35721|admin:localhost:44365|client:localhost:40595|dataStream:localhost:38627|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:35223|admin:localhost:41225|client:localhost:45983|dataStream:localhost:38333|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:36457|admin:localhost:43577|client:localhost:34667|dataStream:localhost:38949|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-01-19 14:39:00,218 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-01-19 14:39:00,219 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-01-19 14:39:00,219 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-01-19 14:39:00,219 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-01-19 14:39:00,219 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-01-19 14:39:00,219 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-01-19 14:39:00,219 [pool-23-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s4@group-C8959FD45C26: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:35721|admin:localhost:44365|client:localhost:40595|dataStream:localhost:38627|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:35223|admin:localhost:41225|client:localhost:45983|dataStream:localhost:38333|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:36457|admin:localhost:43577|client:localhost:34667|dataStream:localhost:38949|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-01-19 14:39:00,219 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-01-19 14:39:00,219 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-01-19 14:39:00,219 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-01-19 14:39:00,220 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-01-19 14:39:00,220 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-01-19 14:39:00,221 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-01-19 14:39:00,221 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-01-19 14:39:00,222 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-01-19 14:39:00,222 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-01-19 14:39:00,222 [pool-23-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-01-19 14:39:00,222 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s5: addNew group-C8959FD45C26:[s3|rpc:localhost:35721|admin:localhost:44365|client:localhost:40595|dataStream:localhost:38627|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:35223|admin:localhost:41225|client:localhost:45983|dataStream:localhost:38333|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:36457|admin:localhost:43577|client:localhost:34667|dataStream:localhost:38949|priority:0|startupRole:FOLLOWER] returns group-C8959FD45C26:java.util.concurrent.CompletableFuture@7a7dd8e1[Not completed]
2023-01-19 14:39:00,222 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-01-19 14:39:00,222 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-01-19 14:39:00,222 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc277b1603/s3] (custom)
2023-01-19 14:39:00,222 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc277b1603/s3/58ba03c3-97b2-4f61-8ad2-c8959fd45c26 does not exist. Creating ...
2023-01-19 14:39:00,223 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc277b1603/s3/58ba03c3-97b2-4f61-8ad2-c8959fd45c26
2023-01-19 14:39:00,224 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:39:00,224 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-01-19 14:39:00,224 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-01-19 14:39:00,224 [pool-24-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s5: new RaftServerImpl for group-C8959FD45C26:[s3|rpc:localhost:35721|admin:localhost:44365|client:localhost:40595|dataStream:localhost:38627|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:35223|admin:localhost:41225|client:localhost:45983|dataStream:localhost:38333|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:36457|admin:localhost:43577|client:localhost:34667|dataStream:localhost:38949|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-01-19 14:39:00,224 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-01-19 14:39:00,224 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-01-19 14:39:00,224 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-01-19 14:39:00,224 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-01-19 14:39:00,224 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-01-19 14:39:00,224 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-01-19 14:39:00,225 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc277b1603/s3/58ba03c3-97b2-4f61-8ad2-c8959fd45c26/in_use.lock acquired by nodename 4721@fv-az82-597
2023-01-19 14:39:00,225 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc277b1603/s3/58ba03c3-97b2-4f61-8ad2-c8959fd45c26/current
2023-01-19 14:39:00,225 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc277b1603/s3/58ba03c3-97b2-4f61-8ad2-c8959fd45c26/sm
2023-01-19 14:39:00,226 [pool-24-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s5@group-C8959FD45C26: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:35721|admin:localhost:44365|client:localhost:40595|dataStream:localhost:38627|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:35223|admin:localhost:41225|client:localhost:45983|dataStream:localhost:38333|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:36457|admin:localhost:43577|client:localhost:34667|dataStream:localhost:38949|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-01-19 14:39:00,226 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-01-19 14:39:00,226 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-01-19 14:39:00,226 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-01-19 14:39:00,226 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-01-19 14:39:00,226 [s3-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc277b1603/s3/58ba03c3-97b2-4f61-8ad2-c8959fd45c26 has been successfully formatted.
2023-01-19 14:39:00,226 [s3-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-01-19 14:39:00,227 [s3-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-01-19 14:39:00,227 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-01-19 14:39:00,227 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-01-19 14:39:00,227 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:39:00,227 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-01-19 14:39:00,227 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-01-19 14:39:00,228 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-01-19 14:39:00,229 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-01-19 14:39:00,229 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-01-19 14:39:00,229 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-01-19 14:39:00,230 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:39:00,230 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-01-19 14:39:00,230 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-01-19 14:39:00,230 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s3@group-C8959FD45C26-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc277b1603/s3/58ba03c3-97b2-4f61-8ad2-c8959fd45c26
2023-01-19 14:39:00,230 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-01-19 14:39:00,230 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-01-19 14:39:00,230 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:39:00,230 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-01-19 14:39:00,230 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-01-19 14:39:00,230 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-01-19 14:39:00,230 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-01-19 14:39:00,230 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-01-19 14:39:00,231 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-01-19 14:39:00,231 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:39:00,231 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-01-19 14:39:00,231 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-01-19 14:39:00,232 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-01-19 14:39:00,232 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-C8959FD45C26-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-01-19 14:39:00,232 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-C8959FD45C26-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-01-19 14:39:00,230 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-01-19 14:39:00,232 [pool-24-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-01-19 14:39:00,232 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s3@group-C8959FD45C26: start as a follower, conf=-1: peers:[s3|rpc:localhost:35721|admin:localhost:44365|client:localhost:40595|dataStream:localhost:38627|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:35223|admin:localhost:41225|client:localhost:45983|dataStream:localhost:38333|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:36457|admin:localhost:43577|client:localhost:34667|dataStream:localhost:38949|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:39:00,232 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s3@group-C8959FD45C26: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-01-19 14:39:00,232 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-C8959FD45C26-FollowerState
2023-01-19 14:39:00,233 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C8959FD45C26,id=s3
2023-01-19 14:39:00,233 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-01-19 14:39:00,233 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-01-19 14:39:00,233 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-01-19 14:39:00,233 [s3@group-C8959FD45C26-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:39:00,233 [s3@group-C8959FD45C26-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:39:00,234 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s3: start RPC server
2023-01-19 14:39:00,234 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s3: GrpcService started, listening on 40595
2023-01-19 14:39:00,235 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s3: GrpcService started, listening on 35721
2023-01-19 14:39:00,235 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s3: GrpcService started, listening on 44365
2023-01-19 14:39:00,236 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-01-19 14:39:00,236 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-01-19 14:39:00,237 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc277b1603/s4] (custom)
2023-01-19 14:39:00,237 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc277b1603/s4/58ba03c3-97b2-4f61-8ad2-c8959fd45c26 does not exist. Creating ...
2023-01-19 14:39:00,237 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc277b1603/s4/58ba03c3-97b2-4f61-8ad2-c8959fd45c26
2023-01-19 14:39:00,238 [JvmPauseMonitor17] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s3: Started
2023-01-19 14:39:00,238 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc277b1603/s4/58ba03c3-97b2-4f61-8ad2-c8959fd45c26/in_use.lock acquired by nodename 4721@fv-az82-597
2023-01-19 14:39:00,238 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc277b1603/s4/58ba03c3-97b2-4f61-8ad2-c8959fd45c26/current
2023-01-19 14:39:00,239 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc277b1603/s4/58ba03c3-97b2-4f61-8ad2-c8959fd45c26/sm
2023-01-19 14:39:00,240 [s4-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc277b1603/s4/58ba03c3-97b2-4f61-8ad2-c8959fd45c26 has been successfully formatted.
2023-01-19 14:39:00,240 [s4-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-01-19 14:39:00,240 [s4-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-01-19 14:39:00,240 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-01-19 14:39:00,240 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-01-19 14:39:00,241 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:39:00,241 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-01-19 14:39:00,241 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-01-19 14:39:00,241 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:39:00,241 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-01-19 14:39:00,242 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-01-19 14:39:00,242 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s4@group-C8959FD45C26-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc277b1603/s4/58ba03c3-97b2-4f61-8ad2-c8959fd45c26
2023-01-19 14:39:00,242 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-01-19 14:39:00,242 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-01-19 14:39:00,242 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:39:00,242 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-01-19 14:39:00,242 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-01-19 14:39:00,243 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-01-19 14:39:00,243 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-01-19 14:39:00,243 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-01-19 14:39:00,243 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-01-19 14:39:00,243 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:39:00,244 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-01-19 14:39:00,244 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-01-19 14:39:00,244 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-01-19 14:39:00,244 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s4@group-C8959FD45C26-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-01-19 14:39:00,244 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s4@group-C8959FD45C26-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-01-19 14:39:00,245 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s4@group-C8959FD45C26: start as a follower, conf=-1: peers:[s3|rpc:localhost:35721|admin:localhost:44365|client:localhost:40595|dataStream:localhost:38627|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:35223|admin:localhost:41225|client:localhost:45983|dataStream:localhost:38333|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:36457|admin:localhost:43577|client:localhost:34667|dataStream:localhost:38949|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:39:00,245 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s4@group-C8959FD45C26: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-01-19 14:39:00,245 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-C8959FD45C26-FollowerState
2023-01-19 14:39:00,249 [s4@group-C8959FD45C26-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:39:00,249 [s4@group-C8959FD45C26-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:39:00,249 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C8959FD45C26,id=s4
2023-01-19 14:39:00,249 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-01-19 14:39:00,249 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-01-19 14:39:00,249 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-01-19 14:39:00,250 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s4: start RPC server
2023-01-19 14:39:00,250 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s4: GrpcService started, listening on 45983
2023-01-19 14:39:00,251 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s4: GrpcService started, listening on 35223
2023-01-19 14:39:00,251 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s4: GrpcService started, listening on 41225
2023-01-19 14:39:00,252 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-01-19 14:39:00,252 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-01-19 14:39:00,252 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc277b1603/s5] (custom)
2023-01-19 14:39:00,252 [s5-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc277b1603/s5/58ba03c3-97b2-4f61-8ad2-c8959fd45c26 does not exist. Creating ...
2023-01-19 14:39:00,252 [s5-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc277b1603/s5/58ba03c3-97b2-4f61-8ad2-c8959fd45c26
2023-01-19 14:39:00,254 [JvmPauseMonitor18] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s4: Started
2023-01-19 14:39:00,254 [s5-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc277b1603/s5/58ba03c3-97b2-4f61-8ad2-c8959fd45c26/in_use.lock acquired by nodename 4721@fv-az82-597
2023-01-19 14:39:00,255 [s5-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc277b1603/s5/58ba03c3-97b2-4f61-8ad2-c8959fd45c26/current
2023-01-19 14:39:00,255 [s5-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc277b1603/s5/58ba03c3-97b2-4f61-8ad2-c8959fd45c26/sm
2023-01-19 14:39:00,256 [s5-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc277b1603/s5/58ba03c3-97b2-4f61-8ad2-c8959fd45c26 has been successfully formatted.
2023-01-19 14:39:00,256 [s5-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-01-19 14:39:00,256 [s5-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-01-19 14:39:00,256 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-01-19 14:39:00,257 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-01-19 14:39:00,257 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:39:00,257 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-01-19 14:39:00,257 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-01-19 14:39:00,257 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:39:00,258 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-01-19 14:39:00,258 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-01-19 14:39:00,258 [s5-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s5@group-C8959FD45C26-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc277b1603/s5/58ba03c3-97b2-4f61-8ad2-c8959fd45c26
2023-01-19 14:39:00,258 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-01-19 14:39:00,258 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-01-19 14:39:00,258 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:39:00,258 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-01-19 14:39:00,258 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-01-19 14:39:00,258 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-01-19 14:39:00,258 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-01-19 14:39:00,258 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-01-19 14:39:00,258 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-01-19 14:39:00,259 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:39:00,259 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-01-19 14:39:00,259 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-01-19 14:39:00,259 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-01-19 14:39:00,260 [s5-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s5@group-C8959FD45C26-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-01-19 14:39:00,260 [s5-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s5@group-C8959FD45C26-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-01-19 14:39:00,260 [s5-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s5@group-C8959FD45C26: start as a follower, conf=-1: peers:[s3|rpc:localhost:35721|admin:localhost:44365|client:localhost:40595|dataStream:localhost:38627|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:35223|admin:localhost:41225|client:localhost:45983|dataStream:localhost:38333|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:36457|admin:localhost:43577|client:localhost:34667|dataStream:localhost:38949|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:39:00,260 [s5-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s5@group-C8959FD45C26: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-01-19 14:39:00,260 [s5-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s5: start s5@group-C8959FD45C26-FollowerState
2023-01-19 14:39:00,262 [s5-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-C8959FD45C26,id=s5
2023-01-19 14:39:00,262 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-01-19 14:39:00,262 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-01-19 14:39:00,262 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-01-19 14:39:00,262 [s5@group-C8959FD45C26-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:39:00,262 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s5: start RPC server
2023-01-19 14:39:00,263 [s5@group-C8959FD45C26-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:39:00,263 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s5: GrpcService started, listening on 34667
2023-01-19 14:39:00,264 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s5: GrpcService started, listening on 36457
2023-01-19 14:39:00,264 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s5: GrpcService started, listening on 43577
2023-01-19 14:39:00,265 [JvmPauseMonitor19] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s5: Started
2023-01-19 14:39:00,265 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:39:00,265 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:39:00,313 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-767E51CD32DB->s3: receive RaftClientReply:client-767E51CD32DB->s3@group-C8959FD45C26, cid=62, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-C8959FD45C26 is not the leader, logIndex=0, commits[s3:c-1]
2023-01-19 14:39:00,416 [timer6] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:39:00,417 [timer6] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:39:00,424 [s4@group-C8959FD45C26-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-C8959FD45C26-FollowerState: change to CANDIDATE, lastRpcElapsedTime:178447654ns, electionTimeout:175ms
2023-01-19 14:39:00,424 [s4@group-C8959FD45C26-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-C8959FD45C26-FollowerState
2023-01-19 14:39:00,424 [s4@group-C8959FD45C26-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s4@group-C8959FD45C26: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-01-19 14:39:00,424 [s4@group-C8959FD45C26-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-01-19 14:39:00,424 [s4@group-C8959FD45C26-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-C8959FD45C26-LeaderElection16
2023-01-19 14:39:00,436 [s4@group-C8959FD45C26-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s4@group-C8959FD45C26-LeaderElection16 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s3|rpc:localhost:35721|admin:localhost:44365|client:localhost:40595|dataStream:localhost:38627|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:35223|admin:localhost:41225|client:localhost:45983|dataStream:localhost:38333|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:36457|admin:localhost:43577|client:localhost:34667|dataStream:localhost:38949|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:39:00,436 [s4@group-C8959FD45C26-LeaderElection16-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s3
2023-01-19 14:39:00,439 [s4@group-C8959FD45C26-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:39:00,439 [s4@group-C8959FD45C26-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:39:00,443 [s3@group-C8959FD45C26-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s3@group-C8959FD45C26-FollowerState: change to CANDIDATE, lastRpcElapsedTime:210232057ns, electionTimeout:209ms
2023-01-19 14:39:00,443 [s3@group-C8959FD45C26-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-C8959FD45C26-FollowerState
2023-01-19 14:39:00,443 [s3@group-C8959FD45C26-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s3@group-C8959FD45C26: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-01-19 14:39:00,447 [s3@group-C8959FD45C26-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-01-19 14:39:00,447 [s3@group-C8959FD45C26-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-C8959FD45C26-LeaderElection17
2023-01-19 14:39:00,451 [s4@group-C8959FD45C26-LeaderElection16-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s5
2023-01-19 14:39:00,463 [s3@group-C8959FD45C26-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s3@group-C8959FD45C26-LeaderElection17 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s3|rpc:localhost:35721|admin:localhost:44365|client:localhost:40595|dataStream:localhost:38627|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:35223|admin:localhost:41225|client:localhost:45983|dataStream:localhost:38333|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:36457|admin:localhost:43577|client:localhost:34667|dataStream:localhost:38949|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:39:00,466 [s3@group-C8959FD45C26-LeaderElection17-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s4
2023-01-19 14:39:00,468 [s3@group-C8959FD45C26-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:39:00,468 [s3@group-C8959FD45C26-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:39:00,469 [s3@group-C8959FD45C26-LeaderElection17-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s5
2023-01-19 14:39:00,492 [s5@group-C8959FD45C26-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s5@group-C8959FD45C26-FollowerState: change to CANDIDATE, lastRpcElapsedTime:231983580ns, electionTimeout:229ms
2023-01-19 14:39:00,492 [s5@group-C8959FD45C26-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s5: shutdown s5@group-C8959FD45C26-FollowerState
2023-01-19 14:39:00,492 [s5@group-C8959FD45C26-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s5@group-C8959FD45C26: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-01-19 14:39:00,492 [s5@group-C8959FD45C26-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-01-19 14:39:00,492 [s5@group-C8959FD45C26-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s5: start s5@group-C8959FD45C26-LeaderElection18
2023-01-19 14:39:00,502 [s5@group-C8959FD45C26-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s5@group-C8959FD45C26-LeaderElection18 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s3|rpc:localhost:35721|admin:localhost:44365|client:localhost:40595|dataStream:localhost:38627|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:35223|admin:localhost:41225|client:localhost:45983|dataStream:localhost:38333|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:36457|admin:localhost:43577|client:localhost:34667|dataStream:localhost:38949|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:39:00,509 [s5@group-C8959FD45C26-LeaderElection18-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s3
2023-01-19 14:39:00,515 [s5@group-C8959FD45C26-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:39:00,515 [s5@group-C8959FD45C26-LeaderElection18-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s4
2023-01-19 14:39:00,515 [s5@group-C8959FD45C26-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:39:00,594 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s3@group-C8959FD45C26: receive requestVote(PRE_VOTE, s4, group-C8959FD45C26, 0, (t:0, i:0))
2023-01-19 14:39:00,595 [grpc-default-executor-9] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-C8959FD45C26-CANDIDATE: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2023-01-19 14:39:00,595 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s3@group-C8959FD45C26 replies to PRE_VOTE vote request: s4<-s3#0:OK-t0. Peer's state: s3@group-C8959FD45C26:t0, leader=null, voted=, raftlog=Memoized:s3@group-C8959FD45C26-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:35721|admin:localhost:44365|client:localhost:40595|dataStream:localhost:38627|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:35223|admin:localhost:41225|client:localhost:45983|dataStream:localhost:38333|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:36457|admin:localhost:43577|client:localhost:34667|dataStream:localhost:38949|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:39:00,596 [s4@group-C8959FD45C26-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s4@group-C8959FD45C26-LeaderElection16: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-01-19 14:39:00,596 [s4@group-C8959FD45C26-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s4<-s3#0:OK-t0
2023-01-19 14:39:00,596 [s4@group-C8959FD45C26-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s4@group-C8959FD45C26-LeaderElection16 PRE_VOTE round 0: result PASSED
2023-01-19 14:39:00,598 [s4@group-C8959FD45C26-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s4@group-C8959FD45C26-LeaderElection16 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s3|rpc:localhost:35721|admin:localhost:44365|client:localhost:40595|dataStream:localhost:38627|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:35223|admin:localhost:41225|client:localhost:45983|dataStream:localhost:38333|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:36457|admin:localhost:43577|client:localhost:34667|dataStream:localhost:38949|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:39:00,607 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s3@group-C8959FD45C26: receive requestVote(ELECTION, s4, group-C8959FD45C26, 1, (t:0, i:0))
2023-01-19 14:39:00,607 [grpc-default-executor-9] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-C8959FD45C26-CANDIDATE: accept ELECTION from s4: our priority 0 <= candidate's priority 0
2023-01-19 14:39:00,607 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s3@group-C8959FD45C26: changes role from CANDIDATE to FOLLOWER at term 1 for candidate:s4
2023-01-19 14:39:00,607 [grpc-default-executor-9] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s3: shutdown s3@group-C8959FD45C26-LeaderElection17
2023-01-19 14:39:00,607 [grpc-default-executor-9] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-C8959FD45C26-FollowerState
2023-01-19 14:39:00,611 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-767E51CD32DB->s5: receive RaftClientReply:client-767E51CD32DB->s5@group-C8959FD45C26, cid=62, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s5@group-C8959FD45C26 is not the leader, logIndex=0, commits[s5:c-1]
2023-01-19 14:39:00,625 [s4@group-C8959FD45C26-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:39:00,626 [s4@group-C8959FD45C26-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:39:00,636 [s3@group-C8959FD45C26-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:39:00,637 [s3@group-C8959FD45C26-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:39:00,637 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s3@group-C8959FD45C26 replies to ELECTION vote request: s4<-s3#0:OK-t1. Peer's state: s3@group-C8959FD45C26:t1, leader=null, voted=s4, raftlog=Memoized:s3@group-C8959FD45C26-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:35721|admin:localhost:44365|client:localhost:40595|dataStream:localhost:38627|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:35223|admin:localhost:41225|client:localhost:45983|dataStream:localhost:38333|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:36457|admin:localhost:43577|client:localhost:34667|dataStream:localhost:38949|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:39:00,639 [s3@group-C8959FD45C26-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s3@group-C8959FD45C26-LeaderElection17: PRE_VOTE REJECTED received 0 response(s) and 0 exception(s):
2023-01-19 14:39:00,639 [s4@group-C8959FD45C26-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s4@group-C8959FD45C26-LeaderElection16: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-01-19 14:39:00,639 [s4@group-C8959FD45C26-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s4<-s3#0:OK-t1
2023-01-19 14:39:00,639 [s4@group-C8959FD45C26-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s4@group-C8959FD45C26-LeaderElection16 ELECTION round 0: result PASSED
2023-01-19 14:39:00,639 [s4@group-C8959FD45C26-LeaderElection16] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-C8959FD45C26-LeaderElection16
2023-01-19 14:39:00,639 [s4@group-C8959FD45C26-LeaderElection16] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s4@group-C8959FD45C26: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-01-19 14:39:00,639 [s4@group-C8959FD45C26-LeaderElection16] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s4@group-C8959FD45C26: change Leader from null to s4 at term 1 for becomeLeader, leader elected after 419ms
2023-01-19 14:39:00,639 [s4@group-C8959FD45C26-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-01-19 14:39:00,639 [s4@group-C8959FD45C26-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2023-01-19 14:39:00,640 [s4@group-C8959FD45C26-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 1MB (=1048576) (custom)
2023-01-19 14:39:00,640 [s4@group-C8959FD45C26-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-01-19 14:39:00,640 [s4@group-C8959FD45C26-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-01-19 14:39:00,640 [s4@group-C8959FD45C26-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-01-19 14:39:00,640 [s4@group-C8959FD45C26-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2023-01-19 14:39:00,639 [s3@group-C8959FD45C26-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s3@group-C8959FD45C26-LeaderElection17 PRE_VOTE round 0: result REJECTED
2023-01-19 14:39:00,640 [s4@group-C8959FD45C26-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-01-19 14:39:00,641 [s4@group-C8959FD45C26-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-01-19 14:39:00,641 [s4@group-C8959FD45C26-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:39:00,641 [s4@group-C8959FD45C26-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-01-19 14:39:00,641 [s4@group-C8959FD45C26-LeaderElection16] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2023-01-19 14:39:00,641 [s4@group-C8959FD45C26-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-01-19 14:39:00,641 [s4@group-C8959FD45C26-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-01-19 14:39:00,641 [s4@group-C8959FD45C26-LeaderElection16] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-01-19 14:39:00,641 [s4@group-C8959FD45C26-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-01-19 14:39:00,642 [s4@group-C8959FD45C26-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-01-19 14:39:00,642 [s4@group-C8959FD45C26-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:39:00,642 [s4@group-C8959FD45C26-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-01-19 14:39:00,642 [s4@group-C8959FD45C26-LeaderElection16] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2023-01-19 14:39:00,642 [s4@group-C8959FD45C26-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-01-19 14:39:00,642 [s4@group-C8959FD45C26-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-01-19 14:39:00,642 [s4@group-C8959FD45C26-LeaderElection16] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-01-19 14:39:00,642 [s4@group-C8959FD45C26-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-01-19 14:39:00,643 [s4@group-C8959FD45C26-LeaderElection16] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-C8959FD45C26-LeaderStateImpl
2023-01-19 14:39:00,643 [s4@group-C8959FD45C26-LeaderElection16] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s4@group-C8959FD45C26-SegmentedRaftLogWorker: Starting segment from index:0
2023-01-19 14:39:00,655 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s4@group-C8959FD45C26: receive requestVote(PRE_VOTE, s3, group-C8959FD45C26, 0, (t:0, i:0))
2023-01-19 14:39:00,655 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s5@group-C8959FD45C26: receive requestVote(PRE_VOTE, s4, group-C8959FD45C26, 0, (t:0, i:0))
2023-01-19 14:39:00,655 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s5@group-C8959FD45C26-CANDIDATE: accept PRE_VOTE from s4: our priority 0 <= candidate's priority 0
2023-01-19 14:39:00,655 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s5@group-C8959FD45C26 replies to PRE_VOTE vote request: s4<-s5#0:OK-t0. Peer's state: s5@group-C8959FD45C26:t0, leader=null, voted=, raftlog=Memoized:s5@group-C8959FD45C26-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:35721|admin:localhost:44365|client:localhost:40595|dataStream:localhost:38627|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:35223|admin:localhost:41225|client:localhost:45983|dataStream:localhost:38333|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:36457|admin:localhost:43577|client:localhost:34667|dataStream:localhost:38949|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:39:00,656 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s5@group-C8959FD45C26: receive requestVote(ELECTION, s4, group-C8959FD45C26, 1, (t:0, i:0))
2023-01-19 14:39:00,656 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s5@group-C8959FD45C26-CANDIDATE: accept ELECTION from s4: our priority 0 <= candidate's priority 0
2023-01-19 14:39:00,656 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s5@group-C8959FD45C26: changes role from CANDIDATE to FOLLOWER at term 1 for candidate:s4
2023-01-19 14:39:00,656 [grpc-default-executor-6] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s5: shutdown s5@group-C8959FD45C26-LeaderElection18
2023-01-19 14:39:00,656 [grpc-default-executor-6] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s5: start s5@group-C8959FD45C26-FollowerState
2023-01-19 14:39:00,658 [s4@group-C8959FD45C26-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s4@group-C8959FD45C26-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc277b1603/s4/58ba03c3-97b2-4f61-8ad2-c8959fd45c26/current/log_inprogress_0
2023-01-19 14:39:00,675 [s4@group-C8959FD45C26-LeaderElection16] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s4@group-C8959FD45C26: set configuration 0: peers:[s3|rpc:localhost:35721|admin:localhost:44365|client:localhost:40595|dataStream:localhost:38627|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:35223|admin:localhost:41225|client:localhost:45983|dataStream:localhost:38333|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:36457|admin:localhost:43577|client:localhost:34667|dataStream:localhost:38949|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:39:00,675 [grpc-default-executor-10] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-C8959FD45C26-LEADER: reject PRE_VOTE from s3: this server is the leader and still has leadership
2023-01-19 14:39:00,678 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s5@group-C8959FD45C26 replies to ELECTION vote request: s4<-s5#0:OK-t1. Peer's state: s5@group-C8959FD45C26:t1, leader=null, voted=s4, raftlog=Memoized:s5@group-C8959FD45C26-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:35721|admin:localhost:44365|client:localhost:40595|dataStream:localhost:38627|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:35223|admin:localhost:41225|client:localhost:45983|dataStream:localhost:38333|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:36457|admin:localhost:43577|client:localhost:34667|dataStream:localhost:38949|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:39:00,678 [s5@group-C8959FD45C26-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:39:00,678 [s5@group-C8959FD45C26-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:39:00,681 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s4@group-C8959FD45C26 replies to PRE_VOTE vote request: s3<-s4#0:FAIL-t1. Peer's state: s4@group-C8959FD45C26:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-C8959FD45C26-SegmentedRaftLog:OPENED:c-1, conf=0: peers:[s3|rpc:localhost:35721|admin:localhost:44365|client:localhost:40595|dataStream:localhost:38627|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:35223|admin:localhost:41225|client:localhost:45983|dataStream:localhost:38333|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:36457|admin:localhost:43577|client:localhost:34667|dataStream:localhost:38949|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:39:00,706 [s3-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s3@group-C8959FD45C26: change Leader from null to s4 at term 1 for appendEntries, leader elected after 505ms
2023-01-19 14:39:00,713 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s5@group-C8959FD45C26: receive requestVote(PRE_VOTE, s3, group-C8959FD45C26, 0, (t:0, i:0))
2023-01-19 14:39:00,713 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s5@group-C8959FD45C26-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2023-01-19 14:39:00,713 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s5@group-C8959FD45C26 replies to PRE_VOTE vote request: s3<-s5#0:OK-t1. Peer's state: s5@group-C8959FD45C26:t1, leader=null, voted=s4, raftlog=Memoized:s5@group-C8959FD45C26-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:35721|admin:localhost:44365|client:localhost:40595|dataStream:localhost:38627|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:35223|admin:localhost:41225|client:localhost:45983|dataStream:localhost:38333|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:36457|admin:localhost:43577|client:localhost:34667|dataStream:localhost:38949|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:39:00,730 [s5-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s5@group-C8959FD45C26: change Leader from null to s4 at term 1 for appendEntries, leader elected after 504ms
2023-01-19 14:39:00,731 [s5-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s5@group-C8959FD45C26: set configuration 0: peers:[s3|rpc:localhost:35721|admin:localhost:44365|client:localhost:40595|dataStream:localhost:38627|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:35223|admin:localhost:41225|client:localhost:45983|dataStream:localhost:38333|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:36457|admin:localhost:43577|client:localhost:34667|dataStream:localhost:38949|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:39:00,731 [s3-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s3@group-C8959FD45C26: set configuration 0: peers:[s3|rpc:localhost:35721|admin:localhost:44365|client:localhost:40595|dataStream:localhost:38627|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:35223|admin:localhost:41225|client:localhost:45983|dataStream:localhost:38333|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:36457|admin:localhost:43577|client:localhost:34667|dataStream:localhost:38949|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:39:00,731 [s5-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s5@group-C8959FD45C26-SegmentedRaftLogWorker: Starting segment from index:0
2023-01-19 14:39:00,731 [s3-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s3@group-C8959FD45C26-SegmentedRaftLogWorker: Starting segment from index:0
2023-01-19 14:39:00,750 [s3@group-C8959FD45C26-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s3@group-C8959FD45C26-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc277b1603/s3/58ba03c3-97b2-4f61-8ad2-c8959fd45c26/current/log_inprogress_0
2023-01-19 14:39:00,751 [s5@group-C8959FD45C26-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s5@group-C8959FD45C26-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc277b1603/s5/58ba03c3-97b2-4f61-8ad2-c8959fd45c26/current/log_inprogress_0
2023-01-19 14:39:00,762 [timer6] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:39:00,762 [timer6] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:39:00,766 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s3@group-C8959FD45C26: receive requestVote(PRE_VOTE, s5, group-C8959FD45C26, 0, (t:0, i:0))
2023-01-19 14:39:00,767 [grpc-default-executor-10] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-C8959FD45C26-FOLLOWER: reject PRE_VOTE from s5: this server is a follower and still has a valid leader s4
2023-01-19 14:39:00,767 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s3@group-C8959FD45C26 replies to PRE_VOTE vote request: s5<-s3#0:FAIL-t1. Peer's state: s3@group-C8959FD45C26:t1, leader=s4, voted=s4, raftlog=Memoized:s3@group-C8959FD45C26-SegmentedRaftLog:OPENED:c-1, conf=0: peers:[s3|rpc:localhost:35721|admin:localhost:44365|client:localhost:40595|dataStream:localhost:38627|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:35223|admin:localhost:41225|client:localhost:45983|dataStream:localhost:38333|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:36457|admin:localhost:43577|client:localhost:34667|dataStream:localhost:38949|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:39:00,768 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s4@group-C8959FD45C26: receive requestVote(PRE_VOTE, s5, group-C8959FD45C26, 0, (t:0, i:0))
2023-01-19 14:39:00,768 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-C8959FD45C26-LEADER: reject PRE_VOTE from s5: this server is the leader and still has leadership
2023-01-19 14:39:00,768 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s4@group-C8959FD45C26 replies to PRE_VOTE vote request: s5<-s4#0:FAIL-t1. Peer's state: s4@group-C8959FD45C26:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-C8959FD45C26-SegmentedRaftLog:OPENED:c-1, conf=0: peers:[s3|rpc:localhost:35721|admin:localhost:44365|client:localhost:40595|dataStream:localhost:38627|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:35223|admin:localhost:41225|client:localhost:45983|dataStream:localhost:38333|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:36457|admin:localhost:43577|client:localhost:34667|dataStream:localhost:38949|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:39:00,769 [s5@group-C8959FD45C26-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s5@group-C8959FD45C26-LeaderElection18: PRE_VOTE REJECTED received 0 response(s) and 0 exception(s):
2023-01-19 14:39:00,770 [s5@group-C8959FD45C26-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s5@group-C8959FD45C26-LeaderElection18 PRE_VOTE round 0: result REJECTED
2023-01-19 14:39:00,822 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-767E51CD32DB->s4: receive RaftClientReply:client-767E51CD32DB->s4@group-C8959FD45C26, cid=62, SUCCESS, logIndex=0, commits[s4:c0, s3:c-1, s5:c-1]
2023-01-19 14:39:00,827 [s4@group-C8959FD45C26-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 63@client-767E51CD32DB
2023-01-19 14:39:00,830 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-767E51CD32DB->s4: receive RaftClientReply:client-767E51CD32DB->s4@group-C8959FD45C26, cid=63, SUCCESS, logIndex=1, commits[s4:c1, s3:c0, s5:c-1]
2023-01-19 14:39:00,831 [s3@group-C8959FD45C26-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 63@client-767E51CD32DB
2023-01-19 14:39:00,834 [s5@group-C8959FD45C26-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 63@client-767E51CD32DB
2023-01-19 14:39:00,837 [Time-limited test] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:block(135)) - block FLUSH_STATE_MACHINE_DATA
2023-01-19 14:39:00,838 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:39:00,839 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:39:00,846 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:39:00,846 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:39:00,879 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:39:00,885 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:39:00,889 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:39:00,889 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:39:00,895 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:39:00,895 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:39:00,908 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:39:00,908 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:39:00,911 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:39:00,911 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:39:00,913 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:39:00,913 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:39:00,915 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:39:00,918 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:39:00,923 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:39:00,924 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:39:00,926 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:39:00,928 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:39:01,052 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-5C71149D1E94->s4: receive RaftClientReply:client-5C71149D1E94->s4@group-C8959FD45C26, cid=64, SUCCESS, logIndex=2, commits[s4:c2, s3:c1, s5:c1]
2023-01-19 14:39:01,128 [grpc-default-executor-10] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-DE0A537B77F4->s4: receive RaftClientReply:client-DE0A537B77F4->s4@group-C8959FD45C26, cid=66, SUCCESS, logIndex=2, commits[s4:c2, s3:c2, s5:c2]
2023-01-19 14:39:01,133 [grpc-default-executor-10] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-6B0387E62EB3->s4: receive RaftClientReply:client-6B0387E62EB3->s4@group-C8959FD45C26, cid=84, SUCCESS, logIndex=2, commits[s4:c2, s3:c2, s5:c2]
2023-01-19 14:39:01,185 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-2D01778B9D65->s4: receive RaftClientReply:client-2D01778B9D65->s4@group-C8959FD45C26, cid=68, SUCCESS, logIndex=2, commits[s4:c2, s3:c2, s5:c2]
2023-01-19 14:39:01,190 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-96EE8C3C7D3E->s4: receive RaftClientReply:client-96EE8C3C7D3E->s4@group-C8959FD45C26, cid=72, SUCCESS, logIndex=2, commits[s4:c2, s3:c2, s5:c2]
2023-01-19 14:39:01,191 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-ABAEAEF29340->s4: receive RaftClientReply:client-ABAEAEF29340->s4@group-C8959FD45C26, cid=76, SUCCESS, logIndex=2, commits[s4:c2, s3:c2, s5:c2]
2023-01-19 14:39:01,197 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-B84CEEA4E40F->s4: receive RaftClientReply:client-B84CEEA4E40F->s4@group-C8959FD45C26, cid=70, SUCCESS, logIndex=2, commits[s4:c2, s3:c2, s5:c2]
2023-01-19 14:39:01,202 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-A4E3994829F4->s4: receive RaftClientReply:client-A4E3994829F4->s4@group-C8959FD45C26, cid=78, SUCCESS, logIndex=2, commits[s4:c2, s3:c2, s5:c2]
2023-01-19 14:39:01,203 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-30EB824AAB3B->s4: receive RaftClientReply:client-30EB824AAB3B->s4@group-C8959FD45C26, cid=82, SUCCESS, logIndex=2, commits[s4:c2, s3:c2, s5:c2]
2023-01-19 14:39:01,204 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-AC65999633D5->s4: receive RaftClientReply:client-AC65999633D5->s4@group-C8959FD45C26, cid=80, SUCCESS, logIndex=2, commits[s4:c2, s3:c2, s5:c2]
2023-01-19 14:39:01,213 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-316E07B376C3->s4: receive RaftClientReply:client-316E07B376C3->s4@group-C8959FD45C26, cid=74, SUCCESS, logIndex=2, commits[s4:c2, s3:c2, s5:c2]
2023-01-19 14:39:01,226 [grpc-default-executor-5] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=message 4
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s4@group-C8959FD45C26: Failed to acquire a pending write request for RaftClientRequest:client-316E07B376C3->s4@group-C8959FD45C26, cid=75, seq=2, RW, Message:6d6573736167652034
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:392)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:487)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:468)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:432)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:465)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s4@group-C8959FD45C26: Failed to acquire a pending write request for RaftClientRequest:client-316E07B376C3->s4@group-C8959FD45C26, cid=75, seq=2, RW, Message:6d6573736167652034
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:771)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:882)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:820)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:820)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	... 3 more
	Suppressed: java.lang.NullPointerException
		at org.apache.ratis.server.impl.RaftServerImpl.lambda$submitClientRequestAsync$15(RaftServerImpl.java:890)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883)
		at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251)
		at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:889)
		... 7 more
2023-01-19 14:39:01,238 [Time-limited test] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:unblock(142)) - unblock FLUSH_STATE_MACHINE_DATA
2023-01-19 14:39:01,240 [s4@group-C8959FD45C26-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, 65@client-5C71149D1E94
2023-01-19 14:39:01,242 [grpc-default-executor-10] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-5C71149D1E94->s4: receive RaftClientReply:client-5C71149D1E94->s4@group-C8959FD45C26, cid=65, SUCCESS, logIndex=3, commits[s4:c3, s3:c2, s5:c2]
2023-01-19 14:39:01,243 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:39:01,243 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:39:01,244 [s5@group-C8959FD45C26-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, 65@client-5C71149D1E94
2023-01-19 14:39:01,245 [s3@group-C8959FD45C26-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, 65@client-5C71149D1E94
2023-01-19 14:39:01,246 [s4@group-C8959FD45C26-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, 67@client-DE0A537B77F4
2023-01-19 14:39:01,246 [s4@group-C8959FD45C26-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 5, message 9 -> (t:1, i:5), STATEMACHINELOGENTRY, 85@client-6B0387E62EB3
2023-01-19 14:39:01,247 [s4@group-C8959FD45C26-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 6, message 3 -> (t:1, i:6), STATEMACHINELOGENTRY, 73@client-96EE8C3C7D3E
2023-01-19 14:39:01,247 [s4@group-C8959FD45C26-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 7, message 5 -> (t:1, i:7), STATEMACHINELOGENTRY, 77@client-ABAEAEF29340
2023-01-19 14:39:01,247 [s4@group-C8959FD45C26-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 8, message 1 -> (t:1, i:8), STATEMACHINELOGENTRY, 69@client-2D01778B9D65
2023-01-19 14:39:01,247 [s4@group-C8959FD45C26-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 9, message 2 -> (t:1, i:9), STATEMACHINELOGENTRY, 71@client-B84CEEA4E40F
2023-01-19 14:39:01,247 [s4@group-C8959FD45C26-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 10, message 8 -> (t:1, i:10), STATEMACHINELOGENTRY, 83@client-30EB824AAB3B
2023-01-19 14:39:01,248 [s4@group-C8959FD45C26-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 11, message 6 -> (t:1, i:11), STATEMACHINELOGENTRY, 79@client-A4E3994829F4
2023-01-19 14:39:01,248 [s4@group-C8959FD45C26-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 12, message 7 -> (t:1, i:12), STATEMACHINELOGENTRY, 81@client-AC65999633D5
2023-01-19 14:39:01,250 [s5@group-C8959FD45C26-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, 67@client-DE0A537B77F4
2023-01-19 14:39:01,250 [s5@group-C8959FD45C26-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 5, message 9 -> (t:1, i:5), STATEMACHINELOGENTRY, 85@client-6B0387E62EB3
2023-01-19 14:39:01,250 [s5@group-C8959FD45C26-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 6, message 3 -> (t:1, i:6), STATEMACHINELOGENTRY, 73@client-96EE8C3C7D3E
2023-01-19 14:39:01,250 [s5@group-C8959FD45C26-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 7, message 5 -> (t:1, i:7), STATEMACHINELOGENTRY, 77@client-ABAEAEF29340
2023-01-19 14:39:01,251 [s5@group-C8959FD45C26-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 8, message 1 -> (t:1, i:8), STATEMACHINELOGENTRY, 69@client-2D01778B9D65
2023-01-19 14:39:01,251 [s5@group-C8959FD45C26-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 9, message 2 -> (t:1, i:9), STATEMACHINELOGENTRY, 71@client-B84CEEA4E40F
2023-01-19 14:39:01,251 [s5@group-C8959FD45C26-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 10, message 8 -> (t:1, i:10), STATEMACHINELOGENTRY, 83@client-30EB824AAB3B
2023-01-19 14:39:01,251 [s5@group-C8959FD45C26-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 11, message 6 -> (t:1, i:11), STATEMACHINELOGENTRY, 79@client-A4E3994829F4
2023-01-19 14:39:01,252 [s5@group-C8959FD45C26-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 12, message 7 -> (t:1, i:12), STATEMACHINELOGENTRY, 81@client-AC65999633D5
2023-01-19 14:39:01,253 [s3@group-C8959FD45C26-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, 67@client-DE0A537B77F4
2023-01-19 14:39:01,253 [s3@group-C8959FD45C26-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 5, message 9 -> (t:1, i:5), STATEMACHINELOGENTRY, 85@client-6B0387E62EB3
2023-01-19 14:39:01,254 [s3@group-C8959FD45C26-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 6, message 3 -> (t:1, i:6), STATEMACHINELOGENTRY, 73@client-96EE8C3C7D3E
2023-01-19 14:39:01,254 [s3@group-C8959FD45C26-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 7, message 5 -> (t:1, i:7), STATEMACHINELOGENTRY, 77@client-ABAEAEF29340
2023-01-19 14:39:01,254 [s3@group-C8959FD45C26-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 8, message 1 -> (t:1, i:8), STATEMACHINELOGENTRY, 69@client-2D01778B9D65
2023-01-19 14:39:01,254 [s3@group-C8959FD45C26-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 9, message 2 -> (t:1, i:9), STATEMACHINELOGENTRY, 71@client-B84CEEA4E40F
2023-01-19 14:39:01,255 [s3@group-C8959FD45C26-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 10, message 8 -> (t:1, i:10), STATEMACHINELOGENTRY, 83@client-30EB824AAB3B
2023-01-19 14:39:01,255 [s3@group-C8959FD45C26-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 11, message 6 -> (t:1, i:11), STATEMACHINELOGENTRY, 79@client-A4E3994829F4
2023-01-19 14:39:01,255 [s3@group-C8959FD45C26-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 12, message 7 -> (t:1, i:12), STATEMACHINELOGENTRY, 81@client-AC65999633D5
2023-01-19 14:39:01,257 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-DE0A537B77F4->s4: receive RaftClientReply:client-DE0A537B77F4->s4@group-C8959FD45C26, cid=67, SUCCESS, logIndex=4, commits[s4:c12, s3:c3, s5:c3]
2023-01-19 14:39:01,257 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-6B0387E62EB3->s4: receive RaftClientReply:client-6B0387E62EB3->s4@group-C8959FD45C26, cid=85, SUCCESS, logIndex=5, commits[s4:c12, s3:c3, s5:c3]
2023-01-19 14:39:01,270 [grpc-default-executor-10] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-B84CEEA4E40F->s4: receive RaftClientReply:client-B84CEEA4E40F->s4@group-C8959FD45C26, cid=71, SUCCESS, logIndex=9, commits[s4:c12, s3:c3, s5:c3]
2023-01-19 14:39:01,270 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-2D01778B9D65->s4: receive RaftClientReply:client-2D01778B9D65->s4@group-C8959FD45C26, cid=69, SUCCESS, logIndex=8, commits[s4:c12, s3:c3, s5:c3]
2023-01-19 14:39:01,271 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-96EE8C3C7D3E->s4: receive RaftClientReply:client-96EE8C3C7D3E->s4@group-C8959FD45C26, cid=73, SUCCESS, logIndex=6, commits[s4:c12, s3:c3, s5:c3]
2023-01-19 14:39:01,272 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-ABAEAEF29340->s4: receive RaftClientReply:client-ABAEAEF29340->s4@group-C8959FD45C26, cid=77, SUCCESS, logIndex=7, commits[s4:c12, s3:c3, s5:c3]
2023-01-19 14:39:01,273 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-AC65999633D5->s4: receive RaftClientReply:client-AC65999633D5->s4@group-C8959FD45C26, cid=81, SUCCESS, logIndex=12, commits[s4:c12, s3:c3, s5:c3]
2023-01-19 14:39:01,275 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-30EB824AAB3B->s4: receive RaftClientReply:client-30EB824AAB3B->s4@group-C8959FD45C26, cid=83, SUCCESS, logIndex=10, commits[s4:c12, s3:c3, s5:c3]
2023-01-19 14:39:01,275 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-A4E3994829F4->s4: receive RaftClientReply:client-A4E3994829F4->s4@group-C8959FD45C26, cid=79, SUCCESS, logIndex=11, commits[s4:c12, s3:c3, s5:c3]
2023-01-19 14:39:01,287 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-9DBF419AAAF2->s4: receive RaftClientReply:client-9DBF419AAAF2->s4@group-C8959FD45C26, cid=86, SUCCESS, logIndex=14, commits[s4:c14, s3:c12, s5:c12]
2023-01-19 14:39:01,323 [grpc-default-executor-5] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=1025kb (=1049600)-message
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s4@group-C8959FD45C26: Failed to acquire a pending write request for RaftClientRequest:client-9DBF419AAAF2->s4@group-C8959FD45C26, cid=87, seq=2, RW, Message:27e4a590ff15dfb9939f...(size=1049600)
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:392)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:487)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:468)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:432)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:465)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s4@group-C8959FD45C26: Failed to acquire a pending write request for RaftClientRequest:client-9DBF419AAAF2->s4@group-C8959FD45C26, cid=87, seq=2, RW, Message:27e4a590ff15dfb9939f...(size=1049600)
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:771)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:882)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:820)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:820)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	... 3 more
	Suppressed: java.lang.NullPointerException
		at org.apache.ratis.server.impl.RaftServerImpl.lambda$submitClientRequestAsync$15(RaftServerImpl.java:890)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883)
		at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251)
		at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:889)
		... 7 more
2023-01-19 14:39:01,580 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-01-19 14:39:01,581 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-01-19 14:39:01,581 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2023-01-19 14:39:01,581 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-01-19 14:39:01,581 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-01-19 14:39:01,581 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-C8959FD45C26:t1, leader=s4, voted=s4, raftlog=Memoized:s3@group-C8959FD45C26-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s3|rpc:localhost:35721|admin:localhost:44365|client:localhost:40595|dataStream:localhost:38627|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:35223|admin:localhost:41225|client:localhost:45983|dataStream:localhost:38333|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:36457|admin:localhost:43577|client:localhost:34667|dataStream:localhost:38949|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING    LEADER s4@group-C8959FD45C26:t1, leader=s4, voted=s4, raftlog=Memoized:s4@group-C8959FD45C26-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s3|rpc:localhost:35721|admin:localhost:44365|client:localhost:40595|dataStream:localhost:38627|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:35223|admin:localhost:41225|client:localhost:45983|dataStream:localhost:38333|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:36457|admin:localhost:43577|client:localhost:34667|dataStream:localhost:38949|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s5:  RUNNING  FOLLOWER s5@group-C8959FD45C26:t1, leader=s4, voted=s4, raftlog=Memoized:s5@group-C8959FD45C26-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s3|rpc:localhost:35721|admin:localhost:44365|client:localhost:40595|dataStream:localhost:38627|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:35223|admin:localhost:41225|client:localhost:45983|dataStream:localhost:38333|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:36457|admin:localhost:43577|client:localhost:34667|dataStream:localhost:38949|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-01-19 14:39:01,599 [MiniRaftCluster-18] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s3: close
2023-01-19 14:39:01,609 [MiniRaftCluster-19] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s4: close
2023-01-19 14:39:01,613 [MiniRaftCluster-18] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-01-19 14:39:01,613 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s3@group-C8959FD45C26: shutdown
2023-01-19 14:39:01,614 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C8959FD45C26,id=s3
2023-01-19 14:39:01,614 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-C8959FD45C26-FollowerState
2023-01-19 14:39:01,614 [s3-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s3@group-C8959FD45C26-StateMachineUpdater: set stopIndex = 14
2023-01-19 14:39:01,614 [s3@group-C8959FD45C26-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s3@group-C8959FD45C26-FollowerState was interrupted
2023-01-19 14:39:01,614 [MiniRaftCluster-18] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s4 Close channels
2023-01-19 14:39:01,616 [s3-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s3@group-C8959FD45C26: applyIndex: 14
2023-01-19 14:39:01,616 [s3@group-C8959FD45C26-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s3@group-C8959FD45C26-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2023-01-19 14:39:01,616 [MiniRaftCluster-19] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-01-19 14:39:01,616 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s4@group-C8959FD45C26: shutdown
2023-01-19 14:39:01,616 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C8959FD45C26,id=s4
2023-01-19 14:39:01,616 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s4: shutdown s4@group-C8959FD45C26-LeaderStateImpl
2023-01-19 14:39:01,617 [s4-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s4@group-C8959FD45C26-PendingRequests: sendNotLeaderResponses
2023-01-19 14:39:01,617 [s4@group-C8959FD45C26->s5-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s4@group-C8959FD45C26->s5-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2023-01-19 14:39:01,617 [s4@group-C8959FD45C26->s3-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s4@group-C8959FD45C26->s3-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2023-01-19 14:39:01,619 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s3@group-C8959FD45C26-SegmentedRaftLogWorker close()
2023-01-19 14:39:01,620 [grpc-default-executor-5] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s5: Completed APPEND_ENTRIES, lastRequest: s4->s5#46-t1,previous=(t:1, i:13),leaderCommit=12,initializing? true,entries: size=1, first=(t:1, i:14), METADATAENTRY(c:12)
2023-01-19 14:39:01,620 [grpc-default-executor-9] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s3: Completed APPEND_ENTRIES, lastRequest: null
2023-01-19 14:39:01,620 [grpc-default-executor-10] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s3: Completed APPEND_ENTRIES, lastRequest: s4->s3#46-t1,previous=(t:1, i:13),leaderCommit=12,initializing? true,entries: size=1, first=(t:1, i:14), METADATAENTRY(c:12)
2023-01-19 14:39:01,621 [grpc-default-executor-10] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s5: Completed APPEND_ENTRIES, lastRequest: null
2023-01-19 14:39:01,622 [s4-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s4@group-C8959FD45C26-StateMachineUpdater: set stopIndex = 14
2023-01-19 14:39:01,623 [s4-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s4@group-C8959FD45C26: applyIndex: 14
2023-01-19 14:39:01,623 [s4@group-C8959FD45C26-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s4@group-C8959FD45C26-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2023-01-19 14:39:01,624 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s4@group-C8959FD45C26-SegmentedRaftLogWorker close()
2023-01-19 14:39:01,625 [MiniRaftCluster-19] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s3 Close channels
2023-01-19 14:39:01,626 [MiniRaftCluster-18] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s5 Close channels
2023-01-19 14:39:01,627 [grpc-default-executor-10] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s4@group-C8959FD45C26->s5-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-01-19 14:39:01,627 [grpc-default-executor-10] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s4@group-C8959FD45C26->s5: nextIndex: updateUnconditionally 15 -> 14
2023-01-19 14:39:01,628 [MiniRaftCluster-18] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-01-19 14:39:01,628 [MiniRaftCluster-18] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s3: shutdown server GrpcServerProtocolService now
2023-01-19 14:39:01,628 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s4@group-C8959FD45C26->s3-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-01-19 14:39:01,629 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s4@group-C8959FD45C26->s5-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-01-19 14:39:01,629 [grpc-default-executor-5] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s4@group-C8959FD45C26->s5: nextIndex: updateUnconditionally 14 -> 13
2023-01-19 14:39:01,629 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(136)) - s4@group-C8959FD45C26->s3-GrpcLogAppender: Failed to getClient for s3
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s4 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:61)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:115)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:115)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:120)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$500(GrpcLogAppender.java:57)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:414)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:485)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-01-19 14:39:01,632 [MiniRaftCluster-18] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s3: shutdown server GrpcServerProtocolService successfully
2023-01-19 14:39:01,632 [MiniRaftCluster-18] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-01-19 14:39:01,632 [MiniRaftCluster-19] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s5 Close channels
2023-01-19 14:39:01,633 [MiniRaftCluster-20] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s5: close
2023-01-19 14:39:01,641 [MiniRaftCluster-18] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-01-19 14:39:01,642 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s4@group-C8959FD45C26->s3-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-01-19 14:39:01,642 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(136)) - s4@group-C8959FD45C26->s3-GrpcLogAppender: Failed to getClient for s3
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s4 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:61)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:115)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:115)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:120)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$500(GrpcLogAppender.java:57)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:414)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:485)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:468)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:432)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:465)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-01-19 14:39:01,642 [s5-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s5@group-C8959FD45C26: shutdown
2023-01-19 14:39:01,643 [s5-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-C8959FD45C26,id=s5
2023-01-19 14:39:01,643 [s5-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s5: shutdown s5@group-C8959FD45C26-FollowerState
2023-01-19 14:39:01,643 [s5-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s5@group-C8959FD45C26-StateMachineUpdater: set stopIndex = 14
2023-01-19 14:39:01,643 [s5@group-C8959FD45C26-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s5@group-C8959FD45C26-FollowerState was interrupted
2023-01-19 14:39:01,643 [s5-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s5@group-C8959FD45C26: applyIndex: 14
2023-01-19 14:39:01,643 [s5@group-C8959FD45C26-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s5@group-C8959FD45C26-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2023-01-19 14:39:01,645 [s5-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s5@group-C8959FD45C26-SegmentedRaftLogWorker close()
2023-01-19 14:39:01,647 [MiniRaftCluster-19] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-01-19 14:39:01,647 [MiniRaftCluster-19] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s4: shutdown server GrpcServerProtocolService now
2023-01-19 14:39:01,647 [JvmPauseMonitor17] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s3: Stopped
2023-01-19 14:39:01,649 [MiniRaftCluster-20] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s5: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-01-19 14:39:01,649 [MiniRaftCluster-20] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s3 Close channels
2023-01-19 14:39:01,650 [MiniRaftCluster-20] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s4 Close channels
2023-01-19 14:39:01,650 [MiniRaftCluster-19] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s4: shutdown server GrpcServerProtocolService successfully
2023-01-19 14:39:01,650 [MiniRaftCluster-19] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-01-19 14:39:01,653 [MiniRaftCluster-19] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-01-19 14:39:01,653 [MiniRaftCluster-20] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s5: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-01-19 14:39:01,653 [MiniRaftCluster-20] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s5: shutdown server GrpcServerProtocolService now
2023-01-19 14:39:01,654 [MiniRaftCluster-20] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s5: shutdown server GrpcServerProtocolService successfully
2023-01-19 14:39:01,654 [MiniRaftCluster-20] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s5: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-01-19 14:39:01,654 [MiniRaftCluster-20] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s5: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-01-19 14:39:01,654 [JvmPauseMonitor19] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s5: Stopped
2023-01-19 14:39:01,657 [JvmPauseMonitor18] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s4: Stopped
2023-01-19 14:39:01,657 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2023-01-19 14:39:01,658 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-01-19 14:39:01,658 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-01-19 14:39:01,658 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2023-01-19 14:39:01,659 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2023-01-19 14:39:01,660 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-59AFD5A0ABE1:[s0|rpc:localhost:36913|admin:localhost:46147|client:localhost:36289|dataStream:localhost:33285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46603|admin:localhost:35113|client:localhost:35853|dataStream:localhost:44497|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36241|admin:localhost:38795|client:localhost:34669|dataStream:localhost:38413|priority:0|startupRole:FOLLOWER]
2023-01-19 14:39:01,660 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-01-19 14:39:01,660 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-01-19 14:39:01,660 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2023-01-19 14:39:01,660 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-01-19 14:39:01,660 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-01-19 14:39:01,660 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-01-19 14:39:01,660 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-59AFD5A0ABE1:[s0|rpc:localhost:36913|admin:localhost:46147|client:localhost:36289|dataStream:localhost:33285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46603|admin:localhost:35113|client:localhost:35853|dataStream:localhost:44497|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36241|admin:localhost:38795|client:localhost:34669|dataStream:localhost:38413|priority:0|startupRole:FOLLOWER], format? true
2023-01-19 14:39:01,660 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/f0947725/MiniRaftClusterWithGrpcb0bc0890/s0
2023-01-19 14:39:01,661 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/f0947725/MiniRaftClusterWithGrpcb0bc0890/s0 does not exist.
2023-01-19 14:39:01,661 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/f0947725/MiniRaftClusterWithGrpcb0bc0890/s0
2023-01-19 14:39:01,662 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-01-19 14:39:01,662 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:39:01,662 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 46147 (custom)
2023-01-19 14:39:01,662 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:39:01,662 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 36289 (custom)
2023-01-19 14:39:01,662 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-01-19 14:39:01,662 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 36913 (custom)
2023-01-19 14:39:01,663 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:39:01,663 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:39:01,663 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:39:01,663 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-01-19 14:39:01,663 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-01-19 14:39:01,663 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-01-19 14:39:01,663 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-01-19 14:39:01,665 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-01-19 14:39:01,665 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-01-19 14:39:01,665 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-01-19 14:39:01,666 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-01-19 14:39:01,666 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-01-19 14:39:01,666 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcb0bc0890/s0] (custom)
2023-01-19 14:39:01,667 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-59AFD5A0ABE1:[s0|rpc:localhost:36913|admin:localhost:46147|client:localhost:36289|dataStream:localhost:33285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46603|admin:localhost:35113|client:localhost:35853|dataStream:localhost:44497|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36241|admin:localhost:38795|client:localhost:34669|dataStream:localhost:38413|priority:0|startupRole:FOLLOWER] returns group-59AFD5A0ABE1:java.util.concurrent.CompletableFuture@605c2588[Not completed]
2023-01-19 14:39:01,667 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-59AFD5A0ABE1:[s0|rpc:localhost:36913|admin:localhost:46147|client:localhost:36289|dataStream:localhost:33285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46603|admin:localhost:35113|client:localhost:35853|dataStream:localhost:44497|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36241|admin:localhost:38795|client:localhost:34669|dataStream:localhost:38413|priority:0|startupRole:FOLLOWER], format? true
2023-01-19 14:39:01,667 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/f0947725/MiniRaftClusterWithGrpcb0bc0890/s1
2023-01-19 14:39:01,667 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/f0947725/MiniRaftClusterWithGrpcb0bc0890/s1 does not exist.
2023-01-19 14:39:01,667 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/f0947725/MiniRaftClusterWithGrpcb0bc0890/s1
2023-01-19 14:39:01,667 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-01-19 14:39:01,668 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:39:01,668 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 35113 (custom)
2023-01-19 14:39:01,668 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:39:01,668 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 35853 (custom)
2023-01-19 14:39:01,668 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-01-19 14:39:01,668 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 46603 (custom)
2023-01-19 14:39:01,668 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:39:01,668 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:39:01,668 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:39:01,668 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-01-19 14:39:01,669 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-01-19 14:39:01,669 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-01-19 14:39:01,669 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-01-19 14:39:01,678 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-01-19 14:39:01,679 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-01-19 14:39:01,679 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-01-19 14:39:01,679 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-01-19 14:39:01,679 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-01-19 14:39:01,679 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcb0bc0890/s1] (custom)
2023-01-19 14:39:01,680 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:39:01,680 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-01-19 14:39:01,680 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-01-19 14:39:01,680 [pool-25-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-59AFD5A0ABE1:[s0|rpc:localhost:36913|admin:localhost:46147|client:localhost:36289|dataStream:localhost:33285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46603|admin:localhost:35113|client:localhost:35853|dataStream:localhost:44497|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36241|admin:localhost:38795|client:localhost:34669|dataStream:localhost:38413|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-01-19 14:39:01,680 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-01-19 14:39:01,680 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-01-19 14:39:01,681 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-01-19 14:39:01,681 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-01-19 14:39:01,681 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-01-19 14:39:01,681 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-01-19 14:39:01,681 [pool-25-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-59AFD5A0ABE1: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:36913|admin:localhost:46147|client:localhost:36289|dataStream:localhost:33285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46603|admin:localhost:35113|client:localhost:35853|dataStream:localhost:44497|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36241|admin:localhost:38795|client:localhost:34669|dataStream:localhost:38413|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-01-19 14:39:01,681 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-01-19 14:39:01,681 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-01-19 14:39:01,683 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-01-19 14:39:01,683 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-01-19 14:39:01,683 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-01-19 14:39:01,682 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:39:01,684 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-01-19 14:39:01,684 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-01-19 14:39:01,684 [pool-26-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-59AFD5A0ABE1:[s0|rpc:localhost:36913|admin:localhost:46147|client:localhost:36289|dataStream:localhost:33285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46603|admin:localhost:35113|client:localhost:35853|dataStream:localhost:44497|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36241|admin:localhost:38795|client:localhost:34669|dataStream:localhost:38413|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-01-19 14:39:01,682 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-59AFD5A0ABE1:[s0|rpc:localhost:36913|admin:localhost:46147|client:localhost:36289|dataStream:localhost:33285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46603|admin:localhost:35113|client:localhost:35853|dataStream:localhost:44497|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36241|admin:localhost:38795|client:localhost:34669|dataStream:localhost:38413|priority:0|startupRole:FOLLOWER] returns group-59AFD5A0ABE1:java.util.concurrent.CompletableFuture@1431a303[Not completed]
2023-01-19 14:39:01,684 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-59AFD5A0ABE1:[s0|rpc:localhost:36913|admin:localhost:46147|client:localhost:36289|dataStream:localhost:33285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46603|admin:localhost:35113|client:localhost:35853|dataStream:localhost:44497|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36241|admin:localhost:38795|client:localhost:34669|dataStream:localhost:38413|priority:0|startupRole:FOLLOWER], format? true
2023-01-19 14:39:01,684 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/f0947725/MiniRaftClusterWithGrpcb0bc0890/s2
2023-01-19 14:39:01,685 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/f0947725/MiniRaftClusterWithGrpcb0bc0890/s2 does not exist.
2023-01-19 14:39:01,685 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/f0947725/MiniRaftClusterWithGrpcb0bc0890/s2
2023-01-19 14:39:01,685 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-01-19 14:39:01,686 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:39:01,686 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 38795 (custom)
2023-01-19 14:39:01,686 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:39:01,686 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 34669 (custom)
2023-01-19 14:39:01,686 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-01-19 14:39:01,686 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 36241 (custom)
2023-01-19 14:39:01,687 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:39:01,687 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:39:01,687 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:39:01,687 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-01-19 14:39:01,687 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-01-19 14:39:01,687 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-01-19 14:39:01,687 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-01-19 14:39:01,689 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-01-19 14:39:01,689 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-01-19 14:39:01,689 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-01-19 14:39:01,690 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-01-19 14:39:01,690 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-01-19 14:39:01,690 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcb0bc0890/s2] (custom)
2023-01-19 14:39:01,690 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-01-19 14:39:01,690 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-01-19 14:39:01,690 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-01-19 14:39:01,690 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-01-19 14:39:01,691 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-01-19 14:39:01,691 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-01-19 14:39:01,692 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-01-19 14:39:01,694 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-01-19 14:39:01,694 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-01-19 14:39:01,694 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-01-19 14:39:01,694 [pool-25-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-01-19 14:39:01,694 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:39:01,694 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-59AFD5A0ABE1:[s0|rpc:localhost:36913|admin:localhost:46147|client:localhost:36289|dataStream:localhost:33285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46603|admin:localhost:35113|client:localhost:35853|dataStream:localhost:44497|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36241|admin:localhost:38795|client:localhost:34669|dataStream:localhost:38413|priority:0|startupRole:FOLLOWER] returns group-59AFD5A0ABE1:java.util.concurrent.CompletableFuture@707da12[Not completed]
2023-01-19 14:39:01,695 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-01-19 14:39:01,695 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-01-19 14:39:01,695 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcb0bc0890/s0] (custom)
2023-01-19 14:39:01,695 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcb0bc0890/s0/692cc457-97c4-4e85-9faa-59afd5a0abe1 does not exist. Creating ...
2023-01-19 14:39:01,696 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcb0bc0890/s0/692cc457-97c4-4e85-9faa-59afd5a0abe1
2023-01-19 14:39:01,692 [pool-26-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-59AFD5A0ABE1: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:36913|admin:localhost:46147|client:localhost:36289|dataStream:localhost:33285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46603|admin:localhost:35113|client:localhost:35853|dataStream:localhost:44497|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36241|admin:localhost:38795|client:localhost:34669|dataStream:localhost:38413|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-01-19 14:39:01,697 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-01-19 14:39:01,698 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-01-19 14:39:01,698 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-01-19 14:39:01,699 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcb0bc0890/s0/692cc457-97c4-4e85-9faa-59afd5a0abe1/in_use.lock acquired by nodename 4721@fv-az82-597
2023-01-19 14:39:01,699 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcb0bc0890/s0/692cc457-97c4-4e85-9faa-59afd5a0abe1/current
2023-01-19 14:39:01,699 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcb0bc0890/s0/692cc457-97c4-4e85-9faa-59afd5a0abe1/sm
2023-01-19 14:39:01,700 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-01-19 14:39:01,701 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-01-19 14:39:01,701 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcb0bc0890/s0/692cc457-97c4-4e85-9faa-59afd5a0abe1 has been successfully formatted.
2023-01-19 14:39:01,701 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-01-19 14:39:01,701 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-01-19 14:39:01,702 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-01-19 14:39:01,702 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-01-19 14:39:01,702 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:39:01,702 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-01-19 14:39:01,702 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-01-19 14:39:01,702 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:39:01,703 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-01-19 14:39:01,703 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-01-19 14:39:01,703 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s0@group-59AFD5A0ABE1-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcb0bc0890/s0/692cc457-97c4-4e85-9faa-59afd5a0abe1
2023-01-19 14:39:01,703 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-01-19 14:39:01,703 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-01-19 14:39:01,703 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:39:01,703 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-01-19 14:39:01,703 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-01-19 14:39:01,703 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-01-19 14:39:01,703 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-01-19 14:39:01,703 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-01-19 14:39:01,703 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-01-19 14:39:01,703 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:39:01,704 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-01-19 14:39:01,704 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-01-19 14:39:01,704 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-01-19 14:39:01,704 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-59AFD5A0ABE1-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-01-19 14:39:01,705 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-59AFD5A0ABE1-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-01-19 14:39:01,705 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-01-19 14:39:01,706 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-01-19 14:39:01,706 [pool-27-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-59AFD5A0ABE1:[s0|rpc:localhost:36913|admin:localhost:46147|client:localhost:36289|dataStream:localhost:33285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46603|admin:localhost:35113|client:localhost:35853|dataStream:localhost:44497|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36241|admin:localhost:38795|client:localhost:34669|dataStream:localhost:38413|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-01-19 14:39:01,706 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-01-19 14:39:01,706 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-01-19 14:39:01,706 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-01-19 14:39:01,705 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-59AFD5A0ABE1: start as a follower, conf=-1: peers:[s0|rpc:localhost:36913|admin:localhost:46147|client:localhost:36289|dataStream:localhost:33285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46603|admin:localhost:35113|client:localhost:35853|dataStream:localhost:44497|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36241|admin:localhost:38795|client:localhost:34669|dataStream:localhost:38413|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:39:01,707 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-59AFD5A0ABE1: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-01-19 14:39:01,707 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-59AFD5A0ABE1-FollowerState
2023-01-19 14:39:01,706 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-01-19 14:39:01,713 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-01-19 14:39:01,713 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-01-19 14:39:01,714 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-01-19 14:39:01,714 [pool-26-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-01-19 14:39:01,706 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-01-19 14:39:01,714 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-01-19 14:39:01,714 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-01-19 14:39:01,714 [pool-27-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-59AFD5A0ABE1: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:36913|admin:localhost:46147|client:localhost:36289|dataStream:localhost:33285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46603|admin:localhost:35113|client:localhost:35853|dataStream:localhost:44497|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36241|admin:localhost:38795|client:localhost:34669|dataStream:localhost:38413|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-01-19 14:39:01,715 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-01-19 14:39:01,715 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-01-19 14:39:01,715 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-01-19 14:39:01,715 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-01-19 14:39:01,715 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-01-19 14:39:01,717 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-01-19 14:39:01,717 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-01-19 14:39:01,718 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-01-19 14:39:01,718 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-01-19 14:39:01,718 [pool-27-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-01-19 14:39:01,717 [s0@group-59AFD5A0ABE1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:39:01,718 [s0@group-59AFD5A0ABE1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:39:01,717 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-59AFD5A0ABE1,id=s0
2023-01-19 14:39:01,718 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-01-19 14:39:01,718 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-01-19 14:39:01,718 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-01-19 14:39:01,721 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2023-01-19 14:39:01,724 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 36289
2023-01-19 14:39:01,724 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 36913
2023-01-19 14:39:01,724 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 46147
2023-01-19 14:39:01,727 [JvmPauseMonitor20] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2023-01-19 14:39:01,727 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-01-19 14:39:01,728 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-01-19 14:39:01,728 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcb0bc0890/s1] (custom)
2023-01-19 14:39:01,728 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcb0bc0890/s1/692cc457-97c4-4e85-9faa-59afd5a0abe1 does not exist. Creating ...
2023-01-19 14:39:01,728 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcb0bc0890/s1/692cc457-97c4-4e85-9faa-59afd5a0abe1
2023-01-19 14:39:01,729 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcb0bc0890/s1/692cc457-97c4-4e85-9faa-59afd5a0abe1/in_use.lock acquired by nodename 4721@fv-az82-597
2023-01-19 14:39:01,730 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcb0bc0890/s1/692cc457-97c4-4e85-9faa-59afd5a0abe1/current
2023-01-19 14:39:01,730 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcb0bc0890/s1/692cc457-97c4-4e85-9faa-59afd5a0abe1/sm
2023-01-19 14:39:01,731 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcb0bc0890/s1/692cc457-97c4-4e85-9faa-59afd5a0abe1 has been successfully formatted.
2023-01-19 14:39:01,731 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-01-19 14:39:01,731 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-01-19 14:39:01,732 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-01-19 14:39:01,732 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-01-19 14:39:01,732 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:39:01,732 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-01-19 14:39:01,732 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-01-19 14:39:01,733 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:39:01,733 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-01-19 14:39:01,733 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-01-19 14:39:01,733 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s1@group-59AFD5A0ABE1-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcb0bc0890/s1/692cc457-97c4-4e85-9faa-59afd5a0abe1
2023-01-19 14:39:01,733 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-01-19 14:39:01,733 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-01-19 14:39:01,734 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:39:01,734 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-01-19 14:39:01,734 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-01-19 14:39:01,734 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-01-19 14:39:01,734 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-01-19 14:39:01,734 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-01-19 14:39:01,734 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-01-19 14:39:01,735 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:39:01,735 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-01-19 14:39:01,738 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-01-19 14:39:01,738 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-01-19 14:39:01,738 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-59AFD5A0ABE1-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-01-19 14:39:01,739 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-59AFD5A0ABE1-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-01-19 14:39:01,743 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s1@group-59AFD5A0ABE1: start as a follower, conf=-1: peers:[s0|rpc:localhost:36913|admin:localhost:46147|client:localhost:36289|dataStream:localhost:33285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46603|admin:localhost:35113|client:localhost:35853|dataStream:localhost:44497|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36241|admin:localhost:38795|client:localhost:34669|dataStream:localhost:38413|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:39:01,743 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-59AFD5A0ABE1: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-01-19 14:39:01,743 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-59AFD5A0ABE1-FollowerState
2023-01-19 14:39:01,745 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-59AFD5A0ABE1,id=s1
2023-01-19 14:39:01,745 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-01-19 14:39:01,746 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-01-19 14:39:01,746 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-01-19 14:39:01,746 [s1@group-59AFD5A0ABE1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:39:01,746 [s1@group-59AFD5A0ABE1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:39:01,753 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s1: start RPC server
2023-01-19 14:39:01,754 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 35853
2023-01-19 14:39:01,754 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 46603
2023-01-19 14:39:01,755 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 35113
2023-01-19 14:39:01,755 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-01-19 14:39:01,755 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-01-19 14:39:01,755 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcb0bc0890/s2] (custom)
2023-01-19 14:39:01,756 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcb0bc0890/s2/692cc457-97c4-4e85-9faa-59afd5a0abe1 does not exist. Creating ...
2023-01-19 14:39:01,756 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcb0bc0890/s2/692cc457-97c4-4e85-9faa-59afd5a0abe1
2023-01-19 14:39:01,756 [JvmPauseMonitor21] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2023-01-19 14:39:01,757 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcb0bc0890/s2/692cc457-97c4-4e85-9faa-59afd5a0abe1/in_use.lock acquired by nodename 4721@fv-az82-597
2023-01-19 14:39:01,757 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcb0bc0890/s2/692cc457-97c4-4e85-9faa-59afd5a0abe1/current
2023-01-19 14:39:01,758 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcb0bc0890/s2/692cc457-97c4-4e85-9faa-59afd5a0abe1/sm
2023-01-19 14:39:01,761 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcb0bc0890/s2/692cc457-97c4-4e85-9faa-59afd5a0abe1 has been successfully formatted.
2023-01-19 14:39:01,761 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-01-19 14:39:01,761 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-01-19 14:39:01,761 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-01-19 14:39:01,761 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-01-19 14:39:01,761 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:39:01,761 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-01-19 14:39:01,761 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-01-19 14:39:01,762 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:39:01,762 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-01-19 14:39:01,762 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-01-19 14:39:01,762 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s2@group-59AFD5A0ABE1-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcb0bc0890/s2/692cc457-97c4-4e85-9faa-59afd5a0abe1
2023-01-19 14:39:01,763 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-01-19 14:39:01,763 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-01-19 14:39:01,763 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:39:01,763 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-01-19 14:39:01,763 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-01-19 14:39:01,764 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-01-19 14:39:01,764 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-01-19 14:39:01,764 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-01-19 14:39:01,764 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-01-19 14:39:01,764 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:39:01,765 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-01-19 14:39:01,765 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-01-19 14:39:01,765 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-01-19 14:39:01,766 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-59AFD5A0ABE1-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-01-19 14:39:01,766 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-59AFD5A0ABE1-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-01-19 14:39:01,768 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s2@group-59AFD5A0ABE1: start as a follower, conf=-1: peers:[s0|rpc:localhost:36913|admin:localhost:46147|client:localhost:36289|dataStream:localhost:33285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46603|admin:localhost:35113|client:localhost:35853|dataStream:localhost:44497|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36241|admin:localhost:38795|client:localhost:34669|dataStream:localhost:38413|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:39:01,768 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-59AFD5A0ABE1: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-01-19 14:39:01,768 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-59AFD5A0ABE1-FollowerState
2023-01-19 14:39:01,770 [s2@group-59AFD5A0ABE1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:39:01,770 [s2@group-59AFD5A0ABE1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:39:01,770 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-59AFD5A0ABE1,id=s2
2023-01-19 14:39:01,770 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-01-19 14:39:01,771 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-01-19 14:39:01,771 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-01-19 14:39:01,771 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s2: start RPC server
2023-01-19 14:39:01,772 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 34669
2023-01-19 14:39:01,773 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 36241
2023-01-19 14:39:01,773 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 38795
2023-01-19 14:39:01,773 [JvmPauseMonitor22] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2023-01-19 14:39:01,774 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:39:01,774 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:39:01,799 [grpc-default-executor-10] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-CDBF1882FE9A->s0: receive RaftClientReply:client-CDBF1882FE9A->s0@group-59AFD5A0ABE1, cid=88, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-59AFD5A0ABE1 is not the leader, logIndex=0, commits[s0:c-1]
2023-01-19 14:39:01,902 [timer5] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:39:01,902 [timer5] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:39:01,910 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-CDBF1882FE9A->s2: receive RaftClientReply:client-CDBF1882FE9A->s2@group-59AFD5A0ABE1, cid=88, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s2@group-59AFD5A0ABE1 is not the leader, logIndex=0, commits[s2:c-1]
2023-01-19 14:39:01,923 [s1@group-59AFD5A0ABE1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-59AFD5A0ABE1-FollowerState: change to CANDIDATE, lastRpcElapsedTime:180471131ns, electionTimeout:177ms
2023-01-19 14:39:01,923 [s1@group-59AFD5A0ABE1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-59AFD5A0ABE1-FollowerState
2023-01-19 14:39:01,924 [s1@group-59AFD5A0ABE1-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-59AFD5A0ABE1: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-01-19 14:39:01,924 [s2@group-59AFD5A0ABE1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-59AFD5A0ABE1-FollowerState: change to CANDIDATE, lastRpcElapsedTime:155797296ns, electionTimeout:153ms
2023-01-19 14:39:01,924 [s2@group-59AFD5A0ABE1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-59AFD5A0ABE1-FollowerState
2023-01-19 14:39:01,924 [s2@group-59AFD5A0ABE1-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-59AFD5A0ABE1: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-01-19 14:39:01,924 [s1@group-59AFD5A0ABE1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-01-19 14:39:01,924 [s1@group-59AFD5A0ABE1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-59AFD5A0ABE1-LeaderElection19
2023-01-19 14:39:01,924 [s2@group-59AFD5A0ABE1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-01-19 14:39:01,924 [s2@group-59AFD5A0ABE1-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-59AFD5A0ABE1-LeaderElection20
2023-01-19 14:39:01,928 [s1@group-59AFD5A0ABE1-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-59AFD5A0ABE1-LeaderElection19 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:36913|admin:localhost:46147|client:localhost:36289|dataStream:localhost:33285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46603|admin:localhost:35113|client:localhost:35853|dataStream:localhost:44497|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36241|admin:localhost:38795|client:localhost:34669|dataStream:localhost:38413|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:39:01,929 [s1@group-59AFD5A0ABE1-LeaderElection19-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2023-01-19 14:39:01,934 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s0@group-59AFD5A0ABE1: receive requestVote(PRE_VOTE, s1, group-59AFD5A0ABE1, 0, (t:0, i:0))
2023-01-19 14:39:01,935 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-59AFD5A0ABE1-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-01-19 14:39:01,935 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s0@group-59AFD5A0ABE1 replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-59AFD5A0ABE1:t0, leader=null, voted=, raftlog=Memoized:s0@group-59AFD5A0ABE1-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36913|admin:localhost:46147|client:localhost:36289|dataStream:localhost:33285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46603|admin:localhost:35113|client:localhost:35853|dataStream:localhost:44497|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36241|admin:localhost:38795|client:localhost:34669|dataStream:localhost:38413|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:39:01,936 [s1@group-59AFD5A0ABE1-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:39:01,936 [s1@group-59AFD5A0ABE1-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:39:01,936 [s1@group-59AFD5A0ABE1-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-59AFD5A0ABE1-LeaderElection19: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-01-19 14:39:01,936 [s1@group-59AFD5A0ABE1-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t0
2023-01-19 14:39:01,936 [s1@group-59AFD5A0ABE1-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-59AFD5A0ABE1-LeaderElection19 PRE_VOTE round 0: result PASSED
2023-01-19 14:39:01,941 [s2@group-59AFD5A0ABE1-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-59AFD5A0ABE1-LeaderElection20 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:36913|admin:localhost:46147|client:localhost:36289|dataStream:localhost:33285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46603|admin:localhost:35113|client:localhost:35853|dataStream:localhost:44497|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36241|admin:localhost:38795|client:localhost:34669|dataStream:localhost:38413|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:39:01,941 [s2@group-59AFD5A0ABE1-LeaderElection20-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2023-01-19 14:39:01,945 [s2@group-59AFD5A0ABE1-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:39:01,945 [s2@group-59AFD5A0ABE1-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:39:01,946 [s1@group-59AFD5A0ABE1-LeaderElection19-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2023-01-19 14:39:01,949 [s1@group-59AFD5A0ABE1-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-59AFD5A0ABE1-LeaderElection19 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:36913|admin:localhost:46147|client:localhost:36289|dataStream:localhost:33285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46603|admin:localhost:35113|client:localhost:35853|dataStream:localhost:44497|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36241|admin:localhost:38795|client:localhost:34669|dataStream:localhost:38413|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:39:01,950 [s1@group-59AFD5A0ABE1-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:39:01,950 [s1@group-59AFD5A0ABE1-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:39:01,956 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s0@group-59AFD5A0ABE1: receive requestVote(ELECTION, s1, group-59AFD5A0ABE1, 1, (t:0, i:0))
2023-01-19 14:39:01,956 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-59AFD5A0ABE1-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2023-01-19 14:39:01,957 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-59AFD5A0ABE1: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2023-01-19 14:39:01,957 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-59AFD5A0ABE1-FollowerState
2023-01-19 14:39:01,961 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-59AFD5A0ABE1-FollowerState
2023-01-19 14:39:01,961 [s2@group-59AFD5A0ABE1-LeaderElection20-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2023-01-19 14:39:01,975 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s0@group-59AFD5A0ABE1: receive requestVote(PRE_VOTE, s2, group-59AFD5A0ABE1, 0, (t:0, i:0))
2023-01-19 14:39:01,974 [s0@group-59AFD5A0ABE1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:39:01,972 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s2@group-59AFD5A0ABE1: receive requestVote(ELECTION, s1, group-59AFD5A0ABE1, 1, (t:0, i:0))
2023-01-19 14:39:01,978 [grpc-default-executor-10] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-59AFD5A0ABE1-CANDIDATE: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2023-01-19 14:39:01,978 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-59AFD5A0ABE1: changes role from CANDIDATE to FOLLOWER at term 1 for candidate:s1
2023-01-19 14:39:01,978 [grpc-default-executor-10] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-59AFD5A0ABE1-LeaderElection20
2023-01-19 14:39:01,978 [grpc-default-executor-10] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-59AFD5A0ABE1-FollowerState
2023-01-19 14:39:01,962 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s0@group-59AFD5A0ABE1 replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-59AFD5A0ABE1:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-59AFD5A0ABE1-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36913|admin:localhost:46147|client:localhost:36289|dataStream:localhost:33285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46603|admin:localhost:35113|client:localhost:35853|dataStream:localhost:44497|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36241|admin:localhost:38795|client:localhost:34669|dataStream:localhost:38413|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:39:01,979 [grpc-default-executor-9] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-59AFD5A0ABE1-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-01-19 14:39:01,979 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s0@group-59AFD5A0ABE1 replies to PRE_VOTE vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-59AFD5A0ABE1:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-59AFD5A0ABE1-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36913|admin:localhost:46147|client:localhost:36289|dataStream:localhost:33285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46603|admin:localhost:35113|client:localhost:35853|dataStream:localhost:44497|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36241|admin:localhost:38795|client:localhost:34669|dataStream:localhost:38413|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:39:01,980 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s2@group-59AFD5A0ABE1: receive requestVote(PRE_VOTE, s1, group-59AFD5A0ABE1, 0, (t:0, i:0))
2023-01-19 14:39:01,962 [s0@group-59AFD5A0ABE1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-59AFD5A0ABE1-FollowerState was interrupted
2023-01-19 14:39:01,980 [s1@group-59AFD5A0ABE1-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-59AFD5A0ABE1-LeaderElection19: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-01-19 14:39:01,980 [s1@group-59AFD5A0ABE1-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t1
2023-01-19 14:39:01,980 [s1@group-59AFD5A0ABE1-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-59AFD5A0ABE1-LeaderElection19 ELECTION round 0: result PASSED
2023-01-19 14:39:01,980 [s1@group-59AFD5A0ABE1-LeaderElection19] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-59AFD5A0ABE1-LeaderElection19
2023-01-19 14:39:01,980 [s1@group-59AFD5A0ABE1-LeaderElection19] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-59AFD5A0ABE1: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-01-19 14:39:01,980 [s1@group-59AFD5A0ABE1-LeaderElection19] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-59AFD5A0ABE1: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 282ms
2023-01-19 14:39:01,980 [s1@group-59AFD5A0ABE1-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-01-19 14:39:01,981 [s1@group-59AFD5A0ABE1-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2023-01-19 14:39:01,981 [s1@group-59AFD5A0ABE1-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 1MB (=1048576) (custom)
2023-01-19 14:39:01,981 [s1@group-59AFD5A0ABE1-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-01-19 14:39:01,981 [s1@group-59AFD5A0ABE1-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-01-19 14:39:01,981 [s1@group-59AFD5A0ABE1-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-01-19 14:39:01,981 [s1@group-59AFD5A0ABE1-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2023-01-19 14:39:01,981 [s1@group-59AFD5A0ABE1-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-01-19 14:39:01,982 [s2@group-59AFD5A0ABE1-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-59AFD5A0ABE1-LeaderElection20: PRE_VOTE DISCOVERED_A_NEW_TERM (term=1) received 1 response(s) and 0 exception(s):
2023-01-19 14:39:01,982 [s2@group-59AFD5A0ABE1-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t1
2023-01-19 14:39:01,982 [s2@group-59AFD5A0ABE1-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-59AFD5A0ABE1-LeaderElection20 PRE_VOTE round 0: result DISCOVERED_A_NEW_TERM (term=1)
2023-01-19 14:39:01,982 [s1@group-59AFD5A0ABE1-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-01-19 14:39:01,982 [s1@group-59AFD5A0ABE1-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:39:01,982 [s1@group-59AFD5A0ABE1-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-01-19 14:39:01,982 [s1@group-59AFD5A0ABE1-LeaderElection19] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2023-01-19 14:39:01,982 [s1@group-59AFD5A0ABE1-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-01-19 14:39:01,982 [s1@group-59AFD5A0ABE1-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-01-19 14:39:01,982 [s1@group-59AFD5A0ABE1-LeaderElection19] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-01-19 14:39:01,982 [s1@group-59AFD5A0ABE1-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-01-19 14:39:01,983 [s1@group-59AFD5A0ABE1-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-01-19 14:39:01,983 [s1@group-59AFD5A0ABE1-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:39:01,983 [s1@group-59AFD5A0ABE1-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-01-19 14:39:01,983 [s1@group-59AFD5A0ABE1-LeaderElection19] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2023-01-19 14:39:01,983 [s1@group-59AFD5A0ABE1-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-01-19 14:39:01,983 [s1@group-59AFD5A0ABE1-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-01-19 14:39:01,983 [s1@group-59AFD5A0ABE1-LeaderElection19] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-01-19 14:39:01,983 [s1@group-59AFD5A0ABE1-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-01-19 14:39:01,983 [s1@group-59AFD5A0ABE1-LeaderElection19] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-59AFD5A0ABE1-LeaderStateImpl
2023-01-19 14:39:01,984 [s1@group-59AFD5A0ABE1-LeaderElection19] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s1@group-59AFD5A0ABE1-SegmentedRaftLogWorker: Starting segment from index:0
2023-01-19 14:39:01,984 [s0@group-59AFD5A0ABE1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:39:01,987 [s2@group-59AFD5A0ABE1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:39:01,988 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s2@group-59AFD5A0ABE1 replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-59AFD5A0ABE1:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-59AFD5A0ABE1-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36913|admin:localhost:46147|client:localhost:36289|dataStream:localhost:33285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46603|admin:localhost:35113|client:localhost:35853|dataStream:localhost:44497|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36241|admin:localhost:38795|client:localhost:34669|dataStream:localhost:38413|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:39:01,990 [s2@group-59AFD5A0ABE1-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:39:01,991 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s1@group-59AFD5A0ABE1: receive requestVote(PRE_VOTE, s2, group-59AFD5A0ABE1, 0, (t:0, i:0))
2023-01-19 14:39:01,997 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-59AFD5A0ABE1-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-01-19 14:39:01,997 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s2@group-59AFD5A0ABE1 replies to PRE_VOTE vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-59AFD5A0ABE1:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-59AFD5A0ABE1-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36913|admin:localhost:46147|client:localhost:36289|dataStream:localhost:33285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46603|admin:localhost:35113|client:localhost:35853|dataStream:localhost:44497|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36241|admin:localhost:38795|client:localhost:34669|dataStream:localhost:38413|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:39:02,007 [s1@group-59AFD5A0ABE1-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-59AFD5A0ABE1-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcb0bc0890/s1/692cc457-97c4-4e85-9faa-59afd5a0abe1/current/log_inprogress_0
2023-01-19 14:39:02,017 [timer1] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:39:02,017 [timer1] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:39:02,020 [s1@group-59AFD5A0ABE1-LeaderElection19] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s1@group-59AFD5A0ABE1: set configuration 0: peers:[s0|rpc:localhost:36913|admin:localhost:46147|client:localhost:36289|dataStream:localhost:33285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46603|admin:localhost:35113|client:localhost:35853|dataStream:localhost:44497|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36241|admin:localhost:38795|client:localhost:34669|dataStream:localhost:38413|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:39:02,021 [grpc-default-executor-10] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-59AFD5A0ABE1-LEADER: reject PRE_VOTE from s2: this server is the leader and still has leadership
2023-01-19 14:39:02,021 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s1@group-59AFD5A0ABE1 replies to PRE_VOTE vote request: s2<-s1#0:FAIL-t1. Peer's state: s1@group-59AFD5A0ABE1:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-59AFD5A0ABE1-SegmentedRaftLog:OPENED:c-1, conf=0: peers:[s0|rpc:localhost:36913|admin:localhost:46147|client:localhost:36289|dataStream:localhost:33285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46603|admin:localhost:35113|client:localhost:35853|dataStream:localhost:44497|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36241|admin:localhost:38795|client:localhost:34669|dataStream:localhost:38413|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:39:02,033 [s0-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-59AFD5A0ABE1: change Leader from null to s1 at term 1 for appendEntries, leader elected after 352ms
2023-01-19 14:39:02,042 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-59AFD5A0ABE1: set configuration 0: peers:[s0|rpc:localhost:36913|admin:localhost:46147|client:localhost:36289|dataStream:localhost:33285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46603|admin:localhost:35113|client:localhost:35853|dataStream:localhost:44497|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36241|admin:localhost:38795|client:localhost:34669|dataStream:localhost:38413|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:39:02,042 [s0-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-59AFD5A0ABE1-SegmentedRaftLogWorker: Starting segment from index:0
2023-01-19 14:39:02,057 [grpc-default-executor-10] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-CDBF1882FE9A->s1: receive RaftClientReply:client-CDBF1882FE9A->s1@group-59AFD5A0ABE1, cid=88, FAILED org.apache.ratis.protocol.exceptions.LeaderNotReadyException: s1@group-59AFD5A0ABE1 is in LEADER state but not ready yet., logIndex=0, commits[s1:c-1, s0:c-1, s2:c-1]
2023-01-19 14:39:02,060 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-59AFD5A0ABE1: change Leader from null to s1 at term 1 for appendEntries, leader elected after 345ms
2023-01-19 14:39:02,065 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s2@group-59AFD5A0ABE1: set configuration 0: peers:[s0|rpc:localhost:36913|admin:localhost:46147|client:localhost:36289|dataStream:localhost:33285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46603|admin:localhost:35113|client:localhost:35853|dataStream:localhost:44497|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36241|admin:localhost:38795|client:localhost:34669|dataStream:localhost:38413|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:39:02,065 [s2-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s2@group-59AFD5A0ABE1-SegmentedRaftLogWorker: Starting segment from index:0
2023-01-19 14:39:02,070 [s0@group-59AFD5A0ABE1-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-59AFD5A0ABE1-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcb0bc0890/s0/692cc457-97c4-4e85-9faa-59afd5a0abe1/current/log_inprogress_0
2023-01-19 14:39:02,089 [s2@group-59AFD5A0ABE1-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-59AFD5A0ABE1-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcb0bc0890/s2/692cc457-97c4-4e85-9faa-59afd5a0abe1/current/log_inprogress_0
2023-01-19 14:39:02,261 [timer1] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:39:02,261 [timer1] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:39:02,268 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-CDBF1882FE9A->s0: receive RaftClientReply:client-CDBF1882FE9A->s0@group-59AFD5A0ABE1, cid=88, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-59AFD5A0ABE1 is not the leader s1|rpc:localhost:46603|admin:localhost:35113|client:localhost:35853|dataStream:localhost:44497|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s0:c0, s1:c0, s2:c0]
2023-01-19 14:39:02,271 [timer2] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:39:02,271 [timer2] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:39:02,285 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-CDBF1882FE9A->s1: receive RaftClientReply:client-CDBF1882FE9A->s1@group-59AFD5A0ABE1, cid=88, SUCCESS, logIndex=0, commits[s1:c0, s0:c0, s2:c0]
2023-01-19 14:39:02,289 [s1@group-59AFD5A0ABE1-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 89@client-CDBF1882FE9A
2023-01-19 14:39:02,290 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-CDBF1882FE9A->s1: receive RaftClientReply:client-CDBF1882FE9A->s1@group-59AFD5A0ABE1, cid=89, SUCCESS, logIndex=1, commits[s1:c1, s0:c0, s2:c0]
2023-01-19 14:39:02,291 [s2@group-59AFD5A0ABE1-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 89@client-CDBF1882FE9A
2023-01-19 14:39:02,292 [s0@group-59AFD5A0ABE1-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 89@client-CDBF1882FE9A
2023-01-19 14:39:02,294 [Time-limited test] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:block(135)) - block FLUSH_STATE_MACHINE_DATA
2023-01-19 14:39:02,294 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:39:02,295 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:39:02,298 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:39:02,298 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:39:02,302 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-FBA5486B5ECD->s1: receive RaftClientReply:client-FBA5486B5ECD->s1@group-59AFD5A0ABE1, cid=90, SUCCESS, logIndex=2, commits[s1:c2, s0:c1, s2:c1]
2023-01-19 14:39:02,307 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:39:02,307 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:39:02,312 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-9C488E7DDFF0->s1: receive RaftClientReply:client-9C488E7DDFF0->s1@group-59AFD5A0ABE1, cid=92, SUCCESS, logIndex=2, commits[s1:c2, s0:c2, s2:c2]
2023-01-19 14:39:02,325 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-06B6BB6195AE->s1: receive RaftClientReply:client-06B6BB6195AE->s1@group-59AFD5A0ABE1, cid=94, SUCCESS, logIndex=2, commits[s1:c2, s0:c2, s2:c2]
2023-01-19 14:39:02,329 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:39:02,330 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:39:02,337 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-4D95A6A761DF->s1: receive RaftClientReply:client-4D95A6A761DF->s1@group-59AFD5A0ABE1, cid=96, SUCCESS, logIndex=2, commits[s1:c2, s0:c2, s2:c2]
2023-01-19 14:39:02,345 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:39:02,345 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:39:02,350 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-23A47C74C411->s1: receive RaftClientReply:client-23A47C74C411->s1@group-59AFD5A0ABE1, cid=98, SUCCESS, logIndex=2, commits[s1:c2, s0:c2, s2:c2]
2023-01-19 14:39:02,354 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:39:02,354 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:39:02,364 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-ED9176FD065E->s1: receive RaftClientReply:client-ED9176FD065E->s1@group-59AFD5A0ABE1, cid=100, SUCCESS, logIndex=2, commits[s1:c2, s0:c2, s2:c2]
2023-01-19 14:39:02,368 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:39:02,368 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:39:02,377 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-D600245866CB->s1: receive RaftClientReply:client-D600245866CB->s1@group-59AFD5A0ABE1, cid=102, SUCCESS, logIndex=2, commits[s1:c2, s0:c2, s2:c2]
2023-01-19 14:39:02,381 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:39:02,381 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:39:02,390 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-BEE89DAFDA0B->s1: receive RaftClientReply:client-BEE89DAFDA0B->s1@group-59AFD5A0ABE1, cid=104, SUCCESS, logIndex=2, commits[s1:c2, s0:c2, s2:c2]
2023-01-19 14:39:02,394 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:39:02,394 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:39:02,399 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-1CE7C040BCF4->s1: receive RaftClientReply:client-1CE7C040BCF4->s1@group-59AFD5A0ABE1, cid=106, SUCCESS, logIndex=2, commits[s1:c2, s0:c2, s2:c2]
2023-01-19 14:39:02,404 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:39:02,404 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:39:02,409 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-E3A3CCB226FF->s1: receive RaftClientReply:client-E3A3CCB226FF->s1@group-59AFD5A0ABE1, cid=108, SUCCESS, logIndex=2, commits[s1:c2, s0:c2, s2:c2]
2023-01-19 14:39:02,413 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:39:02,413 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:39:02,418 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-B495C7E7A3EE->s1: receive RaftClientReply:client-B495C7E7A3EE->s1@group-59AFD5A0ABE1, cid=110, SUCCESS, logIndex=2, commits[s1:c2, s0:c2, s2:c2]
2023-01-19 14:39:02,429 [Time-limited test] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=message 9
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s1@group-59AFD5A0ABE1: Failed to acquire a pending write request for RaftClientRequest:client-B495C7E7A3EE->s1@group-59AFD5A0ABE1, cid=111, seq=2, RW, Message:6d6573736167652039
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.uniApplyNow(CompletableFuture.java:670)
	at java.base/java.util.concurrent.CompletableFuture.uniApplyStage(CompletableFuture.java:658)
	at java.base/java.util.concurrent.CompletableFuture.thenApply(CompletableFuture.java:2094)
	at org.apache.ratis.client.impl.OrderedAsync.send(OrderedAsync.java:172)
	at org.apache.ratis.client.impl.AsyncImpl.send(AsyncImpl.java:41)
	at org.apache.ratis.client.impl.AsyncImpl.send(AsyncImpl.java:46)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRequestMetrics(TestRaftServerWithGrpc.java:258)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftServerMetrics(TestRaftServerWithGrpc.java:228)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s1@group-59AFD5A0ABE1: Failed to acquire a pending write request for RaftClientRequest:client-B495C7E7A3EE->s1@group-59AFD5A0ABE1, cid=111, seq=2, RW, Message:6d6573736167652039
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:771)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:882)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:820)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:820)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	... 1 more
	Suppressed: java.lang.NullPointerException
		at org.apache.ratis.server.impl.RaftServerImpl.lambda$submitClientRequestAsync$15(RaftServerImpl.java:890)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883)
		at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251)
		at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:889)
		... 7 more
2023-01-19 14:39:02,429 [Time-limited test] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:unblock(142)) - unblock FLUSH_STATE_MACHINE_DATA
2023-01-19 14:39:02,431 [s1@group-59AFD5A0ABE1-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, 91@client-FBA5486B5ECD
2023-01-19 14:39:02,433 [s1@group-59AFD5A0ABE1-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, 93@client-9C488E7DDFF0
2023-01-19 14:39:02,433 [s1@group-59AFD5A0ABE1-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 5, message 1 -> (t:1, i:5), STATEMACHINELOGENTRY, 95@client-06B6BB6195AE
2023-01-19 14:39:02,434 [s1@group-59AFD5A0ABE1-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 6, message 2 -> (t:1, i:6), STATEMACHINELOGENTRY, 97@client-4D95A6A761DF
2023-01-19 14:39:02,434 [s1@group-59AFD5A0ABE1-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 7, message 3 -> (t:1, i:7), STATEMACHINELOGENTRY, 99@client-23A47C74C411
2023-01-19 14:39:02,435 [s1@group-59AFD5A0ABE1-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 8, message 4 -> (t:1, i:8), STATEMACHINELOGENTRY, 101@client-ED9176FD065E
2023-01-19 14:39:02,435 [s1@group-59AFD5A0ABE1-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 9, message 5 -> (t:1, i:9), STATEMACHINELOGENTRY, 103@client-D600245866CB
2023-01-19 14:39:02,437 [s1@group-59AFD5A0ABE1-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 10, message 6 -> (t:1, i:10), STATEMACHINELOGENTRY, 105@client-BEE89DAFDA0B
2023-01-19 14:39:02,437 [s1@group-59AFD5A0ABE1-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 11, message 7 -> (t:1, i:11), STATEMACHINELOGENTRY, 107@client-1CE7C040BCF4
2023-01-19 14:39:02,438 [s2@group-59AFD5A0ABE1-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, 91@client-FBA5486B5ECD
2023-01-19 14:39:02,439 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-FBA5486B5ECD->s1: receive RaftClientReply:client-FBA5486B5ECD->s1@group-59AFD5A0ABE1, cid=91, SUCCESS, logIndex=3, commits[s1:c3, s0:c2, s2:c2]
2023-01-19 14:39:02,439 [s0@group-59AFD5A0ABE1-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, 91@client-FBA5486B5ECD
2023-01-19 14:39:02,445 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-23A47C74C411->s1: receive RaftClientReply:client-23A47C74C411->s1@group-59AFD5A0ABE1, cid=99, SUCCESS, logIndex=7, commits[s1:c12, s0:c2, s2:c2]
2023-01-19 14:39:02,445 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-9C488E7DDFF0->s1: receive RaftClientReply:client-9C488E7DDFF0->s1@group-59AFD5A0ABE1, cid=93, SUCCESS, logIndex=4, commits[s1:c12, s0:c2, s2:c2]
2023-01-19 14:39:02,445 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-06B6BB6195AE->s1: receive RaftClientReply:client-06B6BB6195AE->s1@group-59AFD5A0ABE1, cid=95, SUCCESS, logIndex=5, commits[s1:c12, s0:c2, s2:c2]
2023-01-19 14:39:02,446 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-ED9176FD065E->s1: receive RaftClientReply:client-ED9176FD065E->s1@group-59AFD5A0ABE1, cid=101, SUCCESS, logIndex=8, commits[s1:c12, s0:c2, s2:c2]
2023-01-19 14:39:02,446 [grpc-default-executor-10] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-D600245866CB->s1: receive RaftClientReply:client-D600245866CB->s1@group-59AFD5A0ABE1, cid=103, SUCCESS, logIndex=9, commits[s1:c12, s0:c2, s2:c2]
2023-01-19 14:39:02,446 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-4D95A6A761DF->s1: receive RaftClientReply:client-4D95A6A761DF->s1@group-59AFD5A0ABE1, cid=97, SUCCESS, logIndex=6, commits[s1:c12, s0:c2, s2:c2]
2023-01-19 14:39:02,446 [s1@group-59AFD5A0ABE1-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 12, message 8 -> (t:1, i:12), STATEMACHINELOGENTRY, 109@client-E3A3CCB226FF
2023-01-19 14:39:02,447 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-1CE7C040BCF4->s1: receive RaftClientReply:client-1CE7C040BCF4->s1@group-59AFD5A0ABE1, cid=107, SUCCESS, logIndex=11, commits[s1:c12, s0:c2, s2:c2]
2023-01-19 14:39:02,447 [s0@group-59AFD5A0ABE1-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, 93@client-9C488E7DDFF0
2023-01-19 14:39:02,448 [s0@group-59AFD5A0ABE1-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 5, message 1 -> (t:1, i:5), STATEMACHINELOGENTRY, 95@client-06B6BB6195AE
2023-01-19 14:39:02,448 [s0@group-59AFD5A0ABE1-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 6, message 2 -> (t:1, i:6), STATEMACHINELOGENTRY, 97@client-4D95A6A761DF
2023-01-19 14:39:02,448 [s0@group-59AFD5A0ABE1-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 7, message 3 -> (t:1, i:7), STATEMACHINELOGENTRY, 99@client-23A47C74C411
2023-01-19 14:39:02,448 [s0@group-59AFD5A0ABE1-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 8, message 4 -> (t:1, i:8), STATEMACHINELOGENTRY, 101@client-ED9176FD065E
2023-01-19 14:39:02,449 [s0@group-59AFD5A0ABE1-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 9, message 5 -> (t:1, i:9), STATEMACHINELOGENTRY, 103@client-D600245866CB
2023-01-19 14:39:02,449 [s0@group-59AFD5A0ABE1-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 10, message 6 -> (t:1, i:10), STATEMACHINELOGENTRY, 105@client-BEE89DAFDA0B
2023-01-19 14:39:02,449 [s0@group-59AFD5A0ABE1-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 11, message 7 -> (t:1, i:11), STATEMACHINELOGENTRY, 107@client-1CE7C040BCF4
2023-01-19 14:39:02,450 [s0@group-59AFD5A0ABE1-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 12, message 8 -> (t:1, i:12), STATEMACHINELOGENTRY, 109@client-E3A3CCB226FF
2023-01-19 14:39:02,450 [grpc-default-executor-10] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-BEE89DAFDA0B->s1: receive RaftClientReply:client-BEE89DAFDA0B->s1@group-59AFD5A0ABE1, cid=105, SUCCESS, logIndex=10, commits[s1:c12, s0:c2, s2:c2]
2023-01-19 14:39:02,451 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-E3A3CCB226FF->s1: receive RaftClientReply:client-E3A3CCB226FF->s1@group-59AFD5A0ABE1, cid=109, SUCCESS, logIndex=12, commits[s1:c13, s0:c2, s2:c3]
2023-01-19 14:39:02,451 [s2@group-59AFD5A0ABE1-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, 93@client-9C488E7DDFF0
2023-01-19 14:39:02,452 [s2@group-59AFD5A0ABE1-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 5, message 1 -> (t:1, i:5), STATEMACHINELOGENTRY, 95@client-06B6BB6195AE
2023-01-19 14:39:02,452 [s2@group-59AFD5A0ABE1-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 6, message 2 -> (t:1, i:6), STATEMACHINELOGENTRY, 97@client-4D95A6A761DF
2023-01-19 14:39:02,452 [s2@group-59AFD5A0ABE1-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 7, message 3 -> (t:1, i:7), STATEMACHINELOGENTRY, 99@client-23A47C74C411
2023-01-19 14:39:02,452 [s2@group-59AFD5A0ABE1-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 8, message 4 -> (t:1, i:8), STATEMACHINELOGENTRY, 101@client-ED9176FD065E
2023-01-19 14:39:02,452 [s2@group-59AFD5A0ABE1-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 9, message 5 -> (t:1, i:9), STATEMACHINELOGENTRY, 103@client-D600245866CB
2023-01-19 14:39:02,453 [s2@group-59AFD5A0ABE1-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 10, message 6 -> (t:1, i:10), STATEMACHINELOGENTRY, 105@client-BEE89DAFDA0B
2023-01-19 14:39:02,453 [s2@group-59AFD5A0ABE1-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 11, message 7 -> (t:1, i:11), STATEMACHINELOGENTRY, 107@client-1CE7C040BCF4
2023-01-19 14:39:02,453 [s2@group-59AFD5A0ABE1-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 12, message 8 -> (t:1, i:12), STATEMACHINELOGENTRY, 109@client-E3A3CCB226FF
2023-01-19 14:39:02,454 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:39:02,455 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:39:02,460 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-53A0CDA821E0->s1: receive RaftClientReply:client-53A0CDA821E0->s1@group-59AFD5A0ABE1, cid=112, SUCCESS, logIndex=14, commits[s1:c14, s0:c12, s2:c12]
2023-01-19 14:39:02,473 [Time-limited test] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=1025kb (=1049600)-message
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s1@group-59AFD5A0ABE1: Failed to acquire a pending write request for RaftClientRequest:client-53A0CDA821E0->s1@group-59AFD5A0ABE1, cid=113, seq=2, RW, Message:2bf6f7da095ba2591b8e...(size=1049600)
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.uniApplyNow(CompletableFuture.java:670)
	at java.base/java.util.concurrent.CompletableFuture.uniApplyStage(CompletableFuture.java:658)
	at java.base/java.util.concurrent.CompletableFuture.thenApply(CompletableFuture.java:2094)
	at org.apache.ratis.client.impl.OrderedAsync.send(OrderedAsync.java:172)
	at org.apache.ratis.client.impl.AsyncImpl.send(AsyncImpl.java:41)
	at org.apache.ratis.client.impl.AsyncImpl.send(AsyncImpl.java:46)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRequestMetrics(TestRaftServerWithGrpc.java:274)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftServerMetrics(TestRaftServerWithGrpc.java:228)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s1@group-59AFD5A0ABE1: Failed to acquire a pending write request for RaftClientRequest:client-53A0CDA821E0->s1@group-59AFD5A0ABE1, cid=113, seq=2, RW, Message:2bf6f7da095ba2591b8e...(size=1049600)
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:771)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:882)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:820)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:820)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	... 1 more
	Suppressed: java.lang.NullPointerException
		at org.apache.ratis.server.impl.RaftServerImpl.lambda$submitClientRequestAsync$15(RaftServerImpl.java:890)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883)
		at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251)
		at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:889)
		... 7 more
2023-01-19 14:39:02,488 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-01-19 14:39:02,488 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-01-19 14:39:02,488 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2023-01-19 14:39:02,488 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-01-19 14:39:02,488 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-01-19 14:39:02,488 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-59AFD5A0ABE1:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-59AFD5A0ABE1-SegmentedRaftLog:OPENED:c12, conf=0: peers:[s0|rpc:localhost:36913|admin:localhost:46147|client:localhost:36289|dataStream:localhost:33285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46603|admin:localhost:35113|client:localhost:35853|dataStream:localhost:44497|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36241|admin:localhost:38795|client:localhost:34669|dataStream:localhost:38413|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-59AFD5A0ABE1:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-59AFD5A0ABE1-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s0|rpc:localhost:36913|admin:localhost:46147|client:localhost:36289|dataStream:localhost:33285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46603|admin:localhost:35113|client:localhost:35853|dataStream:localhost:44497|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36241|admin:localhost:38795|client:localhost:34669|dataStream:localhost:38413|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-59AFD5A0ABE1:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-59AFD5A0ABE1-SegmentedRaftLog:OPENED:c12, conf=0: peers:[s0|rpc:localhost:36913|admin:localhost:46147|client:localhost:36289|dataStream:localhost:33285|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46603|admin:localhost:35113|client:localhost:35853|dataStream:localhost:44497|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36241|admin:localhost:38795|client:localhost:34669|dataStream:localhost:38413|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-01-19 14:39:02,489 [MiniRaftCluster-21] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2023-01-19 14:39:02,493 [MiniRaftCluster-21] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-01-19 14:39:02,493 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-59AFD5A0ABE1: shutdown
2023-01-19 14:39:02,493 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-59AFD5A0ABE1,id=s0
2023-01-19 14:39:02,493 [MiniRaftCluster-22] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s1: close
2023-01-19 14:39:02,493 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-59AFD5A0ABE1-FollowerState
2023-01-19 14:39:02,495 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-59AFD5A0ABE1-StateMachineUpdater: set stopIndex = 12
2023-01-19 14:39:02,494 [MiniRaftCluster-21] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-01-19 14:39:02,495 [MiniRaftCluster-21] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server GrpcServerProtocolService now
2023-01-19 14:39:02,494 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s1@group-59AFD5A0ABE1: shutdown
2023-01-19 14:39:02,494 [MiniRaftCluster-22] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-01-19 14:39:02,495 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s0@group-59AFD5A0ABE1: applyIndex: 12
2023-01-19 14:39:02,495 [s0@group-59AFD5A0ABE1-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s0@group-59AFD5A0ABE1-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2023-01-19 14:39:02,495 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-59AFD5A0ABE1,id=s1
2023-01-19 14:39:02,496 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-59AFD5A0ABE1-LeaderStateImpl
2023-01-19 14:39:02,495 [s0@group-59AFD5A0ABE1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-59AFD5A0ABE1-FollowerState was interrupted
2023-01-19 14:39:02,496 [s1-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-59AFD5A0ABE1-PendingRequests: sendNotLeaderResponses
2023-01-19 14:39:02,497 [s1@group-59AFD5A0ABE1->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s1@group-59AFD5A0ABE1->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2023-01-19 14:39:02,497 [s1@group-59AFD5A0ABE1->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s1@group-59AFD5A0ABE1->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2023-01-19 14:39:02,497 [grpc-default-executor-9] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s0: Completed APPEND_ENTRIES, lastRequest: s1->s0#29-t1,previous=(t:1, i:13),leaderCommit=12,initializing? true,entries: size=1, first=(t:1, i:14), METADATAENTRY(c:12)
2023-01-19 14:39:02,498 [grpc-default-executor-6] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s0: Completed APPEND_ENTRIES, lastRequest: null
2023-01-19 14:39:02,499 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s0@group-59AFD5A0ABE1-SegmentedRaftLogWorker close()
2023-01-19 14:39:02,500 [MiniRaftCluster-21] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server GrpcServerProtocolService successfully
2023-01-19 14:39:02,500 [MiniRaftCluster-21] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-01-19 14:39:02,501 [grpc-default-executor-10] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(402)) - s1@group-59AFD5A0ABE1->s0-GrpcLogAppender is already stopped
2023-01-19 14:39:02,501 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s2: Completed APPEND_ENTRIES, lastRequest: null
2023-01-19 14:39:02,501 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(402)) - s1@group-59AFD5A0ABE1->s0-GrpcLogAppender is already stopped
2023-01-19 14:39:02,501 [grpc-default-executor-6] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s2: Completed APPEND_ENTRIES, lastRequest: s1->s2#31-t1,previous=(t:1, i:13),leaderCommit=12,initializing? true,entries: size=1, first=(t:1, i:14), METADATAENTRY(c:12)
2023-01-19 14:39:02,502 [MiniRaftCluster-22] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s0 Close channels
2023-01-19 14:39:02,502 [MiniRaftCluster-21] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-01-19 14:39:02,502 [MiniRaftCluster-22] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s2 Close channels
2023-01-19 14:39:02,503 [JvmPauseMonitor20] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2023-01-19 14:39:02,503 [MiniRaftCluster-23] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s2: close
2023-01-19 14:39:02,503 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s1@group-59AFD5A0ABE1->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-01-19 14:39:02,503 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(136)) - s1@group-59AFD5A0ABE1->s2-GrpcLogAppender: Failed to getClient for s2
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s1 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:61)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:115)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:115)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:120)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$500(GrpcLogAppender.java:57)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:414)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:485)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-01-19 14:39:02,504 [grpc-default-executor-6] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s1@group-59AFD5A0ABE1->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-01-19 14:39:02,504 [grpc-default-executor-6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(136)) - s1@group-59AFD5A0ABE1->s2-GrpcLogAppender: Failed to getClient for s2
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s1 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:61)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:115)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:115)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:120)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$500(GrpcLogAppender.java:57)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:414)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:485)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-01-19 14:39:02,504 [MiniRaftCluster-22] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-01-19 14:39:02,504 [MiniRaftCluster-22] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server GrpcServerProtocolService now
2023-01-19 14:39:02,505 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-59AFD5A0ABE1-StateMachineUpdater: set stopIndex = 14
2023-01-19 14:39:02,505 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s1@group-59AFD5A0ABE1: applyIndex: 14
2023-01-19 14:39:02,505 [s1@group-59AFD5A0ABE1-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s1@group-59AFD5A0ABE1-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2023-01-19 14:39:02,505 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s2@group-59AFD5A0ABE1: shutdown
2023-01-19 14:39:02,506 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-59AFD5A0ABE1,id=s2
2023-01-19 14:39:02,506 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-59AFD5A0ABE1-FollowerState
2023-01-19 14:39:02,506 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-59AFD5A0ABE1-StateMachineUpdater: set stopIndex = 12
2023-01-19 14:39:02,506 [s2@group-59AFD5A0ABE1-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-59AFD5A0ABE1-FollowerState was interrupted
2023-01-19 14:39:02,506 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s2@group-59AFD5A0ABE1: applyIndex: 12
2023-01-19 14:39:02,506 [s2@group-59AFD5A0ABE1-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s2@group-59AFD5A0ABE1-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2023-01-19 14:39:02,506 [MiniRaftCluster-23] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-01-19 14:39:02,507 [MiniRaftCluster-22] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server GrpcServerProtocolService successfully
2023-01-19 14:39:02,507 [MiniRaftCluster-22] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-01-19 14:39:02,508 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s1@group-59AFD5A0ABE1-SegmentedRaftLogWorker close()
2023-01-19 14:39:02,508 [MiniRaftCluster-23] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s0 Close channels
2023-01-19 14:39:02,508 [MiniRaftCluster-23] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s1 Close channels
2023-01-19 14:39:02,508 [MiniRaftCluster-23] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-01-19 14:39:02,508 [MiniRaftCluster-23] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server GrpcServerProtocolService now
2023-01-19 14:39:02,508 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s2@group-59AFD5A0ABE1-SegmentedRaftLogWorker close()
2023-01-19 14:39:02,508 [MiniRaftCluster-23] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server GrpcServerProtocolService successfully
2023-01-19 14:39:02,509 [MiniRaftCluster-23] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-01-19 14:39:02,509 [MiniRaftCluster-23] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-01-19 14:39:02,510 [MiniRaftCluster-22] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-01-19 14:39:02,510 [JvmPauseMonitor21] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2023-01-19 14:39:02,511 [JvmPauseMonitor22] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s2: Stopped
2023-01-19 14:39:02,511 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2023-01-19 14:39:02,511 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-01-19 14:39:02,512 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-01-19 14:39:02,512 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2023-01-19 14:39:02,512 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2023-01-19 14:39:02,513 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-24A3C0BF921E:[s0|rpc:localhost:36683|admin:localhost:44125|client:localhost:35553|dataStream:localhost:38011|priority:0|startupRole:FOLLOWER]
2023-01-19 14:39:02,513 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-01-19 14:39:02,513 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-01-19 14:39:02,513 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2023-01-19 14:39:02,513 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-01-19 14:39:02,513 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-01-19 14:39:02,513 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-01-19 14:39:02,514 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-24A3C0BF921E:[s0|rpc:localhost:36683|admin:localhost:44125|client:localhost:35553|dataStream:localhost:38011|priority:0|startupRole:FOLLOWER], format? true
2023-01-19 14:39:02,514 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/f0947725/MiniRaftClusterWithGrpc8108021c/s0
2023-01-19 14:39:02,514 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/f0947725/MiniRaftClusterWithGrpc8108021c/s0 does not exist.
2023-01-19 14:39:02,514 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/f0947725/MiniRaftClusterWithGrpc8108021c/s0
2023-01-19 14:39:02,514 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-01-19 14:39:02,515 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:39:02,515 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 44125 (custom)
2023-01-19 14:39:02,515 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:39:02,515 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 35553 (custom)
2023-01-19 14:39:02,515 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-01-19 14:39:02,515 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 36683 (custom)
2023-01-19 14:39:02,515 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:39:02,516 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:39:02,516 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:39:02,516 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-01-19 14:39:02,516 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-01-19 14:39:02,516 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-01-19 14:39:02,516 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-01-19 14:39:02,517 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-01-19 14:39:02,518 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-01-19 14:39:02,518 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-01-19 14:39:02,518 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-01-19 14:39:02,518 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-01-19 14:39:02,518 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc8108021c/s0] (custom)
2023-01-19 14:39:02,525 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-24A3C0BF921E:[s0|rpc:localhost:36683|admin:localhost:44125|client:localhost:35553|dataStream:localhost:38011|priority:0|startupRole:FOLLOWER] returns group-24A3C0BF921E:java.util.concurrent.CompletableFuture@52f3120b[Not completed]
2023-01-19 14:39:02,526 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:39:02,526 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-01-19 14:39:02,526 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-01-19 14:39:02,526 [pool-28-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-24A3C0BF921E:[s0|rpc:localhost:36683|admin:localhost:44125|client:localhost:35553|dataStream:localhost:38011|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-01-19 14:39:02,526 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-01-19 14:39:02,526 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-01-19 14:39:02,526 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-01-19 14:39:02,526 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-01-19 14:39:02,526 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-01-19 14:39:02,526 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-01-19 14:39:02,527 [pool-28-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-24A3C0BF921E: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:36683|admin:localhost:44125|client:localhost:35553|dataStream:localhost:38011|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-01-19 14:39:02,527 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-01-19 14:39:02,527 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-01-19 14:39:02,527 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-01-19 14:39:02,527 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-01-19 14:39:02,527 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-01-19 14:39:02,528 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-01-19 14:39:02,528 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-01-19 14:39:02,528 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-01-19 14:39:02,529 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-01-19 14:39:02,529 [pool-28-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-01-19 14:39:02,529 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-01-19 14:39:02,529 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-01-19 14:39:02,529 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc8108021c/s0] (custom)
2023-01-19 14:39:02,529 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc8108021c/s0/19189a14-c124-4703-b7ea-24a3c0bf921e does not exist. Creating ...
2023-01-19 14:39:02,530 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc8108021c/s0/19189a14-c124-4703-b7ea-24a3c0bf921e
2023-01-19 14:39:02,531 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc8108021c/s0/19189a14-c124-4703-b7ea-24a3c0bf921e/in_use.lock acquired by nodename 4721@fv-az82-597
2023-01-19 14:39:02,532 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc8108021c/s0/19189a14-c124-4703-b7ea-24a3c0bf921e/current
2023-01-19 14:39:02,532 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc8108021c/s0/19189a14-c124-4703-b7ea-24a3c0bf921e/sm
2023-01-19 14:39:02,533 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc8108021c/s0/19189a14-c124-4703-b7ea-24a3c0bf921e has been successfully formatted.
2023-01-19 14:39:02,533 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-01-19 14:39:02,533 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-01-19 14:39:02,534 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-01-19 14:39:02,534 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-01-19 14:39:02,534 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:39:02,534 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-01-19 14:39:02,534 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-01-19 14:39:02,535 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:39:02,535 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-01-19 14:39:02,535 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-01-19 14:39:02,535 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s0@group-24A3C0BF921E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc8108021c/s0/19189a14-c124-4703-b7ea-24a3c0bf921e
2023-01-19 14:39:02,535 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-01-19 14:39:02,535 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-01-19 14:39:02,535 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:39:02,535 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-01-19 14:39:02,536 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-01-19 14:39:02,536 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-01-19 14:39:02,536 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-01-19 14:39:02,536 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-01-19 14:39:02,536 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-01-19 14:39:02,536 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:39:02,565 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-01-19 14:39:02,565 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-01-19 14:39:02,565 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-01-19 14:39:02,565 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-24A3C0BF921E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-01-19 14:39:02,565 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-24A3C0BF921E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-01-19 14:39:02,577 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-24A3C0BF921E: start as a follower, conf=-1: peers:[s0|rpc:localhost:36683|admin:localhost:44125|client:localhost:35553|dataStream:localhost:38011|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:39:02,577 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-24A3C0BF921E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-01-19 14:39:02,577 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-24A3C0BF921E-FollowerState
2023-01-19 14:39:02,580 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-24A3C0BF921E,id=s0
2023-01-19 14:39:02,581 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-01-19 14:39:02,581 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-01-19 14:39:02,581 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-01-19 14:39:02,582 [s0@group-24A3C0BF921E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:39:02,582 [s0@group-24A3C0BF921E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:39:02,588 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2023-01-19 14:39:02,589 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 35553
2023-01-19 14:39:02,590 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 36683
2023-01-19 14:39:02,590 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 44125
2023-01-19 14:39:02,599 [JvmPauseMonitor23] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2023-01-19 14:39:02,600 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-01-19 14:39:02,600 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-24A3C0BF921E:t0, leader=null, voted=, raftlog=Memoized:s0@group-24A3C0BF921E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36683|admin:localhost:44125|client:localhost:35553|dataStream:localhost:38011|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-01-19 14:39:02,600 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-24A3C0BF921E:t0, leader=null, voted=, raftlog=Memoized:s0@group-24A3C0BF921E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36683|admin:localhost:44125|client:localhost:35553|dataStream:localhost:38011|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-24A3C0BF921E:t0, leader=null, voted=, raftlog=Memoized:s0@group-24A3C0BF921E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36683|admin:localhost:44125|client:localhost:35553|dataStream:localhost:38011|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:155)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:151)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-01-19 14:39:02,823 [s0@group-24A3C0BF921E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-24A3C0BF921E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:245429088ns, electionTimeout:241ms
2023-01-19 14:39:02,823 [s0@group-24A3C0BF921E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-24A3C0BF921E-FollowerState
2023-01-19 14:39:02,823 [s0@group-24A3C0BF921E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-24A3C0BF921E: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-01-19 14:39:02,824 [s0@group-24A3C0BF921E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-01-19 14:39:02,824 [s0@group-24A3C0BF921E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-24A3C0BF921E-LeaderElection21
2023-01-19 14:39:02,824 [s0@group-24A3C0BF921E-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-24A3C0BF921E-LeaderElection21 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:36683|admin:localhost:44125|client:localhost:35553|dataStream:localhost:38011|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:39:02,824 [s0@group-24A3C0BF921E-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-24A3C0BF921E-LeaderElection21 PRE_VOTE round 0: result PASSED (term=0)
2023-01-19 14:39:02,827 [s0@group-24A3C0BF921E-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-24A3C0BF921E-LeaderElection21 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:36683|admin:localhost:44125|client:localhost:35553|dataStream:localhost:38011|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:39:02,827 [s0@group-24A3C0BF921E-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-24A3C0BF921E-LeaderElection21 ELECTION round 0: result PASSED (term=1)
2023-01-19 14:39:02,827 [s0@group-24A3C0BF921E-LeaderElection21] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-24A3C0BF921E-LeaderElection21
2023-01-19 14:39:02,827 [s0@group-24A3C0BF921E-LeaderElection21] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-24A3C0BF921E: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-01-19 14:39:02,827 [s0@group-24A3C0BF921E-LeaderElection21] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-24A3C0BF921E: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 300ms
2023-01-19 14:39:02,827 [s0@group-24A3C0BF921E-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-01-19 14:39:02,827 [s0@group-24A3C0BF921E-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-01-19 14:39:02,827 [s0@group-24A3C0BF921E-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2023-01-19 14:39:02,828 [s0@group-24A3C0BF921E-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-01-19 14:39:02,828 [s0@group-24A3C0BF921E-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-01-19 14:39:02,828 [s0@group-24A3C0BF921E-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-01-19 14:39:02,828 [s0@group-24A3C0BF921E-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-01-19 14:39:02,828 [s0@group-24A3C0BF921E-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-01-19 14:39:02,828 [s0@group-24A3C0BF921E-LeaderElection21] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-24A3C0BF921E-LeaderStateImpl
2023-01-19 14:39:02,828 [s0@group-24A3C0BF921E-LeaderElection21] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-24A3C0BF921E-SegmentedRaftLogWorker: Starting segment from index:0
2023-01-19 14:39:02,837 [s0@group-24A3C0BF921E-LeaderElection21] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-24A3C0BF921E: set configuration 0: peers:[s0|rpc:localhost:36683|admin:localhost:44125|client:localhost:35553|dataStream:localhost:38011|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:39:02,840 [s0@group-24A3C0BF921E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-24A3C0BF921E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpc8108021c/s0/19189a14-c124-4703-b7ea-24a3c0bf921e/current/log_inprogress_0
2023-01-19 14:39:03,080 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-24A3C0BF921E:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-24A3C0BF921E-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:36683|admin:localhost:44125|client:localhost:35553|dataStream:localhost:38011|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-01-19 14:39:03,080 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:39:03,080 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 44125 (custom)
2023-01-19 14:39:03,080 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:39:03,080 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 35553 (custom)
2023-01-19 14:39:03,080 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-01-19 14:39:03,080 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 36683 (custom)
2023-01-19 14:39:03,081 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:39:03,081 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:39:03,081 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:39:03,081 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-01-19 14:39:03,081 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-01-19 14:39:03,081 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-01-19 14:39:03,081 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-01-19 14:39:03,082 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'appendEntries'
2023-01-19 14:39:03,083 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "appendEntries" throws UnsupportedOperationException
java.lang.UnsupportedOperationException: Blocking appendEntries call is not supported
	at org.apache.ratis.grpc.server.GrpcService.appendEntries(GrpcService.java:355)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.lambda$runTestUnsupportedMethods$1(TestRaftServerWithGrpc.java:159)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:158)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:151)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-01-19 14:39:03,083 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'installSnapshot'
2023-01-19 14:39:03,083 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "installSnapshot" throws UnsupportedOperationException
java.lang.UnsupportedOperationException: Blocking installSnapshot call is not supported
	at org.apache.ratis.grpc.server.GrpcService.installSnapshot(GrpcService.java:361)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.lambda$runTestUnsupportedMethods$2(TestRaftServerWithGrpc.java:163)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:162)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:151)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-01-19 14:39:03,083 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-01-19 14:39:03,083 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-01-19 14:39:03,083 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2023-01-19 14:39:03,083 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-01-19 14:39:03,083 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-01-19 14:39:03,083 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-24A3C0BF921E:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-24A3C0BF921E-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:36683|admin:localhost:44125|client:localhost:35553|dataStream:localhost:38011|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-01-19 14:39:03,084 [MiniRaftCluster-24] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2023-01-19 14:39:03,085 [MiniRaftCluster-24] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-01-19 14:39:03,085 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-24A3C0BF921E: shutdown
2023-01-19 14:39:03,085 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-24A3C0BF921E,id=s0
2023-01-19 14:39:03,085 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-24A3C0BF921E-LeaderStateImpl
2023-01-19 14:39:03,086 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-24A3C0BF921E-PendingRequests: sendNotLeaderResponses
2023-01-19 14:39:03,086 [MiniRaftCluster-24] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-01-19 14:39:03,086 [MiniRaftCluster-24] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server GrpcServerProtocolService now
2023-01-19 14:39:03,086 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-24A3C0BF921E-StateMachineUpdater: set stopIndex = 0
2023-01-19 14:39:03,086 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s0@group-24A3C0BF921E: applyIndex: 0
2023-01-19 14:39:03,086 [MiniRaftCluster-24] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server GrpcServerProtocolService successfully
2023-01-19 14:39:03,086 [s0@group-24A3C0BF921E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s0@group-24A3C0BF921E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2023-01-19 14:39:03,086 [MiniRaftCluster-24] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-01-19 14:39:03,087 [MiniRaftCluster-24] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-01-19 14:39:03,087 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s0@group-24A3C0BF921E-SegmentedRaftLogWorker close()
2023-01-19 14:39:03,088 [JvmPauseMonitor23] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2023-01-19 14:39:03,088 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2023-01-19 14:39:03,088 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-01-19 14:39:03,088 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-01-19 14:39:03,089 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2023-01-19 14:39:03,089 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2023-01-19 14:39:03,089 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-D0771B9EB4E5:[s0|rpc:localhost:36427|admin:localhost:40477|client:localhost:44733|dataStream:localhost:37869|priority:0|startupRole:FOLLOWER]
2023-01-19 14:39:03,090 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-01-19 14:39:03,090 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-01-19 14:39:03,090 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2023-01-19 14:39:03,090 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-01-19 14:39:03,090 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-01-19 14:39:03,090 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-01-19 14:39:03,090 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-D0771B9EB4E5:[s0|rpc:localhost:36427|admin:localhost:40477|client:localhost:44733|dataStream:localhost:37869|priority:0|startupRole:FOLLOWER], format? true
2023-01-19 14:39:03,090 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/f0947725/MiniRaftClusterWithGrpcfe157e9a/s0
2023-01-19 14:39:03,090 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/f0947725/MiniRaftClusterWithGrpcfe157e9a/s0 does not exist.
2023-01-19 14:39:03,090 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/f0947725/MiniRaftClusterWithGrpcfe157e9a/s0
2023-01-19 14:39:03,091 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-01-19 14:39:03,091 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:39:03,091 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 40477 (custom)
2023-01-19 14:39:03,091 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:39:03,091 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 44733 (custom)
2023-01-19 14:39:03,091 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-01-19 14:39:03,091 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 36427 (custom)
2023-01-19 14:39:03,091 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:39:03,091 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:39:03,091 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:39:03,091 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-01-19 14:39:03,091 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-01-19 14:39:03,092 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-01-19 14:39:03,092 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-01-19 14:39:03,093 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-01-19 14:39:03,093 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-01-19 14:39:03,093 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-01-19 14:39:03,093 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-01-19 14:39:03,093 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-01-19 14:39:03,094 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcfe157e9a/s0] (custom)
2023-01-19 14:39:03,094 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-D0771B9EB4E5:[s0|rpc:localhost:36427|admin:localhost:40477|client:localhost:44733|dataStream:localhost:37869|priority:0|startupRole:FOLLOWER] returns group-D0771B9EB4E5:java.util.concurrent.CompletableFuture@228e365e[Not completed]
2023-01-19 14:39:03,094 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:39:03,094 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-01-19 14:39:03,094 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-01-19 14:39:03,095 [pool-29-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-D0771B9EB4E5:[s0|rpc:localhost:36427|admin:localhost:40477|client:localhost:44733|dataStream:localhost:37869|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-01-19 14:39:03,095 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-01-19 14:39:03,095 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-01-19 14:39:03,095 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-01-19 14:39:03,095 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-01-19 14:39:03,095 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-01-19 14:39:03,095 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-01-19 14:39:03,095 [pool-29-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-D0771B9EB4E5: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:36427|admin:localhost:40477|client:localhost:44733|dataStream:localhost:37869|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-01-19 14:39:03,095 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-01-19 14:39:03,095 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-01-19 14:39:03,095 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-01-19 14:39:03,095 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-01-19 14:39:03,095 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-01-19 14:39:03,096 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-01-19 14:39:03,096 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-01-19 14:39:03,096 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-01-19 14:39:03,097 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-01-19 14:39:03,097 [pool-29-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-01-19 14:39:03,097 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-01-19 14:39:03,097 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-01-19 14:39:03,097 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcfe157e9a/s0] (custom)
2023-01-19 14:39:03,097 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcfe157e9a/s0/9bc2dc63-38e2-445e-b8ab-d0771b9eb4e5 does not exist. Creating ...
2023-01-19 14:39:03,098 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcfe157e9a/s0/9bc2dc63-38e2-445e-b8ab-d0771b9eb4e5
2023-01-19 14:39:03,099 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcfe157e9a/s0/9bc2dc63-38e2-445e-b8ab-d0771b9eb4e5/in_use.lock acquired by nodename 4721@fv-az82-597
2023-01-19 14:39:03,099 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcfe157e9a/s0/9bc2dc63-38e2-445e-b8ab-d0771b9eb4e5/current
2023-01-19 14:39:03,099 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcfe157e9a/s0/9bc2dc63-38e2-445e-b8ab-d0771b9eb4e5/sm
2023-01-19 14:39:03,100 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcfe157e9a/s0/9bc2dc63-38e2-445e-b8ab-d0771b9eb4e5 has been successfully formatted.
2023-01-19 14:39:03,101 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-01-19 14:39:03,101 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-01-19 14:39:03,101 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-01-19 14:39:03,101 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-01-19 14:39:03,101 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:39:03,101 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-01-19 14:39:03,101 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-01-19 14:39:03,102 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:39:03,102 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-01-19 14:39:03,102 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-01-19 14:39:03,102 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s0@group-D0771B9EB4E5-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcfe157e9a/s0/9bc2dc63-38e2-445e-b8ab-d0771b9eb4e5
2023-01-19 14:39:03,102 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-01-19 14:39:03,102 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-01-19 14:39:03,102 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:39:03,102 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-01-19 14:39:03,102 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-01-19 14:39:03,102 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-01-19 14:39:03,102 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-01-19 14:39:03,103 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-01-19 14:39:03,103 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-01-19 14:39:03,103 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:39:03,104 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-01-19 14:39:03,104 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-01-19 14:39:03,104 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-01-19 14:39:03,104 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-D0771B9EB4E5-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-01-19 14:39:03,104 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-D0771B9EB4E5-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-01-19 14:39:03,104 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-D0771B9EB4E5: start as a follower, conf=-1: peers:[s0|rpc:localhost:36427|admin:localhost:40477|client:localhost:44733|dataStream:localhost:37869|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:39:03,104 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-D0771B9EB4E5: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-01-19 14:39:03,104 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-D0771B9EB4E5-FollowerState
2023-01-19 14:39:03,105 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-D0771B9EB4E5,id=s0
2023-01-19 14:39:03,105 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-01-19 14:39:03,106 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-01-19 14:39:03,106 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-01-19 14:39:03,106 [s0@group-D0771B9EB4E5-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:39:03,106 [s0@group-D0771B9EB4E5-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:39:03,110 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2023-01-19 14:39:03,112 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 44733
2023-01-19 14:39:03,112 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 36427
2023-01-19 14:39:03,112 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 40477
2023-01-19 14:39:03,114 [JvmPauseMonitor24] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2023-01-19 14:39:03,121 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-01-19 14:39:03,121 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-D0771B9EB4E5:t0, leader=null, voted=, raftlog=Memoized:s0@group-D0771B9EB4E5-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36427|admin:localhost:40477|client:localhost:44733|dataStream:localhost:37869|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-01-19 14:39:03,121 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-D0771B9EB4E5:t0, leader=null, voted=, raftlog=Memoized:s0@group-D0771B9EB4E5-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36427|admin:localhost:40477|client:localhost:44733|dataStream:localhost:37869|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-D0771B9EB4E5:t0, leader=null, voted=, raftlog=Memoized:s0@group-D0771B9EB4E5-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36427|admin:localhost:40477|client:localhost:44733|dataStream:localhost:37869|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestServerRestartOnException(TestRaftServerWithGrpc.java:121)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testServerRestartOnException(TestRaftServerWithGrpc.java:104)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-01-19 14:39:03,296 [s0@group-D0771B9EB4E5-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-D0771B9EB4E5-FollowerState: change to CANDIDATE, lastRpcElapsedTime:191991766ns, electionTimeout:190ms
2023-01-19 14:39:03,296 [s0@group-D0771B9EB4E5-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-D0771B9EB4E5-FollowerState
2023-01-19 14:39:03,296 [s0@group-D0771B9EB4E5-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-D0771B9EB4E5: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-01-19 14:39:03,297 [s0@group-D0771B9EB4E5-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-01-19 14:39:03,297 [s0@group-D0771B9EB4E5-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-D0771B9EB4E5-LeaderElection22
2023-01-19 14:39:03,297 [s0@group-D0771B9EB4E5-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-D0771B9EB4E5-LeaderElection22 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:36427|admin:localhost:40477|client:localhost:44733|dataStream:localhost:37869|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:39:03,297 [s0@group-D0771B9EB4E5-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-D0771B9EB4E5-LeaderElection22 PRE_VOTE round 0: result PASSED (term=0)
2023-01-19 14:39:03,299 [s0@group-D0771B9EB4E5-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-D0771B9EB4E5-LeaderElection22 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:36427|admin:localhost:40477|client:localhost:44733|dataStream:localhost:37869|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:39:03,299 [s0@group-D0771B9EB4E5-LeaderElection22] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-D0771B9EB4E5-LeaderElection22 ELECTION round 0: result PASSED (term=1)
2023-01-19 14:39:03,299 [s0@group-D0771B9EB4E5-LeaderElection22] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-D0771B9EB4E5-LeaderElection22
2023-01-19 14:39:03,299 [s0@group-D0771B9EB4E5-LeaderElection22] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-D0771B9EB4E5: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-01-19 14:39:03,299 [s0@group-D0771B9EB4E5-LeaderElection22] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-D0771B9EB4E5: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 203ms
2023-01-19 14:39:03,299 [s0@group-D0771B9EB4E5-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-01-19 14:39:03,299 [s0@group-D0771B9EB4E5-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-01-19 14:39:03,299 [s0@group-D0771B9EB4E5-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2023-01-19 14:39:03,300 [s0@group-D0771B9EB4E5-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-01-19 14:39:03,300 [s0@group-D0771B9EB4E5-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-01-19 14:39:03,300 [s0@group-D0771B9EB4E5-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-01-19 14:39:03,300 [s0@group-D0771B9EB4E5-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-01-19 14:39:03,300 [s0@group-D0771B9EB4E5-LeaderElection22] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-01-19 14:39:03,300 [s0@group-D0771B9EB4E5-LeaderElection22] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-D0771B9EB4E5-LeaderStateImpl
2023-01-19 14:39:03,300 [s0@group-D0771B9EB4E5-LeaderElection22] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-D0771B9EB4E5-SegmentedRaftLogWorker: Starting segment from index:0
2023-01-19 14:39:03,301 [s0@group-D0771B9EB4E5-LeaderElection22] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-D0771B9EB4E5: set configuration 0: peers:[s0|rpc:localhost:36427|admin:localhost:40477|client:localhost:44733|dataStream:localhost:37869|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:39:03,312 [s0@group-D0771B9EB4E5-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-D0771B9EB4E5-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcfe157e9a/s0/9bc2dc63-38e2-445e-b8ab-d0771b9eb4e5/current/log_inprogress_0
2023-01-19 14:39:03,572 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-D0771B9EB4E5:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-D0771B9EB4E5-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:36427|admin:localhost:40477|client:localhost:44733|dataStream:localhost:37869|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-01-19 14:39:03,572 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-01-19 14:39:03,572 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:39:03,572 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 40477 (custom)
2023-01-19 14:39:03,573 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:39:03,573 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 44733 (custom)
2023-01-19 14:39:03,573 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-01-19 14:39:03,573 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 36427 (custom)
2023-01-19 14:39:03,573 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:39:03,573 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:39:03,573 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:39:03,573 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-01-19 14:39:03,573 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-01-19 14:39:03,573 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-01-19 14:39:03,573 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-01-19 14:39:03,574 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-01-19 14:39:03,575 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-01-19 14:39:03,575 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-01-19 14:39:03,575 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-01-19 14:39:03,575 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-01-19 14:39:03,575 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcfe157e9a/s0] (custom)
2023-01-19 14:39:03,575 [s0-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(254)) - s0: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcfe157e9a/s0/9bc2dc63-38e2-445e-b8ab-d0771b9eb4e5
2023-01-19 14:39:03,576 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-D0771B9EB4E5:[s0|rpc:localhost:36427|admin:localhost:40477|client:localhost:44733|dataStream:localhost:37869|priority:0|startupRole:FOLLOWER] returns group-D0771B9EB4E5:java.util.concurrent.CompletableFuture@5ced812[Not completed]
2023-01-19 14:39:03,576 [pool-30-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-D0771B9EB4E5:[s0|rpc:localhost:36427|admin:localhost:40477|client:localhost:44733|dataStream:localhost:37869|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:s0:group-D0771B9EB4E5
2023-01-19 14:39:03,576 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-01-19 14:39:03,576 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-01-19 14:39:03,576 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-01-19 14:39:03,576 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-01-19 14:39:03,576 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-01-19 14:39:03,576 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-01-19 14:39:03,576 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-01-19 14:39:03,576 [pool-30-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-D0771B9EB4E5: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:36427|admin:localhost:40477|client:localhost:44733|dataStream:localhost:37869|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-01-19 14:39:03,577 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-01-19 14:39:03,577 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-01-19 14:39:03,577 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-01-19 14:39:03,577 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-01-19 14:39:03,577 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-01-19 14:39:03,578 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server GrpcServerProtocolService now
2023-01-19 14:39:03,577 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-01-19 14:39:03,578 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-01-19 14:39:03,578 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-01-19 14:39:03,578 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server GrpcServerProtocolService successfully
2023-01-19 14:39:03,578 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-01-19 14:39:03,578 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-01-19 14:39:03,578 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-01-19 14:39:03,578 [pool-30-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-01-19 14:39:03,581 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-01-19 14:39:03,581 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'Starting a new server with the same address should fail'
2023-01-19 14:39:03,581 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-01-19 14:39:03,581 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:39:03,581 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 40477 (custom)
2023-01-19 14:39:03,581 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:39:03,581 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 44733 (custom)
2023-01-19 14:39:03,581 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-01-19 14:39:03,581 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 36427 (custom)
2023-01-19 14:39:03,581 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:39:03,582 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:39:03,582 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:39:03,582 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-01-19 14:39:03,582 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-01-19 14:39:03,582 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-01-19 14:39:03,582 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-01-19 14:39:03,584 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-01-19 14:39:03,584 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-01-19 14:39:03,584 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-01-19 14:39:03,584 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-01-19 14:39:03,584 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-01-19 14:39:03,584 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcfe157e9a/s0] (custom)
2023-01-19 14:39:03,585 [s0-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(254)) - s0: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcfe157e9a/s0/9bc2dc63-38e2-445e-b8ab-d0771b9eb4e5
2023-01-19 14:39:03,585 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-D0771B9EB4E5:[s0|rpc:localhost:36427|admin:localhost:40477|client:localhost:44733|dataStream:localhost:37869|priority:0|startupRole:FOLLOWER] returns group-D0771B9EB4E5:java.util.concurrent.CompletableFuture@6d373944[Not completed]
2023-01-19 14:39:03,585 [pool-31-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-D0771B9EB4E5:[s0|rpc:localhost:36427|admin:localhost:40477|client:localhost:44733|dataStream:localhost:37869|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:s0:group-D0771B9EB4E5
2023-01-19 14:39:03,585 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-01-19 14:39:03,585 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-01-19 14:39:03,585 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-01-19 14:39:03,585 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-01-19 14:39:03,585 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-01-19 14:39:03,585 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-01-19 14:39:03,585 [pool-31-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-D0771B9EB4E5: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:36427|admin:localhost:40477|client:localhost:44733|dataStream:localhost:37869|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-01-19 14:39:03,586 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-01-19 14:39:03,586 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-01-19 14:39:03,586 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-01-19 14:39:03,586 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-01-19 14:39:03,586 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-01-19 14:39:03,586 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-01-19 14:39:03,586 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-01-19 14:39:03,586 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-01-19 14:39:03,586 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-01-19 14:39:03,586 [pool-31-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-01-19 14:39:03,591 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-01-19 14:39:03,591 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-01-19 14:39:03,591 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcfe157e9a/s0] (custom)
2023-01-19 14:39:03,592 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcfe157e9a/s0/9bc2dc63-38e2-445e-b8ab-d0771b9eb4e5
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-01-19 14:39:03,592 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcfe157e9a/s0/9bc2dc63-38e2-445e-b8ab-d0771b9eb4e5/in_use.lock", attempt #1/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcfe157e9a/s0/9bc2dc63-38e2-445e-b8ab-d0771b9eb4e5. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcfe157e9a/s0/9bc2dc63-38e2-445e-b8ab-d0771b9eb4e5. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2023-01-19 14:39:04,592 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcfe157e9a/s0/9bc2dc63-38e2-445e-b8ab-d0771b9eb4e5
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-01-19 14:39:04,593 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcfe157e9a/s0/9bc2dc63-38e2-445e-b8ab-d0771b9eb4e5/in_use.lock", attempt #2/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcfe157e9a/s0/9bc2dc63-38e2-445e-b8ab-d0771b9eb4e5. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcfe157e9a/s0/9bc2dc63-38e2-445e-b8ab-d0771b9eb4e5. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2023-01-19 14:39:05,593 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcfe157e9a/s0/9bc2dc63-38e2-445e-b8ab-d0771b9eb4e5
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-01-19 14:39:05,594 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcfe157e9a/s0/9bc2dc63-38e2-445e-b8ab-d0771b9eb4e5/in_use.lock", attempt #3/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcfe157e9a/s0/9bc2dc63-38e2-445e-b8ab-d0771b9eb4e5. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcfe157e9a/s0/9bc2dc63-38e2-445e-b8ab-d0771b9eb4e5. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2023-01-19 14:39:06,594 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcfe157e9a/s0/9bc2dc63-38e2-445e-b8ab-d0771b9eb4e5
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-01-19 14:39:06,595 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcfe157e9a/s0/9bc2dc63-38e2-445e-b8ab-d0771b9eb4e5/in_use.lock", attempt #4/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcfe157e9a/s0/9bc2dc63-38e2-445e-b8ab-d0771b9eb4e5. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcfe157e9a/s0/9bc2dc63-38e2-445e-b8ab-d0771b9eb4e5. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2023-01-19 14:39:07,595 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcfe157e9a/s0/9bc2dc63-38e2-445e-b8ab-d0771b9eb4e5
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-01-19 14:39:07,596 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "Starting a new server with the same address should fail" throws CompletionException
java.util.concurrent.CompletionException: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcfe157e9a/s0/9bc2dc63-38e2-445e-b8ab-d0771b9eb4e5. The directory is already locked
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$BiRelay.tryFire(CompletableFuture.java:1423)
	at java.base/java.util.concurrent.CompletableFuture$CoCompletion.tryFire(CompletableFuture.java:1144)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:176)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$3(ConcurrentUtils.java:165)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcfe157e9a/s0/9bc2dc63-38e2-445e-b8ab-d0771b9eb4e5. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:334)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:173)
	... 4 more
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2023-01-19 14:39:07,596 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:39:07,596 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 40477 (custom)
2023-01-19 14:39:07,597 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:39:07,597 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 44733 (custom)
2023-01-19 14:39:07,597 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-01-19 14:39:07,597 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 36427 (custom)
2023-01-19 14:39:07,597 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:39:07,597 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:39:07,597 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:39:07,597 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-01-19 14:39:07,597 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-01-19 14:39:07,597 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-01-19 14:39:07,597 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-01-19 14:39:07,598 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-01-19 14:39:07,598 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-01-19 14:39:07,598 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2023-01-19 14:39:07,598 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-01-19 14:39:07,599 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-01-19 14:39:07,599 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-D0771B9EB4E5:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-D0771B9EB4E5-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:36427|admin:localhost:40477|client:localhost:44733|dataStream:localhost:37869|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-01-19 14:39:07,599 [MiniRaftCluster-25] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2023-01-19 14:39:07,600 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-D0771B9EB4E5: shutdown
2023-01-19 14:39:07,600 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-D0771B9EB4E5,id=s0
2023-01-19 14:39:07,600 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-D0771B9EB4E5-LeaderStateImpl
2023-01-19 14:39:07,600 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-D0771B9EB4E5-PendingRequests: sendNotLeaderResponses
2023-01-19 14:39:07,600 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-D0771B9EB4E5-StateMachineUpdater: set stopIndex = 0
2023-01-19 14:39:07,600 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s0@group-D0771B9EB4E5: applyIndex: 0
2023-01-19 14:39:07,600 [s0@group-D0771B9EB4E5-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s0@group-D0771B9EB4E5-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2023-01-19 14:39:07,603 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s0@group-D0771B9EB4E5-SegmentedRaftLogWorker close()
2023-01-19 14:39:07,603 [JvmPauseMonitor24] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2023-01-19 14:39:07,603 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2023-01-19 14:39:07,604 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-01-19 14:39:07,604 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-01-19 14:39:07,604 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2023-01-19 14:39:07,605 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2023-01-19 14:39:07,606 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-5D340570638E:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]
2023-01-19 14:39:07,606 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-01-19 14:39:07,606 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-01-19 14:39:07,606 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2023-01-19 14:39:07,606 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-01-19 14:39:07,606 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-01-19 14:39:07,606 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-01-19 14:39:07,606 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-5D340570638E:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER], format? true
2023-01-19 14:39:07,606 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/f0947725/MiniRaftClusterWithGrpcef526a4/s0
2023-01-19 14:39:07,607 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/f0947725/MiniRaftClusterWithGrpcef526a4/s0 does not exist.
2023-01-19 14:39:07,607 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/f0947725/MiniRaftClusterWithGrpcef526a4/s0
2023-01-19 14:39:07,607 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-01-19 14:39:07,607 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:39:07,607 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 46811 (custom)
2023-01-19 14:39:07,607 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:39:07,607 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 35517 (custom)
2023-01-19 14:39:07,608 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-01-19 14:39:07,608 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 34079 (custom)
2023-01-19 14:39:07,608 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:39:07,608 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:39:07,608 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:39:07,609 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-01-19 14:39:07,609 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-01-19 14:39:07,609 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-01-19 14:39:07,609 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-01-19 14:39:07,610 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-01-19 14:39:07,610 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-01-19 14:39:07,610 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-01-19 14:39:07,610 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-01-19 14:39:07,611 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-01-19 14:39:07,611 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcef526a4/s0] (custom)
2023-01-19 14:39:07,612 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-5D340570638E:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER] returns group-5D340570638E:java.util.concurrent.CompletableFuture@4ea35bd2[Not completed]
2023-01-19 14:39:07,612 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:39:07,612 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-01-19 14:39:07,612 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-01-19 14:39:07,612 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-5D340570638E:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER], format? true
2023-01-19 14:39:07,612 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/f0947725/MiniRaftClusterWithGrpcef526a4/s1
2023-01-19 14:39:07,612 [pool-32-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-5D340570638E:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-01-19 14:39:07,612 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-01-19 14:39:07,612 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/f0947725/MiniRaftClusterWithGrpcef526a4/s1 does not exist.
2023-01-19 14:39:07,612 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/f0947725/MiniRaftClusterWithGrpcef526a4/s1
2023-01-19 14:39:07,612 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-01-19 14:39:07,612 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:39:07,613 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 38235 (custom)
2023-01-19 14:39:07,613 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:39:07,613 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 38247 (custom)
2023-01-19 14:39:07,613 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-01-19 14:39:07,613 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 34663 (custom)
2023-01-19 14:39:07,613 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:39:07,613 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:39:07,613 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:39:07,613 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-01-19 14:39:07,613 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-01-19 14:39:07,613 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-01-19 14:39:07,613 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-01-19 14:39:07,614 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-01-19 14:39:07,615 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-01-19 14:39:07,615 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-01-19 14:39:07,615 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-01-19 14:39:07,615 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-01-19 14:39:07,615 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcef526a4/s1] (custom)
2023-01-19 14:39:07,615 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-01-19 14:39:07,615 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-01-19 14:39:07,615 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-01-19 14:39:07,615 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-01-19 14:39:07,615 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-01-19 14:39:07,615 [pool-32-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-5D340570638E: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-01-19 14:39:07,615 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-01-19 14:39:07,616 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-01-19 14:39:07,616 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-01-19 14:39:07,616 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-01-19 14:39:07,616 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-01-19 14:39:07,617 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-01-19 14:39:07,618 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-01-19 14:39:07,618 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-01-19 14:39:07,618 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-01-19 14:39:07,618 [pool-32-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-01-19 14:39:07,627 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-5D340570638E:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER] returns group-5D340570638E:java.util.concurrent.CompletableFuture@3ae0111f[Not completed]
2023-01-19 14:39:07,627 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:39:07,627 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-01-19 14:39:07,627 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-5D340570638E:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER], format? true
2023-01-19 14:39:07,628 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/f0947725/MiniRaftClusterWithGrpcef526a4/s2
2023-01-19 14:39:07,628 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-01-19 14:39:07,628 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/f0947725/MiniRaftClusterWithGrpcef526a4/s2 does not exist.
2023-01-19 14:39:07,628 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/f0947725/MiniRaftClusterWithGrpcef526a4/s2
2023-01-19 14:39:07,628 [pool-33-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-5D340570638E:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-01-19 14:39:07,629 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-01-19 14:39:07,629 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-01-19 14:39:07,629 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-01-19 14:39:07,629 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-01-19 14:39:07,629 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:39:07,629 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 43943 (custom)
2023-01-19 14:39:07,630 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-01-19 14:39:07,630 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 36247 (custom)
2023-01-19 14:39:07,630 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-01-19 14:39:07,630 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-01-19 14:39:07,630 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-01-19 14:39:07,630 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 36305 (custom)
2023-01-19 14:39:07,630 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:39:07,630 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:39:07,630 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:39:07,630 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-01-19 14:39:07,630 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-01-19 14:39:07,630 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-01-19 14:39:07,630 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-01-19 14:39:07,631 [pool-33-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-5D340570638E: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-01-19 14:39:07,631 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-01-19 14:39:07,631 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-01-19 14:39:07,631 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-01-19 14:39:07,631 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-01-19 14:39:07,631 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-01-19 14:39:07,632 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-01-19 14:39:07,632 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-01-19 14:39:07,632 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-01-19 14:39:07,632 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-01-19 14:39:07,632 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-01-19 14:39:07,633 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-01-19 14:39:07,633 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcef526a4/s2] (custom)
2023-01-19 14:39:07,633 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-01-19 14:39:07,633 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-01-19 14:39:07,634 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-01-19 14:39:07,634 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-01-19 14:39:07,634 [pool-33-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-01-19 14:39:07,634 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-5D340570638E:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER] returns group-5D340570638E:java.util.concurrent.CompletableFuture@6cf7c34b[Not completed]
2023-01-19 14:39:07,634 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:39:07,634 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-01-19 14:39:07,634 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-01-19 14:39:07,635 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcef526a4/s0] (custom)
2023-01-19 14:39:07,635 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcef526a4/s0/50a1e60b-d7c1-4992-86f6-5d340570638e does not exist. Creating ...
2023-01-19 14:39:07,635 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcef526a4/s0/50a1e60b-d7c1-4992-86f6-5d340570638e
2023-01-19 14:39:07,636 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-01-19 14:39:07,636 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-01-19 14:39:07,636 [pool-34-thread-1] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-5D340570638E:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-01-19 14:39:07,636 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-01-19 14:39:07,636 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-01-19 14:39:07,636 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-01-19 14:39:07,636 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-01-19 14:39:07,636 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-01-19 14:39:07,636 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-01-19 14:39:07,636 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcef526a4/s0/50a1e60b-d7c1-4992-86f6-5d340570638e/in_use.lock acquired by nodename 4721@fv-az82-597
2023-01-19 14:39:07,637 [pool-34-thread-1] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-5D340570638E: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-01-19 14:39:07,637 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcef526a4/s0/50a1e60b-d7c1-4992-86f6-5d340570638e/current
2023-01-19 14:39:07,637 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-01-19 14:39:07,637 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-01-19 14:39:07,637 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcef526a4/s0/50a1e60b-d7c1-4992-86f6-5d340570638e/sm
2023-01-19 14:39:07,637 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-01-19 14:39:07,637 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-01-19 14:39:07,637 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-01-19 14:39:07,638 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcef526a4/s0/50a1e60b-d7c1-4992-86f6-5d340570638e has been successfully formatted.
2023-01-19 14:39:07,638 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-01-19 14:39:07,639 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-01-19 14:39:07,639 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-01-19 14:39:07,639 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-01-19 14:39:07,639 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:39:07,639 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-01-19 14:39:07,639 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-01-19 14:39:07,640 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:39:07,640 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-01-19 14:39:07,640 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-01-19 14:39:07,640 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s0@group-5D340570638E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcef526a4/s0/50a1e60b-d7c1-4992-86f6-5d340570638e
2023-01-19 14:39:07,640 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-01-19 14:39:07,641 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-01-19 14:39:07,641 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:39:07,641 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-01-19 14:39:07,641 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-01-19 14:39:07,641 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-01-19 14:39:07,641 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-01-19 14:39:07,641 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-01-19 14:39:07,642 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-01-19 14:39:07,642 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:39:07,642 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-01-19 14:39:07,643 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-01-19 14:39:07,643 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-01-19 14:39:07,643 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-5D340570638E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-01-19 14:39:07,643 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-5D340570638E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-01-19 14:39:07,644 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-01-19 14:39:07,644 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-01-19 14:39:07,644 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-01-19 14:39:07,644 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-01-19 14:39:07,644 [pool-34-thread-1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-01-19 14:39:07,649 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s0@group-5D340570638E: start as a follower, conf=-1: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:39:07,649 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-5D340570638E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-01-19 14:39:07,649 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-5D340570638E-FollowerState
2023-01-19 14:39:07,650 [s0@group-5D340570638E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:39:07,650 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-5D340570638E,id=s0
2023-01-19 14:39:07,650 [s0@group-5D340570638E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:39:07,650 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-01-19 14:39:07,650 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-01-19 14:39:07,650 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-01-19 14:39:07,651 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s0: start RPC server
2023-01-19 14:39:07,651 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 35517
2023-01-19 14:39:07,652 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 34079
2023-01-19 14:39:07,652 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 46811
2023-01-19 14:39:07,652 [JvmPauseMonitor25] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s0: Started
2023-01-19 14:39:07,652 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-01-19 14:39:07,652 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-01-19 14:39:07,652 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcef526a4/s1] (custom)
2023-01-19 14:39:07,653 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcef526a4/s1/50a1e60b-d7c1-4992-86f6-5d340570638e does not exist. Creating ...
2023-01-19 14:39:07,653 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcef526a4/s1/50a1e60b-d7c1-4992-86f6-5d340570638e
2023-01-19 14:39:07,654 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcef526a4/s1/50a1e60b-d7c1-4992-86f6-5d340570638e/in_use.lock acquired by nodename 4721@fv-az82-597
2023-01-19 14:39:07,654 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcef526a4/s1/50a1e60b-d7c1-4992-86f6-5d340570638e/current
2023-01-19 14:39:07,655 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcef526a4/s1/50a1e60b-d7c1-4992-86f6-5d340570638e/sm
2023-01-19 14:39:07,656 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcef526a4/s1/50a1e60b-d7c1-4992-86f6-5d340570638e has been successfully formatted.
2023-01-19 14:39:07,656 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-01-19 14:39:07,656 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-01-19 14:39:07,656 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-01-19 14:39:07,656 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-01-19 14:39:07,656 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:39:07,656 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-01-19 14:39:07,656 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-01-19 14:39:07,657 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:39:07,657 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-01-19 14:39:07,657 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-01-19 14:39:07,657 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s1@group-5D340570638E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcef526a4/s1/50a1e60b-d7c1-4992-86f6-5d340570638e
2023-01-19 14:39:07,657 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-01-19 14:39:07,657 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-01-19 14:39:07,657 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:39:07,658 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-01-19 14:39:07,658 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-01-19 14:39:07,658 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-01-19 14:39:07,658 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-01-19 14:39:07,658 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-01-19 14:39:07,658 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-01-19 14:39:07,658 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:39:07,659 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-01-19 14:39:07,660 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-01-19 14:39:07,660 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-01-19 14:39:07,660 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-5D340570638E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-01-19 14:39:07,660 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-5D340570638E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-01-19 14:39:07,660 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s1@group-5D340570638E: start as a follower, conf=-1: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:39:07,660 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-5D340570638E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-01-19 14:39:07,660 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-5D340570638E-FollowerState
2023-01-19 14:39:07,661 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-5D340570638E,id=s1
2023-01-19 14:39:07,661 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-01-19 14:39:07,662 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-01-19 14:39:07,662 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-01-19 14:39:07,662 [s1@group-5D340570638E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:39:07,662 [s1@group-5D340570638E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:39:07,665 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s1: start RPC server
2023-01-19 14:39:07,666 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 38247
2023-01-19 14:39:07,666 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 34663
2023-01-19 14:39:07,666 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 38235
2023-01-19 14:39:07,670 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-01-19 14:39:07,670 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-01-19 14:39:07,670 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcef526a4/s2] (custom)
2023-01-19 14:39:07,670 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcef526a4/s2/50a1e60b-d7c1-4992-86f6-5d340570638e does not exist. Creating ...
2023-01-19 14:39:07,671 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcef526a4/s2/50a1e60b-d7c1-4992-86f6-5d340570638e
2023-01-19 14:39:07,671 [JvmPauseMonitor26] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s1: Started
2023-01-19 14:39:07,672 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcef526a4/s2/50a1e60b-d7c1-4992-86f6-5d340570638e/in_use.lock acquired by nodename 4721@fv-az82-597
2023-01-19 14:39:07,672 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcef526a4/s2/50a1e60b-d7c1-4992-86f6-5d340570638e/current
2023-01-19 14:39:07,672 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcef526a4/s2/50a1e60b-d7c1-4992-86f6-5d340570638e/sm
2023-01-19 14:39:07,673 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcef526a4/s2/50a1e60b-d7c1-4992-86f6-5d340570638e has been successfully formatted.
2023-01-19 14:39:07,674 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-01-19 14:39:07,674 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-01-19 14:39:07,674 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-01-19 14:39:07,674 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-01-19 14:39:07,674 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:39:07,674 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-01-19 14:39:07,674 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-01-19 14:39:07,675 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:39:07,675 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-01-19 14:39:07,675 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-01-19 14:39:07,675 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(184)) - new s2@group-5D340570638E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcef526a4/s2/50a1e60b-d7c1-4992-86f6-5d340570638e
2023-01-19 14:39:07,675 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-01-19 14:39:07,675 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-01-19 14:39:07,675 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-01-19 14:39:07,676 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-01-19 14:39:07,676 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-01-19 14:39:07,676 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-01-19 14:39:07,676 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-01-19 14:39:07,676 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-01-19 14:39:07,676 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-01-19 14:39:07,676 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:39:07,677 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-01-19 14:39:07,677 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-01-19 14:39:07,677 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-01-19 14:39:07,677 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-5D340570638E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-01-19 14:39:07,678 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-5D340570638E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-01-19 14:39:07,678 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(338)) - s2@group-5D340570638E: start as a follower, conf=-1: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:39:07,678 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-5D340570638E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-01-19 14:39:07,678 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5D340570638E-FollowerState
2023-01-19 14:39:07,678 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-5D340570638E,id=s2
2023-01-19 14:39:07,678 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-01-19 14:39:07,678 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-01-19 14:39:07,678 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-01-19 14:39:07,679 [s2@group-5D340570638E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:39:07,679 [s2@group-5D340570638E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:39:07,679 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(396)) - s2: start RPC server
2023-01-19 14:39:07,680 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 36247
2023-01-19 14:39:07,680 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 36305
2023-01-19 14:39:07,680 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 43943
2023-01-19 14:39:07,681 [JvmPauseMonitor27] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(105)) - JvmPauseMonitor-s2: Started
2023-01-19 14:39:07,681 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-01-19 14:39:07,681 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-5D340570638E:t0, leader=null, voted=, raftlog=Memoized:s0@group-5D340570638E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-5D340570638E:t0, leader=null, voted=, raftlog=Memoized:s1@group-5D340570638E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5D340570638E:t0, leader=null, voted=, raftlog=Memoized:s2@group-5D340570638E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-01-19 14:39:07,682 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-5D340570638E:t0, leader=null, voted=, raftlog=Memoized:s0@group-5D340570638E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-5D340570638E:t0, leader=null, voted=, raftlog=Memoized:s1@group-5D340570638E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5D340570638E:t0, leader=null, voted=, raftlog=Memoized:s2@group-5D340570638E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-5D340570638E:t0, leader=null, voted=, raftlog=Memoized:s0@group-5D340570638E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-5D340570638E:t0, leader=null, voted=, raftlog=Memoized:s1@group-5D340570638E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5D340570638E:t0, leader=null, voted=, raftlog=Memoized:s2@group-5D340570638E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:173)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-01-19 14:39:07,814 [s0@group-5D340570638E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-5D340570638E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:165005331ns, electionTimeout:164ms
2023-01-19 14:39:07,815 [s0@group-5D340570638E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-5D340570638E-FollowerState
2023-01-19 14:39:07,815 [s0@group-5D340570638E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-5D340570638E: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-01-19 14:39:07,815 [s0@group-5D340570638E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-01-19 14:39:07,815 [s0@group-5D340570638E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-5D340570638E-LeaderElection23
2023-01-19 14:39:07,816 [s0@group-5D340570638E-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-5D340570638E-LeaderElection23 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:39:07,816 [s0@group-5D340570638E-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:39:07,816 [s0@group-5D340570638E-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:39:07,817 [s0@group-5D340570638E-LeaderElection23-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2023-01-19 14:39:07,817 [s0@group-5D340570638E-LeaderElection23-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2023-01-19 14:39:07,827 [s1@group-5D340570638E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-5D340570638E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:166818803ns, electionTimeout:165ms
2023-01-19 14:39:07,827 [s1@group-5D340570638E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-5D340570638E-FollowerState
2023-01-19 14:39:07,827 [s1@group-5D340570638E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-5D340570638E: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-01-19 14:39:07,828 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s2@group-5D340570638E: receive requestVote(PRE_VOTE, s0, group-5D340570638E, 0, (t:0, i:0))
2023-01-19 14:39:07,828 [grpc-default-executor-9] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-5D340570638E-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-01-19 14:39:07,828 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s2@group-5D340570638E replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-5D340570638E:t0, leader=null, voted=, raftlog=Memoized:s2@group-5D340570638E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:39:07,828 [s1@group-5D340570638E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-01-19 14:39:07,829 [s1@group-5D340570638E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-5D340570638E-LeaderElection24
2023-01-19 14:39:07,830 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s1@group-5D340570638E: receive requestVote(PRE_VOTE, s0, group-5D340570638E, 0, (t:0, i:0))
2023-01-19 14:39:07,831 [grpc-default-executor-9] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-5D340570638E-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-01-19 14:39:07,831 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s1@group-5D340570638E replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-5D340570638E:t0, leader=null, voted=, raftlog=Memoized:s1@group-5D340570638E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:39:07,831 [s0@group-5D340570638E-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-5D340570638E-LeaderElection23: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-01-19 14:39:07,832 [s0@group-5D340570638E-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s2#0:OK-t0
2023-01-19 14:39:07,832 [s0@group-5D340570638E-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-5D340570638E-LeaderElection23 PRE_VOTE round 0: result PASSED
2023-01-19 14:39:07,834 [s0@group-5D340570638E-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-5D340570638E-LeaderElection23 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:39:07,835 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s1@group-5D340570638E: receive requestVote(ELECTION, s0, group-5D340570638E, 1, (t:0, i:0))
2023-01-19 14:39:07,835 [grpc-default-executor-9] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-5D340570638E-CANDIDATE: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2023-01-19 14:39:07,835 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-5D340570638E: changes role from CANDIDATE to FOLLOWER at term 1 for candidate:s0
2023-01-19 14:39:07,835 [grpc-default-executor-9] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-5D340570638E-LeaderElection24
2023-01-19 14:39:07,835 [grpc-default-executor-9] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-5D340570638E-FollowerState
2023-01-19 14:39:07,836 [s0@group-5D340570638E-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:39:07,836 [s0@group-5D340570638E-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:39:07,836 [s1@group-5D340570638E-LeaderElection24] INFO  impl.LeaderElection (LeaderElection.java:run(232)) - s1@group-5D340570638E-LeaderElection24: skip running since this is already CLOSING
2023-01-19 14:39:07,838 [grpc-default-executor-9] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s1@group-5D340570638E replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-5D340570638E:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-5D340570638E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:39:07,837 [s1@group-5D340570638E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:39:07,837 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s2@group-5D340570638E: receive requestVote(ELECTION, s0, group-5D340570638E, 1, (t:0, i:0))
2023-01-19 14:39:07,840 [s0@group-5D340570638E-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-5D340570638E-LeaderElection23: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-01-19 14:39:07,841 [s0@group-5D340570638E-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t1
2023-01-19 14:39:07,841 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-5D340570638E-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2023-01-19 14:39:07,842 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-5D340570638E: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2023-01-19 14:39:07,841 [s0@group-5D340570638E-LeaderElection23] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-5D340570638E-LeaderElection23 ELECTION round 0: result PASSED
2023-01-19 14:39:07,842 [s0@group-5D340570638E-LeaderElection23] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-5D340570638E-LeaderElection23
2023-01-19 14:39:07,842 [s0@group-5D340570638E-LeaderElection23] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-5D340570638E: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-01-19 14:39:07,842 [s0@group-5D340570638E-LeaderElection23] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-5D340570638E: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 226ms
2023-01-19 14:39:07,842 [s0@group-5D340570638E-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-01-19 14:39:07,842 [s0@group-5D340570638E-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-01-19 14:39:07,842 [s0@group-5D340570638E-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2023-01-19 14:39:07,842 [s0@group-5D340570638E-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-01-19 14:39:07,842 [s0@group-5D340570638E-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-01-19 14:39:07,842 [s0@group-5D340570638E-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-01-19 14:39:07,842 [s0@group-5D340570638E-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-01-19 14:39:07,843 [s0@group-5D340570638E-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-01-19 14:39:07,843 [s0@group-5D340570638E-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-01-19 14:39:07,843 [s0@group-5D340570638E-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:39:07,843 [s0@group-5D340570638E-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-01-19 14:39:07,843 [s0@group-5D340570638E-LeaderElection23] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2023-01-19 14:39:07,843 [s0@group-5D340570638E-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-01-19 14:39:07,843 [s0@group-5D340570638E-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-01-19 14:39:07,843 [s0@group-5D340570638E-LeaderElection23] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-01-19 14:39:07,843 [s0@group-5D340570638E-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-01-19 14:39:07,844 [s0@group-5D340570638E-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-01-19 14:39:07,844 [s0@group-5D340570638E-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:39:07,844 [s0@group-5D340570638E-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-01-19 14:39:07,844 [s0@group-5D340570638E-LeaderElection23] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2023-01-19 14:39:07,844 [s0@group-5D340570638E-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-01-19 14:39:07,844 [s0@group-5D340570638E-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-01-19 14:39:07,844 [s0@group-5D340570638E-LeaderElection23] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-01-19 14:39:07,844 [s0@group-5D340570638E-LeaderElection23] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-01-19 14:39:07,844 [s0@group-5D340570638E-LeaderElection23] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-5D340570638E-LeaderStateImpl
2023-01-19 14:39:07,845 [s0@group-5D340570638E-LeaderElection23] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s0@group-5D340570638E-SegmentedRaftLogWorker: Starting segment from index:0
2023-01-19 14:39:07,842 [grpc-default-executor-6] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-5D340570638E-FollowerState
2023-01-19 14:39:07,845 [s2@group-5D340570638E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-5D340570638E-FollowerState was interrupted
2023-01-19 14:39:07,854 [s1@group-5D340570638E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:39:07,854 [grpc-default-executor-6] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5D340570638E-FollowerState
2023-01-19 14:39:07,855 [s0@group-5D340570638E-LeaderElection23] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-5D340570638E: set configuration 0: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:39:07,858 [s2@group-5D340570638E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-01-19 14:39:07,858 [s2@group-5D340570638E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-01-19 14:39:07,859 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s2@group-5D340570638E replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-5D340570638E:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-5D340570638E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:39:07,859 [s0@group-5D340570638E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-5D340570638E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcef526a4/s0/50a1e60b-d7c1-4992-86f6-5d340570638e/current/log_inprogress_0
2023-01-19 14:39:07,866 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-5D340570638E: change Leader from null to s0 at term 1 for appendEntries, leader elected after 228ms
2023-01-19 14:39:07,870 [s1-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-5D340570638E: change Leader from null to s0 at term 1 for appendEntries, leader elected after 238ms
2023-01-19 14:39:07,870 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s2@group-5D340570638E: set configuration 0: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:39:07,874 [s2-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s2@group-5D340570638E-SegmentedRaftLogWorker: Starting segment from index:0
2023-01-19 14:39:07,876 [s1-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s1@group-5D340570638E: set configuration 0: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:39:07,876 [s1-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(431)) - s1@group-5D340570638E-SegmentedRaftLogWorker: Starting segment from index:0
2023-01-19 14:39:07,897 [s2@group-5D340570638E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-5D340570638E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcef526a4/s2/50a1e60b-d7c1-4992-86f6-5d340570638e/current/log_inprogress_0
2023-01-19 14:39:07,897 [s1@group-5D340570638E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-5D340570638E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcef526a4/s1/50a1e60b-d7c1-4992-86f6-5d340570638e/current/log_inprogress_0
2023-01-19 14:39:08,132 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-5D340570638E:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-5D340570638E-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-5D340570638E:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-5D340570638E-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5D340570638E:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-5D340570638E-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-01-19 14:39:08,133 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:39:08,133 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:39:08,139 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-6807AC79126B->s0: receive RaftClientReply:client-6807AC79126B->s0@group-5D340570638E, cid=114, SUCCESS, logIndex=0, commits[s0:c0, s1:c0, s2:c0]
2023-01-19 14:39:08,145 [s0@group-5D340570638E-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 115@client-6807AC79126B
2023-01-19 14:39:08,146 [grpc-default-executor-10] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-6807AC79126B->s0: receive RaftClientReply:client-6807AC79126B->s0@group-5D340570638E, cid=115, SUCCESS, logIndex=1, commits[s0:c1, s1:c0, s2:c0]
2023-01-19 14:39:08,147 [s2@group-5D340570638E-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 115@client-6807AC79126B
2023-01-19 14:39:08,149 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:39:08,150 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:39:08,156 [s1@group-5D340570638E-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 115@client-6807AC79126B
2023-01-19 14:39:08,158 [s0@group-5D340570638E-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-5FBD1F24CDA0
2023-01-19 14:39:08,159 [grpc-default-executor-10] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-5FBD1F24CDA0->s0: receive RaftClientReply:client-5FBD1F24CDA0->s0@group-5D340570638E, cid=1, SUCCESS, logIndex=3, commits[s0:c3, s1:c1, s2:c2]
2023-01-19 14:39:08,160 [Time-limited test] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:block(135)) - block START_TRANSACTION
2023-01-19 14:39:08,160 [Time-limited test] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:blockRequestor(49)) - Block requestor s0
2023-01-19 14:39:08,160 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-01-19 14:39:08,160 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-5D340570638E:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-5D340570638E-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-5D340570638E:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-5D340570638E-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5D340570638E:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-5D340570638E-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-01-19 14:39:08,160 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-5D340570638E:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-5D340570638E-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-5D340570638E:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-5D340570638E-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5D340570638E:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-5D340570638E-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-01-19 14:39:08,160 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "changeLeader-changeLeader", attempt #1/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:199)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-01-19 14:39:08,161 [s2@group-5D340570638E-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-5FBD1F24CDA0
2023-01-19 14:39:08,162 [s1-server-thread1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s1: Block request from s0
2023-01-19 14:39:08,233 [s1-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s1: Block request from s0
2023-01-19 14:39:08,238 [s2-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s2: Block request from s0
2023-01-19 14:39:08,261 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-01-19 14:39:08,261 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-5D340570638E:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-5D340570638E-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-5D340570638E:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-5D340570638E-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5D340570638E:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-5D340570638E-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-01-19 14:39:08,261 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-5D340570638E:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-5D340570638E-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-5D340570638E:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-5D340570638E-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5D340570638E:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-5D340570638E-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-01-19 14:39:08,262 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "changeLeader-changeLeader", attempt #2/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:199)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-01-19 14:39:08,362 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-01-19 14:39:08,362 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-5D340570638E:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-5D340570638E-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-5D340570638E:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-5D340570638E-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5D340570638E:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-5D340570638E-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-01-19 14:39:08,363 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-5D340570638E:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-5D340570638E-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-5D340570638E:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-5D340570638E-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5D340570638E:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-5D340570638E-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-01-19 14:39:08,363 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "changeLeader-changeLeader", attempt #3/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:199)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-01-19 14:39:08,463 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-01-19 14:39:08,463 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-5D340570638E:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-5D340570638E-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-5D340570638E:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-5D340570638E-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5D340570638E:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-5D340570638E-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-01-19 14:39:08,464 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-5D340570638E:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-5D340570638E-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-5D340570638E:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-5D340570638E-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5D340570638E:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-5D340570638E-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-01-19 14:39:08,464 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "changeLeader-changeLeader", attempt #4/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:199)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-01-19 14:39:08,522 [s1@group-5D340570638E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-5D340570638E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:366827241ns, electionTimeout:248ms
2023-01-19 14:39:08,523 [s1@group-5D340570638E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-5D340570638E-FollowerState
2023-01-19 14:39:08,523 [s1@group-5D340570638E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-5D340570638E: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-01-19 14:39:08,523 [s1@group-5D340570638E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-01-19 14:39:08,523 [s1@group-5D340570638E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-5D340570638E-LeaderElection25
2023-01-19 14:39:08,523 [s1@group-5D340570638E-LeaderElection25] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-5D340570638E: change Leader from s0 to null at term 1 for PRE_VOTE
2023-01-19 14:39:08,523 [s1@group-5D340570638E-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-5D340570638E-LeaderElection25 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:39:08,524 [s1@group-5D340570638E-LeaderElection25-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2023-01-19 14:39:08,524 [s1@group-5D340570638E-LeaderElection25-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s2
2023-01-19 14:39:08,529 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s2@group-5D340570638E: receive requestVote(PRE_VOTE, s1, group-5D340570638E, 1, (t:1, i:2))
2023-01-19 14:39:08,529 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-5D340570638E-FOLLOWER: reject PRE_VOTE from s1: our last entry (t:1, i:4) > candidate's last entry (t:1, i:2)
2023-01-19 14:39:08,530 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s2@group-5D340570638E replies to PRE_VOTE vote request: s1<-s2#0:FAIL-t1. Peer's state: s2@group-5D340570638E:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-5D340570638E-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:39:08,531 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s0@group-5D340570638E: receive requestVote(PRE_VOTE, s1, group-5D340570638E, 1, (t:1, i:2))
2023-01-19 14:39:08,531 [grpc-default-executor-5] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1104)) - s0@group-5D340570638E-LeaderStateImpl: Lost leadership on term: 1. Election timeout: 300ms. In charge for: 689ms. Conf: 0: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:39:08,532 [grpc-default-executor-5] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$18(1108)) - Follower s0@group-5D340570638E->s1(c1,m2,n5, attendVote=true, lastRpcSendTime=34, lastRpcResponseTime=374)
2023-01-19 14:39:08,532 [grpc-default-executor-5] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$18(1108)) - Follower s0@group-5D340570638E->s2(c3,m4,n5, attendVote=true, lastRpcSendTime=29, lastRpcResponseTime=370)
2023-01-19 14:39:08,532 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-5D340570638E: changes role from    LEADER to FOLLOWER at term 1 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2023-01-19 14:39:08,532 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-5D340570638E-LeaderStateImpl
2023-01-19 14:39:08,532 [s0@group-5D340570638E->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s0@group-5D340570638E->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2023-01-19 14:39:08,532 [s0@group-5D340570638E->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s0@group-5D340570638E->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2023-01-19 14:39:08,532 [grpc-default-executor-5] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-5D340570638E-PendingRequests: sendNotLeaderResponses
2023-01-19 14:39:08,533 [grpc-default-executor-5] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-5D340570638E: change Leader from s0 to null at term 1 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2023-01-19 14:39:08,533 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-5D340570638E-FollowerState
2023-01-19 14:39:08,534 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s2: Completed APPEND_ENTRIES, lastRequest: s0->s2#20-t1,previous=(t:1, i:3),leaderCommit=3,initializing? true,entries: size=1, first=(t:1, i:4), METADATAENTRY(c:3)
2023-01-19 14:39:08,534 [grpc-default-executor-11] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s0@group-5D340570638E->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-01-19 14:39:08,534 [grpc-default-executor-11] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-5D340570638E->s2: nextIndex: updateUnconditionally 5 -> 4
2023-01-19 14:39:08,538 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-5D340570638E-FOLLOWER: reject PRE_VOTE from s1: our last entry (t:1, i:4) > candidate's last entry (t:1, i:2)
2023-01-19 14:39:08,539 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s0@group-5D340570638E replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-5D340570638E:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-5D340570638E-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:39:08,540 [s1@group-5D340570638E-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-5D340570638E-LeaderElection25: PRE_VOTE REJECTED received 2 response(s) and 0 exception(s):
2023-01-19 14:39:08,540 [s1@group-5D340570638E-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:FAIL-t1
2023-01-19 14:39:08,540 [s1@group-5D340570638E-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s1<-s2#0:FAIL-t1
2023-01-19 14:39:08,540 [s1@group-5D340570638E-LeaderElection25] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-5D340570638E-LeaderElection25 PRE_VOTE round 0: result REJECTED
2023-01-19 14:39:08,540 [s1@group-5D340570638E-LeaderElection25] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-5D340570638E: changes role from CANDIDATE to FOLLOWER at term 1 for REJECTED
2023-01-19 14:39:08,540 [s1@group-5D340570638E-LeaderElection25] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-5D340570638E-LeaderElection25
2023-01-19 14:39:08,540 [s1@group-5D340570638E-LeaderElection25] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-5D340570638E-FollowerState
2023-01-19 14:39:08,564 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-01-19 14:39:08,565 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-5D340570638E:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-5D340570638E-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-5D340570638E:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-5D340570638E-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5D340570638E:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-5D340570638E-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-01-19 14:39:08,565 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-5D340570638E:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-5D340570638E-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-5D340570638E:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-5D340570638E-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5D340570638E:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-5D340570638E-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-5D340570638E:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-5D340570638E-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-5D340570638E:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-5D340570638E-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-5D340570638E:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-5D340570638E-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:431)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:199)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-01-19 14:39:08,565 [s2@group-5D340570638E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-5D340570638E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:404578457ns, electionTimeout:230ms
2023-01-19 14:39:08,565 [s2@group-5D340570638E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-5D340570638E-FollowerState
2023-01-19 14:39:08,566 [s2@group-5D340570638E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-5D340570638E: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-01-19 14:39:08,566 [s2@group-5D340570638E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-01-19 14:39:08,566 [s2@group-5D340570638E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5D340570638E-LeaderElection26
2023-01-19 14:39:08,566 [s2@group-5D340570638E-LeaderElection26] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-5D340570638E: change Leader from s0 to null at term 1 for PRE_VOTE
2023-01-19 14:39:08,566 [s2@group-5D340570638E-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-5D340570638E-LeaderElection26 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:39:08,567 [s2@group-5D340570638E-LeaderElection26-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s1
2023-01-19 14:39:08,568 [s2@group-5D340570638E-LeaderElection26-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(63)) - Build channel for s0
2023-01-19 14:39:08,573 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s1@group-5D340570638E: receive requestVote(PRE_VOTE, s2, group-5D340570638E, 1, (t:1, i:4))
2023-01-19 14:39:08,573 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-5D340570638E-FOLLOWER: accept PRE_VOTE from s2: our last entry (t:1, i:2) < candidate's last entry (t:1, i:4)
2023-01-19 14:39:08,573 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s1@group-5D340570638E replies to PRE_VOTE vote request: s2<-s1#0:OK-t1. Peer's state: s1@group-5D340570638E:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-5D340570638E-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:39:08,574 [s2@group-5D340570638E-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-5D340570638E-LeaderElection26: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-01-19 14:39:08,574 [s2@group-5D340570638E-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s1#0:OK-t1
2023-01-19 14:39:08,574 [s2@group-5D340570638E-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-5D340570638E-LeaderElection26 PRE_VOTE round 0: result PASSED
2023-01-19 14:39:08,576 [s2@group-5D340570638E-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-5D340570638E-LeaderElection26 ELECTION round 0: submit vote requests at term 2 for 0: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:39:08,581 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s0@group-5D340570638E: receive requestVote(PRE_VOTE, s2, group-5D340570638E, 1, (t:1, i:4))
2023-01-19 14:39:08,581 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-5D340570638E-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-01-19 14:39:08,581 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s0@group-5D340570638E replies to PRE_VOTE vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-5D340570638E:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-5D340570638E-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:39:08,582 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s0@group-5D340570638E: receive requestVote(ELECTION, s2, group-5D340570638E, 2, (t:1, i:4))
2023-01-19 14:39:08,582 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-5D340570638E-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2023-01-19 14:39:08,582 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s0@group-5D340570638E: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s2
2023-01-19 14:39:08,582 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-5D340570638E-FollowerState
2023-01-19 14:39:08,582 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-5D340570638E-FollowerState
2023-01-19 14:39:08,582 [s0@group-5D340570638E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-5D340570638E-FollowerState was interrupted
2023-01-19 14:39:08,589 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s0@group-5D340570638E replies to ELECTION vote request: s2<-s0#0:OK-t2. Peer's state: s0@group-5D340570638E:t2, leader=null, voted=s2, raftlog=Memoized:s0@group-5D340570638E-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:39:08,589 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1298)) - s1@group-5D340570638E: receive requestVote(ELECTION, s2, group-5D340570638E, 2, (t:1, i:4))
2023-01-19 14:39:08,589 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-5D340570638E-FOLLOWER: accept ELECTION from s2: our last entry (t:1, i:2) < candidate's last entry (t:1, i:4)
2023-01-19 14:39:08,589 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s1@group-5D340570638E: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s2
2023-01-19 14:39:08,589 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-5D340570638E-FollowerState
2023-01-19 14:39:08,589 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-5D340570638E-FollowerState
2023-01-19 14:39:08,589 [s1@group-5D340570638E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-5D340570638E-FollowerState was interrupted
2023-01-19 14:39:08,590 [s2@group-5D340570638E-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-5D340570638E-LeaderElection26: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-01-19 14:39:08,590 [s2@group-5D340570638E-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t2
2023-01-19 14:39:08,590 [s2@group-5D340570638E-LeaderElection26] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-5D340570638E-LeaderElection26 ELECTION round 0: result PASSED
2023-01-19 14:39:08,590 [s2@group-5D340570638E-LeaderElection26] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-5D340570638E-LeaderElection26
2023-01-19 14:39:08,591 [s2@group-5D340570638E-LeaderElection26] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(325)) - s2@group-5D340570638E: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2023-01-19 14:39:08,591 [s2@group-5D340570638E-LeaderElection26] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-5D340570638E: change Leader from null to s2 at term 2 for becomeLeader, leader elected after 24ms
2023-01-19 14:39:08,591 [s2@group-5D340570638E-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-01-19 14:39:08,591 [s2@group-5D340570638E-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-01-19 14:39:08,591 [s2@group-5D340570638E-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2023-01-19 14:39:08,591 [s2@group-5D340570638E-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-01-19 14:39:08,591 [s2@group-5D340570638E-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-01-19 14:39:08,591 [s2@group-5D340570638E-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-01-19 14:39:08,591 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1331)) - s1@group-5D340570638E replies to ELECTION vote request: s2<-s1#0:OK-t2. Peer's state: s1@group-5D340570638E:t2, leader=null, voted=s2, raftlog=Memoized:s1@group-5D340570638E-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:39:08,591 [s2@group-5D340570638E-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-01-19 14:39:08,592 [s2@group-5D340570638E-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-01-19 14:39:08,593 [s2@group-5D340570638E-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-01-19 14:39:08,593 [s2@group-5D340570638E-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:39:08,593 [s2@group-5D340570638E-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-01-19 14:39:08,593 [s2@group-5D340570638E-LeaderElection26] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2023-01-19 14:39:08,593 [s2@group-5D340570638E-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-01-19 14:39:08,593 [s2@group-5D340570638E-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-01-19 14:39:08,593 [s2@group-5D340570638E-LeaderElection26] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-01-19 14:39:08,593 [s2@group-5D340570638E-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-01-19 14:39:08,594 [s2@group-5D340570638E-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-01-19 14:39:08,594 [s2@group-5D340570638E-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-01-19 14:39:08,594 [s2@group-5D340570638E-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-01-19 14:39:08,594 [s2@group-5D340570638E-LeaderElection26] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2023-01-19 14:39:08,594 [s2@group-5D340570638E-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-01-19 14:39:08,594 [s2@group-5D340570638E-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-01-19 14:39:08,594 [s2@group-5D340570638E-LeaderElection26] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-01-19 14:39:08,594 [s2@group-5D340570638E-LeaderElection26] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-01-19 14:39:08,594 [s2@group-5D340570638E-LeaderElection26] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-5D340570638E-LeaderStateImpl
2023-01-19 14:39:08,594 [s2@group-5D340570638E-LeaderElection26] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s2@group-5D340570638E-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2023-01-19 14:39:08,595 [s2@group-5D340570638E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcef526a4/s2/50a1e60b-d7c1-4992-86f6-5d340570638e/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcef526a4/s2/50a1e60b-d7c1-4992-86f6-5d340570638e/current/log_0-4
2023-01-19 14:39:08,595 [s2@group-5D340570638E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s2@group-5D340570638E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcef526a4/s2/50a1e60b-d7c1-4992-86f6-5d340570638e/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcef526a4/s2/50a1e60b-d7c1-4992-86f6-5d340570638e/current/log_0-4
2023-01-19 14:39:08,602 [s2@group-5D340570638E-LeaderElection26] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s2@group-5D340570638E: set configuration 5: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:39:08,608 [s2@group-5D340570638E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s2@group-5D340570638E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcef526a4/s2/50a1e60b-d7c1-4992-86f6-5d340570638e/current/log_inprogress_5
2023-01-19 14:39:08,608 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-5D340570638E: change Leader from null to s2 at term 2 for appendEntries, leader elected after 75ms
2023-01-19 14:39:08,612 [s1-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-5D340570638E: change Leader from null to s2 at term 2 for appendEntries, leader elected after 88ms
2023-01-19 14:39:08,612 [s1-server-thread3] INFO  server.RaftServer$Division (RaftServerImpl.java:checkInconsistentAppendEntries(1606)) - s1@group-5D340570638E: Failed appendEntries as previous log entry ((t:1, i:4)) is not found
2023-01-19 14:39:08,613 [s1-server-thread3] INFO  server.RaftServer$Division (RaftServerImpl.java:checkInconsistentAppendEntries(1576)) - s1@group-5D340570638E: inconsistency entries. Reply:s2<-s1#0:FAIL-t2,INCONSISTENCY,nextIndex=3,followerCommit=1,matchIndex=-1
2023-01-19 14:39:08,615 [grpc-default-executor-11] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s2@group-5D340570638E->s1: nextIndex: updateUnconditionally 6 -> 3
2023-01-19 14:39:08,617 [s1-server-thread4] INFO  server.RaftServer$Division (RaftServerImpl.java:checkInconsistentAppendEntries(1606)) - s1@group-5D340570638E: Failed appendEntries as previous log entry ((t:1, i:4)) is not found
2023-01-19 14:39:08,617 [s1-server-thread4] INFO  server.RaftServer$Division (RaftServerImpl.java:checkInconsistentAppendEntries(1576)) - s1@group-5D340570638E: inconsistency entries. Reply:s2<-s1#1:FAIL-t2,INCONSISTENCY,nextIndex=3,followerCommit=1,matchIndex=-1
2023-01-19 14:39:08,617 [s0-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-5D340570638E: set configuration 5: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:39:08,617 [s0-server-thread3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s0@group-5D340570638E-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2023-01-19 14:39:08,618 [s0@group-5D340570638E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcef526a4/s0/50a1e60b-d7c1-4992-86f6-5d340570638e/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcef526a4/s0/50a1e60b-d7c1-4992-86f6-5d340570638e/current/log_0-4
2023-01-19 14:39:08,619 [s0@group-5D340570638E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s0@group-5D340570638E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcef526a4/s0/50a1e60b-d7c1-4992-86f6-5d340570638e/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcef526a4/s0/50a1e60b-d7c1-4992-86f6-5d340570638e/current/log_0-4
2023-01-19 14:39:08,620 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s2@group-5D340570638E->s1: nextIndex: updateUnconditionally 6 -> 3
2023-01-19 14:39:08,622 [s1-server-thread4] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s1@group-5D340570638E: set configuration 5: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:39:08,622 [s1-server-thread4] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(436)) - s1@group-5D340570638E-SegmentedRaftLogWorker: Rolling segment log-0_4 to index:4
2023-01-19 14:39:08,623 [s1-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s1@group-5D340570638E: set configuration 5: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-01-19 14:39:08,624 [s1@group-5D340570638E-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcef526a4/s1/50a1e60b-d7c1-4992-86f6-5d340570638e/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcef526a4/s1/50a1e60b-d7c1-4992-86f6-5d340570638e/current/log_0-4
2023-01-19 14:39:08,624 [s1@group-5D340570638E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(592)) - s1@group-5D340570638E-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcef526a4/s1/50a1e60b-d7c1-4992-86f6-5d340570638e/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcef526a4/s1/50a1e60b-d7c1-4992-86f6-5d340570638e/current/log_0-4
2023-01-19 14:39:08,624 [s1@group-5D340570638E-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-5FBD1F24CDA0
2023-01-19 14:39:08,638 [s0@group-5D340570638E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s0@group-5D340570638E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcef526a4/s0/50a1e60b-d7c1-4992-86f6-5d340570638e/current/log_inprogress_5
2023-01-19 14:39:08,639 [s1@group-5D340570638E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(635)) - s1@group-5D340570638E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/f0947725/MiniRaftClusterWithGrpcef526a4/s1/50a1e60b-d7c1-4992-86f6-5d340570638e/current/log_inprogress_5
2023-01-19 14:39:09,016 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-5D340570638E:t2, leader=s2, voted=s2, raftlog=Memoized:s0@group-5D340570638E-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-5D340570638E:t2, leader=s2, voted=s2, raftlog=Memoized:s1@group-5D340570638E-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-5D340570638E:t2, leader=s2, voted=s2, raftlog=Memoized:s2@group-5D340570638E-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-01-19 14:39:09,016 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s0 to s2
2023-01-19 14:39:09,016 [Time-limited test] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:unblockRequestor(54)) - UnBlock requestor s0
2023-01-19 14:39:09,016 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'request should fail'
2023-01-19 14:39:09,016 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "request should fail" throws ExecutionException
java.util.concurrent.ExecutionException: org.apache.ratis.protocol.exceptions.AlreadyClosedException: client-5FBD1F24CDA0->s0: Stream completed: no reply for async request cid=2
	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)
	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:203)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.AlreadyClosedException: client-5FBD1F24CDA0->s0: Stream completed: no reply for async request cid=2
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:396)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onCompleted(GrpcClientProtocolClient.java:336)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:485)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:468)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:432)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:465)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	... 1 more
2023-01-19 14:39:09,017 [Time-limited test] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:unblock(142)) - unblock START_TRANSACTION
2023-01-19 14:39:09,018 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-01-19 14:39:09,019 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-01-19 14:39:09,022 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'request should timeout'
2023-01-19 14:39:09,063 [s1-server-thread1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s1: unBlock request from s0
2023-01-19 14:39:09,064 [grpc-default-executor-9] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#19-t1,previous=(t:1, i:3),leaderCommit=3,initializing? true,entries: size=1, first=(t:1, i:4), METADATAENTRY(c:3)
2023-01-19 14:39:09,064 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s0@group-5D340570638E->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-01-19 14:39:09,065 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-5D340570638E->s1: nextIndex: updateUnconditionally 5 -> 3
2023-01-19 14:39:09,138 [s2-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s2: unBlock request from s0
2023-01-19 14:39:09,138 [s1-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s1: unBlock request from s0
2023-01-19 14:39:09,142 [grpc-default-executor-6] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s1: Completed APPEND_ENTRIES, lastRequest: null
2023-01-19 14:39:09,142 [grpc-default-executor-9] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s2: Completed APPEND_ENTRIES, lastRequest: null
2023-01-19 14:39:09,144 [grpc-default-executor-6] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s0@group-5D340570638E->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-01-19 14:39:09,144 [grpc-default-executor-6] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-5D340570638E->s2: nextIndex: updateUnconditionally 4 -> 3
2023-01-19 14:39:09,144 [grpc-default-executor-9] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s0@group-5D340570638E->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-01-19 14:39:09,144 [grpc-default-executor-9] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s0@group-5D340570638E->s1: nextIndex: updateUnconditionally 3 -> 2
2023-01-19 14:39:10,022 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "request should timeout" throws ExecutionException
java.util.concurrent.ExecutionException: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-5FBD1F24CDA0->s0 request #3 timeout 1s
	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)
	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:211)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-5FBD1F24CDA0->s0 request #3 timeout 1s
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:374)
	at java.base/java.util.Optional.ifPresent(Optional.java:183)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.handleReplyFuture(GrpcClientProtocolClient.java:378)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.timeoutCheck(GrpcClientProtocolClient.java:373)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$onNext$3(GrpcClientProtocolClient.java:366)
	at org.apache.ratis.util.TimeoutTimer.lambda$onTimeout$2(TimeoutTimer.java:101)
	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:79)
	at org.apache.ratis.util.TimeoutTimer$Task.run(TimeoutTimer.java:55)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
2023-01-19 14:39:10,027 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-5FBD1F24CDA0->s0: receive RaftClientReply:client-5FBD1F24CDA0->s0@group-5D340570638E, cid=3, FAILED org.apache.ratis.protocol.exceptions.AlreadyClosedException: SlidingWindow$Server:2-OrderedRequestStreamObserver2 is closing: seq = 3 > nextToProcess = -1 will NEVER be processed; request = 3:null, logIndex=0, commits[]
2023-01-19 14:39:13,024 [Time-limited test] WARN  grpc.GrpcUtil (GrpcUtil.java:shutdownManagedChannel(223)) - Timed out gracefully shutting down connection: ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=1082, target=localhost:35517}}. 
2023-01-19 14:39:13,025 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-01-19 14:39:13,025 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-01-19 14:39:13,025 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2023-01-19 14:39:13,025 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-01-19 14:39:13,025 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-01-19 14:39:13,025 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-5D340570638E:t2, leader=s2, voted=s2, raftlog=Memoized:s0@group-5D340570638E-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-5D340570638E:t2, leader=s2, voted=s2, raftlog=Memoized:s1@group-5D340570638E-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-5D340570638E:t2, leader=s2, voted=s2, raftlog=Memoized:s2@group-5D340570638E-SegmentedRaftLog:OPENED:c6, conf=5: peers:[s0|rpc:localhost:34079|admin:localhost:46811|client:localhost:35517|dataStream:localhost:39109|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34663|admin:localhost:38235|client:localhost:38247|dataStream:localhost:37731|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36305|admin:localhost:43943|client:localhost:36247|dataStream:localhost:35421|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-01-19 14:39:13,026 [MiniRaftCluster-26] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s0: close
2023-01-19 14:39:13,028 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s0@group-5D340570638E: shutdown
2023-01-19 14:39:13,028 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-5D340570638E,id=s0
2023-01-19 14:39:13,028 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-5D340570638E-FollowerState
2023-01-19 14:39:13,028 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-5D340570638E-StateMachineUpdater: set stopIndex = 6
2023-01-19 14:39:13,028 [MiniRaftCluster-27] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s1: close
2023-01-19 14:39:13,028 [s0@group-5D340570638E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-5D340570638E-FollowerState was interrupted
2023-01-19 14:39:13,028 [MiniRaftCluster-26] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-01-19 14:39:13,028 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s0@group-5D340570638E: applyIndex: 6
2023-01-19 14:39:13,029 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s1@group-5D340570638E: shutdown
2023-01-19 14:39:13,029 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-5D340570638E,id=s1
2023-01-19 14:39:13,029 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-5D340570638E-FollowerState
2023-01-19 14:39:13,029 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-5D340570638E-StateMachineUpdater: set stopIndex = 6
2023-01-19 14:39:13,029 [s1@group-5D340570638E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-5D340570638E-FollowerState was interrupted
2023-01-19 14:39:13,029 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s1@group-5D340570638E: applyIndex: 6
2023-01-19 14:39:13,029 [s1@group-5D340570638E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s1@group-5D340570638E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2023-01-19 14:39:13,029 [MiniRaftCluster-27] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-01-19 14:39:13,031 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s1@group-5D340570638E-SegmentedRaftLogWorker close()
2023-01-19 14:39:13,029 [s0@group-5D340570638E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s0@group-5D340570638E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2023-01-19 14:39:13,038 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s0@group-5D340570638E-SegmentedRaftLogWorker close()
2023-01-19 14:39:13,038 [MiniRaftCluster-28] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(412)) - s2: close
2023-01-19 14:39:13,039 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(462)) - s2@group-5D340570638E: shutdown
2023-01-19 14:39:13,040 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-5D340570638E,id=s2
2023-01-19 14:39:13,040 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-5D340570638E-LeaderStateImpl
2023-01-19 14:39:13,040 [s2-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s2@group-5D340570638E-PendingRequests: sendNotLeaderResponses
2023-01-19 14:39:13,040 [s2@group-5D340570638E->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s2@group-5D340570638E->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2023-01-19 14:39:13,040 [s2@group-5D340570638E->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(199)) - s2@group-5D340570638E->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2023-01-19 14:39:13,042 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-5D340570638E-StateMachineUpdater: set stopIndex = 6
2023-01-19 14:39:13,043 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s2@group-5D340570638E: applyIndex: 6
2023-01-19 14:39:13,043 [s2@group-5D340570638E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:run(334)) - s2@group-5D340570638E-SegmentedRaftLogWorker was interrupted, exiting. There are 0 tasks remaining in the queue.
2023-01-19 14:39:13,043 [grpc-default-executor-9] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s0: Completed APPEND_ENTRIES, lastRequest: s2->s0#2-t2,previous=(t:2, i:5),leaderCommit=5,initializing? true,entries: size=1, first=(t:2, i:6), METADATAENTRY(c:5)
2023-01-19 14:39:13,046 [grpc-default-executor-10] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s1: Completed APPEND_ENTRIES, lastRequest: s2->s1#7-t2,previous=(t:2, i:5),leaderCommit=5,initializing? true,entries: size=1, first=(t:2, i:6), METADATAENTRY(c:5)
2023-01-19 14:39:13,046 [ForkJoinPool.commonPool-worker-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s0 Close channels
2023-01-19 14:39:13,046 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s2@group-5D340570638E->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-01-19 14:39:13,046 [grpc-default-executor-0] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s2@group-5D340570638E->s0: nextIndex: updateUnconditionally 7 -> 6
2023-01-19 14:39:13,047 [ForkJoinPool.commonPool-worker-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s2 Close channels
2023-01-19 14:39:13,043 [MiniRaftCluster-26] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s1 Close channels
2023-01-19 14:39:13,046 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s2@group-5D340570638E->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-01-19 14:39:13,047 [grpc-default-executor-4] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s2@group-5D340570638E->s1: nextIndex: updateUnconditionally 7 -> 6
2023-01-19 14:39:13,044 [grpc-default-executor-2] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s1: Completed APPEND_ENTRIES, lastRequest: null
2023-01-19 14:39:13,044 [grpc-default-executor-6] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(143)) - s0: Completed APPEND_ENTRIES, lastRequest: null
2023-01-19 14:39:13,044 [MiniRaftCluster-28] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-01-19 14:39:13,044 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(247)) - s2@group-5D340570638E-SegmentedRaftLogWorker close()
2023-01-19 14:39:13,048 [MiniRaftCluster-27] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-01-19 14:39:13,048 [MiniRaftCluster-27] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server GrpcServerProtocolService now
2023-01-19 14:39:13,048 [ForkJoinPool.commonPool-worker-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s0 Close channels
2023-01-19 14:39:13,049 [grpc-default-executor-6] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s2@group-5D340570638E->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-01-19 14:39:13,049 [grpc-default-executor-6] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(48)) - s2@group-5D340570638E->s1: nextIndex: updateUnconditionally 6 -> 5
2023-01-19 14:39:13,053 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(413)) - s2@group-5D340570638E->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-01-19 14:39:13,054 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(136)) - s2@group-5D340570638E->s0-GrpcLogAppender: Failed to getClient for s0
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s2 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:61)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:115)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:115)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:120)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$500(GrpcLogAppender.java:57)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:414)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:485)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-01-19 14:39:13,055 [ForkJoinPool.commonPool-worker-3] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s1 Close channels
2023-01-19 14:39:13,056 [MiniRaftCluster-26] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(101)) - s2 Close channels
2023-01-19 14:39:13,057 [MiniRaftCluster-28] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-01-19 14:39:13,057 [MiniRaftCluster-28] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server GrpcServerProtocolService now
2023-01-19 14:39:13,057 [MiniRaftCluster-27] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server GrpcServerProtocolService successfully
2023-01-19 14:39:13,057 [MiniRaftCluster-27] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-01-19 14:39:13,057 [MiniRaftCluster-26] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-01-19 14:39:13,058 [MiniRaftCluster-26] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server GrpcServerProtocolService now
2023-01-19 14:39:13,058 [MiniRaftCluster-27] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-01-19 14:39:13,058 [MiniRaftCluster-26] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server GrpcServerProtocolService successfully
2023-01-19 14:39:13,058 [MiniRaftCluster-26] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-01-19 14:39:13,057 [MiniRaftCluster-28] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server GrpcServerProtocolService successfully
2023-01-19 14:39:13,058 [MiniRaftCluster-28] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-01-19 14:39:13,058 [JvmPauseMonitor26] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s1: Stopped
2023-01-19 14:39:13,058 [MiniRaftCluster-26] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-01-19 14:39:13,059 [MiniRaftCluster-28] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-01-19 14:39:13,059 [JvmPauseMonitor27] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s2: Stopped
2023-01-19 14:39:13,059 [JvmPauseMonitor25] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(111)) - JvmPauseMonitor-s0: Stopped
2023-01-19 14:39:13,060 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
