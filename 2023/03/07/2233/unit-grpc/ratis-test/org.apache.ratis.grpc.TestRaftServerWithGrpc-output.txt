2023-03-07 04:43:43,520 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-03-07 04:43:43,522 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-03-07 04:43:43,526 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2023-03-07 04:43:43,542 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2023-03-07 04:43:43,578 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-D2CDEDC2AEFE:[s0|rpc:localhost:46733|admin:localhost:35473|client:localhost:42963|dataStream:localhost:44879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46563|admin:localhost:42297|client:localhost:38405|dataStream:localhost:33787|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37293|admin:localhost:39857|client:localhost:35501|dataStream:localhost:41239|priority:0|startupRole:FOLLOWER]
2023-03-07 04:43:43,578 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-03-07 04:43:43,578 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-03-07 04:43:43,578 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2023-03-07 04:43:43,578 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-03-07 04:43:43,578 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-03-07 04:43:43,579 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-03-07 04:43:43,590 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-D2CDEDC2AEFE:[s0|rpc:localhost:46733|admin:localhost:35473|client:localhost:42963|dataStream:localhost:44879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46563|admin:localhost:42297|client:localhost:38405|dataStream:localhost:33787|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37293|admin:localhost:39857|client:localhost:35501|dataStream:localhost:41239|priority:0|startupRole:FOLLOWER], format? true
2023-03-07 04:43:43,592 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/ac5303ae/MiniRaftClusterWithGrpc1107eba9/s0
2023-03-07 04:43:43,592 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/ac5303ae/MiniRaftClusterWithGrpc1107eba9/s0 does not exist.
2023-03-07 04:43:43,592 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/ac5303ae/MiniRaftClusterWithGrpc1107eba9/s0
2023-03-07 04:43:43,607 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-03-07 04:43:43,658 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:43:43,659 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 35473 (custom)
2023-03-07 04:43:43,660 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:43:43,660 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 42963 (custom)
2023-03-07 04:43:43,660 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-07 04:43:43,661 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 46733 (custom)
2023-03-07 04:43:43,661 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:43:43,663 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:43:43,664 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:43:43,665 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-07 04:43:43,685 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-03-07 04:43:43,696 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-07 04:43:43,696 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-07 04:43:43,879 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-07 04:43:43,882 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-07 04:43:43,882 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-07 04:43:43,883 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-07 04:43:43,884 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-07 04:43:43,887 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc1107eba9/s0] (custom)
2023-03-07 04:43:43,901 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-D2CDEDC2AEFE:[s0|rpc:localhost:46733|admin:localhost:35473|client:localhost:42963|dataStream:localhost:44879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46563|admin:localhost:42297|client:localhost:38405|dataStream:localhost:33787|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37293|admin:localhost:39857|client:localhost:35501|dataStream:localhost:41239|priority:0|startupRole:FOLLOWER] returns group-D2CDEDC2AEFE:java.util.concurrent.CompletableFuture@4079827b[Not completed]
2023-03-07 04:43:43,901 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-D2CDEDC2AEFE:[s0|rpc:localhost:46733|admin:localhost:35473|client:localhost:42963|dataStream:localhost:44879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46563|admin:localhost:42297|client:localhost:38405|dataStream:localhost:33787|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37293|admin:localhost:39857|client:localhost:35501|dataStream:localhost:41239|priority:0|startupRole:FOLLOWER], format? true
2023-03-07 04:43:43,901 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/ac5303ae/MiniRaftClusterWithGrpc1107eba9/s1
2023-03-07 04:43:43,901 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/ac5303ae/MiniRaftClusterWithGrpc1107eba9/s1 does not exist.
2023-03-07 04:43:43,901 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/ac5303ae/MiniRaftClusterWithGrpc1107eba9/s1
2023-03-07 04:43:43,902 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-03-07 04:43:43,902 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:43:43,902 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 42297 (custom)
2023-03-07 04:43:43,902 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:43:43,902 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 38405 (custom)
2023-03-07 04:43:43,903 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-07 04:43:43,903 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 46563 (custom)
2023-03-07 04:43:43,903 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:43:43,903 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:43:43,903 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:43:43,903 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-07 04:43:43,903 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-03-07 04:43:43,903 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-07 04:43:43,904 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-07 04:43:43,907 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-07 04:43:43,907 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-07 04:43:43,907 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-07 04:43:43,907 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-07 04:43:43,907 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-07 04:43:43,908 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc1107eba9/s1] (custom)
2023-03-07 04:43:43,920 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-D2CDEDC2AEFE:[s0|rpc:localhost:46733|admin:localhost:35473|client:localhost:42963|dataStream:localhost:44879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46563|admin:localhost:42297|client:localhost:38405|dataStream:localhost:33787|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37293|admin:localhost:39857|client:localhost:35501|dataStream:localhost:41239|priority:0|startupRole:FOLLOWER] returns group-D2CDEDC2AEFE:java.util.concurrent.CompletableFuture@7e3fa595[Not completed]
2023-03-07 04:43:43,921 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-D2CDEDC2AEFE:[s0|rpc:localhost:46733|admin:localhost:35473|client:localhost:42963|dataStream:localhost:44879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46563|admin:localhost:42297|client:localhost:38405|dataStream:localhost:33787|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37293|admin:localhost:39857|client:localhost:35501|dataStream:localhost:41239|priority:0|startupRole:FOLLOWER], format? true
2023-03-07 04:43:43,921 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/ac5303ae/MiniRaftClusterWithGrpc1107eba9/s2
2023-03-07 04:43:43,921 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/ac5303ae/MiniRaftClusterWithGrpc1107eba9/s2 does not exist.
2023-03-07 04:43:43,921 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/ac5303ae/MiniRaftClusterWithGrpc1107eba9/s2
2023-03-07 04:43:43,921 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-03-07 04:43:43,921 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:43:43,922 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 39857 (custom)
2023-03-07 04:43:43,922 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:43:43,922 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 35501 (custom)
2023-03-07 04:43:43,922 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-07 04:43:43,922 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 37293 (custom)
2023-03-07 04:43:43,927 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:43:43,927 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:43:43,927 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:43:43,927 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-07 04:43:43,927 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-03-07 04:43:43,928 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-07 04:43:43,928 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-07 04:43:43,929 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-07 04:43:43,929 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-07 04:43:43,929 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-07 04:43:43,930 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-07 04:43:43,930 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-07 04:43:43,930 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc1107eba9/s2] (custom)
2023-03-07 04:43:43,930 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:43:43,937 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-07 04:43:43,937 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-07 04:43:43,940 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-D2CDEDC2AEFE:[s0|rpc:localhost:46733|admin:localhost:35473|client:localhost:42963|dataStream:localhost:44879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46563|admin:localhost:42297|client:localhost:38405|dataStream:localhost:33787|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37293|admin:localhost:39857|client:localhost:35501|dataStream:localhost:41239|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-03-07 04:43:43,936 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-D2CDEDC2AEFE:[s0|rpc:localhost:46733|admin:localhost:35473|client:localhost:42963|dataStream:localhost:44879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46563|admin:localhost:42297|client:localhost:38405|dataStream:localhost:33787|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37293|admin:localhost:39857|client:localhost:35501|dataStream:localhost:41239|priority:0|startupRole:FOLLOWER] returns group-D2CDEDC2AEFE:java.util.concurrent.CompletableFuture@5c77a5b9[Not completed]
2023-03-07 04:43:43,927 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:43:43,944 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-07 04:43:43,944 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-07 04:43:43,944 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-D2CDEDC2AEFE:[s0|rpc:localhost:46733|admin:localhost:35473|client:localhost:42963|dataStream:localhost:44879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46563|admin:localhost:42297|client:localhost:38405|dataStream:localhost:33787|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37293|admin:localhost:39857|client:localhost:35501|dataStream:localhost:41239|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-03-07 04:43:43,947 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:43:43,948 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-07 04:43:43,948 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-07 04:43:43,948 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-07 04:43:43,949 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-07 04:43:43,949 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-D2CDEDC2AEFE:[s0|rpc:localhost:46733|admin:localhost:35473|client:localhost:42963|dataStream:localhost:44879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46563|admin:localhost:42297|client:localhost:38405|dataStream:localhost:33787|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37293|admin:localhost:39857|client:localhost:35501|dataStream:localhost:41239|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-03-07 04:43:43,949 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-07 04:43:43,949 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-07 04:43:43,949 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-07 04:43:43,949 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-07 04:43:43,949 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-07 04:43:43,950 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-07 04:43:43,949 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-07 04:43:43,951 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-07 04:43:43,951 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-07 04:43:43,951 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-07 04:43:43,951 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-07 04:43:43,951 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-07 04:43:43,951 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-07 04:43:43,952 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-07 04:43:43,953 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-07 04:43:43,954 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-07 04:43:43,961 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-D2CDEDC2AEFE: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:46733|admin:localhost:35473|client:localhost:42963|dataStream:localhost:44879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46563|admin:localhost:42297|client:localhost:38405|dataStream:localhost:33787|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37293|admin:localhost:39857|client:localhost:35501|dataStream:localhost:41239|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-07 04:43:43,970 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-D2CDEDC2AEFE: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:46733|admin:localhost:35473|client:localhost:42963|dataStream:localhost:44879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46563|admin:localhost:42297|client:localhost:38405|dataStream:localhost:33787|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37293|admin:localhost:39857|client:localhost:35501|dataStream:localhost:41239|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-07 04:43:43,972 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-D2CDEDC2AEFE: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:46733|admin:localhost:35473|client:localhost:42963|dataStream:localhost:44879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46563|admin:localhost:42297|client:localhost:38405|dataStream:localhost:33787|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37293|admin:localhost:39857|client:localhost:35501|dataStream:localhost:41239|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-07 04:43:43,976 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-07 04:43:43,978 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-07 04:43:43,974 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-07 04:43:43,983 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-07 04:43:43,982 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-07 04:43:43,983 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-07 04:43:43,985 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-07 04:43:43,985 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-07 04:43:43,985 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-07 04:43:43,988 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-07 04:43:43,988 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-07 04:43:43,988 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-07 04:43:43,999 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-07 04:43:43,999 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-07 04:43:44,008 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-07 04:43:44,009 [s0-groupManagement] INFO  metrics.MetricRegistries (MetricRegistriesLoader.java:load(64)) - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2023-03-07 04:43:44,135 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-07 04:43:44,135 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-07 04:43:44,136 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-07 04:43:44,136 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-07 04:43:44,136 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-07 04:43:44,137 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-07 04:43:44,137 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-07 04:43:44,137 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-07 04:43:44,137 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-07 04:43:44,137 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-07 04:43:44,138 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-07 04:43:44,138 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-07 04:43:44,139 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc1107eba9/s0] (custom)
2023-03-07 04:43:44,140 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-07 04:43:44,140 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-07 04:43:44,140 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-07 04:43:44,140 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-07 04:43:44,140 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-07 04:43:44,147 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc1107eba9/s0/c37b9f36-e8a6-40d5-a8d2-d2cdedc2aefe does not exist. Creating ...
2023-03-07 04:43:44,148 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc1107eba9/s0/c37b9f36-e8a6-40d5-a8d2-d2cdedc2aefe
2023-03-07 04:43:44,158 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc1107eba9/s0/c37b9f36-e8a6-40d5-a8d2-d2cdedc2aefe/in_use.lock acquired by nodename 17652@fv-az443-797
2023-03-07 04:43:44,159 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc1107eba9/s0/c37b9f36-e8a6-40d5-a8d2-d2cdedc2aefe/current
2023-03-07 04:43:44,159 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc1107eba9/s0/c37b9f36-e8a6-40d5-a8d2-d2cdedc2aefe/sm
2023-03-07 04:43:44,170 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc1107eba9/s0/c37b9f36-e8a6-40d5-a8d2-d2cdedc2aefe has been successfully formatted.
2023-03-07 04:43:44,170 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-03-07 04:43:44,172 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-03-07 04:43:44,173 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-07 04:43:44,178 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-07 04:43:44,178 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:43:44,179 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-07 04:43:44,180 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-07 04:43:44,182 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:43:44,185 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-07 04:43:44,186 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-07 04:43:44,186 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:43:44,189 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s0@group-D2CDEDC2AEFE-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc1107eba9/s0/c37b9f36-e8a6-40d5-a8d2-d2cdedc2aefe
2023-03-07 04:43:44,189 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-07 04:43:44,189 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-07 04:43:44,191 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:43:44,191 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-07 04:43:44,191 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-07 04:43:44,192 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-07 04:43:44,192 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-07 04:43:44,192 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-07 04:43:44,194 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-07 04:43:44,194 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:43:44,196 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-07 04:43:44,196 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-07 04:43:44,197 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-07 04:43:44,201 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-D2CDEDC2AEFE-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-07 04:43:44,201 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-D2CDEDC2AEFE-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-07 04:43:44,202 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s0@group-D2CDEDC2AEFE: start as a follower, conf=-1: peers:[s0|rpc:localhost:46733|admin:localhost:35473|client:localhost:42963|dataStream:localhost:44879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46563|admin:localhost:42297|client:localhost:38405|dataStream:localhost:33787|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37293|admin:localhost:39857|client:localhost:35501|dataStream:localhost:41239|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:43:44,203 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-D2CDEDC2AEFE: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-07 04:43:44,203 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-D2CDEDC2AEFE-FollowerState
2023-03-07 04:43:44,206 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-D2CDEDC2AEFE,id=s0
2023-03-07 04:43:44,207 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-07 04:43:44,208 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-07 04:43:44,208 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-07 04:43:44,214 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s0: start RPC server
2023-03-07 04:43:44,216 [s0@group-D2CDEDC2AEFE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:43:44,217 [s0@group-D2CDEDC2AEFE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:43:44,253 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 42963
2023-03-07 04:43:44,256 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 46733
2023-03-07 04:43:44,257 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 35473
2023-03-07 04:43:44,263 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-07 04:43:44,263 [JvmPauseMonitor0] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2023-03-07 04:43:44,263 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-07 04:43:44,266 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc1107eba9/s1] (custom)
2023-03-07 04:43:44,267 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc1107eba9/s1/c37b9f36-e8a6-40d5-a8d2-d2cdedc2aefe does not exist. Creating ...
2023-03-07 04:43:44,267 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc1107eba9/s1/c37b9f36-e8a6-40d5-a8d2-d2cdedc2aefe
2023-03-07 04:43:44,269 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc1107eba9/s1/c37b9f36-e8a6-40d5-a8d2-d2cdedc2aefe/in_use.lock acquired by nodename 17652@fv-az443-797
2023-03-07 04:43:44,269 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc1107eba9/s1/c37b9f36-e8a6-40d5-a8d2-d2cdedc2aefe/current
2023-03-07 04:43:44,270 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc1107eba9/s1/c37b9f36-e8a6-40d5-a8d2-d2cdedc2aefe/sm
2023-03-07 04:43:44,287 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc1107eba9/s1/c37b9f36-e8a6-40d5-a8d2-d2cdedc2aefe has been successfully formatted.
2023-03-07 04:43:44,288 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-03-07 04:43:44,288 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-03-07 04:43:44,289 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-07 04:43:44,289 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-07 04:43:44,289 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:43:44,289 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-07 04:43:44,289 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-07 04:43:44,290 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:43:44,291 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-07 04:43:44,291 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-07 04:43:44,291 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:43:44,291 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s1@group-D2CDEDC2AEFE-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc1107eba9/s1/c37b9f36-e8a6-40d5-a8d2-d2cdedc2aefe
2023-03-07 04:43:44,296 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-07 04:43:44,296 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-07 04:43:44,296 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:43:44,296 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-07 04:43:44,296 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-07 04:43:44,296 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-07 04:43:44,297 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-07 04:43:44,297 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-07 04:43:44,297 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-07 04:43:44,298 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:43:44,299 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-07 04:43:44,300 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-07 04:43:44,300 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-07 04:43:44,300 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-D2CDEDC2AEFE-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-07 04:43:44,301 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-D2CDEDC2AEFE-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-07 04:43:44,301 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s1@group-D2CDEDC2AEFE: start as a follower, conf=-1: peers:[s0|rpc:localhost:46733|admin:localhost:35473|client:localhost:42963|dataStream:localhost:44879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46563|admin:localhost:42297|client:localhost:38405|dataStream:localhost:33787|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37293|admin:localhost:39857|client:localhost:35501|dataStream:localhost:41239|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:43:44,301 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-D2CDEDC2AEFE: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-07 04:43:44,301 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-D2CDEDC2AEFE-FollowerState
2023-03-07 04:43:44,304 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-D2CDEDC2AEFE,id=s1
2023-03-07 04:43:44,307 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-07 04:43:44,307 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-07 04:43:44,307 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-07 04:43:44,309 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s1: start RPC server
2023-03-07 04:43:44,315 [s1@group-D2CDEDC2AEFE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:43:44,315 [s1@group-D2CDEDC2AEFE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:43:44,316 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 38405
2023-03-07 04:43:44,317 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 46563
2023-03-07 04:43:44,318 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 42297
2023-03-07 04:43:44,318 [JvmPauseMonitor1] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2023-03-07 04:43:44,319 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-07 04:43:44,319 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-07 04:43:44,319 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc1107eba9/s2] (custom)
2023-03-07 04:43:44,319 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc1107eba9/s2/c37b9f36-e8a6-40d5-a8d2-d2cdedc2aefe does not exist. Creating ...
2023-03-07 04:43:44,319 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc1107eba9/s2/c37b9f36-e8a6-40d5-a8d2-d2cdedc2aefe
2023-03-07 04:43:44,321 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc1107eba9/s2/c37b9f36-e8a6-40d5-a8d2-d2cdedc2aefe/in_use.lock acquired by nodename 17652@fv-az443-797
2023-03-07 04:43:44,321 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc1107eba9/s2/c37b9f36-e8a6-40d5-a8d2-d2cdedc2aefe/current
2023-03-07 04:43:44,321 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc1107eba9/s2/c37b9f36-e8a6-40d5-a8d2-d2cdedc2aefe/sm
2023-03-07 04:43:44,323 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc1107eba9/s2/c37b9f36-e8a6-40d5-a8d2-d2cdedc2aefe has been successfully formatted.
2023-03-07 04:43:44,324 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-03-07 04:43:44,324 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-03-07 04:43:44,324 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-07 04:43:44,324 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-07 04:43:44,324 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:43:44,324 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-07 04:43:44,324 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-07 04:43:44,325 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:43:44,325 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-07 04:43:44,326 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-07 04:43:44,326 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:43:44,326 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s2@group-D2CDEDC2AEFE-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc1107eba9/s2/c37b9f36-e8a6-40d5-a8d2-d2cdedc2aefe
2023-03-07 04:43:44,326 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-07 04:43:44,326 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-07 04:43:44,327 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:43:44,327 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-07 04:43:44,327 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-07 04:43:44,327 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-07 04:43:44,327 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-07 04:43:44,328 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-07 04:43:44,328 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-07 04:43:44,328 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:43:44,330 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-07 04:43:44,330 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-07 04:43:44,331 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-07 04:43:44,331 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-D2CDEDC2AEFE-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-07 04:43:44,331 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-D2CDEDC2AEFE-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-07 04:43:44,332 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s2@group-D2CDEDC2AEFE: start as a follower, conf=-1: peers:[s0|rpc:localhost:46733|admin:localhost:35473|client:localhost:42963|dataStream:localhost:44879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46563|admin:localhost:42297|client:localhost:38405|dataStream:localhost:33787|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37293|admin:localhost:39857|client:localhost:35501|dataStream:localhost:41239|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:43:44,332 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-D2CDEDC2AEFE: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-07 04:43:44,332 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-D2CDEDC2AEFE-FollowerState
2023-03-07 04:43:44,336 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-D2CDEDC2AEFE,id=s2
2023-03-07 04:43:44,337 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-07 04:43:44,337 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-07 04:43:44,337 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-07 04:43:44,338 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s2: start RPC server
2023-03-07 04:43:44,339 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 35501
2023-03-07 04:43:44,340 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 37293
2023-03-07 04:43:44,341 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 39857
2023-03-07 04:43:44,342 [JvmPauseMonitor2] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2023-03-07 04:43:44,343 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-07 04:43:44,346 [s2@group-D2CDEDC2AEFE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:43:44,346 [s2@group-D2CDEDC2AEFE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:43:44,347 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-D2CDEDC2AEFE:t0, leader=null, voted=, raftlog=Memoized:s0@group-D2CDEDC2AEFE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46733|admin:localhost:35473|client:localhost:42963|dataStream:localhost:44879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46563|admin:localhost:42297|client:localhost:38405|dataStream:localhost:33787|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37293|admin:localhost:39857|client:localhost:35501|dataStream:localhost:41239|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-D2CDEDC2AEFE:t0, leader=null, voted=, raftlog=Memoized:s1@group-D2CDEDC2AEFE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46733|admin:localhost:35473|client:localhost:42963|dataStream:localhost:44879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46563|admin:localhost:42297|client:localhost:38405|dataStream:localhost:33787|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37293|admin:localhost:39857|client:localhost:35501|dataStream:localhost:41239|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-D2CDEDC2AEFE:t0, leader=null, voted=, raftlog=Memoized:s2@group-D2CDEDC2AEFE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46733|admin:localhost:35473|client:localhost:42963|dataStream:localhost:44879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46563|admin:localhost:42297|client:localhost:38405|dataStream:localhost:33787|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37293|admin:localhost:39857|client:localhost:35501|dataStream:localhost:41239|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-07 04:43:44,351 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-D2CDEDC2AEFE:t0, leader=null, voted=, raftlog=Memoized:s0@group-D2CDEDC2AEFE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46733|admin:localhost:35473|client:localhost:42963|dataStream:localhost:44879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46563|admin:localhost:42297|client:localhost:38405|dataStream:localhost:33787|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37293|admin:localhost:39857|client:localhost:35501|dataStream:localhost:41239|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-D2CDEDC2AEFE:t0, leader=null, voted=, raftlog=Memoized:s1@group-D2CDEDC2AEFE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46733|admin:localhost:35473|client:localhost:42963|dataStream:localhost:44879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46563|admin:localhost:42297|client:localhost:38405|dataStream:localhost:33787|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37293|admin:localhost:39857|client:localhost:35501|dataStream:localhost:41239|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-D2CDEDC2AEFE:t0, leader=null, voted=, raftlog=Memoized:s2@group-D2CDEDC2AEFE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46733|admin:localhost:35473|client:localhost:42963|dataStream:localhost:44879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46563|admin:localhost:42297|client:localhost:38405|dataStream:localhost:33787|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37293|admin:localhost:39857|client:localhost:35501|dataStream:localhost:41239|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-D2CDEDC2AEFE:t0, leader=null, voted=, raftlog=Memoized:s0@group-D2CDEDC2AEFE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46733|admin:localhost:35473|client:localhost:42963|dataStream:localhost:44879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46563|admin:localhost:42297|client:localhost:38405|dataStream:localhost:33787|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37293|admin:localhost:39857|client:localhost:35501|dataStream:localhost:41239|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-D2CDEDC2AEFE:t0, leader=null, voted=, raftlog=Memoized:s1@group-D2CDEDC2AEFE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46733|admin:localhost:35473|client:localhost:42963|dataStream:localhost:44879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46563|admin:localhost:42297|client:localhost:38405|dataStream:localhost:33787|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37293|admin:localhost:39857|client:localhost:35501|dataStream:localhost:41239|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-D2CDEDC2AEFE:t0, leader=null, voted=, raftlog=Memoized:s2@group-D2CDEDC2AEFE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46733|admin:localhost:35473|client:localhost:42963|dataStream:localhost:44879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46563|admin:localhost:42297|client:localhost:38405|dataStream:localhost:33787|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37293|admin:localhost:39857|client:localhost:35501|dataStream:localhost:41239|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientRequestMetrics(TestRaftServerWithGrpc.java:308)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientMetrics(TestRaftServerWithGrpc.java:219)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-07 04:43:44,400 [s0@group-D2CDEDC2AEFE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-D2CDEDC2AEFE-FollowerState: change to CANDIDATE, lastRpcElapsedTime:196297023ns, electionTimeout:182ms
2023-03-07 04:43:44,400 [s0@group-D2CDEDC2AEFE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-D2CDEDC2AEFE-FollowerState
2023-03-07 04:43:44,400 [s0@group-D2CDEDC2AEFE-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-D2CDEDC2AEFE: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-03-07 04:43:44,402 [s0@group-D2CDEDC2AEFE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-07 04:43:44,403 [s0@group-D2CDEDC2AEFE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-D2CDEDC2AEFE-LeaderElection1
2023-03-07 04:43:44,407 [s0@group-D2CDEDC2AEFE-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-D2CDEDC2AEFE-LeaderElection1 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:46733|admin:localhost:35473|client:localhost:42963|dataStream:localhost:44879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46563|admin:localhost:42297|client:localhost:38405|dataStream:localhost:33787|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37293|admin:localhost:39857|client:localhost:35501|dataStream:localhost:41239|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:43:44,422 [s0@group-D2CDEDC2AEFE-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:43:44,422 [s0@group-D2CDEDC2AEFE-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:43:44,423 [s0@group-D2CDEDC2AEFE-LeaderElection1-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(64)) - Build channel for s1
2023-03-07 04:43:44,428 [s0@group-D2CDEDC2AEFE-LeaderElection1-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(64)) - Build channel for s2
2023-03-07 04:43:44,510 [s2@group-D2CDEDC2AEFE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-D2CDEDC2AEFE-FollowerState: change to CANDIDATE, lastRpcElapsedTime:178180598ns, electionTimeout:164ms
2023-03-07 04:43:44,510 [s2@group-D2CDEDC2AEFE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-D2CDEDC2AEFE-FollowerState
2023-03-07 04:43:44,511 [s2@group-D2CDEDC2AEFE-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-D2CDEDC2AEFE: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-03-07 04:43:44,511 [s2@group-D2CDEDC2AEFE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-07 04:43:44,511 [s2@group-D2CDEDC2AEFE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-D2CDEDC2AEFE-LeaderElection2
2023-03-07 04:43:44,516 [s2@group-D2CDEDC2AEFE-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-D2CDEDC2AEFE-LeaderElection2 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:46733|admin:localhost:35473|client:localhost:42963|dataStream:localhost:44879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46563|admin:localhost:42297|client:localhost:38405|dataStream:localhost:33787|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37293|admin:localhost:39857|client:localhost:35501|dataStream:localhost:41239|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:43:44,518 [s2@group-D2CDEDC2AEFE-LeaderElection2-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(64)) - Build channel for s0
2023-03-07 04:43:44,519 [s2@group-D2CDEDC2AEFE-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:43:44,525 [s2@group-D2CDEDC2AEFE-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:43:44,525 [s1@group-D2CDEDC2AEFE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-D2CDEDC2AEFE-FollowerState: change to CANDIDATE, lastRpcElapsedTime:224002021ns, electionTimeout:206ms
2023-03-07 04:43:44,525 [s1@group-D2CDEDC2AEFE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-D2CDEDC2AEFE-FollowerState
2023-03-07 04:43:44,525 [s1@group-D2CDEDC2AEFE-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-D2CDEDC2AEFE: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-03-07 04:43:44,526 [s1@group-D2CDEDC2AEFE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-07 04:43:44,526 [s1@group-D2CDEDC2AEFE-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-D2CDEDC2AEFE-LeaderElection3
2023-03-07 04:43:44,530 [s1@group-D2CDEDC2AEFE-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-D2CDEDC2AEFE-LeaderElection3 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:46733|admin:localhost:35473|client:localhost:42963|dataStream:localhost:44879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46563|admin:localhost:42297|client:localhost:38405|dataStream:localhost:33787|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37293|admin:localhost:39857|client:localhost:35501|dataStream:localhost:41239|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:43:44,531 [s1@group-D2CDEDC2AEFE-LeaderElection3-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(64)) - Build channel for s0
2023-03-07 04:43:44,532 [s1@group-D2CDEDC2AEFE-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:43:44,537 [s1@group-D2CDEDC2AEFE-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:43:44,535 [s1@group-D2CDEDC2AEFE-LeaderElection3-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(64)) - Build channel for s2
2023-03-07 04:43:44,548 [s2@group-D2CDEDC2AEFE-LeaderElection2-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(64)) - Build channel for s1
2023-03-07 04:43:44,682 [s0@group-D2CDEDC2AEFE-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-D2CDEDC2AEFE-LeaderElection1: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2023-03-07 04:43:44,682 [s0@group-D2CDEDC2AEFE-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-D2CDEDC2AEFE-LeaderElection1 PRE_VOTE round 0: result TIMEOUT
2023-03-07 04:43:44,683 [s0@group-D2CDEDC2AEFE-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-D2CDEDC2AEFE-LeaderElection1 PRE_VOTE round 1: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:46733|admin:localhost:35473|client:localhost:42963|dataStream:localhost:44879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46563|admin:localhost:42297|client:localhost:38405|dataStream:localhost:33787|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37293|admin:localhost:39857|client:localhost:35501|dataStream:localhost:41239|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:43:44,687 [s0@group-D2CDEDC2AEFE-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:43:44,688 [s0@group-D2CDEDC2AEFE-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:43:44,712 [s1@group-D2CDEDC2AEFE-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-D2CDEDC2AEFE-LeaderElection3: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2023-03-07 04:43:44,712 [s1@group-D2CDEDC2AEFE-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-D2CDEDC2AEFE-LeaderElection3 PRE_VOTE round 0: result TIMEOUT
2023-03-07 04:43:44,712 [s1@group-D2CDEDC2AEFE-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-D2CDEDC2AEFE-LeaderElection3 PRE_VOTE round 1: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:46733|admin:localhost:35473|client:localhost:42963|dataStream:localhost:44879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46563|admin:localhost:42297|client:localhost:38405|dataStream:localhost:33787|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37293|admin:localhost:39857|client:localhost:35501|dataStream:localhost:41239|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:43:44,718 [s1@group-D2CDEDC2AEFE-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:43:44,719 [s1@group-D2CDEDC2AEFE-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:43:44,735 [s2@group-D2CDEDC2AEFE-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-D2CDEDC2AEFE-LeaderElection2: PRE_VOTE TIMEOUT received 0 response(s) and 0 exception(s):
2023-03-07 04:43:44,740 [s2@group-D2CDEDC2AEFE-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-D2CDEDC2AEFE-LeaderElection2 PRE_VOTE round 0: result TIMEOUT
2023-03-07 04:43:44,740 [s2@group-D2CDEDC2AEFE-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-D2CDEDC2AEFE-LeaderElection2 PRE_VOTE round 1: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:46733|admin:localhost:35473|client:localhost:42963|dataStream:localhost:44879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46563|admin:localhost:42297|client:localhost:38405|dataStream:localhost:33787|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37293|admin:localhost:39857|client:localhost:35501|dataStream:localhost:41239|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:43:44,740 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s2@group-D2CDEDC2AEFE: receive requestVote(PRE_VOTE, s0, group-D2CDEDC2AEFE, 0, (t:0, i:0))
2023-03-07 04:43:44,739 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s1@group-D2CDEDC2AEFE: receive requestVote(PRE_VOTE, s0, group-D2CDEDC2AEFE, 0, (t:0, i:0))
2023-03-07 04:43:44,739 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s2@group-D2CDEDC2AEFE: receive requestVote(PRE_VOTE, s0, group-D2CDEDC2AEFE, 0, (t:0, i:0))
2023-03-07 04:43:44,748 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-D2CDEDC2AEFE-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-03-07 04:43:44,738 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s0@group-D2CDEDC2AEFE: receive requestVote(PRE_VOTE, s2, group-D2CDEDC2AEFE, 0, (t:0, i:0))
2023-03-07 04:43:44,742 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-D2CDEDC2AEFE-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-03-07 04:43:44,740 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s1@group-D2CDEDC2AEFE: receive requestVote(PRE_VOTE, s0, group-D2CDEDC2AEFE, 0, (t:0, i:0))
2023-03-07 04:43:44,749 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-D2CDEDC2AEFE-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-03-07 04:43:44,750 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s2@group-D2CDEDC2AEFE: receive requestVote(PRE_VOTE, s1, group-D2CDEDC2AEFE, 0, (t:0, i:0))
2023-03-07 04:43:44,750 [s2@group-D2CDEDC2AEFE-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:43:44,750 [s2@group-D2CDEDC2AEFE-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:43:44,751 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s0@group-D2CDEDC2AEFE replies to PRE_VOTE vote request: s2<-s0#0:OK-t0. Peer's state: s0@group-D2CDEDC2AEFE:t0, leader=null, voted=, raftlog=Memoized:s0@group-D2CDEDC2AEFE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46733|admin:localhost:35473|client:localhost:42963|dataStream:localhost:44879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46563|admin:localhost:42297|client:localhost:38405|dataStream:localhost:33787|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37293|admin:localhost:39857|client:localhost:35501|dataStream:localhost:41239|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:43:44,753 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s1@group-D2CDEDC2AEFE replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-D2CDEDC2AEFE:t0, leader=null, voted=, raftlog=Memoized:s1@group-D2CDEDC2AEFE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46733|admin:localhost:35473|client:localhost:42963|dataStream:localhost:44879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46563|admin:localhost:42297|client:localhost:38405|dataStream:localhost:33787|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37293|admin:localhost:39857|client:localhost:35501|dataStream:localhost:41239|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:43:44,753 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-D2CDEDC2AEFE-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-03-07 04:43:44,763 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s1@group-D2CDEDC2AEFE replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-D2CDEDC2AEFE:t0, leader=null, voted=, raftlog=Memoized:s1@group-D2CDEDC2AEFE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46733|admin:localhost:35473|client:localhost:42963|dataStream:localhost:44879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46563|admin:localhost:42297|client:localhost:38405|dataStream:localhost:33787|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37293|admin:localhost:39857|client:localhost:35501|dataStream:localhost:41239|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:43:44,761 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s1@group-D2CDEDC2AEFE: receive requestVote(PRE_VOTE, s2, group-D2CDEDC2AEFE, 0, (t:0, i:0))
2023-03-07 04:43:44,768 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-D2CDEDC2AEFE-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-03-07 04:43:44,760 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s0@group-D2CDEDC2AEFE: receive requestVote(PRE_VOTE, s1, group-D2CDEDC2AEFE, 0, (t:0, i:0))
2023-03-07 04:43:44,771 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-D2CDEDC2AEFE-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-03-07 04:43:44,771 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s0@group-D2CDEDC2AEFE replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-D2CDEDC2AEFE:t0, leader=null, voted=, raftlog=Memoized:s0@group-D2CDEDC2AEFE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46733|admin:localhost:35473|client:localhost:42963|dataStream:localhost:44879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46563|admin:localhost:42297|client:localhost:38405|dataStream:localhost:33787|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37293|admin:localhost:39857|client:localhost:35501|dataStream:localhost:41239|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:43:44,753 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s2@group-D2CDEDC2AEFE replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-D2CDEDC2AEFE:t0, leader=null, voted=, raftlog=Memoized:s2@group-D2CDEDC2AEFE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46733|admin:localhost:35473|client:localhost:42963|dataStream:localhost:44879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46563|admin:localhost:42297|client:localhost:38405|dataStream:localhost:33787|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37293|admin:localhost:39857|client:localhost:35501|dataStream:localhost:41239|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:43:44,772 [grpc-default-executor-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-D2CDEDC2AEFE-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-03-07 04:43:44,768 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s0@group-D2CDEDC2AEFE: receive requestVote(PRE_VOTE, s1, group-D2CDEDC2AEFE, 0, (t:0, i:0))
2023-03-07 04:43:44,768 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s1@group-D2CDEDC2AEFE replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-D2CDEDC2AEFE:t0, leader=null, voted=, raftlog=Memoized:s1@group-D2CDEDC2AEFE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46733|admin:localhost:35473|client:localhost:42963|dataStream:localhost:44879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46563|admin:localhost:42297|client:localhost:38405|dataStream:localhost:33787|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37293|admin:localhost:39857|client:localhost:35501|dataStream:localhost:41239|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:43:44,773 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-D2CDEDC2AEFE-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-03-07 04:43:44,767 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s2@group-D2CDEDC2AEFE: receive requestVote(PRE_VOTE, s1, group-D2CDEDC2AEFE, 0, (t:0, i:0))
2023-03-07 04:43:44,773 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s0@group-D2CDEDC2AEFE replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-D2CDEDC2AEFE:t0, leader=null, voted=, raftlog=Memoized:s0@group-D2CDEDC2AEFE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46733|admin:localhost:35473|client:localhost:42963|dataStream:localhost:44879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46563|admin:localhost:42297|client:localhost:38405|dataStream:localhost:33787|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37293|admin:localhost:39857|client:localhost:35501|dataStream:localhost:41239|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:43:44,773 [grpc-default-executor-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s2@group-D2CDEDC2AEFE replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-D2CDEDC2AEFE:t0, leader=null, voted=, raftlog=Memoized:s2@group-D2CDEDC2AEFE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46733|admin:localhost:35473|client:localhost:42963|dataStream:localhost:44879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46563|admin:localhost:42297|client:localhost:38405|dataStream:localhost:33787|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37293|admin:localhost:39857|client:localhost:35501|dataStream:localhost:41239|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:43:44,774 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-D2CDEDC2AEFE-CANDIDATE: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-03-07 04:43:44,774 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s2@group-D2CDEDC2AEFE replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-D2CDEDC2AEFE:t0, leader=null, voted=, raftlog=Memoized:s2@group-D2CDEDC2AEFE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46733|admin:localhost:35473|client:localhost:42963|dataStream:localhost:44879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46563|admin:localhost:42297|client:localhost:38405|dataStream:localhost:33787|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37293|admin:localhost:39857|client:localhost:35501|dataStream:localhost:41239|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:43:44,774 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-D2CDEDC2AEFE-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-03-07 04:43:44,776 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s2@group-D2CDEDC2AEFE replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-D2CDEDC2AEFE:t0, leader=null, voted=, raftlog=Memoized:s2@group-D2CDEDC2AEFE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46733|admin:localhost:35473|client:localhost:42963|dataStream:localhost:44879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46563|admin:localhost:42297|client:localhost:38405|dataStream:localhost:33787|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37293|admin:localhost:39857|client:localhost:35501|dataStream:localhost:41239|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:43:44,798 [s0@group-D2CDEDC2AEFE-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-D2CDEDC2AEFE-LeaderElection1: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-03-07 04:43:44,800 [s0@group-D2CDEDC2AEFE-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t0
2023-03-07 04:43:44,801 [s0@group-D2CDEDC2AEFE-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-D2CDEDC2AEFE-LeaderElection1 PRE_VOTE round 1: result PASSED
2023-03-07 04:43:44,803 [s0@group-D2CDEDC2AEFE-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-D2CDEDC2AEFE-LeaderElection1 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:46733|admin:localhost:35473|client:localhost:42963|dataStream:localhost:44879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46563|admin:localhost:42297|client:localhost:38405|dataStream:localhost:33787|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37293|admin:localhost:39857|client:localhost:35501|dataStream:localhost:41239|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:43:44,805 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #2/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-D2CDEDC2AEFE:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-D2CDEDC2AEFE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46733|admin:localhost:35473|client:localhost:42963|dataStream:localhost:44879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46563|admin:localhost:42297|client:localhost:38405|dataStream:localhost:33787|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37293|admin:localhost:39857|client:localhost:35501|dataStream:localhost:41239|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-D2CDEDC2AEFE:t0, leader=null, voted=, raftlog=Memoized:s1@group-D2CDEDC2AEFE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46733|admin:localhost:35473|client:localhost:42963|dataStream:localhost:44879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46563|admin:localhost:42297|client:localhost:38405|dataStream:localhost:33787|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37293|admin:localhost:39857|client:localhost:35501|dataStream:localhost:41239|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-D2CDEDC2AEFE:t0, leader=null, voted=, raftlog=Memoized:s2@group-D2CDEDC2AEFE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46733|admin:localhost:35473|client:localhost:42963|dataStream:localhost:44879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46563|admin:localhost:42297|client:localhost:38405|dataStream:localhost:33787|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37293|admin:localhost:39857|client:localhost:35501|dataStream:localhost:41239|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING CANDIDATE s0@group-D2CDEDC2AEFE:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-D2CDEDC2AEFE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46733|admin:localhost:35473|client:localhost:42963|dataStream:localhost:44879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46563|admin:localhost:42297|client:localhost:38405|dataStream:localhost:33787|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37293|admin:localhost:39857|client:localhost:35501|dataStream:localhost:41239|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-D2CDEDC2AEFE:t0, leader=null, voted=, raftlog=Memoized:s1@group-D2CDEDC2AEFE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46733|admin:localhost:35473|client:localhost:42963|dataStream:localhost:44879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46563|admin:localhost:42297|client:localhost:38405|dataStream:localhost:33787|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37293|admin:localhost:39857|client:localhost:35501|dataStream:localhost:41239|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-D2CDEDC2AEFE:t0, leader=null, voted=, raftlog=Memoized:s2@group-D2CDEDC2AEFE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46733|admin:localhost:35473|client:localhost:42963|dataStream:localhost:44879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46563|admin:localhost:42297|client:localhost:38405|dataStream:localhost:33787|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37293|admin:localhost:39857|client:localhost:35501|dataStream:localhost:41239|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientRequestMetrics(TestRaftServerWithGrpc.java:308)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientMetrics(TestRaftServerWithGrpc.java:219)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-07 04:43:44,809 [s0@group-D2CDEDC2AEFE-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:43:44,811 [s0@group-D2CDEDC2AEFE-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:43:44,815 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s0@group-D2CDEDC2AEFE: receive requestVote(PRE_VOTE, s2, group-D2CDEDC2AEFE, 0, (t:0, i:0))
2023-03-07 04:43:44,815 [grpc-default-executor-8] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-D2CDEDC2AEFE-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-03-07 04:43:44,816 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s0@group-D2CDEDC2AEFE replies to PRE_VOTE vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-D2CDEDC2AEFE:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-D2CDEDC2AEFE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46733|admin:localhost:35473|client:localhost:42963|dataStream:localhost:44879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46563|admin:localhost:42297|client:localhost:38405|dataStream:localhost:33787|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37293|admin:localhost:39857|client:localhost:35501|dataStream:localhost:41239|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:43:44,818 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s1@group-D2CDEDC2AEFE: receive requestVote(PRE_VOTE, s2, group-D2CDEDC2AEFE, 0, (t:0, i:0))
2023-03-07 04:43:44,818 [grpc-default-executor-8] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-D2CDEDC2AEFE-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-03-07 04:43:44,818 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s1@group-D2CDEDC2AEFE replies to PRE_VOTE vote request: s2<-s1#0:OK-t0. Peer's state: s1@group-D2CDEDC2AEFE:t0, leader=null, voted=, raftlog=Memoized:s1@group-D2CDEDC2AEFE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46733|admin:localhost:35473|client:localhost:42963|dataStream:localhost:44879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46563|admin:localhost:42297|client:localhost:38405|dataStream:localhost:33787|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37293|admin:localhost:39857|client:localhost:35501|dataStream:localhost:41239|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:43:44,823 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s2@group-D2CDEDC2AEFE: receive requestVote(ELECTION, s0, group-D2CDEDC2AEFE, 1, (t:0, i:0))
2023-03-07 04:43:44,823 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-D2CDEDC2AEFE-CANDIDATE: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2023-03-07 04:43:44,823 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s1@group-D2CDEDC2AEFE: receive requestVote(ELECTION, s0, group-D2CDEDC2AEFE, 1, (t:0, i:0))
2023-03-07 04:43:44,824 [s2@group-D2CDEDC2AEFE-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-D2CDEDC2AEFE-LeaderElection2: PRE_VOTE DISCOVERED_A_NEW_TERM (term=1) received 1 response(s) and 0 exception(s):
2023-03-07 04:43:44,824 [grpc-default-executor-8] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-D2CDEDC2AEFE-CANDIDATE: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2023-03-07 04:43:44,824 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-D2CDEDC2AEFE: changes role from CANDIDATE to FOLLOWER at term 1 for candidate:s0
2023-03-07 04:43:44,825 [grpc-default-executor-7] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-D2CDEDC2AEFE-LeaderElection2
2023-03-07 04:43:44,825 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-D2CDEDC2AEFE: changes role from CANDIDATE to FOLLOWER at term 1 for candidate:s0
2023-03-07 04:43:44,825 [grpc-default-executor-8] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-D2CDEDC2AEFE-LeaderElection3
2023-03-07 04:43:44,824 [s2@group-D2CDEDC2AEFE-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t1
2023-03-07 04:43:44,825 [s2@group-D2CDEDC2AEFE-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-D2CDEDC2AEFE-LeaderElection2 PRE_VOTE round 1: result DISCOVERED_A_NEW_TERM (term=1)
2023-03-07 04:43:44,825 [grpc-default-executor-8] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-D2CDEDC2AEFE-FollowerState
2023-03-07 04:43:44,825 [grpc-default-executor-7] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-D2CDEDC2AEFE-FollowerState
2023-03-07 04:43:44,827 [s2@group-D2CDEDC2AEFE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:43:44,827 [s2@group-D2CDEDC2AEFE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:43:44,828 [s1@group-D2CDEDC2AEFE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:43:44,828 [s1@group-D2CDEDC2AEFE-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:43:44,833 [s1@group-D2CDEDC2AEFE-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-D2CDEDC2AEFE-LeaderElection3: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-03-07 04:43:44,833 [s1@group-D2CDEDC2AEFE-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t0
2023-03-07 04:43:44,833 [s1@group-D2CDEDC2AEFE-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-D2CDEDC2AEFE-LeaderElection3 PRE_VOTE round 1: result PASSED
2023-03-07 04:43:44,839 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s2@group-D2CDEDC2AEFE replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-D2CDEDC2AEFE:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-D2CDEDC2AEFE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46733|admin:localhost:35473|client:localhost:42963|dataStream:localhost:44879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46563|admin:localhost:42297|client:localhost:38405|dataStream:localhost:33787|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37293|admin:localhost:39857|client:localhost:35501|dataStream:localhost:41239|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:43:44,839 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s1@group-D2CDEDC2AEFE replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-D2CDEDC2AEFE:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-D2CDEDC2AEFE-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:46733|admin:localhost:35473|client:localhost:42963|dataStream:localhost:44879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46563|admin:localhost:42297|client:localhost:38405|dataStream:localhost:33787|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37293|admin:localhost:39857|client:localhost:35501|dataStream:localhost:41239|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:43:44,845 [s0@group-D2CDEDC2AEFE-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-D2CDEDC2AEFE-LeaderElection1: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-03-07 04:43:44,845 [s0@group-D2CDEDC2AEFE-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t1
2023-03-07 04:43:44,845 [s0@group-D2CDEDC2AEFE-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-D2CDEDC2AEFE-LeaderElection1 ELECTION round 0: result PASSED
2023-03-07 04:43:44,845 [s0@group-D2CDEDC2AEFE-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-D2CDEDC2AEFE-LeaderElection1
2023-03-07 04:43:44,845 [s0@group-D2CDEDC2AEFE-LeaderElection1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-D2CDEDC2AEFE: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-03-07 04:43:44,845 [s0@group-D2CDEDC2AEFE-LeaderElection1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-D2CDEDC2AEFE: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 869ms
2023-03-07 04:43:44,850 [s0@group-D2CDEDC2AEFE-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-03-07 04:43:44,854 [s0@group-D2CDEDC2AEFE-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-07 04:43:44,854 [s0@group-D2CDEDC2AEFE-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2023-03-07 04:43:44,856 [s0@group-D2CDEDC2AEFE-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-03-07 04:43:44,856 [s0@group-D2CDEDC2AEFE-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-03-07 04:43:44,857 [s0@group-D2CDEDC2AEFE-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-03-07 04:43:44,867 [s0@group-D2CDEDC2AEFE-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-07 04:43:44,870 [s0@group-D2CDEDC2AEFE-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-03-07 04:43:44,878 [s0@group-D2CDEDC2AEFE-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-07 04:43:44,878 [s0@group-D2CDEDC2AEFE-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:43:44,878 [s0@group-D2CDEDC2AEFE-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-07 04:43:44,879 [s0@group-D2CDEDC2AEFE-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-07 04:43:44,880 [s0@group-D2CDEDC2AEFE-LeaderElection1] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2023-03-07 04:43:44,880 [s0@group-D2CDEDC2AEFE-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-07 04:43:44,880 [s0@group-D2CDEDC2AEFE-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-07 04:43:44,880 [s0@group-D2CDEDC2AEFE-LeaderElection1] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-03-07 04:43:44,882 [s0@group-D2CDEDC2AEFE-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-07 04:43:44,882 [s0@group-D2CDEDC2AEFE-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:43:44,882 [s0@group-D2CDEDC2AEFE-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-07 04:43:44,882 [s0@group-D2CDEDC2AEFE-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-07 04:43:44,882 [s0@group-D2CDEDC2AEFE-LeaderElection1] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2023-03-07 04:43:44,882 [s0@group-D2CDEDC2AEFE-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-07 04:43:44,882 [s0@group-D2CDEDC2AEFE-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-07 04:43:44,882 [s0@group-D2CDEDC2AEFE-LeaderElection1] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-03-07 04:43:44,883 [s0@group-D2CDEDC2AEFE-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-D2CDEDC2AEFE-LeaderStateImpl
2023-03-07 04:43:44,895 [s0@group-D2CDEDC2AEFE-LeaderElection1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s0@group-D2CDEDC2AEFE-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-07 04:43:44,923 [s0@group-D2CDEDC2AEFE-LeaderElection1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-D2CDEDC2AEFE: set configuration 0: peers:[s0|rpc:localhost:46733|admin:localhost:35473|client:localhost:42963|dataStream:localhost:44879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46563|admin:localhost:42297|client:localhost:38405|dataStream:localhost:33787|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37293|admin:localhost:39857|client:localhost:35501|dataStream:localhost:41239|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:43:44,962 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-D2CDEDC2AEFE: change Leader from null to s0 at term 1 for appendEntries, leader elected after 979ms
2023-03-07 04:43:44,977 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-D2CDEDC2AEFE: change Leader from null to s0 at term 1 for appendEntries, leader elected after 1003ms
2023-03-07 04:43:45,008 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s1@group-D2CDEDC2AEFE: set configuration 0: peers:[s0|rpc:localhost:46733|admin:localhost:35473|client:localhost:42963|dataStream:localhost:44879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46563|admin:localhost:42297|client:localhost:38405|dataStream:localhost:33787|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37293|admin:localhost:39857|client:localhost:35501|dataStream:localhost:41239|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:43:45,008 [s1-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s1@group-D2CDEDC2AEFE-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-07 04:43:45,048 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s2@group-D2CDEDC2AEFE: set configuration 0: peers:[s0|rpc:localhost:46733|admin:localhost:35473|client:localhost:42963|dataStream:localhost:44879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46563|admin:localhost:42297|client:localhost:38405|dataStream:localhost:33787|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37293|admin:localhost:39857|client:localhost:35501|dataStream:localhost:41239|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:43:45,049 [s2-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s2@group-D2CDEDC2AEFE-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-07 04:43:45,078 [s0@group-D2CDEDC2AEFE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s0@group-D2CDEDC2AEFE-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc1107eba9/s0/c37b9f36-e8a6-40d5-a8d2-d2cdedc2aefe/current/log_inprogress_0
2023-03-07 04:43:45,078 [s1@group-D2CDEDC2AEFE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s1@group-D2CDEDC2AEFE-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc1107eba9/s1/c37b9f36-e8a6-40d5-a8d2-d2cdedc2aefe/current/log_inprogress_0
2023-03-07 04:43:45,094 [s2@group-D2CDEDC2AEFE-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s2@group-D2CDEDC2AEFE-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc1107eba9/s2/c37b9f36-e8a6-40d5-a8d2-d2cdedc2aefe/current/log_inprogress_0
2023-03-07 04:43:45,261 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-D2CDEDC2AEFE:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-D2CDEDC2AEFE-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:46733|admin:localhost:35473|client:localhost:42963|dataStream:localhost:44879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46563|admin:localhost:42297|client:localhost:38405|dataStream:localhost:33787|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37293|admin:localhost:39857|client:localhost:35501|dataStream:localhost:41239|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-D2CDEDC2AEFE:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-D2CDEDC2AEFE-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:46733|admin:localhost:35473|client:localhost:42963|dataStream:localhost:44879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46563|admin:localhost:42297|client:localhost:38405|dataStream:localhost:33787|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37293|admin:localhost:39857|client:localhost:35501|dataStream:localhost:41239|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-D2CDEDC2AEFE:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-D2CDEDC2AEFE-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:46733|admin:localhost:35473|client:localhost:42963|dataStream:localhost:44879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46563|admin:localhost:42297|client:localhost:38405|dataStream:localhost:33787|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37293|admin:localhost:39857|client:localhost:35501|dataStream:localhost:41239|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-07 04:43:45,322 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:43:45,322 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:43:45,420 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-D94A03A48BF0->s0: receive RaftClientReply:client-D94A03A48BF0->s0@group-D2CDEDC2AEFE, cid=0, SUCCESS, logIndex=0, commits[s0:c0, s1:c0, s2:c0]
2023-03-07 04:43:45,469 [s0@group-D2CDEDC2AEFE-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 1@client-D94A03A48BF0
2023-03-07 04:43:45,472 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-D94A03A48BF0->s0: receive RaftClientReply:client-D94A03A48BF0->s0@group-D2CDEDC2AEFE, cid=1, SUCCESS, logIndex=1, commits[s0:c1, s1:c0, s2:c0]
2023-03-07 04:43:45,473 [s0-client-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:query(328)) - query testing
2023-03-07 04:43:45,476 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-D94A03A48BF0->s0: receive RaftClientReply:client-D94A03A48BF0->s0@group-D2CDEDC2AEFE, cid=2, SUCCESS, logIndex=0, commits[s0:c1, s1:c0, s2:c0]
2023-03-07 04:43:45,480 [s2@group-D2CDEDC2AEFE-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 1@client-D94A03A48BF0
2023-03-07 04:43:45,559 [s1@group-D2CDEDC2AEFE-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 1@client-D94A03A48BF0
2023-03-07 04:43:49,485 [timer5] WARN  grpc.GrpcUtil (GrpcUtil.java:shutdownManagedChannel(223)) - Timed out gracefully shutting down connection: ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=58, target=localhost:42963}}. 
2023-03-07 04:43:49,595 [timer6] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:43:49,595 [timer6] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:43:49,604 [s0-client-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:query(328)) - query testing
2023-03-07 04:43:49,617 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-D94A03A48BF0->s0: receive RaftClientReply:client-D94A03A48BF0->s0@group-D2CDEDC2AEFE, cid=3, SUCCESS, logIndex=0, commits[s0:c2, s1:c2, s2:c2]
2023-03-07 04:43:49,619 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:43:49,619 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:43:49,653 [null-request--thread1] INFO  server.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(284)) - Failed RaftClientRequest:client-D94A03A48BF0->s1@group-D2CDEDC2AEFE, cid=4, seq=0, Watch-ALL(0), Message:<EMPTY>, reply=RaftClientReply:client-D94A03A48BF0->s1@group-D2CDEDC2AEFE, cid=4, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s1@group-D2CDEDC2AEFE is not the leader s0|rpc:localhost:46733|admin:localhost:35473|client:localhost:42963|dataStream:localhost:44879|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s1:c2, s0:c2, s2:c2]
2023-03-07 04:43:49,660 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-D94A03A48BF0->s1: receive RaftClientReply:client-D94A03A48BF0->s1@group-D2CDEDC2AEFE, cid=4, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s1@group-D2CDEDC2AEFE is not the leader s0|rpc:localhost:46733|admin:localhost:35473|client:localhost:42963|dataStream:localhost:44879|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s1:c2, s0:c2, s2:c2]
2023-03-07 04:43:49,686 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-D94A03A48BF0->s0: receive RaftClientReply:client-D94A03A48BF0->s0@group-D2CDEDC2AEFE, cid=4, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2023-03-07 04:43:49,700 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-D94A03A48BF0->s0: receive RaftClientReply:client-D94A03A48BF0->s0@group-D2CDEDC2AEFE, cid=5, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2023-03-07 04:43:49,710 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-03-07 04:43:49,710 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-03-07 04:43:49,710 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2023-03-07 04:43:49,710 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-03-07 04:43:49,710 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-03-07 04:43:49,710 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-D2CDEDC2AEFE:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-D2CDEDC2AEFE-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:46733|admin:localhost:35473|client:localhost:42963|dataStream:localhost:44879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46563|admin:localhost:42297|client:localhost:38405|dataStream:localhost:33787|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37293|admin:localhost:39857|client:localhost:35501|dataStream:localhost:41239|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-D2CDEDC2AEFE:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-D2CDEDC2AEFE-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:46733|admin:localhost:35473|client:localhost:42963|dataStream:localhost:44879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46563|admin:localhost:42297|client:localhost:38405|dataStream:localhost:33787|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37293|admin:localhost:39857|client:localhost:35501|dataStream:localhost:41239|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-D2CDEDC2AEFE:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-D2CDEDC2AEFE-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:46733|admin:localhost:35473|client:localhost:42963|dataStream:localhost:44879|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:46563|admin:localhost:42297|client:localhost:38405|dataStream:localhost:33787|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:37293|admin:localhost:39857|client:localhost:35501|dataStream:localhost:41239|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-07 04:43:49,716 [MiniRaftCluster-1] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s0: close
2023-03-07 04:43:49,719 [MiniRaftCluster-2] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s1: close
2023-03-07 04:43:49,720 [MiniRaftCluster-1] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-03-07 04:43:49,720 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s0@group-D2CDEDC2AEFE: shutdown
2023-03-07 04:43:49,732 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-D2CDEDC2AEFE,id=s0
2023-03-07 04:43:49,732 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-D2CDEDC2AEFE-LeaderStateImpl
2023-03-07 04:43:49,733 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-D2CDEDC2AEFE-PendingRequests: sendNotLeaderResponses
2023-03-07 04:43:49,734 [MiniRaftCluster-2] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-03-07 04:43:49,734 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s1@group-D2CDEDC2AEFE: shutdown
2023-03-07 04:43:49,734 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-D2CDEDC2AEFE,id=s1
2023-03-07 04:43:49,734 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-D2CDEDC2AEFE-FollowerState
2023-03-07 04:43:49,734 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-D2CDEDC2AEFE-StateMachineUpdater: set stopIndex = 2
2023-03-07 04:43:49,734 [s1@group-D2CDEDC2AEFE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-D2CDEDC2AEFE-FollowerState was interrupted
2023-03-07 04:43:49,735 [grpc-default-executor-8] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s2: Completed APPEND_ENTRIES, lastRequest: s0->s2#2797-t1,previous=(t:1, i:1),leaderCommit=1,initializing? true,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2023-03-07 04:43:49,736 [grpc-default-executor-7] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(417)) - s0@group-D2CDEDC2AEFE->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-03-07 04:43:49,737 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s1@group-D2CDEDC2AEFE: applyIndex: 2
2023-03-07 04:43:49,737 [grpc-default-executor-7] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(52)) - s0@group-D2CDEDC2AEFE->s2: decreaseNextIndex nextIndex: updateUnconditionally 3 -> 2
2023-03-07 04:43:49,741 [MiniRaftCluster-3] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s2: close
2023-03-07 04:43:49,738 [grpc-default-executor-7] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#2300-t1,previous=(t:1, i:1),leaderCommit=1,initializing? true,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2023-03-07 04:43:49,749 [MiniRaftCluster-3] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-03-07 04:43:49,744 [grpc-default-executor-8] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(417)) - s0@group-D2CDEDC2AEFE->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-03-07 04:43:49,750 [grpc-default-executor-8] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(52)) - s0@group-D2CDEDC2AEFE->s1: decreaseNextIndex nextIndex: updateUnconditionally 3 -> 2
2023-03-07 04:43:49,750 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s2@group-D2CDEDC2AEFE: shutdown
2023-03-07 04:43:49,750 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-D2CDEDC2AEFE,id=s2
2023-03-07 04:43:49,750 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-D2CDEDC2AEFE-FollowerState
2023-03-07 04:43:49,750 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-D2CDEDC2AEFE-StateMachineUpdater: set stopIndex = 2
2023-03-07 04:43:49,750 [s2@group-D2CDEDC2AEFE-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-D2CDEDC2AEFE-FollowerState was interrupted
2023-03-07 04:43:49,750 [Thread-70] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(102)) - s0 Close channels
2023-03-07 04:43:49,750 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s2@group-D2CDEDC2AEFE: applyIndex: 2
2023-03-07 04:43:49,754 [Thread-73] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(102)) - s2 Close channels
2023-03-07 04:43:49,759 [Thread-71] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(102)) - s1 Close channels
2023-03-07 04:43:49,769 [MiniRaftCluster-2] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-03-07 04:43:49,769 [MiniRaftCluster-2] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server GrpcServerProtocolService now
2023-03-07 04:43:49,769 [Thread-74] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(102)) - s0 Close channels
2023-03-07 04:43:49,771 [Thread-75] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(102)) - s2 Close channels
2023-03-07 04:43:49,772 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-D2CDEDC2AEFE-StateMachineUpdater: set stopIndex = 2
2023-03-07 04:43:49,792 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s0@group-D2CDEDC2AEFE: applyIndex: 2
2023-03-07 04:43:49,791 [MiniRaftCluster-2] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server GrpcServerProtocolService successfully
2023-03-07 04:43:49,792 [MiniRaftCluster-2] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-03-07 04:43:49,791 [MiniRaftCluster-1] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-03-07 04:43:49,792 [MiniRaftCluster-1] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server GrpcServerProtocolService now
2023-03-07 04:43:49,789 [Thread-76] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(102)) - s1 Close channels
2023-03-07 04:43:49,798 [MiniRaftCluster-2] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-03-07 04:43:49,799 [MiniRaftCluster-1] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server GrpcServerProtocolService successfully
2023-03-07 04:43:49,799 [MiniRaftCluster-1] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-03-07 04:43:49,801 [MiniRaftCluster-3] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-03-07 04:43:49,801 [MiniRaftCluster-3] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server GrpcServerProtocolService now
2023-03-07 04:43:49,809 [MiniRaftCluster-1] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-03-07 04:43:49,809 [MiniRaftCluster-3] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server GrpcServerProtocolService successfully
2023-03-07 04:43:49,809 [MiniRaftCluster-3] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-03-07 04:43:49,812 [MiniRaftCluster-3] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-03-07 04:43:50,550 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s2@group-D2CDEDC2AEFE-SegmentedRaftLogWorker close()
2023-03-07 04:43:50,551 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s0@group-D2CDEDC2AEFE-SegmentedRaftLogWorker close()
2023-03-07 04:43:50,553 [JvmPauseMonitor0] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2023-03-07 04:43:50,554 [JvmPauseMonitor2] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2023-03-07 04:43:50,560 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s1@group-D2CDEDC2AEFE-SegmentedRaftLogWorker close()
2023-03-07 04:43:50,562 [JvmPauseMonitor1] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2023-03-07 04:43:50,562 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2023-03-07 04:43:50,565 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-03-07 04:43:50,565 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-03-07 04:43:50,565 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2023-03-07 04:43:50,568 [Time-limited test] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(61)) - Getting resource ssl/server.pem: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/server.pem
2023-03-07 04:43:50,722 [Time-limited test] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(61)) - Getting resource ssl/server.crt: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/server.crt
2023-03-07 04:43:50,854 [Time-limited test] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(61)) - Getting resource ssl/ca.crt: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/ca.crt
2023-03-07 04:43:50,859 [Time-limited test] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(61)) - Getting resource ssl/client.pem: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/client.pem
2023-03-07 04:43:50,861 [Time-limited test] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(61)) - Getting resource ssl/client.crt: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/client.crt
2023-03-07 04:43:50,916 [Time-limited test] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(61)) - Getting resource ssl/ca.crt: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/ca.crt
2023-03-07 04:43:50,922 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-DBB9B69BC5CD:[s3|rpc:localhost:33071|admin:localhost:40689|client:localhost:41179|dataStream:localhost:35127|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34315|admin:localhost:33399|client:localhost:37589|dataStream:localhost:41991|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:37179|admin:localhost:32869|client:localhost:43097|dataStream:localhost:40255|priority:0|startupRole:FOLLOWER]
2023-03-07 04:43:50,922 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-03-07 04:43:50,922 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-03-07 04:43:50,922 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2023-03-07 04:43:50,922 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-03-07 04:43:50,922 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-03-07 04:43:50,922 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-03-07 04:43:50,922 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s3, group-DBB9B69BC5CD:[s3|rpc:localhost:33071|admin:localhost:40689|client:localhost:41179|dataStream:localhost:35127|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34315|admin:localhost:33399|client:localhost:37589|dataStream:localhost:41991|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:37179|admin:localhost:32869|client:localhost:43097|dataStream:localhost:40255|priority:0|startupRole:FOLLOWER], format? true
2023-03-07 04:43:50,922 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/ac5303ae/MiniRaftClusterWithGrpc7c72648/s3
2023-03-07 04:43:50,922 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/ac5303ae/MiniRaftClusterWithGrpc7c72648/s3 does not exist.
2023-03-07 04:43:50,922 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/ac5303ae/MiniRaftClusterWithGrpc7c72648/s3
2023-03-07 04:43:50,923 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-03-07 04:43:50,923 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:43:50,924 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 40689 (custom)
2023-03-07 04:43:50,924 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:43:50,924 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 41179 (custom)
2023-03-07 04:43:50,924 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-07 04:43:50,925 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 33071 (custom)
2023-03-07 04:43:50,925 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:43:50,925 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:43:50,925 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:43:50,925 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-07 04:43:50,925 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-03-07 04:43:50,925 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-07 04:43:50,925 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-07 04:43:51,039 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-07 04:43:51,039 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-07 04:43:51,039 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-07 04:43:51,039 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-07 04:43:51,039 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-07 04:43:51,040 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc7c72648/s3] (custom)
2023-03-07 04:43:51,044 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s3: addNew group-DBB9B69BC5CD:[s3|rpc:localhost:33071|admin:localhost:40689|client:localhost:41179|dataStream:localhost:35127|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34315|admin:localhost:33399|client:localhost:37589|dataStream:localhost:41991|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:37179|admin:localhost:32869|client:localhost:43097|dataStream:localhost:40255|priority:0|startupRole:FOLLOWER] returns group-DBB9B69BC5CD:java.util.concurrent.CompletableFuture@119607bb[Not completed]
2023-03-07 04:43:51,044 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s4, group-DBB9B69BC5CD:[s3|rpc:localhost:33071|admin:localhost:40689|client:localhost:41179|dataStream:localhost:35127|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34315|admin:localhost:33399|client:localhost:37589|dataStream:localhost:41991|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:37179|admin:localhost:32869|client:localhost:43097|dataStream:localhost:40255|priority:0|startupRole:FOLLOWER], format? true
2023-03-07 04:43:51,045 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/ac5303ae/MiniRaftClusterWithGrpc7c72648/s4
2023-03-07 04:43:51,045 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/ac5303ae/MiniRaftClusterWithGrpc7c72648/s4 does not exist.
2023-03-07 04:43:51,045 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/ac5303ae/MiniRaftClusterWithGrpc7c72648/s4
2023-03-07 04:43:51,045 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-03-07 04:43:51,045 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:43:51,045 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 33399 (custom)
2023-03-07 04:43:51,045 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:43:51,045 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 37589 (custom)
2023-03-07 04:43:51,045 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-07 04:43:51,045 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 34315 (custom)
2023-03-07 04:43:51,045 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:43:51,045 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:43:51,045 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:43:51,045 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-07 04:43:51,046 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-03-07 04:43:51,046 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-07 04:43:51,046 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-07 04:43:51,048 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-07 04:43:51,048 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-07 04:43:51,048 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-07 04:43:51,048 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-07 04:43:51,048 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-07 04:43:51,049 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc7c72648/s4] (custom)
2023-03-07 04:43:51,049 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:43:51,049 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-07 04:43:51,049 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-07 04:43:51,049 [s3-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s3: new RaftServerImpl for group-DBB9B69BC5CD:[s3|rpc:localhost:33071|admin:localhost:40689|client:localhost:41179|dataStream:localhost:35127|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34315|admin:localhost:33399|client:localhost:37589|dataStream:localhost:41991|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:37179|admin:localhost:32869|client:localhost:43097|dataStream:localhost:40255|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-03-07 04:43:51,049 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-07 04:43:51,049 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-07 04:43:51,049 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-07 04:43:51,049 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-07 04:43:51,049 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-07 04:43:51,050 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-07 04:43:51,050 [s3-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s3@group-DBB9B69BC5CD: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:33071|admin:localhost:40689|client:localhost:41179|dataStream:localhost:35127|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34315|admin:localhost:33399|client:localhost:37589|dataStream:localhost:41991|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:37179|admin:localhost:32869|client:localhost:43097|dataStream:localhost:40255|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-07 04:43:51,050 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-07 04:43:51,050 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-07 04:43:51,050 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-07 04:43:51,050 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-07 04:43:51,050 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-07 04:43:51,052 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:43:51,053 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-07 04:43:51,053 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-07 04:43:51,053 [s4-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s4: new RaftServerImpl for group-DBB9B69BC5CD:[s3|rpc:localhost:33071|admin:localhost:40689|client:localhost:41179|dataStream:localhost:35127|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34315|admin:localhost:33399|client:localhost:37589|dataStream:localhost:41991|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:37179|admin:localhost:32869|client:localhost:43097|dataStream:localhost:40255|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-03-07 04:43:51,053 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-07 04:43:51,053 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-07 04:43:51,053 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-07 04:43:51,053 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s4: addNew group-DBB9B69BC5CD:[s3|rpc:localhost:33071|admin:localhost:40689|client:localhost:41179|dataStream:localhost:35127|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34315|admin:localhost:33399|client:localhost:37589|dataStream:localhost:41991|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:37179|admin:localhost:32869|client:localhost:43097|dataStream:localhost:40255|priority:0|startupRole:FOLLOWER] returns group-DBB9B69BC5CD:java.util.concurrent.CompletableFuture@c4e32f[Not completed]
2023-03-07 04:43:51,054 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s5, group-DBB9B69BC5CD:[s3|rpc:localhost:33071|admin:localhost:40689|client:localhost:41179|dataStream:localhost:35127|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34315|admin:localhost:33399|client:localhost:37589|dataStream:localhost:41991|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:37179|admin:localhost:32869|client:localhost:43097|dataStream:localhost:40255|priority:0|startupRole:FOLLOWER], format? true
2023-03-07 04:43:51,054 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/ac5303ae/MiniRaftClusterWithGrpc7c72648/s5
2023-03-07 04:43:51,054 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/ac5303ae/MiniRaftClusterWithGrpc7c72648/s5 does not exist.
2023-03-07 04:43:51,054 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/ac5303ae/MiniRaftClusterWithGrpc7c72648/s5
2023-03-07 04:43:51,054 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-03-07 04:43:51,054 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:43:51,054 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 32869 (custom)
2023-03-07 04:43:51,054 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:43:51,054 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 43097 (custom)
2023-03-07 04:43:51,054 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-07 04:43:51,054 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 37179 (custom)
2023-03-07 04:43:51,054 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:43:51,055 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:43:51,055 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:43:51,055 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-07 04:43:51,055 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-03-07 04:43:51,055 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-07 04:43:51,055 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-07 04:43:51,058 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-07 04:43:51,058 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-07 04:43:51,058 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-07 04:43:51,058 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-07 04:43:51,058 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-07 04:43:51,058 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-07 04:43:51,059 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-07 04:43:51,059 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-07 04:43:51,059 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-07 04:43:51,059 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-07 04:43:51,059 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc7c72648/s5] (custom)
2023-03-07 04:43:51,059 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-07 04:43:51,059 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-07 04:43:51,059 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-07 04:43:51,060 [s4-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s4@group-DBB9B69BC5CD: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:33071|admin:localhost:40689|client:localhost:41179|dataStream:localhost:35127|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34315|admin:localhost:33399|client:localhost:37589|dataStream:localhost:41991|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:37179|admin:localhost:32869|client:localhost:43097|dataStream:localhost:40255|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-07 04:43:51,060 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-07 04:43:51,060 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-07 04:43:51,060 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-07 04:43:51,060 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-07 04:43:51,061 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-07 04:43:51,062 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-07 04:43:51,068 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-07 04:43:51,068 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-07 04:43:51,069 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-07 04:43:51,069 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-07 04:43:51,065 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:43:51,064 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s5: addNew group-DBB9B69BC5CD:[s3|rpc:localhost:33071|admin:localhost:40689|client:localhost:41179|dataStream:localhost:35127|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34315|admin:localhost:33399|client:localhost:37589|dataStream:localhost:41991|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:37179|admin:localhost:32869|client:localhost:43097|dataStream:localhost:40255|priority:0|startupRole:FOLLOWER] returns group-DBB9B69BC5CD:java.util.concurrent.CompletableFuture@4f58ef27[Not completed]
2023-03-07 04:43:51,069 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-07 04:43:51,069 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-07 04:43:51,069 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-07 04:43:51,069 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-07 04:43:51,069 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc7c72648/s3] (custom)
2023-03-07 04:43:51,069 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc7c72648/s3/bf093e66-b2aa-4253-bf22-dbb9b69bc5cd does not exist. Creating ...
2023-03-07 04:43:51,069 [s5-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s5: new RaftServerImpl for group-DBB9B69BC5CD:[s3|rpc:localhost:33071|admin:localhost:40689|client:localhost:41179|dataStream:localhost:35127|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34315|admin:localhost:33399|client:localhost:37589|dataStream:localhost:41991|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:37179|admin:localhost:32869|client:localhost:43097|dataStream:localhost:40255|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-03-07 04:43:51,070 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-07 04:43:51,070 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-07 04:43:51,070 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-07 04:43:51,070 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-07 04:43:51,070 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc7c72648/s3/bf093e66-b2aa-4253-bf22-dbb9b69bc5cd
2023-03-07 04:43:51,070 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-07 04:43:51,070 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-07 04:43:51,070 [s5-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s5@group-DBB9B69BC5CD: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:33071|admin:localhost:40689|client:localhost:41179|dataStream:localhost:35127|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34315|admin:localhost:33399|client:localhost:37589|dataStream:localhost:41991|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:37179|admin:localhost:32869|client:localhost:43097|dataStream:localhost:40255|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-07 04:43:51,070 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-07 04:43:51,071 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-07 04:43:51,071 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-07 04:43:51,071 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-07 04:43:51,071 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-07 04:43:51,071 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc7c72648/s3/bf093e66-b2aa-4253-bf22-dbb9b69bc5cd/in_use.lock acquired by nodename 17652@fv-az443-797
2023-03-07 04:43:51,071 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc7c72648/s3/bf093e66-b2aa-4253-bf22-dbb9b69bc5cd/current
2023-03-07 04:43:51,071 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc7c72648/s3/bf093e66-b2aa-4253-bf22-dbb9b69bc5cd/sm
2023-03-07 04:43:51,072 [s3-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc7c72648/s3/bf093e66-b2aa-4253-bf22-dbb9b69bc5cd has been successfully formatted.
2023-03-07 04:43:51,073 [s3-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-03-07 04:43:51,073 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-07 04:43:51,073 [s3-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-03-07 04:43:51,073 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-07 04:43:51,073 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-07 04:43:51,073 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-07 04:43:51,073 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-07 04:43:51,073 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-07 04:43:51,073 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:43:51,073 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-07 04:43:51,073 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-07 04:43:51,073 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-07 04:43:51,074 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:43:51,074 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-07 04:43:51,074 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-07 04:43:51,074 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:43:51,074 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s3@group-DBB9B69BC5CD-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc7c72648/s3/bf093e66-b2aa-4253-bf22-dbb9b69bc5cd
2023-03-07 04:43:51,074 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-07 04:43:51,074 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-07 04:43:51,074 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:43:51,074 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-07 04:43:51,074 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-07 04:43:51,074 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-07 04:43:51,074 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-07 04:43:51,074 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-07 04:43:51,075 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-07 04:43:51,075 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:43:51,077 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-07 04:43:51,077 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-07 04:43:51,077 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-07 04:43:51,077 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-DBB9B69BC5CD-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-07 04:43:51,077 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-DBB9B69BC5CD-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-07 04:43:51,077 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s3@group-DBB9B69BC5CD: start as a follower, conf=-1: peers:[s3|rpc:localhost:33071|admin:localhost:40689|client:localhost:41179|dataStream:localhost:35127|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34315|admin:localhost:33399|client:localhost:37589|dataStream:localhost:41991|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:37179|admin:localhost:32869|client:localhost:43097|dataStream:localhost:40255|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:43:51,077 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s3@group-DBB9B69BC5CD: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-07 04:43:51,077 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-DBB9B69BC5CD-FollowerState
2023-03-07 04:43:51,078 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-DBB9B69BC5CD,id=s3
2023-03-07 04:43:51,078 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-07 04:43:51,078 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-07 04:43:51,078 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-07 04:43:51,079 [s3@group-DBB9B69BC5CD-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:43:51,079 [s3@group-DBB9B69BC5CD-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:43:51,079 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s3: start RPC server
2023-03-07 04:43:51,080 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s3: GrpcService started, listening on 41179
2023-03-07 04:43:51,081 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s3: GrpcService started, listening on 33071
2023-03-07 04:43:51,084 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s3: GrpcService started, listening on 40689
2023-03-07 04:43:51,088 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-07 04:43:51,088 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-07 04:43:51,089 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc7c72648/s4] (custom)
2023-03-07 04:43:51,089 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc7c72648/s4/bf093e66-b2aa-4253-bf22-dbb9b69bc5cd does not exist. Creating ...
2023-03-07 04:43:51,089 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc7c72648/s4/bf093e66-b2aa-4253-bf22-dbb9b69bc5cd
2023-03-07 04:43:51,089 [JvmPauseMonitor3] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s3: Started
2023-03-07 04:43:51,090 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc7c72648/s4/bf093e66-b2aa-4253-bf22-dbb9b69bc5cd/in_use.lock acquired by nodename 17652@fv-az443-797
2023-03-07 04:43:51,090 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc7c72648/s4/bf093e66-b2aa-4253-bf22-dbb9b69bc5cd/current
2023-03-07 04:43:51,090 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc7c72648/s4/bf093e66-b2aa-4253-bf22-dbb9b69bc5cd/sm
2023-03-07 04:43:51,091 [s4-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc7c72648/s4/bf093e66-b2aa-4253-bf22-dbb9b69bc5cd has been successfully formatted.
2023-03-07 04:43:51,091 [s4-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-03-07 04:43:51,092 [s4-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-03-07 04:43:51,092 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-07 04:43:51,092 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-07 04:43:51,092 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:43:51,092 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-07 04:43:51,092 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-07 04:43:51,092 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:43:51,093 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-07 04:43:51,093 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-07 04:43:51,093 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:43:51,093 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s4@group-DBB9B69BC5CD-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc7c72648/s4/bf093e66-b2aa-4253-bf22-dbb9b69bc5cd
2023-03-07 04:43:51,093 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-07 04:43:51,093 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-07 04:43:51,093 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:43:51,093 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-07 04:43:51,093 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-07 04:43:51,093 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-07 04:43:51,093 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-07 04:43:51,093 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-07 04:43:51,093 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-07 04:43:51,093 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:43:51,094 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-07 04:43:51,094 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-07 04:43:51,095 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-07 04:43:51,095 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s4@group-DBB9B69BC5CD-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-07 04:43:51,095 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s4@group-DBB9B69BC5CD-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-07 04:43:51,096 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s4@group-DBB9B69BC5CD: start as a follower, conf=-1: peers:[s3|rpc:localhost:33071|admin:localhost:40689|client:localhost:41179|dataStream:localhost:35127|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34315|admin:localhost:33399|client:localhost:37589|dataStream:localhost:41991|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:37179|admin:localhost:32869|client:localhost:43097|dataStream:localhost:40255|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:43:51,096 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s4@group-DBB9B69BC5CD: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-07 04:43:51,096 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-DBB9B69BC5CD-FollowerState
2023-03-07 04:43:51,097 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-DBB9B69BC5CD,id=s4
2023-03-07 04:43:51,097 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-07 04:43:51,097 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-07 04:43:51,097 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-07 04:43:51,097 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s4: start RPC server
2023-03-07 04:43:51,101 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s4: GrpcService started, listening on 37589
2023-03-07 04:43:51,101 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s4: GrpcService started, listening on 34315
2023-03-07 04:43:51,102 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s4: GrpcService started, listening on 33399
2023-03-07 04:43:51,102 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-07 04:43:51,102 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-07 04:43:51,102 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc7c72648/s5] (custom)
2023-03-07 04:43:51,102 [s5-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc7c72648/s5/bf093e66-b2aa-4253-bf22-dbb9b69bc5cd does not exist. Creating ...
2023-03-07 04:43:51,103 [s5-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc7c72648/s5/bf093e66-b2aa-4253-bf22-dbb9b69bc5cd
2023-03-07 04:43:51,103 [JvmPauseMonitor4] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s4: Started
2023-03-07 04:43:51,104 [s4@group-DBB9B69BC5CD-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:43:51,104 [s4@group-DBB9B69BC5CD-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:43:51,104 [s5-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc7c72648/s5/bf093e66-b2aa-4253-bf22-dbb9b69bc5cd/in_use.lock acquired by nodename 17652@fv-az443-797
2023-03-07 04:43:51,104 [s5-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc7c72648/s5/bf093e66-b2aa-4253-bf22-dbb9b69bc5cd/current
2023-03-07 04:43:51,104 [s5-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc7c72648/s5/bf093e66-b2aa-4253-bf22-dbb9b69bc5cd/sm
2023-03-07 04:43:51,105 [s5-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc7c72648/s5/bf093e66-b2aa-4253-bf22-dbb9b69bc5cd has been successfully formatted.
2023-03-07 04:43:51,106 [s5-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-03-07 04:43:51,106 [s5-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-03-07 04:43:51,106 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-07 04:43:51,106 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-07 04:43:51,106 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:43:51,106 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-07 04:43:51,106 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-07 04:43:51,106 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:43:51,107 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-07 04:43:51,107 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-07 04:43:51,107 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:43:51,107 [s5-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s5@group-DBB9B69BC5CD-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc7c72648/s5/bf093e66-b2aa-4253-bf22-dbb9b69bc5cd
2023-03-07 04:43:51,107 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-07 04:43:51,107 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-07 04:43:51,107 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:43:51,107 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-07 04:43:51,107 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-07 04:43:51,107 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-07 04:43:51,107 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-07 04:43:51,107 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-07 04:43:51,107 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-07 04:43:51,107 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:43:51,110 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-07 04:43:51,110 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-07 04:43:51,110 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-07 04:43:51,110 [s5-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s5@group-DBB9B69BC5CD-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-07 04:43:51,110 [s5-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s5@group-DBB9B69BC5CD-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-07 04:43:51,111 [s5-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s5@group-DBB9B69BC5CD: start as a follower, conf=-1: peers:[s3|rpc:localhost:33071|admin:localhost:40689|client:localhost:41179|dataStream:localhost:35127|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34315|admin:localhost:33399|client:localhost:37589|dataStream:localhost:41991|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:37179|admin:localhost:32869|client:localhost:43097|dataStream:localhost:40255|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:43:51,111 [s5-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s5@group-DBB9B69BC5CD: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-07 04:43:51,111 [s5-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s5: start s5@group-DBB9B69BC5CD-FollowerState
2023-03-07 04:43:51,112 [s5-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-DBB9B69BC5CD,id=s5
2023-03-07 04:43:51,112 [s5@group-DBB9B69BC5CD-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:43:51,112 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-07 04:43:51,112 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-07 04:43:51,112 [s5@group-DBB9B69BC5CD-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:43:51,112 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-07 04:43:51,114 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s5: start RPC server
2023-03-07 04:43:51,115 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s5: GrpcService started, listening on 43097
2023-03-07 04:43:51,120 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s5: GrpcService started, listening on 37179
2023-03-07 04:43:51,121 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s5: GrpcService started, listening on 32869
2023-03-07 04:43:51,121 [JvmPauseMonitor5] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s5: Started
2023-03-07 04:43:51,122 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:43:51,122 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:43:51,265 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-7717479BDDC4->s3: receive RaftClientReply:client-7717479BDDC4->s3@group-DBB9B69BC5CD, cid=6, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-DBB9B69BC5CD is not the leader, logIndex=0, commits[s3:c-1]
2023-03-07 04:43:51,281 [s3@group-DBB9B69BC5CD-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s3@group-DBB9B69BC5CD-FollowerState: change to CANDIDATE, lastRpcElapsedTime:203510105ns, electionTimeout:202ms
2023-03-07 04:43:51,281 [s3@group-DBB9B69BC5CD-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-DBB9B69BC5CD-FollowerState
2023-03-07 04:43:51,281 [s3@group-DBB9B69BC5CD-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s3@group-DBB9B69BC5CD: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-03-07 04:43:51,281 [s3@group-DBB9B69BC5CD-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-07 04:43:51,281 [s3@group-DBB9B69BC5CD-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-DBB9B69BC5CD-LeaderElection4
2023-03-07 04:43:51,288 [s3@group-DBB9B69BC5CD-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s3@group-DBB9B69BC5CD-LeaderElection4 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s3|rpc:localhost:33071|admin:localhost:40689|client:localhost:41179|dataStream:localhost:35127|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34315|admin:localhost:33399|client:localhost:37589|dataStream:localhost:41991|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:37179|admin:localhost:32869|client:localhost:43097|dataStream:localhost:40255|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:43:51,289 [s3@group-DBB9B69BC5CD-LeaderElection4-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(64)) - Build channel for s4
2023-03-07 04:43:51,292 [s3@group-DBB9B69BC5CD-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:43:51,293 [s3@group-DBB9B69BC5CD-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:43:51,293 [s3@group-DBB9B69BC5CD-LeaderElection4-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(64)) - Build channel for s5
2023-03-07 04:43:51,331 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s4@group-DBB9B69BC5CD: receive requestVote(PRE_VOTE, s3, group-DBB9B69BC5CD, 0, (t:0, i:0))
2023-03-07 04:43:51,331 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-DBB9B69BC5CD-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2023-03-07 04:43:51,331 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s4@group-DBB9B69BC5CD replies to PRE_VOTE vote request: s3<-s4#0:OK-t0. Peer's state: s4@group-DBB9B69BC5CD:t0, leader=null, voted=, raftlog=Memoized:s4@group-DBB9B69BC5CD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:33071|admin:localhost:40689|client:localhost:41179|dataStream:localhost:35127|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34315|admin:localhost:33399|client:localhost:37589|dataStream:localhost:41991|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:37179|admin:localhost:32869|client:localhost:43097|dataStream:localhost:40255|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:43:51,340 [s3@group-DBB9B69BC5CD-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s3@group-DBB9B69BC5CD-LeaderElection4: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-03-07 04:43:51,340 [s3@group-DBB9B69BC5CD-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s3<-s4#0:OK-t0
2023-03-07 04:43:51,340 [s3@group-DBB9B69BC5CD-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s3@group-DBB9B69BC5CD-LeaderElection4 PRE_VOTE round 0: result PASSED
2023-03-07 04:43:51,344 [s5@group-DBB9B69BC5CD-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s5@group-DBB9B69BC5CD-FollowerState: change to CANDIDATE, lastRpcElapsedTime:233436349ns, electionTimeout:230ms
2023-03-07 04:43:51,344 [s5@group-DBB9B69BC5CD-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s5: shutdown s5@group-DBB9B69BC5CD-FollowerState
2023-03-07 04:43:51,345 [s5@group-DBB9B69BC5CD-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s5@group-DBB9B69BC5CD: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-03-07 04:43:51,345 [s5@group-DBB9B69BC5CD-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-07 04:43:51,345 [s5@group-DBB9B69BC5CD-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s5: start s5@group-DBB9B69BC5CD-LeaderElection5
2023-03-07 04:43:51,345 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s5@group-DBB9B69BC5CD: receive requestVote(PRE_VOTE, s3, group-DBB9B69BC5CD, 0, (t:0, i:0))
2023-03-07 04:43:51,345 [s3@group-DBB9B69BC5CD-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s3@group-DBB9B69BC5CD-LeaderElection4 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s3|rpc:localhost:33071|admin:localhost:40689|client:localhost:41179|dataStream:localhost:35127|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34315|admin:localhost:33399|client:localhost:37589|dataStream:localhost:41991|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:37179|admin:localhost:32869|client:localhost:43097|dataStream:localhost:40255|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:43:51,346 [s3@group-DBB9B69BC5CD-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:43:51,346 [s3@group-DBB9B69BC5CD-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:43:51,349 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s5@group-DBB9B69BC5CD-CANDIDATE: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2023-03-07 04:43:51,349 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s5@group-DBB9B69BC5CD replies to PRE_VOTE vote request: s3<-s5#0:OK-t0. Peer's state: s5@group-DBB9B69BC5CD:t0, leader=null, voted=, raftlog=Memoized:s5@group-DBB9B69BC5CD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:33071|admin:localhost:40689|client:localhost:41179|dataStream:localhost:35127|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34315|admin:localhost:33399|client:localhost:37589|dataStream:localhost:41991|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:37179|admin:localhost:32869|client:localhost:43097|dataStream:localhost:40255|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:43:51,351 [s5@group-DBB9B69BC5CD-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s5@group-DBB9B69BC5CD-LeaderElection5 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s3|rpc:localhost:33071|admin:localhost:40689|client:localhost:41179|dataStream:localhost:35127|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34315|admin:localhost:33399|client:localhost:37589|dataStream:localhost:41991|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:37179|admin:localhost:32869|client:localhost:43097|dataStream:localhost:40255|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:43:51,351 [s5@group-DBB9B69BC5CD-LeaderElection5-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(64)) - Build channel for s3
2023-03-07 04:43:51,357 [s5@group-DBB9B69BC5CD-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:43:51,357 [s5@group-DBB9B69BC5CD-LeaderElection5-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(64)) - Build channel for s4
2023-03-07 04:43:51,357 [s5@group-DBB9B69BC5CD-LeaderElection5] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:43:51,357 [s4@group-DBB9B69BC5CD-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:43:51,358 [s4@group-DBB9B69BC5CD-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:43:51,359 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s4@group-DBB9B69BC5CD: receive requestVote(ELECTION, s3, group-DBB9B69BC5CD, 1, (t:0, i:0))
2023-03-07 04:43:51,359 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-DBB9B69BC5CD-FOLLOWER: accept ELECTION from s3: our priority 0 <= candidate's priority 0
2023-03-07 04:43:51,359 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s4@group-DBB9B69BC5CD: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s3
2023-03-07 04:43:51,359 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-DBB9B69BC5CD-FollowerState
2023-03-07 04:43:51,360 [s4@group-DBB9B69BC5CD-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s4@group-DBB9B69BC5CD-FollowerState was interrupted
2023-03-07 04:43:51,360 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-DBB9B69BC5CD-FollowerState
2023-03-07 04:43:51,360 [s4@group-DBB9B69BC5CD-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:43:51,365 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s4@group-DBB9B69BC5CD replies to ELECTION vote request: s3<-s4#0:OK-t1. Peer's state: s4@group-DBB9B69BC5CD:t1, leader=null, voted=s3, raftlog=Memoized:s4@group-DBB9B69BC5CD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:33071|admin:localhost:40689|client:localhost:41179|dataStream:localhost:35127|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34315|admin:localhost:33399|client:localhost:37589|dataStream:localhost:41991|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:37179|admin:localhost:32869|client:localhost:43097|dataStream:localhost:40255|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:43:51,366 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s5@group-DBB9B69BC5CD: receive requestVote(ELECTION, s3, group-DBB9B69BC5CD, 1, (t:0, i:0))
2023-03-07 04:43:51,367 [s3@group-DBB9B69BC5CD-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s3@group-DBB9B69BC5CD-LeaderElection4: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-03-07 04:43:51,367 [s3@group-DBB9B69BC5CD-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s3<-s4#0:OK-t1
2023-03-07 04:43:51,367 [s3@group-DBB9B69BC5CD-LeaderElection4] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s3@group-DBB9B69BC5CD-LeaderElection4 ELECTION round 0: result PASSED
2023-03-07 04:43:51,367 [s3@group-DBB9B69BC5CD-LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s3: shutdown s3@group-DBB9B69BC5CD-LeaderElection4
2023-03-07 04:43:51,367 [s4@group-DBB9B69BC5CD-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:43:51,368 [s3@group-DBB9B69BC5CD-LeaderElection4] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s3@group-DBB9B69BC5CD: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-03-07 04:43:51,368 [s3@group-DBB9B69BC5CD-LeaderElection4] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s3@group-DBB9B69BC5CD: change Leader from null to s3 at term 1 for becomeLeader, leader elected after 317ms
2023-03-07 04:43:51,368 [s3@group-DBB9B69BC5CD-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-03-07 04:43:51,368 [s3@group-DBB9B69BC5CD-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2023-03-07 04:43:51,368 [s3@group-DBB9B69BC5CD-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 1MB (=1048576) (custom)
2023-03-07 04:43:51,368 [s3@group-DBB9B69BC5CD-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-03-07 04:43:51,368 [s3@group-DBB9B69BC5CD-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-03-07 04:43:51,368 [s3@group-DBB9B69BC5CD-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-03-07 04:43:51,368 [s3@group-DBB9B69BC5CD-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2023-03-07 04:43:51,368 [s3@group-DBB9B69BC5CD-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-03-07 04:43:51,369 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s5@group-DBB9B69BC5CD-CANDIDATE: accept ELECTION from s3: our priority 0 <= candidate's priority 0
2023-03-07 04:43:51,369 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s5@group-DBB9B69BC5CD: changes role from CANDIDATE to FOLLOWER at term 1 for candidate:s3
2023-03-07 04:43:51,369 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s5: shutdown s5@group-DBB9B69BC5CD-LeaderElection5
2023-03-07 04:43:51,369 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s5: start s5@group-DBB9B69BC5CD-FollowerState
2023-03-07 04:43:51,369 [s3@group-DBB9B69BC5CD-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-07 04:43:51,369 [s3@group-DBB9B69BC5CD-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:43:51,369 [s3@group-DBB9B69BC5CD-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-07 04:43:51,369 [s3@group-DBB9B69BC5CD-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-07 04:43:51,369 [s3@group-DBB9B69BC5CD-LeaderElection4] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2023-03-07 04:43:51,369 [s3@group-DBB9B69BC5CD-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-07 04:43:51,369 [s3@group-DBB9B69BC5CD-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-07 04:43:51,369 [s3@group-DBB9B69BC5CD-LeaderElection4] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-03-07 04:43:51,373 [s3@group-DBB9B69BC5CD-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-07 04:43:51,373 [s3@group-DBB9B69BC5CD-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:43:51,373 [s3@group-DBB9B69BC5CD-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-07 04:43:51,373 [s3@group-DBB9B69BC5CD-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-07 04:43:51,373 [s3@group-DBB9B69BC5CD-LeaderElection4] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2023-03-07 04:43:51,373 [s3@group-DBB9B69BC5CD-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-07 04:43:51,373 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s5@group-DBB9B69BC5CD replies to ELECTION vote request: s3<-s5#0:OK-t1. Peer's state: s5@group-DBB9B69BC5CD:t1, leader=null, voted=s3, raftlog=Memoized:s5@group-DBB9B69BC5CD-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:33071|admin:localhost:40689|client:localhost:41179|dataStream:localhost:35127|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34315|admin:localhost:33399|client:localhost:37589|dataStream:localhost:41991|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:37179|admin:localhost:32869|client:localhost:43097|dataStream:localhost:40255|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:43:51,377 [s3@group-DBB9B69BC5CD-LeaderElection4] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-07 04:43:51,377 [s3@group-DBB9B69BC5CD-LeaderElection4] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-03-07 04:43:51,378 [s3@group-DBB9B69BC5CD-LeaderElection4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-DBB9B69BC5CD-LeaderStateImpl
2023-03-07 04:43:51,378 [s3@group-DBB9B69BC5CD-LeaderElection4] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s3@group-DBB9B69BC5CD-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-07 04:43:51,380 [timer4] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:43:51,380 [timer4] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:43:51,381 [s5@group-DBB9B69BC5CD-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:43:51,381 [s5@group-DBB9B69BC5CD-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:43:51,395 [s3@group-DBB9B69BC5CD-LeaderElection4] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s3@group-DBB9B69BC5CD: set configuration 0: peers:[s3|rpc:localhost:33071|admin:localhost:40689|client:localhost:41179|dataStream:localhost:35127|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34315|admin:localhost:33399|client:localhost:37589|dataStream:localhost:41991|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:37179|admin:localhost:32869|client:localhost:43097|dataStream:localhost:40255|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:43:51,400 [s3@group-DBB9B69BC5CD-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s3@group-DBB9B69BC5CD-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc7c72648/s3/bf093e66-b2aa-4253-bf22-dbb9b69bc5cd/current/log_inprogress_0
2023-03-07 04:43:51,421 [s4-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s4@group-DBB9B69BC5CD: change Leader from null to s3 at term 1 for appendEntries, leader elected after 360ms
2023-03-07 04:43:51,433 [s5-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s5@group-DBB9B69BC5CD: change Leader from null to s3 at term 1 for appendEntries, leader elected after 362ms
2023-03-07 04:43:51,437 [s4-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s4@group-DBB9B69BC5CD: set configuration 0: peers:[s3|rpc:localhost:33071|admin:localhost:40689|client:localhost:41179|dataStream:localhost:35127|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34315|admin:localhost:33399|client:localhost:37589|dataStream:localhost:41991|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:37179|admin:localhost:32869|client:localhost:43097|dataStream:localhost:40255|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:43:51,438 [s4-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s4@group-DBB9B69BC5CD-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-07 04:43:51,438 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s3@group-DBB9B69BC5CD: receive requestVote(PRE_VOTE, s5, group-DBB9B69BC5CD, 0, (t:0, i:0))
2023-03-07 04:43:51,438 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-DBB9B69BC5CD-LEADER: reject PRE_VOTE from s5: this server is the leader and still has leadership
2023-03-07 04:43:51,438 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s3@group-DBB9B69BC5CD replies to PRE_VOTE vote request: s5<-s3#0:FAIL-t1. Peer's state: s3@group-DBB9B69BC5CD:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-DBB9B69BC5CD-SegmentedRaftLog:OPENED:c-1, conf=0: peers:[s3|rpc:localhost:33071|admin:localhost:40689|client:localhost:41179|dataStream:localhost:35127|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34315|admin:localhost:33399|client:localhost:37589|dataStream:localhost:41991|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:37179|admin:localhost:32869|client:localhost:43097|dataStream:localhost:40255|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:43:51,447 [s5-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s5@group-DBB9B69BC5CD: set configuration 0: peers:[s3|rpc:localhost:33071|admin:localhost:40689|client:localhost:41179|dataStream:localhost:35127|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34315|admin:localhost:33399|client:localhost:37589|dataStream:localhost:41991|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:37179|admin:localhost:32869|client:localhost:43097|dataStream:localhost:40255|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:43:51,447 [s5-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s5@group-DBB9B69BC5CD-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-07 04:43:51,449 [s5@group-DBB9B69BC5CD-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s5@group-DBB9B69BC5CD-LeaderElection5: PRE_VOTE DISCOVERED_A_NEW_TERM (term=1) received 1 response(s) and 0 exception(s):
2023-03-07 04:43:51,449 [s5@group-DBB9B69BC5CD-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s5<-s3#0:FAIL-t1
2023-03-07 04:43:51,449 [s5@group-DBB9B69BC5CD-LeaderElection5] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s5@group-DBB9B69BC5CD-LeaderElection5 PRE_VOTE round 0: result DISCOVERED_A_NEW_TERM (term=1)
2023-03-07 04:43:51,516 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s4@group-DBB9B69BC5CD: receive requestVote(PRE_VOTE, s5, group-DBB9B69BC5CD, 0, (t:0, i:0))
2023-03-07 04:43:51,517 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-DBB9B69BC5CD-FOLLOWER: reject PRE_VOTE from s5: this server is a follower and still has a valid leader s3
2023-03-07 04:43:51,517 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s4@group-DBB9B69BC5CD replies to PRE_VOTE vote request: s5<-s4#0:FAIL-t1. Peer's state: s4@group-DBB9B69BC5CD:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-DBB9B69BC5CD-SegmentedRaftLog:OPENED:c-1, conf=0: peers:[s3|rpc:localhost:33071|admin:localhost:40689|client:localhost:41179|dataStream:localhost:35127|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34315|admin:localhost:33399|client:localhost:37589|dataStream:localhost:41991|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:37179|admin:localhost:32869|client:localhost:43097|dataStream:localhost:40255|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:43:51,521 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-7717479BDDC4->s4: receive RaftClientReply:client-7717479BDDC4->s4@group-DBB9B69BC5CD, cid=6, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s4@group-DBB9B69BC5CD is not the leader s3|rpc:localhost:33071|admin:localhost:40689|client:localhost:41179|dataStream:localhost:35127|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s4:c-1, s3:c-1, s5:c-1]
2023-03-07 04:43:51,525 [timer5] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:43:51,525 [timer5] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:43:51,570 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-7717479BDDC4->s3: receive RaftClientReply:client-7717479BDDC4->s3@group-DBB9B69BC5CD, cid=6, FAILED org.apache.ratis.protocol.exceptions.LeaderNotReadyException: s3@group-DBB9B69BC5CD is in LEADER state but not ready yet., logIndex=0, commits[s3:c-1, s4:c-1, s5:c-1]
2023-03-07 04:43:51,596 [s4@group-DBB9B69BC5CD-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s4@group-DBB9B69BC5CD-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc7c72648/s4/bf093e66-b2aa-4253-bf22-dbb9b69bc5cd/current/log_inprogress_0
2023-03-07 04:43:51,596 [s5@group-DBB9B69BC5CD-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s5@group-DBB9B69BC5CD-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc7c72648/s5/bf093e66-b2aa-4253-bf22-dbb9b69bc5cd/current/log_inprogress_0
2023-03-07 04:43:51,776 [timer5] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:43:51,776 [timer5] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:43:51,830 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-7717479BDDC4->s4: receive RaftClientReply:client-7717479BDDC4->s4@group-DBB9B69BC5CD, cid=6, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s4@group-DBB9B69BC5CD is not the leader s3|rpc:localhost:33071|admin:localhost:40689|client:localhost:41179|dataStream:localhost:35127|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s4:c0, s3:c0, s5:c0]
2023-03-07 04:43:51,839 [timer7] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:43:51,839 [timer7] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:43:51,897 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-7717479BDDC4->s3: receive RaftClientReply:client-7717479BDDC4->s3@group-DBB9B69BC5CD, cid=6, SUCCESS, logIndex=0, commits[s3:c0, s4:c0, s5:c0]
2023-03-07 04:43:51,905 [s3@group-DBB9B69BC5CD-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 7@client-7717479BDDC4
2023-03-07 04:43:51,906 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-7717479BDDC4->s3: receive RaftClientReply:client-7717479BDDC4->s3@group-DBB9B69BC5CD, cid=7, SUCCESS, logIndex=1, commits[s3:c1, s4:c0, s5:c0]
2023-03-07 04:43:51,914 [Time-limited test] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:block(135)) - block FLUSH_STATE_MACHINE_DATA
2023-03-07 04:43:51,915 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:43:51,915 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:43:51,917 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:43:51,917 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:43:51,918 [s4@group-DBB9B69BC5CD-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 7@client-7717479BDDC4
2023-03-07 04:43:51,926 [s5@group-DBB9B69BC5CD-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 7@client-7717479BDDC4
2023-03-07 04:43:51,929 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:43:51,929 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:43:51,930 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:43:51,931 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:43:51,956 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:43:51,956 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:43:51,976 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:43:51,976 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:43:51,991 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:43:51,991 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:43:52,006 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:43:52,007 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:43:52,025 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:43:52,025 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:43:52,029 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:43:52,030 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:43:52,052 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:43:52,052 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:43:52,206 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-E7607A3FE67D->s3: receive RaftClientReply:client-E7607A3FE67D->s3@group-DBB9B69BC5CD, cid=8, SUCCESS, logIndex=2, commits[s3:c2, s4:c2, s5:c2]
2023-03-07 04:43:52,310 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-925970FCB748->s3: receive RaftClientReply:client-925970FCB748->s3@group-DBB9B69BC5CD, cid=16, SUCCESS, logIndex=2, commits[s3:c2, s4:c2, s5:c2]
2023-03-07 04:43:52,312 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-0FFE0F3C953F->s3: receive RaftClientReply:client-0FFE0F3C953F->s3@group-DBB9B69BC5CD, cid=24, SUCCESS, logIndex=2, commits[s3:c2, s4:c2, s5:c2]
2023-03-07 04:43:52,322 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-2F7C054A3438->s3: receive RaftClientReply:client-2F7C054A3438->s3@group-DBB9B69BC5CD, cid=12, SUCCESS, logIndex=2, commits[s3:c2, s4:c2, s5:c2]
2023-03-07 04:43:52,332 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-20C448F1A2DE->s3: receive RaftClientReply:client-20C448F1A2DE->s3@group-DBB9B69BC5CD, cid=14, SUCCESS, logIndex=2, commits[s3:c2, s4:c2, s5:c2]
2023-03-07 04:43:52,333 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-0B81E1492270->s3: receive RaftClientReply:client-0B81E1492270->s3@group-DBB9B69BC5CD, cid=10, SUCCESS, logIndex=2, commits[s3:c2, s4:c2, s5:c2]
2023-03-07 04:43:52,357 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-80A0519375C0->s3: receive RaftClientReply:client-80A0519375C0->s3@group-DBB9B69BC5CD, cid=26, SUCCESS, logIndex=2, commits[s3:c2, s4:c2, s5:c2]
2023-03-07 04:43:52,358 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-AEDF1DAD423D->s3: receive RaftClientReply:client-AEDF1DAD423D->s3@group-DBB9B69BC5CD, cid=20, SUCCESS, logIndex=2, commits[s3:c2, s4:c2, s5:c2]
2023-03-07 04:43:52,364 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-4C639D018D25->s3: receive RaftClientReply:client-4C639D018D25->s3@group-DBB9B69BC5CD, cid=18, SUCCESS, logIndex=2, commits[s3:c2, s4:c2, s5:c2]
2023-03-07 04:43:52,369 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-BF207000FDEC->s3: receive RaftClientReply:client-BF207000FDEC->s3@group-DBB9B69BC5CD, cid=22, SUCCESS, logIndex=2, commits[s3:c2, s4:c2, s5:c2]
2023-03-07 04:43:52,372 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-26345A052429->s3: receive RaftClientReply:client-26345A052429->s3@group-DBB9B69BC5CD, cid=28, SUCCESS, logIndex=2, commits[s3:c2, s4:c2, s5:c2]
2023-03-07 04:43:52,417 [grpc-default-executor-7] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=message 9
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s3@group-DBB9B69BC5CD: Failed to acquire a pending write request for RaftClientRequest:client-26345A052429->s3@group-DBB9B69BC5CD, cid=29, seq=2, RW, Message:6d6573736167652039
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:392)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:487)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s3@group-DBB9B69BC5CD: Failed to acquire a pending write request for RaftClientRequest:client-26345A052429->s3@group-DBB9B69BC5CD, cid=29, seq=2, RW, Message:6d6573736167652039
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:775)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:886)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:824)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:824)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	... 3 more
	Suppressed: java.lang.NullPointerException
		at org.apache.ratis.server.impl.RaftServerImpl.lambda$submitClientRequestAsync$15(RaftServerImpl.java:894)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883)
		at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251)
		at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:893)
		... 7 more
2023-03-07 04:43:52,678 [Time-limited test] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:unblock(142)) - unblock FLUSH_STATE_MACHINE_DATA
2023-03-07 04:43:52,684 [s3@group-DBB9B69BC5CD-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 3, message 3 -> (t:1, i:3), STATEMACHINELOGENTRY, 17@client-925970FCB748
2023-03-07 04:43:52,685 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-925970FCB748->s3: receive RaftClientReply:client-925970FCB748->s3@group-DBB9B69BC5CD, cid=17, SUCCESS, logIndex=3, commits[s3:c12, s4:c2, s5:c2]
2023-03-07 04:43:52,686 [s3@group-DBB9B69BC5CD-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 4, message 1 -> (t:1, i:4), STATEMACHINELOGENTRY, 13@client-2F7C054A3438
2023-03-07 04:43:52,687 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-2F7C054A3438->s3: receive RaftClientReply:client-2F7C054A3438->s3@group-DBB9B69BC5CD, cid=13, SUCCESS, logIndex=4, commits[s3:c12, s4:c2, s5:c2]
2023-03-07 04:43:52,691 [s3@group-DBB9B69BC5CD-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 5, message 7 -> (t:1, i:5), STATEMACHINELOGENTRY, 25@client-0FFE0F3C953F
2023-03-07 04:43:52,692 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-0FFE0F3C953F->s3: receive RaftClientReply:client-0FFE0F3C953F->s3@group-DBB9B69BC5CD, cid=25, SUCCESS, logIndex=5, commits[s3:c12, s4:c2, s5:c2]
2023-03-07 04:43:52,693 [s3@group-DBB9B69BC5CD-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 6, 2nd Messag... -> (t:1, i:6), STATEMACHINELOGENTRY, 9@client-E7607A3FE67D
2023-03-07 04:43:52,694 [s3@group-DBB9B69BC5CD-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 7, message 0 -> (t:1, i:7), STATEMACHINELOGENTRY, 11@client-0B81E1492270
2023-03-07 04:43:52,695 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-0B81E1492270->s3: receive RaftClientReply:client-0B81E1492270->s3@group-DBB9B69BC5CD, cid=11, SUCCESS, logIndex=7, commits[s3:c12, s4:c2, s5:c2]
2023-03-07 04:43:52,696 [s5@group-DBB9B69BC5CD-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 3, message 3 -> (t:1, i:3), STATEMACHINELOGENTRY, 17@client-925970FCB748
2023-03-07 04:43:52,696 [s5@group-DBB9B69BC5CD-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 4, message 1 -> (t:1, i:4), STATEMACHINELOGENTRY, 13@client-2F7C054A3438
2023-03-07 04:43:52,696 [s5@group-DBB9B69BC5CD-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 5, message 7 -> (t:1, i:5), STATEMACHINELOGENTRY, 25@client-0FFE0F3C953F
2023-03-07 04:43:52,697 [s5@group-DBB9B69BC5CD-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 6, 2nd Messag... -> (t:1, i:6), STATEMACHINELOGENTRY, 9@client-E7607A3FE67D
2023-03-07 04:43:52,697 [s5@group-DBB9B69BC5CD-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 7, message 0 -> (t:1, i:7), STATEMACHINELOGENTRY, 11@client-0B81E1492270
2023-03-07 04:43:52,697 [s5@group-DBB9B69BC5CD-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 8, message 2 -> (t:1, i:8), STATEMACHINELOGENTRY, 15@client-20C448F1A2DE
2023-03-07 04:43:52,697 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-E7607A3FE67D->s3: receive RaftClientReply:client-E7607A3FE67D->s3@group-DBB9B69BC5CD, cid=9, SUCCESS, logIndex=6, commits[s3:c12, s4:c2, s5:c2]
2023-03-07 04:43:52,697 [s5@group-DBB9B69BC5CD-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 9, message 8 -> (t:1, i:9), STATEMACHINELOGENTRY, 27@client-80A0519375C0
2023-03-07 04:43:52,697 [s5@group-DBB9B69BC5CD-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 10, message 5 -> (t:1, i:10), STATEMACHINELOGENTRY, 21@client-AEDF1DAD423D
2023-03-07 04:43:52,697 [s4@group-DBB9B69BC5CD-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 3, message 3 -> (t:1, i:3), STATEMACHINELOGENTRY, 17@client-925970FCB748
2023-03-07 04:43:52,698 [s5@group-DBB9B69BC5CD-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 11, message 4 -> (t:1, i:11), STATEMACHINELOGENTRY, 19@client-4C639D018D25
2023-03-07 04:43:52,698 [s4@group-DBB9B69BC5CD-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 4, message 1 -> (t:1, i:4), STATEMACHINELOGENTRY, 13@client-2F7C054A3438
2023-03-07 04:43:52,698 [s3@group-DBB9B69BC5CD-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 8, message 2 -> (t:1, i:8), STATEMACHINELOGENTRY, 15@client-20C448F1A2DE
2023-03-07 04:43:52,698 [s3@group-DBB9B69BC5CD-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 9, message 8 -> (t:1, i:9), STATEMACHINELOGENTRY, 27@client-80A0519375C0
2023-03-07 04:43:52,698 [s3@group-DBB9B69BC5CD-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 10, message 5 -> (t:1, i:10), STATEMACHINELOGENTRY, 21@client-AEDF1DAD423D
2023-03-07 04:43:52,699 [s3@group-DBB9B69BC5CD-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 11, message 4 -> (t:1, i:11), STATEMACHINELOGENTRY, 19@client-4C639D018D25
2023-03-07 04:43:52,699 [s3@group-DBB9B69BC5CD-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 12, message 6 -> (t:1, i:12), STATEMACHINELOGENTRY, 23@client-BF207000FDEC
2023-03-07 04:43:52,697 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:43:52,700 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-AEDF1DAD423D->s3: receive RaftClientReply:client-AEDF1DAD423D->s3@group-DBB9B69BC5CD, cid=21, SUCCESS, logIndex=10, commits[s3:c12, s4:c2, s5:c2]
2023-03-07 04:43:52,698 [s4@group-DBB9B69BC5CD-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 5, message 7 -> (t:1, i:5), STATEMACHINELOGENTRY, 25@client-0FFE0F3C953F
2023-03-07 04:43:52,700 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:43:52,701 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-80A0519375C0->s3: receive RaftClientReply:client-80A0519375C0->s3@group-DBB9B69BC5CD, cid=27, SUCCESS, logIndex=9, commits[s3:c12, s4:c2, s5:c2]
2023-03-07 04:43:52,701 [s5@group-DBB9B69BC5CD-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 12, message 6 -> (t:1, i:12), STATEMACHINELOGENTRY, 23@client-BF207000FDEC
2023-03-07 04:43:52,704 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-20C448F1A2DE->s3: receive RaftClientReply:client-20C448F1A2DE->s3@group-DBB9B69BC5CD, cid=15, SUCCESS, logIndex=8, commits[s3:c12, s4:c2, s5:c2]
2023-03-07 04:43:52,704 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-BF207000FDEC->s3: receive RaftClientReply:client-BF207000FDEC->s3@group-DBB9B69BC5CD, cid=23, SUCCESS, logIndex=12, commits[s3:c12, s4:c2, s5:c2]
2023-03-07 04:43:52,704 [s4@group-DBB9B69BC5CD-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 6, 2nd Messag... -> (t:1, i:6), STATEMACHINELOGENTRY, 9@client-E7607A3FE67D
2023-03-07 04:43:52,704 [s4@group-DBB9B69BC5CD-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 7, message 0 -> (t:1, i:7), STATEMACHINELOGENTRY, 11@client-0B81E1492270
2023-03-07 04:43:52,704 [s4@group-DBB9B69BC5CD-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 8, message 2 -> (t:1, i:8), STATEMACHINELOGENTRY, 15@client-20C448F1A2DE
2023-03-07 04:43:52,705 [s4@group-DBB9B69BC5CD-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 9, message 8 -> (t:1, i:9), STATEMACHINELOGENTRY, 27@client-80A0519375C0
2023-03-07 04:43:52,705 [s4@group-DBB9B69BC5CD-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 10, message 5 -> (t:1, i:10), STATEMACHINELOGENTRY, 21@client-AEDF1DAD423D
2023-03-07 04:43:52,705 [s4@group-DBB9B69BC5CD-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 11, message 4 -> (t:1, i:11), STATEMACHINELOGENTRY, 19@client-4C639D018D25
2023-03-07 04:43:52,705 [s4@group-DBB9B69BC5CD-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 12, message 6 -> (t:1, i:12), STATEMACHINELOGENTRY, 23@client-BF207000FDEC
2023-03-07 04:43:52,708 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-4C639D018D25->s3: receive RaftClientReply:client-4C639D018D25->s3@group-DBB9B69BC5CD, cid=19, SUCCESS, logIndex=11, commits[s3:c12, s4:c2, s5:c2]
2023-03-07 04:43:52,748 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-E23E1105DF98->s3: receive RaftClientReply:client-E23E1105DF98->s3@group-DBB9B69BC5CD, cid=30, SUCCESS, logIndex=13, commits[s3:c13, s4:c12, s5:c12]
2023-03-07 04:43:52,777 [grpc-default-executor-5] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=1025kb (=1049600)-message
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s3@group-DBB9B69BC5CD: Failed to acquire a pending write request for RaftClientRequest:client-E23E1105DF98->s3@group-DBB9B69BC5CD, cid=31, seq=2, RW, Message:54edc2556a9509b11328...(size=1049600)
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:392)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:487)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:468)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:432)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:465)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s3@group-DBB9B69BC5CD: Failed to acquire a pending write request for RaftClientRequest:client-E23E1105DF98->s3@group-DBB9B69BC5CD, cid=31, seq=2, RW, Message:54edc2556a9509b11328...(size=1049600)
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:775)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:886)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:824)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:824)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	... 3 more
	Suppressed: java.lang.NullPointerException
		at org.apache.ratis.server.impl.RaftServerImpl.lambda$submitClientRequestAsync$15(RaftServerImpl.java:894)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883)
		at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251)
		at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:893)
		... 7 more
2023-03-07 04:43:53,209 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-03-07 04:43:53,209 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-03-07 04:43:53,209 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2023-03-07 04:43:53,209 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-03-07 04:43:53,209 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-03-07 04:43:53,209 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s3:  RUNNING    LEADER s3@group-DBB9B69BC5CD:t1, leader=s3, voted=s3, raftlog=Memoized:s3@group-DBB9B69BC5CD-SegmentedRaftLog:OPENED:c13, conf=0: peers:[s3|rpc:localhost:33071|admin:localhost:40689|client:localhost:41179|dataStream:localhost:35127|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34315|admin:localhost:33399|client:localhost:37589|dataStream:localhost:41991|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:37179|admin:localhost:32869|client:localhost:43097|dataStream:localhost:40255|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-DBB9B69BC5CD:t1, leader=s3, voted=s3, raftlog=Memoized:s4@group-DBB9B69BC5CD-SegmentedRaftLog:OPENED:c13, conf=0: peers:[s3|rpc:localhost:33071|admin:localhost:40689|client:localhost:41179|dataStream:localhost:35127|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34315|admin:localhost:33399|client:localhost:37589|dataStream:localhost:41991|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:37179|admin:localhost:32869|client:localhost:43097|dataStream:localhost:40255|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s5:  RUNNING  FOLLOWER s5@group-DBB9B69BC5CD:t1, leader=s3, voted=s3, raftlog=Memoized:s5@group-DBB9B69BC5CD-SegmentedRaftLog:OPENED:c13, conf=0: peers:[s3|rpc:localhost:33071|admin:localhost:40689|client:localhost:41179|dataStream:localhost:35127|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:34315|admin:localhost:33399|client:localhost:37589|dataStream:localhost:41991|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:37179|admin:localhost:32869|client:localhost:43097|dataStream:localhost:40255|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-07 04:43:53,221 [MiniRaftCluster-4] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s3: close
2023-03-07 04:43:53,232 [MiniRaftCluster-4] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-03-07 04:43:53,232 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s3@group-DBB9B69BC5CD: shutdown
2023-03-07 04:43:53,232 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-DBB9B69BC5CD,id=s3
2023-03-07 04:43:53,232 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s3: shutdown s3@group-DBB9B69BC5CD-LeaderStateImpl
2023-03-07 04:43:53,232 [s3-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s3@group-DBB9B69BC5CD-PendingRequests: sendNotLeaderResponses
2023-03-07 04:43:53,233 [MiniRaftCluster-6] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s5: close
2023-03-07 04:43:53,234 [s5-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s5@group-DBB9B69BC5CD: shutdown
2023-03-07 04:43:53,234 [s5-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-DBB9B69BC5CD,id=s5
2023-03-07 04:43:53,234 [s5-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s5: shutdown s5@group-DBB9B69BC5CD-FollowerState
2023-03-07 04:43:53,234 [s5-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s5@group-DBB9B69BC5CD-StateMachineUpdater: set stopIndex = 13
2023-03-07 04:43:53,234 [MiniRaftCluster-5] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s4: close
2023-03-07 04:43:53,234 [s5@group-DBB9B69BC5CD-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s5@group-DBB9B69BC5CD-FollowerState was interrupted
2023-03-07 04:43:53,235 [s5-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s5@group-DBB9B69BC5CD: applyIndex: 13
2023-03-07 04:43:53,235 [MiniRaftCluster-6] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s5: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-03-07 04:43:53,235 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s4: Completed APPEND_ENTRIES, lastRequest: s3->s4#5854-t1,previous=(t:1, i:12),leaderCommit=12,initializing? true,entries: size=1, first=(t:1, i:13), METADATAENTRY(c:12)
2023-03-07 04:43:53,236 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s5: Completed APPEND_ENTRIES, lastRequest: s3->s5#7219-t1,previous=(t:1, i:12),leaderCommit=12,initializing? true,entries: size=1, first=(t:1, i:13), METADATAENTRY(c:12)
2023-03-07 04:43:53,236 [Thread-188] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(102)) - s4 Close channels
2023-03-07 04:43:53,237 [Thread-189] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(102)) - s5 Close channels
2023-03-07 04:43:53,240 [MiniRaftCluster-4] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-03-07 04:43:53,240 [MiniRaftCluster-4] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s3: shutdown server GrpcServerProtocolService now
2023-03-07 04:43:53,241 [Thread-187] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(102)) - s3 Close channels
2023-03-07 04:43:53,242 [Thread-190] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(102)) - s4 Close channels
2023-03-07 04:43:53,244 [s3-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s3@group-DBB9B69BC5CD-StateMachineUpdater: set stopIndex = 13
2023-03-07 04:43:53,244 [MiniRaftCluster-5] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-03-07 04:43:53,244 [s3-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s3@group-DBB9B69BC5CD: applyIndex: 13
2023-03-07 04:43:53,244 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s4@group-DBB9B69BC5CD: shutdown
2023-03-07 04:43:53,236 [grpc-default-executor-5] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(417)) - s3@group-DBB9B69BC5CD->s4-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-03-07 04:43:53,237 [grpc-default-executor-7] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(417)) - s3@group-DBB9B69BC5CD->s5-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-03-07 04:43:53,245 [grpc-default-executor-7] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(128)) - s3@group-DBB9B69BC5CD->s5-GrpcLogAppender: Failed to getClient for s5
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s3 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:61)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:115)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:106)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:111)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$500(GrpcLogAppender.java:55)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:418)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:485)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-07 04:43:53,245 [grpc-default-executor-5] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(128)) - s3@group-DBB9B69BC5CD->s4-GrpcLogAppender: Failed to getClient for s4
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s3 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:61)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:115)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:106)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:111)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$500(GrpcLogAppender.java:55)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:418)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:485)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-07 04:43:53,245 [MiniRaftCluster-6] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s5: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-03-07 04:43:53,245 [MiniRaftCluster-6] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s5: shutdown server GrpcServerProtocolService now
2023-03-07 04:43:53,247 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-DBB9B69BC5CD,id=s4
2023-03-07 04:43:53,247 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-DBB9B69BC5CD-FollowerState
2023-03-07 04:43:53,247 [s4-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s4@group-DBB9B69BC5CD-StateMachineUpdater: set stopIndex = 13
2023-03-07 04:43:53,247 [s4@group-DBB9B69BC5CD-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s4@group-DBB9B69BC5CD-FollowerState was interrupted
2023-03-07 04:43:53,247 [s4-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s4@group-DBB9B69BC5CD: applyIndex: 13
2023-03-07 04:43:53,247 [MiniRaftCluster-5] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-03-07 04:43:53,248 [MiniRaftCluster-5] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s4: shutdown server GrpcServerProtocolService now
2023-03-07 04:43:53,248 [MiniRaftCluster-4] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s3: shutdown server GrpcServerProtocolService successfully
2023-03-07 04:43:53,251 [MiniRaftCluster-4] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-03-07 04:43:53,252 [MiniRaftCluster-6] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s5: shutdown server GrpcServerProtocolService successfully
2023-03-07 04:43:53,252 [MiniRaftCluster-6] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s5: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-03-07 04:43:53,253 [MiniRaftCluster-5] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s4: shutdown server GrpcServerProtocolService successfully
2023-03-07 04:43:53,253 [MiniRaftCluster-5] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-03-07 04:43:53,254 [MiniRaftCluster-6] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s5: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-03-07 04:43:53,255 [MiniRaftCluster-5] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-03-07 04:43:53,256 [MiniRaftCluster-4] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-03-07 04:43:53,691 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s3@group-DBB9B69BC5CD-SegmentedRaftLogWorker close()
2023-03-07 04:43:53,693 [JvmPauseMonitor3] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s3: Stopped
2023-03-07 04:43:53,696 [s5-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s5@group-DBB9B69BC5CD-SegmentedRaftLogWorker close()
2023-03-07 04:43:53,697 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s4@group-DBB9B69BC5CD-SegmentedRaftLogWorker close()
2023-03-07 04:43:53,698 [JvmPauseMonitor4] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s4: Stopped
2023-03-07 04:43:53,700 [JvmPauseMonitor5] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s5: Stopped
2023-03-07 04:43:53,701 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2023-03-07 04:43:53,701 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-03-07 04:43:53,701 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-03-07 04:43:53,701 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2023-03-07 04:43:53,704 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2023-03-07 04:43:53,704 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-93D52122973B:[s0|rpc:localhost:33405|admin:localhost:35309|client:localhost:34081|dataStream:localhost:35429|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34107|admin:localhost:38867|client:localhost:44881|dataStream:localhost:38173|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39475|admin:localhost:35615|client:localhost:41161|dataStream:localhost:39497|priority:0|startupRole:FOLLOWER]
2023-03-07 04:43:53,705 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-03-07 04:43:53,705 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-03-07 04:43:53,705 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2023-03-07 04:43:53,705 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-03-07 04:43:53,705 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-03-07 04:43:53,705 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-03-07 04:43:53,705 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-93D52122973B:[s0|rpc:localhost:33405|admin:localhost:35309|client:localhost:34081|dataStream:localhost:35429|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34107|admin:localhost:38867|client:localhost:44881|dataStream:localhost:38173|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39475|admin:localhost:35615|client:localhost:41161|dataStream:localhost:39497|priority:0|startupRole:FOLLOWER], format? true
2023-03-07 04:43:53,705 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/ac5303ae/MiniRaftClusterWithGrpc2c85672e/s0
2023-03-07 04:43:53,705 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/ac5303ae/MiniRaftClusterWithGrpc2c85672e/s0 does not exist.
2023-03-07 04:43:53,705 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/ac5303ae/MiniRaftClusterWithGrpc2c85672e/s0
2023-03-07 04:43:53,705 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-03-07 04:43:53,706 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:43:53,706 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 35309 (custom)
2023-03-07 04:43:53,706 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:43:53,706 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 34081 (custom)
2023-03-07 04:43:53,706 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-07 04:43:53,706 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 33405 (custom)
2023-03-07 04:43:53,706 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:43:53,706 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:43:53,706 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:43:53,706 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-07 04:43:53,706 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-03-07 04:43:53,707 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-07 04:43:53,707 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-07 04:43:53,708 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-07 04:43:53,708 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-07 04:43:53,708 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-07 04:43:53,708 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-07 04:43:53,708 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-07 04:43:53,708 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc2c85672e/s0] (custom)
2023-03-07 04:43:53,711 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-93D52122973B:[s0|rpc:localhost:33405|admin:localhost:35309|client:localhost:34081|dataStream:localhost:35429|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34107|admin:localhost:38867|client:localhost:44881|dataStream:localhost:38173|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39475|admin:localhost:35615|client:localhost:41161|dataStream:localhost:39497|priority:0|startupRole:FOLLOWER] returns group-93D52122973B:java.util.concurrent.CompletableFuture@4a44ba57[Not completed]
2023-03-07 04:43:53,711 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-93D52122973B:[s0|rpc:localhost:33405|admin:localhost:35309|client:localhost:34081|dataStream:localhost:35429|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34107|admin:localhost:38867|client:localhost:44881|dataStream:localhost:38173|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39475|admin:localhost:35615|client:localhost:41161|dataStream:localhost:39497|priority:0|startupRole:FOLLOWER], format? true
2023-03-07 04:43:53,711 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/ac5303ae/MiniRaftClusterWithGrpc2c85672e/s1
2023-03-07 04:43:53,711 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/ac5303ae/MiniRaftClusterWithGrpc2c85672e/s1 does not exist.
2023-03-07 04:43:53,711 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/ac5303ae/MiniRaftClusterWithGrpc2c85672e/s1
2023-03-07 04:43:53,712 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-03-07 04:43:53,712 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:43:53,712 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 38867 (custom)
2023-03-07 04:43:53,712 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:43:53,712 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 44881 (custom)
2023-03-07 04:43:53,712 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-07 04:43:53,712 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 34107 (custom)
2023-03-07 04:43:53,712 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:43:53,712 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:43:53,712 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:43:53,712 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-07 04:43:53,712 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-03-07 04:43:53,712 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-07 04:43:53,712 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-07 04:43:53,713 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-07 04:43:53,713 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-07 04:43:53,713 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-07 04:43:53,713 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-07 04:43:53,713 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-07 04:43:53,714 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc2c85672e/s1] (custom)
2023-03-07 04:43:53,714 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:43:53,714 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-07 04:43:53,714 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-07 04:43:53,714 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-93D52122973B:[s0|rpc:localhost:33405|admin:localhost:35309|client:localhost:34081|dataStream:localhost:35429|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34107|admin:localhost:38867|client:localhost:44881|dataStream:localhost:38173|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39475|admin:localhost:35615|client:localhost:41161|dataStream:localhost:39497|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-03-07 04:43:53,714 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-07 04:43:53,714 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-07 04:43:53,714 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-07 04:43:53,714 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-07 04:43:53,714 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-07 04:43:53,715 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-07 04:43:53,715 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-93D52122973B: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:33405|admin:localhost:35309|client:localhost:34081|dataStream:localhost:35429|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34107|admin:localhost:38867|client:localhost:44881|dataStream:localhost:38173|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39475|admin:localhost:35615|client:localhost:41161|dataStream:localhost:39497|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-07 04:43:53,715 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-07 04:43:53,715 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-07 04:43:53,715 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-07 04:43:53,715 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-07 04:43:53,715 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-07 04:43:53,716 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-07 04:43:53,716 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-07 04:43:53,716 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-07 04:43:53,716 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-07 04:43:53,716 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-07 04:43:53,717 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-93D52122973B:[s0|rpc:localhost:33405|admin:localhost:35309|client:localhost:34081|dataStream:localhost:35429|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34107|admin:localhost:38867|client:localhost:44881|dataStream:localhost:38173|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39475|admin:localhost:35615|client:localhost:41161|dataStream:localhost:39497|priority:0|startupRole:FOLLOWER] returns group-93D52122973B:java.util.concurrent.CompletableFuture@4512c9ef[Not completed]
2023-03-07 04:43:53,717 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-93D52122973B:[s0|rpc:localhost:33405|admin:localhost:35309|client:localhost:34081|dataStream:localhost:35429|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34107|admin:localhost:38867|client:localhost:44881|dataStream:localhost:38173|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39475|admin:localhost:35615|client:localhost:41161|dataStream:localhost:39497|priority:0|startupRole:FOLLOWER], format? true
2023-03-07 04:43:53,717 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/ac5303ae/MiniRaftClusterWithGrpc2c85672e/s2
2023-03-07 04:43:53,717 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/ac5303ae/MiniRaftClusterWithGrpc2c85672e/s2 does not exist.
2023-03-07 04:43:53,717 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/ac5303ae/MiniRaftClusterWithGrpc2c85672e/s2
2023-03-07 04:43:53,718 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:43:53,718 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-07 04:43:53,718 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-07 04:43:53,718 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-93D52122973B:[s0|rpc:localhost:33405|admin:localhost:35309|client:localhost:34081|dataStream:localhost:35429|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34107|admin:localhost:38867|client:localhost:44881|dataStream:localhost:38173|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39475|admin:localhost:35615|client:localhost:41161|dataStream:localhost:39497|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-03-07 04:43:53,718 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-07 04:43:53,718 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-07 04:43:53,718 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-07 04:43:53,718 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-07 04:43:53,718 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-07 04:43:53,718 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-07 04:43:53,718 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-93D52122973B: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:33405|admin:localhost:35309|client:localhost:34081|dataStream:localhost:35429|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34107|admin:localhost:38867|client:localhost:44881|dataStream:localhost:38173|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39475|admin:localhost:35615|client:localhost:41161|dataStream:localhost:39497|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-07 04:43:53,719 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-07 04:43:53,719 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-07 04:43:53,719 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-07 04:43:53,719 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-07 04:43:53,719 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-07 04:43:53,720 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-07 04:43:53,720 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-07 04:43:53,720 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-07 04:43:53,720 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-07 04:43:53,720 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-07 04:43:53,720 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-03-07 04:43:53,720 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:43:53,720 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 35615 (custom)
2023-03-07 04:43:53,720 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:43:53,721 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 41161 (custom)
2023-03-07 04:43:53,721 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-07 04:43:53,721 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 39475 (custom)
2023-03-07 04:43:53,721 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:43:53,721 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:43:53,721 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:43:53,721 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-07 04:43:53,721 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-03-07 04:43:53,721 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-07 04:43:53,721 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-07 04:43:53,722 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-07 04:43:53,722 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-07 04:43:53,722 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-07 04:43:53,722 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-07 04:43:53,722 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-07 04:43:53,722 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc2c85672e/s2] (custom)
2023-03-07 04:43:53,727 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-93D52122973B:[s0|rpc:localhost:33405|admin:localhost:35309|client:localhost:34081|dataStream:localhost:35429|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34107|admin:localhost:38867|client:localhost:44881|dataStream:localhost:38173|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39475|admin:localhost:35615|client:localhost:41161|dataStream:localhost:39497|priority:0|startupRole:FOLLOWER] returns group-93D52122973B:java.util.concurrent.CompletableFuture@d183b70[Not completed]
2023-03-07 04:43:53,728 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-07 04:43:53,728 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-07 04:43:53,728 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc2c85672e/s0] (custom)
2023-03-07 04:43:53,728 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc2c85672e/s0/44be6d46-2447-4081-89b4-93d52122973b does not exist. Creating ...
2023-03-07 04:43:53,728 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc2c85672e/s0/44be6d46-2447-4081-89b4-93d52122973b
2023-03-07 04:43:53,729 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:43:53,729 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-07 04:43:53,729 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-07 04:43:53,729 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-93D52122973B:[s0|rpc:localhost:33405|admin:localhost:35309|client:localhost:34081|dataStream:localhost:35429|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34107|admin:localhost:38867|client:localhost:44881|dataStream:localhost:38173|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39475|admin:localhost:35615|client:localhost:41161|dataStream:localhost:39497|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-03-07 04:43:53,729 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-07 04:43:53,729 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-07 04:43:53,729 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-07 04:43:53,729 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-07 04:43:53,729 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-07 04:43:53,729 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-07 04:43:53,730 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc2c85672e/s0/44be6d46-2447-4081-89b4-93d52122973b/in_use.lock acquired by nodename 17652@fv-az443-797
2023-03-07 04:43:53,730 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc2c85672e/s0/44be6d46-2447-4081-89b4-93d52122973b/current
2023-03-07 04:43:53,730 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc2c85672e/s0/44be6d46-2447-4081-89b4-93d52122973b/sm
2023-03-07 04:43:53,732 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-93D52122973B: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:33405|admin:localhost:35309|client:localhost:34081|dataStream:localhost:35429|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34107|admin:localhost:38867|client:localhost:44881|dataStream:localhost:38173|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39475|admin:localhost:35615|client:localhost:41161|dataStream:localhost:39497|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-07 04:43:53,732 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc2c85672e/s0/44be6d46-2447-4081-89b4-93d52122973b has been successfully formatted.
2023-03-07 04:43:53,732 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-03-07 04:43:53,732 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-03-07 04:43:53,732 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-07 04:43:53,732 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-07 04:43:53,732 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:43:53,732 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-07 04:43:53,732 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-07 04:43:53,733 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:43:53,733 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-07 04:43:53,733 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-07 04:43:53,733 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:43:53,733 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s0@group-93D52122973B-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc2c85672e/s0/44be6d46-2447-4081-89b4-93d52122973b
2023-03-07 04:43:53,733 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-07 04:43:53,733 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-07 04:43:53,733 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:43:53,733 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-07 04:43:53,733 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-07 04:43:53,733 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-07 04:43:53,733 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-07 04:43:53,733 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-07 04:43:53,733 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-07 04:43:53,733 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:43:53,734 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-07 04:43:53,734 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-07 04:43:53,734 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-07 04:43:53,734 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-93D52122973B-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-07 04:43:53,734 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-93D52122973B-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-07 04:43:53,736 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-07 04:43:53,736 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-07 04:43:53,736 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-07 04:43:53,736 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-07 04:43:53,737 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-07 04:43:53,738 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-07 04:43:53,738 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s0@group-93D52122973B: start as a follower, conf=-1: peers:[s0|rpc:localhost:33405|admin:localhost:35309|client:localhost:34081|dataStream:localhost:35429|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34107|admin:localhost:38867|client:localhost:44881|dataStream:localhost:38173|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39475|admin:localhost:35615|client:localhost:41161|dataStream:localhost:39497|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:43:53,738 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-93D52122973B: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-07 04:43:53,738 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-93D52122973B-FollowerState
2023-03-07 04:43:53,739 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-07 04:43:53,739 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-07 04:43:53,739 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-07 04:43:53,739 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-07 04:43:53,739 [s0@group-93D52122973B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:43:53,739 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-93D52122973B,id=s0
2023-03-07 04:43:53,739 [s0@group-93D52122973B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:43:53,739 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-07 04:43:53,739 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-07 04:43:53,739 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-07 04:43:53,740 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s0: start RPC server
2023-03-07 04:43:53,741 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 34081
2023-03-07 04:43:53,743 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 33405
2023-03-07 04:43:53,745 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 35309
2023-03-07 04:43:53,745 [JvmPauseMonitor6] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2023-03-07 04:43:53,745 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-07 04:43:53,745 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-07 04:43:53,745 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc2c85672e/s1] (custom)
2023-03-07 04:43:53,745 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc2c85672e/s1/44be6d46-2447-4081-89b4-93d52122973b does not exist. Creating ...
2023-03-07 04:43:53,746 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc2c85672e/s1/44be6d46-2447-4081-89b4-93d52122973b
2023-03-07 04:43:53,746 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc2c85672e/s1/44be6d46-2447-4081-89b4-93d52122973b/in_use.lock acquired by nodename 17652@fv-az443-797
2023-03-07 04:43:53,747 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc2c85672e/s1/44be6d46-2447-4081-89b4-93d52122973b/current
2023-03-07 04:43:53,747 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc2c85672e/s1/44be6d46-2447-4081-89b4-93d52122973b/sm
2023-03-07 04:43:53,748 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc2c85672e/s1/44be6d46-2447-4081-89b4-93d52122973b has been successfully formatted.
2023-03-07 04:43:53,748 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-03-07 04:43:53,748 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-03-07 04:43:53,748 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-07 04:43:53,748 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-07 04:43:53,748 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:43:53,748 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-07 04:43:53,748 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-07 04:43:53,749 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:43:53,749 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-07 04:43:53,749 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-07 04:43:53,749 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:43:53,749 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s1@group-93D52122973B-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc2c85672e/s1/44be6d46-2447-4081-89b4-93d52122973b
2023-03-07 04:43:53,749 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-07 04:43:53,749 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-07 04:43:53,749 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:43:53,749 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-07 04:43:53,749 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-07 04:43:53,749 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-07 04:43:53,749 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-07 04:43:53,749 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-07 04:43:53,749 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-07 04:43:53,749 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:43:53,751 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-07 04:43:53,751 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-07 04:43:53,751 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-07 04:43:53,751 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-93D52122973B-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-07 04:43:53,751 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-93D52122973B-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-07 04:43:53,755 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s1@group-93D52122973B: start as a follower, conf=-1: peers:[s0|rpc:localhost:33405|admin:localhost:35309|client:localhost:34081|dataStream:localhost:35429|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34107|admin:localhost:38867|client:localhost:44881|dataStream:localhost:38173|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39475|admin:localhost:35615|client:localhost:41161|dataStream:localhost:39497|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:43:53,755 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-93D52122973B: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-07 04:43:53,755 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-93D52122973B-FollowerState
2023-03-07 04:43:53,761 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-93D52122973B,id=s1
2023-03-07 04:43:53,761 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-07 04:43:53,761 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-07 04:43:53,761 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-07 04:43:53,762 [s1@group-93D52122973B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:43:53,762 [s1@group-93D52122973B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:43:53,762 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s1: start RPC server
2023-03-07 04:43:53,763 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 44881
2023-03-07 04:43:53,763 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 34107
2023-03-07 04:43:53,764 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 38867
2023-03-07 04:43:53,764 [JvmPauseMonitor7] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2023-03-07 04:43:53,764 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-07 04:43:53,764 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-07 04:43:53,764 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc2c85672e/s2] (custom)
2023-03-07 04:43:53,764 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc2c85672e/s2/44be6d46-2447-4081-89b4-93d52122973b does not exist. Creating ...
2023-03-07 04:43:53,765 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc2c85672e/s2/44be6d46-2447-4081-89b4-93d52122973b
2023-03-07 04:43:53,766 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc2c85672e/s2/44be6d46-2447-4081-89b4-93d52122973b/in_use.lock acquired by nodename 17652@fv-az443-797
2023-03-07 04:43:53,766 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc2c85672e/s2/44be6d46-2447-4081-89b4-93d52122973b/current
2023-03-07 04:43:53,766 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc2c85672e/s2/44be6d46-2447-4081-89b4-93d52122973b/sm
2023-03-07 04:43:53,767 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc2c85672e/s2/44be6d46-2447-4081-89b4-93d52122973b has been successfully formatted.
2023-03-07 04:43:53,767 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-03-07 04:43:53,767 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-03-07 04:43:53,767 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-07 04:43:53,767 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-07 04:43:53,767 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:43:53,767 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-07 04:43:53,767 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-07 04:43:53,768 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:43:53,768 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-07 04:43:53,768 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-07 04:43:53,768 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:43:53,768 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s2@group-93D52122973B-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc2c85672e/s2/44be6d46-2447-4081-89b4-93d52122973b
2023-03-07 04:43:53,768 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-07 04:43:53,768 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-07 04:43:53,768 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:43:53,768 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-07 04:43:53,768 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-07 04:43:53,768 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-07 04:43:53,768 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-07 04:43:53,768 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-07 04:43:53,768 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-07 04:43:53,769 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:43:53,770 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-07 04:43:53,770 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-07 04:43:53,770 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-07 04:43:53,770 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-93D52122973B-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-07 04:43:53,770 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-93D52122973B-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-07 04:43:53,776 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s2@group-93D52122973B: start as a follower, conf=-1: peers:[s0|rpc:localhost:33405|admin:localhost:35309|client:localhost:34081|dataStream:localhost:35429|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34107|admin:localhost:38867|client:localhost:44881|dataStream:localhost:38173|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39475|admin:localhost:35615|client:localhost:41161|dataStream:localhost:39497|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:43:53,777 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-93D52122973B: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-07 04:43:53,777 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-93D52122973B-FollowerState
2023-03-07 04:43:53,780 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-93D52122973B,id=s2
2023-03-07 04:43:53,781 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-07 04:43:53,781 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-07 04:43:53,781 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-07 04:43:53,781 [s2@group-93D52122973B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:43:53,782 [s2@group-93D52122973B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:43:53,782 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s2: start RPC server
2023-03-07 04:43:53,782 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 41161
2023-03-07 04:43:53,783 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 39475
2023-03-07 04:43:53,783 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 35615
2023-03-07 04:43:53,784 [JvmPauseMonitor8] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2023-03-07 04:43:53,789 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:43:53,789 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:43:53,803 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-1221E502A83F->s0: receive RaftClientReply:client-1221E502A83F->s0@group-93D52122973B, cid=32, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-93D52122973B is not the leader, logIndex=0, commits[s0:c-1]
2023-03-07 04:43:53,893 [s0@group-93D52122973B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-93D52122973B-FollowerState: change to CANDIDATE, lastRpcElapsedTime:154131006ns, electionTimeout:153ms
2023-03-07 04:43:53,893 [s0@group-93D52122973B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-93D52122973B-FollowerState
2023-03-07 04:43:53,893 [s0@group-93D52122973B-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-93D52122973B: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-03-07 04:43:53,894 [s0@group-93D52122973B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-07 04:43:53,894 [s0@group-93D52122973B-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-93D52122973B-LeaderElection6
2023-03-07 04:43:53,895 [s0@group-93D52122973B-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-93D52122973B-LeaderElection6 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:33405|admin:localhost:35309|client:localhost:34081|dataStream:localhost:35429|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34107|admin:localhost:38867|client:localhost:44881|dataStream:localhost:38173|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39475|admin:localhost:35615|client:localhost:41161|dataStream:localhost:39497|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:43:53,896 [s0@group-93D52122973B-LeaderElection6-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(64)) - Build channel for s1
2023-03-07 04:43:53,904 [s0@group-93D52122973B-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:43:53,904 [s0@group-93D52122973B-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:43:53,905 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s1@group-93D52122973B: receive requestVote(PRE_VOTE, s0, group-93D52122973B, 0, (t:0, i:0))
2023-03-07 04:43:53,905 [s0@group-93D52122973B-LeaderElection6-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(64)) - Build channel for s2
2023-03-07 04:43:53,905 [grpc-default-executor-7] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-93D52122973B-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-03-07 04:43:53,905 [grpc-default-executor-7] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s1@group-93D52122973B replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-93D52122973B:t0, leader=null, voted=, raftlog=Memoized:s1@group-93D52122973B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33405|admin:localhost:35309|client:localhost:34081|dataStream:localhost:35429|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34107|admin:localhost:38867|client:localhost:44881|dataStream:localhost:38173|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39475|admin:localhost:35615|client:localhost:41161|dataStream:localhost:39497|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:43:53,906 [timer7] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:43:53,906 [timer7] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:43:53,907 [s0@group-93D52122973B-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-93D52122973B-LeaderElection6: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-03-07 04:43:53,907 [s0@group-93D52122973B-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t0
2023-03-07 04:43:53,907 [s0@group-93D52122973B-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-93D52122973B-LeaderElection6 PRE_VOTE round 0: result PASSED
2023-03-07 04:43:53,909 [s0@group-93D52122973B-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-93D52122973B-LeaderElection6 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:33405|admin:localhost:35309|client:localhost:34081|dataStream:localhost:35429|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34107|admin:localhost:38867|client:localhost:44881|dataStream:localhost:38173|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39475|admin:localhost:35615|client:localhost:41161|dataStream:localhost:39497|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:43:53,917 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s2@group-93D52122973B: receive requestVote(PRE_VOTE, s0, group-93D52122973B, 0, (t:0, i:0))
2023-03-07 04:43:53,917 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-93D52122973B-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-03-07 04:43:53,917 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s2@group-93D52122973B replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-93D52122973B:t0, leader=null, voted=, raftlog=Memoized:s2@group-93D52122973B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33405|admin:localhost:35309|client:localhost:34081|dataStream:localhost:35429|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34107|admin:localhost:38867|client:localhost:44881|dataStream:localhost:38173|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39475|admin:localhost:35615|client:localhost:41161|dataStream:localhost:39497|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:43:53,918 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s1@group-93D52122973B: receive requestVote(ELECTION, s0, group-93D52122973B, 1, (t:0, i:0))
2023-03-07 04:43:53,918 [s0@group-93D52122973B-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:43:53,918 [s0@group-93D52122973B-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:43:53,919 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s2@group-93D52122973B: receive requestVote(ELECTION, s0, group-93D52122973B, 1, (t:0, i:0))
2023-03-07 04:43:53,920 [grpc-default-executor-5] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-93D52122973B-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2023-03-07 04:43:53,920 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-93D52122973B: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2023-03-07 04:43:53,920 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-93D52122973B-FollowerState
2023-03-07 04:43:53,920 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-93D52122973B-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2023-03-07 04:43:53,920 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-93D52122973B: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2023-03-07 04:43:53,920 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-93D52122973B-FollowerState
2023-03-07 04:43:53,920 [s2@group-93D52122973B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-93D52122973B-FollowerState was interrupted
2023-03-07 04:43:53,920 [s1@group-93D52122973B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-93D52122973B-FollowerState was interrupted
2023-03-07 04:43:53,921 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-93D52122973B-FollowerState
2023-03-07 04:43:53,921 [grpc-default-executor-5] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-93D52122973B-FollowerState
2023-03-07 04:43:53,925 [s2@group-93D52122973B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:43:53,925 [s2@group-93D52122973B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:43:53,926 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s2@group-93D52122973B replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-93D52122973B:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-93D52122973B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33405|admin:localhost:35309|client:localhost:34081|dataStream:localhost:35429|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34107|admin:localhost:38867|client:localhost:44881|dataStream:localhost:38173|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39475|admin:localhost:35615|client:localhost:41161|dataStream:localhost:39497|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:43:53,926 [s0@group-93D52122973B-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-93D52122973B-LeaderElection6: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-03-07 04:43:53,926 [s0@group-93D52122973B-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s2#0:OK-t1
2023-03-07 04:43:53,926 [s0@group-93D52122973B-LeaderElection6] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-93D52122973B-LeaderElection6 ELECTION round 0: result PASSED
2023-03-07 04:43:53,926 [s0@group-93D52122973B-LeaderElection6] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-93D52122973B-LeaderElection6
2023-03-07 04:43:53,927 [s0@group-93D52122973B-LeaderElection6] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-93D52122973B: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-03-07 04:43:53,927 [s0@group-93D52122973B-LeaderElection6] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-93D52122973B: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 211ms
2023-03-07 04:43:53,927 [s0@group-93D52122973B-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-03-07 04:43:53,927 [s0@group-93D52122973B-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2023-03-07 04:43:53,927 [s0@group-93D52122973B-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 1MB (=1048576) (custom)
2023-03-07 04:43:53,927 [grpc-default-executor-5] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s1@group-93D52122973B replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-93D52122973B:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-93D52122973B-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33405|admin:localhost:35309|client:localhost:34081|dataStream:localhost:35429|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34107|admin:localhost:38867|client:localhost:44881|dataStream:localhost:38173|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39475|admin:localhost:35615|client:localhost:41161|dataStream:localhost:39497|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:43:53,927 [s0@group-93D52122973B-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-03-07 04:43:53,927 [s0@group-93D52122973B-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-03-07 04:43:53,927 [s0@group-93D52122973B-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-03-07 04:43:53,927 [s0@group-93D52122973B-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2023-03-07 04:43:53,927 [s0@group-93D52122973B-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-03-07 04:43:53,928 [s0@group-93D52122973B-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-07 04:43:53,928 [s0@group-93D52122973B-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:43:53,928 [s0@group-93D52122973B-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-07 04:43:53,928 [s0@group-93D52122973B-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-07 04:43:53,928 [s0@group-93D52122973B-LeaderElection6] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2023-03-07 04:43:53,928 [s0@group-93D52122973B-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-07 04:43:53,928 [s0@group-93D52122973B-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-07 04:43:53,928 [s0@group-93D52122973B-LeaderElection6] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-03-07 04:43:53,928 [s0@group-93D52122973B-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-07 04:43:53,928 [s0@group-93D52122973B-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:43:53,928 [s0@group-93D52122973B-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-07 04:43:53,928 [s0@group-93D52122973B-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-07 04:43:53,928 [s0@group-93D52122973B-LeaderElection6] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2023-03-07 04:43:53,928 [s0@group-93D52122973B-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-07 04:43:53,928 [s0@group-93D52122973B-LeaderElection6] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-07 04:43:53,928 [s0@group-93D52122973B-LeaderElection6] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-03-07 04:43:53,929 [s0@group-93D52122973B-LeaderElection6] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-93D52122973B-LeaderStateImpl
2023-03-07 04:43:53,929 [s0@group-93D52122973B-LeaderElection6] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s0@group-93D52122973B-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-07 04:43:53,931 [s1@group-93D52122973B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:43:53,931 [s1@group-93D52122973B-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:43:53,938 [s0@group-93D52122973B-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s0@group-93D52122973B-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc2c85672e/s0/44be6d46-2447-4081-89b4-93d52122973b/current/log_inprogress_0
2023-03-07 04:43:53,943 [s0@group-93D52122973B-LeaderElection6] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-93D52122973B: set configuration 0: peers:[s0|rpc:localhost:33405|admin:localhost:35309|client:localhost:34081|dataStream:localhost:35429|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34107|admin:localhost:38867|client:localhost:44881|dataStream:localhost:38173|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39475|admin:localhost:35615|client:localhost:41161|dataStream:localhost:39497|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:43:53,943 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-1221E502A83F->s2: receive RaftClientReply:client-1221E502A83F->s2@group-93D52122973B, cid=32, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s2@group-93D52122973B is not the leader, logIndex=0, commits[s2:c-1]
2023-03-07 04:43:53,944 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-93D52122973B: change Leader from null to s0 at term 1 for appendEntries, leader elected after 225ms
2023-03-07 04:43:53,950 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-93D52122973B: change Leader from null to s0 at term 1 for appendEntries, leader elected after 218ms
2023-03-07 04:43:53,952 [s1-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s1@group-93D52122973B: set configuration 0: peers:[s0|rpc:localhost:33405|admin:localhost:35309|client:localhost:34081|dataStream:localhost:35429|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34107|admin:localhost:38867|client:localhost:44881|dataStream:localhost:38173|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39475|admin:localhost:35615|client:localhost:41161|dataStream:localhost:39497|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:43:53,953 [s1-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s1@group-93D52122973B-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-07 04:43:53,958 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s2@group-93D52122973B: set configuration 0: peers:[s0|rpc:localhost:33405|admin:localhost:35309|client:localhost:34081|dataStream:localhost:35429|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34107|admin:localhost:38867|client:localhost:44881|dataStream:localhost:38173|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39475|admin:localhost:35615|client:localhost:41161|dataStream:localhost:39497|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:43:53,958 [s2-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s2@group-93D52122973B-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-07 04:43:53,963 [s1@group-93D52122973B-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s1@group-93D52122973B-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc2c85672e/s1/44be6d46-2447-4081-89b4-93d52122973b/current/log_inprogress_0
2023-03-07 04:43:53,976 [s2@group-93D52122973B-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s2@group-93D52122973B-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc2c85672e/s2/44be6d46-2447-4081-89b4-93d52122973b/current/log_inprogress_0
2023-03-07 04:43:54,053 [timer3] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:43:54,053 [timer3] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:43:54,074 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-1221E502A83F->s1: receive RaftClientReply:client-1221E502A83F->s1@group-93D52122973B, cid=32, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s1@group-93D52122973B is not the leader s0|rpc:localhost:33405|admin:localhost:35309|client:localhost:34081|dataStream:localhost:35429|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s1:c0, s0:c0, s2:c-1]
2023-03-07 04:43:54,077 [timer7] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:43:54,077 [timer7] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:43:54,093 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-1221E502A83F->s0: receive RaftClientReply:client-1221E502A83F->s0@group-93D52122973B, cid=32, SUCCESS, logIndex=0, commits[s0:c0, s1:c0, s2:c0]
2023-03-07 04:43:54,109 [s0@group-93D52122973B-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 33@client-1221E502A83F
2023-03-07 04:43:54,110 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-1221E502A83F->s0: receive RaftClientReply:client-1221E502A83F->s0@group-93D52122973B, cid=33, SUCCESS, logIndex=1, commits[s0:c1, s1:c0, s2:c0]
2023-03-07 04:43:54,112 [s1@group-93D52122973B-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 33@client-1221E502A83F
2023-03-07 04:43:54,117 [s2@group-93D52122973B-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 33@client-1221E502A83F
2023-03-07 04:43:54,144 [Time-limited test] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:block(135)) - block FLUSH_STATE_MACHINE_DATA
2023-03-07 04:43:54,145 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:43:54,145 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:43:54,146 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:43:54,146 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:43:54,148 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:43:54,148 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:43:54,150 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:43:54,150 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:43:54,156 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:43:54,156 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:43:54,158 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:43:54,158 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:43:54,159 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:43:54,160 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:43:54,161 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:43:54,161 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:43:54,163 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:43:54,163 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:43:54,184 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:43:54,184 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:43:54,193 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:43:54,193 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:43:54,205 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-9DDC263D129F->s0: receive RaftClientReply:client-9DDC263D129F->s0@group-93D52122973B, cid=38, SUCCESS, logIndex=2, commits[s0:c2, s1:c1, s2:c1]
2023-03-07 04:43:54,207 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-E16DE4FED924->s0: receive RaftClientReply:client-E16DE4FED924->s0@group-93D52122973B, cid=36, SUCCESS, logIndex=2, commits[s0:c2, s1:c1, s2:c1]
2023-03-07 04:43:54,215 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-5C407E4D6B91->s0: receive RaftClientReply:client-5C407E4D6B91->s0@group-93D52122973B, cid=44, SUCCESS, logIndex=2, commits[s0:c2, s1:c1, s2:c1]
2023-03-07 04:43:54,224 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-0966528C4CC5->s0: receive RaftClientReply:client-0966528C4CC5->s0@group-93D52122973B, cid=48, SUCCESS, logIndex=2, commits[s0:c2, s1:c1, s2:c1]
2023-03-07 04:43:54,244 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-34CD0D0D2735->s0: receive RaftClientReply:client-34CD0D0D2735->s0@group-93D52122973B, cid=34, SUCCESS, logIndex=2, commits[s0:c2, s1:c1, s2:c1]
2023-03-07 04:43:54,256 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-D9694D047E1B->s0: receive RaftClientReply:client-D9694D047E1B->s0@group-93D52122973B, cid=52, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c1]
2023-03-07 04:43:54,266 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-2DE7F8723D14->s0: receive RaftClientReply:client-2DE7F8723D14->s0@group-93D52122973B, cid=54, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2023-03-07 04:43:54,267 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-E2DE4B2BC4D1->s0: receive RaftClientReply:client-E2DE4B2BC4D1->s0@group-93D52122973B, cid=50, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c1]
2023-03-07 04:43:54,274 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-42B9C8DCAD32->s0: receive RaftClientReply:client-42B9C8DCAD32->s0@group-93D52122973B, cid=46, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2023-03-07 04:43:54,275 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-672D59D9E751->s0: receive RaftClientReply:client-672D59D9E751->s0@group-93D52122973B, cid=42, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2023-03-07 04:43:54,277 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-50069D272598->s0: receive RaftClientReply:client-50069D272598->s0@group-93D52122973B, cid=40, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2023-03-07 04:43:54,290 [grpc-default-executor-7] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=message 6
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-93D52122973B: Failed to acquire a pending write request for RaftClientRequest:client-0966528C4CC5->s0@group-93D52122973B, cid=49, seq=2, RW, Message:6d6573736167652036
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:392)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:487)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-93D52122973B: Failed to acquire a pending write request for RaftClientRequest:client-0966528C4CC5->s0@group-93D52122973B, cid=49, seq=2, RW, Message:6d6573736167652036
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:775)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:886)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:824)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:824)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	... 3 more
	Suppressed: java.lang.NullPointerException
		at org.apache.ratis.server.impl.RaftServerImpl.lambda$submitClientRequestAsync$15(RaftServerImpl.java:894)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883)
		at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251)
		at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:893)
		... 7 more
2023-03-07 04:43:54,496 [Time-limited test] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:unblock(142)) - unblock FLUSH_STATE_MACHINE_DATA
2023-03-07 04:43:54,501 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:43:54,501 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:43:54,525 [s0@group-93D52122973B-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 3, message 0 -> (t:1, i:3), STATEMACHINELOGENTRY, 37@client-E16DE4FED924
2023-03-07 04:43:54,528 [s0@group-93D52122973B-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 4, message 1 -> (t:1, i:4), STATEMACHINELOGENTRY, 39@client-9DDC263D129F
2023-03-07 04:43:54,528 [grpc-default-executor-10] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-E16DE4FED924->s0: receive RaftClientReply:client-E16DE4FED924->s0@group-93D52122973B, cid=37, SUCCESS, logIndex=3, commits[s0:c3, s1:c2, s2:c2]
2023-03-07 04:43:54,528 [s0@group-93D52122973B-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 5, message 4 -> (t:1, i:5), STATEMACHINELOGENTRY, 45@client-5C407E4D6B91
2023-03-07 04:43:54,528 [s0@group-93D52122973B-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 6, message 9 -> (t:1, i:6), STATEMACHINELOGENTRY, 55@client-2DE7F8723D14
2023-03-07 04:43:54,528 [s0@group-93D52122973B-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 7, message 5 -> (t:1, i:7), STATEMACHINELOGENTRY, 47@client-42B9C8DCAD32
2023-03-07 04:43:54,528 [s0@group-93D52122973B-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 8, message 3 -> (t:1, i:8), STATEMACHINELOGENTRY, 43@client-672D59D9E751
2023-03-07 04:43:54,529 [s0@group-93D52122973B-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 9, message 8 -> (t:1, i:9), STATEMACHINELOGENTRY, 53@client-D9694D047E1B
2023-03-07 04:43:54,529 [s0@group-93D52122973B-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 10, message 7 -> (t:1, i:10), STATEMACHINELOGENTRY, 51@client-E2DE4B2BC4D1
2023-03-07 04:43:54,529 [s0@group-93D52122973B-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 11, 2nd Messag... -> (t:1, i:11), STATEMACHINELOGENTRY, 35@client-34CD0D0D2735
2023-03-07 04:43:54,529 [s0@group-93D52122973B-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 12, message 2 -> (t:1, i:12), STATEMACHINELOGENTRY, 41@client-50069D272598
2023-03-07 04:43:54,530 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-F79921E3A08D->s0: receive RaftClientReply:client-F79921E3A08D->s0@group-93D52122973B, cid=56, SUCCESS, logIndex=3, commits[s0:c3, s1:c2, s2:c2]
2023-03-07 04:43:54,530 [grpc-default-executor-11] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-D9694D047E1B->s0: receive RaftClientReply:client-D9694D047E1B->s0@group-93D52122973B, cid=53, SUCCESS, logIndex=9, commits[s0:c12, s1:c2, s2:c2]
2023-03-07 04:43:54,530 [grpc-default-executor-9] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-34CD0D0D2735->s0: receive RaftClientReply:client-34CD0D0D2735->s0@group-93D52122973B, cid=35, SUCCESS, logIndex=11, commits[s0:c12, s1:c2, s2:c2]
2023-03-07 04:43:54,530 [grpc-default-executor-5] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-5C407E4D6B91->s0: receive RaftClientReply:client-5C407E4D6B91->s0@group-93D52122973B, cid=45, SUCCESS, logIndex=5, commits[s0:c12, s1:c2, s2:c2]
2023-03-07 04:43:54,531 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-42B9C8DCAD32->s0: receive RaftClientReply:client-42B9C8DCAD32->s0@group-93D52122973B, cid=47, SUCCESS, logIndex=7, commits[s0:c12, s1:c2, s2:c2]
2023-03-07 04:43:54,531 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-E2DE4B2BC4D1->s0: receive RaftClientReply:client-E2DE4B2BC4D1->s0@group-93D52122973B, cid=51, SUCCESS, logIndex=10, commits[s0:c12, s1:c2, s2:c2]
2023-03-07 04:43:54,531 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-672D59D9E751->s0: receive RaftClientReply:client-672D59D9E751->s0@group-93D52122973B, cid=43, SUCCESS, logIndex=8, commits[s0:c12, s1:c2, s2:c2]
2023-03-07 04:43:54,531 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-50069D272598->s0: receive RaftClientReply:client-50069D272598->s0@group-93D52122973B, cid=41, SUCCESS, logIndex=12, commits[s0:c12, s1:c2, s2:c2]
2023-03-07 04:43:54,530 [grpc-default-executor-7] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-9DDC263D129F->s0: receive RaftClientReply:client-9DDC263D129F->s0@group-93D52122973B, cid=39, SUCCESS, logIndex=4, commits[s0:c12, s1:c2, s2:c2]
2023-03-07 04:43:54,531 [grpc-default-executor-10] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-2DE7F8723D14->s0: receive RaftClientReply:client-2DE7F8723D14->s0@group-93D52122973B, cid=55, SUCCESS, logIndex=6, commits[s0:c12, s1:c2, s2:c2]
2023-03-07 04:43:54,532 [s1@group-93D52122973B-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 3, message 0 -> (t:1, i:3), STATEMACHINELOGENTRY, 37@client-E16DE4FED924
2023-03-07 04:43:54,532 [s2@group-93D52122973B-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 3, message 0 -> (t:1, i:3), STATEMACHINELOGENTRY, 37@client-E16DE4FED924
2023-03-07 04:43:54,532 [s2@group-93D52122973B-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 4, message 1 -> (t:1, i:4), STATEMACHINELOGENTRY, 39@client-9DDC263D129F
2023-03-07 04:43:54,533 [s2@group-93D52122973B-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 5, message 4 -> (t:1, i:5), STATEMACHINELOGENTRY, 45@client-5C407E4D6B91
2023-03-07 04:43:54,533 [s2@group-93D52122973B-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 6, message 9 -> (t:1, i:6), STATEMACHINELOGENTRY, 55@client-2DE7F8723D14
2023-03-07 04:43:54,533 [s2@group-93D52122973B-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 7, message 5 -> (t:1, i:7), STATEMACHINELOGENTRY, 47@client-42B9C8DCAD32
2023-03-07 04:43:54,533 [s2@group-93D52122973B-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 8, message 3 -> (t:1, i:8), STATEMACHINELOGENTRY, 43@client-672D59D9E751
2023-03-07 04:43:54,533 [s2@group-93D52122973B-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 9, message 8 -> (t:1, i:9), STATEMACHINELOGENTRY, 53@client-D9694D047E1B
2023-03-07 04:43:54,533 [s2@group-93D52122973B-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 10, message 7 -> (t:1, i:10), STATEMACHINELOGENTRY, 51@client-E2DE4B2BC4D1
2023-03-07 04:43:54,534 [s2@group-93D52122973B-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 11, 2nd Messag... -> (t:1, i:11), STATEMACHINELOGENTRY, 35@client-34CD0D0D2735
2023-03-07 04:43:54,534 [s2@group-93D52122973B-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 12, message 2 -> (t:1, i:12), STATEMACHINELOGENTRY, 41@client-50069D272598
2023-03-07 04:43:54,544 [s1@group-93D52122973B-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 4, message 1 -> (t:1, i:4), STATEMACHINELOGENTRY, 39@client-9DDC263D129F
2023-03-07 04:43:54,544 [s1@group-93D52122973B-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 5, message 4 -> (t:1, i:5), STATEMACHINELOGENTRY, 45@client-5C407E4D6B91
2023-03-07 04:43:54,544 [s1@group-93D52122973B-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 6, message 9 -> (t:1, i:6), STATEMACHINELOGENTRY, 55@client-2DE7F8723D14
2023-03-07 04:43:54,544 [s1@group-93D52122973B-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 7, message 5 -> (t:1, i:7), STATEMACHINELOGENTRY, 47@client-42B9C8DCAD32
2023-03-07 04:43:54,544 [s1@group-93D52122973B-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 8, message 3 -> (t:1, i:8), STATEMACHINELOGENTRY, 43@client-672D59D9E751
2023-03-07 04:43:54,545 [s1@group-93D52122973B-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 9, message 8 -> (t:1, i:9), STATEMACHINELOGENTRY, 53@client-D9694D047E1B
2023-03-07 04:43:54,545 [s1@group-93D52122973B-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 10, message 7 -> (t:1, i:10), STATEMACHINELOGENTRY, 51@client-E2DE4B2BC4D1
2023-03-07 04:43:54,545 [s1@group-93D52122973B-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 11, 2nd Messag... -> (t:1, i:11), STATEMACHINELOGENTRY, 35@client-34CD0D0D2735
2023-03-07 04:43:54,545 [s1@group-93D52122973B-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 12, message 2 -> (t:1, i:12), STATEMACHINELOGENTRY, 41@client-50069D272598
2023-03-07 04:43:54,557 [grpc-default-executor-6] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=1025kb (=1049600)-message
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-93D52122973B: Failed to acquire a pending write request for RaftClientRequest:client-F79921E3A08D->s0@group-93D52122973B, cid=57, seq=2, RW, Message:b475430ed4632b06c99f...(size=1049600)
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:392)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:487)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:468)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:432)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:465)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-93D52122973B: Failed to acquire a pending write request for RaftClientRequest:client-F79921E3A08D->s0@group-93D52122973B, cid=57, seq=2, RW, Message:b475430ed4632b06c99f...(size=1049600)
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:775)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:886)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:824)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:824)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	... 3 more
	Suppressed: java.lang.NullPointerException
		at org.apache.ratis.server.impl.RaftServerImpl.lambda$submitClientRequestAsync$15(RaftServerImpl.java:894)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883)
		at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251)
		at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:893)
		... 7 more
2023-03-07 04:43:54,998 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-03-07 04:43:54,999 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-03-07 04:43:54,999 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2023-03-07 04:43:54,999 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-03-07 04:43:54,999 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-03-07 04:43:54,999 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-93D52122973B:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-93D52122973B-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s0|rpc:localhost:33405|admin:localhost:35309|client:localhost:34081|dataStream:localhost:35429|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34107|admin:localhost:38867|client:localhost:44881|dataStream:localhost:38173|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39475|admin:localhost:35615|client:localhost:41161|dataStream:localhost:39497|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-93D52122973B:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-93D52122973B-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s0|rpc:localhost:33405|admin:localhost:35309|client:localhost:34081|dataStream:localhost:35429|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34107|admin:localhost:38867|client:localhost:44881|dataStream:localhost:38173|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39475|admin:localhost:35615|client:localhost:41161|dataStream:localhost:39497|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-93D52122973B:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-93D52122973B-SegmentedRaftLog:OPENED:c14, conf=0: peers:[s0|rpc:localhost:33405|admin:localhost:35309|client:localhost:34081|dataStream:localhost:35429|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:34107|admin:localhost:38867|client:localhost:44881|dataStream:localhost:38173|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:39475|admin:localhost:35615|client:localhost:41161|dataStream:localhost:39497|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-07 04:43:55,006 [MiniRaftCluster-7] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s0: close
2023-03-07 04:43:55,008 [MiniRaftCluster-8] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s1: close
2023-03-07 04:43:55,013 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s0@group-93D52122973B: shutdown
2023-03-07 04:43:55,013 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-93D52122973B,id=s0
2023-03-07 04:43:55,013 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-93D52122973B-LeaderStateImpl
2023-03-07 04:43:55,014 [MiniRaftCluster-9] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s2: close
2023-03-07 04:43:55,014 [MiniRaftCluster-7] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-03-07 04:43:55,015 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s2@group-93D52122973B: shutdown
2023-03-07 04:43:55,015 [MiniRaftCluster-9] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-03-07 04:43:55,016 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-93D52122973B,id=s2
2023-03-07 04:43:55,017 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-93D52122973B-FollowerState
2023-03-07 04:43:55,017 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-93D52122973B-StateMachineUpdater: set stopIndex = 14
2023-03-07 04:43:55,017 [s2@group-93D52122973B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-93D52122973B-FollowerState was interrupted
2023-03-07 04:43:55,014 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-93D52122973B-PendingRequests: sendNotLeaderResponses
2023-03-07 04:43:55,018 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s2@group-93D52122973B: applyIndex: 14
2023-03-07 04:43:55,014 [s0@group-93D52122973B->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(190)) - s0@group-93D52122973B->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2023-03-07 04:43:55,018 [grpc-default-executor-6] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s2: Completed APPEND_ENTRIES, lastRequest: s0->s2#7088-t1,previous=(t:1, i:12),leaderCommit=12,initializing? true,entries: size=2, first=(t:1, i:13), METADATAENTRY(c:3)
2023-03-07 04:43:55,018 [Thread-305] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(102)) - s1 Close channels
2023-03-07 04:43:55,019 [grpc-default-executor-10] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(417)) - s0@group-93D52122973B->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-03-07 04:43:55,019 [Thread-306] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(102)) - s2 Close channels
2023-03-07 04:43:55,014 [MiniRaftCluster-8] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-03-07 04:43:55,014 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s1@group-93D52122973B: shutdown
2023-03-07 04:43:55,020 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-93D52122973B,id=s1
2023-03-07 04:43:55,020 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-93D52122973B-FollowerState
2023-03-07 04:43:55,021 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-93D52122973B-StateMachineUpdater: set stopIndex = 14
2023-03-07 04:43:55,021 [s1@group-93D52122973B-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-93D52122973B-FollowerState was interrupted
2023-03-07 04:43:55,021 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s1@group-93D52122973B: applyIndex: 14
2023-03-07 04:43:55,014 [s0@group-93D52122973B->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(190)) - s0@group-93D52122973B->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2023-03-07 04:43:55,024 [grpc-default-executor-6] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#6796-t1,previous=(t:1, i:12),leaderCommit=14,initializing? true,entries: size=2, first=(t:1, i:13), METADATAENTRY(c:3)
2023-03-07 04:43:55,025 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(417)) - s0@group-93D52122973B->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-03-07 04:43:55,025 [grpc-default-executor-2] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(128)) - s0@group-93D52122973B->s1-GrpcLogAppender: Failed to getClient for s1
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s0 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:61)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:115)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:106)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:111)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$500(GrpcLogAppender.java:55)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:418)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:485)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-07 04:43:55,026 [MiniRaftCluster-9] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-03-07 04:43:55,026 [MiniRaftCluster-9] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server GrpcServerProtocolService now
2023-03-07 04:43:55,026 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-93D52122973B-StateMachineUpdater: set stopIndex = 14
2023-03-07 04:43:55,019 [grpc-default-executor-10] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(52)) - s0@group-93D52122973B->s2: decreaseNextIndex nextIndex: updateUnconditionally 15 -> 14
2023-03-07 04:43:55,026 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s0@group-93D52122973B: applyIndex: 14
2023-03-07 04:43:55,026 [MiniRaftCluster-7] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-03-07 04:43:55,026 [MiniRaftCluster-7] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server GrpcServerProtocolService now
2023-03-07 04:43:55,028 [MiniRaftCluster-9] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server GrpcServerProtocolService successfully
2023-03-07 04:43:55,029 [MiniRaftCluster-9] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-03-07 04:43:55,033 [MiniRaftCluster-8] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-03-07 04:43:55,033 [MiniRaftCluster-8] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server GrpcServerProtocolService now
2023-03-07 04:43:55,033 [MiniRaftCluster-7] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server GrpcServerProtocolService successfully
2023-03-07 04:43:55,033 [MiniRaftCluster-7] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-03-07 04:43:55,037 [MiniRaftCluster-7] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-03-07 04:43:55,038 [MiniRaftCluster-9] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-03-07 04:43:55,039 [MiniRaftCluster-8] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server GrpcServerProtocolService successfully
2023-03-07 04:43:55,039 [MiniRaftCluster-8] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-03-07 04:43:55,041 [MiniRaftCluster-8] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-03-07 04:43:55,532 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s0@group-93D52122973B-SegmentedRaftLogWorker close()
2023-03-07 04:43:55,534 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s2@group-93D52122973B-SegmentedRaftLogWorker close()
2023-03-07 04:43:55,536 [JvmPauseMonitor6] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2023-03-07 04:43:55,536 [JvmPauseMonitor8] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2023-03-07 04:43:55,545 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s1@group-93D52122973B-SegmentedRaftLogWorker close()
2023-03-07 04:43:55,545 [JvmPauseMonitor7] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2023-03-07 04:43:55,546 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2023-03-07 04:43:55,546 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-03-07 04:43:55,546 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-03-07 04:43:55,546 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2023-03-07 04:43:55,547 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2023-03-07 04:43:55,548 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-A27E24149B4A:[s0|rpc:localhost:39593|admin:localhost:35663|client:localhost:43269|dataStream:localhost:35647|priority:0|startupRole:FOLLOWER]
2023-03-07 04:43:55,548 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-03-07 04:43:55,548 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-03-07 04:43:55,548 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2023-03-07 04:43:55,548 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-03-07 04:43:55,548 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-03-07 04:43:55,548 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-03-07 04:43:55,548 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-A27E24149B4A:[s0|rpc:localhost:39593|admin:localhost:35663|client:localhost:43269|dataStream:localhost:35647|priority:0|startupRole:FOLLOWER], format? true
2023-03-07 04:43:55,548 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/ac5303ae/MiniRaftClusterWithGrpcde1af450/s0
2023-03-07 04:43:55,548 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/ac5303ae/MiniRaftClusterWithGrpcde1af450/s0 does not exist.
2023-03-07 04:43:55,548 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/ac5303ae/MiniRaftClusterWithGrpcde1af450/s0
2023-03-07 04:43:55,549 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-03-07 04:43:55,549 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:43:55,549 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 35663 (custom)
2023-03-07 04:43:55,549 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:43:55,549 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 43269 (custom)
2023-03-07 04:43:55,550 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-07 04:43:55,550 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 39593 (custom)
2023-03-07 04:43:55,550 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:43:55,550 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:43:55,550 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:43:55,550 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-07 04:43:55,550 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-03-07 04:43:55,550 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-07 04:43:55,550 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-07 04:43:55,552 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-07 04:43:55,552 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-07 04:43:55,552 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-07 04:43:55,552 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-07 04:43:55,552 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-07 04:43:55,552 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcde1af450/s0] (custom)
2023-03-07 04:43:55,553 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-A27E24149B4A:[s0|rpc:localhost:39593|admin:localhost:35663|client:localhost:43269|dataStream:localhost:35647|priority:0|startupRole:FOLLOWER] returns group-A27E24149B4A:java.util.concurrent.CompletableFuture@713a5a9[Not completed]
2023-03-07 04:43:55,553 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:43:55,553 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-07 04:43:55,553 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-07 04:43:55,553 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-A27E24149B4A:[s0|rpc:localhost:39593|admin:localhost:35663|client:localhost:43269|dataStream:localhost:35647|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-03-07 04:43:55,553 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-07 04:43:55,553 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-07 04:43:55,554 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-07 04:43:55,554 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-07 04:43:55,554 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-07 04:43:55,554 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-07 04:43:55,554 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-A27E24149B4A: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:39593|admin:localhost:35663|client:localhost:43269|dataStream:localhost:35647|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-07 04:43:55,554 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-07 04:43:55,554 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-07 04:43:55,554 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-07 04:43:55,554 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-07 04:43:55,555 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-07 04:43:55,556 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-07 04:43:55,556 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-07 04:43:55,556 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-07 04:43:55,556 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-07 04:43:55,556 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-07 04:43:55,556 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-07 04:43:55,556 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-07 04:43:55,556 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcde1af450/s0] (custom)
2023-03-07 04:43:55,556 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcde1af450/s0/5617c047-4b8e-4329-b48f-a27e24149b4a does not exist. Creating ...
2023-03-07 04:43:55,557 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcde1af450/s0/5617c047-4b8e-4329-b48f-a27e24149b4a
2023-03-07 04:43:55,558 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcde1af450/s0/5617c047-4b8e-4329-b48f-a27e24149b4a/in_use.lock acquired by nodename 17652@fv-az443-797
2023-03-07 04:43:55,558 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcde1af450/s0/5617c047-4b8e-4329-b48f-a27e24149b4a/current
2023-03-07 04:43:55,558 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcde1af450/s0/5617c047-4b8e-4329-b48f-a27e24149b4a/sm
2023-03-07 04:43:55,560 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcde1af450/s0/5617c047-4b8e-4329-b48f-a27e24149b4a has been successfully formatted.
2023-03-07 04:43:55,560 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-03-07 04:43:55,560 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-03-07 04:43:55,560 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-07 04:43:55,560 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-07 04:43:55,560 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:43:55,561 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-07 04:43:55,561 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-07 04:43:55,561 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:43:55,561 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-07 04:43:55,561 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-07 04:43:55,561 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:43:55,561 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s0@group-A27E24149B4A-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcde1af450/s0/5617c047-4b8e-4329-b48f-a27e24149b4a
2023-03-07 04:43:55,561 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-07 04:43:55,562 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-07 04:43:55,562 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:43:55,562 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-07 04:43:55,562 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-07 04:43:55,562 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-07 04:43:55,562 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-07 04:43:55,562 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-07 04:43:55,562 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-07 04:43:55,562 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:43:55,563 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-07 04:43:55,563 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-07 04:43:55,563 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-07 04:43:55,563 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-A27E24149B4A-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-07 04:43:55,563 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-A27E24149B4A-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-07 04:43:55,566 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s0@group-A27E24149B4A: start as a follower, conf=-1: peers:[s0|rpc:localhost:39593|admin:localhost:35663|client:localhost:43269|dataStream:localhost:35647|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:43:55,566 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-A27E24149B4A: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-07 04:43:55,566 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-A27E24149B4A-FollowerState
2023-03-07 04:43:55,566 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A27E24149B4A,id=s0
2023-03-07 04:43:55,566 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-07 04:43:55,566 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-07 04:43:55,566 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-07 04:43:55,567 [s0@group-A27E24149B4A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:43:55,567 [s0@group-A27E24149B4A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:43:55,568 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s0: start RPC server
2023-03-07 04:43:55,569 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 43269
2023-03-07 04:43:55,570 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 39593
2023-03-07 04:43:55,570 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 35663
2023-03-07 04:43:55,570 [JvmPauseMonitor9] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2023-03-07 04:43:55,572 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-07 04:43:55,573 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-A27E24149B4A:t0, leader=null, voted=, raftlog=Memoized:s0@group-A27E24149B4A-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39593|admin:localhost:35663|client:localhost:43269|dataStream:localhost:35647|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-07 04:43:55,573 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-A27E24149B4A:t0, leader=null, voted=, raftlog=Memoized:s0@group-A27E24149B4A-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39593|admin:localhost:35663|client:localhost:43269|dataStream:localhost:35647|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-A27E24149B4A:t0, leader=null, voted=, raftlog=Memoized:s0@group-A27E24149B4A-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:39593|admin:localhost:35663|client:localhost:43269|dataStream:localhost:35647|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:155)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:151)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-07 04:43:55,859 [s0@group-A27E24149B4A-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-A27E24149B4A-FollowerState: change to CANDIDATE, lastRpcElapsedTime:293146236ns, electionTimeout:292ms
2023-03-07 04:43:55,859 [s0@group-A27E24149B4A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-A27E24149B4A-FollowerState
2023-03-07 04:43:55,859 [s0@group-A27E24149B4A-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-A27E24149B4A: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-03-07 04:43:55,860 [s0@group-A27E24149B4A-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-07 04:43:55,860 [s0@group-A27E24149B4A-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-A27E24149B4A-LeaderElection7
2023-03-07 04:43:55,863 [s0@group-A27E24149B4A-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-A27E24149B4A-LeaderElection7 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:39593|admin:localhost:35663|client:localhost:43269|dataStream:localhost:35647|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:43:55,863 [s0@group-A27E24149B4A-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-A27E24149B4A-LeaderElection7 PRE_VOTE round 0: result PASSED (term=0)
2023-03-07 04:43:55,865 [s0@group-A27E24149B4A-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-A27E24149B4A-LeaderElection7 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:39593|admin:localhost:35663|client:localhost:43269|dataStream:localhost:35647|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:43:55,865 [s0@group-A27E24149B4A-LeaderElection7] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-A27E24149B4A-LeaderElection7 ELECTION round 0: result PASSED (term=1)
2023-03-07 04:43:55,865 [s0@group-A27E24149B4A-LeaderElection7] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-A27E24149B4A-LeaderElection7
2023-03-07 04:43:55,865 [s0@group-A27E24149B4A-LeaderElection7] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-A27E24149B4A: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-03-07 04:43:55,865 [s0@group-A27E24149B4A-LeaderElection7] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-A27E24149B4A: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 311ms
2023-03-07 04:43:55,865 [s0@group-A27E24149B4A-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-03-07 04:43:55,865 [s0@group-A27E24149B4A-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-07 04:43:55,865 [s0@group-A27E24149B4A-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2023-03-07 04:43:55,866 [s0@group-A27E24149B4A-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-03-07 04:43:55,866 [s0@group-A27E24149B4A-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-03-07 04:43:55,866 [s0@group-A27E24149B4A-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-03-07 04:43:55,866 [s0@group-A27E24149B4A-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-07 04:43:55,866 [s0@group-A27E24149B4A-LeaderElection7] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-03-07 04:43:55,866 [s0@group-A27E24149B4A-LeaderElection7] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-A27E24149B4A-LeaderStateImpl
2023-03-07 04:43:55,866 [s0@group-A27E24149B4A-LeaderElection7] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s0@group-A27E24149B4A-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-07 04:43:55,870 [s0@group-A27E24149B4A-LeaderElection7] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-A27E24149B4A: set configuration 0: peers:[s0|rpc:localhost:39593|admin:localhost:35663|client:localhost:43269|dataStream:localhost:35647|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:43:56,024 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #2/100: java.lang.IllegalStateException: Leader: s0@group-A27E24149B4A not ready, sleep 450ms and then retry.
java.lang.IllegalStateException: Leader: s0@group-A27E24149B4A not ready
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:114)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:155)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:151)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-07 04:43:56,160 [s0@group-A27E24149B4A-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s0@group-A27E24149B4A-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcde1af450/s0/5617c047-4b8e-4329-b48f-a27e24149b4a/current/log_inprogress_0
2023-03-07 04:43:56,474 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-A27E24149B4A:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-A27E24149B4A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39593|admin:localhost:35663|client:localhost:43269|dataStream:localhost:35647|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-07 04:43:56,475 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:43:56,475 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 35663 (custom)
2023-03-07 04:43:56,475 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:43:56,475 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 43269 (custom)
2023-03-07 04:43:56,475 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-07 04:43:56,475 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 39593 (custom)
2023-03-07 04:43:56,475 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:43:56,475 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:43:56,475 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:43:56,475 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-07 04:43:56,475 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-03-07 04:43:56,475 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-07 04:43:56,475 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-07 04:43:56,476 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'appendEntries'
2023-03-07 04:43:56,477 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "appendEntries" throws UnsupportedOperationException
java.lang.UnsupportedOperationException: Blocking appendEntries call is not supported
	at org.apache.ratis.grpc.server.GrpcService.appendEntries(GrpcService.java:355)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.lambda$runTestUnsupportedMethods$1(TestRaftServerWithGrpc.java:159)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:158)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:151)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-07 04:43:56,477 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'installSnapshot'
2023-03-07 04:43:56,477 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "installSnapshot" throws UnsupportedOperationException
java.lang.UnsupportedOperationException: Blocking installSnapshot call is not supported
	at org.apache.ratis.grpc.server.GrpcService.installSnapshot(GrpcService.java:361)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.lambda$runTestUnsupportedMethods$2(TestRaftServerWithGrpc.java:163)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:162)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:151)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-07 04:43:56,478 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-03-07 04:43:56,478 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-03-07 04:43:56,478 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2023-03-07 04:43:56,478 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-03-07 04:43:56,478 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-03-07 04:43:56,478 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-A27E24149B4A:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-A27E24149B4A-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:39593|admin:localhost:35663|client:localhost:43269|dataStream:localhost:35647|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-07 04:43:56,478 [MiniRaftCluster-10] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s0: close
2023-03-07 04:43:56,482 [MiniRaftCluster-10] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-03-07 04:43:56,482 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s0@group-A27E24149B4A: shutdown
2023-03-07 04:43:56,483 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A27E24149B4A,id=s0
2023-03-07 04:43:56,483 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-A27E24149B4A-LeaderStateImpl
2023-03-07 04:43:56,483 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-A27E24149B4A-PendingRequests: sendNotLeaderResponses
2023-03-07 04:43:56,483 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-A27E24149B4A-StateMachineUpdater: set stopIndex = 0
2023-03-07 04:43:56,483 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s0@group-A27E24149B4A: applyIndex: 0
2023-03-07 04:43:56,483 [MiniRaftCluster-10] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-03-07 04:43:56,483 [MiniRaftCluster-10] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server GrpcServerProtocolService now
2023-03-07 04:43:56,484 [MiniRaftCluster-10] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server GrpcServerProtocolService successfully
2023-03-07 04:43:56,484 [MiniRaftCluster-10] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-03-07 04:43:56,484 [MiniRaftCluster-10] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-03-07 04:43:57,164 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s0@group-A27E24149B4A-SegmentedRaftLogWorker close()
2023-03-07 04:43:57,165 [JvmPauseMonitor9] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2023-03-07 04:43:57,165 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2023-03-07 04:43:57,165 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-03-07 04:43:57,165 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-03-07 04:43:57,166 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2023-03-07 04:43:57,167 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2023-03-07 04:43:57,167 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-1B27840BF1E9:[s0|rpc:localhost:33615|admin:localhost:43925|client:localhost:32909|dataStream:localhost:41043|priority:0|startupRole:FOLLOWER]
2023-03-07 04:43:57,167 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-03-07 04:43:57,167 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-03-07 04:43:57,167 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2023-03-07 04:43:57,167 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-03-07 04:43:57,167 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-03-07 04:43:57,167 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-03-07 04:43:57,168 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-1B27840BF1E9:[s0|rpc:localhost:33615|admin:localhost:43925|client:localhost:32909|dataStream:localhost:41043|priority:0|startupRole:FOLLOWER], format? true
2023-03-07 04:43:57,168 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/ac5303ae/MiniRaftClusterWithGrpcaa64649/s0
2023-03-07 04:43:57,168 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/ac5303ae/MiniRaftClusterWithGrpcaa64649/s0 does not exist.
2023-03-07 04:43:57,168 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/ac5303ae/MiniRaftClusterWithGrpcaa64649/s0
2023-03-07 04:43:57,168 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-03-07 04:43:57,168 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:43:57,168 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 43925 (custom)
2023-03-07 04:43:57,169 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:43:57,169 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 32909 (custom)
2023-03-07 04:43:57,169 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-07 04:43:57,169 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 33615 (custom)
2023-03-07 04:43:57,169 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:43:57,169 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:43:57,169 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:43:57,169 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-07 04:43:57,169 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-03-07 04:43:57,169 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-07 04:43:57,169 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-07 04:43:57,170 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-07 04:43:57,170 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-07 04:43:57,171 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-07 04:43:57,171 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-07 04:43:57,171 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-07 04:43:57,171 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcaa64649/s0] (custom)
2023-03-07 04:43:57,171 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-1B27840BF1E9:[s0|rpc:localhost:33615|admin:localhost:43925|client:localhost:32909|dataStream:localhost:41043|priority:0|startupRole:FOLLOWER] returns group-1B27840BF1E9:java.util.concurrent.CompletableFuture@3949e25[Not completed]
2023-03-07 04:43:57,172 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:43:57,172 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-07 04:43:57,172 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-07 04:43:57,172 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-1B27840BF1E9:[s0|rpc:localhost:33615|admin:localhost:43925|client:localhost:32909|dataStream:localhost:41043|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-03-07 04:43:57,172 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-07 04:43:57,172 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-07 04:43:57,172 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-07 04:43:57,172 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-07 04:43:57,172 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-07 04:43:57,172 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-07 04:43:57,172 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-1B27840BF1E9: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:33615|admin:localhost:43925|client:localhost:32909|dataStream:localhost:41043|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-07 04:43:57,172 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-07 04:43:57,172 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-07 04:43:57,172 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-07 04:43:57,172 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-07 04:43:57,173 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-07 04:43:57,173 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-07 04:43:57,173 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-07 04:43:57,173 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-07 04:43:57,173 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-07 04:43:57,173 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-07 04:43:57,173 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-07 04:43:57,174 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-07 04:43:57,174 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcaa64649/s0] (custom)
2023-03-07 04:43:57,174 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcaa64649/s0/d1a8e2b1-d0fb-4a2f-9260-1b27840bf1e9 does not exist. Creating ...
2023-03-07 04:43:57,174 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcaa64649/s0/d1a8e2b1-d0fb-4a2f-9260-1b27840bf1e9
2023-03-07 04:43:57,177 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcaa64649/s0/d1a8e2b1-d0fb-4a2f-9260-1b27840bf1e9/in_use.lock acquired by nodename 17652@fv-az443-797
2023-03-07 04:43:57,177 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcaa64649/s0/d1a8e2b1-d0fb-4a2f-9260-1b27840bf1e9/current
2023-03-07 04:43:57,177 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcaa64649/s0/d1a8e2b1-d0fb-4a2f-9260-1b27840bf1e9/sm
2023-03-07 04:43:57,182 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcaa64649/s0/d1a8e2b1-d0fb-4a2f-9260-1b27840bf1e9 has been successfully formatted.
2023-03-07 04:43:57,182 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-03-07 04:43:57,182 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-03-07 04:43:57,182 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-07 04:43:57,182 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-07 04:43:57,182 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:43:57,182 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-07 04:43:57,182 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-07 04:43:57,183 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:43:57,183 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-07 04:43:57,183 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-07 04:43:57,183 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:43:57,183 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s0@group-1B27840BF1E9-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcaa64649/s0/d1a8e2b1-d0fb-4a2f-9260-1b27840bf1e9
2023-03-07 04:43:57,183 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-07 04:43:57,183 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-07 04:43:57,183 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:43:57,183 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-07 04:43:57,183 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-07 04:43:57,183 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-07 04:43:57,183 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-07 04:43:57,183 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-07 04:43:57,183 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-07 04:43:57,183 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:43:57,184 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-07 04:43:57,184 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-07 04:43:57,184 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-07 04:43:57,184 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-1B27840BF1E9-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-07 04:43:57,184 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-1B27840BF1E9-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-07 04:43:57,185 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s0@group-1B27840BF1E9: start as a follower, conf=-1: peers:[s0|rpc:localhost:33615|admin:localhost:43925|client:localhost:32909|dataStream:localhost:41043|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:43:57,185 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-1B27840BF1E9: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-07 04:43:57,185 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-1B27840BF1E9-FollowerState
2023-03-07 04:43:57,185 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-1B27840BF1E9,id=s0
2023-03-07 04:43:57,185 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-07 04:43:57,185 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-07 04:43:57,185 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-07 04:43:57,185 [s0@group-1B27840BF1E9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:43:57,186 [s0@group-1B27840BF1E9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:43:57,186 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s0: start RPC server
2023-03-07 04:43:57,187 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 32909
2023-03-07 04:43:57,188 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 33615
2023-03-07 04:43:57,188 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 43925
2023-03-07 04:43:57,190 [JvmPauseMonitor10] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2023-03-07 04:43:57,190 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-07 04:43:57,190 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-1B27840BF1E9:t0, leader=null, voted=, raftlog=Memoized:s0@group-1B27840BF1E9-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33615|admin:localhost:43925|client:localhost:32909|dataStream:localhost:41043|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-07 04:43:57,190 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-1B27840BF1E9:t0, leader=null, voted=, raftlog=Memoized:s0@group-1B27840BF1E9-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33615|admin:localhost:43925|client:localhost:32909|dataStream:localhost:41043|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-1B27840BF1E9:t0, leader=null, voted=, raftlog=Memoized:s0@group-1B27840BF1E9-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:33615|admin:localhost:43925|client:localhost:32909|dataStream:localhost:41043|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestServerRestartOnException(TestRaftServerWithGrpc.java:121)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testServerRestartOnException(TestRaftServerWithGrpc.java:104)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-07 04:43:57,422 [s0@group-1B27840BF1E9-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-1B27840BF1E9-FollowerState: change to CANDIDATE, lastRpcElapsedTime:237168415ns, electionTimeout:236ms
2023-03-07 04:43:57,422 [s0@group-1B27840BF1E9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-1B27840BF1E9-FollowerState
2023-03-07 04:43:57,422 [s0@group-1B27840BF1E9-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-1B27840BF1E9: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-03-07 04:43:57,422 [s0@group-1B27840BF1E9-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-07 04:43:57,422 [s0@group-1B27840BF1E9-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-1B27840BF1E9-LeaderElection8
2023-03-07 04:43:57,425 [s0@group-1B27840BF1E9-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-1B27840BF1E9-LeaderElection8 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:33615|admin:localhost:43925|client:localhost:32909|dataStream:localhost:41043|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:43:57,425 [s0@group-1B27840BF1E9-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-1B27840BF1E9-LeaderElection8 PRE_VOTE round 0: result PASSED (term=0)
2023-03-07 04:43:57,426 [s0@group-1B27840BF1E9-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-1B27840BF1E9-LeaderElection8 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:33615|admin:localhost:43925|client:localhost:32909|dataStream:localhost:41043|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:43:57,426 [s0@group-1B27840BF1E9-LeaderElection8] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-1B27840BF1E9-LeaderElection8 ELECTION round 0: result PASSED (term=1)
2023-03-07 04:43:57,426 [s0@group-1B27840BF1E9-LeaderElection8] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-1B27840BF1E9-LeaderElection8
2023-03-07 04:43:57,426 [s0@group-1B27840BF1E9-LeaderElection8] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-1B27840BF1E9: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-03-07 04:43:57,426 [s0@group-1B27840BF1E9-LeaderElection8] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-1B27840BF1E9: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 253ms
2023-03-07 04:43:57,426 [s0@group-1B27840BF1E9-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-03-07 04:43:57,426 [s0@group-1B27840BF1E9-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-07 04:43:57,426 [s0@group-1B27840BF1E9-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2023-03-07 04:43:57,427 [s0@group-1B27840BF1E9-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-03-07 04:43:57,427 [s0@group-1B27840BF1E9-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-03-07 04:43:57,427 [s0@group-1B27840BF1E9-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-03-07 04:43:57,427 [s0@group-1B27840BF1E9-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-07 04:43:57,427 [s0@group-1B27840BF1E9-LeaderElection8] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-03-07 04:43:57,427 [s0@group-1B27840BF1E9-LeaderElection8] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-1B27840BF1E9-LeaderStateImpl
2023-03-07 04:43:57,427 [s0@group-1B27840BF1E9-LeaderElection8] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s0@group-1B27840BF1E9-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-07 04:43:57,431 [s0@group-1B27840BF1E9-LeaderElection8] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-1B27840BF1E9: set configuration 0: peers:[s0|rpc:localhost:33615|admin:localhost:43925|client:localhost:32909|dataStream:localhost:41043|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:43:57,438 [s0@group-1B27840BF1E9-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s0@group-1B27840BF1E9-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcaa64649/s0/d1a8e2b1-d0fb-4a2f-9260-1b27840bf1e9/current/log_inprogress_0
2023-03-07 04:43:57,641 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-1B27840BF1E9:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-1B27840BF1E9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:33615|admin:localhost:43925|client:localhost:32909|dataStream:localhost:41043|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-07 04:43:57,643 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-03-07 04:43:57,643 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:43:57,643 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 43925 (custom)
2023-03-07 04:43:57,644 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:43:57,644 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 32909 (custom)
2023-03-07 04:43:57,644 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-07 04:43:57,644 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 33615 (custom)
2023-03-07 04:43:57,644 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:43:57,644 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:43:57,644 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:43:57,644 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-07 04:43:57,644 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-03-07 04:43:57,644 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-07 04:43:57,644 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-07 04:43:57,645 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-07 04:43:57,645 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-07 04:43:57,645 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-07 04:43:57,645 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-07 04:43:57,645 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-07 04:43:57,645 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcaa64649/s0] (custom)
2023-03-07 04:43:57,646 [s0-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(259)) - s0: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcaa64649/s0/d1a8e2b1-d0fb-4a2f-9260-1b27840bf1e9
2023-03-07 04:43:57,646 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-1B27840BF1E9:[s0|rpc:localhost:33615|admin:localhost:43925|client:localhost:32909|dataStream:localhost:41043|priority:0|startupRole:FOLLOWER] returns group-1B27840BF1E9:java.util.concurrent.CompletableFuture@5f7d74dc[Not completed]
2023-03-07 04:43:57,646 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-03-07 04:43:57,647 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-1B27840BF1E9:[s0|rpc:localhost:33615|admin:localhost:43925|client:localhost:32909|dataStream:localhost:41043|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:s0:group-1B27840BF1E9
2023-03-07 04:43:57,647 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-07 04:43:57,647 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-07 04:43:57,647 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-07 04:43:57,647 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-07 04:43:57,647 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-07 04:43:57,647 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-07 04:43:57,647 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-1B27840BF1E9: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:33615|admin:localhost:43925|client:localhost:32909|dataStream:localhost:41043|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-07 04:43:57,647 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-07 04:43:57,647 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-07 04:43:57,647 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-07 04:43:57,647 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-07 04:43:57,647 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-07 04:43:57,647 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-07 04:43:57,647 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-07 04:43:57,647 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-07 04:43:57,647 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-07 04:43:57,647 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-07 04:43:57,648 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-03-07 04:43:57,648 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server GrpcServerProtocolService now
2023-03-07 04:43:57,649 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server GrpcServerProtocolService successfully
2023-03-07 04:43:57,649 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-03-07 04:43:57,650 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-03-07 04:43:57,650 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'Starting a new server with the same address should fail'
2023-03-07 04:43:57,650 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-03-07 04:43:57,651 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:43:57,651 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 43925 (custom)
2023-03-07 04:43:57,651 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:43:57,651 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 32909 (custom)
2023-03-07 04:43:57,651 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-07 04:43:57,651 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 33615 (custom)
2023-03-07 04:43:57,651 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:43:57,651 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:43:57,651 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:43:57,651 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-07 04:43:57,651 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-03-07 04:43:57,651 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-07 04:43:57,651 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-07 04:43:57,652 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-07 04:43:57,652 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-07 04:43:57,652 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-07 04:43:57,652 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-07 04:43:57,652 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-07 04:43:57,652 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcaa64649/s0] (custom)
2023-03-07 04:43:57,655 [s0-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(259)) - s0: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcaa64649/s0/d1a8e2b1-d0fb-4a2f-9260-1b27840bf1e9
2023-03-07 04:43:57,655 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-1B27840BF1E9:[s0|rpc:localhost:33615|admin:localhost:43925|client:localhost:32909|dataStream:localhost:41043|priority:0|startupRole:FOLLOWER] returns group-1B27840BF1E9:java.util.concurrent.CompletableFuture@27814d91[Not completed]
2023-03-07 04:43:57,655 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-1B27840BF1E9:[s0|rpc:localhost:33615|admin:localhost:43925|client:localhost:32909|dataStream:localhost:41043|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:s0:group-1B27840BF1E9
2023-03-07 04:43:57,655 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-07 04:43:57,655 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-07 04:43:57,655 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-07 04:43:57,655 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-07 04:43:57,655 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-07 04:43:57,655 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-07 04:43:57,656 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-1B27840BF1E9: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:33615|admin:localhost:43925|client:localhost:32909|dataStream:localhost:41043|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-07 04:43:57,656 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-07 04:43:57,656 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-07 04:43:57,656 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-07 04:43:57,656 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-07 04:43:57,656 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-07 04:43:57,656 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-07 04:43:57,656 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-07 04:43:57,656 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-07 04:43:57,656 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-07 04:43:57,656 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-07 04:43:57,656 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-07 04:43:57,656 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-07 04:43:57,657 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcaa64649/s0] (custom)
2023-03-07 04:43:57,657 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcaa64649/s0/d1a8e2b1-d0fb-4a2f-9260-1b27840bf1e9
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:338)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:188)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:180)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-07 04:43:57,657 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcaa64649/s0/d1a8e2b1-d0fb-4a2f-9260-1b27840bf1e9/in_use.lock", attempt #1/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcaa64649/s0/d1a8e2b1-d0fb-4a2f-9260-1b27840bf1e9. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcaa64649/s0/d1a8e2b1-d0fb-4a2f-9260-1b27840bf1e9. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:338)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:188)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:180)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2023-03-07 04:43:58,658 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcaa64649/s0/d1a8e2b1-d0fb-4a2f-9260-1b27840bf1e9
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:338)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:188)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:180)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-07 04:43:58,659 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcaa64649/s0/d1a8e2b1-d0fb-4a2f-9260-1b27840bf1e9/in_use.lock", attempt #2/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcaa64649/s0/d1a8e2b1-d0fb-4a2f-9260-1b27840bf1e9. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcaa64649/s0/d1a8e2b1-d0fb-4a2f-9260-1b27840bf1e9. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:338)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:188)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:180)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2023-03-07 04:43:59,659 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcaa64649/s0/d1a8e2b1-d0fb-4a2f-9260-1b27840bf1e9
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:338)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:188)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:180)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-07 04:43:59,660 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcaa64649/s0/d1a8e2b1-d0fb-4a2f-9260-1b27840bf1e9/in_use.lock", attempt #3/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcaa64649/s0/d1a8e2b1-d0fb-4a2f-9260-1b27840bf1e9. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcaa64649/s0/d1a8e2b1-d0fb-4a2f-9260-1b27840bf1e9. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:338)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:188)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:180)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2023-03-07 04:44:00,660 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcaa64649/s0/d1a8e2b1-d0fb-4a2f-9260-1b27840bf1e9
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:338)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:188)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:180)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-07 04:44:00,661 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcaa64649/s0/d1a8e2b1-d0fb-4a2f-9260-1b27840bf1e9/in_use.lock", attempt #4/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcaa64649/s0/d1a8e2b1-d0fb-4a2f-9260-1b27840bf1e9. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcaa64649/s0/d1a8e2b1-d0fb-4a2f-9260-1b27840bf1e9. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:338)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:188)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:180)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2023-03-07 04:44:01,661 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcaa64649/s0/d1a8e2b1-d0fb-4a2f-9260-1b27840bf1e9
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:338)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:188)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:180)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-07 04:44:01,662 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "Starting a new server with the same address should fail" throws CompletionException
java.util.concurrent.CompletionException: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcaa64649/s0/d1a8e2b1-d0fb-4a2f-9260-1b27840bf1e9. The directory is already locked
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$BiRelay.tryFire(CompletableFuture.java:1423)
	at java.base/java.util.concurrent.CompletableFuture$CoCompletion.tryFire(CompletableFuture.java:1144)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:191)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:180)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcaa64649/s0/d1a8e2b1-d0fb-4a2f-9260-1b27840bf1e9. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:338)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:188)
	... 4 more
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2023-03-07 04:44:01,662 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:44:01,663 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 43925 (custom)
2023-03-07 04:44:01,663 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:44:01,663 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 32909 (custom)
2023-03-07 04:44:01,663 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-07 04:44:01,663 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 33615 (custom)
2023-03-07 04:44:01,663 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:44:01,663 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:01,663 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:44:01,663 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-07 04:44:01,663 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-03-07 04:44:01,663 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-07 04:44:01,663 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-07 04:44:01,664 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-03-07 04:44:01,664 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-03-07 04:44:01,664 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2023-03-07 04:44:01,664 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-03-07 04:44:01,664 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-03-07 04:44:01,665 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-1B27840BF1E9:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-1B27840BF1E9-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:33615|admin:localhost:43925|client:localhost:32909|dataStream:localhost:41043|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-07 04:44:01,666 [MiniRaftCluster-11] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s0: close
2023-03-07 04:44:01,666 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s0@group-1B27840BF1E9: shutdown
2023-03-07 04:44:01,666 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-1B27840BF1E9,id=s0
2023-03-07 04:44:01,666 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-1B27840BF1E9-LeaderStateImpl
2023-03-07 04:44:01,666 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-1B27840BF1E9-PendingRequests: sendNotLeaderResponses
2023-03-07 04:44:01,666 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-1B27840BF1E9-StateMachineUpdater: set stopIndex = 0
2023-03-07 04:44:01,667 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s0@group-1B27840BF1E9: applyIndex: 0
2023-03-07 04:44:02,441 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s0@group-1B27840BF1E9-SegmentedRaftLogWorker close()
2023-03-07 04:44:02,441 [JvmPauseMonitor10] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2023-03-07 04:44:02,442 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2023-03-07 04:44:02,443 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-03-07 04:44:02,443 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-03-07 04:44:02,443 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2023-03-07 04:44:02,444 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2023-03-07 04:44:02,445 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-226B205E055F:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]
2023-03-07 04:44:02,445 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-03-07 04:44:02,445 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-03-07 04:44:02,445 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2023-03-07 04:44:02,445 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-03-07 04:44:02,445 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-03-07 04:44:02,445 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-03-07 04:44:02,445 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-226B205E055F:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER], format? true
2023-03-07 04:44:02,445 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/ac5303ae/MiniRaftClusterWithGrpcd6875260/s0
2023-03-07 04:44:02,445 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/ac5303ae/MiniRaftClusterWithGrpcd6875260/s0 does not exist.
2023-03-07 04:44:02,445 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/ac5303ae/MiniRaftClusterWithGrpcd6875260/s0
2023-03-07 04:44:02,446 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-03-07 04:44:02,446 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:44:02,446 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 35089 (custom)
2023-03-07 04:44:02,446 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:44:02,446 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 37919 (custom)
2023-03-07 04:44:02,446 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-07 04:44:02,446 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 37839 (custom)
2023-03-07 04:44:02,446 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:44:02,446 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:02,447 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:44:02,447 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-07 04:44:02,447 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-03-07 04:44:02,447 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-07 04:44:02,447 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-07 04:44:02,448 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-07 04:44:02,448 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-07 04:44:02,448 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-07 04:44:02,448 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-07 04:44:02,448 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-07 04:44:02,448 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcd6875260/s0] (custom)
2023-03-07 04:44:02,449 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-226B205E055F:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER] returns group-226B205E055F:java.util.concurrent.CompletableFuture@27475eb0[Not completed]
2023-03-07 04:44:02,449 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-226B205E055F:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER], format? true
2023-03-07 04:44:02,449 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/ac5303ae/MiniRaftClusterWithGrpcd6875260/s1
2023-03-07 04:44:02,449 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/ac5303ae/MiniRaftClusterWithGrpcd6875260/s1 does not exist.
2023-03-07 04:44:02,449 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/ac5303ae/MiniRaftClusterWithGrpcd6875260/s1
2023-03-07 04:44:02,449 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-03-07 04:44:02,449 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:44:02,449 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 36791 (custom)
2023-03-07 04:44:02,450 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:44:02,450 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 42853 (custom)
2023-03-07 04:44:02,450 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-07 04:44:02,450 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 40663 (custom)
2023-03-07 04:44:02,450 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:44:02,450 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:02,450 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:44:02,450 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-07 04:44:02,450 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-03-07 04:44:02,450 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-07 04:44:02,450 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-07 04:44:02,451 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-07 04:44:02,451 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-07 04:44:02,451 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-07 04:44:02,451 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-07 04:44:02,451 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-07 04:44:02,451 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcd6875260/s1] (custom)
2023-03-07 04:44:02,451 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:44:02,452 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-07 04:44:02,452 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-07 04:44:02,452 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-226B205E055F:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-03-07 04:44:02,452 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-07 04:44:02,452 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-07 04:44:02,452 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-07 04:44:02,452 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-07 04:44:02,452 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-07 04:44:02,452 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-07 04:44:02,452 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-226B205E055F: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-07 04:44:02,452 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-07 04:44:02,452 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-07 04:44:02,452 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-07 04:44:02,452 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-07 04:44:02,452 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-07 04:44:02,452 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-226B205E055F:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER] returns group-226B205E055F:java.util.concurrent.CompletableFuture@5ac7d6c9[Not completed]
2023-03-07 04:44:02,452 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-226B205E055F:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER], format? true
2023-03-07 04:44:02,453 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/ac5303ae/MiniRaftClusterWithGrpcd6875260/s2
2023-03-07 04:44:02,453 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/ac5303ae/MiniRaftClusterWithGrpcd6875260/s2 does not exist.
2023-03-07 04:44:02,453 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/ac5303ae/MiniRaftClusterWithGrpcd6875260/s2
2023-03-07 04:44:02,453 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-03-07 04:44:02,453 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-07 04:44:02,453 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-07 04:44:02,453 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-07 04:44:02,453 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-07 04:44:02,453 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-07 04:44:02,453 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:44:02,454 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 34103 (custom)
2023-03-07 04:44:02,454 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:44:02,454 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 38937 (custom)
2023-03-07 04:44:02,454 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-07 04:44:02,454 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 43025 (custom)
2023-03-07 04:44:02,454 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:44:02,454 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:02,454 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:44:02,455 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-07 04:44:02,455 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-03-07 04:44:02,455 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-07 04:44:02,455 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-07 04:44:02,455 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-07 04:44:02,456 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-07 04:44:02,456 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-07 04:44:02,456 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-07 04:44:02,456 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-07 04:44:02,456 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcd6875260/s2] (custom)
2023-03-07 04:44:02,457 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:44:02,457 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-07 04:44:02,457 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-07 04:44:02,457 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-226B205E055F:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-03-07 04:44:02,457 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-07 04:44:02,457 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-07 04:44:02,457 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-07 04:44:02,457 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-07 04:44:02,457 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-07 04:44:02,457 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-07 04:44:02,457 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-226B205E055F: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-07 04:44:02,457 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-07 04:44:02,457 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-07 04:44:02,457 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-07 04:44:02,457 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-07 04:44:02,457 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-07 04:44:02,458 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-07 04:44:02,458 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-07 04:44:02,458 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-07 04:44:02,458 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-07 04:44:02,458 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-07 04:44:02,458 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-226B205E055F:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER] returns group-226B205E055F:java.util.concurrent.CompletableFuture@43261a3e[Not completed]
2023-03-07 04:44:02,458 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-07 04:44:02,458 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-07 04:44:02,458 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcd6875260/s0] (custom)
2023-03-07 04:44:02,458 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcd6875260/s0/0a01ff52-f320-42d4-be21-226b205e055f does not exist. Creating ...
2023-03-07 04:44:02,459 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcd6875260/s0/0a01ff52-f320-42d4-be21-226b205e055f
2023-03-07 04:44:02,459 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:44:02,459 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-07 04:44:02,459 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-07 04:44:02,459 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-226B205E055F:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-03-07 04:44:02,459 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-07 04:44:02,459 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-07 04:44:02,459 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-07 04:44:02,459 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-07 04:44:02,459 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-07 04:44:02,459 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-07 04:44:02,459 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-226B205E055F: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-07 04:44:02,460 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-07 04:44:02,460 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-07 04:44:02,460 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-07 04:44:02,460 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-07 04:44:02,460 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-07 04:44:02,460 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcd6875260/s0/0a01ff52-f320-42d4-be21-226b205e055f/in_use.lock acquired by nodename 17652@fv-az443-797
2023-03-07 04:44:02,460 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcd6875260/s0/0a01ff52-f320-42d4-be21-226b205e055f/current
2023-03-07 04:44:02,461 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcd6875260/s0/0a01ff52-f320-42d4-be21-226b205e055f/sm
2023-03-07 04:44:02,460 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-07 04:44:02,462 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-07 04:44:02,462 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-07 04:44:02,462 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-07 04:44:02,462 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-07 04:44:02,462 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcd6875260/s0/0a01ff52-f320-42d4-be21-226b205e055f has been successfully formatted.
2023-03-07 04:44:02,462 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-03-07 04:44:02,463 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-03-07 04:44:02,463 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-07 04:44:02,463 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-07 04:44:02,463 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:02,463 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-07 04:44:02,463 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-07 04:44:02,463 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:44:02,463 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-07 04:44:02,463 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-07 04:44:02,463 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:02,463 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s0@group-226B205E055F-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcd6875260/s0/0a01ff52-f320-42d4-be21-226b205e055f
2023-03-07 04:44:02,463 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-07 04:44:02,463 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-07 04:44:02,463 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:44:02,463 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-07 04:44:02,463 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-07 04:44:02,463 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-07 04:44:02,463 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-07 04:44:02,463 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-07 04:44:02,463 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-07 04:44:02,464 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:02,464 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-07 04:44:02,464 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-07 04:44:02,464 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-07 04:44:02,464 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-226B205E055F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-07 04:44:02,464 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-226B205E055F-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-07 04:44:02,465 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s0@group-226B205E055F: start as a follower, conf=-1: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:02,465 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-226B205E055F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-07 04:44:02,465 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-226B205E055F-FollowerState
2023-03-07 04:44:02,465 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-226B205E055F,id=s0
2023-03-07 04:44:02,465 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-07 04:44:02,466 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-07 04:44:02,466 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-07 04:44:02,466 [s0@group-226B205E055F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:44:02,466 [s0@group-226B205E055F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:44:02,466 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s0: start RPC server
2023-03-07 04:44:02,467 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 37919
2023-03-07 04:44:02,468 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 37839
2023-03-07 04:44:02,468 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 35089
2023-03-07 04:44:02,468 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-07 04:44:02,468 [JvmPauseMonitor11] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2023-03-07 04:44:02,468 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-07 04:44:02,468 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcd6875260/s1] (custom)
2023-03-07 04:44:02,469 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcd6875260/s1/0a01ff52-f320-42d4-be21-226b205e055f does not exist. Creating ...
2023-03-07 04:44:02,469 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcd6875260/s1/0a01ff52-f320-42d4-be21-226b205e055f
2023-03-07 04:44:02,470 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcd6875260/s1/0a01ff52-f320-42d4-be21-226b205e055f/in_use.lock acquired by nodename 17652@fv-az443-797
2023-03-07 04:44:02,470 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcd6875260/s1/0a01ff52-f320-42d4-be21-226b205e055f/current
2023-03-07 04:44:02,470 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcd6875260/s1/0a01ff52-f320-42d4-be21-226b205e055f/sm
2023-03-07 04:44:02,471 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcd6875260/s1/0a01ff52-f320-42d4-be21-226b205e055f has been successfully formatted.
2023-03-07 04:44:02,471 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-03-07 04:44:02,471 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-03-07 04:44:02,471 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-07 04:44:02,471 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-07 04:44:02,471 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:02,471 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-07 04:44:02,471 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-07 04:44:02,471 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:44:02,472 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-07 04:44:02,472 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-07 04:44:02,472 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:02,472 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s1@group-226B205E055F-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcd6875260/s1/0a01ff52-f320-42d4-be21-226b205e055f
2023-03-07 04:44:02,472 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-07 04:44:02,472 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-07 04:44:02,472 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:44:02,472 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-07 04:44:02,472 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-07 04:44:02,472 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-07 04:44:02,472 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-07 04:44:02,472 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-07 04:44:02,472 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-07 04:44:02,472 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:02,473 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-07 04:44:02,473 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-07 04:44:02,473 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-07 04:44:02,473 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-226B205E055F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-07 04:44:02,473 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-226B205E055F-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-07 04:44:02,476 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s1@group-226B205E055F: start as a follower, conf=-1: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:02,476 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-226B205E055F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-07 04:44:02,477 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-226B205E055F-FollowerState
2023-03-07 04:44:02,480 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-226B205E055F,id=s1
2023-03-07 04:44:02,481 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-07 04:44:02,481 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-07 04:44:02,481 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-07 04:44:02,482 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s1: start RPC server
2023-03-07 04:44:02,483 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 42853
2023-03-07 04:44:02,483 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 40663
2023-03-07 04:44:02,484 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 36791
2023-03-07 04:44:02,484 [s1@group-226B205E055F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:44:02,484 [s1@group-226B205E055F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:44:02,484 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-07 04:44:02,484 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-07 04:44:02,484 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcd6875260/s2] (custom)
2023-03-07 04:44:02,485 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcd6875260/s2/0a01ff52-f320-42d4-be21-226b205e055f does not exist. Creating ...
2023-03-07 04:44:02,485 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcd6875260/s2/0a01ff52-f320-42d4-be21-226b205e055f
2023-03-07 04:44:02,485 [JvmPauseMonitor12] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2023-03-07 04:44:02,486 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcd6875260/s2/0a01ff52-f320-42d4-be21-226b205e055f/in_use.lock acquired by nodename 17652@fv-az443-797
2023-03-07 04:44:02,486 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcd6875260/s2/0a01ff52-f320-42d4-be21-226b205e055f/current
2023-03-07 04:44:02,486 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcd6875260/s2/0a01ff52-f320-42d4-be21-226b205e055f/sm
2023-03-07 04:44:02,487 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcd6875260/s2/0a01ff52-f320-42d4-be21-226b205e055f has been successfully formatted.
2023-03-07 04:44:02,487 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-03-07 04:44:02,487 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-03-07 04:44:02,487 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-07 04:44:02,487 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-07 04:44:02,487 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:02,487 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-07 04:44:02,487 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-07 04:44:02,487 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:44:02,488 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-07 04:44:02,488 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-07 04:44:02,488 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:02,488 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s2@group-226B205E055F-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcd6875260/s2/0a01ff52-f320-42d4-be21-226b205e055f
2023-03-07 04:44:02,488 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-07 04:44:02,488 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-07 04:44:02,488 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:44:02,488 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-07 04:44:02,488 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-07 04:44:02,488 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-07 04:44:02,488 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-07 04:44:02,488 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-07 04:44:02,488 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-07 04:44:02,488 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:02,489 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-07 04:44:02,489 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-07 04:44:02,489 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-07 04:44:02,489 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-226B205E055F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-07 04:44:02,489 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-226B205E055F-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-07 04:44:02,489 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s2@group-226B205E055F: start as a follower, conf=-1: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:02,489 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-226B205E055F: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-07 04:44:02,489 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-226B205E055F-FollowerState
2023-03-07 04:44:02,492 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-226B205E055F,id=s2
2023-03-07 04:44:02,493 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-07 04:44:02,493 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-07 04:44:02,493 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-07 04:44:02,493 [s2@group-226B205E055F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:44:02,493 [s2@group-226B205E055F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:44:02,493 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s2: start RPC server
2023-03-07 04:44:02,494 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 38937
2023-03-07 04:44:02,494 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 43025
2023-03-07 04:44:02,495 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 34103
2023-03-07 04:44:02,495 [JvmPauseMonitor13] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2023-03-07 04:44:02,496 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-07 04:44:02,497 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-226B205E055F:t0, leader=null, voted=, raftlog=Memoized:s0@group-226B205E055F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-226B205E055F:t0, leader=null, voted=, raftlog=Memoized:s1@group-226B205E055F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-226B205E055F:t0, leader=null, voted=, raftlog=Memoized:s2@group-226B205E055F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-07 04:44:02,497 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-226B205E055F:t0, leader=null, voted=, raftlog=Memoized:s0@group-226B205E055F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-226B205E055F:t0, leader=null, voted=, raftlog=Memoized:s1@group-226B205E055F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-226B205E055F:t0, leader=null, voted=, raftlog=Memoized:s2@group-226B205E055F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-226B205E055F:t0, leader=null, voted=, raftlog=Memoized:s0@group-226B205E055F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-226B205E055F:t0, leader=null, voted=, raftlog=Memoized:s1@group-226B205E055F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-226B205E055F:t0, leader=null, voted=, raftlog=Memoized:s2@group-226B205E055F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:173)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-07 04:44:02,621 [s0@group-226B205E055F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-226B205E055F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:156420046ns, electionTimeout:155ms
2023-03-07 04:44:02,622 [s0@group-226B205E055F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-226B205E055F-FollowerState
2023-03-07 04:44:02,622 [s0@group-226B205E055F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-226B205E055F: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-03-07 04:44:02,622 [s0@group-226B205E055F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-07 04:44:02,622 [s0@group-226B205E055F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-226B205E055F-LeaderElection9
2023-03-07 04:44:02,626 [s0@group-226B205E055F-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-226B205E055F-LeaderElection9 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:02,626 [s0@group-226B205E055F-LeaderElection9-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(64)) - Build channel for s1
2023-03-07 04:44:02,626 [s0@group-226B205E055F-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:44:02,626 [s0@group-226B205E055F-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:44:02,627 [s0@group-226B205E055F-LeaderElection9-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(64)) - Build channel for s2
2023-03-07 04:44:02,632 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s1@group-226B205E055F: receive requestVote(PRE_VOTE, s0, group-226B205E055F, 0, (t:0, i:0))
2023-03-07 04:44:02,632 [grpc-default-executor-10] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-226B205E055F-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-03-07 04:44:02,632 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s1@group-226B205E055F replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-226B205E055F:t0, leader=null, voted=, raftlog=Memoized:s1@group-226B205E055F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:02,635 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s2@group-226B205E055F: receive requestVote(PRE_VOTE, s0, group-226B205E055F, 0, (t:0, i:0))
2023-03-07 04:44:02,635 [grpc-default-executor-10] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-226B205E055F-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-03-07 04:44:02,635 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s2@group-226B205E055F replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-226B205E055F:t0, leader=null, voted=, raftlog=Memoized:s2@group-226B205E055F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:02,637 [s0@group-226B205E055F-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-226B205E055F-LeaderElection9: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-03-07 04:44:02,637 [s0@group-226B205E055F-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s2#0:OK-t0
2023-03-07 04:44:02,637 [s0@group-226B205E055F-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-226B205E055F-LeaderElection9 PRE_VOTE round 0: result PASSED
2023-03-07 04:44:02,638 [s0@group-226B205E055F-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-226B205E055F-LeaderElection9 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:02,641 [s0@group-226B205E055F-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:44:02,641 [s0@group-226B205E055F-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:44:02,642 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s2@group-226B205E055F: receive requestVote(ELECTION, s0, group-226B205E055F, 1, (t:0, i:0))
2023-03-07 04:44:02,642 [grpc-default-executor-10] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-226B205E055F-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2023-03-07 04:44:02,642 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-226B205E055F: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2023-03-07 04:44:02,642 [grpc-default-executor-10] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-226B205E055F-FollowerState
2023-03-07 04:44:02,643 [grpc-default-executor-10] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-226B205E055F-FollowerState
2023-03-07 04:44:02,643 [s2@group-226B205E055F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-226B205E055F-FollowerState was interrupted
2023-03-07 04:44:02,643 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s1@group-226B205E055F: receive requestVote(ELECTION, s0, group-226B205E055F, 1, (t:0, i:0))
2023-03-07 04:44:02,644 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-226B205E055F-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2023-03-07 04:44:02,644 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-226B205E055F: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2023-03-07 04:44:02,644 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-226B205E055F-FollowerState
2023-03-07 04:44:02,644 [s1@group-226B205E055F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-226B205E055F-FollowerState was interrupted
2023-03-07 04:44:02,645 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-226B205E055F-FollowerState
2023-03-07 04:44:02,645 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s2@group-226B205E055F replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-226B205E055F:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-226B205E055F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:02,646 [s2@group-226B205E055F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:44:02,646 [s2@group-226B205E055F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:44:02,649 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s1@group-226B205E055F replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-226B205E055F:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-226B205E055F-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:02,650 [s0@group-226B205E055F-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-226B205E055F-LeaderElection9: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-03-07 04:44:02,650 [s0@group-226B205E055F-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t1
2023-03-07 04:44:02,650 [s0@group-226B205E055F-LeaderElection9] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-226B205E055F-LeaderElection9 ELECTION round 0: result PASSED
2023-03-07 04:44:02,650 [s0@group-226B205E055F-LeaderElection9] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-226B205E055F-LeaderElection9
2023-03-07 04:44:02,650 [s0@group-226B205E055F-LeaderElection9] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-226B205E055F: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-03-07 04:44:02,650 [s0@group-226B205E055F-LeaderElection9] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-226B205E055F: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 198ms
2023-03-07 04:44:02,650 [s0@group-226B205E055F-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-03-07 04:44:02,651 [s0@group-226B205E055F-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-07 04:44:02,651 [s0@group-226B205E055F-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2023-03-07 04:44:02,651 [s0@group-226B205E055F-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-03-07 04:44:02,651 [s0@group-226B205E055F-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-03-07 04:44:02,651 [s0@group-226B205E055F-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-03-07 04:44:02,651 [s0@group-226B205E055F-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-07 04:44:02,651 [s0@group-226B205E055F-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-03-07 04:44:02,651 [s0@group-226B205E055F-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-07 04:44:02,651 [s0@group-226B205E055F-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:02,651 [s0@group-226B205E055F-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-07 04:44:02,651 [s0@group-226B205E055F-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-07 04:44:02,651 [s0@group-226B205E055F-LeaderElection9] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2023-03-07 04:44:02,651 [s0@group-226B205E055F-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-07 04:44:02,651 [s0@group-226B205E055F-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-07 04:44:02,651 [s0@group-226B205E055F-LeaderElection9] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-03-07 04:44:02,652 [s0@group-226B205E055F-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-07 04:44:02,652 [s0@group-226B205E055F-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:02,652 [s0@group-226B205E055F-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-07 04:44:02,652 [s0@group-226B205E055F-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-07 04:44:02,652 [s0@group-226B205E055F-LeaderElection9] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2023-03-07 04:44:02,652 [s0@group-226B205E055F-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-07 04:44:02,652 [s0@group-226B205E055F-LeaderElection9] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-07 04:44:02,652 [s0@group-226B205E055F-LeaderElection9] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-03-07 04:44:02,652 [s0@group-226B205E055F-LeaderElection9] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-226B205E055F-LeaderStateImpl
2023-03-07 04:44:02,652 [s0@group-226B205E055F-LeaderElection9] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s0@group-226B205E055F-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-07 04:44:02,652 [s1@group-226B205E055F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:44:02,652 [s1@group-226B205E055F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:44:02,665 [s0@group-226B205E055F-LeaderElection9] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-226B205E055F: set configuration 0: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:02,667 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-226B205E055F: change Leader from null to s0 at term 1 for appendEntries, leader elected after 210ms
2023-03-07 04:44:02,669 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-226B205E055F: change Leader from null to s0 at term 1 for appendEntries, leader elected after 209ms
2023-03-07 04:44:02,676 [s1-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s1@group-226B205E055F: set configuration 0: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:02,676 [s1-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s1@group-226B205E055F-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-07 04:44:02,681 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s2@group-226B205E055F: set configuration 0: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:02,681 [s2-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s2@group-226B205E055F-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-07 04:44:02,702 [s0@group-226B205E055F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s0@group-226B205E055F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcd6875260/s0/0a01ff52-f320-42d4-be21-226b205e055f/current/log_inprogress_0
2023-03-07 04:44:02,754 [s2@group-226B205E055F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s2@group-226B205E055F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcd6875260/s2/0a01ff52-f320-42d4-be21-226b205e055f/current/log_inprogress_0
2023-03-07 04:44:02,754 [s1@group-226B205E055F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s1@group-226B205E055F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcd6875260/s1/0a01ff52-f320-42d4-be21-226b205e055f/current/log_inprogress_0
2023-03-07 04:44:02,947 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-226B205E055F:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-226B205E055F-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-226B205E055F:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-226B205E055F-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-226B205E055F:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-226B205E055F-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-07 04:44:02,948 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:44:02,948 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:44:02,981 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-644334E7451D->s0: receive RaftClientReply:client-644334E7451D->s0@group-226B205E055F, cid=58, SUCCESS, logIndex=0, commits[s0:c0, s1:c0, s2:c0]
2023-03-07 04:44:02,987 [s0@group-226B205E055F-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 59@client-644334E7451D
2023-03-07 04:44:02,988 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-644334E7451D->s0: receive RaftClientReply:client-644334E7451D->s0@group-226B205E055F, cid=59, SUCCESS, logIndex=1, commits[s0:c1, s1:c0, s2:c0]
2023-03-07 04:44:02,996 [s1@group-226B205E055F-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 59@client-644334E7451D
2023-03-07 04:44:02,996 [s2@group-226B205E055F-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 59@client-644334E7451D
2023-03-07 04:44:03,001 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:44:03,001 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:44:03,014 [s0@group-226B205E055F-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-6409DC67C5C9
2023-03-07 04:44:03,016 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-6409DC67C5C9->s0: receive RaftClientReply:client-6409DC67C5C9->s0@group-226B205E055F, cid=1, SUCCESS, logIndex=3, commits[s0:c3, s1:c2, s2:c1]
2023-03-07 04:44:03,016 [Time-limited test] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:block(135)) - block START_TRANSACTION
2023-03-07 04:44:03,018 [Time-limited test] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:blockRequestor(49)) - Block requestor s0
2023-03-07 04:44:03,018 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-07 04:44:03,019 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-226B205E055F:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-226B205E055F-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-226B205E055F:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-226B205E055F-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-226B205E055F:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-226B205E055F-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-07 04:44:03,019 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-226B205E055F:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-226B205E055F-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-226B205E055F:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-226B205E055F-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-226B205E055F:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-226B205E055F-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-07 04:44:03,022 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "changeLeader-changeLeader", attempt #1/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:199)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-07 04:44:03,023 [s1-server-thread1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s1: Block request from s0
2023-03-07 04:44:03,027 [s2-server-thread1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s2: Block request from s0
2023-03-07 04:44:03,123 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-07 04:44:03,123 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-226B205E055F:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-226B205E055F-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-226B205E055F:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-226B205E055F-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-226B205E055F:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-226B205E055F-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-07 04:44:03,123 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-226B205E055F:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-226B205E055F-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-226B205E055F:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-226B205E055F-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-226B205E055F:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-226B205E055F-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-07 04:44:03,123 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "changeLeader-changeLeader", attempt #2/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:199)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-07 04:44:03,224 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-07 04:44:03,224 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-226B205E055F:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-226B205E055F-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-226B205E055F:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-226B205E055F-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-226B205E055F:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-226B205E055F-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-07 04:44:03,224 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-226B205E055F:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-226B205E055F-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-226B205E055F:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-226B205E055F-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-226B205E055F:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-226B205E055F-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-07 04:44:03,224 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "changeLeader-changeLeader", attempt #3/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:199)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-07 04:44:03,325 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-07 04:44:03,325 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-226B205E055F:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-226B205E055F-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-226B205E055F:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-226B205E055F-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-226B205E055F:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-226B205E055F-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-07 04:44:03,325 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-226B205E055F:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-226B205E055F-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-226B205E055F:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-226B205E055F-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-226B205E055F:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-226B205E055F-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-07 04:44:03,325 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "changeLeader-changeLeader", attempt #4/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s0
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:199)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-07 04:44:03,390 [s1@group-226B205E055F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-226B205E055F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:376353348ns, electionTimeout:182ms
2023-03-07 04:44:03,390 [s1@group-226B205E055F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-226B205E055F-FollowerState
2023-03-07 04:44:03,390 [s1@group-226B205E055F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-226B205E055F: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-03-07 04:44:03,390 [s1@group-226B205E055F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-07 04:44:03,390 [s1@group-226B205E055F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-226B205E055F-LeaderElection10
2023-03-07 04:44:03,391 [s1@group-226B205E055F-LeaderElection10] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-226B205E055F: change Leader from s0 to null at term 1 for PRE_VOTE
2023-03-07 04:44:03,391 [s1@group-226B205E055F-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-226B205E055F-LeaderElection10 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:03,391 [s1@group-226B205E055F-LeaderElection10-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(64)) - Build channel for s0
2023-03-07 04:44:03,400 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s0@group-226B205E055F: receive requestVote(PRE_VOTE, s1, group-226B205E055F, 1, (t:1, i:3))
2023-03-07 04:44:03,400 [grpc-default-executor-3] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1098)) - s0@group-226B205E055F-LeaderStateImpl: Lost leadership on term: 1. Election timeout: 300ms. In charge for: 749ms. Conf: 0: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:03,401 [grpc-default-executor-3] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$20(1102)) - Follower s0@group-226B205E055F->s1(c2,m3,n5, attendVote=true, lastRpcSendTime=8, lastRpcResponseTime=386)
2023-03-07 04:44:03,401 [grpc-default-executor-3] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$20(1102)) - Follower s0@group-226B205E055F->s2(c2,m3,n5, attendVote=true, lastRpcSendTime=0, lastRpcResponseTime=378)
2023-03-07 04:44:03,401 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-226B205E055F: changes role from    LEADER to FOLLOWER at term 1 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2023-03-07 04:44:03,401 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-226B205E055F-LeaderStateImpl
2023-03-07 04:44:03,401 [s0@group-226B205E055F->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(190)) - s0@group-226B205E055F->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2023-03-07 04:44:03,402 [grpc-default-executor-3] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-226B205E055F-PendingRequests: sendNotLeaderResponses
2023-03-07 04:44:03,402 [s0@group-226B205E055F->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(190)) - s0@group-226B205E055F->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2023-03-07 04:44:03,405 [grpc-default-executor-3] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-226B205E055F: change Leader from s0 to null at term 1 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2023-03-07 04:44:03,405 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-226B205E055F-FollowerState
2023-03-07 04:44:03,406 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-226B205E055F-FOLLOWER: reject PRE_VOTE from s1: our last entry (t:1, i:4) > candidate's last entry (t:1, i:3)
2023-03-07 04:44:03,406 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s0@group-226B205E055F replies to PRE_VOTE vote request: s1<-s0#0:FAIL-t1. Peer's state: s0@group-226B205E055F:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-226B205E055F-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:03,408 [s1@group-226B205E055F-LeaderElection10-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(64)) - Build channel for s2
2023-03-07 04:44:03,408 [s2@group-226B205E055F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-226B205E055F-FollowerState: change to CANDIDATE, lastRpcElapsedTime:394206673ns, electionTimeout:188ms
2023-03-07 04:44:03,408 [s2@group-226B205E055F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-226B205E055F-FollowerState
2023-03-07 04:44:03,408 [s2@group-226B205E055F-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-226B205E055F: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-03-07 04:44:03,408 [s2@group-226B205E055F-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-07 04:44:03,408 [s2@group-226B205E055F-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-226B205E055F-LeaderElection11
2023-03-07 04:44:03,412 [s2@group-226B205E055F-LeaderElection11] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-226B205E055F: change Leader from s0 to null at term 1 for PRE_VOTE
2023-03-07 04:44:03,412 [s2@group-226B205E055F-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-226B205E055F-LeaderElection11 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:03,412 [s2@group-226B205E055F-LeaderElection11-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(64)) - Build channel for s0
2023-03-07 04:44:03,414 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s2@group-226B205E055F: receive requestVote(PRE_VOTE, s1, group-226B205E055F, 1, (t:1, i:3))
2023-03-07 04:44:03,414 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-226B205E055F-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-03-07 04:44:03,414 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s2@group-226B205E055F replies to PRE_VOTE vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-226B205E055F:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-226B205E055F-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:03,414 [s1@group-226B205E055F-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-226B205E055F-LeaderElection10: PRE_VOTE PASSED received 2 response(s) and 0 exception(s):
2023-03-07 04:44:03,414 [s1@group-226B205E055F-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:FAIL-t1
2023-03-07 04:44:03,414 [s1@group-226B205E055F-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s1<-s2#0:OK-t1
2023-03-07 04:44:03,415 [s1@group-226B205E055F-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-226B205E055F-LeaderElection10 PRE_VOTE round 0: result PASSED
2023-03-07 04:44:03,416 [s1@group-226B205E055F-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-226B205E055F-LeaderElection10 ELECTION round 0: submit vote requests at term 2 for 0: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:03,424 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s0@group-226B205E055F: receive requestVote(PRE_VOTE, s2, group-226B205E055F, 1, (t:1, i:3))
2023-03-07 04:44:03,424 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-226B205E055F-FOLLOWER: reject PRE_VOTE from s2: our last entry (t:1, i:4) > candidate's last entry (t:1, i:3)
2023-03-07 04:44:03,424 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s0@group-226B205E055F replies to PRE_VOTE vote request: s2<-s0#0:FAIL-t1. Peer's state: s0@group-226B205E055F:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-226B205E055F-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:03,425 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-07 04:44:03,426 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-226B205E055F:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-226B205E055F-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-226B205E055F:t2, leader=null, voted=s1, raftlog=Memoized:s1@group-226B205E055F-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-226B205E055F:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-226B205E055F-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-07 04:44:03,426 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-226B205E055F:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-226B205E055F-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-226B205E055F:t2, leader=null, voted=s1, raftlog=Memoized:s1@group-226B205E055F-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-226B205E055F:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-226B205E055F-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-226B205E055F:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-226B205E055F-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING CANDIDATE s1@group-226B205E055F:t2, leader=null, voted=s1, raftlog=Memoized:s1@group-226B205E055F-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-226B205E055F:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-226B205E055F-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:431)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:199)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-07 04:44:03,426 [s2@group-226B205E055F-LeaderElection11-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(64)) - Build channel for s1
2023-03-07 04:44:03,433 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s2@group-226B205E055F: receive requestVote(ELECTION, s1, group-226B205E055F, 2, (t:1, i:3))
2023-03-07 04:44:03,433 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-226B205E055F-CANDIDATE: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2023-03-07 04:44:03,433 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-226B205E055F: changes role from CANDIDATE to FOLLOWER at term 2 for candidate:s1
2023-03-07 04:44:03,433 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-226B205E055F-LeaderElection11
2023-03-07 04:44:03,433 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-226B205E055F-FollowerState
2023-03-07 04:44:03,434 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s1@group-226B205E055F: receive requestVote(PRE_VOTE, s2, group-226B205E055F, 1, (t:1, i:3))
2023-03-07 04:44:03,434 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-226B205E055F-CANDIDATE: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-03-07 04:44:03,434 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s1@group-226B205E055F replies to PRE_VOTE vote request: s2<-s1#0:OK-t2. Peer's state: s1@group-226B205E055F:t2, leader=null, voted=s1, raftlog=Memoized:s1@group-226B205E055F-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:03,434 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s0@group-226B205E055F: receive requestVote(ELECTION, s1, group-226B205E055F, 2, (t:1, i:3))
2023-03-07 04:44:03,434 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-226B205E055F-FOLLOWER: reject ELECTION from s1: our last entry (t:1, i:4) > candidate's last entry (t:1, i:3)
2023-03-07 04:44:03,434 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-226B205E055F: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s1
2023-03-07 04:44:03,434 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-226B205E055F-FollowerState
2023-03-07 04:44:03,434 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-226B205E055F-FollowerState
2023-03-07 04:44:03,434 [s0@group-226B205E055F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-226B205E055F-FollowerState was interrupted
2023-03-07 04:44:03,435 [s2@group-226B205E055F-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-226B205E055F-LeaderElection11: PRE_VOTE DISCOVERED_A_NEW_TERM (term=2) received 2 response(s) and 0 exception(s):
2023-03-07 04:44:03,436 [s2@group-226B205E055F-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:FAIL-t1
2023-03-07 04:44:03,436 [s2@group-226B205E055F-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s2<-s1#0:OK-t2
2023-03-07 04:44:03,436 [s2@group-226B205E055F-LeaderElection11] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-226B205E055F-LeaderElection11 PRE_VOTE round 0: result DISCOVERED_A_NEW_TERM (term=2)
2023-03-07 04:44:03,436 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s2@group-226B205E055F replies to ELECTION vote request: s1<-s2#0:OK-t2. Peer's state: s2@group-226B205E055F:t2, leader=null, voted=s1, raftlog=Memoized:s2@group-226B205E055F-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:03,437 [s1@group-226B205E055F-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-226B205E055F-LeaderElection10: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-03-07 04:44:03,437 [s1@group-226B205E055F-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s2#0:OK-t2
2023-03-07 04:44:03,437 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s0@group-226B205E055F replies to ELECTION vote request: s1<-s0#0:FAIL-t2. Peer's state: s0@group-226B205E055F:t2, leader=null, voted=null, raftlog=Memoized:s0@group-226B205E055F-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:03,437 [s1@group-226B205E055F-LeaderElection10] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-226B205E055F-LeaderElection10 ELECTION round 0: result PASSED
2023-03-07 04:44:03,438 [s1@group-226B205E055F-LeaderElection10] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-226B205E055F-LeaderElection10
2023-03-07 04:44:03,438 [s1@group-226B205E055F-LeaderElection10] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-226B205E055F: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2023-03-07 04:44:03,438 [s1@group-226B205E055F-LeaderElection10] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-226B205E055F: change Leader from null to s1 at term 2 for becomeLeader, leader elected after 47ms
2023-03-07 04:44:03,438 [s1@group-226B205E055F-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-03-07 04:44:03,438 [s1@group-226B205E055F-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-07 04:44:03,438 [s1@group-226B205E055F-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2023-03-07 04:44:03,438 [s1@group-226B205E055F-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-03-07 04:44:03,438 [s1@group-226B205E055F-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-03-07 04:44:03,438 [s1@group-226B205E055F-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-03-07 04:44:03,438 [s1@group-226B205E055F-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-07 04:44:03,438 [s1@group-226B205E055F-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-03-07 04:44:03,439 [s1@group-226B205E055F-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-07 04:44:03,439 [s1@group-226B205E055F-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:03,439 [s1@group-226B205E055F-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-07 04:44:03,439 [s1@group-226B205E055F-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-07 04:44:03,439 [s1@group-226B205E055F-LeaderElection10] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2023-03-07 04:44:03,439 [s1@group-226B205E055F-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-07 04:44:03,439 [s1@group-226B205E055F-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-07 04:44:03,439 [s1@group-226B205E055F-LeaderElection10] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-03-07 04:44:03,439 [s1@group-226B205E055F-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-07 04:44:03,439 [s1@group-226B205E055F-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:03,439 [s1@group-226B205E055F-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-07 04:44:03,439 [s1@group-226B205E055F-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-07 04:44:03,439 [s1@group-226B205E055F-LeaderElection10] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2023-03-07 04:44:03,439 [s1@group-226B205E055F-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-07 04:44:03,439 [s1@group-226B205E055F-LeaderElection10] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-07 04:44:03,439 [s1@group-226B205E055F-LeaderElection10] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = false (custom)
2023-03-07 04:44:03,439 [s1@group-226B205E055F-LeaderElection10] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-226B205E055F-LeaderStateImpl
2023-03-07 04:44:03,440 [s1@group-226B205E055F-LeaderElection10] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(431)) - s1@group-226B205E055F-SegmentedRaftLogWorker: Rolling segment log-0_3 to index:3
2023-03-07 04:44:03,442 [s1@group-226B205E055F-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcd6875260/s1/0a01ff52-f320-42d4-be21-226b205e055f/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcd6875260/s1/0a01ff52-f320-42d4-be21-226b205e055f/current/log_0-3
2023-03-07 04:44:03,442 [s1@group-226B205E055F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(587)) - s1@group-226B205E055F-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcd6875260/s1/0a01ff52-f320-42d4-be21-226b205e055f/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcd6875260/s1/0a01ff52-f320-42d4-be21-226b205e055f/current/log_0-3
2023-03-07 04:44:03,448 [s1@group-226B205E055F-LeaderElection10] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s1@group-226B205E055F: set configuration 4: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:03,451 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-226B205E055F: change Leader from null to s1 at term 2 for appendEntries, leader elected after 38ms
2023-03-07 04:44:03,453 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-226B205E055F: change Leader from null to s1 at term 2 for appendEntries, leader elected after 47ms
2023-03-07 04:44:03,453 [s1@group-226B205E055F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s1@group-226B205E055F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcd6875260/s1/0a01ff52-f320-42d4-be21-226b205e055f/current/log_inprogress_4
2023-03-07 04:44:03,461 [s2-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s2@group-226B205E055F: set configuration 4: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:03,461 [s2-server-thread3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(431)) - s2@group-226B205E055F-SegmentedRaftLogWorker: Rolling segment log-0_3 to index:3
2023-03-07 04:44:03,462 [s2@group-226B205E055F-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcd6875260/s2/0a01ff52-f320-42d4-be21-226b205e055f/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcd6875260/s2/0a01ff52-f320-42d4-be21-226b205e055f/current/log_0-3
2023-03-07 04:44:03,462 [s2@group-226B205E055F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(587)) - s2@group-226B205E055F-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcd6875260/s2/0a01ff52-f320-42d4-be21-226b205e055f/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcd6875260/s2/0a01ff52-f320-42d4-be21-226b205e055f/current/log_0-3
2023-03-07 04:44:03,466 [s0-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-226B205E055F: set configuration 4: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:03,468 [s0-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:truncate(442)) - s0@group-226B205E055F-SegmentedRaftLogWorker: Truncating segments toTruncate: (0, 4) isOpen? true, length=377, newEndIndex=3
  toDelete: [], start index 4
2023-03-07 04:44:03,470 [s0@group-226B205E055F-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran FileOutputStream.getChannel().truncate /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcd6875260/s0/0a01ff52-f320-42d4-be21-226b205e055f/current/log_inprogress_0 length: 356 -> 377
2023-03-07 04:44:03,470 [s0@group-226B205E055F-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcd6875260/s0/0a01ff52-f320-42d4-be21-226b205e055f/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcd6875260/s0/0a01ff52-f320-42d4-be21-226b205e055f/current/log_0-3
2023-03-07 04:44:03,470 [s0@group-226B205E055F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(670)) - s0@group-226B205E055F-SegmentedRaftLogWorker: Truncated log file /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcd6875260/s0/0a01ff52-f320-42d4-be21-226b205e055f/current/log_inprogress_0 to length 377 and moved it to /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcd6875260/s0/0a01ff52-f320-42d4-be21-226b205e055f/current/log_0-3
2023-03-07 04:44:03,470 [s0@group-226B205E055F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-226B205E055F-SegmentedRaftLogWorker: flushIndex: setUnconditionally 4 -> 3
2023-03-07 04:44:03,470 [s0@group-226B205E055F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-226B205E055F-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally -1 -> 3
2023-03-07 04:44:03,470 [s0-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s0@group-226B205E055F-SegmentedRaftLogWorker: Starting segment from index:4
2023-03-07 04:44:03,486 [s2@group-226B205E055F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s2@group-226B205E055F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcd6875260/s2/0a01ff52-f320-42d4-be21-226b205e055f/current/log_inprogress_4
2023-03-07 04:44:03,486 [s0@group-226B205E055F-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s0@group-226B205E055F-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcd6875260/s0/0a01ff52-f320-42d4-be21-226b205e055f/current/log_inprogress_4
2023-03-07 04:44:03,489 [s1@group-226B205E055F-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-6409DC67C5C9
2023-03-07 04:44:03,495 [s2@group-226B205E055F-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-6409DC67C5C9
2023-03-07 04:44:03,877 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-226B205E055F:t2, leader=s1, voted=null, raftlog=Memoized:s0@group-226B205E055F-SegmentedRaftLog:OPENED:c5, conf=4: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-226B205E055F:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-226B205E055F-SegmentedRaftLog:OPENED:c5, conf=4: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-226B205E055F:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-226B205E055F-SegmentedRaftLog:OPENED:c5, conf=4: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-07 04:44:03,877 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s0 to s1
2023-03-07 04:44:03,877 [Time-limited test] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:unblockRequestor(54)) - UnBlock requestor s0
2023-03-07 04:44:03,877 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'request should fail'
2023-03-07 04:44:03,877 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "request should fail" throws ExecutionException
java.util.concurrent.ExecutionException: org.apache.ratis.protocol.exceptions.AlreadyClosedException: client-6409DC67C5C9->s0: Stream completed: no reply for async request cid=2
	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)
	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:203)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.AlreadyClosedException: client-6409DC67C5C9->s0: Stream completed: no reply for async request cid=2
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:396)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onCompleted(GrpcClientProtocolClient.java:336)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:485)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:468)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:432)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:465)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	... 1 more
2023-03-07 04:44:03,879 [Time-limited test] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:unblock(142)) - unblock START_TRANSACTION
2023-03-07 04:44:03,882 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:44:03,882 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:44:03,892 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'request should timeout'
2023-03-07 04:44:03,924 [s1-server-thread1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s1: unBlock request from s0
2023-03-07 04:44:03,926 [grpc-default-executor-0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s0@group-226B205E055F->s1-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2023-03-07 04:44:03,927 [grpc-default-executor-0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s0@group-226B205E055F->s1-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2023-03-07 04:44:03,927 [s2-server-thread1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s2: unBlock request from s0
2023-03-07 04:44:03,928 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s0@group-226B205E055F->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2023-03-07 04:44:03,928 [grpc-default-executor-6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s0@group-226B205E055F->s1-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2023-03-07 04:44:03,929 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s0@group-226B205E055F->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2023-03-07 04:44:03,929 [grpc-default-executor-6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s0@group-226B205E055F->s1-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2023-03-07 04:44:03,930 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s0@group-226B205E055F->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2023-03-07 04:44:03,930 [grpc-default-executor-6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s0@group-226B205E055F->s1-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2023-03-07 04:44:03,930 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s0@group-226B205E055F->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2023-03-07 04:44:03,931 [grpc-default-executor-6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s0@group-226B205E055F->s1-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2023-03-07 04:44:03,931 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s0@group-226B205E055F->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2023-03-07 04:44:03,931 [grpc-default-executor-6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s0@group-226B205E055F->s1-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2023-03-07 04:44:03,932 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#2613-t1,previous=(t:1, i:3),leaderCommit=3,initializing? true,entries: size=1, first=(t:1, i:4), METADATAENTRY(c:3)
2023-03-07 04:44:03,933 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s0@group-226B205E055F->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2023-03-07 04:44:03,933 [grpc-default-executor-6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s0@group-226B205E055F->s1-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2023-03-07 04:44:03,933 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s0@group-226B205E055F->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2023-03-07 04:44:03,933 [grpc-default-executor-0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s0@group-226B205E055F->s1-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2023-03-07 04:44:03,934 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s0@group-226B205E055F->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2023-03-07 04:44:03,934 [grpc-default-executor-6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s0@group-226B205E055F->s1-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2023-03-07 04:44:03,934 [grpc-default-executor-6] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(417)) - s0@group-226B205E055F->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-03-07 04:44:03,934 [grpc-default-executor-6] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(52)) - s0@group-226B205E055F->s1: decreaseNextIndex nextIndex: updateUnconditionally 5 -> 4
2023-03-07 04:44:03,934 [grpc-default-executor-6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s0@group-226B205E055F->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2023-03-07 04:44:03,935 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s2: Completed APPEND_ENTRIES, lastRequest: s0->s2#6512-t1,previous=(t:1, i:3),leaderCommit=3,initializing? true,entries: size=1, first=(t:1, i:4), METADATAENTRY(c:3)
2023-03-07 04:44:03,935 [grpc-default-executor-0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s0@group-226B205E055F->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2023-03-07 04:44:03,935 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(417)) - s0@group-226B205E055F->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-03-07 04:44:03,935 [grpc-default-executor-0] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(52)) - s0@group-226B205E055F->s2: decreaseNextIndex nextIndex: updateUnconditionally 5 -> 4
2023-03-07 04:44:04,883 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "request should timeout" throws ExecutionException
java.util.concurrent.ExecutionException: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-6409DC67C5C9->s0 request #3 timeout 1s
	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)
	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:211)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-6409DC67C5C9->s0 request #3 timeout 1s
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:374)
	at java.base/java.util.Optional.ifPresent(Optional.java:183)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.handleReplyFuture(GrpcClientProtocolClient.java:378)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.timeoutCheck(GrpcClientProtocolClient.java:373)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$onNext$3(GrpcClientProtocolClient.java:366)
	at org.apache.ratis.util.TimeoutTimer.lambda$onTimeout$2(TimeoutTimer.java:101)
	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:79)
	at org.apache.ratis.util.TimeoutTimer$Task.run(TimeoutTimer.java:55)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
2023-03-07 04:44:04,894 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-6409DC67C5C9->s0: receive RaftClientReply:client-6409DC67C5C9->s0@group-226B205E055F, cid=3, FAILED org.apache.ratis.protocol.exceptions.AlreadyClosedException: SlidingWindow$Server:2-OrderedRequestStreamObserver2 is closing: seq = 3 > nextToProcess = -1 will NEVER be processed; request = 3:null, logIndex=0, commits[]
2023-03-07 04:44:07,885 [Thread-421] WARN  grpc.GrpcUtil (GrpcUtil.java:shutdownManagedChannel(223)) - Timed out gracefully shutting down connection: ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=507, target=localhost:37919}}. 
2023-03-07 04:44:07,886 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-03-07 04:44:07,887 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-03-07 04:44:07,887 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2023-03-07 04:44:07,887 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-03-07 04:44:07,887 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-03-07 04:44:07,887 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-226B205E055F:t2, leader=s1, voted=null, raftlog=Memoized:s0@group-226B205E055F-SegmentedRaftLog:OPENED:c5, conf=4: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-226B205E055F:t2, leader=s1, voted=s1, raftlog=Memoized:s1@group-226B205E055F-SegmentedRaftLog:OPENED:c5, conf=4: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-226B205E055F:t2, leader=s1, voted=s1, raftlog=Memoized:s2@group-226B205E055F-SegmentedRaftLog:OPENED:c5, conf=4: peers:[s0|rpc:localhost:37839|admin:localhost:35089|client:localhost:37919|dataStream:localhost:33801|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:40663|admin:localhost:36791|client:localhost:42853|dataStream:localhost:46423|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:43025|admin:localhost:34103|client:localhost:38937|dataStream:localhost:43203|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-07 04:44:07,887 [MiniRaftCluster-12] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s0: close
2023-03-07 04:44:07,891 [MiniRaftCluster-12] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-03-07 04:44:07,891 [MiniRaftCluster-13] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s1: close
2023-03-07 04:44:07,892 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s1@group-226B205E055F: shutdown
2023-03-07 04:44:07,893 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-226B205E055F,id=s1
2023-03-07 04:44:07,893 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-226B205E055F-LeaderStateImpl
2023-03-07 04:44:07,893 [s1-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-226B205E055F-PendingRequests: sendNotLeaderResponses
2023-03-07 04:44:07,893 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s0: Completed APPEND_ENTRIES, lastRequest: s1->s0#2-t2,previous=(t:2, i:4),leaderCommit=4,initializing? true,entries: size=1, first=(t:2, i:5), METADATAENTRY(c:4)
2023-03-07 04:44:07,893 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s2: Completed APPEND_ENTRIES, lastRequest: s1->s2#2-t2,previous=(t:2, i:4),leaderCommit=4,initializing? true,entries: size=1, first=(t:2, i:5), METADATAENTRY(c:4)
2023-03-07 04:44:07,894 [MiniRaftCluster-13] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-03-07 04:44:07,894 [MiniRaftCluster-14] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s2: close
2023-03-07 04:44:07,894 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s0@group-226B205E055F: shutdown
2023-03-07 04:44:07,895 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-226B205E055F,id=s0
2023-03-07 04:44:07,895 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-226B205E055F-FollowerState
2023-03-07 04:44:07,895 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-226B205E055F-StateMachineUpdater: set stopIndex = 5
2023-03-07 04:44:07,895 [s0@group-226B205E055F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-226B205E055F-FollowerState was interrupted
2023-03-07 04:44:07,895 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s0@group-226B205E055F: applyIndex: 5
2023-03-07 04:44:07,895 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(417)) - s1@group-226B205E055F->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-03-07 04:44:07,895 [grpc-default-executor-0] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(52)) - s1@group-226B205E055F->s2: decreaseNextIndex nextIndex: updateUnconditionally 6 -> 5
2023-03-07 04:44:07,895 [grpc-default-executor-6] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(417)) - s1@group-226B205E055F->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-03-07 04:44:07,895 [grpc-default-executor-6] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(52)) - s1@group-226B205E055F->s0: decreaseNextIndex nextIndex: updateUnconditionally 6 -> 5
2023-03-07 04:44:07,896 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-226B205E055F-StateMachineUpdater: set stopIndex = 5
2023-03-07 04:44:07,896 [Thread-427] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(102)) - s0 Close channels
2023-03-07 04:44:07,896 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s1@group-226B205E055F: applyIndex: 5
2023-03-07 04:44:07,902 [Thread-429] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(102)) - s2 Close channels
2023-03-07 04:44:07,902 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s2@group-226B205E055F: shutdown
2023-03-07 04:44:07,902 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-226B205E055F,id=s2
2023-03-07 04:44:07,902 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-226B205E055F-FollowerState
2023-03-07 04:44:07,902 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-226B205E055F-StateMachineUpdater: set stopIndex = 5
2023-03-07 04:44:07,902 [s2@group-226B205E055F-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-226B205E055F-FollowerState was interrupted
2023-03-07 04:44:07,902 [MiniRaftCluster-14] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-03-07 04:44:07,903 [MiniRaftCluster-13] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-03-07 04:44:07,903 [MiniRaftCluster-13] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server GrpcServerProtocolService now
2023-03-07 04:44:07,902 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s2@group-226B205E055F: applyIndex: 5
2023-03-07 04:44:07,905 [Thread-431] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(102)) - s1 Close channels
2023-03-07 04:44:07,906 [Thread-432] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(102)) - s2 Close channels
2023-03-07 04:44:07,907 [MiniRaftCluster-12] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-03-07 04:44:07,907 [MiniRaftCluster-12] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server GrpcServerProtocolService now
2023-03-07 04:44:07,908 [MiniRaftCluster-13] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server GrpcServerProtocolService successfully
2023-03-07 04:44:07,909 [MiniRaftCluster-13] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-03-07 04:44:07,909 [Thread-438] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(102)) - s1 Close channels
2023-03-07 04:44:07,909 [Thread-433] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(102)) - s0 Close channels
2023-03-07 04:44:07,911 [MiniRaftCluster-14] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-03-07 04:44:07,911 [MiniRaftCluster-14] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server GrpcServerProtocolService now
2023-03-07 04:44:07,917 [MiniRaftCluster-12] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server GrpcServerProtocolService successfully
2023-03-07 04:44:07,917 [MiniRaftCluster-12] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-03-07 04:44:07,917 [MiniRaftCluster-14] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server GrpcServerProtocolService successfully
2023-03-07 04:44:07,917 [MiniRaftCluster-14] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-03-07 04:44:07,917 [MiniRaftCluster-12] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-03-07 04:44:07,918 [MiniRaftCluster-13] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-03-07 04:44:07,918 [MiniRaftCluster-14] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-03-07 04:44:08,495 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s1@group-226B205E055F-SegmentedRaftLogWorker close()
2023-03-07 04:44:08,497 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s2@group-226B205E055F-SegmentedRaftLogWorker close()
2023-03-07 04:44:08,497 [JvmPauseMonitor13] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2023-03-07 04:44:08,498 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s0@group-226B205E055F-SegmentedRaftLogWorker close()
2023-03-07 04:44:08,499 [JvmPauseMonitor12] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2023-03-07 04:44:08,499 [JvmPauseMonitor11] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2023-03-07 04:44:08,499 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2023-03-07 04:44:08,501 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-03-07 04:44:08,501 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-03-07 04:44:08,501 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2023-03-07 04:44:08,501 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2023-03-07 04:44:08,502 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-2EA0F3FED7C6:[s0|rpc:localhost:34255|admin:localhost:41427|client:localhost:40051|dataStream:localhost:39913|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38973|admin:localhost:36737|client:localhost:36695|dataStream:localhost:33057|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38175|admin:localhost:37221|client:localhost:37045|dataStream:localhost:34505|priority:0|startupRole:FOLLOWER]
2023-03-07 04:44:08,502 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-03-07 04:44:08,502 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-03-07 04:44:08,502 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2023-03-07 04:44:08,502 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-03-07 04:44:08,502 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-03-07 04:44:08,502 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-03-07 04:44:08,502 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-2EA0F3FED7C6:[s0|rpc:localhost:34255|admin:localhost:41427|client:localhost:40051|dataStream:localhost:39913|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38973|admin:localhost:36737|client:localhost:36695|dataStream:localhost:33057|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38175|admin:localhost:37221|client:localhost:37045|dataStream:localhost:34505|priority:0|startupRole:FOLLOWER], format? true
2023-03-07 04:44:08,502 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/ac5303ae/MiniRaftClusterWithGrpc3bbc3b20/s0
2023-03-07 04:44:08,503 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/ac5303ae/MiniRaftClusterWithGrpc3bbc3b20/s0 does not exist.
2023-03-07 04:44:08,503 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/ac5303ae/MiniRaftClusterWithGrpc3bbc3b20/s0
2023-03-07 04:44:08,503 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-03-07 04:44:08,503 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:44:08,503 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 41427 (custom)
2023-03-07 04:44:08,503 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:44:08,503 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 40051 (custom)
2023-03-07 04:44:08,503 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-07 04:44:08,503 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 34255 (custom)
2023-03-07 04:44:08,503 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:44:08,503 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:08,504 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:44:08,504 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-07 04:44:08,504 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-03-07 04:44:08,504 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-07 04:44:08,504 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-07 04:44:08,505 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-07 04:44:08,505 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-07 04:44:08,505 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-07 04:44:08,505 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-07 04:44:08,505 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-07 04:44:08,505 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc3bbc3b20/s0] (custom)
2023-03-07 04:44:08,506 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-2EA0F3FED7C6:[s0|rpc:localhost:34255|admin:localhost:41427|client:localhost:40051|dataStream:localhost:39913|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38973|admin:localhost:36737|client:localhost:36695|dataStream:localhost:33057|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38175|admin:localhost:37221|client:localhost:37045|dataStream:localhost:34505|priority:0|startupRole:FOLLOWER] returns group-2EA0F3FED7C6:java.util.concurrent.CompletableFuture@4d84ac70[Not completed]
2023-03-07 04:44:08,506 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-2EA0F3FED7C6:[s0|rpc:localhost:34255|admin:localhost:41427|client:localhost:40051|dataStream:localhost:39913|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38973|admin:localhost:36737|client:localhost:36695|dataStream:localhost:33057|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38175|admin:localhost:37221|client:localhost:37045|dataStream:localhost:34505|priority:0|startupRole:FOLLOWER], format? true
2023-03-07 04:44:08,506 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/ac5303ae/MiniRaftClusterWithGrpc3bbc3b20/s1
2023-03-07 04:44:08,506 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/ac5303ae/MiniRaftClusterWithGrpc3bbc3b20/s1 does not exist.
2023-03-07 04:44:08,506 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/ac5303ae/MiniRaftClusterWithGrpc3bbc3b20/s1
2023-03-07 04:44:08,506 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-03-07 04:44:08,506 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:44:08,506 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 36737 (custom)
2023-03-07 04:44:08,506 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:44:08,506 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 36695 (custom)
2023-03-07 04:44:08,506 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-07 04:44:08,506 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 38973 (custom)
2023-03-07 04:44:08,506 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:44:08,506 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:08,506 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:44:08,507 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-07 04:44:08,507 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-03-07 04:44:08,507 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-07 04:44:08,507 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-07 04:44:08,507 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-07 04:44:08,508 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-07 04:44:08,508 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-07 04:44:08,508 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-07 04:44:08,508 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-07 04:44:08,508 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc3bbc3b20/s1] (custom)
2023-03-07 04:44:08,508 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:44:08,508 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-07 04:44:08,508 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-07 04:44:08,508 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-2EA0F3FED7C6:[s0|rpc:localhost:34255|admin:localhost:41427|client:localhost:40051|dataStream:localhost:39913|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38973|admin:localhost:36737|client:localhost:36695|dataStream:localhost:33057|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38175|admin:localhost:37221|client:localhost:37045|dataStream:localhost:34505|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-03-07 04:44:08,508 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-07 04:44:08,508 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-07 04:44:08,508 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-07 04:44:08,508 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-07 04:44:08,508 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-07 04:44:08,509 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-07 04:44:08,509 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-2EA0F3FED7C6: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:34255|admin:localhost:41427|client:localhost:40051|dataStream:localhost:39913|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38973|admin:localhost:36737|client:localhost:36695|dataStream:localhost:33057|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38175|admin:localhost:37221|client:localhost:37045|dataStream:localhost:34505|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-07 04:44:08,509 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-07 04:44:08,509 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-07 04:44:08,509 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-07 04:44:08,509 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-07 04:44:08,509 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-07 04:44:08,510 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-07 04:44:08,510 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-07 04:44:08,510 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-07 04:44:08,510 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-07 04:44:08,510 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-07 04:44:08,515 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-2EA0F3FED7C6:[s0|rpc:localhost:34255|admin:localhost:41427|client:localhost:40051|dataStream:localhost:39913|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38973|admin:localhost:36737|client:localhost:36695|dataStream:localhost:33057|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38175|admin:localhost:37221|client:localhost:37045|dataStream:localhost:34505|priority:0|startupRole:FOLLOWER] returns group-2EA0F3FED7C6:java.util.concurrent.CompletableFuture@39445209[Not completed]
2023-03-07 04:44:08,515 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-2EA0F3FED7C6:[s0|rpc:localhost:34255|admin:localhost:41427|client:localhost:40051|dataStream:localhost:39913|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38973|admin:localhost:36737|client:localhost:36695|dataStream:localhost:33057|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38175|admin:localhost:37221|client:localhost:37045|dataStream:localhost:34505|priority:0|startupRole:FOLLOWER], format? true
2023-03-07 04:44:08,515 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/ac5303ae/MiniRaftClusterWithGrpc3bbc3b20/s2
2023-03-07 04:44:08,515 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/ac5303ae/MiniRaftClusterWithGrpc3bbc3b20/s2 does not exist.
2023-03-07 04:44:08,515 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/ac5303ae/MiniRaftClusterWithGrpc3bbc3b20/s2
2023-03-07 04:44:08,515 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-03-07 04:44:08,515 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:44:08,515 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 37221 (custom)
2023-03-07 04:44:08,515 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:44:08,515 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 37045 (custom)
2023-03-07 04:44:08,515 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-07 04:44:08,515 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 38175 (custom)
2023-03-07 04:44:08,515 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:44:08,515 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:08,515 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:44:08,516 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-07 04:44:08,516 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-03-07 04:44:08,516 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-07 04:44:08,516 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-07 04:44:08,516 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-07 04:44:08,517 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-07 04:44:08,517 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-07 04:44:08,517 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-07 04:44:08,517 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-07 04:44:08,517 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc3bbc3b20/s2] (custom)
2023-03-07 04:44:08,517 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:44:08,520 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-07 04:44:08,520 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-07 04:44:08,520 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-2EA0F3FED7C6:[s0|rpc:localhost:34255|admin:localhost:41427|client:localhost:40051|dataStream:localhost:39913|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38973|admin:localhost:36737|client:localhost:36695|dataStream:localhost:33057|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38175|admin:localhost:37221|client:localhost:37045|dataStream:localhost:34505|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-03-07 04:44:08,520 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-07 04:44:08,520 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-07 04:44:08,520 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-07 04:44:08,520 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-07 04:44:08,520 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-07 04:44:08,520 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-07 04:44:08,520 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-2EA0F3FED7C6: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:34255|admin:localhost:41427|client:localhost:40051|dataStream:localhost:39913|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38973|admin:localhost:36737|client:localhost:36695|dataStream:localhost:33057|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38175|admin:localhost:37221|client:localhost:37045|dataStream:localhost:34505|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-07 04:44:08,520 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-07 04:44:08,520 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-07 04:44:08,520 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-07 04:44:08,520 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-07 04:44:08,521 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-07 04:44:08,521 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-07 04:44:08,521 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-07 04:44:08,521 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-07 04:44:08,521 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-07 04:44:08,521 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-07 04:44:08,525 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-2EA0F3FED7C6:[s0|rpc:localhost:34255|admin:localhost:41427|client:localhost:40051|dataStream:localhost:39913|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38973|admin:localhost:36737|client:localhost:36695|dataStream:localhost:33057|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38175|admin:localhost:37221|client:localhost:37045|dataStream:localhost:34505|priority:0|startupRole:FOLLOWER] returns group-2EA0F3FED7C6:java.util.concurrent.CompletableFuture@5cb5d0bc[Not completed]
2023-03-07 04:44:08,525 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-07 04:44:08,525 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-07 04:44:08,525 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:44:08,525 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc3bbc3b20/s0] (custom)
2023-03-07 04:44:08,526 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc3bbc3b20/s0/f16100f0-23fe-4d7c-aece-2ea0f3fed7c6 does not exist. Creating ...
2023-03-07 04:44:08,526 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc3bbc3b20/s0/f16100f0-23fe-4d7c-aece-2ea0f3fed7c6
2023-03-07 04:44:08,525 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-07 04:44:08,528 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-07 04:44:08,528 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-2EA0F3FED7C6:[s0|rpc:localhost:34255|admin:localhost:41427|client:localhost:40051|dataStream:localhost:39913|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38973|admin:localhost:36737|client:localhost:36695|dataStream:localhost:33057|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38175|admin:localhost:37221|client:localhost:37045|dataStream:localhost:34505|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-03-07 04:44:08,528 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-07 04:44:08,528 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-07 04:44:08,528 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-07 04:44:08,528 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-07 04:44:08,528 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-07 04:44:08,528 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-07 04:44:08,528 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-2EA0F3FED7C6: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:34255|admin:localhost:41427|client:localhost:40051|dataStream:localhost:39913|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38973|admin:localhost:36737|client:localhost:36695|dataStream:localhost:33057|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38175|admin:localhost:37221|client:localhost:37045|dataStream:localhost:34505|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-07 04:44:08,528 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-07 04:44:08,528 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-07 04:44:08,529 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-07 04:44:08,529 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-07 04:44:08,529 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-07 04:44:08,529 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-07 04:44:08,529 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-07 04:44:08,529 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-07 04:44:08,529 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-07 04:44:08,529 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-07 04:44:08,552 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc3bbc3b20/s0/f16100f0-23fe-4d7c-aece-2ea0f3fed7c6/in_use.lock acquired by nodename 17652@fv-az443-797
2023-03-07 04:44:08,552 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc3bbc3b20/s0/f16100f0-23fe-4d7c-aece-2ea0f3fed7c6/current
2023-03-07 04:44:08,552 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc3bbc3b20/s0/f16100f0-23fe-4d7c-aece-2ea0f3fed7c6/sm
2023-03-07 04:44:08,560 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc3bbc3b20/s0/f16100f0-23fe-4d7c-aece-2ea0f3fed7c6 has been successfully formatted.
2023-03-07 04:44:08,560 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-03-07 04:44:08,560 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-03-07 04:44:08,560 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-07 04:44:08,560 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-07 04:44:08,560 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:08,560 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-07 04:44:08,560 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-07 04:44:08,561 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:44:08,561 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-07 04:44:08,561 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-07 04:44:08,561 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:08,561 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s0@group-2EA0F3FED7C6-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc3bbc3b20/s0/f16100f0-23fe-4d7c-aece-2ea0f3fed7c6
2023-03-07 04:44:08,561 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-07 04:44:08,561 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-07 04:44:08,561 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:44:08,561 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-07 04:44:08,561 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-07 04:44:08,561 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-07 04:44:08,561 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-07 04:44:08,561 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-07 04:44:08,561 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-07 04:44:08,561 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:08,562 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-07 04:44:08,562 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-07 04:44:08,562 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-07 04:44:08,562 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-2EA0F3FED7C6-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-07 04:44:08,562 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-2EA0F3FED7C6-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-07 04:44:08,562 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s0@group-2EA0F3FED7C6: start as a follower, conf=-1: peers:[s0|rpc:localhost:34255|admin:localhost:41427|client:localhost:40051|dataStream:localhost:39913|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38973|admin:localhost:36737|client:localhost:36695|dataStream:localhost:33057|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38175|admin:localhost:37221|client:localhost:37045|dataStream:localhost:34505|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:08,563 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-2EA0F3FED7C6: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-07 04:44:08,563 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-2EA0F3FED7C6-FollowerState
2023-03-07 04:44:08,563 [s0@group-2EA0F3FED7C6-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:44:08,563 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-2EA0F3FED7C6,id=s0
2023-03-07 04:44:08,563 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-07 04:44:08,563 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-07 04:44:08,563 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-07 04:44:08,563 [s0@group-2EA0F3FED7C6-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:44:08,564 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s0: start RPC server
2023-03-07 04:44:08,564 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 40051
2023-03-07 04:44:08,565 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 34255
2023-03-07 04:44:08,565 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 41427
2023-03-07 04:44:08,566 [JvmPauseMonitor14] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2023-03-07 04:44:08,566 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-07 04:44:08,566 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-07 04:44:08,567 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc3bbc3b20/s1] (custom)
2023-03-07 04:44:08,567 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc3bbc3b20/s1/f16100f0-23fe-4d7c-aece-2ea0f3fed7c6 does not exist. Creating ...
2023-03-07 04:44:08,567 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc3bbc3b20/s1/f16100f0-23fe-4d7c-aece-2ea0f3fed7c6
2023-03-07 04:44:08,568 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc3bbc3b20/s1/f16100f0-23fe-4d7c-aece-2ea0f3fed7c6/in_use.lock acquired by nodename 17652@fv-az443-797
2023-03-07 04:44:08,568 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc3bbc3b20/s1/f16100f0-23fe-4d7c-aece-2ea0f3fed7c6/current
2023-03-07 04:44:08,568 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc3bbc3b20/s1/f16100f0-23fe-4d7c-aece-2ea0f3fed7c6/sm
2023-03-07 04:44:08,569 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc3bbc3b20/s1/f16100f0-23fe-4d7c-aece-2ea0f3fed7c6 has been successfully formatted.
2023-03-07 04:44:08,569 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-03-07 04:44:08,569 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-03-07 04:44:08,569 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-07 04:44:08,569 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-07 04:44:08,569 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:08,569 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-07 04:44:08,569 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-07 04:44:08,570 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:44:08,570 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-07 04:44:08,570 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-07 04:44:08,570 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:08,570 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s1@group-2EA0F3FED7C6-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc3bbc3b20/s1/f16100f0-23fe-4d7c-aece-2ea0f3fed7c6
2023-03-07 04:44:08,570 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-07 04:44:08,570 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-07 04:44:08,570 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:44:08,570 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-07 04:44:08,570 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-07 04:44:08,570 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-07 04:44:08,570 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-07 04:44:08,570 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-07 04:44:08,570 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-07 04:44:08,570 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:08,571 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-07 04:44:08,571 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-07 04:44:08,571 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-07 04:44:08,571 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-2EA0F3FED7C6-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-07 04:44:08,571 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-2EA0F3FED7C6-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-07 04:44:08,571 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s1@group-2EA0F3FED7C6: start as a follower, conf=-1: peers:[s0|rpc:localhost:34255|admin:localhost:41427|client:localhost:40051|dataStream:localhost:39913|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38973|admin:localhost:36737|client:localhost:36695|dataStream:localhost:33057|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38175|admin:localhost:37221|client:localhost:37045|dataStream:localhost:34505|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:08,571 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-2EA0F3FED7C6: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-07 04:44:08,571 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-2EA0F3FED7C6-FollowerState
2023-03-07 04:44:08,572 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-2EA0F3FED7C6,id=s1
2023-03-07 04:44:08,572 [s1@group-2EA0F3FED7C6-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:44:08,572 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-07 04:44:08,572 [s1@group-2EA0F3FED7C6-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:44:08,572 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-07 04:44:08,572 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-07 04:44:08,573 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s1: start RPC server
2023-03-07 04:44:08,573 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 36695
2023-03-07 04:44:08,573 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 38973
2023-03-07 04:44:08,573 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 36737
2023-03-07 04:44:08,574 [JvmPauseMonitor15] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2023-03-07 04:44:08,574 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-07 04:44:08,574 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-07 04:44:08,574 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc3bbc3b20/s2] (custom)
2023-03-07 04:44:08,574 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc3bbc3b20/s2/f16100f0-23fe-4d7c-aece-2ea0f3fed7c6 does not exist. Creating ...
2023-03-07 04:44:08,574 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc3bbc3b20/s2/f16100f0-23fe-4d7c-aece-2ea0f3fed7c6
2023-03-07 04:44:08,575 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc3bbc3b20/s2/f16100f0-23fe-4d7c-aece-2ea0f3fed7c6/in_use.lock acquired by nodename 17652@fv-az443-797
2023-03-07 04:44:08,575 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc3bbc3b20/s2/f16100f0-23fe-4d7c-aece-2ea0f3fed7c6/current
2023-03-07 04:44:08,576 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc3bbc3b20/s2/f16100f0-23fe-4d7c-aece-2ea0f3fed7c6/sm
2023-03-07 04:44:08,600 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc3bbc3b20/s2/f16100f0-23fe-4d7c-aece-2ea0f3fed7c6 has been successfully formatted.
2023-03-07 04:44:08,600 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-03-07 04:44:08,600 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-03-07 04:44:08,600 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-07 04:44:08,600 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-07 04:44:08,600 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:08,600 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-07 04:44:08,600 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-07 04:44:08,601 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:44:08,601 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-07 04:44:08,601 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-07 04:44:08,601 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:08,601 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s2@group-2EA0F3FED7C6-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc3bbc3b20/s2/f16100f0-23fe-4d7c-aece-2ea0f3fed7c6
2023-03-07 04:44:08,601 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-07 04:44:08,601 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-07 04:44:08,601 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:44:08,601 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-07 04:44:08,601 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-07 04:44:08,601 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-07 04:44:08,601 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-07 04:44:08,601 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-07 04:44:08,601 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-07 04:44:08,601 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:08,602 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-07 04:44:08,602 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-07 04:44:08,602 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-07 04:44:08,602 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-2EA0F3FED7C6-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-07 04:44:08,602 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-2EA0F3FED7C6-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-07 04:44:08,602 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s2@group-2EA0F3FED7C6: start as a follower, conf=-1: peers:[s0|rpc:localhost:34255|admin:localhost:41427|client:localhost:40051|dataStream:localhost:39913|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38973|admin:localhost:36737|client:localhost:36695|dataStream:localhost:33057|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38175|admin:localhost:37221|client:localhost:37045|dataStream:localhost:34505|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:08,602 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-2EA0F3FED7C6: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-07 04:44:08,603 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-2EA0F3FED7C6-FollowerState
2023-03-07 04:44:08,603 [s2@group-2EA0F3FED7C6-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:44:08,603 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-2EA0F3FED7C6,id=s2
2023-03-07 04:44:08,603 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-07 04:44:08,603 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-07 04:44:08,603 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-07 04:44:08,603 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s2: start RPC server
2023-03-07 04:44:08,604 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 37045
2023-03-07 04:44:08,604 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 38175
2023-03-07 04:44:08,604 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 37221
2023-03-07 04:44:08,603 [s2@group-2EA0F3FED7C6-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:44:08,605 [JvmPauseMonitor16] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2023-03-07 04:44:08,605 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-07 04:44:08,605 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-2EA0F3FED7C6:t0, leader=null, voted=, raftlog=Memoized:s0@group-2EA0F3FED7C6-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34255|admin:localhost:41427|client:localhost:40051|dataStream:localhost:39913|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38973|admin:localhost:36737|client:localhost:36695|dataStream:localhost:33057|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38175|admin:localhost:37221|client:localhost:37045|dataStream:localhost:34505|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-2EA0F3FED7C6:t0, leader=null, voted=, raftlog=Memoized:s1@group-2EA0F3FED7C6-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34255|admin:localhost:41427|client:localhost:40051|dataStream:localhost:39913|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38973|admin:localhost:36737|client:localhost:36695|dataStream:localhost:33057|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38175|admin:localhost:37221|client:localhost:37045|dataStream:localhost:34505|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-2EA0F3FED7C6:t0, leader=null, voted=, raftlog=Memoized:s2@group-2EA0F3FED7C6-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34255|admin:localhost:41427|client:localhost:40051|dataStream:localhost:39913|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38973|admin:localhost:36737|client:localhost:36695|dataStream:localhost:33057|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38175|admin:localhost:37221|client:localhost:37045|dataStream:localhost:34505|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-07 04:44:08,605 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-2EA0F3FED7C6:t0, leader=null, voted=, raftlog=Memoized:s0@group-2EA0F3FED7C6-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34255|admin:localhost:41427|client:localhost:40051|dataStream:localhost:39913|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38973|admin:localhost:36737|client:localhost:36695|dataStream:localhost:33057|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38175|admin:localhost:37221|client:localhost:37045|dataStream:localhost:34505|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-2EA0F3FED7C6:t0, leader=null, voted=, raftlog=Memoized:s1@group-2EA0F3FED7C6-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34255|admin:localhost:41427|client:localhost:40051|dataStream:localhost:39913|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38973|admin:localhost:36737|client:localhost:36695|dataStream:localhost:33057|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38175|admin:localhost:37221|client:localhost:37045|dataStream:localhost:34505|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-2EA0F3FED7C6:t0, leader=null, voted=, raftlog=Memoized:s2@group-2EA0F3FED7C6-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34255|admin:localhost:41427|client:localhost:40051|dataStream:localhost:39913|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38973|admin:localhost:36737|client:localhost:36695|dataStream:localhost:33057|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38175|admin:localhost:37221|client:localhost:37045|dataStream:localhost:34505|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-2EA0F3FED7C6:t0, leader=null, voted=, raftlog=Memoized:s0@group-2EA0F3FED7C6-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34255|admin:localhost:41427|client:localhost:40051|dataStream:localhost:39913|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38973|admin:localhost:36737|client:localhost:36695|dataStream:localhost:33057|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38175|admin:localhost:37221|client:localhost:37045|dataStream:localhost:34505|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-2EA0F3FED7C6:t0, leader=null, voted=, raftlog=Memoized:s1@group-2EA0F3FED7C6-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34255|admin:localhost:41427|client:localhost:40051|dataStream:localhost:39913|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38973|admin:localhost:36737|client:localhost:36695|dataStream:localhost:33057|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38175|admin:localhost:37221|client:localhost:37045|dataStream:localhost:34505|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-2EA0F3FED7C6:t0, leader=null, voted=, raftlog=Memoized:s2@group-2EA0F3FED7C6-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34255|admin:localhost:41427|client:localhost:40051|dataStream:localhost:39913|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38973|admin:localhost:36737|client:localhost:36695|dataStream:localhost:33057|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38175|admin:localhost:37221|client:localhost:37045|dataStream:localhost:34505|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientRequestMetrics(TestRaftServerWithGrpc.java:308)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftClientMetrics(TestRaftServerWithGrpc.java:219)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-07 04:44:08,843 [s0@group-2EA0F3FED7C6-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-2EA0F3FED7C6-FollowerState: change to CANDIDATE, lastRpcElapsedTime:280562424ns, electionTimeout:278ms
2023-03-07 04:44:08,843 [s0@group-2EA0F3FED7C6-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-2EA0F3FED7C6-FollowerState
2023-03-07 04:44:08,843 [s0@group-2EA0F3FED7C6-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-2EA0F3FED7C6: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-03-07 04:44:08,844 [s0@group-2EA0F3FED7C6-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-07 04:44:08,844 [s0@group-2EA0F3FED7C6-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-2EA0F3FED7C6-LeaderElection12
2023-03-07 04:44:08,845 [s0@group-2EA0F3FED7C6-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-2EA0F3FED7C6-LeaderElection12 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:34255|admin:localhost:41427|client:localhost:40051|dataStream:localhost:39913|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38973|admin:localhost:36737|client:localhost:36695|dataStream:localhost:33057|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38175|admin:localhost:37221|client:localhost:37045|dataStream:localhost:34505|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:08,846 [s0@group-2EA0F3FED7C6-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:44:08,846 [s0@group-2EA0F3FED7C6-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:44:08,846 [s0@group-2EA0F3FED7C6-LeaderElection12-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(64)) - Build channel for s2
2023-03-07 04:44:08,846 [s0@group-2EA0F3FED7C6-LeaderElection12-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(64)) - Build channel for s1
2023-03-07 04:44:08,850 [s1@group-2EA0F3FED7C6-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-2EA0F3FED7C6-FollowerState: change to CANDIDATE, lastRpcElapsedTime:278861695ns, electionTimeout:278ms
2023-03-07 04:44:08,850 [s1@group-2EA0F3FED7C6-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-2EA0F3FED7C6-FollowerState
2023-03-07 04:44:08,850 [s1@group-2EA0F3FED7C6-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-2EA0F3FED7C6: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-03-07 04:44:08,851 [s1@group-2EA0F3FED7C6-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-07 04:44:08,851 [s1@group-2EA0F3FED7C6-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-2EA0F3FED7C6-LeaderElection13
2023-03-07 04:44:08,852 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s2@group-2EA0F3FED7C6: receive requestVote(PRE_VOTE, s0, group-2EA0F3FED7C6, 0, (t:0, i:0))
2023-03-07 04:44:08,852 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-2EA0F3FED7C6-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-03-07 04:44:08,852 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s2@group-2EA0F3FED7C6 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-2EA0F3FED7C6:t0, leader=null, voted=, raftlog=Memoized:s2@group-2EA0F3FED7C6-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34255|admin:localhost:41427|client:localhost:40051|dataStream:localhost:39913|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38973|admin:localhost:36737|client:localhost:36695|dataStream:localhost:33057|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38175|admin:localhost:37221|client:localhost:37045|dataStream:localhost:34505|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:08,853 [s0@group-2EA0F3FED7C6-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-2EA0F3FED7C6-LeaderElection12: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-03-07 04:44:08,853 [s0@group-2EA0F3FED7C6-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s2#0:OK-t0
2023-03-07 04:44:08,853 [s0@group-2EA0F3FED7C6-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-2EA0F3FED7C6-LeaderElection12 PRE_VOTE round 0: result PASSED
2023-03-07 04:44:08,855 [s0@group-2EA0F3FED7C6-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-2EA0F3FED7C6-LeaderElection12 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:34255|admin:localhost:41427|client:localhost:40051|dataStream:localhost:39913|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38973|admin:localhost:36737|client:localhost:36695|dataStream:localhost:33057|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38175|admin:localhost:37221|client:localhost:37045|dataStream:localhost:34505|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:08,856 [s2@group-2EA0F3FED7C6-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:44:08,856 [s2@group-2EA0F3FED7C6-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:44:08,857 [s0@group-2EA0F3FED7C6-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:44:08,857 [s0@group-2EA0F3FED7C6-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:44:08,857 [s1@group-2EA0F3FED7C6-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-2EA0F3FED7C6-LeaderElection13 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:34255|admin:localhost:41427|client:localhost:40051|dataStream:localhost:39913|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38973|admin:localhost:36737|client:localhost:36695|dataStream:localhost:33057|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38175|admin:localhost:37221|client:localhost:37045|dataStream:localhost:34505|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:08,864 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s1@group-2EA0F3FED7C6: receive requestVote(ELECTION, s0, group-2EA0F3FED7C6, 1, (t:0, i:0))
2023-03-07 04:44:08,864 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-2EA0F3FED7C6-CANDIDATE: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2023-03-07 04:44:08,865 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-2EA0F3FED7C6: changes role from CANDIDATE to FOLLOWER at term 1 for candidate:s0
2023-03-07 04:44:08,865 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-2EA0F3FED7C6-LeaderElection13
2023-03-07 04:44:08,865 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-2EA0F3FED7C6-FollowerState
2023-03-07 04:44:08,865 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s1@group-2EA0F3FED7C6: receive requestVote(PRE_VOTE, s0, group-2EA0F3FED7C6, 0, (t:0, i:0))
2023-03-07 04:44:08,865 [s1@group-2EA0F3FED7C6-LeaderElection13-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(64)) - Build channel for s0
2023-03-07 04:44:08,868 [s1@group-2EA0F3FED7C6-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:44:08,868 [s1@group-2EA0F3FED7C6-LeaderElection13] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:44:08,868 [s1@group-2EA0F3FED7C6-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-2EA0F3FED7C6-LeaderElection13: PRE_VOTE REJECTED received 0 response(s) and 0 exception(s):
2023-03-07 04:44:08,868 [s1@group-2EA0F3FED7C6-LeaderElection13] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-2EA0F3FED7C6-LeaderElection13 PRE_VOTE round 0: result REJECTED
2023-03-07 04:44:08,868 [s1@group-2EA0F3FED7C6-LeaderElection13-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(64)) - Build channel for s2
2023-03-07 04:44:08,870 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s0@group-2EA0F3FED7C6: receive requestVote(PRE_VOTE, s1, group-2EA0F3FED7C6, 0, (t:0, i:0))
2023-03-07 04:44:08,870 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-2EA0F3FED7C6-CANDIDATE: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-03-07 04:44:08,870 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s0@group-2EA0F3FED7C6 replies to PRE_VOTE vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-2EA0F3FED7C6:t1, leader=null, voted=s0, raftlog=Memoized:s0@group-2EA0F3FED7C6-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34255|admin:localhost:41427|client:localhost:40051|dataStream:localhost:39913|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38973|admin:localhost:36737|client:localhost:36695|dataStream:localhost:33057|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38175|admin:localhost:37221|client:localhost:37045|dataStream:localhost:34505|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:08,870 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s1@group-2EA0F3FED7C6 replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-2EA0F3FED7C6:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-2EA0F3FED7C6-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34255|admin:localhost:41427|client:localhost:40051|dataStream:localhost:39913|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38973|admin:localhost:36737|client:localhost:36695|dataStream:localhost:33057|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38175|admin:localhost:37221|client:localhost:37045|dataStream:localhost:34505|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:08,870 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-2EA0F3FED7C6-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-03-07 04:44:08,870 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s1@group-2EA0F3FED7C6 replies to PRE_VOTE vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-2EA0F3FED7C6:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-2EA0F3FED7C6-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34255|admin:localhost:41427|client:localhost:40051|dataStream:localhost:39913|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38973|admin:localhost:36737|client:localhost:36695|dataStream:localhost:33057|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38175|admin:localhost:37221|client:localhost:37045|dataStream:localhost:34505|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:08,871 [s1@group-2EA0F3FED7C6-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:44:08,871 [s1@group-2EA0F3FED7C6-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:44:08,871 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s2@group-2EA0F3FED7C6: receive requestVote(ELECTION, s0, group-2EA0F3FED7C6, 1, (t:0, i:0))
2023-03-07 04:44:08,871 [grpc-default-executor-4] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-2EA0F3FED7C6-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2023-03-07 04:44:08,871 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-2EA0F3FED7C6: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2023-03-07 04:44:08,871 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-2EA0F3FED7C6-FollowerState
2023-03-07 04:44:08,871 [s2@group-2EA0F3FED7C6-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-2EA0F3FED7C6-FollowerState was interrupted
2023-03-07 04:44:08,872 [grpc-default-executor-4] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-2EA0F3FED7C6-FollowerState
2023-03-07 04:44:08,877 [s0@group-2EA0F3FED7C6-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-2EA0F3FED7C6-LeaderElection12: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-03-07 04:44:08,878 [s0@group-2EA0F3FED7C6-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t1
2023-03-07 04:44:08,878 [s0@group-2EA0F3FED7C6-LeaderElection12] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-2EA0F3FED7C6-LeaderElection12 ELECTION round 0: result PASSED
2023-03-07 04:44:08,878 [s0@group-2EA0F3FED7C6-LeaderElection12] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-2EA0F3FED7C6-LeaderElection12
2023-03-07 04:44:08,878 [s0@group-2EA0F3FED7C6-LeaderElection12] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-2EA0F3FED7C6: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-03-07 04:44:08,878 [s0@group-2EA0F3FED7C6-LeaderElection12] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-2EA0F3FED7C6: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 369ms
2023-03-07 04:44:08,878 [s0@group-2EA0F3FED7C6-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-03-07 04:44:08,878 [s0@group-2EA0F3FED7C6-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-07 04:44:08,878 [s0@group-2EA0F3FED7C6-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2023-03-07 04:44:08,878 [s0@group-2EA0F3FED7C6-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-03-07 04:44:08,878 [s0@group-2EA0F3FED7C6-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-03-07 04:44:08,878 [s0@group-2EA0F3FED7C6-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-03-07 04:44:08,878 [s0@group-2EA0F3FED7C6-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-07 04:44:08,878 [s0@group-2EA0F3FED7C6-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-03-07 04:44:08,878 [s0@group-2EA0F3FED7C6-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-07 04:44:08,879 [s0@group-2EA0F3FED7C6-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:08,879 [s0@group-2EA0F3FED7C6-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-07 04:44:08,879 [s0@group-2EA0F3FED7C6-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-07 04:44:08,879 [s0@group-2EA0F3FED7C6-LeaderElection12] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2023-03-07 04:44:08,879 [s0@group-2EA0F3FED7C6-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-07 04:44:08,879 [s0@group-2EA0F3FED7C6-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-07 04:44:08,879 [s0@group-2EA0F3FED7C6-LeaderElection12] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-03-07 04:44:08,879 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s2@group-2EA0F3FED7C6: receive requestVote(PRE_VOTE, s1, group-2EA0F3FED7C6, 0, (t:0, i:0))
2023-03-07 04:44:08,879 [s0@group-2EA0F3FED7C6-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-07 04:44:08,879 [s0@group-2EA0F3FED7C6-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:08,879 [s0@group-2EA0F3FED7C6-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-07 04:44:08,879 [s0@group-2EA0F3FED7C6-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-07 04:44:08,879 [s0@group-2EA0F3FED7C6-LeaderElection12] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2023-03-07 04:44:08,879 [s0@group-2EA0F3FED7C6-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-07 04:44:08,879 [s0@group-2EA0F3FED7C6-LeaderElection12] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-07 04:44:08,879 [s0@group-2EA0F3FED7C6-LeaderElection12] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-03-07 04:44:08,879 [s0@group-2EA0F3FED7C6-LeaderElection12] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-2EA0F3FED7C6-LeaderStateImpl
2023-03-07 04:44:08,879 [s0@group-2EA0F3FED7C6-LeaderElection12] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s0@group-2EA0F3FED7C6-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-07 04:44:08,889 [s2@group-2EA0F3FED7C6-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:44:08,890 [s2@group-2EA0F3FED7C6-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:44:08,889 [s0@group-2EA0F3FED7C6-LeaderElection12] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-2EA0F3FED7C6: set configuration 0: peers:[s0|rpc:localhost:34255|admin:localhost:41427|client:localhost:40051|dataStream:localhost:39913|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38973|admin:localhost:36737|client:localhost:36695|dataStream:localhost:33057|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38175|admin:localhost:37221|client:localhost:37045|dataStream:localhost:34505|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:08,889 [grpc-default-executor-4] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s2@group-2EA0F3FED7C6 replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-2EA0F3FED7C6:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-2EA0F3FED7C6-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34255|admin:localhost:41427|client:localhost:40051|dataStream:localhost:39913|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38973|admin:localhost:36737|client:localhost:36695|dataStream:localhost:33057|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38175|admin:localhost:37221|client:localhost:37045|dataStream:localhost:34505|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:08,891 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-2EA0F3FED7C6-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-03-07 04:44:08,891 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s2@group-2EA0F3FED7C6 replies to PRE_VOTE vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-2EA0F3FED7C6:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-2EA0F3FED7C6-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:34255|admin:localhost:41427|client:localhost:40051|dataStream:localhost:39913|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38973|admin:localhost:36737|client:localhost:36695|dataStream:localhost:33057|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38175|admin:localhost:37221|client:localhost:37045|dataStream:localhost:34505|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:08,889 [s0@group-2EA0F3FED7C6-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s0@group-2EA0F3FED7C6-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc3bbc3b20/s0/f16100f0-23fe-4d7c-aece-2ea0f3fed7c6/current/log_inprogress_0
2023-03-07 04:44:08,902 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-2EA0F3FED7C6: change Leader from null to s0 at term 1 for appendEntries, leader elected after 382ms
2023-03-07 04:44:08,903 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-2EA0F3FED7C6: change Leader from null to s0 at term 1 for appendEntries, leader elected after 374ms
2023-03-07 04:44:08,911 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s1@group-2EA0F3FED7C6: set configuration 0: peers:[s0|rpc:localhost:34255|admin:localhost:41427|client:localhost:40051|dataStream:localhost:39913|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38973|admin:localhost:36737|client:localhost:36695|dataStream:localhost:33057|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38175|admin:localhost:37221|client:localhost:37045|dataStream:localhost:34505|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:08,911 [s1-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s1@group-2EA0F3FED7C6-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-07 04:44:08,913 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s2@group-2EA0F3FED7C6: set configuration 0: peers:[s0|rpc:localhost:34255|admin:localhost:41427|client:localhost:40051|dataStream:localhost:39913|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38973|admin:localhost:36737|client:localhost:36695|dataStream:localhost:33057|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38175|admin:localhost:37221|client:localhost:37045|dataStream:localhost:34505|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:08,913 [s2-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s2@group-2EA0F3FED7C6-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-07 04:44:08,928 [s1@group-2EA0F3FED7C6-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s1@group-2EA0F3FED7C6-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc3bbc3b20/s1/f16100f0-23fe-4d7c-aece-2ea0f3fed7c6/current/log_inprogress_0
2023-03-07 04:44:08,928 [s2@group-2EA0F3FED7C6-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s2@group-2EA0F3FED7C6-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc3bbc3b20/s2/f16100f0-23fe-4d7c-aece-2ea0f3fed7c6/current/log_inprogress_0
2023-03-07 04:44:09,056 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-2EA0F3FED7C6:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-2EA0F3FED7C6-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:34255|admin:localhost:41427|client:localhost:40051|dataStream:localhost:39913|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38973|admin:localhost:36737|client:localhost:36695|dataStream:localhost:33057|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38175|admin:localhost:37221|client:localhost:37045|dataStream:localhost:34505|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-2EA0F3FED7C6:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-2EA0F3FED7C6-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:34255|admin:localhost:41427|client:localhost:40051|dataStream:localhost:39913|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38973|admin:localhost:36737|client:localhost:36695|dataStream:localhost:33057|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38175|admin:localhost:37221|client:localhost:37045|dataStream:localhost:34505|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-2EA0F3FED7C6:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-2EA0F3FED7C6-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:34255|admin:localhost:41427|client:localhost:40051|dataStream:localhost:39913|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38973|admin:localhost:36737|client:localhost:36695|dataStream:localhost:33057|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38175|admin:localhost:37221|client:localhost:37045|dataStream:localhost:34505|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-07 04:44:09,057 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:44:09,057 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:44:09,078 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-79FC62EEEA5E->s0: receive RaftClientReply:client-79FC62EEEA5E->s0@group-2EA0F3FED7C6, cid=60, SUCCESS, logIndex=0, commits[s0:c0, s1:c0, s2:c0]
2023-03-07 04:44:09,103 [s0@group-2EA0F3FED7C6-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 61@client-79FC62EEEA5E
2023-03-07 04:44:09,104 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-79FC62EEEA5E->s0: receive RaftClientReply:client-79FC62EEEA5E->s0@group-2EA0F3FED7C6, cid=61, SUCCESS, logIndex=1, commits[s0:c1, s1:c0, s2:c0]
2023-03-07 04:44:09,105 [s0-client-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:query(328)) - query testing
2023-03-07 04:44:09,107 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-79FC62EEEA5E->s0: receive RaftClientReply:client-79FC62EEEA5E->s0@group-2EA0F3FED7C6, cid=62, SUCCESS, logIndex=0, commits[s0:c1, s1:c0, s2:c0]
2023-03-07 04:44:09,112 [s1@group-2EA0F3FED7C6-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 61@client-79FC62EEEA5E
2023-03-07 04:44:09,115 [s2@group-2EA0F3FED7C6-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 61@client-79FC62EEEA5E
2023-03-07 04:44:13,112 [timer5] WARN  grpc.GrpcUtil (GrpcUtil.java:shutdownManagedChannel(223)) - Timed out gracefully shutting down connection: ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=575, target=localhost:40051}}. 
2023-03-07 04:44:13,213 [timer4] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:44:13,213 [timer4] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:44:13,224 [s0-client-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:query(328)) - query testing
2023-03-07 04:44:13,225 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-79FC62EEEA5E->s0: receive RaftClientReply:client-79FC62EEEA5E->s0@group-2EA0F3FED7C6, cid=63, SUCCESS, logIndex=0, commits[s0:c2, s1:c2, s2:c2]
2023-03-07 04:44:13,226 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:44:13,226 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:44:13,248 [null-request--thread1] INFO  server.GrpcClientProtocolService (GrpcClientProtocolService.java:lambda$processClientRequest$0(284)) - Failed RaftClientRequest:client-79FC62EEEA5E->s1@group-2EA0F3FED7C6, cid=64, seq=0, Watch-ALL(0), Message:<EMPTY>, reply=RaftClientReply:client-79FC62EEEA5E->s1@group-2EA0F3FED7C6, cid=64, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s1@group-2EA0F3FED7C6 is not the leader s0|rpc:localhost:34255|admin:localhost:41427|client:localhost:40051|dataStream:localhost:39913|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s1:c2, s0:c2, s2:c2]
2023-03-07 04:44:13,251 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-79FC62EEEA5E->s1: receive RaftClientReply:client-79FC62EEEA5E->s1@group-2EA0F3FED7C6, cid=64, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s1@group-2EA0F3FED7C6 is not the leader s0|rpc:localhost:34255|admin:localhost:41427|client:localhost:40051|dataStream:localhost:39913|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s1:c2, s0:c2, s2:c2]
2023-03-07 04:44:13,258 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-79FC62EEEA5E->s0: receive RaftClientReply:client-79FC62EEEA5E->s0@group-2EA0F3FED7C6, cid=64, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2023-03-07 04:44:13,260 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-79FC62EEEA5E->s0: receive RaftClientReply:client-79FC62EEEA5E->s0@group-2EA0F3FED7C6, cid=65, SUCCESS, logIndex=2, commits[s0:c2, s1:c2, s2:c2]
2023-03-07 04:44:13,267 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-03-07 04:44:13,267 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-03-07 04:44:13,267 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2023-03-07 04:44:13,267 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-03-07 04:44:13,267 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-03-07 04:44:13,267 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-2EA0F3FED7C6:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-2EA0F3FED7C6-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:34255|admin:localhost:41427|client:localhost:40051|dataStream:localhost:39913|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38973|admin:localhost:36737|client:localhost:36695|dataStream:localhost:33057|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38175|admin:localhost:37221|client:localhost:37045|dataStream:localhost:34505|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-2EA0F3FED7C6:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-2EA0F3FED7C6-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:34255|admin:localhost:41427|client:localhost:40051|dataStream:localhost:39913|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38973|admin:localhost:36737|client:localhost:36695|dataStream:localhost:33057|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38175|admin:localhost:37221|client:localhost:37045|dataStream:localhost:34505|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-2EA0F3FED7C6:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-2EA0F3FED7C6-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:34255|admin:localhost:41427|client:localhost:40051|dataStream:localhost:39913|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38973|admin:localhost:36737|client:localhost:36695|dataStream:localhost:33057|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:38175|admin:localhost:37221|client:localhost:37045|dataStream:localhost:34505|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-07 04:44:13,268 [MiniRaftCluster-15] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s0: close
2023-03-07 04:44:13,268 [MiniRaftCluster-16] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s1: close
2023-03-07 04:44:13,276 [MiniRaftCluster-15] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-03-07 04:44:13,278 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s0@group-2EA0F3FED7C6: shutdown
2023-03-07 04:44:13,278 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-2EA0F3FED7C6,id=s0
2023-03-07 04:44:13,278 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-2EA0F3FED7C6-LeaderStateImpl
2023-03-07 04:44:13,278 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-2EA0F3FED7C6-PendingRequests: sendNotLeaderResponses
2023-03-07 04:44:13,280 [MiniRaftCluster-16] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-03-07 04:44:13,280 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s1@group-2EA0F3FED7C6: shutdown
2023-03-07 04:44:13,281 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-2EA0F3FED7C6,id=s1
2023-03-07 04:44:13,281 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-2EA0F3FED7C6-FollowerState
2023-03-07 04:44:13,281 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-2EA0F3FED7C6-StateMachineUpdater: set stopIndex = 2
2023-03-07 04:44:13,281 [s1@group-2EA0F3FED7C6-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-2EA0F3FED7C6-FollowerState was interrupted
2023-03-07 04:44:13,281 [grpc-default-executor-6] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s2: Completed APPEND_ENTRIES, lastRequest: s0->s2#6233-t1,previous=(t:1, i:1),leaderCommit=1,initializing? true,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2023-03-07 04:44:13,281 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s1@group-2EA0F3FED7C6: applyIndex: 2
2023-03-07 04:44:13,281 [grpc-default-executor-6] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(417)) - s0@group-2EA0F3FED7C6->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-03-07 04:44:13,282 [grpc-default-executor-6] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(52)) - s0@group-2EA0F3FED7C6->s2: decreaseNextIndex nextIndex: updateUnconditionally 3 -> 2
2023-03-07 04:44:13,282 [grpc-default-executor-6] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s2: Completed APPEND_ENTRIES, lastRequest: null
2023-03-07 04:44:13,282 [grpc-default-executor-3] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(417)) - s0@group-2EA0F3FED7C6->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-03-07 04:44:13,282 [grpc-default-executor-3] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(52)) - s0@group-2EA0F3FED7C6->s2: decreaseNextIndex nextIndex: updateUnconditionally 2 -> 1
2023-03-07 04:44:13,283 [Thread-510] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(102)) - s1 Close channels
2023-03-07 04:44:13,283 [Thread-511] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(102)) - s2 Close channels
2023-03-07 04:44:13,284 [MiniRaftCluster-17] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s2: close
2023-03-07 04:44:13,285 [grpc-default-executor-6] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#6260-t1,previous=(t:1, i:1),leaderCommit=1,initializing? true,entries: size=1, first=(t:1, i:2), METADATAENTRY(c:1)
2023-03-07 04:44:13,285 [grpc-default-executor-3] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s1: Completed APPEND_ENTRIES, lastRequest: null
2023-03-07 04:44:13,285 [Thread-509] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(102)) - s0 Close channels
2023-03-07 04:44:13,285 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(417)) - s0@group-2EA0F3FED7C6->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-03-07 04:44:13,285 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(128)) - s0@group-2EA0F3FED7C6->s1-GrpcLogAppender: Failed to getClient for s1
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s0 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:61)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:115)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:106)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:111)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$500(GrpcLogAppender.java:55)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:418)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:485)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-07 04:44:13,287 [MiniRaftCluster-15] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-03-07 04:44:13,287 [MiniRaftCluster-15] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server GrpcServerProtocolService now
2023-03-07 04:44:13,290 [grpc-default-executor-3] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(417)) - s0@group-2EA0F3FED7C6->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-03-07 04:44:13,290 [MiniRaftCluster-17] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-03-07 04:44:13,290 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s2@group-2EA0F3FED7C6: shutdown
2023-03-07 04:44:13,290 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-2EA0F3FED7C6,id=s2
2023-03-07 04:44:13,290 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-2EA0F3FED7C6-FollowerState
2023-03-07 04:44:13,290 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-2EA0F3FED7C6-StateMachineUpdater: set stopIndex = 2
2023-03-07 04:44:13,290 [s2@group-2EA0F3FED7C6-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-2EA0F3FED7C6-FollowerState was interrupted
2023-03-07 04:44:13,290 [grpc-default-executor-3] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(128)) - s0@group-2EA0F3FED7C6->s1-GrpcLogAppender: Failed to getClient for s1
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s0 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:61)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:115)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:106)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:111)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$500(GrpcLogAppender.java:55)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:418)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:485)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:468)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:432)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:465)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-07 04:44:13,291 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s2@group-2EA0F3FED7C6: applyIndex: 2
2023-03-07 04:44:13,300 [MiniRaftCluster-15] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server GrpcServerProtocolService successfully
2023-03-07 04:44:13,300 [MiniRaftCluster-15] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-03-07 04:44:13,301 [Thread-513] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(102)) - s2 Close channels
2023-03-07 04:44:13,301 [MiniRaftCluster-17] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-03-07 04:44:13,301 [MiniRaftCluster-17] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server GrpcServerProtocolService now
2023-03-07 04:44:13,302 [MiniRaftCluster-16] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-03-07 04:44:13,302 [MiniRaftCluster-16] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server GrpcServerProtocolService now
2023-03-07 04:44:13,303 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-2EA0F3FED7C6-StateMachineUpdater: set stopIndex = 2
2023-03-07 04:44:13,303 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s0@group-2EA0F3FED7C6: applyIndex: 2
2023-03-07 04:44:13,304 [MiniRaftCluster-17] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server GrpcServerProtocolService successfully
2023-03-07 04:44:13,304 [MiniRaftCluster-17] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-03-07 04:44:13,305 [MiniRaftCluster-15] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-03-07 04:44:13,308 [MiniRaftCluster-17] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-03-07 04:44:13,309 [MiniRaftCluster-16] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server GrpcServerProtocolService successfully
2023-03-07 04:44:13,309 [MiniRaftCluster-16] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-03-07 04:44:13,309 [MiniRaftCluster-16] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-03-07 04:44:14,126 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s1@group-2EA0F3FED7C6-SegmentedRaftLogWorker close()
2023-03-07 04:44:14,126 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s0@group-2EA0F3FED7C6-SegmentedRaftLogWorker close()
2023-03-07 04:44:14,126 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s2@group-2EA0F3FED7C6-SegmentedRaftLogWorker close()
2023-03-07 04:44:14,128 [JvmPauseMonitor14] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2023-03-07 04:44:14,128 [JvmPauseMonitor16] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2023-03-07 04:44:14,129 [JvmPauseMonitor15] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2023-03-07 04:44:14,129 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2023-03-07 04:44:14,129 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-03-07 04:44:14,129 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-03-07 04:44:14,130 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2023-03-07 04:44:14,131 [Time-limited test] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(61)) - Getting resource ssl/server.pem: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/server.pem
2023-03-07 04:44:14,136 [Time-limited test] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(61)) - Getting resource ssl/server.crt: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/server.crt
2023-03-07 04:44:14,172 [Time-limited test] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(61)) - Getting resource ssl/ca.crt: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/ca.crt
2023-03-07 04:44:14,175 [Time-limited test] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(61)) - Getting resource ssl/client.pem: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/client.pem
2023-03-07 04:44:14,176 [Time-limited test] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(61)) - Getting resource ssl/client.crt: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/client.crt
2023-03-07 04:44:14,204 [Time-limited test] INFO  security.SecurityTestUtils (SecurityTestUtils.java:getResource(61)) - Getting resource ssl/ca.crt: /home/runner/work/ratis/ratis/ratis-test/target/test-classes/ssl/ca.crt
2023-03-07 04:44:14,207 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-A153BBB24319:[s3|rpc:localhost:38245|admin:localhost:43131|client:localhost:45745|dataStream:localhost:40937|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:38895|admin:localhost:39741|client:localhost:43247|dataStream:localhost:41671|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:44547|admin:localhost:41515|client:localhost:45939|dataStream:localhost:45817|priority:0|startupRole:FOLLOWER]
2023-03-07 04:44:14,207 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-03-07 04:44:14,208 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-03-07 04:44:14,208 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2023-03-07 04:44:14,208 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-03-07 04:44:14,208 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-03-07 04:44:14,208 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-03-07 04:44:14,208 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s3, group-A153BBB24319:[s3|rpc:localhost:38245|admin:localhost:43131|client:localhost:45745|dataStream:localhost:40937|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:38895|admin:localhost:39741|client:localhost:43247|dataStream:localhost:41671|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:44547|admin:localhost:41515|client:localhost:45939|dataStream:localhost:45817|priority:0|startupRole:FOLLOWER], format? true
2023-03-07 04:44:14,208 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/ac5303ae/MiniRaftClusterWithGrpcc6585648/s3
2023-03-07 04:44:14,208 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/ac5303ae/MiniRaftClusterWithGrpcc6585648/s3 does not exist.
2023-03-07 04:44:14,208 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/ac5303ae/MiniRaftClusterWithGrpcc6585648/s3
2023-03-07 04:44:14,209 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-03-07 04:44:14,209 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:44:14,209 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 43131 (custom)
2023-03-07 04:44:14,209 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:44:14,209 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 45745 (custom)
2023-03-07 04:44:14,209 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-07 04:44:14,209 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 38245 (custom)
2023-03-07 04:44:14,209 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:44:14,209 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:14,209 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:44:14,209 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-07 04:44:14,209 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-03-07 04:44:14,209 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-07 04:44:14,210 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-07 04:44:14,212 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-07 04:44:14,212 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-07 04:44:14,212 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-07 04:44:14,212 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-07 04:44:14,212 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-07 04:44:14,212 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcc6585648/s3] (custom)
2023-03-07 04:44:14,213 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s3: addNew group-A153BBB24319:[s3|rpc:localhost:38245|admin:localhost:43131|client:localhost:45745|dataStream:localhost:40937|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:38895|admin:localhost:39741|client:localhost:43247|dataStream:localhost:41671|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:44547|admin:localhost:41515|client:localhost:45939|dataStream:localhost:45817|priority:0|startupRole:FOLLOWER] returns group-A153BBB24319:java.util.concurrent.CompletableFuture@3ef6d716[Not completed]
2023-03-07 04:44:14,213 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s4, group-A153BBB24319:[s3|rpc:localhost:38245|admin:localhost:43131|client:localhost:45745|dataStream:localhost:40937|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:38895|admin:localhost:39741|client:localhost:43247|dataStream:localhost:41671|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:44547|admin:localhost:41515|client:localhost:45939|dataStream:localhost:45817|priority:0|startupRole:FOLLOWER], format? true
2023-03-07 04:44:14,213 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/ac5303ae/MiniRaftClusterWithGrpcc6585648/s4
2023-03-07 04:44:14,213 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/ac5303ae/MiniRaftClusterWithGrpcc6585648/s4 does not exist.
2023-03-07 04:44:14,213 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/ac5303ae/MiniRaftClusterWithGrpcc6585648/s4
2023-03-07 04:44:14,213 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-03-07 04:44:14,213 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:44:14,213 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 39741 (custom)
2023-03-07 04:44:14,213 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:44:14,213 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 43247 (custom)
2023-03-07 04:44:14,213 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-07 04:44:14,213 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 38895 (custom)
2023-03-07 04:44:14,213 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:44:14,213 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:14,213 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:44:14,213 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-07 04:44:14,214 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-03-07 04:44:14,214 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-07 04:44:14,214 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-07 04:44:14,215 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-07 04:44:14,215 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-07 04:44:14,216 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-07 04:44:14,216 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-07 04:44:14,216 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-07 04:44:14,216 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcc6585648/s4] (custom)
2023-03-07 04:44:14,216 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:44:14,216 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-07 04:44:14,216 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-07 04:44:14,216 [s3-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s3: new RaftServerImpl for group-A153BBB24319:[s3|rpc:localhost:38245|admin:localhost:43131|client:localhost:45745|dataStream:localhost:40937|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:38895|admin:localhost:39741|client:localhost:43247|dataStream:localhost:41671|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:44547|admin:localhost:41515|client:localhost:45939|dataStream:localhost:45817|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-03-07 04:44:14,217 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-07 04:44:14,217 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-07 04:44:14,217 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-07 04:44:14,217 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-07 04:44:14,217 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-07 04:44:14,217 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-07 04:44:14,217 [s3-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s3@group-A153BBB24319: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:38245|admin:localhost:43131|client:localhost:45745|dataStream:localhost:40937|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:38895|admin:localhost:39741|client:localhost:43247|dataStream:localhost:41671|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:44547|admin:localhost:41515|client:localhost:45939|dataStream:localhost:45817|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-07 04:44:14,217 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-07 04:44:14,217 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-07 04:44:14,217 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-07 04:44:14,217 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-07 04:44:14,217 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-07 04:44:14,218 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-07 04:44:14,218 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-07 04:44:14,218 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-07 04:44:14,218 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-07 04:44:14,218 [s3-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-07 04:44:14,218 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s4: addNew group-A153BBB24319:[s3|rpc:localhost:38245|admin:localhost:43131|client:localhost:45745|dataStream:localhost:40937|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:38895|admin:localhost:39741|client:localhost:43247|dataStream:localhost:41671|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:44547|admin:localhost:41515|client:localhost:45939|dataStream:localhost:45817|priority:0|startupRole:FOLLOWER] returns group-A153BBB24319:java.util.concurrent.CompletableFuture@4ac5a618[Not completed]
2023-03-07 04:44:14,218 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s5, group-A153BBB24319:[s3|rpc:localhost:38245|admin:localhost:43131|client:localhost:45745|dataStream:localhost:40937|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:38895|admin:localhost:39741|client:localhost:43247|dataStream:localhost:41671|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:44547|admin:localhost:41515|client:localhost:45939|dataStream:localhost:45817|priority:0|startupRole:FOLLOWER], format? true
2023-03-07 04:44:14,218 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/ac5303ae/MiniRaftClusterWithGrpcc6585648/s5
2023-03-07 04:44:14,219 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/ac5303ae/MiniRaftClusterWithGrpcc6585648/s5 does not exist.
2023-03-07 04:44:14,219 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/ac5303ae/MiniRaftClusterWithGrpcc6585648/s5
2023-03-07 04:44:14,219 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-03-07 04:44:14,219 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:44:14,219 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 41515 (custom)
2023-03-07 04:44:14,219 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:44:14,219 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 45939 (custom)
2023-03-07 04:44:14,219 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-07 04:44:14,219 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 44547 (custom)
2023-03-07 04:44:14,219 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:44:14,219 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:14,219 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:44:14,219 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-07 04:44:14,219 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-03-07 04:44:14,219 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-07 04:44:14,219 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-07 04:44:14,221 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-07 04:44:14,221 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-07 04:44:14,221 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-07 04:44:14,221 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-07 04:44:14,221 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-07 04:44:14,221 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcc6585648/s5] (custom)
2023-03-07 04:44:14,221 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:44:14,222 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-07 04:44:14,222 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-07 04:44:14,222 [s4-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s4: new RaftServerImpl for group-A153BBB24319:[s3|rpc:localhost:38245|admin:localhost:43131|client:localhost:45745|dataStream:localhost:40937|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:38895|admin:localhost:39741|client:localhost:43247|dataStream:localhost:41671|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:44547|admin:localhost:41515|client:localhost:45939|dataStream:localhost:45817|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-03-07 04:44:14,222 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-07 04:44:14,222 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-07 04:44:14,222 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-07 04:44:14,222 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-07 04:44:14,222 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-07 04:44:14,222 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-07 04:44:14,222 [s4-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s4@group-A153BBB24319: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:38245|admin:localhost:43131|client:localhost:45745|dataStream:localhost:40937|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:38895|admin:localhost:39741|client:localhost:43247|dataStream:localhost:41671|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:44547|admin:localhost:41515|client:localhost:45939|dataStream:localhost:45817|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-07 04:44:14,222 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-07 04:44:14,222 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-07 04:44:14,222 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-07 04:44:14,222 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-07 04:44:14,222 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-07 04:44:14,223 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-07 04:44:14,223 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-07 04:44:14,223 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-07 04:44:14,223 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-07 04:44:14,223 [s4-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-07 04:44:14,223 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s5: addNew group-A153BBB24319:[s3|rpc:localhost:38245|admin:localhost:43131|client:localhost:45745|dataStream:localhost:40937|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:38895|admin:localhost:39741|client:localhost:43247|dataStream:localhost:41671|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:44547|admin:localhost:41515|client:localhost:45939|dataStream:localhost:45817|priority:0|startupRole:FOLLOWER] returns group-A153BBB24319:java.util.concurrent.CompletableFuture@60f91b50[Not completed]
2023-03-07 04:44:14,224 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-07 04:44:14,224 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-07 04:44:14,224 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcc6585648/s3] (custom)
2023-03-07 04:44:14,224 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcc6585648/s3/6175c6cc-0171-454a-b430-a153bbb24319 does not exist. Creating ...
2023-03-07 04:44:14,224 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcc6585648/s3/6175c6cc-0171-454a-b430-a153bbb24319
2023-03-07 04:44:14,225 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:44:14,225 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-07 04:44:14,225 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-07 04:44:14,225 [s5-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s5: new RaftServerImpl for group-A153BBB24319:[s3|rpc:localhost:38245|admin:localhost:43131|client:localhost:45745|dataStream:localhost:40937|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:38895|admin:localhost:39741|client:localhost:43247|dataStream:localhost:41671|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:44547|admin:localhost:41515|client:localhost:45939|dataStream:localhost:45817|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-03-07 04:44:14,225 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-07 04:44:14,225 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-07 04:44:14,225 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-07 04:44:14,225 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-07 04:44:14,225 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-07 04:44:14,225 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-07 04:44:14,225 [s5-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s5@group-A153BBB24319: ConfigurationManager, init=-1: peers:[s3|rpc:localhost:38245|admin:localhost:43131|client:localhost:45745|dataStream:localhost:40937|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:38895|admin:localhost:39741|client:localhost:43247|dataStream:localhost:41671|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:44547|admin:localhost:41515|client:localhost:45939|dataStream:localhost:45817|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-07 04:44:14,225 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-07 04:44:14,225 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-07 04:44:14,225 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-07 04:44:14,225 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-07 04:44:14,225 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-07 04:44:14,226 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-07 04:44:14,226 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-07 04:44:14,226 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-07 04:44:14,226 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-07 04:44:14,226 [s5-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-07 04:44:14,233 [s3-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcc6585648/s3/6175c6cc-0171-454a-b430-a153bbb24319/in_use.lock acquired by nodename 17652@fv-az443-797
2023-03-07 04:44:14,233 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcc6585648/s3/6175c6cc-0171-454a-b430-a153bbb24319/current
2023-03-07 04:44:14,233 [s3-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcc6585648/s3/6175c6cc-0171-454a-b430-a153bbb24319/sm
2023-03-07 04:44:14,234 [s3-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcc6585648/s3/6175c6cc-0171-454a-b430-a153bbb24319 has been successfully formatted.
2023-03-07 04:44:14,235 [s3-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-03-07 04:44:14,235 [s3-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-03-07 04:44:14,235 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-07 04:44:14,235 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-07 04:44:14,235 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:14,235 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-07 04:44:14,235 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-07 04:44:14,235 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:44:14,235 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-07 04:44:14,235 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-07 04:44:14,235 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:14,235 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s3@group-A153BBB24319-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcc6585648/s3/6175c6cc-0171-454a-b430-a153bbb24319
2023-03-07 04:44:14,235 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-07 04:44:14,235 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-07 04:44:14,236 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:44:14,236 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-07 04:44:14,236 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-07 04:44:14,236 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-07 04:44:14,236 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-07 04:44:14,236 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-07 04:44:14,236 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-07 04:44:14,236 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:14,237 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-07 04:44:14,237 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-07 04:44:14,237 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-07 04:44:14,237 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-A153BBB24319-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-07 04:44:14,237 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s3@group-A153BBB24319-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-07 04:44:14,237 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s3@group-A153BBB24319: start as a follower, conf=-1: peers:[s3|rpc:localhost:38245|admin:localhost:43131|client:localhost:45745|dataStream:localhost:40937|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:38895|admin:localhost:39741|client:localhost:43247|dataStream:localhost:41671|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:44547|admin:localhost:41515|client:localhost:45939|dataStream:localhost:45817|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:14,237 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s3@group-A153BBB24319: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-07 04:44:14,237 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-A153BBB24319-FollowerState
2023-03-07 04:44:14,238 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A153BBB24319,id=s3
2023-03-07 04:44:14,238 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-07 04:44:14,238 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-07 04:44:14,238 [s3-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-07 04:44:14,239 [s3@group-A153BBB24319-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:44:14,240 [s3@group-A153BBB24319-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:44:14,240 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s3: start RPC server
2023-03-07 04:44:14,243 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s3: GrpcService started, listening on 45745
2023-03-07 04:44:14,244 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s3: GrpcService started, listening on 38245
2023-03-07 04:44:14,245 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s3: GrpcService started, listening on 43131
2023-03-07 04:44:14,245 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-07 04:44:14,245 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-07 04:44:14,245 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcc6585648/s4] (custom)
2023-03-07 04:44:14,245 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcc6585648/s4/6175c6cc-0171-454a-b430-a153bbb24319 does not exist. Creating ...
2023-03-07 04:44:14,246 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcc6585648/s4/6175c6cc-0171-454a-b430-a153bbb24319
2023-03-07 04:44:14,247 [JvmPauseMonitor17] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s3: Started
2023-03-07 04:44:14,247 [s4-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcc6585648/s4/6175c6cc-0171-454a-b430-a153bbb24319/in_use.lock acquired by nodename 17652@fv-az443-797
2023-03-07 04:44:14,247 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcc6585648/s4/6175c6cc-0171-454a-b430-a153bbb24319/current
2023-03-07 04:44:14,247 [s4-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcc6585648/s4/6175c6cc-0171-454a-b430-a153bbb24319/sm
2023-03-07 04:44:14,248 [s4-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcc6585648/s4/6175c6cc-0171-454a-b430-a153bbb24319 has been successfully formatted.
2023-03-07 04:44:14,248 [s4-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-03-07 04:44:14,248 [s4-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-03-07 04:44:14,248 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-07 04:44:14,248 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-07 04:44:14,248 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:14,249 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-07 04:44:14,249 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-07 04:44:14,249 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:44:14,249 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-07 04:44:14,249 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-07 04:44:14,249 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:14,249 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s4@group-A153BBB24319-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcc6585648/s4/6175c6cc-0171-454a-b430-a153bbb24319
2023-03-07 04:44:14,249 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-07 04:44:14,249 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-07 04:44:14,249 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:44:14,249 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-07 04:44:14,249 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-07 04:44:14,249 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-07 04:44:14,249 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-07 04:44:14,249 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-07 04:44:14,249 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-07 04:44:14,249 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:14,250 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-07 04:44:14,250 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-07 04:44:14,250 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-07 04:44:14,250 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s4@group-A153BBB24319-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-07 04:44:14,250 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s4@group-A153BBB24319-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-07 04:44:14,250 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s4@group-A153BBB24319: start as a follower, conf=-1: peers:[s3|rpc:localhost:38245|admin:localhost:43131|client:localhost:45745|dataStream:localhost:40937|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:38895|admin:localhost:39741|client:localhost:43247|dataStream:localhost:41671|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:44547|admin:localhost:41515|client:localhost:45939|dataStream:localhost:45817|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:14,250 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s4@group-A153BBB24319: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-07 04:44:14,250 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-A153BBB24319-FollowerState
2023-03-07 04:44:14,251 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A153BBB24319,id=s4
2023-03-07 04:44:14,251 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-07 04:44:14,251 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-07 04:44:14,251 [s4-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-07 04:44:14,252 [s4@group-A153BBB24319-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:44:14,252 [s4@group-A153BBB24319-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:44:14,252 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s4: start RPC server
2023-03-07 04:44:14,252 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s4: GrpcService started, listening on 43247
2023-03-07 04:44:14,252 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s4: GrpcService started, listening on 38895
2023-03-07 04:44:14,253 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s4: GrpcService started, listening on 39741
2023-03-07 04:44:14,256 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-07 04:44:14,256 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-07 04:44:14,257 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcc6585648/s5] (custom)
2023-03-07 04:44:14,257 [s5-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcc6585648/s5/6175c6cc-0171-454a-b430-a153bbb24319 does not exist. Creating ...
2023-03-07 04:44:14,257 [s5-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcc6585648/s5/6175c6cc-0171-454a-b430-a153bbb24319
2023-03-07 04:44:14,257 [JvmPauseMonitor18] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s4: Started
2023-03-07 04:44:14,258 [s5-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcc6585648/s5/6175c6cc-0171-454a-b430-a153bbb24319/in_use.lock acquired by nodename 17652@fv-az443-797
2023-03-07 04:44:14,258 [s5-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcc6585648/s5/6175c6cc-0171-454a-b430-a153bbb24319/current
2023-03-07 04:44:14,258 [s5-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcc6585648/s5/6175c6cc-0171-454a-b430-a153bbb24319/sm
2023-03-07 04:44:14,259 [s5-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcc6585648/s5/6175c6cc-0171-454a-b430-a153bbb24319 has been successfully formatted.
2023-03-07 04:44:14,259 [s5-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-03-07 04:44:14,259 [s5-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-03-07 04:44:14,259 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-07 04:44:14,259 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-07 04:44:14,259 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:14,259 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-07 04:44:14,259 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-07 04:44:14,259 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:44:14,260 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-07 04:44:14,260 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-07 04:44:14,260 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:14,260 [s5-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s5@group-A153BBB24319-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcc6585648/s5/6175c6cc-0171-454a-b430-a153bbb24319
2023-03-07 04:44:14,260 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-07 04:44:14,260 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-07 04:44:14,260 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:44:14,260 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-07 04:44:14,260 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-07 04:44:14,260 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-07 04:44:14,260 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-07 04:44:14,260 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-07 04:44:14,260 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-07 04:44:14,260 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:14,261 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-07 04:44:14,261 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-07 04:44:14,261 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-07 04:44:14,261 [s5-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s5@group-A153BBB24319-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-07 04:44:14,261 [s5-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s5@group-A153BBB24319-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-07 04:44:14,262 [s5-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s5@group-A153BBB24319: start as a follower, conf=-1: peers:[s3|rpc:localhost:38245|admin:localhost:43131|client:localhost:45745|dataStream:localhost:40937|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:38895|admin:localhost:39741|client:localhost:43247|dataStream:localhost:41671|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:44547|admin:localhost:41515|client:localhost:45939|dataStream:localhost:45817|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:14,262 [s5-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s5@group-A153BBB24319: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-07 04:44:14,262 [s5-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s5: start s5@group-A153BBB24319-FollowerState
2023-03-07 04:44:14,262 [s5-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A153BBB24319,id=s5
2023-03-07 04:44:14,263 [s5@group-A153BBB24319-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:44:14,263 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-07 04:44:14,263 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-07 04:44:14,263 [s5-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-07 04:44:14,263 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s5: start RPC server
2023-03-07 04:44:14,263 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s5: GrpcService started, listening on 45939
2023-03-07 04:44:14,264 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s5: GrpcService started, listening on 44547
2023-03-07 04:44:14,264 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s5: GrpcService started, listening on 41515
2023-03-07 04:44:14,263 [s5@group-A153BBB24319-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:44:14,266 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:44:14,266 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:44:14,273 [JvmPauseMonitor19] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s5: Started
2023-03-07 04:44:14,302 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-63CC900C9DF3->s3: receive RaftClientReply:client-63CC900C9DF3->s3@group-A153BBB24319, cid=66, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-A153BBB24319 is not the leader, logIndex=0, commits[s3:c-1]
2023-03-07 04:44:14,406 [timer2] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:44:14,406 [timer2] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:44:14,418 [s3@group-A153BBB24319-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s3@group-A153BBB24319-FollowerState: change to CANDIDATE, lastRpcElapsedTime:181055904ns, electionTimeout:178ms
2023-03-07 04:44:14,418 [s3@group-A153BBB24319-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-A153BBB24319-FollowerState
2023-03-07 04:44:14,418 [s3@group-A153BBB24319-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s3@group-A153BBB24319: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-03-07 04:44:14,419 [s3@group-A153BBB24319-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-07 04:44:14,419 [s3@group-A153BBB24319-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-A153BBB24319-LeaderElection14
2023-03-07 04:44:14,421 [s5@group-A153BBB24319-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s5@group-A153BBB24319-FollowerState: change to CANDIDATE, lastRpcElapsedTime:159419610ns, electionTimeout:157ms
2023-03-07 04:44:14,421 [s5@group-A153BBB24319-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s5: shutdown s5@group-A153BBB24319-FollowerState
2023-03-07 04:44:14,421 [s5@group-A153BBB24319-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s5@group-A153BBB24319: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-03-07 04:44:14,421 [s5@group-A153BBB24319-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-07 04:44:14,421 [s5@group-A153BBB24319-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s5: start s5@group-A153BBB24319-LeaderElection15
2023-03-07 04:44:14,422 [s3@group-A153BBB24319-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s3@group-A153BBB24319-LeaderElection14 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s3|rpc:localhost:38245|admin:localhost:43131|client:localhost:45745|dataStream:localhost:40937|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:38895|admin:localhost:39741|client:localhost:43247|dataStream:localhost:41671|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:44547|admin:localhost:41515|client:localhost:45939|dataStream:localhost:45817|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:14,429 [s5@group-A153BBB24319-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s5@group-A153BBB24319-LeaderElection15 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s3|rpc:localhost:38245|admin:localhost:43131|client:localhost:45745|dataStream:localhost:40937|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:38895|admin:localhost:39741|client:localhost:43247|dataStream:localhost:41671|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:44547|admin:localhost:41515|client:localhost:45939|dataStream:localhost:45817|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:14,429 [s5@group-A153BBB24319-LeaderElection15-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(64)) - Build channel for s3
2023-03-07 04:44:14,430 [s5@group-A153BBB24319-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:44:14,430 [s5@group-A153BBB24319-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:44:14,434 [s3@group-A153BBB24319-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:44:14,434 [s3@group-A153BBB24319-LeaderElection14] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:44:14,434 [s3@group-A153BBB24319-LeaderElection14-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(64)) - Build channel for s4
2023-03-07 04:44:14,434 [s5@group-A153BBB24319-LeaderElection15-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(64)) - Build channel for s4
2023-03-07 04:44:14,436 [s3@group-A153BBB24319-LeaderElection14-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(64)) - Build channel for s5
2023-03-07 04:44:14,492 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s3@group-A153BBB24319: receive requestVote(PRE_VOTE, s5, group-A153BBB24319, 0, (t:0, i:0))
2023-03-07 04:44:14,493 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-A153BBB24319-CANDIDATE: accept PRE_VOTE from s5: our priority 0 <= candidate's priority 0
2023-03-07 04:44:14,493 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s3@group-A153BBB24319 replies to PRE_VOTE vote request: s5<-s3#0:OK-t0. Peer's state: s3@group-A153BBB24319:t0, leader=null, voted=, raftlog=Memoized:s3@group-A153BBB24319-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:38245|admin:localhost:43131|client:localhost:45745|dataStream:localhost:40937|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:38895|admin:localhost:39741|client:localhost:43247|dataStream:localhost:41671|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:44547|admin:localhost:41515|client:localhost:45939|dataStream:localhost:45817|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:14,494 [s5@group-A153BBB24319-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s5@group-A153BBB24319-LeaderElection15: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-03-07 04:44:14,494 [s5@group-A153BBB24319-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s5<-s3#0:OK-t0
2023-03-07 04:44:14,494 [s5@group-A153BBB24319-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s5@group-A153BBB24319-LeaderElection15 PRE_VOTE round 0: result PASSED
2023-03-07 04:44:14,502 [s4@group-A153BBB24319-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s4@group-A153BBB24319-FollowerState: change to CANDIDATE, lastRpcElapsedTime:251383587ns, electionTimeout:250ms
2023-03-07 04:44:14,502 [s4@group-A153BBB24319-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-A153BBB24319-FollowerState
2023-03-07 04:44:14,502 [s4@group-A153BBB24319-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s4@group-A153BBB24319: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-03-07 04:44:14,502 [s4@group-A153BBB24319-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-07 04:44:14,502 [s4@group-A153BBB24319-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-A153BBB24319-LeaderElection16
2023-03-07 04:44:14,503 [s4@group-A153BBB24319-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s4@group-A153BBB24319-LeaderElection16 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s3|rpc:localhost:38245|admin:localhost:43131|client:localhost:45745|dataStream:localhost:40937|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:38895|admin:localhost:39741|client:localhost:43247|dataStream:localhost:41671|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:44547|admin:localhost:41515|client:localhost:45939|dataStream:localhost:45817|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:14,503 [s4@group-A153BBB24319-LeaderElection16-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(64)) - Build channel for s3
2023-03-07 04:44:14,506 [s4@group-A153BBB24319-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:44:14,506 [s4@group-A153BBB24319-LeaderElection16] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:44:14,506 [s4@group-A153BBB24319-LeaderElection16-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(64)) - Build channel for s5
2023-03-07 04:44:14,509 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-63CC900C9DF3->s4: receive RaftClientReply:client-63CC900C9DF3->s4@group-A153BBB24319, cid=66, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s4@group-A153BBB24319 is not the leader, logIndex=0, commits[s4:c-1]
2023-03-07 04:44:14,510 [s5@group-A153BBB24319-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s5@group-A153BBB24319-LeaderElection15 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s3|rpc:localhost:38245|admin:localhost:43131|client:localhost:45745|dataStream:localhost:40937|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:38895|admin:localhost:39741|client:localhost:43247|dataStream:localhost:41671|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:44547|admin:localhost:41515|client:localhost:45939|dataStream:localhost:45817|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:14,514 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s3@group-A153BBB24319: receive requestVote(ELECTION, s5, group-A153BBB24319, 1, (t:0, i:0))
2023-03-07 04:44:14,514 [grpc-default-executor-3] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-A153BBB24319-CANDIDATE: accept ELECTION from s5: our priority 0 <= candidate's priority 0
2023-03-07 04:44:14,515 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s3@group-A153BBB24319: changes role from CANDIDATE to FOLLOWER at term 1 for candidate:s5
2023-03-07 04:44:14,515 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s3: shutdown s3@group-A153BBB24319-LeaderElection14
2023-03-07 04:44:14,515 [grpc-default-executor-3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s3: start s3@group-A153BBB24319-FollowerState
2023-03-07 04:44:14,519 [s5@group-A153BBB24319-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:44:14,519 [s5@group-A153BBB24319-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:44:14,522 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s4@group-A153BBB24319: receive requestVote(PRE_VOTE, s5, group-A153BBB24319, 0, (t:0, i:0))
2023-03-07 04:44:14,522 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-A153BBB24319-CANDIDATE: accept PRE_VOTE from s5: our priority 0 <= candidate's priority 0
2023-03-07 04:44:14,522 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s4@group-A153BBB24319 replies to PRE_VOTE vote request: s5<-s4#0:OK-t0. Peer's state: s4@group-A153BBB24319:t0, leader=null, voted=, raftlog=Memoized:s4@group-A153BBB24319-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:38245|admin:localhost:43131|client:localhost:45745|dataStream:localhost:40937|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:38895|admin:localhost:39741|client:localhost:43247|dataStream:localhost:41671|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:44547|admin:localhost:41515|client:localhost:45939|dataStream:localhost:45817|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:14,523 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s4@group-A153BBB24319: receive requestVote(ELECTION, s5, group-A153BBB24319, 1, (t:0, i:0))
2023-03-07 04:44:14,523 [grpc-default-executor-10] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-A153BBB24319-CANDIDATE: accept ELECTION from s5: our priority 0 <= candidate's priority 0
2023-03-07 04:44:14,523 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s4@group-A153BBB24319: changes role from CANDIDATE to FOLLOWER at term 1 for candidate:s5
2023-03-07 04:44:14,523 [grpc-default-executor-10] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s4: shutdown s4@group-A153BBB24319-LeaderElection16
2023-03-07 04:44:14,523 [grpc-default-executor-10] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s4: start s4@group-A153BBB24319-FollowerState
2023-03-07 04:44:14,523 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s5@group-A153BBB24319: receive requestVote(PRE_VOTE, s3, group-A153BBB24319, 0, (t:0, i:0))
2023-03-07 04:44:14,525 [s3@group-A153BBB24319-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:44:14,525 [s3@group-A153BBB24319-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:44:14,525 [grpc-default-executor-3] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s3@group-A153BBB24319 replies to ELECTION vote request: s5<-s3#0:OK-t1. Peer's state: s3@group-A153BBB24319:t1, leader=null, voted=s5, raftlog=Memoized:s3@group-A153BBB24319-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:38245|admin:localhost:43131|client:localhost:45745|dataStream:localhost:40937|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:38895|admin:localhost:39741|client:localhost:43247|dataStream:localhost:41671|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:44547|admin:localhost:41515|client:localhost:45939|dataStream:localhost:45817|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:14,526 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s5@group-A153BBB24319-CANDIDATE: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2023-03-07 04:44:14,527 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s4@group-A153BBB24319 replies to ELECTION vote request: s5<-s4#0:OK-t1. Peer's state: s4@group-A153BBB24319:t1, leader=null, voted=s5, raftlog=Memoized:s4@group-A153BBB24319-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:38245|admin:localhost:43131|client:localhost:45745|dataStream:localhost:40937|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:38895|admin:localhost:39741|client:localhost:43247|dataStream:localhost:41671|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:44547|admin:localhost:41515|client:localhost:45939|dataStream:localhost:45817|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:14,527 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s5@group-A153BBB24319 replies to PRE_VOTE vote request: s3<-s5#0:OK-t1. Peer's state: s5@group-A153BBB24319:t1, leader=null, voted=s5, raftlog=Memoized:s5@group-A153BBB24319-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:38245|admin:localhost:43131|client:localhost:45745|dataStream:localhost:40937|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:38895|admin:localhost:39741|client:localhost:43247|dataStream:localhost:41671|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:44547|admin:localhost:41515|client:localhost:45939|dataStream:localhost:45817|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:14,528 [s4@group-A153BBB24319-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:44:14,529 [s4@group-A153BBB24319-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:44:14,540 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s4@group-A153BBB24319: receive requestVote(PRE_VOTE, s3, group-A153BBB24319, 0, (t:0, i:0))
2023-03-07 04:44:14,541 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s4@group-A153BBB24319-FOLLOWER: accept PRE_VOTE from s3: our priority 0 <= candidate's priority 0
2023-03-07 04:44:14,541 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s4@group-A153BBB24319 replies to PRE_VOTE vote request: s3<-s4#0:OK-t1. Peer's state: s4@group-A153BBB24319:t1, leader=null, voted=s5, raftlog=Memoized:s4@group-A153BBB24319-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s3|rpc:localhost:38245|admin:localhost:43131|client:localhost:45745|dataStream:localhost:40937|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:38895|admin:localhost:39741|client:localhost:43247|dataStream:localhost:41671|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:44547|admin:localhost:41515|client:localhost:45939|dataStream:localhost:45817|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:14,542 [s3@group-A153BBB24319-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s3@group-A153BBB24319-LeaderElection14: PRE_VOTE DISCOVERED_A_NEW_TERM (term=1) received 1 response(s) and 0 exception(s):
2023-03-07 04:44:14,542 [s3@group-A153BBB24319-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s3<-s5#0:OK-t1
2023-03-07 04:44:14,543 [s3@group-A153BBB24319-LeaderElection14] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s3@group-A153BBB24319-LeaderElection14 PRE_VOTE round 0: result DISCOVERED_A_NEW_TERM (term=1)
2023-03-07 04:44:14,543 [s5@group-A153BBB24319-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s5@group-A153BBB24319-LeaderElection15: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-03-07 04:44:14,543 [s5@group-A153BBB24319-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s5<-s3#0:OK-t1
2023-03-07 04:44:14,543 [s5@group-A153BBB24319-LeaderElection15] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s5@group-A153BBB24319-LeaderElection15 ELECTION round 0: result PASSED
2023-03-07 04:44:14,543 [s5@group-A153BBB24319-LeaderElection15] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s5: shutdown s5@group-A153BBB24319-LeaderElection15
2023-03-07 04:44:14,543 [s5@group-A153BBB24319-LeaderElection15] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s5@group-A153BBB24319: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-03-07 04:44:14,543 [s5@group-A153BBB24319-LeaderElection15] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s5@group-A153BBB24319: change Leader from null to s5 at term 1 for becomeLeader, leader elected after 317ms
2023-03-07 04:44:14,543 [s5@group-A153BBB24319-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-03-07 04:44:14,543 [s5@group-A153BBB24319-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2023-03-07 04:44:14,543 [s5@group-A153BBB24319-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 1MB (=1048576) (custom)
2023-03-07 04:44:14,543 [s5@group-A153BBB24319-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-03-07 04:44:14,543 [s5@group-A153BBB24319-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-03-07 04:44:14,543 [s5@group-A153BBB24319-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-03-07 04:44:14,543 [s5@group-A153BBB24319-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2023-03-07 04:44:14,544 [s5@group-A153BBB24319-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-03-07 04:44:14,544 [s5@group-A153BBB24319-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-07 04:44:14,544 [s5@group-A153BBB24319-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:14,544 [s5@group-A153BBB24319-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-07 04:44:14,544 [s5@group-A153BBB24319-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-07 04:44:14,544 [s5@group-A153BBB24319-LeaderElection15] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2023-03-07 04:44:14,544 [s5@group-A153BBB24319-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-07 04:44:14,544 [s5@group-A153BBB24319-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-07 04:44:14,544 [s5@group-A153BBB24319-LeaderElection15] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-03-07 04:44:14,544 [s5@group-A153BBB24319-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-07 04:44:14,544 [s5@group-A153BBB24319-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:14,544 [s5@group-A153BBB24319-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-07 04:44:14,544 [s5@group-A153BBB24319-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-07 04:44:14,544 [s5@group-A153BBB24319-LeaderElection15] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2023-03-07 04:44:14,544 [s5@group-A153BBB24319-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-07 04:44:14,544 [s5@group-A153BBB24319-LeaderElection15] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-07 04:44:14,544 [s5@group-A153BBB24319-LeaderElection15] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-03-07 04:44:14,545 [s5@group-A153BBB24319-LeaderElection15] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s5: start s5@group-A153BBB24319-LeaderStateImpl
2023-03-07 04:44:14,545 [s5@group-A153BBB24319-LeaderElection15] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s5@group-A153BBB24319-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-07 04:44:14,557 [s5@group-A153BBB24319-LeaderElection15] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s5@group-A153BBB24319: set configuration 0: peers:[s3|rpc:localhost:38245|admin:localhost:43131|client:localhost:45745|dataStream:localhost:40937|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:38895|admin:localhost:39741|client:localhost:43247|dataStream:localhost:41671|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:44547|admin:localhost:41515|client:localhost:45939|dataStream:localhost:45817|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:14,568 [s3-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s3@group-A153BBB24319: change Leader from null to s5 at term 1 for appendEntries, leader elected after 350ms
2023-03-07 04:44:14,568 [s3-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s3@group-A153BBB24319: set configuration 0: peers:[s3|rpc:localhost:38245|admin:localhost:43131|client:localhost:45745|dataStream:localhost:40937|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:38895|admin:localhost:39741|client:localhost:43247|dataStream:localhost:41671|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:44547|admin:localhost:41515|client:localhost:45939|dataStream:localhost:45817|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:14,568 [s3-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s3@group-A153BBB24319-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-07 04:44:14,571 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s3@group-A153BBB24319: receive requestVote(PRE_VOTE, s4, group-A153BBB24319, 0, (t:0, i:0))
2023-03-07 04:44:14,571 [grpc-default-executor-10] INFO  impl.VoteContext (VoteContext.java:log(49)) - s3@group-A153BBB24319-FOLLOWER: reject PRE_VOTE from s4: this server is a follower and still has a valid leader s5
2023-03-07 04:44:14,572 [grpc-default-executor-10] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s3@group-A153BBB24319 replies to PRE_VOTE vote request: s4<-s3#0:FAIL-t1. Peer's state: s3@group-A153BBB24319:t1, leader=s5, voted=s5, raftlog=Memoized:s3@group-A153BBB24319-SegmentedRaftLog:OPENED:c-1, conf=0: peers:[s3|rpc:localhost:38245|admin:localhost:43131|client:localhost:45745|dataStream:localhost:40937|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:38895|admin:localhost:39741|client:localhost:43247|dataStream:localhost:41671|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:44547|admin:localhost:41515|client:localhost:45939|dataStream:localhost:45817|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:14,572 [s4@group-A153BBB24319-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s4@group-A153BBB24319-LeaderElection16: PRE_VOTE DISCOVERED_A_NEW_TERM (term=1) received 1 response(s) and 0 exception(s):
2023-03-07 04:44:14,572 [s4@group-A153BBB24319-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s4<-s3#0:FAIL-t1
2023-03-07 04:44:14,572 [s4@group-A153BBB24319-LeaderElection16] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s4@group-A153BBB24319-LeaderElection16 PRE_VOTE round 0: result DISCOVERED_A_NEW_TERM (term=1)
2023-03-07 04:44:14,578 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s5@group-A153BBB24319: receive requestVote(PRE_VOTE, s4, group-A153BBB24319, 0, (t:0, i:0))
2023-03-07 04:44:14,579 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s5@group-A153BBB24319-LEADER: reject PRE_VOTE from s4: this server is the leader and still has leadership
2023-03-07 04:44:14,579 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s5@group-A153BBB24319 replies to PRE_VOTE vote request: s4<-s5#0:FAIL-t1. Peer's state: s5@group-A153BBB24319:t1, leader=s5, voted=s5, raftlog=Memoized:s5@group-A153BBB24319-SegmentedRaftLog:OPENED:c-1, conf=0: peers:[s3|rpc:localhost:38245|admin:localhost:43131|client:localhost:45745|dataStream:localhost:40937|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:38895|admin:localhost:39741|client:localhost:43247|dataStream:localhost:41671|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:44547|admin:localhost:41515|client:localhost:45939|dataStream:localhost:45817|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:14,579 [s4-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s4@group-A153BBB24319: change Leader from null to s5 at term 1 for appendEntries, leader elected after 356ms
2023-03-07 04:44:14,580 [s4-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s4@group-A153BBB24319: set configuration 0: peers:[s3|rpc:localhost:38245|admin:localhost:43131|client:localhost:45745|dataStream:localhost:40937|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:38895|admin:localhost:39741|client:localhost:43247|dataStream:localhost:41671|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:44547|admin:localhost:41515|client:localhost:45939|dataStream:localhost:45817|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:14,580 [s4-server-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s4@group-A153BBB24319-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-07 04:44:14,636 [timer5] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:44:14,637 [timer5] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:44:14,667 [s5@group-A153BBB24319-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s5@group-A153BBB24319-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcc6585648/s5/6175c6cc-0171-454a-b430-a153bbb24319/current/log_inprogress_0
2023-03-07 04:44:14,669 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-63CC900C9DF3->s3: receive RaftClientReply:client-63CC900C9DF3->s3@group-A153BBB24319, cid=66, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s3@group-A153BBB24319 is not the leader s5|rpc:localhost:44547|admin:localhost:41515|client:localhost:45939|dataStream:localhost:45817|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s3:c-1, s4:c-1, s5:c-1]
2023-03-07 04:44:14,672 [timer0] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:44:14,672 [timer0] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:44:14,673 [s4@group-A153BBB24319-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s4@group-A153BBB24319-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcc6585648/s4/6175c6cc-0171-454a-b430-a153bbb24319/current/log_inprogress_0
2023-03-07 04:44:14,674 [s3@group-A153BBB24319-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s3@group-A153BBB24319-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcc6585648/s3/6175c6cc-0171-454a-b430-a153bbb24319/current/log_inprogress_0
2023-03-07 04:44:14,699 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-63CC900C9DF3->s5: receive RaftClientReply:client-63CC900C9DF3->s5@group-A153BBB24319, cid=66, SUCCESS, logIndex=0, commits[s5:c0, s3:c-1, s4:c-1]
2023-03-07 04:44:14,705 [s5@group-A153BBB24319-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 67@client-63CC900C9DF3
2023-03-07 04:44:14,709 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-63CC900C9DF3->s5: receive RaftClientReply:client-63CC900C9DF3->s5@group-A153BBB24319, cid=67, SUCCESS, logIndex=1, commits[s5:c1, s3:c-1, s4:c0]
2023-03-07 04:44:14,712 [Time-limited test] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:block(135)) - block FLUSH_STATE_MACHINE_DATA
2023-03-07 04:44:14,712 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:44:14,712 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:44:14,716 [s4@group-A153BBB24319-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 67@client-63CC900C9DF3
2023-03-07 04:44:14,721 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:44:14,721 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:44:14,724 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:44:14,739 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:44:14,751 [s3@group-A153BBB24319-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 67@client-63CC900C9DF3
2023-03-07 04:44:14,753 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:44:14,754 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:44:14,762 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:44:14,772 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:44:14,775 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:44:14,775 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:44:14,781 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:44:14,781 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:44:14,798 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:44:14,798 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:44:14,798 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-6D54A28C2DC1->s5: receive RaftClientReply:client-6D54A28C2DC1->s5@group-A153BBB24319, cid=68, SUCCESS, logIndex=2, commits[s5:c2, s3:c1, s4:c1]
2023-03-07 04:44:14,800 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:44:14,800 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:44:14,805 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:44:14,805 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:44:14,807 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:44:14,807 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:44:15,061 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-26D3588738DB->s5: receive RaftClientReply:client-26D3588738DB->s5@group-A153BBB24319, cid=70, SUCCESS, logIndex=2, commits[s5:c2, s3:c2, s4:c2]
2023-03-07 04:44:15,069 [grpc-default-executor-3] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-5BC014475242->s5: receive RaftClientReply:client-5BC014475242->s5@group-A153BBB24319, cid=84, SUCCESS, logIndex=2, commits[s5:c2, s3:c2, s4:c2]
2023-03-07 04:44:15,076 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-672054C68C69->s5: receive RaftClientReply:client-672054C68C69->s5@group-A153BBB24319, cid=76, SUCCESS, logIndex=2, commits[s5:c2, s3:c2, s4:c2]
2023-03-07 04:44:15,078 [grpc-default-executor-10] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-2CC4AD7317CA->s5: receive RaftClientReply:client-2CC4AD7317CA->s5@group-A153BBB24319, cid=86, SUCCESS, logIndex=2, commits[s5:c2, s3:c2, s4:c2]
2023-03-07 04:44:15,079 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-60925CB45A31->s5: receive RaftClientReply:client-60925CB45A31->s5@group-A153BBB24319, cid=88, SUCCESS, logIndex=2, commits[s5:c2, s3:c2, s4:c2]
2023-03-07 04:44:15,079 [grpc-default-executor-11] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-A00D961865D0->s5: receive RaftClientReply:client-A00D961865D0->s5@group-A153BBB24319, cid=82, SUCCESS, logIndex=2, commits[s5:c2, s3:c2, s4:c2]
2023-03-07 04:44:15,080 [grpc-default-executor-2] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-02CD989CCDA2->s5: receive RaftClientReply:client-02CD989CCDA2->s5@group-A153BBB24319, cid=72, SUCCESS, logIndex=2, commits[s5:c2, s3:c2, s4:c2]
2023-03-07 04:44:15,085 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-143E9C30B5B6->s5: receive RaftClientReply:client-143E9C30B5B6->s5@group-A153BBB24319, cid=80, SUCCESS, logIndex=2, commits[s5:c2, s3:c2, s4:c2]
2023-03-07 04:44:15,090 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-46AC41688DF1->s5: receive RaftClientReply:client-46AC41688DF1->s5@group-A153BBB24319, cid=74, SUCCESS, logIndex=2, commits[s5:c2, s3:c2, s4:c2]
2023-03-07 04:44:15,097 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-6F4D09185101->s5: receive RaftClientReply:client-6F4D09185101->s5@group-A153BBB24319, cid=78, SUCCESS, logIndex=2, commits[s5:c2, s3:c2, s4:c2]
2023-03-07 04:44:15,121 [Time-limited test] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:unblock(142)) - unblock FLUSH_STATE_MACHINE_DATA
2023-03-07 04:44:15,126 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:44:15,126 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:44:15,137 [grpc-default-executor-8] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=message 2
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s5@group-A153BBB24319: Failed to acquire a pending write request for RaftClientRequest:client-46AC41688DF1->s5@group-A153BBB24319, cid=75, seq=2, RW, Message:6d6573736167652032
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:392)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:487)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s5@group-A153BBB24319: Failed to acquire a pending write request for RaftClientRequest:client-46AC41688DF1->s5@group-A153BBB24319, cid=75, seq=2, RW, Message:6d6573736167652032
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:775)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:886)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:824)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:824)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	... 3 more
	Suppressed: java.lang.NullPointerException
		at org.apache.ratis.server.impl.RaftServerImpl.lambda$submitClientRequestAsync$15(RaftServerImpl.java:894)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883)
		at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251)
		at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:893)
		... 7 more
2023-03-07 04:44:15,163 [s5@group-A153BBB24319-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, 69@client-6D54A28C2DC1
2023-03-07 04:44:15,164 [s5@group-A153BBB24319-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, 71@client-26D3588738DB
2023-03-07 04:44:15,164 [s5@group-A153BBB24319-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 5, message 8 -> (t:1, i:5), STATEMACHINELOGENTRY, 87@client-2CC4AD7317CA
2023-03-07 04:44:15,164 [s5@group-A153BBB24319-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 6, message 5 -> (t:1, i:6), STATEMACHINELOGENTRY, 81@client-143E9C30B5B6
2023-03-07 04:44:15,164 [s5@group-A153BBB24319-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 7, message 3 -> (t:1, i:7), STATEMACHINELOGENTRY, 77@client-672054C68C69
2023-03-07 04:44:15,164 [s5@group-A153BBB24319-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 8, message 6 -> (t:1, i:8), STATEMACHINELOGENTRY, 83@client-A00D961865D0
2023-03-07 04:44:15,165 [s5@group-A153BBB24319-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 9, message 7 -> (t:1, i:9), STATEMACHINELOGENTRY, 85@client-5BC014475242
2023-03-07 04:44:15,165 [s5@group-A153BBB24319-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 10, message 4 -> (t:1, i:10), STATEMACHINELOGENTRY, 79@client-6F4D09185101
2023-03-07 04:44:15,165 [s5@group-A153BBB24319-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 11, message 1 -> (t:1, i:11), STATEMACHINELOGENTRY, 73@client-02CD989CCDA2
2023-03-07 04:44:15,165 [s5@group-A153BBB24319-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s5: put 12, message 9 -> (t:1, i:12), STATEMACHINELOGENTRY, 89@client-60925CB45A31
2023-03-07 04:44:15,173 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-143E9C30B5B6->s5: receive RaftClientReply:client-143E9C30B5B6->s5@group-A153BBB24319, cid=81, SUCCESS, logIndex=6, commits[s5:c12, s3:c2, s4:c2]
2023-03-07 04:44:15,174 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-6F4D09185101->s5: receive RaftClientReply:client-6F4D09185101->s5@group-A153BBB24319, cid=79, SUCCESS, logIndex=10, commits[s5:c12, s3:c2, s4:c2]
2023-03-07 04:44:15,174 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-02CD989CCDA2->s5: receive RaftClientReply:client-02CD989CCDA2->s5@group-A153BBB24319, cid=73, SUCCESS, logIndex=11, commits[s5:c12, s3:c2, s4:c2]
2023-03-07 04:44:15,175 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-26D3588738DB->s5: receive RaftClientReply:client-26D3588738DB->s5@group-A153BBB24319, cid=71, SUCCESS, logIndex=4, commits[s5:c12, s3:c2, s4:c2]
2023-03-07 04:44:15,176 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-6D54A28C2DC1->s5: receive RaftClientReply:client-6D54A28C2DC1->s5@group-A153BBB24319, cid=69, SUCCESS, logIndex=3, commits[s5:c12, s3:c2, s4:c2]
2023-03-07 04:44:15,177 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-672054C68C69->s5: receive RaftClientReply:client-672054C68C69->s5@group-A153BBB24319, cid=77, SUCCESS, logIndex=7, commits[s5:c12, s3:c2, s4:c2]
2023-03-07 04:44:15,177 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-A00D961865D0->s5: receive RaftClientReply:client-A00D961865D0->s5@group-A153BBB24319, cid=83, SUCCESS, logIndex=8, commits[s5:c12, s3:c2, s4:c2]
2023-03-07 04:44:15,177 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-5BC014475242->s5: receive RaftClientReply:client-5BC014475242->s5@group-A153BBB24319, cid=85, SUCCESS, logIndex=9, commits[s5:c12, s3:c2, s4:c2]
2023-03-07 04:44:15,191 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-60925CB45A31->s5: receive RaftClientReply:client-60925CB45A31->s5@group-A153BBB24319, cid=89, SUCCESS, logIndex=12, commits[s5:c12, s3:c2, s4:c2]
2023-03-07 04:44:15,191 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-2CC4AD7317CA->s5: receive RaftClientReply:client-2CC4AD7317CA->s5@group-A153BBB24319, cid=87, SUCCESS, logIndex=5, commits[s5:c12, s3:c2, s4:c2]
2023-03-07 04:44:15,194 [s3@group-A153BBB24319-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, 69@client-6D54A28C2DC1
2023-03-07 04:44:15,194 [s4@group-A153BBB24319-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, 69@client-6D54A28C2DC1
2023-03-07 04:44:15,194 [s3@group-A153BBB24319-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, 71@client-26D3588738DB
2023-03-07 04:44:15,195 [s4@group-A153BBB24319-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, 71@client-26D3588738DB
2023-03-07 04:44:15,195 [s3@group-A153BBB24319-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 5, message 8 -> (t:1, i:5), STATEMACHINELOGENTRY, 87@client-2CC4AD7317CA
2023-03-07 04:44:15,195 [s4@group-A153BBB24319-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 5, message 8 -> (t:1, i:5), STATEMACHINELOGENTRY, 87@client-2CC4AD7317CA
2023-03-07 04:44:15,195 [s3@group-A153BBB24319-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 6, message 5 -> (t:1, i:6), STATEMACHINELOGENTRY, 81@client-143E9C30B5B6
2023-03-07 04:44:15,195 [s4@group-A153BBB24319-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 6, message 5 -> (t:1, i:6), STATEMACHINELOGENTRY, 81@client-143E9C30B5B6
2023-03-07 04:44:15,195 [s3@group-A153BBB24319-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 7, message 3 -> (t:1, i:7), STATEMACHINELOGENTRY, 77@client-672054C68C69
2023-03-07 04:44:15,195 [s4@group-A153BBB24319-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 7, message 3 -> (t:1, i:7), STATEMACHINELOGENTRY, 77@client-672054C68C69
2023-03-07 04:44:15,195 [s3@group-A153BBB24319-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 8, message 6 -> (t:1, i:8), STATEMACHINELOGENTRY, 83@client-A00D961865D0
2023-03-07 04:44:15,195 [s4@group-A153BBB24319-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 8, message 6 -> (t:1, i:8), STATEMACHINELOGENTRY, 83@client-A00D961865D0
2023-03-07 04:44:15,195 [s3@group-A153BBB24319-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 9, message 7 -> (t:1, i:9), STATEMACHINELOGENTRY, 85@client-5BC014475242
2023-03-07 04:44:15,195 [s4@group-A153BBB24319-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 9, message 7 -> (t:1, i:9), STATEMACHINELOGENTRY, 85@client-5BC014475242
2023-03-07 04:44:15,195 [s3@group-A153BBB24319-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 10, message 4 -> (t:1, i:10), STATEMACHINELOGENTRY, 79@client-6F4D09185101
2023-03-07 04:44:15,195 [s4@group-A153BBB24319-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 10, message 4 -> (t:1, i:10), STATEMACHINELOGENTRY, 79@client-6F4D09185101
2023-03-07 04:44:15,195 [s3@group-A153BBB24319-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 11, message 1 -> (t:1, i:11), STATEMACHINELOGENTRY, 73@client-02CD989CCDA2
2023-03-07 04:44:15,196 [s4@group-A153BBB24319-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 11, message 1 -> (t:1, i:11), STATEMACHINELOGENTRY, 73@client-02CD989CCDA2
2023-03-07 04:44:15,196 [s3@group-A153BBB24319-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s3: put 12, message 9 -> (t:1, i:12), STATEMACHINELOGENTRY, 89@client-60925CB45A31
2023-03-07 04:44:15,196 [s4@group-A153BBB24319-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s4: put 12, message 9 -> (t:1, i:12), STATEMACHINELOGENTRY, 89@client-60925CB45A31
2023-03-07 04:44:15,205 [grpc-default-executor-11] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-3CC3209ABB3C->s5: receive RaftClientReply:client-3CC3209ABB3C->s5@group-A153BBB24319, cid=90, SUCCESS, logIndex=13, commits[s5:c13, s3:c12, s4:c12]
2023-03-07 04:44:15,229 [grpc-default-executor-11] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=1025kb (=1049600)-message
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s5@group-A153BBB24319: Failed to acquire a pending write request for RaftClientRequest:client-3CC3209ABB3C->s5@group-A153BBB24319, cid=91, seq=2, RW, Message:4b06e3f0708569db615d...(size=1049600)
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:392)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:487)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:468)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:432)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:465)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s5@group-A153BBB24319: Failed to acquire a pending write request for RaftClientRequest:client-3CC3209ABB3C->s5@group-A153BBB24319, cid=91, seq=2, RW, Message:4b06e3f0708569db615d...(size=1049600)
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:775)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:886)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:824)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:824)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	... 3 more
	Suppressed: java.lang.NullPointerException
		at org.apache.ratis.server.impl.RaftServerImpl.lambda$submitClientRequestAsync$15(RaftServerImpl.java:894)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883)
		at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251)
		at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:893)
		... 7 more
2023-03-07 04:44:15,590 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-03-07 04:44:15,590 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-03-07 04:44:15,590 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2023-03-07 04:44:15,590 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-03-07 04:44:15,590 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-03-07 04:44:15,591 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s3:  RUNNING  FOLLOWER s3@group-A153BBB24319:t1, leader=s5, voted=s5, raftlog=Memoized:s3@group-A153BBB24319-SegmentedRaftLog:OPENED:c13, conf=0: peers:[s3|rpc:localhost:38245|admin:localhost:43131|client:localhost:45745|dataStream:localhost:40937|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:38895|admin:localhost:39741|client:localhost:43247|dataStream:localhost:41671|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:44547|admin:localhost:41515|client:localhost:45939|dataStream:localhost:45817|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s4:  RUNNING  FOLLOWER s4@group-A153BBB24319:t1, leader=s5, voted=s5, raftlog=Memoized:s4@group-A153BBB24319-SegmentedRaftLog:OPENED:c13, conf=0: peers:[s3|rpc:localhost:38245|admin:localhost:43131|client:localhost:45745|dataStream:localhost:40937|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:38895|admin:localhost:39741|client:localhost:43247|dataStream:localhost:41671|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:44547|admin:localhost:41515|client:localhost:45939|dataStream:localhost:45817|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s5:  RUNNING    LEADER s5@group-A153BBB24319:t1, leader=s5, voted=s5, raftlog=Memoized:s5@group-A153BBB24319-SegmentedRaftLog:OPENED:c13, conf=0: peers:[s3|rpc:localhost:38245|admin:localhost:43131|client:localhost:45745|dataStream:localhost:40937|priority:0|startupRole:FOLLOWER, s4|rpc:localhost:38895|admin:localhost:39741|client:localhost:43247|dataStream:localhost:41671|priority:0|startupRole:FOLLOWER, s5|rpc:localhost:44547|admin:localhost:41515|client:localhost:45939|dataStream:localhost:45817|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-07 04:44:15,591 [MiniRaftCluster-18] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s3: close
2023-03-07 04:44:15,591 [MiniRaftCluster-19] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s4: close
2023-03-07 04:44:15,592 [MiniRaftCluster-19] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-03-07 04:44:15,592 [s4-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s4@group-A153BBB24319: shutdown
2023-03-07 04:44:15,592 [MiniRaftCluster-20] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s5: close
2023-03-07 04:44:15,592 [MiniRaftCluster-18] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-03-07 04:44:15,593 [s3-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s3@group-A153BBB24319: shutdown
2023-03-07 04:44:15,593 [s3-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A153BBB24319,id=s3
2023-03-07 04:44:15,593 [s3-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s3: shutdown s3@group-A153BBB24319-FollowerState
2023-03-07 04:44:15,593 [s3-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s3@group-A153BBB24319-StateMachineUpdater: set stopIndex = 13
2023-03-07 04:44:15,593 [s3@group-A153BBB24319-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s3@group-A153BBB24319-FollowerState was interrupted
2023-03-07 04:44:15,593 [Thread-634] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(102)) - s3 Close channels
2023-03-07 04:44:15,594 [Thread-636] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(102)) - s5 Close channels
2023-03-07 04:44:15,592 [s4-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A153BBB24319,id=s4
2023-03-07 04:44:15,594 [s4-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s4: shutdown s4@group-A153BBB24319-FollowerState
2023-03-07 04:44:15,594 [s4-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s4@group-A153BBB24319-StateMachineUpdater: set stopIndex = 13
2023-03-07 04:44:15,595 [MiniRaftCluster-20] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s5: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-03-07 04:44:15,596 [s5-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s5@group-A153BBB24319: shutdown
2023-03-07 04:44:15,596 [s5-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A153BBB24319,id=s5
2023-03-07 04:44:15,596 [s5-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s5: shutdown s5@group-A153BBB24319-LeaderStateImpl
2023-03-07 04:44:15,596 [s5-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s5@group-A153BBB24319-PendingRequests: sendNotLeaderResponses
2023-03-07 04:44:15,596 [s5@group-A153BBB24319->s4-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(190)) - s5@group-A153BBB24319->s4-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2023-03-07 04:44:15,596 [Thread-638] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(102)) - s4 Close channels
2023-03-07 04:44:15,596 [s4@group-A153BBB24319-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s4@group-A153BBB24319-FollowerState was interrupted
2023-03-07 04:44:15,597 [s4-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s4@group-A153BBB24319: applyIndex: 13
2023-03-07 04:44:15,599 [grpc-default-executor-8] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s4: Completed APPEND_ENTRIES, lastRequest: null
2023-03-07 04:44:15,599 [s3-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s3@group-A153BBB24319: applyIndex: 13
2023-03-07 04:44:15,599 [grpc-default-executor-11] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s4: Completed APPEND_ENTRIES, lastRequest: s5->s4#4736-t1,previous=(t:1, i:12),leaderCommit=12,initializing? true,entries: size=1, first=(t:1, i:13), METADATAENTRY(c:12)
2023-03-07 04:44:15,601 [Thread-640] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(102)) - s3 Close channels
2023-03-07 04:44:15,604 [s5-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s5@group-A153BBB24319-StateMachineUpdater: set stopIndex = 13
2023-03-07 04:44:15,605 [grpc-default-executor-11] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s3: Completed APPEND_ENTRIES, lastRequest: s5->s3#5093-t1,previous=(t:1, i:12),leaderCommit=12,initializing? true,entries: size=1, first=(t:1, i:13), METADATAENTRY(c:12)
2023-03-07 04:44:15,605 [grpc-default-executor-8] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(417)) - s5@group-A153BBB24319->s3-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-03-07 04:44:15,605 [grpc-default-executor-8] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(128)) - s5@group-A153BBB24319->s3-GrpcLogAppender: Failed to getClient for s3
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s5 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:61)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:115)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:106)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:111)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$500(GrpcLogAppender.java:55)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:418)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:485)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-07 04:44:15,608 [MiniRaftCluster-19] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-03-07 04:44:15,608 [MiniRaftCluster-19] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s4: shutdown server GrpcServerProtocolService now
2023-03-07 04:44:15,609 [Thread-639] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(102)) - s5 Close channels
2023-03-07 04:44:15,609 [s5-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s5@group-A153BBB24319: applyIndex: 13
2023-03-07 04:44:15,610 [grpc-default-executor-0] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(417)) - s5@group-A153BBB24319->s4-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-03-07 04:44:15,610 [grpc-default-executor-0] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(128)) - s5@group-A153BBB24319->s4-GrpcLogAppender: Failed to getClient for s4
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s5 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:61)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:115)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:106)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:111)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$500(GrpcLogAppender.java:55)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:418)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:485)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:468)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:432)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:465)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-07 04:44:15,610 [Thread-641] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(102)) - s4 Close channels
2023-03-07 04:44:15,611 [grpc-default-executor-8] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(417)) - s5@group-A153BBB24319->s4-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-03-07 04:44:15,611 [grpc-default-executor-8] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(128)) - s5@group-A153BBB24319->s4-GrpcLogAppender: Failed to getClient for s4
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s5 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:61)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:115)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:106)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:111)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$500(GrpcLogAppender.java:55)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:418)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:485)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-07 04:44:15,612 [MiniRaftCluster-18] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-03-07 04:44:15,612 [MiniRaftCluster-18] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s3: shutdown server GrpcServerProtocolService now
2023-03-07 04:44:15,612 [grpc-default-executor-11] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s3: Completed APPEND_ENTRIES, lastRequest: null
2023-03-07 04:44:15,613 [grpc-default-executor-11] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(417)) - s5@group-A153BBB24319->s3-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-03-07 04:44:15,613 [grpc-default-executor-11] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(128)) - s5@group-A153BBB24319->s3-GrpcLogAppender: Failed to getClient for s3
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s5 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:61)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:115)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:106)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:111)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$500(GrpcLogAppender.java:55)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:418)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:485)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:468)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:432)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:465)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-07 04:44:15,615 [MiniRaftCluster-19] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s4: shutdown server GrpcServerProtocolService successfully
2023-03-07 04:44:15,615 [MiniRaftCluster-19] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-03-07 04:44:15,615 [MiniRaftCluster-20] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s5: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-03-07 04:44:15,615 [MiniRaftCluster-20] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s5: shutdown server GrpcServerProtocolService now
2023-03-07 04:44:15,616 [MiniRaftCluster-19] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s4: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-03-07 04:44:15,617 [MiniRaftCluster-18] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s3: shutdown server GrpcServerProtocolService successfully
2023-03-07 04:44:15,617 [MiniRaftCluster-18] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-03-07 04:44:15,617 [MiniRaftCluster-20] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s5: shutdown server GrpcServerProtocolService successfully
2023-03-07 04:44:15,617 [MiniRaftCluster-20] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s5: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-03-07 04:44:15,618 [MiniRaftCluster-18] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s3: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-03-07 04:44:15,618 [MiniRaftCluster-20] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s5: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-03-07 04:44:16,169 [s5-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s5@group-A153BBB24319-SegmentedRaftLogWorker close()
2023-03-07 04:44:16,170 [JvmPauseMonitor19] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s5: Stopped
2023-03-07 04:44:16,195 [s4-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s4@group-A153BBB24319-SegmentedRaftLogWorker close()
2023-03-07 04:44:16,195 [s3-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s3@group-A153BBB24319-SegmentedRaftLogWorker close()
2023-03-07 04:44:16,198 [JvmPauseMonitor18] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s4: Stopped
2023-03-07 04:44:16,199 [JvmPauseMonitor17] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s3: Stopped
2023-03-07 04:44:16,199 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2023-03-07 04:44:16,200 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-03-07 04:44:16,200 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-03-07 04:44:16,200 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2023-03-07 04:44:16,200 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2023-03-07 04:44:16,201 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-7D030BC7DACF:[s0|rpc:localhost:42535|admin:localhost:35405|client:localhost:39303|dataStream:localhost:42483|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43683|admin:localhost:36249|client:localhost:42541|dataStream:localhost:40463|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36781|admin:localhost:42223|client:localhost:43275|dataStream:localhost:39661|priority:0|startupRole:FOLLOWER]
2023-03-07 04:44:16,201 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-03-07 04:44:16,201 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-03-07 04:44:16,201 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2023-03-07 04:44:16,201 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-03-07 04:44:16,201 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-03-07 04:44:16,201 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-03-07 04:44:16,201 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-7D030BC7DACF:[s0|rpc:localhost:42535|admin:localhost:35405|client:localhost:39303|dataStream:localhost:42483|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43683|admin:localhost:36249|client:localhost:42541|dataStream:localhost:40463|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36781|admin:localhost:42223|client:localhost:43275|dataStream:localhost:39661|priority:0|startupRole:FOLLOWER], format? true
2023-03-07 04:44:16,201 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/ac5303ae/MiniRaftClusterWithGrpc8fdb07e4/s0
2023-03-07 04:44:16,201 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/ac5303ae/MiniRaftClusterWithGrpc8fdb07e4/s0 does not exist.
2023-03-07 04:44:16,201 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/ac5303ae/MiniRaftClusterWithGrpc8fdb07e4/s0
2023-03-07 04:44:16,202 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-03-07 04:44:16,202 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:44:16,202 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 35405 (custom)
2023-03-07 04:44:16,202 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:44:16,202 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 39303 (custom)
2023-03-07 04:44:16,202 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-07 04:44:16,202 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 42535 (custom)
2023-03-07 04:44:16,202 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:44:16,202 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:16,202 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:44:16,202 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-07 04:44:16,202 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-03-07 04:44:16,202 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-07 04:44:16,202 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-07 04:44:16,203 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-07 04:44:16,203 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-07 04:44:16,203 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-07 04:44:16,203 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-07 04:44:16,203 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-07 04:44:16,204 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc8fdb07e4/s0] (custom)
2023-03-07 04:44:16,204 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-7D030BC7DACF:[s0|rpc:localhost:42535|admin:localhost:35405|client:localhost:39303|dataStream:localhost:42483|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43683|admin:localhost:36249|client:localhost:42541|dataStream:localhost:40463|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36781|admin:localhost:42223|client:localhost:43275|dataStream:localhost:39661|priority:0|startupRole:FOLLOWER] returns group-7D030BC7DACF:java.util.concurrent.CompletableFuture@235b04df[Not completed]
2023-03-07 04:44:16,204 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:44:16,204 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-07 04:44:16,204 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-07 04:44:16,204 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-7D030BC7DACF:[s0|rpc:localhost:42535|admin:localhost:35405|client:localhost:39303|dataStream:localhost:42483|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43683|admin:localhost:36249|client:localhost:42541|dataStream:localhost:40463|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36781|admin:localhost:42223|client:localhost:43275|dataStream:localhost:39661|priority:0|startupRole:FOLLOWER], format? true
2023-03-07 04:44:16,204 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/ac5303ae/MiniRaftClusterWithGrpc8fdb07e4/s1
2023-03-07 04:44:16,204 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-7D030BC7DACF:[s0|rpc:localhost:42535|admin:localhost:35405|client:localhost:39303|dataStream:localhost:42483|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43683|admin:localhost:36249|client:localhost:42541|dataStream:localhost:40463|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36781|admin:localhost:42223|client:localhost:43275|dataStream:localhost:39661|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-03-07 04:44:16,205 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-07 04:44:16,205 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/ac5303ae/MiniRaftClusterWithGrpc8fdb07e4/s1 does not exist.
2023-03-07 04:44:16,205 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/ac5303ae/MiniRaftClusterWithGrpc8fdb07e4/s1
2023-03-07 04:44:16,205 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-07 04:44:16,205 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-07 04:44:16,205 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-07 04:44:16,205 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-07 04:44:16,205 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-07 04:44:16,205 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-03-07 04:44:16,205 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-7D030BC7DACF: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:42535|admin:localhost:35405|client:localhost:39303|dataStream:localhost:42483|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43683|admin:localhost:36249|client:localhost:42541|dataStream:localhost:40463|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36781|admin:localhost:42223|client:localhost:43275|dataStream:localhost:39661|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-07 04:44:16,205 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:44:16,205 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-07 04:44:16,205 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-07 04:44:16,205 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-07 04:44:16,205 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-07 04:44:16,205 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-07 04:44:16,206 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-07 04:44:16,206 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-07 04:44:16,206 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-07 04:44:16,206 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-07 04:44:16,206 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-07 04:44:16,205 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 36249 (custom)
2023-03-07 04:44:16,208 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:44:16,208 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 42541 (custom)
2023-03-07 04:44:16,209 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-07 04:44:16,209 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 43683 (custom)
2023-03-07 04:44:16,209 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:44:16,209 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:16,209 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:44:16,209 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-07 04:44:16,209 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-03-07 04:44:16,209 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-07 04:44:16,209 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-07 04:44:16,210 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-07 04:44:16,210 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-07 04:44:16,210 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-07 04:44:16,210 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-07 04:44:16,210 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-07 04:44:16,210 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc8fdb07e4/s1] (custom)
2023-03-07 04:44:16,213 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-7D030BC7DACF:[s0|rpc:localhost:42535|admin:localhost:35405|client:localhost:39303|dataStream:localhost:42483|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43683|admin:localhost:36249|client:localhost:42541|dataStream:localhost:40463|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36781|admin:localhost:42223|client:localhost:43275|dataStream:localhost:39661|priority:0|startupRole:FOLLOWER] returns group-7D030BC7DACF:java.util.concurrent.CompletableFuture@5775ce12[Not completed]
2023-03-07 04:44:16,213 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-7D030BC7DACF:[s0|rpc:localhost:42535|admin:localhost:35405|client:localhost:39303|dataStream:localhost:42483|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43683|admin:localhost:36249|client:localhost:42541|dataStream:localhost:40463|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36781|admin:localhost:42223|client:localhost:43275|dataStream:localhost:39661|priority:0|startupRole:FOLLOWER], format? true
2023-03-07 04:44:16,213 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:44:16,213 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/ac5303ae/MiniRaftClusterWithGrpc8fdb07e4/s2
2023-03-07 04:44:16,213 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-07 04:44:16,213 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-07 04:44:16,213 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/ac5303ae/MiniRaftClusterWithGrpc8fdb07e4/s2 does not exist.
2023-03-07 04:44:16,213 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/ac5303ae/MiniRaftClusterWithGrpc8fdb07e4/s2
2023-03-07 04:44:16,213 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-7D030BC7DACF:[s0|rpc:localhost:42535|admin:localhost:35405|client:localhost:39303|dataStream:localhost:42483|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43683|admin:localhost:36249|client:localhost:42541|dataStream:localhost:40463|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36781|admin:localhost:42223|client:localhost:43275|dataStream:localhost:39661|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-03-07 04:44:16,213 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-07 04:44:16,213 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-07 04:44:16,213 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-07 04:44:16,213 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-07 04:44:16,213 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-07 04:44:16,213 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-03-07 04:44:16,213 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-07 04:44:16,213 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:44:16,213 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-7D030BC7DACF: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:42535|admin:localhost:35405|client:localhost:39303|dataStream:localhost:42483|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43683|admin:localhost:36249|client:localhost:42541|dataStream:localhost:40463|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36781|admin:localhost:42223|client:localhost:43275|dataStream:localhost:39661|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-07 04:44:16,213 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 42223 (custom)
2023-03-07 04:44:16,213 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-07 04:44:16,213 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-07 04:44:16,213 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-07 04:44:16,214 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-07 04:44:16,214 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-07 04:44:16,214 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-07 04:44:16,214 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-07 04:44:16,213 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:44:16,214 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-07 04:44:16,214 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 43275 (custom)
2023-03-07 04:44:16,214 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-07 04:44:16,214 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-07 04:44:16,214 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-07 04:44:16,214 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 36781 (custom)
2023-03-07 04:44:16,215 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:44:16,215 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:16,215 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:44:16,215 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-07 04:44:16,215 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-03-07 04:44:16,215 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-07 04:44:16,215 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-07 04:44:16,216 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-07 04:44:16,216 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-07 04:44:16,216 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-07 04:44:16,216 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-07 04:44:16,216 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-07 04:44:16,216 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc8fdb07e4/s2] (custom)
2023-03-07 04:44:16,221 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-7D030BC7DACF:[s0|rpc:localhost:42535|admin:localhost:35405|client:localhost:39303|dataStream:localhost:42483|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43683|admin:localhost:36249|client:localhost:42541|dataStream:localhost:40463|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36781|admin:localhost:42223|client:localhost:43275|dataStream:localhost:39661|priority:0|startupRole:FOLLOWER] returns group-7D030BC7DACF:java.util.concurrent.CompletableFuture@78605aa1[Not completed]
2023-03-07 04:44:16,221 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-07 04:44:16,221 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-07 04:44:16,221 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc8fdb07e4/s0] (custom)
2023-03-07 04:44:16,221 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc8fdb07e4/s0/ae757874-cc36-4eb3-81ad-7d030bc7dacf does not exist. Creating ...
2023-03-07 04:44:16,221 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc8fdb07e4/s0/ae757874-cc36-4eb3-81ad-7d030bc7dacf
2023-03-07 04:44:16,222 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:44:16,222 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-07 04:44:16,222 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-07 04:44:16,222 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-7D030BC7DACF:[s0|rpc:localhost:42535|admin:localhost:35405|client:localhost:39303|dataStream:localhost:42483|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43683|admin:localhost:36249|client:localhost:42541|dataStream:localhost:40463|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36781|admin:localhost:42223|client:localhost:43275|dataStream:localhost:39661|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-03-07 04:44:16,222 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-07 04:44:16,222 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-07 04:44:16,222 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-07 04:44:16,222 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-07 04:44:16,222 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-07 04:44:16,222 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-07 04:44:16,222 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-7D030BC7DACF: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:42535|admin:localhost:35405|client:localhost:39303|dataStream:localhost:42483|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43683|admin:localhost:36249|client:localhost:42541|dataStream:localhost:40463|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36781|admin:localhost:42223|client:localhost:43275|dataStream:localhost:39661|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-07 04:44:16,222 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-07 04:44:16,222 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-07 04:44:16,222 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-07 04:44:16,222 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-07 04:44:16,223 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-07 04:44:16,223 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc8fdb07e4/s0/ae757874-cc36-4eb3-81ad-7d030bc7dacf/in_use.lock acquired by nodename 17652@fv-az443-797
2023-03-07 04:44:16,223 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc8fdb07e4/s0/ae757874-cc36-4eb3-81ad-7d030bc7dacf/current
2023-03-07 04:44:16,223 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-07 04:44:16,223 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc8fdb07e4/s0/ae757874-cc36-4eb3-81ad-7d030bc7dacf/sm
2023-03-07 04:44:16,223 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-07 04:44:16,224 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-07 04:44:16,224 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-07 04:44:16,224 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-07 04:44:16,225 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc8fdb07e4/s0/ae757874-cc36-4eb3-81ad-7d030bc7dacf has been successfully formatted.
2023-03-07 04:44:16,225 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-03-07 04:44:16,225 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-03-07 04:44:16,225 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-07 04:44:16,225 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-07 04:44:16,225 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:16,225 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-07 04:44:16,225 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-07 04:44:16,225 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:44:16,225 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-07 04:44:16,225 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-07 04:44:16,225 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:16,226 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s0@group-7D030BC7DACF-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc8fdb07e4/s0/ae757874-cc36-4eb3-81ad-7d030bc7dacf
2023-03-07 04:44:16,226 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-07 04:44:16,226 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-07 04:44:16,226 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:44:16,226 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-07 04:44:16,226 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-07 04:44:16,226 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-07 04:44:16,226 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-07 04:44:16,226 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-07 04:44:16,226 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-07 04:44:16,226 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:16,227 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-07 04:44:16,227 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-07 04:44:16,227 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-07 04:44:16,228 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-7D030BC7DACF-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-07 04:44:16,228 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-7D030BC7DACF-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-07 04:44:16,228 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s0@group-7D030BC7DACF: start as a follower, conf=-1: peers:[s0|rpc:localhost:42535|admin:localhost:35405|client:localhost:39303|dataStream:localhost:42483|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43683|admin:localhost:36249|client:localhost:42541|dataStream:localhost:40463|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36781|admin:localhost:42223|client:localhost:43275|dataStream:localhost:39661|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:16,228 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-7D030BC7DACF: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-07 04:44:16,228 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-7D030BC7DACF-FollowerState
2023-03-07 04:44:16,231 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-7D030BC7DACF,id=s0
2023-03-07 04:44:16,231 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-07 04:44:16,231 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-07 04:44:16,231 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-07 04:44:16,231 [s0@group-7D030BC7DACF-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:44:16,231 [s0@group-7D030BC7DACF-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:44:16,232 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s0: start RPC server
2023-03-07 04:44:16,232 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 39303
2023-03-07 04:44:16,233 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 42535
2023-03-07 04:44:16,233 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 35405
2023-03-07 04:44:16,234 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-07 04:44:16,234 [JvmPauseMonitor20] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2023-03-07 04:44:16,234 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-07 04:44:16,234 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc8fdb07e4/s1] (custom)
2023-03-07 04:44:16,234 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc8fdb07e4/s1/ae757874-cc36-4eb3-81ad-7d030bc7dacf does not exist. Creating ...
2023-03-07 04:44:16,234 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc8fdb07e4/s1/ae757874-cc36-4eb3-81ad-7d030bc7dacf
2023-03-07 04:44:16,235 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc8fdb07e4/s1/ae757874-cc36-4eb3-81ad-7d030bc7dacf/in_use.lock acquired by nodename 17652@fv-az443-797
2023-03-07 04:44:16,235 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc8fdb07e4/s1/ae757874-cc36-4eb3-81ad-7d030bc7dacf/current
2023-03-07 04:44:16,235 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc8fdb07e4/s1/ae757874-cc36-4eb3-81ad-7d030bc7dacf/sm
2023-03-07 04:44:16,236 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc8fdb07e4/s1/ae757874-cc36-4eb3-81ad-7d030bc7dacf has been successfully formatted.
2023-03-07 04:44:16,237 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-03-07 04:44:16,237 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-03-07 04:44:16,237 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-07 04:44:16,237 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-07 04:44:16,237 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:16,237 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-07 04:44:16,237 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-07 04:44:16,237 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:44:16,237 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-07 04:44:16,237 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-07 04:44:16,237 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:16,237 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s1@group-7D030BC7DACF-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc8fdb07e4/s1/ae757874-cc36-4eb3-81ad-7d030bc7dacf
2023-03-07 04:44:16,237 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-07 04:44:16,237 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-07 04:44:16,237 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:44:16,237 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-07 04:44:16,237 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-07 04:44:16,237 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-07 04:44:16,238 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-07 04:44:16,238 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-07 04:44:16,238 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-07 04:44:16,238 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:16,238 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-07 04:44:16,238 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-07 04:44:16,238 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-07 04:44:16,239 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-7D030BC7DACF-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-07 04:44:16,239 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-7D030BC7DACF-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-07 04:44:16,240 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s1@group-7D030BC7DACF: start as a follower, conf=-1: peers:[s0|rpc:localhost:42535|admin:localhost:35405|client:localhost:39303|dataStream:localhost:42483|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43683|admin:localhost:36249|client:localhost:42541|dataStream:localhost:40463|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36781|admin:localhost:42223|client:localhost:43275|dataStream:localhost:39661|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:16,240 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-7D030BC7DACF: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-07 04:44:16,240 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-7D030BC7DACF-FollowerState
2023-03-07 04:44:16,241 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-7D030BC7DACF,id=s1
2023-03-07 04:44:16,241 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-07 04:44:16,241 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-07 04:44:16,241 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-07 04:44:16,242 [s1@group-7D030BC7DACF-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:44:16,242 [s1@group-7D030BC7DACF-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:44:16,242 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s1: start RPC server
2023-03-07 04:44:16,243 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 42541
2023-03-07 04:44:16,243 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 43683
2023-03-07 04:44:16,244 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 36249
2023-03-07 04:44:16,244 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-07 04:44:16,244 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-07 04:44:16,245 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc8fdb07e4/s2] (custom)
2023-03-07 04:44:16,245 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc8fdb07e4/s2/ae757874-cc36-4eb3-81ad-7d030bc7dacf does not exist. Creating ...
2023-03-07 04:44:16,245 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc8fdb07e4/s2/ae757874-cc36-4eb3-81ad-7d030bc7dacf
2023-03-07 04:44:16,246 [JvmPauseMonitor21] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2023-03-07 04:44:16,246 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc8fdb07e4/s2/ae757874-cc36-4eb3-81ad-7d030bc7dacf/in_use.lock acquired by nodename 17652@fv-az443-797
2023-03-07 04:44:16,246 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc8fdb07e4/s2/ae757874-cc36-4eb3-81ad-7d030bc7dacf/current
2023-03-07 04:44:16,246 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc8fdb07e4/s2/ae757874-cc36-4eb3-81ad-7d030bc7dacf/sm
2023-03-07 04:44:16,247 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc8fdb07e4/s2/ae757874-cc36-4eb3-81ad-7d030bc7dacf has been successfully formatted.
2023-03-07 04:44:16,247 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-03-07 04:44:16,247 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-03-07 04:44:16,247 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-07 04:44:16,247 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-07 04:44:16,247 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:16,247 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-07 04:44:16,248 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-07 04:44:16,248 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:44:16,248 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-07 04:44:16,248 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-07 04:44:16,248 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:16,248 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s2@group-7D030BC7DACF-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc8fdb07e4/s2/ae757874-cc36-4eb3-81ad-7d030bc7dacf
2023-03-07 04:44:16,248 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-07 04:44:16,248 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-07 04:44:16,248 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:44:16,248 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-07 04:44:16,248 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-07 04:44:16,248 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-07 04:44:16,248 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-07 04:44:16,248 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-07 04:44:16,248 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-07 04:44:16,248 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:16,249 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-07 04:44:16,249 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-07 04:44:16,249 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-07 04:44:16,249 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-7D030BC7DACF-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-07 04:44:16,249 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-7D030BC7DACF-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-07 04:44:16,249 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s2@group-7D030BC7DACF: start as a follower, conf=-1: peers:[s0|rpc:localhost:42535|admin:localhost:35405|client:localhost:39303|dataStream:localhost:42483|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43683|admin:localhost:36249|client:localhost:42541|dataStream:localhost:40463|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36781|admin:localhost:42223|client:localhost:43275|dataStream:localhost:39661|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:16,249 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-7D030BC7DACF: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-07 04:44:16,249 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-7D030BC7DACF-FollowerState
2023-03-07 04:44:16,252 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-7D030BC7DACF,id=s2
2023-03-07 04:44:16,252 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-07 04:44:16,253 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-07 04:44:16,253 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-07 04:44:16,253 [s2@group-7D030BC7DACF-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:44:16,253 [s2@group-7D030BC7DACF-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:44:16,256 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s2: start RPC server
2023-03-07 04:44:16,257 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 43275
2023-03-07 04:44:16,257 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 36781
2023-03-07 04:44:16,258 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 42223
2023-03-07 04:44:16,258 [JvmPauseMonitor22] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2023-03-07 04:44:16,258 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:44:16,259 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:44:16,269 [grpc-default-executor-11] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-FA996A3334B6->s0: receive RaftClientReply:client-FA996A3334B6->s0@group-7D030BC7DACF, cid=92, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-7D030BC7DACF is not the leader, logIndex=0, commits[s0:c-1]
2023-03-07 04:44:16,371 [timer2] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:44:16,372 [timer2] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:44:16,379 [grpc-default-executor-11] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-FA996A3334B6->s2: receive RaftClientReply:client-FA996A3334B6->s2@group-7D030BC7DACF, cid=92, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s2@group-7D030BC7DACF is not the leader, logIndex=0, commits[s2:c-1]
2023-03-07 04:44:16,437 [s0@group-7D030BC7DACF-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-7D030BC7DACF-FollowerState: change to CANDIDATE, lastRpcElapsedTime:208068097ns, electionTimeout:205ms
2023-03-07 04:44:16,437 [s0@group-7D030BC7DACF-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-7D030BC7DACF-FollowerState
2023-03-07 04:44:16,437 [s0@group-7D030BC7DACF-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-7D030BC7DACF: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-03-07 04:44:16,437 [s0@group-7D030BC7DACF-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-07 04:44:16,437 [s0@group-7D030BC7DACF-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-7D030BC7DACF-LeaderElection17
2023-03-07 04:44:16,441 [s0@group-7D030BC7DACF-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-7D030BC7DACF-LeaderElection17 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:42535|admin:localhost:35405|client:localhost:39303|dataStream:localhost:42483|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43683|admin:localhost:36249|client:localhost:42541|dataStream:localhost:40463|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36781|admin:localhost:42223|client:localhost:43275|dataStream:localhost:39661|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:16,442 [s0@group-7D030BC7DACF-LeaderElection17-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(64)) - Build channel for s1
2023-03-07 04:44:16,442 [s0@group-7D030BC7DACF-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:44:16,442 [s0@group-7D030BC7DACF-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:44:16,442 [s0@group-7D030BC7DACF-LeaderElection17-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(64)) - Build channel for s2
2023-03-07 04:44:16,447 [grpc-default-executor-11] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s1@group-7D030BC7DACF: receive requestVote(PRE_VOTE, s0, group-7D030BC7DACF, 0, (t:0, i:0))
2023-03-07 04:44:16,447 [grpc-default-executor-11] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-7D030BC7DACF-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-03-07 04:44:16,447 [grpc-default-executor-11] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s1@group-7D030BC7DACF replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-7D030BC7DACF:t0, leader=null, voted=, raftlog=Memoized:s1@group-7D030BC7DACF-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42535|admin:localhost:35405|client:localhost:39303|dataStream:localhost:42483|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43683|admin:localhost:36249|client:localhost:42541|dataStream:localhost:40463|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36781|admin:localhost:42223|client:localhost:43275|dataStream:localhost:39661|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:16,448 [s0@group-7D030BC7DACF-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-7D030BC7DACF-LeaderElection17: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-03-07 04:44:16,448 [s0@group-7D030BC7DACF-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t0
2023-03-07 04:44:16,448 [s0@group-7D030BC7DACF-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-7D030BC7DACF-LeaderElection17 PRE_VOTE round 0: result PASSED
2023-03-07 04:44:16,450 [s0@group-7D030BC7DACF-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-7D030BC7DACF-LeaderElection17 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:42535|admin:localhost:35405|client:localhost:39303|dataStream:localhost:42483|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43683|admin:localhost:36249|client:localhost:42541|dataStream:localhost:40463|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36781|admin:localhost:42223|client:localhost:43275|dataStream:localhost:39661|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:16,453 [grpc-default-executor-11] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s2@group-7D030BC7DACF: receive requestVote(PRE_VOTE, s0, group-7D030BC7DACF, 0, (t:0, i:0))
2023-03-07 04:44:16,453 [grpc-default-executor-11] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-7D030BC7DACF-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-03-07 04:44:16,453 [grpc-default-executor-11] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s2@group-7D030BC7DACF replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-7D030BC7DACF:t0, leader=null, voted=, raftlog=Memoized:s2@group-7D030BC7DACF-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42535|admin:localhost:35405|client:localhost:39303|dataStream:localhost:42483|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43683|admin:localhost:36249|client:localhost:42541|dataStream:localhost:40463|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36781|admin:localhost:42223|client:localhost:43275|dataStream:localhost:39661|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:16,455 [grpc-default-executor-11] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s1@group-7D030BC7DACF: receive requestVote(ELECTION, s0, group-7D030BC7DACF, 1, (t:0, i:0))
2023-03-07 04:44:16,455 [grpc-default-executor-11] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-7D030BC7DACF-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2023-03-07 04:44:16,455 [grpc-default-executor-11] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-7D030BC7DACF: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2023-03-07 04:44:16,455 [grpc-default-executor-11] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-7D030BC7DACF-FollowerState
2023-03-07 04:44:16,455 [s0@group-7D030BC7DACF-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:44:16,455 [s0@group-7D030BC7DACF-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:44:16,457 [grpc-default-executor-11] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-7D030BC7DACF-FollowerState
2023-03-07 04:44:16,457 [s1@group-7D030BC7DACF-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:44:16,457 [s1@group-7D030BC7DACF-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:44:16,458 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s2@group-7D030BC7DACF: receive requestVote(ELECTION, s0, group-7D030BC7DACF, 1, (t:0, i:0))
2023-03-07 04:44:16,458 [grpc-default-executor-8] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-7D030BC7DACF-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2023-03-07 04:44:16,458 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-7D030BC7DACF: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2023-03-07 04:44:16,458 [grpc-default-executor-8] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-7D030BC7DACF-FollowerState
2023-03-07 04:44:16,459 [grpc-default-executor-8] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-7D030BC7DACF-FollowerState
2023-03-07 04:44:16,459 [s2@group-7D030BC7DACF-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-7D030BC7DACF-FollowerState was interrupted
2023-03-07 04:44:16,461 [s2@group-7D030BC7DACF-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:44:16,461 [grpc-default-executor-8] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s2@group-7D030BC7DACF replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-7D030BC7DACF:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-7D030BC7DACF-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42535|admin:localhost:35405|client:localhost:39303|dataStream:localhost:42483|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43683|admin:localhost:36249|client:localhost:42541|dataStream:localhost:40463|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36781|admin:localhost:42223|client:localhost:43275|dataStream:localhost:39661|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:16,461 [s2@group-7D030BC7DACF-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:44:16,461 [s0@group-7D030BC7DACF-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-7D030BC7DACF-LeaderElection17: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-03-07 04:44:16,461 [s0@group-7D030BC7DACF-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s2#0:OK-t1
2023-03-07 04:44:16,461 [s0@group-7D030BC7DACF-LeaderElection17] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-7D030BC7DACF-LeaderElection17 ELECTION round 0: result PASSED
2023-03-07 04:44:16,461 [s0@group-7D030BC7DACF-LeaderElection17] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-7D030BC7DACF-LeaderElection17
2023-03-07 04:44:16,461 [s0@group-7D030BC7DACF-LeaderElection17] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-7D030BC7DACF: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-03-07 04:44:16,461 [s0@group-7D030BC7DACF-LeaderElection17] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-7D030BC7DACF: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 256ms
2023-03-07 04:44:16,461 [s0@group-7D030BC7DACF-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-03-07 04:44:16,462 [s0@group-7D030BC7DACF-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2023-03-07 04:44:16,462 [s0@group-7D030BC7DACF-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 1MB (=1048576) (custom)
2023-03-07 04:44:16,462 [s0@group-7D030BC7DACF-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-03-07 04:44:16,462 [s0@group-7D030BC7DACF-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-03-07 04:44:16,462 [s0@group-7D030BC7DACF-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-03-07 04:44:16,462 [s0@group-7D030BC7DACF-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 10 (custom)
2023-03-07 04:44:16,462 [s0@group-7D030BC7DACF-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-03-07 04:44:16,462 [s0@group-7D030BC7DACF-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-07 04:44:16,462 [s0@group-7D030BC7DACF-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:16,462 [s0@group-7D030BC7DACF-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-07 04:44:16,462 [s0@group-7D030BC7DACF-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-07 04:44:16,462 [s0@group-7D030BC7DACF-LeaderElection17] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2023-03-07 04:44:16,462 [s0@group-7D030BC7DACF-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-07 04:44:16,462 [s0@group-7D030BC7DACF-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-07 04:44:16,462 [s0@group-7D030BC7DACF-LeaderElection17] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-03-07 04:44:16,463 [s0@group-7D030BC7DACF-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-07 04:44:16,463 [s0@group-7D030BC7DACF-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:16,463 [s0@group-7D030BC7DACF-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-07 04:44:16,463 [s0@group-7D030BC7DACF-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-07 04:44:16,463 [s0@group-7D030BC7DACF-LeaderElection17] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2023-03-07 04:44:16,463 [s0@group-7D030BC7DACF-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-07 04:44:16,463 [s0@group-7D030BC7DACF-LeaderElection17] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-07 04:44:16,463 [s0@group-7D030BC7DACF-LeaderElection17] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-03-07 04:44:16,463 [s0@group-7D030BC7DACF-LeaderElection17] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-7D030BC7DACF-LeaderStateImpl
2023-03-07 04:44:16,463 [s0@group-7D030BC7DACF-LeaderElection17] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s0@group-7D030BC7DACF-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-07 04:44:16,467 [grpc-default-executor-11] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s1@group-7D030BC7DACF replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-7D030BC7DACF:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-7D030BC7DACF-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:42535|admin:localhost:35405|client:localhost:39303|dataStream:localhost:42483|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43683|admin:localhost:36249|client:localhost:42541|dataStream:localhost:40463|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36781|admin:localhost:42223|client:localhost:43275|dataStream:localhost:39661|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:16,468 [s1@group-7D030BC7DACF-FollowerState] INFO  impl.FollowerState (FollowerState.java:shouldRun(117)) - s1@group-7D030BC7DACF-FollowerState: Stopping now (isRunning? false, role = FOLLOWER)
2023-03-07 04:44:16,472 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-7D030BC7DACF: change Leader from null to s0 at term 1 for appendEntries, leader elected after 258ms
2023-03-07 04:44:16,473 [s0@group-7D030BC7DACF-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s0@group-7D030BC7DACF-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc8fdb07e4/s0/ae757874-cc36-4eb3-81ad-7d030bc7dacf/current/log_inprogress_0
2023-03-07 04:44:16,474 [s0@group-7D030BC7DACF-LeaderElection17] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-7D030BC7DACF: set configuration 0: peers:[s0|rpc:localhost:42535|admin:localhost:35405|client:localhost:39303|dataStream:localhost:42483|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43683|admin:localhost:36249|client:localhost:42541|dataStream:localhost:40463|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36781|admin:localhost:42223|client:localhost:43275|dataStream:localhost:39661|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:16,476 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-7D030BC7DACF: change Leader from null to s0 at term 1 for appendEntries, leader elected after 253ms
2023-03-07 04:44:16,481 [s1-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s1@group-7D030BC7DACF: set configuration 0: peers:[s0|rpc:localhost:42535|admin:localhost:35405|client:localhost:39303|dataStream:localhost:42483|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43683|admin:localhost:36249|client:localhost:42541|dataStream:localhost:40463|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36781|admin:localhost:42223|client:localhost:43275|dataStream:localhost:39661|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:16,481 [s1-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s1@group-7D030BC7DACF-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-07 04:44:16,484 [timer3] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:44:16,485 [timer3] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:44:16,486 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s2@group-7D030BC7DACF: set configuration 0: peers:[s0|rpc:localhost:42535|admin:localhost:35405|client:localhost:39303|dataStream:localhost:42483|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43683|admin:localhost:36249|client:localhost:42541|dataStream:localhost:40463|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36781|admin:localhost:42223|client:localhost:43275|dataStream:localhost:39661|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:16,486 [s2-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s2@group-7D030BC7DACF-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-07 04:44:16,497 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-FA996A3334B6->s0: receive RaftClientReply:client-FA996A3334B6->s0@group-7D030BC7DACF, cid=92, FAILED org.apache.ratis.protocol.exceptions.LeaderNotReadyException: s0@group-7D030BC7DACF is in LEADER state but not ready yet., logIndex=0, commits[s0:c-1, s1:c-1, s2:c-1]
2023-03-07 04:44:16,522 [s1@group-7D030BC7DACF-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s1@group-7D030BC7DACF-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc8fdb07e4/s1/ae757874-cc36-4eb3-81ad-7d030bc7dacf/current/log_inprogress_0
2023-03-07 04:44:16,663 [s2@group-7D030BC7DACF-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s2@group-7D030BC7DACF-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpc8fdb07e4/s2/ae757874-cc36-4eb3-81ad-7d030bc7dacf/current/log_inprogress_0
2023-03-07 04:44:16,700 [timer3] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:44:16,700 [timer3] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:44:16,725 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-FA996A3334B6->s1: receive RaftClientReply:client-FA996A3334B6->s1@group-7D030BC7DACF, cid=92, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s1@group-7D030BC7DACF is not the leader s0|rpc:localhost:42535|admin:localhost:35405|client:localhost:39303|dataStream:localhost:42483|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s1:c0, s0:c0, s2:c-1]
2023-03-07 04:44:16,727 [timer5] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:44:16,727 [timer5] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:44:16,735 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-FA996A3334B6->s0: receive RaftClientReply:client-FA996A3334B6->s0@group-7D030BC7DACF, cid=92, SUCCESS, logIndex=0, commits[s0:c0, s1:c0, s2:c-1]
2023-03-07 04:44:16,816 [s0@group-7D030BC7DACF-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 93@client-FA996A3334B6
2023-03-07 04:44:16,817 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-FA996A3334B6->s0: receive RaftClientReply:client-FA996A3334B6->s0@group-7D030BC7DACF, cid=93, SUCCESS, logIndex=1, commits[s0:c1, s1:c0, s2:c0]
2023-03-07 04:44:16,819 [Time-limited test] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:block(135)) - block FLUSH_STATE_MACHINE_DATA
2023-03-07 04:44:16,819 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:44:16,819 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:44:16,821 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:44:16,821 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:44:16,824 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:44:16,824 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:44:16,826 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:44:16,826 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:44:16,829 [grpc-default-executor-11] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-013D188F6399->s0: receive RaftClientReply:client-013D188F6399->s0@group-7D030BC7DACF, cid=94, SUCCESS, logIndex=1, commits[s0:c1, s1:c0, s2:c0]
2023-03-07 04:44:16,829 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-36C29B9CF6CD->s0: receive RaftClientReply:client-36C29B9CF6CD->s0@group-7D030BC7DACF, cid=96, SUCCESS, logIndex=1, commits[s0:c1, s1:c0, s2:c0]
2023-03-07 04:44:16,834 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-CB9FC8ABD1BF->s0: receive RaftClientReply:client-CB9FC8ABD1BF->s0@group-7D030BC7DACF, cid=98, SUCCESS, logIndex=1, commits[s0:c1, s1:c0, s2:c0]
2023-03-07 04:44:16,837 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:44:16,837 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:44:16,839 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:44:16,839 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:44:16,840 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:44:16,840 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:44:16,841 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:44:16,841 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:44:16,842 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:44:16,842 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:44:16,847 [s2@group-7D030BC7DACF-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 93@client-FA996A3334B6
2023-03-07 04:44:16,848 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-D9935477E559->s0: receive RaftClientReply:client-D9935477E559->s0@group-7D030BC7DACF, cid=102, SUCCESS, logIndex=1, commits[s0:c1, s1:c0, s2:c0]
2023-03-07 04:44:16,849 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-A228B8C7A919->s0: receive RaftClientReply:client-A228B8C7A919->s0@group-7D030BC7DACF, cid=108, SUCCESS, logIndex=1, commits[s0:c1, s1:c0, s2:c0]
2023-03-07 04:44:16,849 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-BF9131D0BC41->s0: receive RaftClientReply:client-BF9131D0BC41->s0@group-7D030BC7DACF, cid=106, SUCCESS, logIndex=1, commits[s0:c1, s1:c0, s2:c0]
2023-03-07 04:44:16,853 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:44:16,853 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:44:16,853 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-5A383ED59E3D->s0: receive RaftClientReply:client-5A383ED59E3D->s0@group-7D030BC7DACF, cid=104, SUCCESS, logIndex=2, commits[s0:c2, s1:c0, s2:c1]
2023-03-07 04:44:16,854 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-E1FEB23EF7B9->s0: receive RaftClientReply:client-E1FEB23EF7B9->s0@group-7D030BC7DACF, cid=100, SUCCESS, logIndex=2, commits[s0:c2, s1:c0, s2:c1]
2023-03-07 04:44:16,861 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:44:16,861 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:44:16,863 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-97DD64AD1C55->s0: receive RaftClientReply:client-97DD64AD1C55->s0@group-7D030BC7DACF, cid=110, SUCCESS, logIndex=2, commits[s0:c2, s1:c0, s2:c1]
2023-03-07 04:44:16,864 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-DD913B142668->s0: receive RaftClientReply:client-DD913B142668->s0@group-7D030BC7DACF, cid=112, SUCCESS, logIndex=2, commits[s0:c2, s1:c0, s2:c1]
2023-03-07 04:44:16,865 [s1@group-7D030BC7DACF-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 93@client-FA996A3334B6
2023-03-07 04:44:16,870 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-1E4B2CCC2A60->s0: receive RaftClientReply:client-1E4B2CCC2A60->s0@group-7D030BC7DACF, cid=114, SUCCESS, logIndex=2, commits[s0:c2, s1:c1, s2:c1]
2023-03-07 04:44:16,873 [Time-limited test] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:unblock(142)) - unblock FLUSH_STATE_MACHINE_DATA
2023-03-07 04:44:16,873 [grpc-default-executor-0] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=message 9
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-7D030BC7DACF: Failed to acquire a pending write request for RaftClientRequest:client-1E4B2CCC2A60->s0@group-7D030BC7DACF, cid=115, seq=2, RW, Message:6d6573736167652039
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:392)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:487)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-7D030BC7DACF: Failed to acquire a pending write request for RaftClientRequest:client-1E4B2CCC2A60->s0@group-7D030BC7DACF, cid=115, seq=2, RW, Message:6d6573736167652039
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:775)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:886)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:824)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:824)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	... 3 more
	Suppressed: java.lang.NullPointerException
		at org.apache.ratis.server.impl.RaftServerImpl.lambda$submitClientRequestAsync$15(RaftServerImpl.java:894)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883)
		at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251)
		at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:893)
		... 7 more
2023-03-07 04:44:16,877 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:44:16,877 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:44:16,881 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-BB6255DEDD39->s0: receive RaftClientReply:client-BB6255DEDD39->s0@group-7D030BC7DACF, cid=116, SUCCESS, logIndex=2, commits[s0:c2, s1:c1, s2:c1]
2023-03-07 04:44:16,900 [grpc-default-executor-8] ERROR impl.OrderedAsync (OrderedAsync.java:lambda$send$4(175)) - Failed to send request, message=1025kb (=1049600)-message
java.util.concurrent.CompletionException: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-7D030BC7DACF: Failed to acquire a pending write request for RaftClientRequest:client-BB6255DEDD39->s0@group-7D030BC7DACF, cid=117, seq=2, RW, Message:9f806e9d0bb66a6f19b1...(size=1049600)
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:632)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.client.impl.OrderedAsync$PendingOrderedRequest.fail(OrderedAsync.java:104)
	at org.apache.ratis.util.SlidingWindow$Client.fail(SlidingWindow.java:392)
	at org.apache.ratis.client.impl.OrderedAsync.failAllAsyncRequests(OrderedAsync.java:148)
	at org.apache.ratis.client.impl.OrderedAsync.handleAsyncRetryFailure(OrderedAsync.java:152)
	at org.apache.ratis.client.impl.OrderedAsync.lambda$sendRequest$10(OrderedAsync.java:262)
	at java.base/java.util.concurrent.CompletableFuture.uniExceptionally(CompletableFuture.java:986)
	at java.base/java.util.concurrent.CompletableFuture$UniExceptionally.tryFire(CompletableFuture.java:970)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:394)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onError(GrpcClientProtocolClient.java:331)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:487)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:468)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:432)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:465)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.ResourceUnavailableException: s0@group-7D030BC7DACF: Failed to acquire a pending write request for RaftClientRequest:client-BB6255DEDD39->s0@group-7D030BC7DACF, cid=117, seq=2, RW, Message:9f806e9d0bb66a6f19b1...(size=1049600)
	at org.apache.ratis.server.impl.RaftServerImpl.appendTransaction(RaftServerImpl.java:775)
	at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:886)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$12(RaftServerImpl.java:824)
	at org.apache.ratis.util.JavaUtils.callAsUnchecked(JavaUtils.java:117)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$executeSubmitClientRequestAsync$13(RaftServerImpl.java:824)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1700)
	... 3 more
	Suppressed: java.lang.NullPointerException
		at org.apache.ratis.server.impl.RaftServerImpl.lambda$submitClientRequestAsync$15(RaftServerImpl.java:894)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883)
		at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251)
		at org.apache.ratis.server.impl.RaftServerImpl.submitClientRequestAsync(RaftServerImpl.java:893)
		... 7 more
2023-03-07 04:44:16,927 [s0@group-7D030BC7DACF-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, 95@client-013D188F6399
2023-03-07 04:44:16,927 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-013D188F6399->s0: receive RaftClientReply:client-013D188F6399->s0@group-7D030BC7DACF, cid=95, SUCCESS, logIndex=3, commits[s0:c3, s1:c1, s2:c2]
2023-03-07 04:44:17,150 [s0@group-7D030BC7DACF-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, 97@client-36C29B9CF6CD
2023-03-07 04:44:17,151 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-36C29B9CF6CD->s0: receive RaftClientReply:client-36C29B9CF6CD->s0@group-7D030BC7DACF, cid=97, SUCCESS, logIndex=4, commits[s0:c5, s1:c2, s2:c2]
2023-03-07 04:44:17,151 [s0@group-7D030BC7DACF-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 5, message 1 -> (t:1, i:5), STATEMACHINELOGENTRY, 99@client-CB9FC8ABD1BF
2023-03-07 04:44:17,152 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-CB9FC8ABD1BF->s0: receive RaftClientReply:client-CB9FC8ABD1BF->s0@group-7D030BC7DACF, cid=99, SUCCESS, logIndex=5, commits[s0:c5, s1:c2, s2:c2]
2023-03-07 04:44:17,181 [s2@group-7D030BC7DACF-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, 95@client-013D188F6399
2023-03-07 04:44:17,181 [s2@group-7D030BC7DACF-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, 97@client-36C29B9CF6CD
2023-03-07 04:44:17,181 [s2@group-7D030BC7DACF-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 5, message 1 -> (t:1, i:5), STATEMACHINELOGENTRY, 99@client-CB9FC8ABD1BF
2023-03-07 04:44:17,183 [s0@group-7D030BC7DACF-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 6, message 3 -> (t:1, i:6), STATEMACHINELOGENTRY, 103@client-D9935477E559
2023-03-07 04:44:17,184 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-D9935477E559->s0: receive RaftClientReply:client-D9935477E559->s0@group-7D030BC7DACF, cid=103, SUCCESS, logIndex=6, commits[s0:c7, s1:c2, s2:c5]
2023-03-07 04:44:17,185 [s0@group-7D030BC7DACF-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 7, message 5 -> (t:1, i:7), STATEMACHINELOGENTRY, 107@client-BF9131D0BC41
2023-03-07 04:44:17,185 [s0@group-7D030BC7DACF-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 8, message 2 -> (t:1, i:8), STATEMACHINELOGENTRY, 101@client-E1FEB23EF7B9
2023-03-07 04:44:17,185 [s0@group-7D030BC7DACF-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 9, message 6 -> (t:1, i:9), STATEMACHINELOGENTRY, 109@client-A228B8C7A919
2023-03-07 04:44:17,185 [s0@group-7D030BC7DACF-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 10, message 4 -> (t:1, i:10), STATEMACHINELOGENTRY, 105@client-5A383ED59E3D
2023-03-07 04:44:17,185 [s0@group-7D030BC7DACF-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 11, message 7 -> (t:1, i:11), STATEMACHINELOGENTRY, 111@client-97DD64AD1C55
2023-03-07 04:44:17,185 [s0@group-7D030BC7DACF-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 12, message 8 -> (t:1, i:12), STATEMACHINELOGENTRY, 113@client-DD913B142668
2023-03-07 04:44:17,186 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-E1FEB23EF7B9->s0: receive RaftClientReply:client-E1FEB23EF7B9->s0@group-7D030BC7DACF, cid=101, SUCCESS, logIndex=8, commits[s0:c14, s1:c2, s2:c5]
2023-03-07 04:44:17,186 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-A228B8C7A919->s0: receive RaftClientReply:client-A228B8C7A919->s0@group-7D030BC7DACF, cid=109, SUCCESS, logIndex=9, commits[s0:c14, s1:c2, s2:c5]
2023-03-07 04:44:17,186 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-DD913B142668->s0: receive RaftClientReply:client-DD913B142668->s0@group-7D030BC7DACF, cid=113, SUCCESS, logIndex=12, commits[s0:c14, s1:c2, s2:c5]
2023-03-07 04:44:17,186 [grpc-default-executor-8] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-5A383ED59E3D->s0: receive RaftClientReply:client-5A383ED59E3D->s0@group-7D030BC7DACF, cid=105, SUCCESS, logIndex=10, commits[s0:c14, s1:c2, s2:c5]
2023-03-07 04:44:17,187 [grpc-default-executor-11] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-97DD64AD1C55->s0: receive RaftClientReply:client-97DD64AD1C55->s0@group-7D030BC7DACF, cid=111, SUCCESS, logIndex=11, commits[s0:c14, s1:c2, s2:c5]
2023-03-07 04:44:17,187 [grpc-default-executor-0] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-BF9131D0BC41->s0: receive RaftClientReply:client-BF9131D0BC41->s0@group-7D030BC7DACF, cid=107, SUCCESS, logIndex=7, commits[s0:c14, s1:c2, s2:c5]
2023-03-07 04:44:17,199 [s1@group-7D030BC7DACF-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 3, 2nd Messag... -> (t:1, i:3), STATEMACHINELOGENTRY, 95@client-013D188F6399
2023-03-07 04:44:17,199 [s1@group-7D030BC7DACF-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 4, message 0 -> (t:1, i:4), STATEMACHINELOGENTRY, 97@client-36C29B9CF6CD
2023-03-07 04:44:17,199 [s1@group-7D030BC7DACF-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 5, message 1 -> (t:1, i:5), STATEMACHINELOGENTRY, 99@client-CB9FC8ABD1BF
2023-03-07 04:44:17,200 [s1@group-7D030BC7DACF-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 6, message 3 -> (t:1, i:6), STATEMACHINELOGENTRY, 103@client-D9935477E559
2023-03-07 04:44:17,200 [s1@group-7D030BC7DACF-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 7, message 5 -> (t:1, i:7), STATEMACHINELOGENTRY, 107@client-BF9131D0BC41
2023-03-07 04:44:17,200 [s1@group-7D030BC7DACF-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 8, message 2 -> (t:1, i:8), STATEMACHINELOGENTRY, 101@client-E1FEB23EF7B9
2023-03-07 04:44:17,200 [s1@group-7D030BC7DACF-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 9, message 6 -> (t:1, i:9), STATEMACHINELOGENTRY, 109@client-A228B8C7A919
2023-03-07 04:44:17,200 [s1@group-7D030BC7DACF-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 10, message 4 -> (t:1, i:10), STATEMACHINELOGENTRY, 105@client-5A383ED59E3D
2023-03-07 04:44:17,200 [s1@group-7D030BC7DACF-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 11, message 7 -> (t:1, i:11), STATEMACHINELOGENTRY, 111@client-97DD64AD1C55
2023-03-07 04:44:17,200 [s1@group-7D030BC7DACF-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 12, message 8 -> (t:1, i:12), STATEMACHINELOGENTRY, 113@client-DD913B142668
2023-03-07 04:44:17,214 [s2@group-7D030BC7DACF-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 6, message 3 -> (t:1, i:6), STATEMACHINELOGENTRY, 103@client-D9935477E559
2023-03-07 04:44:17,214 [s2@group-7D030BC7DACF-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 7, message 5 -> (t:1, i:7), STATEMACHINELOGENTRY, 107@client-BF9131D0BC41
2023-03-07 04:44:17,214 [s2@group-7D030BC7DACF-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 8, message 2 -> (t:1, i:8), STATEMACHINELOGENTRY, 101@client-E1FEB23EF7B9
2023-03-07 04:44:17,215 [s2@group-7D030BC7DACF-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 9, message 6 -> (t:1, i:9), STATEMACHINELOGENTRY, 109@client-A228B8C7A919
2023-03-07 04:44:17,215 [s2@group-7D030BC7DACF-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 10, message 4 -> (t:1, i:10), STATEMACHINELOGENTRY, 105@client-5A383ED59E3D
2023-03-07 04:44:17,215 [s2@group-7D030BC7DACF-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 11, message 7 -> (t:1, i:11), STATEMACHINELOGENTRY, 111@client-97DD64AD1C55
2023-03-07 04:44:17,215 [s2@group-7D030BC7DACF-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 12, message 8 -> (t:1, i:12), STATEMACHINELOGENTRY, 113@client-DD913B142668
2023-03-07 04:44:22,089 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(143)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-7D030BC7DACF:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-7D030BC7DACF-SegmentedRaftLog:OPENED:c15, conf=0: peers:[s0|rpc:localhost:42535|admin:localhost:35405|client:localhost:39303|dataStream:localhost:42483|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43683|admin:localhost:36249|client:localhost:42541|dataStream:localhost:40463|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36781|admin:localhost:42223|client:localhost:43275|dataStream:localhost:39661|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7D030BC7DACF:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-7D030BC7DACF-SegmentedRaftLog:OPENED:c15, conf=0: peers:[s0|rpc:localhost:42535|admin:localhost:35405|client:localhost:39303|dataStream:localhost:42483|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43683|admin:localhost:36249|client:localhost:42541|dataStream:localhost:40463|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36781|admin:localhost:42223|client:localhost:43275|dataStream:localhost:39661|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7D030BC7DACF:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-7D030BC7DACF-SegmentedRaftLog:OPENED:c15, conf=0: peers:[s0|rpc:localhost:42535|admin:localhost:35405|client:localhost:39303|dataStream:localhost:42483|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43683|admin:localhost:36249|client:localhost:42541|dataStream:localhost:40463|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36781|admin:localhost:42223|client:localhost:43275|dataStream:localhost:39661|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-07 04:44:22,089 [Time-limited test] ERROR impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(144)) - Failed org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
java.util.concurrent.TimeoutException: Timed out waiting for condition.
	at org.apache.ratis.RaftTestUtil.waitFor(RaftTestUtil.java:154)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRequestMetrics(TestRaftServerWithGrpc.java:277)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testRaftServerMetrics(TestRaftServerWithGrpc.java:228)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-07 04:44:22,089 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-03-07 04:44:22,089 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-03-07 04:44:22,089 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2023-03-07 04:44:22,089 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-03-07 04:44:22,089 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-03-07 04:44:22,089 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-7D030BC7DACF:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-7D030BC7DACF-SegmentedRaftLog:OPENED:c15, conf=0: peers:[s0|rpc:localhost:42535|admin:localhost:35405|client:localhost:39303|dataStream:localhost:42483|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43683|admin:localhost:36249|client:localhost:42541|dataStream:localhost:40463|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36781|admin:localhost:42223|client:localhost:43275|dataStream:localhost:39661|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-7D030BC7DACF:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-7D030BC7DACF-SegmentedRaftLog:OPENED:c15, conf=0: peers:[s0|rpc:localhost:42535|admin:localhost:35405|client:localhost:39303|dataStream:localhost:42483|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43683|admin:localhost:36249|client:localhost:42541|dataStream:localhost:40463|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36781|admin:localhost:42223|client:localhost:43275|dataStream:localhost:39661|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-7D030BC7DACF:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-7D030BC7DACF-SegmentedRaftLog:OPENED:c15, conf=0: peers:[s0|rpc:localhost:42535|admin:localhost:35405|client:localhost:39303|dataStream:localhost:42483|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:43683|admin:localhost:36249|client:localhost:42541|dataStream:localhost:40463|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:36781|admin:localhost:42223|client:localhost:43275|dataStream:localhost:39661|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-07 04:44:22,094 [MiniRaftCluster-22] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s1: close
2023-03-07 04:44:22,097 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s1@group-7D030BC7DACF: shutdown
2023-03-07 04:44:22,097 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-7D030BC7DACF,id=s1
2023-03-07 04:44:22,097 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-7D030BC7DACF-FollowerState
2023-03-07 04:44:22,097 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-7D030BC7DACF-StateMachineUpdater: set stopIndex = 15
2023-03-07 04:44:22,097 [s1@group-7D030BC7DACF-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-7D030BC7DACF-FollowerState was interrupted
2023-03-07 04:44:22,097 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s1@group-7D030BC7DACF: applyIndex: 15
2023-03-07 04:44:22,097 [MiniRaftCluster-22] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-03-07 04:44:22,098 [MiniRaftCluster-23] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s2: close
2023-03-07 04:44:22,098 [MiniRaftCluster-21] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s0: close
2023-03-07 04:44:22,099 [MiniRaftCluster-21] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-03-07 04:44:22,099 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s0@group-7D030BC7DACF: shutdown
2023-03-07 04:44:22,099 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-7D030BC7DACF,id=s0
2023-03-07 04:44:22,099 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-7D030BC7DACF-LeaderStateImpl
2023-03-07 04:44:22,099 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-7D030BC7DACF-PendingRequests: sendNotLeaderResponses
2023-03-07 04:44:22,099 [s0@group-7D030BC7DACF->s2-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(190)) - s0@group-7D030BC7DACF->s2-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2023-03-07 04:44:22,099 [s0@group-7D030BC7DACF->s1-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(190)) - s0@group-7D030BC7DACF->s1-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2023-03-07 04:44:22,101 [grpc-default-executor-8] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s1: Completed APPEND_ENTRIES, lastRequest: null
2023-03-07 04:44:22,101 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s2: Completed APPEND_ENTRIES, lastRequest: s0->s2#29203-t1,previous=(t:1, i:14),leaderCommit=14,initializing? true,entries: size=1, first=(t:1, i:15), METADATAENTRY(c:7)
2023-03-07 04:44:22,101 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s1: Completed APPEND_ENTRIES, lastRequest: s0->s1#23475-t1,previous=(t:1, i:14),leaderCommit=14,initializing? true,entries: size=1, first=(t:1, i:15), METADATAENTRY(c:7)
2023-03-07 04:44:22,101 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s2: Completed APPEND_ENTRIES, lastRequest: null
2023-03-07 04:44:22,102 [grpc-default-executor-3] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(417)) - s0@group-7D030BC7DACF->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-03-07 04:44:22,102 [grpc-default-executor-3] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(52)) - s0@group-7D030BC7DACF->s2: decreaseNextIndex nextIndex: updateUnconditionally 16 -> 15
2023-03-07 04:44:22,102 [grpc-default-executor-2] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(417)) - s0@group-7D030BC7DACF->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-03-07 04:44:22,102 [grpc-default-executor-2] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(52)) - s0@group-7D030BC7DACF->s1: decreaseNextIndex nextIndex: updateUnconditionally 16 -> 15
2023-03-07 04:44:22,100 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-7D030BC7DACF-StateMachineUpdater: set stopIndex = 15
2023-03-07 04:44:22,102 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s0@group-7D030BC7DACF: applyIndex: 15
2023-03-07 04:44:22,102 [MiniRaftCluster-23] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-03-07 04:44:22,102 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(417)) - s0@group-7D030BC7DACF->s1-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-03-07 04:44:22,102 [MiniRaftCluster-22] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-03-07 04:44:22,102 [MiniRaftCluster-22] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server GrpcServerProtocolService now
2023-03-07 04:44:22,102 [grpc-default-executor-4] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(52)) - s0@group-7D030BC7DACF->s1: decreaseNextIndex nextIndex: updateUnconditionally 15 -> 14
2023-03-07 04:44:22,102 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s2@group-7D030BC7DACF: shutdown
2023-03-07 04:44:22,102 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-7D030BC7DACF,id=s2
2023-03-07 04:44:22,102 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-7D030BC7DACF-FollowerState
2023-03-07 04:44:22,102 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-7D030BC7DACF-StateMachineUpdater: set stopIndex = 15
2023-03-07 04:44:22,102 [s2@group-7D030BC7DACF-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-7D030BC7DACF-FollowerState was interrupted
2023-03-07 04:44:22,102 [Thread-751] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(102)) - s1 Close channels
2023-03-07 04:44:22,103 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s2@group-7D030BC7DACF: applyIndex: 15
2023-03-07 04:44:22,103 [Thread-752] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(102)) - s2 Close channels
2023-03-07 04:44:22,104 [grpc-default-executor-6] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(417)) - s0@group-7D030BC7DACF->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-03-07 04:44:22,105 [grpc-default-executor-6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(128)) - s0@group-7D030BC7DACF->s2-GrpcLogAppender: Failed to getClient for s2
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s0 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:61)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:115)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:106)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:111)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$500(GrpcLogAppender.java:55)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:418)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:485)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:468)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:432)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:465)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-07 04:44:22,105 [MiniRaftCluster-23] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-03-07 04:44:22,105 [MiniRaftCluster-23] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server GrpcServerProtocolService now
2023-03-07 04:44:22,105 [MiniRaftCluster-21] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-03-07 04:44:22,105 [MiniRaftCluster-21] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server GrpcServerProtocolService now
2023-03-07 04:44:22,110 [MiniRaftCluster-22] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server GrpcServerProtocolService successfully
2023-03-07 04:44:22,111 [MiniRaftCluster-22] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-03-07 04:44:22,111 [MiniRaftCluster-21] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server GrpcServerProtocolService successfully
2023-03-07 04:44:22,111 [MiniRaftCluster-21] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-03-07 04:44:22,112 [MiniRaftCluster-22] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-03-07 04:44:22,112 [MiniRaftCluster-21] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-03-07 04:44:22,113 [MiniRaftCluster-23] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server GrpcServerProtocolService successfully
2023-03-07 04:44:22,113 [MiniRaftCluster-23] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-03-07 04:44:22,113 [MiniRaftCluster-23] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-03-07 04:44:22,191 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s0@group-7D030BC7DACF-SegmentedRaftLogWorker close()
2023-03-07 04:44:22,191 [JvmPauseMonitor20] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2023-03-07 04:44:22,200 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s1@group-7D030BC7DACF-SegmentedRaftLogWorker close()
2023-03-07 04:44:22,201 [JvmPauseMonitor21] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2023-03-07 04:44:22,215 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s2@group-7D030BC7DACF-SegmentedRaftLogWorker close()
2023-03-07 04:44:22,216 [JvmPauseMonitor22] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2023-03-07 04:44:22,216 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2023-03-07 04:44:22,221 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-03-07 04:44:22,222 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-03-07 04:44:22,222 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2023-03-07 04:44:22,222 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2023-03-07 04:44:22,222 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-FDE1A406CC55:[s0|rpc:localhost:44183|admin:localhost:37241|client:localhost:42039|dataStream:localhost:41247|priority:0|startupRole:FOLLOWER]
2023-03-07 04:44:22,222 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-03-07 04:44:22,223 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-03-07 04:44:22,223 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2023-03-07 04:44:22,223 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-03-07 04:44:22,223 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-03-07 04:44:22,223 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-03-07 04:44:22,223 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-FDE1A406CC55:[s0|rpc:localhost:44183|admin:localhost:37241|client:localhost:42039|dataStream:localhost:41247|priority:0|startupRole:FOLLOWER], format? true
2023-03-07 04:44:22,223 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/ac5303ae/MiniRaftClusterWithGrpcbc559a8c/s0
2023-03-07 04:44:22,223 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/ac5303ae/MiniRaftClusterWithGrpcbc559a8c/s0 does not exist.
2023-03-07 04:44:22,223 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/ac5303ae/MiniRaftClusterWithGrpcbc559a8c/s0
2023-03-07 04:44:22,223 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-03-07 04:44:22,223 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:44:22,224 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 37241 (custom)
2023-03-07 04:44:22,224 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:44:22,224 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 42039 (custom)
2023-03-07 04:44:22,224 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-07 04:44:22,224 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 44183 (custom)
2023-03-07 04:44:22,224 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:44:22,224 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:22,224 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:44:22,224 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-07 04:44:22,224 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-03-07 04:44:22,224 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-07 04:44:22,224 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-07 04:44:22,225 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-07 04:44:22,225 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-07 04:44:22,225 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-07 04:44:22,225 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-07 04:44:22,225 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-07 04:44:22,225 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcbc559a8c/s0] (custom)
2023-03-07 04:44:22,226 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-FDE1A406CC55:[s0|rpc:localhost:44183|admin:localhost:37241|client:localhost:42039|dataStream:localhost:41247|priority:0|startupRole:FOLLOWER] returns group-FDE1A406CC55:java.util.concurrent.CompletableFuture@790325ee[Not completed]
2023-03-07 04:44:22,226 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:44:22,226 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-07 04:44:22,226 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-07 04:44:22,226 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-FDE1A406CC55:[s0|rpc:localhost:44183|admin:localhost:37241|client:localhost:42039|dataStream:localhost:41247|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-03-07 04:44:22,226 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-07 04:44:22,226 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-07 04:44:22,226 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-07 04:44:22,226 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-07 04:44:22,226 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-07 04:44:22,226 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-07 04:44:22,226 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-FDE1A406CC55: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:44183|admin:localhost:37241|client:localhost:42039|dataStream:localhost:41247|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-07 04:44:22,226 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-07 04:44:22,226 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-07 04:44:22,226 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-07 04:44:22,226 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-07 04:44:22,226 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-07 04:44:22,227 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-07 04:44:22,227 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-07 04:44:22,227 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-07 04:44:22,227 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-07 04:44:22,227 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-07 04:44:22,227 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-07 04:44:22,227 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-07 04:44:22,227 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcbc559a8c/s0] (custom)
2023-03-07 04:44:22,227 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcbc559a8c/s0/482693e5-2fe8-476f-9434-fde1a406cc55 does not exist. Creating ...
2023-03-07 04:44:22,228 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcbc559a8c/s0/482693e5-2fe8-476f-9434-fde1a406cc55
2023-03-07 04:44:22,229 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcbc559a8c/s0/482693e5-2fe8-476f-9434-fde1a406cc55/in_use.lock acquired by nodename 17652@fv-az443-797
2023-03-07 04:44:22,229 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcbc559a8c/s0/482693e5-2fe8-476f-9434-fde1a406cc55/current
2023-03-07 04:44:22,229 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcbc559a8c/s0/482693e5-2fe8-476f-9434-fde1a406cc55/sm
2023-03-07 04:44:22,230 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcbc559a8c/s0/482693e5-2fe8-476f-9434-fde1a406cc55 has been successfully formatted.
2023-03-07 04:44:22,230 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-03-07 04:44:22,230 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-03-07 04:44:22,230 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-07 04:44:22,231 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-07 04:44:22,231 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:22,231 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-07 04:44:22,231 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-07 04:44:22,231 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:44:22,231 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-07 04:44:22,231 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-07 04:44:22,231 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:22,231 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s0@group-FDE1A406CC55-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcbc559a8c/s0/482693e5-2fe8-476f-9434-fde1a406cc55
2023-03-07 04:44:22,231 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-07 04:44:22,231 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-07 04:44:22,231 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:44:22,231 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-07 04:44:22,231 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-07 04:44:22,231 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-07 04:44:22,231 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-07 04:44:22,231 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-07 04:44:22,231 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-07 04:44:22,231 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:22,232 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-07 04:44:22,232 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-07 04:44:22,232 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-07 04:44:22,232 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-FDE1A406CC55-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-07 04:44:22,232 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-FDE1A406CC55-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-07 04:44:22,235 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s0@group-FDE1A406CC55: start as a follower, conf=-1: peers:[s0|rpc:localhost:44183|admin:localhost:37241|client:localhost:42039|dataStream:localhost:41247|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:22,235 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-FDE1A406CC55: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-07 04:44:22,235 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-FDE1A406CC55-FollowerState
2023-03-07 04:44:22,236 [s0@group-FDE1A406CC55-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:44:22,236 [s0@group-FDE1A406CC55-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:44:22,236 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-FDE1A406CC55,id=s0
2023-03-07 04:44:22,236 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-07 04:44:22,237 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-07 04:44:22,237 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-07 04:44:22,237 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s0: start RPC server
2023-03-07 04:44:22,237 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 42039
2023-03-07 04:44:22,238 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 44183
2023-03-07 04:44:22,238 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 37241
2023-03-07 04:44:22,239 [JvmPauseMonitor23] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2023-03-07 04:44:22,239 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-07 04:44:22,239 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-FDE1A406CC55:t0, leader=null, voted=, raftlog=Memoized:s0@group-FDE1A406CC55-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44183|admin:localhost:37241|client:localhost:42039|dataStream:localhost:41247|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-07 04:44:22,239 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-FDE1A406CC55:t0, leader=null, voted=, raftlog=Memoized:s0@group-FDE1A406CC55-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44183|admin:localhost:37241|client:localhost:42039|dataStream:localhost:41247|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-FDE1A406CC55:t0, leader=null, voted=, raftlog=Memoized:s0@group-FDE1A406CC55-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44183|admin:localhost:37241|client:localhost:42039|dataStream:localhost:41247|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:155)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:151)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-07 04:44:22,487 [s0@group-FDE1A406CC55-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-FDE1A406CC55-FollowerState: change to CANDIDATE, lastRpcElapsedTime:251478575ns, electionTimeout:251ms
2023-03-07 04:44:22,487 [s0@group-FDE1A406CC55-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-FDE1A406CC55-FollowerState
2023-03-07 04:44:22,487 [s0@group-FDE1A406CC55-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-FDE1A406CC55: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-03-07 04:44:22,487 [s0@group-FDE1A406CC55-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-07 04:44:22,488 [s0@group-FDE1A406CC55-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-FDE1A406CC55-LeaderElection18
2023-03-07 04:44:22,489 [s0@group-FDE1A406CC55-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-FDE1A406CC55-LeaderElection18 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:44183|admin:localhost:37241|client:localhost:42039|dataStream:localhost:41247|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:22,489 [s0@group-FDE1A406CC55-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-FDE1A406CC55-LeaderElection18 PRE_VOTE round 0: result PASSED (term=0)
2023-03-07 04:44:22,626 [s0@group-FDE1A406CC55-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-FDE1A406CC55-LeaderElection18 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:44183|admin:localhost:37241|client:localhost:42039|dataStream:localhost:41247|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:22,627 [s0@group-FDE1A406CC55-LeaderElection18] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-FDE1A406CC55-LeaderElection18 ELECTION round 0: result PASSED (term=1)
2023-03-07 04:44:22,627 [s0@group-FDE1A406CC55-LeaderElection18] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-FDE1A406CC55-LeaderElection18
2023-03-07 04:44:22,627 [s0@group-FDE1A406CC55-LeaderElection18] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-FDE1A406CC55: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-03-07 04:44:22,627 [s0@group-FDE1A406CC55-LeaderElection18] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-FDE1A406CC55: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 400ms
2023-03-07 04:44:22,627 [s0@group-FDE1A406CC55-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-03-07 04:44:22,627 [s0@group-FDE1A406CC55-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-07 04:44:22,627 [s0@group-FDE1A406CC55-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2023-03-07 04:44:22,627 [s0@group-FDE1A406CC55-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-03-07 04:44:22,627 [s0@group-FDE1A406CC55-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-03-07 04:44:22,627 [s0@group-FDE1A406CC55-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-03-07 04:44:22,627 [s0@group-FDE1A406CC55-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-07 04:44:22,628 [s0@group-FDE1A406CC55-LeaderElection18] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-03-07 04:44:22,628 [s0@group-FDE1A406CC55-LeaderElection18] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-FDE1A406CC55-LeaderStateImpl
2023-03-07 04:44:22,628 [s0@group-FDE1A406CC55-LeaderElection18] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s0@group-FDE1A406CC55-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-07 04:44:22,636 [s0@group-FDE1A406CC55-LeaderElection18] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-FDE1A406CC55: set configuration 0: peers:[s0|rpc:localhost:44183|admin:localhost:37241|client:localhost:42039|dataStream:localhost:41247|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:22,640 [s0@group-FDE1A406CC55-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s0@group-FDE1A406CC55-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcbc559a8c/s0/482693e5-2fe8-476f-9434-fde1a406cc55/current/log_inprogress_0
2023-03-07 04:44:22,690 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-FDE1A406CC55:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-FDE1A406CC55-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:44183|admin:localhost:37241|client:localhost:42039|dataStream:localhost:41247|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-07 04:44:22,690 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:44:22,690 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 37241 (custom)
2023-03-07 04:44:22,690 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:44:22,690 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 42039 (custom)
2023-03-07 04:44:22,690 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-07 04:44:22,690 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 44183 (custom)
2023-03-07 04:44:22,690 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:44:22,690 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:22,690 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:44:22,690 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-07 04:44:22,691 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-03-07 04:44:22,691 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-07 04:44:22,691 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-07 04:44:22,692 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'appendEntries'
2023-03-07 04:44:22,692 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "appendEntries" throws UnsupportedOperationException
java.lang.UnsupportedOperationException: Blocking appendEntries call is not supported
	at org.apache.ratis.grpc.server.GrpcService.appendEntries(GrpcService.java:355)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.lambda$runTestUnsupportedMethods$1(TestRaftServerWithGrpc.java:159)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:158)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:151)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-07 04:44:22,692 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'installSnapshot'
2023-03-07 04:44:22,692 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "installSnapshot" throws UnsupportedOperationException
java.lang.UnsupportedOperationException: Blocking installSnapshot call is not supported
	at org.apache.ratis.grpc.server.GrpcService.installSnapshot(GrpcService.java:361)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.lambda$runTestUnsupportedMethods$2(TestRaftServerWithGrpc.java:163)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestUnsupportedMethods(TestRaftServerWithGrpc.java:162)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testUnsupportedMethods(TestRaftServerWithGrpc.java:151)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-07 04:44:22,692 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-03-07 04:44:22,692 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-03-07 04:44:22,692 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2023-03-07 04:44:22,692 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-03-07 04:44:22,692 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-03-07 04:44:22,692 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-FDE1A406CC55:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-FDE1A406CC55-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:44183|admin:localhost:37241|client:localhost:42039|dataStream:localhost:41247|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-07 04:44:22,693 [MiniRaftCluster-24] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s0: close
2023-03-07 04:44:22,693 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s0@group-FDE1A406CC55: shutdown
2023-03-07 04:44:22,693 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-FDE1A406CC55,id=s0
2023-03-07 04:44:22,693 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-FDE1A406CC55-LeaderStateImpl
2023-03-07 04:44:22,693 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-FDE1A406CC55-PendingRequests: sendNotLeaderResponses
2023-03-07 04:44:22,694 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-FDE1A406CC55-StateMachineUpdater: set stopIndex = 0
2023-03-07 04:44:22,694 [MiniRaftCluster-24] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-03-07 04:44:22,694 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s0@group-FDE1A406CC55: applyIndex: 0
2023-03-07 04:44:22,694 [MiniRaftCluster-24] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-03-07 04:44:22,694 [MiniRaftCluster-24] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server GrpcServerProtocolService now
2023-03-07 04:44:22,694 [MiniRaftCluster-24] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server GrpcServerProtocolService successfully
2023-03-07 04:44:22,695 [MiniRaftCluster-24] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-03-07 04:44:22,695 [MiniRaftCluster-24] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-03-07 04:44:23,642 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s0@group-FDE1A406CC55-SegmentedRaftLogWorker close()
2023-03-07 04:44:23,643 [JvmPauseMonitor23] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2023-03-07 04:44:23,643 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2023-03-07 04:44:23,644 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-03-07 04:44:23,644 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-03-07 04:44:23,644 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2023-03-07 04:44:23,644 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2023-03-07 04:44:23,645 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-E4DF40C5FC90:[s0|rpc:localhost:44535|admin:localhost:39407|client:localhost:43079|dataStream:localhost:42491|priority:0|startupRole:FOLLOWER]
2023-03-07 04:44:23,645 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-03-07 04:44:23,645 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-03-07 04:44:23,645 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2023-03-07 04:44:23,645 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-03-07 04:44:23,645 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-03-07 04:44:23,645 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-03-07 04:44:23,645 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-E4DF40C5FC90:[s0|rpc:localhost:44535|admin:localhost:39407|client:localhost:43079|dataStream:localhost:42491|priority:0|startupRole:FOLLOWER], format? true
2023-03-07 04:44:23,645 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/ac5303ae/MiniRaftClusterWithGrpcf678bea9/s0
2023-03-07 04:44:23,645 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/ac5303ae/MiniRaftClusterWithGrpcf678bea9/s0 does not exist.
2023-03-07 04:44:23,645 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/ac5303ae/MiniRaftClusterWithGrpcf678bea9/s0
2023-03-07 04:44:23,645 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-03-07 04:44:23,646 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:44:23,646 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 39407 (custom)
2023-03-07 04:44:23,646 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:44:23,646 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 43079 (custom)
2023-03-07 04:44:23,646 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-07 04:44:23,646 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 44535 (custom)
2023-03-07 04:44:23,646 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:44:23,646 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:23,646 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:44:23,646 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-07 04:44:23,646 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-03-07 04:44:23,646 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-07 04:44:23,646 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-07 04:44:23,647 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-07 04:44:23,647 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-07 04:44:23,647 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-07 04:44:23,647 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-07 04:44:23,647 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-07 04:44:23,648 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf678bea9/s0] (custom)
2023-03-07 04:44:23,648 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-E4DF40C5FC90:[s0|rpc:localhost:44535|admin:localhost:39407|client:localhost:43079|dataStream:localhost:42491|priority:0|startupRole:FOLLOWER] returns group-E4DF40C5FC90:java.util.concurrent.CompletableFuture@12b22990[Not completed]
2023-03-07 04:44:23,648 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:44:23,648 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-07 04:44:23,648 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-07 04:44:23,648 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-E4DF40C5FC90:[s0|rpc:localhost:44535|admin:localhost:39407|client:localhost:43079|dataStream:localhost:42491|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-03-07 04:44:23,648 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-07 04:44:23,648 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-07 04:44:23,648 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-07 04:44:23,648 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-07 04:44:23,648 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-07 04:44:23,648 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-07 04:44:23,649 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-E4DF40C5FC90: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:44535|admin:localhost:39407|client:localhost:43079|dataStream:localhost:42491|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-07 04:44:23,649 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-07 04:44:23,649 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-07 04:44:23,649 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-07 04:44:23,649 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-07 04:44:23,649 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-07 04:44:23,649 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-07 04:44:23,650 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-07 04:44:23,650 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-07 04:44:23,650 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-07 04:44:23,650 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-07 04:44:23,650 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-07 04:44:23,650 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-07 04:44:23,650 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf678bea9/s0] (custom)
2023-03-07 04:44:23,650 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf678bea9/s0/1efb66ed-4936-4cd0-8fd1-e4df40c5fc90 does not exist. Creating ...
2023-03-07 04:44:23,650 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf678bea9/s0/1efb66ed-4936-4cd0-8fd1-e4df40c5fc90
2023-03-07 04:44:23,651 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf678bea9/s0/1efb66ed-4936-4cd0-8fd1-e4df40c5fc90/in_use.lock acquired by nodename 17652@fv-az443-797
2023-03-07 04:44:23,652 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf678bea9/s0/1efb66ed-4936-4cd0-8fd1-e4df40c5fc90/current
2023-03-07 04:44:23,652 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf678bea9/s0/1efb66ed-4936-4cd0-8fd1-e4df40c5fc90/sm
2023-03-07 04:44:23,662 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf678bea9/s0/1efb66ed-4936-4cd0-8fd1-e4df40c5fc90 has been successfully formatted.
2023-03-07 04:44:23,662 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-03-07 04:44:23,662 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-03-07 04:44:23,662 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-07 04:44:23,662 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-07 04:44:23,662 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:23,662 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-07 04:44:23,662 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-07 04:44:23,663 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:44:23,663 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-07 04:44:23,663 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-07 04:44:23,663 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:23,663 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s0@group-E4DF40C5FC90-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf678bea9/s0/1efb66ed-4936-4cd0-8fd1-e4df40c5fc90
2023-03-07 04:44:23,663 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-07 04:44:23,663 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-07 04:44:23,663 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:44:23,663 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-07 04:44:23,663 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-07 04:44:23,663 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-07 04:44:23,663 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-07 04:44:23,663 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-07 04:44:23,663 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-07 04:44:23,663 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:23,664 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-07 04:44:23,664 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-07 04:44:23,664 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-07 04:44:23,664 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-E4DF40C5FC90-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-07 04:44:23,664 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-E4DF40C5FC90-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-07 04:44:23,664 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s0@group-E4DF40C5FC90: start as a follower, conf=-1: peers:[s0|rpc:localhost:44535|admin:localhost:39407|client:localhost:43079|dataStream:localhost:42491|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:23,664 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-E4DF40C5FC90: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-07 04:44:23,664 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-E4DF40C5FC90-FollowerState
2023-03-07 04:44:23,665 [s0@group-E4DF40C5FC90-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:44:23,665 [s0@group-E4DF40C5FC90-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:44:23,665 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-E4DF40C5FC90,id=s0
2023-03-07 04:44:23,665 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-07 04:44:23,665 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-07 04:44:23,665 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-07 04:44:23,665 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s0: start RPC server
2023-03-07 04:44:23,666 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 43079
2023-03-07 04:44:23,666 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 44535
2023-03-07 04:44:23,666 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 39407
2023-03-07 04:44:23,666 [JvmPauseMonitor24] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2023-03-07 04:44:23,667 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-07 04:44:23,667 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E4DF40C5FC90:t0, leader=null, voted=, raftlog=Memoized:s0@group-E4DF40C5FC90-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44535|admin:localhost:39407|client:localhost:43079|dataStream:localhost:42491|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-07 04:44:23,667 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E4DF40C5FC90:t0, leader=null, voted=, raftlog=Memoized:s0@group-E4DF40C5FC90-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44535|admin:localhost:39407|client:localhost:43079|dataStream:localhost:42491|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-E4DF40C5FC90:t0, leader=null, voted=, raftlog=Memoized:s0@group-E4DF40C5FC90-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44535|admin:localhost:39407|client:localhost:43079|dataStream:localhost:42491|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestServerRestartOnException(TestRaftServerWithGrpc.java:121)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testServerRestartOnException(TestRaftServerWithGrpc.java:104)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-07 04:44:23,885 [s0@group-E4DF40C5FC90-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-E4DF40C5FC90-FollowerState: change to CANDIDATE, lastRpcElapsedTime:220434910ns, electionTimeout:220ms
2023-03-07 04:44:23,885 [s0@group-E4DF40C5FC90-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-E4DF40C5FC90-FollowerState
2023-03-07 04:44:23,885 [s0@group-E4DF40C5FC90-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-E4DF40C5FC90: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-03-07 04:44:23,885 [s0@group-E4DF40C5FC90-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-07 04:44:23,885 [s0@group-E4DF40C5FC90-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-E4DF40C5FC90-LeaderElection19
2023-03-07 04:44:23,889 [s0@group-E4DF40C5FC90-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-E4DF40C5FC90-LeaderElection19 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:44535|admin:localhost:39407|client:localhost:43079|dataStream:localhost:42491|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:23,889 [s0@group-E4DF40C5FC90-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-E4DF40C5FC90-LeaderElection19 PRE_VOTE round 0: result PASSED (term=0)
2023-03-07 04:44:23,891 [s0@group-E4DF40C5FC90-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-E4DF40C5FC90-LeaderElection19 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:44535|admin:localhost:39407|client:localhost:43079|dataStream:localhost:42491|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:23,891 [s0@group-E4DF40C5FC90-LeaderElection19] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-E4DF40C5FC90-LeaderElection19 ELECTION round 0: result PASSED (term=1)
2023-03-07 04:44:23,891 [s0@group-E4DF40C5FC90-LeaderElection19] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-E4DF40C5FC90-LeaderElection19
2023-03-07 04:44:23,891 [s0@group-E4DF40C5FC90-LeaderElection19] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-E4DF40C5FC90: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-03-07 04:44:23,891 [s0@group-E4DF40C5FC90-LeaderElection19] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-E4DF40C5FC90: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 242ms
2023-03-07 04:44:23,891 [s0@group-E4DF40C5FC90-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-03-07 04:44:23,891 [s0@group-E4DF40C5FC90-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-07 04:44:23,891 [s0@group-E4DF40C5FC90-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2023-03-07 04:44:23,891 [s0@group-E4DF40C5FC90-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-03-07 04:44:23,891 [s0@group-E4DF40C5FC90-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-03-07 04:44:23,891 [s0@group-E4DF40C5FC90-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-03-07 04:44:23,891 [s0@group-E4DF40C5FC90-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-07 04:44:23,891 [s0@group-E4DF40C5FC90-LeaderElection19] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-03-07 04:44:23,891 [s0@group-E4DF40C5FC90-LeaderElection19] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-E4DF40C5FC90-LeaderStateImpl
2023-03-07 04:44:23,892 [s0@group-E4DF40C5FC90-LeaderElection19] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s0@group-E4DF40C5FC90-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-07 04:44:23,892 [s0@group-E4DF40C5FC90-LeaderElection19] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-E4DF40C5FC90: set configuration 0: peers:[s0|rpc:localhost:44535|admin:localhost:39407|client:localhost:43079|dataStream:localhost:42491|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:23,905 [s0@group-E4DF40C5FC90-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s0@group-E4DF40C5FC90-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf678bea9/s0/1efb66ed-4936-4cd0-8fd1-e4df40c5fc90/current/log_inprogress_0
2023-03-07 04:44:24,117 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-E4DF40C5FC90:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-E4DF40C5FC90-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:44535|admin:localhost:39407|client:localhost:43079|dataStream:localhost:42491|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-07 04:44:24,118 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-03-07 04:44:24,118 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:44:24,118 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 39407 (custom)
2023-03-07 04:44:24,118 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:44:24,118 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 43079 (custom)
2023-03-07 04:44:24,118 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-07 04:44:24,118 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 44535 (custom)
2023-03-07 04:44:24,118 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:44:24,118 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:24,118 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:44:24,118 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-07 04:44:24,118 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-03-07 04:44:24,119 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-07 04:44:24,119 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-07 04:44:24,120 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-07 04:44:24,120 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-07 04:44:24,120 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-07 04:44:24,120 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-07 04:44:24,120 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-07 04:44:24,120 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf678bea9/s0] (custom)
2023-03-07 04:44:24,120 [s0-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(259)) - s0: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf678bea9/s0/1efb66ed-4936-4cd0-8fd1-e4df40c5fc90
2023-03-07 04:44:24,121 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-E4DF40C5FC90:[s0|rpc:localhost:44535|admin:localhost:39407|client:localhost:43079|dataStream:localhost:42491|priority:0|startupRole:FOLLOWER] returns group-E4DF40C5FC90:java.util.concurrent.CompletableFuture@65d0fe50[Not completed]
2023-03-07 04:44:24,121 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-03-07 04:44:24,121 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-E4DF40C5FC90:[s0|rpc:localhost:44535|admin:localhost:39407|client:localhost:43079|dataStream:localhost:42491|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:s0:group-E4DF40C5FC90
2023-03-07 04:44:24,121 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-07 04:44:24,121 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-07 04:44:24,121 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-07 04:44:24,121 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-07 04:44:24,121 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-07 04:44:24,121 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-07 04:44:24,122 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-E4DF40C5FC90: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:44535|admin:localhost:39407|client:localhost:43079|dataStream:localhost:42491|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-07 04:44:24,122 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-07 04:44:24,122 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-07 04:44:24,122 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-07 04:44:24,122 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-07 04:44:24,122 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-07 04:44:24,122 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-07 04:44:24,122 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-07 04:44:24,122 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-07 04:44:24,122 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-07 04:44:24,122 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-07 04:44:24,122 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-03-07 04:44:24,122 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server GrpcServerProtocolService now
2023-03-07 04:44:24,124 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server GrpcServerProtocolService successfully
2023-03-07 04:44:24,124 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-03-07 04:44:24,124 [Time-limited test] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-03-07 04:44:24,125 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'Starting a new server with the same address should fail'
2023-03-07 04:44:24,125 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-03-07 04:44:24,125 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:44:24,125 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 39407 (custom)
2023-03-07 04:44:24,125 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:44:24,125 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 43079 (custom)
2023-03-07 04:44:24,125 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-07 04:44:24,125 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 44535 (custom)
2023-03-07 04:44:24,125 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:44:24,125 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:24,125 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:44:24,125 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-07 04:44:24,125 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-03-07 04:44:24,125 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-07 04:44:24,125 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-07 04:44:24,126 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-07 04:44:24,126 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-07 04:44:24,126 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-07 04:44:24,126 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-07 04:44:24,126 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-07 04:44:24,126 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf678bea9/s0] (custom)
2023-03-07 04:44:24,127 [s0-impl-thread1] INFO  server.RaftServer (RaftServerProxy.java:initGroupDir(259)) - s0: found a subdirectory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf678bea9/s0/1efb66ed-4936-4cd0-8fd1-e4df40c5fc90
2023-03-07 04:44:24,128 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-E4DF40C5FC90:[s0|rpc:localhost:44535|admin:localhost:39407|client:localhost:43079|dataStream:localhost:42491|priority:0|startupRole:FOLLOWER] returns group-E4DF40C5FC90:java.util.concurrent.CompletableFuture@1c14bb62[Not completed]
2023-03-07 04:44:24,128 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-E4DF40C5FC90:[s0|rpc:localhost:44535|admin:localhost:39407|client:localhost:43079|dataStream:localhost:42491|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:s0:group-E4DF40C5FC90
2023-03-07 04:44:24,129 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-07 04:44:24,129 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-07 04:44:24,129 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-07 04:44:24,129 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-07 04:44:24,129 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-07 04:44:24,129 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-07 04:44:24,129 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-E4DF40C5FC90: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:44535|admin:localhost:39407|client:localhost:43079|dataStream:localhost:42491|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-07 04:44:24,129 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-07 04:44:24,129 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-07 04:44:24,129 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-07 04:44:24,129 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-07 04:44:24,129 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-07 04:44:24,130 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-07 04:44:24,130 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-07 04:44:24,130 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-07 04:44:24,130 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-07 04:44:24,130 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-07 04:44:24,130 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-07 04:44:24,130 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-07 04:44:24,130 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf678bea9/s0] (custom)
2023-03-07 04:44:24,130 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf678bea9/s0/1efb66ed-4936-4cd0-8fd1-e4df40c5fc90
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:338)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:188)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:180)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-07 04:44:24,131 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf678bea9/s0/1efb66ed-4936-4cd0-8fd1-e4df40c5fc90/in_use.lock", attempt #1/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf678bea9/s0/1efb66ed-4936-4cd0-8fd1-e4df40c5fc90. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf678bea9/s0/1efb66ed-4936-4cd0-8fd1-e4df40c5fc90. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:338)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:188)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:180)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2023-03-07 04:44:25,131 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf678bea9/s0/1efb66ed-4936-4cd0-8fd1-e4df40c5fc90
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:338)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:188)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:180)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-07 04:44:25,132 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf678bea9/s0/1efb66ed-4936-4cd0-8fd1-e4df40c5fc90/in_use.lock", attempt #2/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf678bea9/s0/1efb66ed-4936-4cd0-8fd1-e4df40c5fc90. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf678bea9/s0/1efb66ed-4936-4cd0-8fd1-e4df40c5fc90. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:338)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:188)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:180)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2023-03-07 04:44:26,132 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf678bea9/s0/1efb66ed-4936-4cd0-8fd1-e4df40c5fc90
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:338)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:188)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:180)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-07 04:44:26,132 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf678bea9/s0/1efb66ed-4936-4cd0-8fd1-e4df40c5fc90/in_use.lock", attempt #3/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf678bea9/s0/1efb66ed-4936-4cd0-8fd1-e4df40c5fc90. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf678bea9/s0/1efb66ed-4936-4cd0-8fd1-e4df40c5fc90. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:338)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:188)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:180)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2023-03-07 04:44:27,133 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf678bea9/s0/1efb66ed-4936-4cd0-8fd1-e4df40c5fc90
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:338)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:188)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:180)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-07 04:44:27,133 [s0-impl-thread1] WARN  util.FileUtils (JavaUtils.java:attempt(217)) - FAILED "tryLock /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf678bea9/s0/1efb66ed-4936-4cd0-8fd1-e4df40c5fc90/in_use.lock", attempt #4/5: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf678bea9/s0/1efb66ed-4936-4cd0-8fd1-e4df40c5fc90. The directory is already locked, sleep 1s and then retry.
java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf678bea9/s0/1efb66ed-4936-4cd0-8fd1-e4df40c5fc90. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:338)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:188)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:180)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2023-03-07 04:44:28,134 [s0-impl-thread1] ERROR storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(235)) - It appears that another process has already locked the storage directory: /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf678bea9/s0/1efb66ed-4936-4cd0-8fd1-e4df40c5fc90
java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:338)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:188)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:180)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-07 04:44:28,134 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "Starting a new server with the same address should fail" throws CompletionException
java.util.concurrent.CompletionException: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf678bea9/s0/1efb66ed-4936-4cd0-8fd1-e4df40c5fc90. The directory is already locked
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:331)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:346)
	at java.base/java.util.concurrent.CompletableFuture$BiRelay.tryFire(CompletableFuture.java:1423)
	at java.base/java.util.concurrent.CompletableFuture$CoCompletion.tryFire(CompletableFuture.java:1144)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2088)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:191)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:180)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: Failed to lock storage /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf678bea9/s0/1efb66ed-4936-4cd0-8fd1-e4df40c5fc90. The directory is already locked
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:238)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lambda$lock$0(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.FileUtils.attempt(FileUtils.java:40)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.lock(RaftStorageDirectoryImpl.java:197)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.analyzeStorage(RaftStorageDirectoryImpl.java:156)
	at org.apache.ratis.server.storage.RaftStorageImpl.analyzeAndRecoverStorage(RaftStorageImpl.java:104)
	at org.apache.ratis.server.storage.RaftStorageImpl.initialize(RaftStorageImpl.java:63)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.recover(StorageImplUtils.java:167)
	at org.apache.ratis.server.storage.StorageImplUtils$Op.run(StorageImplUtils.java:127)
	at org.apache.ratis.server.storage.StorageImplUtils.initRaftStorage(StorageImplUtils.java:98)
	at org.apache.ratis.server.impl.ServerState.lambda$new$2(ServerState.java:117)
	at org.apache.ratis.util.MemoizedCheckedSupplier.get(MemoizedCheckedSupplier.java:66)
	at org.apache.ratis.server.impl.ServerState.initialize(ServerState.java:139)
	at org.apache.ratis.server.impl.RaftServerImpl.start(RaftServerImpl.java:338)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:188)
	... 4 more
Caused by: java.nio.channels.OverlappingFileLockException
	at java.base/sun.nio.ch.FileLockTable.checkList(FileLockTable.java:229)
	at java.base/sun.nio.ch.FileLockTable.add(FileLockTable.java:123)
	at java.base/sun.nio.ch.FileChannelImpl.tryLock(FileChannelImpl.java:1154)
	at java.base/java.nio.channels.FileChannel.tryLock(FileChannel.java:1165)
	at org.apache.ratis.server.storage.RaftStorageDirectoryImpl.tryLock(RaftStorageDirectoryImpl.java:226)
	... 19 more
2023-03-07 04:44:28,135 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:44:28,135 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 39407 (custom)
2023-03-07 04:44:28,135 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:44:28,135 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 43079 (custom)
2023-03-07 04:44:28,135 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-07 04:44:28,135 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 44535 (custom)
2023-03-07 04:44:28,135 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:44:28,135 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:28,135 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:44:28,135 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-07 04:44:28,135 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-03-07 04:44:28,135 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-07 04:44:28,135 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-07 04:44:28,136 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-03-07 04:44:28,137 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-03-07 04:44:28,137 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2023-03-07 04:44:28,137 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-03-07 04:44:28,137 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-03-07 04:44:28,137 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-E4DF40C5FC90:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-E4DF40C5FC90-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:44535|admin:localhost:39407|client:localhost:43079|dataStream:localhost:42491|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-07 04:44:28,137 [MiniRaftCluster-25] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s0: close
2023-03-07 04:44:28,141 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s0@group-E4DF40C5FC90: shutdown
2023-03-07 04:44:28,141 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-E4DF40C5FC90,id=s0
2023-03-07 04:44:28,141 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-E4DF40C5FC90-LeaderStateImpl
2023-03-07 04:44:28,141 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-E4DF40C5FC90-PendingRequests: sendNotLeaderResponses
2023-03-07 04:44:28,141 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-E4DF40C5FC90-StateMachineUpdater: set stopIndex = 0
2023-03-07 04:44:28,141 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s0@group-E4DF40C5FC90: applyIndex: 0
2023-03-07 04:44:28,907 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s0@group-E4DF40C5FC90-SegmentedRaftLogWorker close()
2023-03-07 04:44:28,908 [JvmPauseMonitor24] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2023-03-07 04:44:28,908 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
2023-03-07 04:44:28,908 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-03-07 04:44:28,909 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-03-07 04:44:28,909 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.grpc.client.GrpcClientProtocolClient log level to TRACE
2023-03-07 04:44:28,909 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2023-03-07 04:44:28,910 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithGrpc with group-EC7D0AA39E29:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]
2023-03-07 04:44:28,910 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-03-07 04:44:28,910 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-03-07 04:44:28,910 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithGrpc
2023-03-07 04:44:28,910 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-03-07 04:44:28,910 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-03-07 04:44:28,910 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-03-07 04:44:28,910 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-EC7D0AA39E29:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER], format? true
2023-03-07 04:44:28,910 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/ac5303ae/MiniRaftClusterWithGrpcf8268541/s0
2023-03-07 04:44:28,910 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/ac5303ae/MiniRaftClusterWithGrpcf8268541/s0 does not exist.
2023-03-07 04:44:28,910 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/ac5303ae/MiniRaftClusterWithGrpcf8268541/s0
2023-03-07 04:44:28,911 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-03-07 04:44:28,911 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:44:28,911 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 46309 (custom)
2023-03-07 04:44:28,911 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:44:28,911 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 42361 (custom)
2023-03-07 04:44:28,911 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-07 04:44:28,911 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 40783 (custom)
2023-03-07 04:44:28,911 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:44:28,911 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:28,911 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:44:28,911 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-07 04:44:28,911 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-03-07 04:44:28,911 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-07 04:44:28,911 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-07 04:44:28,912 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-07 04:44:28,912 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-07 04:44:28,912 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-07 04:44:28,913 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-07 04:44:28,913 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-07 04:44:28,913 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf8268541/s0] (custom)
2023-03-07 04:44:28,913 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-EC7D0AA39E29:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER] returns group-EC7D0AA39E29:java.util.concurrent.CompletableFuture@3553843e[Not completed]
2023-03-07 04:44:28,913 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-EC7D0AA39E29:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER], format? true
2023-03-07 04:44:28,913 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/ac5303ae/MiniRaftClusterWithGrpcf8268541/s1
2023-03-07 04:44:28,913 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/ac5303ae/MiniRaftClusterWithGrpcf8268541/s1 does not exist.
2023-03-07 04:44:28,913 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/ac5303ae/MiniRaftClusterWithGrpcf8268541/s1
2023-03-07 04:44:28,914 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-03-07 04:44:28,914 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:44:28,914 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 44201 (custom)
2023-03-07 04:44:28,914 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:44:28,914 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 44699 (custom)
2023-03-07 04:44:28,914 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-07 04:44:28,914 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 41807 (custom)
2023-03-07 04:44:28,914 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:44:28,914 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:28,914 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:44:28,914 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-07 04:44:28,914 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-03-07 04:44:28,914 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-07 04:44:28,914 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-07 04:44:28,915 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-07 04:44:28,915 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-07 04:44:28,915 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-07 04:44:28,915 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-07 04:44:28,915 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-07 04:44:28,915 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf8268541/s1] (custom)
2023-03-07 04:44:28,915 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:44:28,915 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-07 04:44:28,915 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-07 04:44:28,916 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-EC7D0AA39E29:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-03-07 04:44:28,916 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-07 04:44:28,916 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-07 04:44:28,916 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-07 04:44:28,916 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-07 04:44:28,916 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-07 04:44:28,916 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-07 04:44:28,916 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-EC7D0AA39E29: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-07 04:44:28,916 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-07 04:44:28,916 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-07 04:44:28,916 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-07 04:44:28,916 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-07 04:44:28,916 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-07 04:44:28,917 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-07 04:44:28,917 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-07 04:44:28,917 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-07 04:44:28,917 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-07 04:44:28,917 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-07 04:44:28,920 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-EC7D0AA39E29:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER] returns group-EC7D0AA39E29:java.util.concurrent.CompletableFuture@416b5ab2[Not completed]
2023-03-07 04:44:28,920 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-EC7D0AA39E29:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER], format? true
2023-03-07 04:44:28,920 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/ac5303ae/MiniRaftClusterWithGrpcf8268541/s2
2023-03-07 04:44:28,921 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/ac5303ae/MiniRaftClusterWithGrpcf8268541/s2 does not exist.
2023-03-07 04:44:28,921 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/ac5303ae/MiniRaftClusterWithGrpcf8268541/s2
2023-03-07 04:44:28,921 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = GRPC (default)
2023-03-07 04:44:28,921 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.admin.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:44:28,921 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.admin.port = 36889 (custom)
2023-03-07 04:44:28,921 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logFallback(53)) - raft.grpc.client.host = null (fallback to raft.grpc.server.host)
2023-03-07 04:44:28,921 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.client.port = 36799 (custom)
2023-03-07 04:44:28,921 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.host = null (default)
2023-03-07 04:44:28,921 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.port = 34549 (custom)
2023-03-07 04:44:28,921 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:44:28,921 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:28,921 [Time-limited test] INFO  server.GrpcService (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:44:28,921 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-07 04:44:28,921 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-03-07 04:44:28,921 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.cached = true (default)
2023-03-07 04:44:28,921 [Time-limited test] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.async.request.thread.pool.size = 32 (default)
2023-03-07 04:44:28,922 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-07 04:44:28,922 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-07 04:44:28,922 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-07 04:44:28,922 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-07 04:44:28,922 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-07 04:44:28,922 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf8268541/s2] (custom)
2023-03-07 04:44:28,923 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:44:28,924 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-EC7D0AA39E29:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER] returns group-EC7D0AA39E29:java.util.concurrent.CompletableFuture@2edf48f[Not completed]
2023-03-07 04:44:28,924 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:44:28,924 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-07 04:44:28,924 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-07 04:44:28,924 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-07 04:44:28,924 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-07 04:44:28,924 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf8268541/s0] (custom)
2023-03-07 04:44:28,924 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-07 04:44:28,924 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-EC7D0AA39E29:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-03-07 04:44:28,924 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-07 04:44:28,924 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf8268541/s0/d17d6eeb-c366-4c14-b662-ec7d0aa39e29 does not exist. Creating ...
2023-03-07 04:44:28,924 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-07 04:44:28,925 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-07 04:44:28,925 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-07 04:44:28,925 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-EC7D0AA39E29:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER] with SimpleStateMachine4Testing:uninitialized
2023-03-07 04:44:28,925 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf8268541/s0/d17d6eeb-c366-4c14-b662-ec7d0aa39e29
2023-03-07 04:44:28,925 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-07 04:44:28,925 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-07 04:44:28,925 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-07 04:44:28,925 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-07 04:44:28,925 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-EC7D0AA39E29: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-07 04:44:28,925 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-07 04:44:28,925 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-07 04:44:28,925 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-07 04:44:28,925 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-07 04:44:28,925 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-07 04:44:28,925 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-EC7D0AA39E29: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-07 04:44:28,925 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-07 04:44:28,925 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-07 04:44:28,926 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-07 04:44:28,926 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-07 04:44:28,926 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-07 04:44:28,926 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-07 04:44:28,926 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-07 04:44:28,926 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-07 04:44:28,926 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-07 04:44:28,926 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-07 04:44:28,925 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-07 04:44:28,926 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-07 04:44:28,926 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-07 04:44:28,926 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-07 04:44:28,927 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-07 04:44:28,927 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-07 04:44:28,927 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-07 04:44:28,927 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-07 04:44:28,927 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-07 04:44:28,927 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-07 04:44:28,943 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf8268541/s0/d17d6eeb-c366-4c14-b662-ec7d0aa39e29/in_use.lock acquired by nodename 17652@fv-az443-797
2023-03-07 04:44:28,943 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf8268541/s0/d17d6eeb-c366-4c14-b662-ec7d0aa39e29/current
2023-03-07 04:44:28,943 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf8268541/s0/d17d6eeb-c366-4c14-b662-ec7d0aa39e29/sm
2023-03-07 04:44:28,950 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf8268541/s0/d17d6eeb-c366-4c14-b662-ec7d0aa39e29 has been successfully formatted.
2023-03-07 04:44:28,951 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-03-07 04:44:28,951 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-03-07 04:44:28,951 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-07 04:44:28,951 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-07 04:44:28,951 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:28,951 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-07 04:44:28,951 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-07 04:44:28,951 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:44:28,951 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-07 04:44:28,951 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-07 04:44:28,951 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:28,951 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s0@group-EC7D0AA39E29-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf8268541/s0/d17d6eeb-c366-4c14-b662-ec7d0aa39e29
2023-03-07 04:44:28,951 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-07 04:44:28,951 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-07 04:44:28,952 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:44:28,952 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-07 04:44:28,952 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-07 04:44:28,952 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-07 04:44:28,952 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-07 04:44:28,952 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-07 04:44:28,952 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-07 04:44:28,952 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:28,952 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-07 04:44:28,952 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-07 04:44:28,952 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-07 04:44:28,953 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-EC7D0AA39E29-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-07 04:44:28,953 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-EC7D0AA39E29-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-07 04:44:28,953 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s0@group-EC7D0AA39E29: start as a follower, conf=-1: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:28,953 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-EC7D0AA39E29: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-07 04:44:28,953 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-EC7D0AA39E29-FollowerState
2023-03-07 04:44:28,953 [s0@group-EC7D0AA39E29-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:44:28,953 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-EC7D0AA39E29,id=s0
2023-03-07 04:44:28,953 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-07 04:44:28,954 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-07 04:44:28,954 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-07 04:44:28,953 [s0@group-EC7D0AA39E29-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:44:28,954 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s0: start RPC server
2023-03-07 04:44:28,955 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 42361
2023-03-07 04:44:28,955 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 40783
2023-03-07 04:44:28,955 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s0: GrpcService started, listening on 46309
2023-03-07 04:44:28,956 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-07 04:44:28,956 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-07 04:44:28,956 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf8268541/s1] (custom)
2023-03-07 04:44:28,956 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf8268541/s1/d17d6eeb-c366-4c14-b662-ec7d0aa39e29 does not exist. Creating ...
2023-03-07 04:44:28,956 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf8268541/s1/d17d6eeb-c366-4c14-b662-ec7d0aa39e29
2023-03-07 04:44:28,957 [JvmPauseMonitor25] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2023-03-07 04:44:28,977 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf8268541/s1/d17d6eeb-c366-4c14-b662-ec7d0aa39e29/in_use.lock acquired by nodename 17652@fv-az443-797
2023-03-07 04:44:28,977 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf8268541/s1/d17d6eeb-c366-4c14-b662-ec7d0aa39e29/current
2023-03-07 04:44:28,978 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf8268541/s1/d17d6eeb-c366-4c14-b662-ec7d0aa39e29/sm
2023-03-07 04:44:28,979 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf8268541/s1/d17d6eeb-c366-4c14-b662-ec7d0aa39e29 has been successfully formatted.
2023-03-07 04:44:28,979 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-03-07 04:44:28,979 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-03-07 04:44:28,979 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-07 04:44:28,979 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-07 04:44:28,979 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:28,979 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-07 04:44:28,979 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-07 04:44:28,979 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:44:28,980 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-07 04:44:28,980 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-07 04:44:28,980 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:28,980 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s1@group-EC7D0AA39E29-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf8268541/s1/d17d6eeb-c366-4c14-b662-ec7d0aa39e29
2023-03-07 04:44:28,980 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-07 04:44:28,980 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-07 04:44:28,980 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:44:28,980 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-07 04:44:28,980 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-07 04:44:28,980 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-07 04:44:28,980 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-07 04:44:28,980 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-07 04:44:28,980 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-07 04:44:28,980 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:28,981 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-07 04:44:28,981 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-07 04:44:28,981 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-07 04:44:28,981 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-EC7D0AA39E29-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-07 04:44:28,981 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-EC7D0AA39E29-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-07 04:44:28,982 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s1@group-EC7D0AA39E29: start as a follower, conf=-1: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:28,982 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-EC7D0AA39E29: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-07 04:44:28,982 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-EC7D0AA39E29-FollowerState
2023-03-07 04:44:28,982 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-EC7D0AA39E29,id=s1
2023-03-07 04:44:28,982 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-07 04:44:28,982 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-07 04:44:28,982 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-07 04:44:28,983 [s1@group-EC7D0AA39E29-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:44:28,983 [s1@group-EC7D0AA39E29-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:44:28,983 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s1: start RPC server
2023-03-07 04:44:28,983 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 44699
2023-03-07 04:44:28,983 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 41807
2023-03-07 04:44:28,984 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s1: GrpcService started, listening on 44201
2023-03-07 04:44:28,984 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-07 04:44:28,984 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-07 04:44:28,985 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf8268541/s2] (custom)
2023-03-07 04:44:28,985 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf8268541/s2/d17d6eeb-c366-4c14-b662-ec7d0aa39e29 does not exist. Creating ...
2023-03-07 04:44:28,985 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf8268541/s2/d17d6eeb-c366-4c14-b662-ec7d0aa39e29
2023-03-07 04:44:28,986 [JvmPauseMonitor26] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2023-03-07 04:44:28,986 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf8268541/s2/d17d6eeb-c366-4c14-b662-ec7d0aa39e29/in_use.lock acquired by nodename 17652@fv-az443-797
2023-03-07 04:44:28,986 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf8268541/s2/d17d6eeb-c366-4c14-b662-ec7d0aa39e29/current
2023-03-07 04:44:28,986 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf8268541/s2/d17d6eeb-c366-4c14-b662-ec7d0aa39e29/sm
2023-03-07 04:44:28,987 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf8268541/s2/d17d6eeb-c366-4c14-b662-ec7d0aa39e29 has been successfully formatted.
2023-03-07 04:44:28,987 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing SimpleStateMachine4Testing:uninitialized
2023-03-07 04:44:28,987 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-03-07 04:44:28,987 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-07 04:44:28,987 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-07 04:44:28,987 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:28,987 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-07 04:44:28,987 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-07 04:44:28,988 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:44:28,988 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-07 04:44:28,988 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-07 04:44:28,988 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:28,988 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s2@group-EC7D0AA39E29-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf8268541/s2/d17d6eeb-c366-4c14-b662-ec7d0aa39e29
2023-03-07 04:44:28,988 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-07 04:44:28,988 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-07 04:44:28,988 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-07 04:44:28,988 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-07 04:44:28,988 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-07 04:44:28,988 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-07 04:44:28,988 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-07 04:44:28,988 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-07 04:44:28,988 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-07 04:44:28,988 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:28,989 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-07 04:44:28,989 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-07 04:44:28,989 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-07 04:44:28,989 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-EC7D0AA39E29-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-07 04:44:28,989 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-EC7D0AA39E29-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-07 04:44:28,989 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s2@group-EC7D0AA39E29: start as a follower, conf=-1: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:28,989 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-EC7D0AA39E29: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-07 04:44:28,989 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-EC7D0AA39E29-FollowerState
2023-03-07 04:44:28,990 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-EC7D0AA39E29,id=s2
2023-03-07 04:44:28,990 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-07 04:44:28,990 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-07 04:44:28,990 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-07 04:44:28,990 [s2@group-EC7D0AA39E29-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:44:28,990 [s2@group-EC7D0AA39E29-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:44:28,990 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s2: start RPC server
2023-03-07 04:44:28,990 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 36799
2023-03-07 04:44:28,991 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 34549
2023-03-07 04:44:28,991 [Time-limited test] INFO  server.GrpcService (GrpcService.java:startImpl(302)) - s2: GrpcService started, listening on 36889
2023-03-07 04:44:28,991 [JvmPauseMonitor27] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2023-03-07 04:44:28,995 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-07 04:44:28,995 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-EC7D0AA39E29:t0, leader=null, voted=, raftlog=Memoized:s0@group-EC7D0AA39E29-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-EC7D0AA39E29:t0, leader=null, voted=, raftlog=Memoized:s1@group-EC7D0AA39E29-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-EC7D0AA39E29:t0, leader=null, voted=, raftlog=Memoized:s2@group-EC7D0AA39E29-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-07 04:44:28,995 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-EC7D0AA39E29:t0, leader=null, voted=, raftlog=Memoized:s0@group-EC7D0AA39E29-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-EC7D0AA39E29:t0, leader=null, voted=, raftlog=Memoized:s1@group-EC7D0AA39E29-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-EC7D0AA39E29:t0, leader=null, voted=, raftlog=Memoized:s2@group-EC7D0AA39E29-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-EC7D0AA39E29:t0, leader=null, voted=, raftlog=Memoized:s0@group-EC7D0AA39E29-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-EC7D0AA39E29:t0, leader=null, voted=, raftlog=Memoized:s1@group-EC7D0AA39E29-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-EC7D0AA39E29:t0, leader=null, voted=, raftlog=Memoized:s2@group-EC7D0AA39E29-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:173)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-07 04:44:29,148 [s1@group-EC7D0AA39E29-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-EC7D0AA39E29-FollowerState: change to CANDIDATE, lastRpcElapsedTime:165981631ns, electionTimeout:165ms
2023-03-07 04:44:29,148 [s1@group-EC7D0AA39E29-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-EC7D0AA39E29-FollowerState
2023-03-07 04:44:29,148 [s1@group-EC7D0AA39E29-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-EC7D0AA39E29: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-03-07 04:44:29,148 [s1@group-EC7D0AA39E29-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-07 04:44:29,149 [s1@group-EC7D0AA39E29-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-EC7D0AA39E29-LeaderElection20
2023-03-07 04:44:29,149 [s1@group-EC7D0AA39E29-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-EC7D0AA39E29-LeaderElection20 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:29,150 [s1@group-EC7D0AA39E29-LeaderElection20-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(64)) - Build channel for s0
2023-03-07 04:44:29,151 [s1@group-EC7D0AA39E29-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:44:29,151 [s1@group-EC7D0AA39E29-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:44:29,151 [s1@group-EC7D0AA39E29-LeaderElection20-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(64)) - Build channel for s2
2023-03-07 04:44:29,154 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s0@group-EC7D0AA39E29: receive requestVote(PRE_VOTE, s1, group-EC7D0AA39E29, 0, (t:0, i:0))
2023-03-07 04:44:29,154 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-EC7D0AA39E29-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-03-07 04:44:29,154 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s0@group-EC7D0AA39E29 replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-EC7D0AA39E29:t0, leader=null, voted=, raftlog=Memoized:s0@group-EC7D0AA39E29-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:29,156 [s1@group-EC7D0AA39E29-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-EC7D0AA39E29-LeaderElection20: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-03-07 04:44:29,156 [s1@group-EC7D0AA39E29-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t0
2023-03-07 04:44:29,156 [s1@group-EC7D0AA39E29-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-EC7D0AA39E29-LeaderElection20 PRE_VOTE round 0: result PASSED
2023-03-07 04:44:29,159 [s1@group-EC7D0AA39E29-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-EC7D0AA39E29-LeaderElection20 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:29,160 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s2@group-EC7D0AA39E29: receive requestVote(PRE_VOTE, s1, group-EC7D0AA39E29, 0, (t:0, i:0))
2023-03-07 04:44:29,160 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-EC7D0AA39E29-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-03-07 04:44:29,160 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s2@group-EC7D0AA39E29 replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-EC7D0AA39E29:t0, leader=null, voted=, raftlog=Memoized:s2@group-EC7D0AA39E29-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:29,162 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s0@group-EC7D0AA39E29: receive requestVote(ELECTION, s1, group-EC7D0AA39E29, 1, (t:0, i:0))
2023-03-07 04:44:29,162 [grpc-default-executor-6] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-EC7D0AA39E29-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2023-03-07 04:44:29,162 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-EC7D0AA39E29: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2023-03-07 04:44:29,162 [grpc-default-executor-6] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-EC7D0AA39E29-FollowerState
2023-03-07 04:44:29,162 [s0@group-EC7D0AA39E29-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-EC7D0AA39E29-FollowerState was interrupted
2023-03-07 04:44:29,165 [grpc-default-executor-6] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-EC7D0AA39E29-FollowerState
2023-03-07 04:44:29,166 [s1@group-EC7D0AA39E29-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:44:29,166 [s1@group-EC7D0AA39E29-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:44:29,167 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s2@group-EC7D0AA39E29: receive requestVote(ELECTION, s1, group-EC7D0AA39E29, 1, (t:0, i:0))
2023-03-07 04:44:29,171 [grpc-default-executor-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-EC7D0AA39E29-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2023-03-07 04:44:29,171 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-EC7D0AA39E29: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2023-03-07 04:44:29,171 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-EC7D0AA39E29-FollowerState
2023-03-07 04:44:29,171 [s2@group-EC7D0AA39E29-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-EC7D0AA39E29-FollowerState was interrupted
2023-03-07 04:44:29,171 [grpc-default-executor-0] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-EC7D0AA39E29-FollowerState
2023-03-07 04:44:29,171 [s0@group-EC7D0AA39E29-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:44:29,171 [s0@group-EC7D0AA39E29-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:44:29,173 [s2@group-EC7D0AA39E29-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-07 04:44:29,173 [s2@group-EC7D0AA39E29-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-07 04:44:29,260 [grpc-default-executor-6] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s0@group-EC7D0AA39E29 replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-EC7D0AA39E29:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-EC7D0AA39E29-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:29,260 [grpc-default-executor-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s2@group-EC7D0AA39E29 replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-EC7D0AA39E29:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-EC7D0AA39E29-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:29,261 [s1@group-EC7D0AA39E29-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-EC7D0AA39E29-LeaderElection20: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-03-07 04:44:29,261 [s1@group-EC7D0AA39E29-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s2#0:OK-t1
2023-03-07 04:44:29,261 [s1@group-EC7D0AA39E29-LeaderElection20] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-EC7D0AA39E29-LeaderElection20 ELECTION round 0: result PASSED
2023-03-07 04:44:29,261 [s1@group-EC7D0AA39E29-LeaderElection20] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-EC7D0AA39E29-LeaderElection20
2023-03-07 04:44:29,261 [s1@group-EC7D0AA39E29-LeaderElection20] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-EC7D0AA39E29: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-03-07 04:44:29,261 [s1@group-EC7D0AA39E29-LeaderElection20] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-EC7D0AA39E29: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 336ms
2023-03-07 04:44:29,261 [s1@group-EC7D0AA39E29-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-03-07 04:44:29,261 [s1@group-EC7D0AA39E29-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-07 04:44:29,261 [s1@group-EC7D0AA39E29-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2023-03-07 04:44:29,262 [s1@group-EC7D0AA39E29-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-03-07 04:44:29,262 [s1@group-EC7D0AA39E29-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-03-07 04:44:29,262 [s1@group-EC7D0AA39E29-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-03-07 04:44:29,262 [s1@group-EC7D0AA39E29-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-07 04:44:29,262 [s1@group-EC7D0AA39E29-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-03-07 04:44:29,262 [s1@group-EC7D0AA39E29-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-07 04:44:29,262 [s1@group-EC7D0AA39E29-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:29,262 [s1@group-EC7D0AA39E29-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-07 04:44:29,262 [s1@group-EC7D0AA39E29-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-07 04:44:29,262 [s1@group-EC7D0AA39E29-LeaderElection20] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2023-03-07 04:44:29,262 [s1@group-EC7D0AA39E29-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-07 04:44:29,262 [s1@group-EC7D0AA39E29-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-07 04:44:29,262 [s1@group-EC7D0AA39E29-LeaderElection20] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-03-07 04:44:29,262 [s1@group-EC7D0AA39E29-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-07 04:44:29,262 [s1@group-EC7D0AA39E29-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:29,263 [s1@group-EC7D0AA39E29-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-07 04:44:29,263 [s1@group-EC7D0AA39E29-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-07 04:44:29,263 [s1@group-EC7D0AA39E29-LeaderElection20] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2023-03-07 04:44:29,263 [s1@group-EC7D0AA39E29-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-07 04:44:29,263 [s1@group-EC7D0AA39E29-LeaderElection20] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-07 04:44:29,263 [s1@group-EC7D0AA39E29-LeaderElection20] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-03-07 04:44:29,263 [s1@group-EC7D0AA39E29-LeaderElection20] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-EC7D0AA39E29-LeaderStateImpl
2023-03-07 04:44:29,263 [s1@group-EC7D0AA39E29-LeaderElection20] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s1@group-EC7D0AA39E29-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-07 04:44:29,267 [s1@group-EC7D0AA39E29-LeaderElection20] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s1@group-EC7D0AA39E29: set configuration 0: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:29,276 [s2-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-EC7D0AA39E29: change Leader from null to s1 at term 1 for appendEntries, leader elected after 350ms
2023-03-07 04:44:29,278 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-EC7D0AA39E29: change Leader from null to s1 at term 1 for appendEntries, leader elected after 362ms
2023-03-07 04:44:29,279 [s1@group-EC7D0AA39E29-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s1@group-EC7D0AA39E29-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf8268541/s1/d17d6eeb-c366-4c14-b662-ec7d0aa39e29/current/log_inprogress_0
2023-03-07 04:44:29,281 [s0-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-EC7D0AA39E29: set configuration 0: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:29,281 [s0-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s0@group-EC7D0AA39E29-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-07 04:44:29,289 [s2-server-thread2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s2@group-EC7D0AA39E29: set configuration 0: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:29,289 [s2-server-thread2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s2@group-EC7D0AA39E29-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-07 04:44:29,298 [s0@group-EC7D0AA39E29-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s0@group-EC7D0AA39E29-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf8268541/s0/d17d6eeb-c366-4c14-b662-ec7d0aa39e29/current/log_inprogress_0
2023-03-07 04:44:29,302 [s2@group-EC7D0AA39E29-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s2@group-EC7D0AA39E29-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf8268541/s2/d17d6eeb-c366-4c14-b662-ec7d0aa39e29/current/log_inprogress_0
2023-03-07 04:44:29,446 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-EC7D0AA39E29:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-EC7D0AA39E29-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-EC7D0AA39E29:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-EC7D0AA39E29-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-EC7D0AA39E29:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-EC7D0AA39E29-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-07 04:44:29,446 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:44:29,447 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:44:29,459 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-275F847027EB->s0: receive RaftClientReply:client-275F847027EB->s0@group-EC7D0AA39E29, cid=118, FAILED org.apache.ratis.protocol.exceptions.NotLeaderException: Server s0@group-EC7D0AA39E29 is not the leader s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, logIndex=0, commits[s0:c0, s1:c0, s2:c-1]
2023-03-07 04:44:29,460 [timer2] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:44:29,460 [timer2] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:44:29,465 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-275F847027EB->s1: receive RaftClientReply:client-275F847027EB->s1@group-EC7D0AA39E29, cid=118, SUCCESS, logIndex=0, commits[s1:c0, s0:c0, s2:c0]
2023-03-07 04:44:29,470 [s1@group-EC7D0AA39E29-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 119@client-275F847027EB
2023-03-07 04:44:29,472 [grpc-default-executor-1] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-275F847027EB->s1: receive RaftClientReply:client-275F847027EB->s1@group-EC7D0AA39E29, cid=119, SUCCESS, logIndex=1, commits[s1:c1, s0:c0, s2:c0]
2023-03-07 04:44:29,480 [s0@group-EC7D0AA39E29-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 119@client-275F847027EB
2023-03-07 04:44:29,480 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:44:29,480 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:44:29,482 [s2@group-EC7D0AA39E29-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 1, testing -> (t:1, i:1), STATEMACHINELOGENTRY, 119@client-275F847027EB
2023-03-07 04:44:29,491 [s1@group-EC7D0AA39E29-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s1: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-A270C587D65D
2023-03-07 04:44:29,492 [grpc-default-executor-6] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-A270C587D65D->s1: receive RaftClientReply:client-A270C587D65D->s1@group-EC7D0AA39E29, cid=1, SUCCESS, logIndex=3, commits[s1:c3, s0:c2, s2:c1]
2023-03-07 04:44:29,492 [Time-limited test] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:block(135)) - block START_TRANSACTION
2023-03-07 04:44:29,492 [Time-limited test] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:blockRequestor(49)) - Block requestor s1
2023-03-07 04:44:29,492 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-07 04:44:29,492 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-EC7D0AA39E29:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-EC7D0AA39E29-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-EC7D0AA39E29:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-EC7D0AA39E29-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-EC7D0AA39E29:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-EC7D0AA39E29-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-07 04:44:29,492 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-EC7D0AA39E29:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-EC7D0AA39E29-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-EC7D0AA39E29:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-EC7D0AA39E29-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-EC7D0AA39E29:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-EC7D0AA39E29-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-07 04:44:29,492 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "changeLeader-changeLeader", attempt #1/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:199)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-07 04:44:29,499 [s2-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s2: Block request from s1
2023-03-07 04:44:29,500 [s0-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s1
2023-03-07 04:44:29,566 [s0-server-thread3] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s0: Block request from s1
2023-03-07 04:44:29,566 [s2-server-thread1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(77)) - s2: Block request from s1
2023-03-07 04:44:29,593 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-07 04:44:29,593 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-EC7D0AA39E29:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-EC7D0AA39E29-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-EC7D0AA39E29:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-EC7D0AA39E29-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-EC7D0AA39E29:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-EC7D0AA39E29-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-07 04:44:29,593 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-EC7D0AA39E29:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-EC7D0AA39E29-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-EC7D0AA39E29:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-EC7D0AA39E29-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-EC7D0AA39E29:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-EC7D0AA39E29-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-07 04:44:29,593 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "changeLeader-changeLeader", attempt #2/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:199)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-07 04:44:29,693 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-07 04:44:29,694 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-EC7D0AA39E29:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-EC7D0AA39E29-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-EC7D0AA39E29:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-EC7D0AA39E29-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-EC7D0AA39E29:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-EC7D0AA39E29-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-07 04:44:29,694 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-EC7D0AA39E29:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-EC7D0AA39E29-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-EC7D0AA39E29:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-EC7D0AA39E29-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-EC7D0AA39E29:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-EC7D0AA39E29-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-07 04:44:29,694 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "changeLeader-changeLeader", attempt #3/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:199)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-07 04:44:29,794 [s2@group-EC7D0AA39E29-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s2@group-EC7D0AA39E29-FollowerState: change to CANDIDATE, lastRpcElapsedTime:304239256ns, electionTimeout:151ms
2023-03-07 04:44:29,794 [s2@group-EC7D0AA39E29-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-EC7D0AA39E29-FollowerState
2023-03-07 04:44:29,794 [s2@group-EC7D0AA39E29-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-EC7D0AA39E29: changes role from  FOLLOWER to CANDIDATE at term 1 for changeToCandidate
2023-03-07 04:44:29,794 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-07 04:44:29,794 [s2@group-EC7D0AA39E29-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-07 04:44:29,795 [s2@group-EC7D0AA39E29-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-EC7D0AA39E29-LeaderElection21
2023-03-07 04:44:29,795 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-EC7D0AA39E29:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-EC7D0AA39E29-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-EC7D0AA39E29:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-EC7D0AA39E29-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-EC7D0AA39E29:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-EC7D0AA39E29-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-07 04:44:29,795 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-EC7D0AA39E29:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-EC7D0AA39E29-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-EC7D0AA39E29:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-EC7D0AA39E29-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING CANDIDATE s2@group-EC7D0AA39E29:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-EC7D0AA39E29-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-07 04:44:29,795 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "changeLeader-changeLeader", attempt #4/20: org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1, sleep 100ms and then retry.
org.junit.AssumptionViolatedException: Failed to change leader: newLeader == oldLeader == s1
	at org.apache.ratis.RaftTestUtil.lambda$changeLeader$6(RaftTestUtil.java:433)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:430)
	at org.apache.ratis.RaftTestUtil.changeLeader(RaftTestUtil.java:422)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:199)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-07 04:44:29,795 [s2@group-EC7D0AA39E29-LeaderElection21] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-EC7D0AA39E29: change Leader from s1 to null at term 1 for PRE_VOTE
2023-03-07 04:44:29,795 [s2@group-EC7D0AA39E29-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-EC7D0AA39E29-LeaderElection21 PRE_VOTE round 0: submit vote requests at term 1 for 0: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:29,795 [s2@group-EC7D0AA39E29-LeaderElection21-1] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(64)) - Build channel for s0
2023-03-07 04:44:29,796 [s2@group-EC7D0AA39E29-LeaderElection21-2] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:<init>(64)) - Build channel for s1
2023-03-07 04:44:29,813 [grpc-default-executor-11] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s0@group-EC7D0AA39E29: receive requestVote(PRE_VOTE, s2, group-EC7D0AA39E29, 1, (t:1, i:3))
2023-03-07 04:44:29,813 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s1@group-EC7D0AA39E29: receive requestVote(PRE_VOTE, s2, group-EC7D0AA39E29, 1, (t:1, i:3))
2023-03-07 04:44:29,814 [grpc-default-executor-11] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-EC7D0AA39E29-FOLLOWER: accept PRE_VOTE from s2: our priority 0 <= candidate's priority 0
2023-03-07 04:44:29,814 [grpc-default-executor-2] WARN  server.RaftServer$Division (LeaderStateImpl.java:checkLeadership(1098)) - s1@group-EC7D0AA39E29-LeaderStateImpl: Lost leadership on term: 1. Election timeout: 300ms. In charge for: 552ms. Conf: 0: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:29,814 [grpc-default-executor-2] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$20(1102)) - Follower s1@group-EC7D0AA39E29->s0(c2,m3,n5, attendVote=true, lastRpcSendTime=24, lastRpcResponseTime=323)
2023-03-07 04:44:29,814 [grpc-default-executor-2] WARN  server.RaftServer$Division (LeaderStateImpl.java:lambda$checkLeadership$20(1102)) - Follower s1@group-EC7D0AA39E29->s2(c2,m3,n5, attendVote=true, lastRpcSendTime=24, lastRpcResponseTime=323)
2023-03-07 04:44:29,814 [grpc-default-executor-11] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s0@group-EC7D0AA39E29 replies to PRE_VOTE vote request: s2<-s0#0:OK-t1. Peer's state: s0@group-EC7D0AA39E29:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-EC7D0AA39E29-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:29,814 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-EC7D0AA39E29: changes role from    LEADER to FOLLOWER at term 1 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2023-03-07 04:44:29,814 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-EC7D0AA39E29-LeaderStateImpl
2023-03-07 04:44:29,814 [grpc-default-executor-2] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-EC7D0AA39E29-PendingRequests: sendNotLeaderResponses
2023-03-07 04:44:29,818 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-EC7D0AA39E29: change Leader from s1 to null at term 1 for StepDownReason:LOST_MAJORITY_HEARTBEATS
2023-03-07 04:44:29,818 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-EC7D0AA39E29-FollowerState
2023-03-07 04:44:29,818 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-EC7D0AA39E29-FOLLOWER: reject PRE_VOTE from s2: our last entry (t:1, i:4) > candidate's last entry (t:1, i:3)
2023-03-07 04:44:29,818 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s1@group-EC7D0AA39E29 replies to PRE_VOTE vote request: s2<-s1#0:FAIL-t1. Peer's state: s1@group-EC7D0AA39E29:t1, leader=null, voted=s1, raftlog=Memoized:s1@group-EC7D0AA39E29-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:29,819 [s2@group-EC7D0AA39E29-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-EC7D0AA39E29-LeaderElection21: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-03-07 04:44:29,819 [s2@group-EC7D0AA39E29-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t1
2023-03-07 04:44:29,819 [s2@group-EC7D0AA39E29-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-EC7D0AA39E29-LeaderElection21 PRE_VOTE round 0: result PASSED
2023-03-07 04:44:29,825 [s2@group-EC7D0AA39E29-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s2@group-EC7D0AA39E29-LeaderElection21 ELECTION round 0: submit vote requests at term 2 for 0: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:29,826 [grpc-default-executor-11] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s1@group-EC7D0AA39E29: receive requestVote(ELECTION, s2, group-EC7D0AA39E29, 2, (t:1, i:3))
2023-03-07 04:44:29,826 [grpc-default-executor-11] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-EC7D0AA39E29-FOLLOWER: reject ELECTION from s2: our last entry (t:1, i:4) > candidate's last entry (t:1, i:3)
2023-03-07 04:44:29,826 [grpc-default-executor-11] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-EC7D0AA39E29: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s2
2023-03-07 04:44:29,826 [grpc-default-executor-11] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-EC7D0AA39E29-FollowerState
2023-03-07 04:44:29,826 [grpc-default-executor-11] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-EC7D0AA39E29-FollowerState
2023-03-07 04:44:29,827 [grpc-default-executor-11] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s1@group-EC7D0AA39E29 replies to ELECTION vote request: s2<-s1#0:FAIL-t2. Peer's state: s1@group-EC7D0AA39E29:t2, leader=null, voted=null, raftlog=Memoized:s1@group-EC7D0AA39E29-SegmentedRaftLog:OPENED:c3, conf=0: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:29,828 [s1@group-EC7D0AA39E29-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-EC7D0AA39E29-FollowerState was interrupted
2023-03-07 04:44:29,830 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s0@group-EC7D0AA39E29: receive requestVote(ELECTION, s2, group-EC7D0AA39E29, 2, (t:1, i:3))
2023-03-07 04:44:29,830 [grpc-default-executor-2] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-EC7D0AA39E29-FOLLOWER: accept ELECTION from s2: our priority 0 <= candidate's priority 0
2023-03-07 04:44:29,830 [grpc-default-executor-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-EC7D0AA39E29: change Leader from s1 to null at term 2 for updateCurrentTerm
2023-03-07 04:44:29,830 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-EC7D0AA39E29: changes role from  FOLLOWER to FOLLOWER at term 2 for candidate:s2
2023-03-07 04:44:29,830 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-EC7D0AA39E29-FollowerState
2023-03-07 04:44:29,831 [grpc-default-executor-2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-EC7D0AA39E29-FollowerState
2023-03-07 04:44:29,831 [s0@group-EC7D0AA39E29-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-EC7D0AA39E29-FollowerState was interrupted
2023-03-07 04:44:29,832 [grpc-default-executor-2] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s0@group-EC7D0AA39E29 replies to ELECTION vote request: s2<-s0#0:OK-t2. Peer's state: s0@group-EC7D0AA39E29:t2, leader=null, voted=s2, raftlog=Memoized:s0@group-EC7D0AA39E29-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:29,838 [s2@group-EC7D0AA39E29-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s2@group-EC7D0AA39E29-LeaderElection21: ELECTION PASSED received 2 response(s) and 0 exception(s):
2023-03-07 04:44:29,838 [s2@group-EC7D0AA39E29-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s2<-s0#0:OK-t2
2023-03-07 04:44:29,838 [s2@group-EC7D0AA39E29-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 1: s2<-s1#0:FAIL-t2
2023-03-07 04:44:29,838 [s2@group-EC7D0AA39E29-LeaderElection21] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s2@group-EC7D0AA39E29-LeaderElection21 ELECTION round 0: result PASSED
2023-03-07 04:44:29,838 [s2@group-EC7D0AA39E29-LeaderElection21] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s2: shutdown s2@group-EC7D0AA39E29-LeaderElection21
2023-03-07 04:44:29,838 [s2@group-EC7D0AA39E29-LeaderElection21] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-EC7D0AA39E29: changes role from CANDIDATE to LEADER at term 2 for changeToLeader
2023-03-07 04:44:29,838 [s2@group-EC7D0AA39E29-LeaderElection21] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-EC7D0AA39E29: change Leader from null to s2 at term 2 for becomeLeader, leader elected after 43ms
2023-03-07 04:44:29,838 [s2@group-EC7D0AA39E29-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-03-07 04:44:29,838 [s2@group-EC7D0AA39E29-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-07 04:44:29,838 [s2@group-EC7D0AA39E29-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (custom)
2023-03-07 04:44:29,838 [s2@group-EC7D0AA39E29-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-03-07 04:44:29,838 [s2@group-EC7D0AA39E29-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-03-07 04:44:29,838 [s2@group-EC7D0AA39E29-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-03-07 04:44:29,838 [s2@group-EC7D0AA39E29-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-07 04:44:29,838 [s2@group-EC7D0AA39E29-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-03-07 04:44:29,839 [s2@group-EC7D0AA39E29-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-07 04:44:29,839 [s2@group-EC7D0AA39E29-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:29,839 [s2@group-EC7D0AA39E29-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-07 04:44:29,839 [s2@group-EC7D0AA39E29-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-07 04:44:29,839 [s2@group-EC7D0AA39E29-LeaderElection21] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2023-03-07 04:44:29,839 [s2@group-EC7D0AA39E29-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-07 04:44:29,839 [s2@group-EC7D0AA39E29-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-07 04:44:29,839 [s2@group-EC7D0AA39E29-LeaderElection21] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-03-07 04:44:29,839 [s2@group-EC7D0AA39E29-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-07 04:44:29,839 [s2@group-EC7D0AA39E29-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-07 04:44:29,839 [s2@group-EC7D0AA39E29-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-07 04:44:29,839 [s2@group-EC7D0AA39E29-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-07 04:44:29,839 [s2@group-EC7D0AA39E29-LeaderElection21] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.leader.outstanding.appends.max = 128 (default)
2023-03-07 04:44:29,839 [s2@group-EC7D0AA39E29-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.request.timeout = 3000ms (default)
2023-03-07 04:44:29,839 [s2@group-EC7D0AA39E29-LeaderElection21] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-07 04:44:29,839 [s2@group-EC7D0AA39E29-LeaderElection21] INFO  grpc.GrpcConfigKeys (ConfUtils.java:logGet(46)) - raft.grpc.server.heartbeat.channel = true (default)
2023-03-07 04:44:29,839 [s2@group-EC7D0AA39E29-LeaderElection21] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-EC7D0AA39E29-LeaderStateImpl
2023-03-07 04:44:29,839 [s2@group-EC7D0AA39E29-LeaderElection21] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(431)) - s2@group-EC7D0AA39E29-SegmentedRaftLogWorker: Rolling segment log-0_3 to index:3
2023-03-07 04:44:29,840 [s2@group-EC7D0AA39E29-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf8268541/s2/d17d6eeb-c366-4c14-b662-ec7d0aa39e29/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf8268541/s2/d17d6eeb-c366-4c14-b662-ec7d0aa39e29/current/log_0-3
2023-03-07 04:44:29,840 [s2@group-EC7D0AA39E29-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(587)) - s2@group-EC7D0AA39E29-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf8268541/s2/d17d6eeb-c366-4c14-b662-ec7d0aa39e29/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf8268541/s2/d17d6eeb-c366-4c14-b662-ec7d0aa39e29/current/log_0-3
2023-03-07 04:44:29,843 [s0-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-EC7D0AA39E29: change Leader from null to s2 at term 2 for appendEntries, leader elected after 12ms
2023-03-07 04:44:29,845 [s2@group-EC7D0AA39E29-LeaderElection21] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s2@group-EC7D0AA39E29: set configuration 4: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:29,854 [s1-server-thread1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-EC7D0AA39E29: change Leader from null to s2 at term 2 for appendEntries, leader elected after 35ms
2023-03-07 04:44:29,854 [s2@group-EC7D0AA39E29-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s2@group-EC7D0AA39E29-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf8268541/s2/d17d6eeb-c366-4c14-b662-ec7d0aa39e29/current/log_inprogress_4
2023-03-07 04:44:29,854 [s0-server-thread4] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-EC7D0AA39E29: set configuration 4: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:29,854 [s0-server-thread4] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:rollLogSegment(431)) - s0@group-EC7D0AA39E29-SegmentedRaftLogWorker: Rolling segment log-0_3 to index:3
2023-03-07 04:44:29,855 [s0@group-EC7D0AA39E29-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf8268541/s0/d17d6eeb-c366-4c14-b662-ec7d0aa39e29/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf8268541/s0/d17d6eeb-c366-4c14-b662-ec7d0aa39e29/current/log_0-3
2023-03-07 04:44:29,855 [s0@group-EC7D0AA39E29-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(587)) - s0@group-EC7D0AA39E29-SegmentedRaftLogWorker: Rolled log segment from /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf8268541/s0/d17d6eeb-c366-4c14-b662-ec7d0aa39e29/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf8268541/s0/d17d6eeb-c366-4c14-b662-ec7d0aa39e29/current/log_0-3
2023-03-07 04:44:29,865 [s0@group-EC7D0AA39E29-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s0@group-EC7D0AA39E29-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf8268541/s0/d17d6eeb-c366-4c14-b662-ec7d0aa39e29/current/log_inprogress_4
2023-03-07 04:44:29,866 [s1-server-thread3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s1@group-EC7D0AA39E29: set configuration 4: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-07 04:44:29,866 [s2@group-EC7D0AA39E29-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s2: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-A270C587D65D
2023-03-07 04:44:29,866 [s1-server-thread3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:truncate(442)) - s1@group-EC7D0AA39E29-SegmentedRaftLogWorker: Truncating segments toTruncate: (0, 4) isOpen? true, length=377, newEndIndex=3
  toDelete: [], start index 4
2023-03-07 04:44:29,867 [s1-server-thread3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s1@group-EC7D0AA39E29-SegmentedRaftLogWorker: Starting segment from index:4
2023-03-07 04:44:29,867 [s1@group-EC7D0AA39E29-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran FileOutputStream.getChannel().truncate /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf8268541/s1/d17d6eeb-c366-4c14-b662-ec7d0aa39e29/current/log_inprogress_0 length: 356 -> 377
2023-03-07 04:44:29,867 [s1@group-EC7D0AA39E29-SegmentedRaftLogWorker] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Atomic Files.move /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf8268541/s1/d17d6eeb-c366-4c14-b662-ec7d0aa39e29/current/log_inprogress_0 to /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf8268541/s1/d17d6eeb-c366-4c14-b662-ec7d0aa39e29/current/log_0-3
2023-03-07 04:44:29,867 [s1@group-EC7D0AA39E29-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(670)) - s1@group-EC7D0AA39E29-SegmentedRaftLogWorker: Truncated log file /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf8268541/s1/d17d6eeb-c366-4c14-b662-ec7d0aa39e29/current/log_inprogress_0 to length 377 and moved it to /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf8268541/s1/d17d6eeb-c366-4c14-b662-ec7d0aa39e29/current/log_0-3
2023-03-07 04:44:29,867 [s1@group-EC7D0AA39E29-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-EC7D0AA39E29-SegmentedRaftLogWorker: flushIndex: setUnconditionally 4 -> 3
2023-03-07 04:44:29,867 [s1@group-EC7D0AA39E29-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-EC7D0AA39E29-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally -1 -> 3
2023-03-07 04:44:29,871 [s0@group-EC7D0AA39E29-StateMachineUpdater] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:put(205)) - s0: put 3, m1 -> (t:1, i:3), STATEMACHINELOGENTRY, 1@client-A270C587D65D
2023-03-07 04:44:29,877 [s1@group-EC7D0AA39E29-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s1@group-EC7D0AA39E29-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/ac5303ae/MiniRaftClusterWithGrpcf8268541/s1/d17d6eeb-c366-4c14-b662-ec7d0aa39e29/current/log_inprogress_4
2023-03-07 04:44:29,895 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-07 04:44:29,895 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-EC7D0AA39E29:t2, leader=s2, voted=s2, raftlog=Memoized:s0@group-EC7D0AA39E29-SegmentedRaftLog:OPENED:c4, conf=4: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-EC7D0AA39E29:t2, leader=s2, voted=null, raftlog=Memoized:s1@group-EC7D0AA39E29-SegmentedRaftLog:OPENED:c4, conf=4: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-EC7D0AA39E29:t2, leader=s2, voted=s2, raftlog=Memoized:s2@group-EC7D0AA39E29-SegmentedRaftLog:OPENED:c5, conf=4: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-07 04:44:29,895 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-EC7D0AA39E29:t2, leader=s2, voted=s2, raftlog=Memoized:s0@group-EC7D0AA39E29-SegmentedRaftLog:OPENED:c4, conf=4: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-EC7D0AA39E29:t2, leader=s2, voted=null, raftlog=Memoized:s1@group-EC7D0AA39E29-SegmentedRaftLog:OPENED:c4, conf=4: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-EC7D0AA39E29:t2, leader=s2, voted=s2, raftlog=Memoized:s2@group-EC7D0AA39E29-SegmentedRaftLog:OPENED:c5, conf=4: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-07 04:44:29,896 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:lambda$changeLeader$6(435)) - Changed leader from s1 to s2
2023-03-07 04:44:29,896 [Time-limited test] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:unblockRequestor(54)) - UnBlock requestor s1
2023-03-07 04:44:29,896 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'request should fail'
2023-03-07 04:44:29,896 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "request should fail" throws ExecutionException
java.util.concurrent.ExecutionException: org.apache.ratis.protocol.exceptions.AlreadyClosedException: client-A270C587D65D->s1: Stream completed: no reply for async request cid=2
	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)
	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:203)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.AlreadyClosedException: client-A270C587D65D->s1: Stream completed: no reply for async request cid=2
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.completeReplyExceptionally(GrpcClientProtocolClient.java:396)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.access$000(GrpcClientProtocolClient.java:300)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers$1.onCompleted(GrpcClientProtocolClient.java:336)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:485)
	at org.apache.ratis.thirdparty.io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39)
	at org.apache.ratis.thirdparty.io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23)
	at org.apache.ratis.grpc.metrics.intercept.client.MetricClientCallListener.onClose(MetricClientCallListener.java:47)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener$3.run(DelayedClientCall.java:468)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.delayOrExecute(DelayedClientCall.java:432)
	at org.apache.ratis.thirdparty.io.grpc.internal.DelayedClientCall$DelayedListener.onClose(DelayedClientCall.java:465)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	... 1 more
2023-03-07 04:44:29,896 [Time-limited test] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:unblock(142)) - unblock START_TRANSACTION
2023-03-07 04:44:29,901 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.flow.control.window = 1MB (=1048576) (default)
2023-03-07 04:44:29,901 [Time-limited test] DEBUG client.GrpcClientProtocolClient (ConfUtils.java:logGet(46)) - raft.grpc.message.size.max = 64MB (=67108864) (default)
2023-03-07 04:44:29,907 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:testFailureCase(151)) - run 'request should timeout'
2023-03-07 04:44:30,105 [s2-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s2: unBlock request from s1
2023-03-07 04:44:30,105 [s0-server-thread2] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s1
2023-03-07 04:44:30,105 [grpc-default-executor-0] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s2: Completed APPEND_ENTRIES, lastRequest: s1->s2#5934-t1,previous=(t:1, i:3),leaderCommit=3,initializing? true,entries: size=1, first=(t:1, i:4), METADATAENTRY(c:3)
2023-03-07 04:44:30,105 [grpc-default-executor-1] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s0: Completed APPEND_ENTRIES, lastRequest: s1->s0#6314-t1,previous=(t:1, i:3),leaderCommit=3,initializing? true,entries: size=1, first=(t:1, i:4), METADATAENTRY(c:3)
2023-03-07 04:44:30,107 [grpc-default-executor-11] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s1@group-EC7D0AA39E29->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2023-03-07 04:44:30,107 [grpc-default-executor-11] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(417)) - s1@group-EC7D0AA39E29->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-03-07 04:44:30,107 [grpc-default-executor-11] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(52)) - s1@group-EC7D0AA39E29->s0: decreaseNextIndex nextIndex: updateUnconditionally 5 -> 4
2023-03-07 04:44:30,107 [grpc-default-executor-6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s1@group-EC7D0AA39E29->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2023-03-07 04:44:30,107 [grpc-default-executor-6] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(417)) - s1@group-EC7D0AA39E29->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-03-07 04:44:30,107 [grpc-default-executor-6] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(52)) - s1@group-EC7D0AA39E29->s2: decreaseNextIndex nextIndex: updateUnconditionally 5 -> 4
2023-03-07 04:44:30,166 [s0-server-thread3] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s0: unBlock request from s1
2023-03-07 04:44:30,167 [s2-server-thread1] INFO  util.CodeInjectionForTesting (BlockRequestHandlingInjection.java:execute(84)) - s2: unBlock request from s1
2023-03-07 04:44:30,167 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s1@group-EC7D0AA39E29->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2023-03-07 04:44:30,167 [grpc-default-executor-6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s1@group-EC7D0AA39E29->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2023-03-07 04:44:30,168 [grpc-default-executor-6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s1@group-EC7D0AA39E29->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2023-03-07 04:44:30,168 [grpc-default-executor-11] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s1@group-EC7D0AA39E29->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2023-03-07 04:44:30,168 [grpc-default-executor-6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s1@group-EC7D0AA39E29->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2023-03-07 04:44:30,168 [grpc-default-executor-11] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s1@group-EC7D0AA39E29->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2023-03-07 04:44:30,168 [grpc-default-executor-8] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s1@group-EC7D0AA39E29->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2023-03-07 04:44:30,168 [grpc-default-executor-6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s1@group-EC7D0AA39E29->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2023-03-07 04:44:30,169 [grpc-default-executor-8] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s1@group-EC7D0AA39E29->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2023-03-07 04:44:30,169 [grpc-default-executor-6] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s0: Completed APPEND_ENTRIES, lastRequest: null
2023-03-07 04:44:30,169 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s1@group-EC7D0AA39E29->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2023-03-07 04:44:30,169 [grpc-default-executor-6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s1@group-EC7D0AA39E29->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2023-03-07 04:44:30,169 [grpc-default-executor-8] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s1@group-EC7D0AA39E29->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2023-03-07 04:44:30,170 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s2: Completed APPEND_ENTRIES, lastRequest: null
2023-03-07 04:44:30,170 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s1@group-EC7D0AA39E29->s0-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2023-03-07 04:44:30,170 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(417)) - s1@group-EC7D0AA39E29->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-03-07 04:44:30,170 [grpc-default-executor-4] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(52)) - s1@group-EC7D0AA39E29->s0: decreaseNextIndex nextIndex: updateUnconditionally 4 -> 3
2023-03-07 04:44:30,170 [grpc-default-executor-4] WARN  server.GrpcLogAppender (GrpcLogAppender.java:onNextImpl(383)) - s1@group-EC7D0AA39E29->s2-AppendLogResponseHandler: received NOT_LEADER reply with term 2
2023-03-07 04:44:30,171 [grpc-default-executor-4] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(417)) - s1@group-EC7D0AA39E29->s2-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-03-07 04:44:30,171 [grpc-default-executor-4] INFO  leader.FollowerInfo (FollowerInfoImpl.java:lambda$new$0(52)) - s1@group-EC7D0AA39E29->s2: decreaseNextIndex nextIndex: updateUnconditionally 4 -> 3
2023-03-07 04:44:30,907 [Time-limited test] INFO  grpc.TestRaftServerWithGrpc (BaseTest.java:assertThrowable(133)) - The test "request should timeout" throws ExecutionException
java.util.concurrent.ExecutionException: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-A270C587D65D->s1 request #3 timeout 1s
	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:395)
	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1999)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:154)
	at org.apache.ratis.BaseTest.testFailureCase(BaseTest.java:167)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.runTestLeaderRestart(TestRaftServerWithGrpc.java:211)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.grpc.TestRaftServerWithGrpc.testLeaderRestart(TestRaftServerWithGrpc.java:169)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.TimeoutIOException: client-A270C587D65D->s1 request #3 timeout 1s
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$timeoutCheck$5(GrpcClientProtocolClient.java:374)
	at java.base/java.util.Optional.ifPresent(Optional.java:183)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.handleReplyFuture(GrpcClientProtocolClient.java:378)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.timeoutCheck(GrpcClientProtocolClient.java:373)
	at org.apache.ratis.grpc.client.GrpcClientProtocolClient$AsyncStreamObservers.lambda$onNext$3(GrpcClientProtocolClient.java:366)
	at org.apache.ratis.util.TimeoutTimer.lambda$onTimeout$2(TimeoutTimer.java:101)
	at org.apache.ratis.util.LogUtils.runAndLog(LogUtils.java:38)
	at org.apache.ratis.util.LogUtils$1.run(LogUtils.java:79)
	at org.apache.ratis.util.TimeoutTimer$Task.run(TimeoutTimer.java:55)
	at java.base/java.util.TimerThread.mainLoop(Timer.java:556)
	at java.base/java.util.TimerThread.run(Timer.java:506)
2023-03-07 04:44:30,925 [grpc-default-executor-4] TRACE client.GrpcClientProtocolClient (GrpcClientProtocolClient.java:onNext(311)) - client-A270C587D65D->s1: receive RaftClientReply:client-A270C587D65D->s1@group-EC7D0AA39E29, cid=3, FAILED org.apache.ratis.protocol.exceptions.AlreadyClosedException: SlidingWindow$Server:2-OrderedRequestStreamObserver2 is closing: seq = 3 > nextToProcess = -1 will NEVER be processed; request = 3:null, logIndex=0, commits[]
2023-03-07 04:44:33,921 [Thread-866] WARN  grpc.GrpcUtil (GrpcUtil.java:shutdownManagedChannel(223)) - Timed out gracefully shutting down connection: ManagedChannelOrphanWrapper{delegate=ManagedChannelImpl{logId=1079, target=localhost:44699}}. 
2023-03-07 04:44:33,925 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-03-07 04:44:33,925 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-03-07 04:44:33,925 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithGrpc
2023-03-07 04:44:33,925 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-03-07 04:44:33,925 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-03-07 04:44:33,925 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-EC7D0AA39E29:t2, leader=s2, voted=s2, raftlog=Memoized:s0@group-EC7D0AA39E29-SegmentedRaftLog:OPENED:c5, conf=4: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-EC7D0AA39E29:t2, leader=s2, voted=null, raftlog=Memoized:s1@group-EC7D0AA39E29-SegmentedRaftLog:OPENED:c5, conf=4: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING    LEADER s2@group-EC7D0AA39E29:t2, leader=s2, voted=s2, raftlog=Memoized:s2@group-EC7D0AA39E29-SegmentedRaftLog:OPENED:c5, conf=4: peers:[s0|rpc:localhost:40783|admin:localhost:46309|client:localhost:42361|dataStream:localhost:46529|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:41807|admin:localhost:44201|client:localhost:44699|dataStream:localhost:37357|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34549|admin:localhost:36889|client:localhost:36799|dataStream:localhost:34339|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-07 04:44:33,931 [MiniRaftCluster-26] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s0: close
2023-03-07 04:44:33,936 [MiniRaftCluster-27] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s1: close
2023-03-07 04:44:33,945 [MiniRaftCluster-26] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-03-07 04:44:33,945 [MiniRaftCluster-27] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-03-07 04:44:33,945 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s0@group-EC7D0AA39E29: shutdown
2023-03-07 04:44:33,945 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-EC7D0AA39E29,id=s0
2023-03-07 04:44:33,945 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-EC7D0AA39E29-FollowerState
2023-03-07 04:44:33,945 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-EC7D0AA39E29-StateMachineUpdater: set stopIndex = 5
2023-03-07 04:44:33,945 [s0@group-EC7D0AA39E29-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-EC7D0AA39E29-FollowerState was interrupted
2023-03-07 04:44:33,945 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s1@group-EC7D0AA39E29: shutdown
2023-03-07 04:44:33,945 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-EC7D0AA39E29,id=s1
2023-03-07 04:44:33,945 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-EC7D0AA39E29-FollowerState
2023-03-07 04:44:33,945 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-EC7D0AA39E29-StateMachineUpdater: set stopIndex = 5
2023-03-07 04:44:33,945 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s0@group-EC7D0AA39E29: applyIndex: 5
2023-03-07 04:44:33,946 [Thread-871] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(102)) - s0 Close channels
2023-03-07 04:44:33,947 [Thread-873] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(102)) - s2 Close channels
2023-03-07 04:44:33,948 [MiniRaftCluster-28] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s2: close
2023-03-07 04:44:33,948 [MiniRaftCluster-27] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-03-07 04:44:33,948 [MiniRaftCluster-27] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server GrpcServerProtocolService now
2023-03-07 04:44:33,969 [s1@group-EC7D0AA39E29-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-EC7D0AA39E29-FollowerState was interrupted
2023-03-07 04:44:33,969 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s1@group-EC7D0AA39E29: applyIndex: 5
2023-03-07 04:44:33,969 [MiniRaftCluster-26] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-03-07 04:44:33,969 [MiniRaftCluster-26] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server GrpcServerProtocolService now
2023-03-07 04:44:33,982 [MiniRaftCluster-28] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService now
2023-03-07 04:44:33,982 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s2@group-EC7D0AA39E29: shutdown
2023-03-07 04:44:33,982 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-EC7D0AA39E29,id=s2
2023-03-07 04:44:33,982 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s2: shutdown s2@group-EC7D0AA39E29-LeaderStateImpl
2023-03-07 04:44:33,982 [s2-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s2@group-EC7D0AA39E29-PendingRequests: sendNotLeaderResponses
2023-03-07 04:44:33,983 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-EC7D0AA39E29-StateMachineUpdater: set stopIndex = 5
2023-03-07 04:44:33,983 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s2@group-EC7D0AA39E29: applyIndex: 5
2023-03-07 04:44:33,983 [s2@group-EC7D0AA39E29->s0-GrpcLogAppender-LogAppenderDaemon] WARN  server.GrpcLogAppender (GrpcLogAppender.java:mayWait(190)) - s2@group-EC7D0AA39E29->s0-GrpcLogAppender: Wait interrupted by java.lang.InterruptedException
2023-03-07 04:44:33,984 [grpc-default-executor-1] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(122)) - s1: installSnapshot onError, lastRequest: null: org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2023-03-07 04:44:33,984 [MiniRaftCluster-27] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server GrpcServerProtocolService successfully
2023-03-07 04:44:33,984 [MiniRaftCluster-27] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-03-07 04:44:33,984 [grpc-default-executor-6] WARN  server.GrpcServerProtocolService (LogUtils.java:warn(122)) - s1: installSnapshot onError, lastRequest: s2->s1#2-t2,previous=(t:2, i:4),leaderCommit=4,initializing? true,entries: size=1, first=(t:2, i:5), METADATAENTRY(c:4): org.apache.ratis.thirdparty.io.grpc.StatusRuntimeException: CANCELLED: client cancelled
2023-03-07 04:44:33,985 [s2@group-EC7D0AA39E29->s1-GrpcLogAppender-LogAppenderDaemon] ERROR leader.LogAppenderDaemon (LogAppenderDaemon.java:run(87)) - s2@group-EC7D0AA39E29->s1-GrpcLogAppender-LogAppenderDaemon failed
java.lang.IllegalStateException: s2@group-EC7D0AA39E29-SegmentedRaftLog is expected to be opened but it is CLOSED
	at org.apache.ratis.util.OpenCloseState.assertOpen(OpenCloseState.java:63)
	at org.apache.ratis.server.raftlog.RaftLogBase.checkLogState(RaftLogBase.java:111)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLog.getLastEntryTermIndex(SegmentedRaftLog.java:341)
	at org.apache.ratis.server.raftlog.RaftLog.getNextIndex(RaftLog.java:83)
	at org.apache.ratis.server.leader.LogAppender.hasAppendEntries(LogAppender.java:166)
	at org.apache.ratis.server.leader.LogAppender.shouldSendAppendEntries(LogAppender.java:161)
	at org.apache.ratis.server.leader.LogAppenderBase.shouldSendAppendEntries(LogAppenderBase.java:92)
	at org.apache.ratis.grpc.server.GrpcLogAppender.shouldSendAppendEntries(GrpcLogAppender.java:203)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getWaitTimeMs(GrpcLogAppender.java:171)
	at org.apache.ratis.grpc.server.GrpcLogAppender.mayWait(GrpcLogAppender.java:188)
	at org.apache.ratis.grpc.server.GrpcLogAppender.run(GrpcLogAppender.java:139)
	at org.apache.ratis.server.leader.LogAppenderDaemon.run(LogAppenderDaemon.java:78)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.util.OpenCloseState$CloseTrace: Close s2@group-EC7D0AA39E29-SegmentedRaftLog
	at org.apache.ratis.util.OpenCloseState.lambda$close$1(OpenCloseState.java:109)
	at java.base/java.util.concurrent.atomic.AtomicReference.getAndUpdate(AtomicReference.java:187)
	at org.apache.ratis.util.OpenCloseState.close(OpenCloseState.java:109)
	at org.apache.ratis.server.raftlog.RaftLogBase.close(RaftLogBase.java:365)
	at org.apache.ratis.server.raftlog.segmented.SegmentedRaftLog.close(SegmentedRaftLog.java:505)
	at org.apache.ratis.server.impl.ServerState.close(ServerState.java:418)
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$close$4(RaftServerImpl.java:488)
	at org.apache.ratis.util.LifeCycle.lambda$checkStateAndClose$4(LifeCycle.java:299)
	at org.apache.ratis.util.LifeCycle.checkStateAndClose(LifeCycle.java:319)
	at org.apache.ratis.util.LifeCycle.checkStateAndClose(LifeCycle.java:297)
	at org.apache.ratis.server.impl.RaftServerImpl.close(RaftServerImpl.java:465)
	at org.apache.ratis.server.impl.RaftServerProxy$ImplMap.close(RaftServerProxy.java:135)
	at org.apache.ratis.server.impl.RaftServerProxy$ImplMap.lambda$close$0(RaftServerProxy.java:122)
	at org.apache.ratis.util.ConcurrentUtils.accept(ConcurrentUtils.java:188)
	at org.apache.ratis.util.ConcurrentUtils.lambda$parallelForEachAsync$4(ConcurrentUtils.java:180)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	... 1 more
2023-03-07 04:44:33,987 [grpc-default-executor-4] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s0: Completed APPEND_ENTRIES, lastRequest: s2->s0#2-t2,previous=(t:2, i:4),leaderCommit=4,initializing? true,entries: size=1, first=(t:2, i:5), METADATAENTRY(c:4)
2023-03-07 04:44:33,986 [grpc-default-executor-1] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(406)) - s2@group-EC7D0AA39E29->s1-GrpcLogAppender is already stopped
2023-03-07 04:44:33,986 [grpc-default-executor-6] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onError(406)) - s2@group-EC7D0AA39E29->s1-GrpcLogAppender is already stopped
2023-03-07 04:44:33,986 [Thread-882] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(102)) - s1 Close channels
2023-03-07 04:44:33,985 [Thread-880] INFO  server.GrpcServerProtocolClient (GrpcServerProtocolClient.java:close(102)) - s0 Close channels
2023-03-07 04:44:33,988 [grpc-default-executor-6] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(417)) - s2@group-EC7D0AA39E29->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-03-07 04:44:33,988 [grpc-default-executor-6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(128)) - s2@group-EC7D0AA39E29->s0-GrpcLogAppender: Failed to getClient for s0
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s2 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:61)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:115)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:106)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:111)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$500(GrpcLogAppender.java:55)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:418)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:485)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-07 04:44:33,989 [grpc-default-executor-8] INFO  server.GrpcServerProtocolService (GrpcServerProtocolService.java:onCompleted(145)) - s0: Completed APPEND_ENTRIES, lastRequest: null
2023-03-07 04:44:33,989 [grpc-default-executor-6] INFO  server.GrpcLogAppender (GrpcLogAppender.java:onCompleted(417)) - s2@group-EC7D0AA39E29->s0-AppendLogResponseHandler: follower responses appendEntries COMPLETED
2023-03-07 04:44:33,989 [grpc-default-executor-6] WARN  server.GrpcLogAppender (GrpcLogAppender.java:resetClient(128)) - s2@group-EC7D0AA39E29->s0-GrpcLogAppender: Failed to getClient for s0
org.apache.ratis.protocol.exceptions.AlreadyClosedException: s2 is already CLOSED
	at org.apache.ratis.util.PeerProxyMap$PeerAndProxy.getProxy(PeerProxyMap.java:61)
	at org.apache.ratis.util.PeerProxyMap.getProxy(PeerProxyMap.java:115)
	at org.apache.ratis.grpc.server.GrpcLogAppender.getClient(GrpcLogAppender.java:106)
	at org.apache.ratis.grpc.server.GrpcLogAppender.resetClient(GrpcLogAppender.java:111)
	at org.apache.ratis.grpc.server.GrpcLogAppender.access$500(GrpcLogAppender.java:55)
	at org.apache.ratis.grpc.server.GrpcLogAppender$AppendLogResponseHandler.onCompleted(GrpcLogAppender.java:418)
	at org.apache.ratis.thirdparty.io.grpc.stub.ClientCalls$StreamObserverToCallListenerAdapter.onClose(ClientCalls.java:485)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743)
	at org.apache.ratis.thirdparty.io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722)
	at org.apache.ratis.thirdparty.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.ratis.thirdparty.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-07 04:44:33,990 [MiniRaftCluster-28] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcClientProtocolService successfully
2023-03-07 04:44:33,990 [MiniRaftCluster-28] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server GrpcServerProtocolService now
2023-03-07 04:44:33,990 [MiniRaftCluster-27] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s1: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-03-07 04:44:33,991 [MiniRaftCluster-26] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server GrpcServerProtocolService successfully
2023-03-07 04:44:33,991 [MiniRaftCluster-26] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-03-07 04:44:33,992 [MiniRaftCluster-26] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s0: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-03-07 04:44:33,993 [MiniRaftCluster-28] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server GrpcServerProtocolService successfully
2023-03-07 04:44:33,993 [MiniRaftCluster-28] INFO  server.GrpcService (GrpcService.java:closeImpl(311)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService now
2023-03-07 04:44:33,994 [MiniRaftCluster-28] INFO  server.GrpcService (GrpcService.java:closeImpl(320)) - s2: shutdown server org.apache.ratis.grpc.server.GrpcAdminProtocolService successfully
2023-03-07 04:44:34,867 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s2@group-EC7D0AA39E29-SegmentedRaftLogWorker close()
2023-03-07 04:44:34,868 [JvmPauseMonitor27] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2023-03-07 04:44:34,873 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s0@group-EC7D0AA39E29-SegmentedRaftLogWorker close()
2023-03-07 04:44:34,873 [JvmPauseMonitor25] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2023-03-07 04:44:34,982 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s1@group-EC7D0AA39E29-SegmentedRaftLogWorker close()
2023-03-07 04:44:34,983 [JvmPauseMonitor26] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2023-03-07 04:44:34,983 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithGrpc shutdown completed
