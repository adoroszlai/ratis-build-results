2023-03-05 19:58:20,605 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-03-05 19:58:20,607 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-03-05 19:58:20,611 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2023-03-05 19:58:20,611 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.raftlog.RaftLog log level to DEBUG
2023-03-05 19:58:20,612 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.RaftClient log level to DEBUG
2023-03-05 19:58:20,634 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2023-03-05 19:58:20,649 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 150 (default)
2023-03-05 19:58:20,697 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithSimulatedRpc with group-2556E5DBEC08:[s0|rpc:localhost:44417|admin:localhost:44413|client:localhost:38335|dataStream:localhost:44207|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44535|admin:localhost:37259|client:localhost:37515|dataStream:localhost:34369|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42345|admin:localhost:33263|client:localhost:44641|dataStream:localhost:38945|priority:0|startupRole:FOLLOWER]
2023-03-05 19:58:20,698 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-03-05 19:58:20,698 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-03-05 19:58:20,698 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2023-03-05 19:58:20,698 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-03-05 19:58:20,698 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-03-05 19:58:20,698 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-03-05 19:58:20,702 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-2556E5DBEC08:[s0|rpc:localhost:44417|admin:localhost:44413|client:localhost:38335|dataStream:localhost:44207|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44535|admin:localhost:37259|client:localhost:37515|dataStream:localhost:34369|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42345|admin:localhost:33263|client:localhost:44641|dataStream:localhost:38945|priority:0|startupRole:FOLLOWER], format? true
2023-03-05 19:58:20,703 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc5442177d/s0
2023-03-05 19:58:20,704 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc5442177d/s0 does not exist.
2023-03-05 19:58:20,704 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc5442177d/s0
2023-03-05 19:58:20,727 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-05 19:58:20,738 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-05 19:58:20,757 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-05 19:58:20,759 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-05 19:58:20,764 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 19:58:20,765 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 19:58:20,768 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc5442177d/s0] (custom)
2023-03-05 19:58:20,775 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-2556E5DBEC08:[s0|rpc:localhost:44417|admin:localhost:44413|client:localhost:38335|dataStream:localhost:44207|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44535|admin:localhost:37259|client:localhost:37515|dataStream:localhost:34369|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42345|admin:localhost:33263|client:localhost:44641|dataStream:localhost:38945|priority:0|startupRole:FOLLOWER] returns group-2556E5DBEC08:java.util.concurrent.CompletableFuture@52ad55e0[Not completed]
2023-03-05 19:58:20,775 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-2556E5DBEC08:[s0|rpc:localhost:44417|admin:localhost:44413|client:localhost:38335|dataStream:localhost:44207|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44535|admin:localhost:37259|client:localhost:37515|dataStream:localhost:34369|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42345|admin:localhost:33263|client:localhost:44641|dataStream:localhost:38945|priority:0|startupRole:FOLLOWER], format? true
2023-03-05 19:58:20,776 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc5442177d/s1
2023-03-05 19:58:20,776 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc5442177d/s1 does not exist.
2023-03-05 19:58:20,776 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc5442177d/s1
2023-03-05 19:58:20,776 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-05 19:58:20,777 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-05 19:58:20,777 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-05 19:58:20,777 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-05 19:58:20,778 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 19:58:20,778 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 19:58:20,778 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc5442177d/s1] (custom)
2023-03-05 19:58:20,792 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-2556E5DBEC08:[s0|rpc:localhost:44417|admin:localhost:44413|client:localhost:38335|dataStream:localhost:44207|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44535|admin:localhost:37259|client:localhost:37515|dataStream:localhost:34369|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42345|admin:localhost:33263|client:localhost:44641|dataStream:localhost:38945|priority:0|startupRole:FOLLOWER] returns group-2556E5DBEC08:java.util.concurrent.CompletableFuture@16a45dd2[Not completed]
2023-03-05 19:58:20,793 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-2556E5DBEC08:[s0|rpc:localhost:44417|admin:localhost:44413|client:localhost:38335|dataStream:localhost:44207|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44535|admin:localhost:37259|client:localhost:37515|dataStream:localhost:34369|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42345|admin:localhost:33263|client:localhost:44641|dataStream:localhost:38945|priority:0|startupRole:FOLLOWER], format? true
2023-03-05 19:58:20,793 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc5442177d/s2
2023-03-05 19:58:20,793 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc5442177d/s2 does not exist.
2023-03-05 19:58:20,793 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc5442177d/s2
2023-03-05 19:58:20,794 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-05 19:58:20,795 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-05 19:58:20,795 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-05 19:58:20,795 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-05 19:58:20,795 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 19:58:20,796 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 19:58:20,799 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc5442177d/s2] (custom)
2023-03-05 19:58:20,806 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-2556E5DBEC08:[s0|rpc:localhost:44417|admin:localhost:44413|client:localhost:38335|dataStream:localhost:44207|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44535|admin:localhost:37259|client:localhost:37515|dataStream:localhost:34369|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42345|admin:localhost:33263|client:localhost:44641|dataStream:localhost:38945|priority:0|startupRole:FOLLOWER] returns group-2556E5DBEC08:java.util.concurrent.CompletableFuture@f3f160f[Not completed]
2023-03-05 19:58:20,811 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 19:58:20,812 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 19:58:20,812 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 19:58:20,814 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 19:58:20,815 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 19:58:20,820 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 19:58:20,820 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 19:58:20,821 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-2556E5DBEC08:[s0|rpc:localhost:44417|admin:localhost:44413|client:localhost:38335|dataStream:localhost:44207|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44535|admin:localhost:37259|client:localhost:37515|dataStream:localhost:34369|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42345|admin:localhost:33263|client:localhost:44641|dataStream:localhost:38945|priority:0|startupRole:FOLLOWER] with StateMachineWithException:uninitialized
2023-03-05 19:58:20,821 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 19:58:20,821 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 19:58:20,821 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-2556E5DBEC08:[s0|rpc:localhost:44417|admin:localhost:44413|client:localhost:38335|dataStream:localhost:44207|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44535|admin:localhost:37259|client:localhost:37515|dataStream:localhost:34369|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42345|admin:localhost:33263|client:localhost:44641|dataStream:localhost:38945|priority:0|startupRole:FOLLOWER] with StateMachineWithException:uninitialized
2023-03-05 19:58:20,822 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-2556E5DBEC08:[s0|rpc:localhost:44417|admin:localhost:44413|client:localhost:38335|dataStream:localhost:44207|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44535|admin:localhost:37259|client:localhost:37515|dataStream:localhost:34369|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42345|admin:localhost:33263|client:localhost:44641|dataStream:localhost:38945|priority:0|startupRole:FOLLOWER] with StateMachineWithException:uninitialized
2023-03-05 19:58:20,824 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-05 19:58:20,825 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-05 19:58:20,825 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-05 19:58:20,825 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-05 19:58:20,824 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-05 19:58:20,826 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-05 19:58:20,826 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-05 19:58:20,826 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 19:58:20,826 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 19:58:20,826 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-05 19:58:20,825 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-05 19:58:20,827 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 19:58:20,827 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 19:58:20,827 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-05 19:58:20,825 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-05 19:58:20,828 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 19:58:20,828 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 19:58:20,828 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-05 19:58:20,832 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-2556E5DBEC08: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:44417|admin:localhost:44413|client:localhost:38335|dataStream:localhost:44207|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44535|admin:localhost:37259|client:localhost:37515|dataStream:localhost:34369|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42345|admin:localhost:33263|client:localhost:44641|dataStream:localhost:38945|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-05 19:58:20,832 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-2556E5DBEC08: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:44417|admin:localhost:44413|client:localhost:38335|dataStream:localhost:44207|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44535|admin:localhost:37259|client:localhost:37515|dataStream:localhost:34369|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42345|admin:localhost:33263|client:localhost:44641|dataStream:localhost:38945|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-05 19:58:20,841 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-05 19:58:20,841 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-2556E5DBEC08: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:44417|admin:localhost:44413|client:localhost:38335|dataStream:localhost:44207|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44535|admin:localhost:37259|client:localhost:37515|dataStream:localhost:34369|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42345|admin:localhost:33263|client:localhost:44641|dataStream:localhost:38945|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-05 19:58:20,846 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-05 19:58:20,841 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-05 19:58:20,849 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-05 19:58:20,849 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-05 19:58:20,855 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-05 19:58:20,856 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-05 19:58:20,856 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-05 19:58:20,857 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-05 19:58:20,856 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-05 19:58:20,858 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-05 19:58:20,858 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-05 19:58:20,892 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-05 19:58:20,893 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-05 19:58:20,892 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-05 19:58:20,900 [s0-groupManagement] INFO  metrics.MetricRegistries (MetricRegistriesLoader.java:load(64)) - Loaded MetricRegistries class org.apache.ratis.metrics.impl.MetricRegistriesImpl
2023-03-05 19:58:21,092 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-05 19:58:21,092 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-05 19:58:21,092 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-05 19:58:21,093 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-05 19:58:21,093 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-05 19:58:21,094 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-05 19:58:21,092 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-05 19:58:21,094 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-05 19:58:21,094 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-05 19:58:21,097 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-05 19:58:21,098 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-05 19:58:21,097 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-05 19:58:21,098 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-05 19:58:21,098 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-05 19:58:21,099 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-05 19:58:21,100 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-05 19:58:21,100 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc5442177d/s0] (custom)
2023-03-05 19:58:21,108 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-05 19:58:21,118 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc5442177d/s0/0de4f99c-48ff-4ffc-a8eb-2556e5dbec08 does not exist. Creating ...
2023-03-05 19:58:21,120 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc5442177d/s0/0de4f99c-48ff-4ffc-a8eb-2556e5dbec08
2023-03-05 19:58:21,125 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc5442177d/s0/0de4f99c-48ff-4ffc-a8eb-2556e5dbec08/in_use.lock acquired by nodename 8318@fv-az571-453
2023-03-05 19:58:21,126 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc5442177d/s0/0de4f99c-48ff-4ffc-a8eb-2556e5dbec08/current
2023-03-05 19:58:21,126 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc5442177d/s0/0de4f99c-48ff-4ffc-a8eb-2556e5dbec08/sm
2023-03-05 19:58:21,152 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc5442177d/s0/0de4f99c-48ff-4ffc-a8eb-2556e5dbec08 has been successfully formatted.
2023-03-05 19:58:21,153 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing StateMachineWithException:uninitialized
2023-03-05 19:58:21,157 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-03-05 19:58:21,159 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-05 19:58:21,169 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-05 19:58:21,170 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 19:58:21,173 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-05 19:58:21,174 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-05 19:58:21,183 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 19:58:21,191 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-05 19:58:21,191 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-05 19:58:21,192 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 19:58:21,195 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s0@group-2556E5DBEC08-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc5442177d/s0/0de4f99c-48ff-4ffc-a8eb-2556e5dbec08
2023-03-05 19:58:21,196 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-05 19:58:21,196 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-05 19:58:21,198 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 19:58:21,198 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 19:58:21,198 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-05 19:58:21,199 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-05 19:58:21,199 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-05 19:58:21,200 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-05 19:58:21,203 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 19:58:21,206 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 19:58:21,209 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-05 19:58:21,211 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-05 19:58:21,211 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-05 19:58:21,218 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-2556E5DBEC08-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-05 19:58:21,218 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-2556E5DBEC08-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-05 19:58:21,222 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s0@group-2556E5DBEC08: start as a follower, conf=-1: peers:[s0|rpc:localhost:44417|admin:localhost:44413|client:localhost:38335|dataStream:localhost:44207|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44535|admin:localhost:37259|client:localhost:37515|dataStream:localhost:34369|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42345|admin:localhost:33263|client:localhost:44641|dataStream:localhost:38945|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 19:58:21,224 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-2556E5DBEC08: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-05 19:58:21,225 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-2556E5DBEC08-FollowerState
2023-03-05 19:58:21,233 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-2556E5DBEC08,id=s0
2023-03-05 19:58:21,237 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-05 19:58:21,239 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-05 19:58:21,240 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-05 19:58:21,240 [s0@group-2556E5DBEC08-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 19:58:21,241 [s0@group-2556E5DBEC08-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 19:58:21,246 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s0: start RPC server
2023-03-05 19:58:21,249 [JvmPauseMonitor0] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2023-03-05 19:58:21,249 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-05 19:58:21,250 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-05 19:58:21,250 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc5442177d/s1] (custom)
2023-03-05 19:58:21,251 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc5442177d/s1/0de4f99c-48ff-4ffc-a8eb-2556e5dbec08 does not exist. Creating ...
2023-03-05 19:58:21,253 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc5442177d/s1/0de4f99c-48ff-4ffc-a8eb-2556e5dbec08
2023-03-05 19:58:21,255 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc5442177d/s1/0de4f99c-48ff-4ffc-a8eb-2556e5dbec08/in_use.lock acquired by nodename 8318@fv-az571-453
2023-03-05 19:58:21,255 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc5442177d/s1/0de4f99c-48ff-4ffc-a8eb-2556e5dbec08/current
2023-03-05 19:58:21,255 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc5442177d/s1/0de4f99c-48ff-4ffc-a8eb-2556e5dbec08/sm
2023-03-05 19:58:21,257 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc5442177d/s1/0de4f99c-48ff-4ffc-a8eb-2556e5dbec08 has been successfully formatted.
2023-03-05 19:58:21,257 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing StateMachineWithException:uninitialized
2023-03-05 19:58:21,258 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-03-05 19:58:21,258 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-05 19:58:21,258 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-05 19:58:21,258 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 19:58:21,258 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-05 19:58:21,258 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-05 19:58:21,261 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 19:58:21,261 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-05 19:58:21,262 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-05 19:58:21,262 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 19:58:21,262 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s1@group-2556E5DBEC08-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc5442177d/s1/0de4f99c-48ff-4ffc-a8eb-2556e5dbec08
2023-03-05 19:58:21,262 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-05 19:58:21,262 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-05 19:58:21,263 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 19:58:21,263 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 19:58:21,263 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-05 19:58:21,263 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-05 19:58:21,263 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-05 19:58:21,263 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-05 19:58:21,264 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 19:58:21,264 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 19:58:21,266 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-05 19:58:21,266 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-05 19:58:21,266 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-05 19:58:21,267 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-2556E5DBEC08-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-05 19:58:21,267 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-2556E5DBEC08-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-05 19:58:21,267 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s1@group-2556E5DBEC08: start as a follower, conf=-1: peers:[s0|rpc:localhost:44417|admin:localhost:44413|client:localhost:38335|dataStream:localhost:44207|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44535|admin:localhost:37259|client:localhost:37515|dataStream:localhost:34369|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42345|admin:localhost:33263|client:localhost:44641|dataStream:localhost:38945|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 19:58:21,267 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-2556E5DBEC08: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-05 19:58:21,267 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-2556E5DBEC08-FollowerState
2023-03-05 19:58:21,271 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-2556E5DBEC08,id=s1
2023-03-05 19:58:21,274 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-05 19:58:21,274 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-05 19:58:21,275 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-05 19:58:21,275 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s1: start RPC server
2023-03-05 19:58:21,277 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-05 19:58:21,277 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-05 19:58:21,277 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc5442177d/s2] (custom)
2023-03-05 19:58:21,277 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc5442177d/s2/0de4f99c-48ff-4ffc-a8eb-2556e5dbec08 does not exist. Creating ...
2023-03-05 19:58:21,278 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc5442177d/s2/0de4f99c-48ff-4ffc-a8eb-2556e5dbec08
2023-03-05 19:58:21,284 [s1@group-2556E5DBEC08-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 19:58:21,284 [s1@group-2556E5DBEC08-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 19:58:21,288 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc5442177d/s2/0de4f99c-48ff-4ffc-a8eb-2556e5dbec08/in_use.lock acquired by nodename 8318@fv-az571-453
2023-03-05 19:58:21,288 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc5442177d/s2/0de4f99c-48ff-4ffc-a8eb-2556e5dbec08/current
2023-03-05 19:58:21,289 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc5442177d/s2/0de4f99c-48ff-4ffc-a8eb-2556e5dbec08/sm
2023-03-05 19:58:21,290 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc5442177d/s2/0de4f99c-48ff-4ffc-a8eb-2556e5dbec08 has been successfully formatted.
2023-03-05 19:58:21,291 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing StateMachineWithException:uninitialized
2023-03-05 19:58:21,291 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-03-05 19:58:21,291 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-05 19:58:21,292 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-05 19:58:21,292 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 19:58:21,292 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-05 19:58:21,292 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-05 19:58:21,295 [JvmPauseMonitor1] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2023-03-05 19:58:21,300 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 19:58:21,301 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-05 19:58:21,301 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-05 19:58:21,302 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 19:58:21,302 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s2@group-2556E5DBEC08-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc5442177d/s2/0de4f99c-48ff-4ffc-a8eb-2556e5dbec08
2023-03-05 19:58:21,302 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-05 19:58:21,302 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-05 19:58:21,302 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 19:58:21,303 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 19:58:21,304 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-05 19:58:21,305 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-05 19:58:21,305 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-05 19:58:21,307 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-05 19:58:21,308 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 19:58:21,308 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 19:58:21,310 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-05 19:58:21,310 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-05 19:58:21,310 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-05 19:58:21,311 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-2556E5DBEC08-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-05 19:58:21,311 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-2556E5DBEC08-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-05 19:58:21,311 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s2@group-2556E5DBEC08: start as a follower, conf=-1: peers:[s0|rpc:localhost:44417|admin:localhost:44413|client:localhost:38335|dataStream:localhost:44207|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44535|admin:localhost:37259|client:localhost:37515|dataStream:localhost:34369|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42345|admin:localhost:33263|client:localhost:44641|dataStream:localhost:38945|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 19:58:21,311 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-2556E5DBEC08: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-05 19:58:21,312 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-2556E5DBEC08-FollowerState
2023-03-05 19:58:21,312 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-2556E5DBEC08,id=s2
2023-03-05 19:58:21,312 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-05 19:58:21,312 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-05 19:58:21,313 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-05 19:58:21,314 [s2@group-2556E5DBEC08-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 19:58:21,317 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s2: start RPC server
2023-03-05 19:58:21,321 [s2@group-2556E5DBEC08-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 19:58:21,329 [JvmPauseMonitor2] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2023-03-05 19:58:21,332 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-05 19:58:21,334 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-2556E5DBEC08:t0, leader=null, voted=, raftlog=Memoized:s0@group-2556E5DBEC08-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44417|admin:localhost:44413|client:localhost:38335|dataStream:localhost:44207|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44535|admin:localhost:37259|client:localhost:37515|dataStream:localhost:34369|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42345|admin:localhost:33263|client:localhost:44641|dataStream:localhost:38945|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-2556E5DBEC08:t0, leader=null, voted=, raftlog=Memoized:s1@group-2556E5DBEC08-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44417|admin:localhost:44413|client:localhost:38335|dataStream:localhost:44207|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44535|admin:localhost:37259|client:localhost:37515|dataStream:localhost:34369|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42345|admin:localhost:33263|client:localhost:44641|dataStream:localhost:38945|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-2556E5DBEC08:t0, leader=null, voted=, raftlog=Memoized:s2@group-2556E5DBEC08-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44417|admin:localhost:44413|client:localhost:38335|dataStream:localhost:44207|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44535|admin:localhost:37259|client:localhost:37515|dataStream:localhost:34369|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42345|admin:localhost:33263|client:localhost:44641|dataStream:localhost:38945|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-05 19:58:21,343 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-2556E5DBEC08:t0, leader=null, voted=, raftlog=Memoized:s0@group-2556E5DBEC08-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44417|admin:localhost:44413|client:localhost:38335|dataStream:localhost:44207|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44535|admin:localhost:37259|client:localhost:37515|dataStream:localhost:34369|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42345|admin:localhost:33263|client:localhost:44641|dataStream:localhost:38945|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-2556E5DBEC08:t0, leader=null, voted=, raftlog=Memoized:s1@group-2556E5DBEC08-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44417|admin:localhost:44413|client:localhost:38335|dataStream:localhost:44207|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44535|admin:localhost:37259|client:localhost:37515|dataStream:localhost:34369|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42345|admin:localhost:33263|client:localhost:44641|dataStream:localhost:38945|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-2556E5DBEC08:t0, leader=null, voted=, raftlog=Memoized:s2@group-2556E5DBEC08-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44417|admin:localhost:44413|client:localhost:38335|dataStream:localhost:44207|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44535|admin:localhost:37259|client:localhost:37515|dataStream:localhost:34369|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42345|admin:localhost:33263|client:localhost:44641|dataStream:localhost:38945|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-2556E5DBEC08:t0, leader=null, voted=, raftlog=Memoized:s0@group-2556E5DBEC08-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44417|admin:localhost:44413|client:localhost:38335|dataStream:localhost:44207|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44535|admin:localhost:37259|client:localhost:37515|dataStream:localhost:34369|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42345|admin:localhost:33263|client:localhost:44641|dataStream:localhost:38945|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-2556E5DBEC08:t0, leader=null, voted=, raftlog=Memoized:s1@group-2556E5DBEC08-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44417|admin:localhost:44413|client:localhost:38335|dataStream:localhost:44207|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44535|admin:localhost:37259|client:localhost:37515|dataStream:localhost:34369|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42345|admin:localhost:33263|client:localhost:44641|dataStream:localhost:38945|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-2556E5DBEC08:t0, leader=null, voted=, raftlog=Memoized:s2@group-2556E5DBEC08-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44417|admin:localhost:44413|client:localhost:38335|dataStream:localhost:44207|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44535|admin:localhost:37259|client:localhost:37515|dataStream:localhost:34369|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42345|admin:localhost:33263|client:localhost:44641|dataStream:localhost:38945|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnStateMachineException(RaftStateMachineExceptionTests.java:106)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnStateMachineException(RaftStateMachineExceptionTests.java:102)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-05 19:58:21,463 [s1@group-2556E5DBEC08-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-2556E5DBEC08-FollowerState: change to CANDIDATE, lastRpcElapsedTime:195869914ns, electionTimeout:178ms
2023-03-05 19:58:21,464 [s1@group-2556E5DBEC08-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-2556E5DBEC08-FollowerState
2023-03-05 19:58:21,464 [s1@group-2556E5DBEC08-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-2556E5DBEC08: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-03-05 19:58:21,467 [s1@group-2556E5DBEC08-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-05 19:58:21,467 [s1@group-2556E5DBEC08-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-2556E5DBEC08-LeaderElection1
2023-03-05 19:58:21,479 [s1@group-2556E5DBEC08-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-2556E5DBEC08-LeaderElection1 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:44417|admin:localhost:44413|client:localhost:38335|dataStream:localhost:44207|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44535|admin:localhost:37259|client:localhost:37515|dataStream:localhost:34369|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42345|admin:localhost:33263|client:localhost:44641|dataStream:localhost:38945|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 19:58:21,504 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s0@group-2556E5DBEC08: receive requestVote(PRE_VOTE, s1, group-2556E5DBEC08, 0, (t:0, i:0))
2023-03-05 19:58:21,506 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-2556E5DBEC08-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-03-05 19:58:21,523 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s0@group-2556E5DBEC08 replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-2556E5DBEC08:t0, leader=null, voted=, raftlog=Memoized:s0@group-2556E5DBEC08-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44417|admin:localhost:44413|client:localhost:38335|dataStream:localhost:44207|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44535|admin:localhost:37259|client:localhost:37515|dataStream:localhost:34369|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42345|admin:localhost:33263|client:localhost:44641|dataStream:localhost:38945|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 19:58:21,523 [s1@group-2556E5DBEC08-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 19:58:21,524 [s1@group-2556E5DBEC08-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 19:58:21,526 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s2@group-2556E5DBEC08: receive requestVote(PRE_VOTE, s1, group-2556E5DBEC08, 0, (t:0, i:0))
2023-03-05 19:58:21,527 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-2556E5DBEC08-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-03-05 19:58:21,527 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s2@group-2556E5DBEC08 replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-2556E5DBEC08:t0, leader=null, voted=, raftlog=Memoized:s2@group-2556E5DBEC08-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44417|admin:localhost:44413|client:localhost:38335|dataStream:localhost:44207|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44535|admin:localhost:37259|client:localhost:37515|dataStream:localhost:34369|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42345|admin:localhost:33263|client:localhost:44641|dataStream:localhost:38945|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 19:58:21,532 [s0@group-2556E5DBEC08-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 19:58:21,532 [s0@group-2556E5DBEC08-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 19:58:21,539 [s1@group-2556E5DBEC08-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-2556E5DBEC08-LeaderElection1: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-03-05 19:58:21,539 [s1@group-2556E5DBEC08-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t0
2023-03-05 19:58:21,539 [s1@group-2556E5DBEC08-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-2556E5DBEC08-LeaderElection1 PRE_VOTE round 0: result PASSED
2023-03-05 19:58:21,541 [s1@group-2556E5DBEC08-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-2556E5DBEC08-LeaderElection1 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:44417|admin:localhost:44413|client:localhost:38335|dataStream:localhost:44207|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44535|admin:localhost:37259|client:localhost:37515|dataStream:localhost:34369|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42345|admin:localhost:33263|client:localhost:44641|dataStream:localhost:38945|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 19:58:21,545 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s0@group-2556E5DBEC08: receive requestVote(ELECTION, s1, group-2556E5DBEC08, 1, (t:0, i:0))
2023-03-05 19:58:21,545 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-2556E5DBEC08-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2023-03-05 19:58:21,546 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-2556E5DBEC08: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2023-03-05 19:58:21,546 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-2556E5DBEC08-FollowerState
2023-03-05 19:58:21,547 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-2556E5DBEC08-FollowerState
2023-03-05 19:58:21,546 [s0@group-2556E5DBEC08-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-2556E5DBEC08-FollowerState was interrupted
2023-03-05 19:58:21,553 [s1@group-2556E5DBEC08-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 19:58:21,554 [s1@group-2556E5DBEC08-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 19:58:21,554 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s0@group-2556E5DBEC08 replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-2556E5DBEC08:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-2556E5DBEC08-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44417|admin:localhost:44413|client:localhost:38335|dataStream:localhost:44207|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44535|admin:localhost:37259|client:localhost:37515|dataStream:localhost:34369|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42345|admin:localhost:33263|client:localhost:44641|dataStream:localhost:38945|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 19:58:21,558 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s2@group-2556E5DBEC08: receive requestVote(ELECTION, s1, group-2556E5DBEC08, 1, (t:0, i:0))
2023-03-05 19:58:21,554 [s0@group-2556E5DBEC08-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 19:58:21,558 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-2556E5DBEC08-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2023-03-05 19:58:21,559 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-2556E5DBEC08: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2023-03-05 19:58:21,559 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-2556E5DBEC08-FollowerState
2023-03-05 19:58:21,559 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-2556E5DBEC08-FollowerState
2023-03-05 19:58:21,561 [s0@group-2556E5DBEC08-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 19:58:21,561 [s2@group-2556E5DBEC08-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-2556E5DBEC08-FollowerState was interrupted
2023-03-05 19:58:21,561 [s2@group-2556E5DBEC08-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 19:58:21,564 [s1@group-2556E5DBEC08-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-2556E5DBEC08-LeaderElection1: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-03-05 19:58:21,568 [s1@group-2556E5DBEC08-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t1
2023-03-05 19:58:21,569 [s1@group-2556E5DBEC08-LeaderElection1] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-2556E5DBEC08-LeaderElection1 ELECTION round 0: result PASSED
2023-03-05 19:58:21,569 [s1@group-2556E5DBEC08-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-2556E5DBEC08-LeaderElection1
2023-03-05 19:58:21,569 [s1@group-2556E5DBEC08-LeaderElection1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-2556E5DBEC08: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-03-05 19:58:21,569 [s1@group-2556E5DBEC08-LeaderElection1] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-2556E5DBEC08: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 728ms
2023-03-05 19:58:21,562 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s2@group-2556E5DBEC08 replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-2556E5DBEC08:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-2556E5DBEC08-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:44417|admin:localhost:44413|client:localhost:38335|dataStream:localhost:44207|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44535|admin:localhost:37259|client:localhost:37515|dataStream:localhost:34369|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42345|admin:localhost:33263|client:localhost:44641|dataStream:localhost:38945|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 19:58:21,568 [s2@group-2556E5DBEC08-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 19:58:21,587 [s1@group-2556E5DBEC08-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-03-05 19:58:21,600 [s1@group-2556E5DBEC08-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-05 19:58:21,602 [s1@group-2556E5DBEC08-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2023-03-05 19:58:21,610 [s1@group-2556E5DBEC08-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-03-05 19:58:21,610 [s1@group-2556E5DBEC08-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-03-05 19:58:21,611 [s1@group-2556E5DBEC08-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-03-05 19:58:21,618 [s1@group-2556E5DBEC08-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-05 19:58:21,621 [s1@group-2556E5DBEC08-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-03-05 19:58:21,636 [s1@group-2556E5DBEC08-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-05 19:58:21,637 [s1@group-2556E5DBEC08-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 19:58:21,638 [s1@group-2556E5DBEC08-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-05 19:58:21,640 [s1@group-2556E5DBEC08-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-05 19:58:21,641 [s1@group-2556E5DBEC08-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-05 19:58:21,644 [s1@group-2556E5DBEC08-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 19:58:21,644 [s1@group-2556E5DBEC08-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-05 19:58:21,644 [s1@group-2556E5DBEC08-LeaderElection1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-05 19:58:21,645 [s1@group-2556E5DBEC08-LeaderElection1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-2556E5DBEC08-LeaderStateImpl
2023-03-05 19:58:21,659 [s1@group-2556E5DBEC08-LeaderElection1] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-03-05 19:58:21,664 [s1@group-2556E5DBEC08-LeaderElection1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s1@group-2556E5DBEC08-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-05 19:58:21,701 [s1@group-2556E5DBEC08-LeaderElection1] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s1@group-2556E5DBEC08: set configuration 0: peers:[s0|rpc:localhost:44417|admin:localhost:44413|client:localhost:38335|dataStream:localhost:44207|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44535|admin:localhost:37259|client:localhost:37515|dataStream:localhost:34369|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42345|admin:localhost:33263|client:localhost:44641|dataStream:localhost:38945|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 19:58:21,716 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-2556E5DBEC08: change Leader from null to s1 at term 1 for appendEntries, leader elected after 869ms
2023-03-05 19:58:21,733 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-2556E5DBEC08: change Leader from null to s1 at term 1 for appendEntries, leader elected after 891ms
2023-03-05 19:58:21,765 [s1@group-2556E5DBEC08-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s1@group-2556E5DBEC08-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc5442177d/s1/0de4f99c-48ff-4ffc-a8eb-2556e5dbec08/current/log_inprogress_0
2023-03-05 19:58:21,799 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #2/100: java.lang.IllegalStateException: Leader: s1@group-2556E5DBEC08 not ready, sleep 450ms and then retry.
java.lang.IllegalStateException: Leader: s1@group-2556E5DBEC08 not ready
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:114)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnStateMachineException(RaftStateMachineExceptionTests.java:106)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnStateMachineException(RaftStateMachineExceptionTests.java:102)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-05 19:58:21,851 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1429)) - s0@group-2556E5DBEC08: receive appendEntries(s1, 1, null, -1, true, commits:[s1:c-1, s0:c-1, s2:c-1], cId:4, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:44417"
dataStreamAddress: "localhost:44207"
clientAddress: "localhost:38335"
adminAddress: "localhost:44413"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:44535"
dataStreamAddress: "localhost:34369"
clientAddress: "localhost:37515"
adminAddress: "localhost:37259"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:42345"
dataStreamAddress: "localhost:38945"
clientAddress: "localhost:44641"
adminAddress: "localhost:33263"
startupRole: FOLLOWER
, old:)]
2023-03-05 19:58:21,853 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-2556E5DBEC08: set configuration 0: peers:[s0|rpc:localhost:44417|admin:localhost:44413|client:localhost:38335|dataStream:localhost:44207|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44535|admin:localhost:37259|client:localhost:37515|dataStream:localhost:34369|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42345|admin:localhost:33263|client:localhost:44641|dataStream:localhost:38945|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 19:58:21,854 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1429)) - s2@group-2556E5DBEC08: receive appendEntries(s1, 1, null, -1, true, commits:[s1:c-1, s0:c-1, s2:c-1], cId:5, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:44417"
dataStreamAddress: "localhost:44207"
clientAddress: "localhost:38335"
adminAddress: "localhost:44413"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:44535"
dataStreamAddress: "localhost:34369"
clientAddress: "localhost:37515"
adminAddress: "localhost:37259"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:42345"
dataStreamAddress: "localhost:38945"
clientAddress: "localhost:44641"
adminAddress: "localhost:33263"
startupRole: FOLLOWER
, old:)]
2023-03-05 19:58:21,853 [HandlerDaemon-0] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-03-05 19:58:21,855 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s0@group-2556E5DBEC08-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-05 19:58:21,856 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s2@group-2556E5DBEC08: set configuration 0: peers:[s0|rpc:localhost:44417|admin:localhost:44413|client:localhost:38335|dataStream:localhost:44207|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44535|admin:localhost:37259|client:localhost:37515|dataStream:localhost:34369|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42345|admin:localhost:33263|client:localhost:44641|dataStream:localhost:38945|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 19:58:21,861 [HandlerDaemon-0] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-03-05 19:58:21,861 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s2@group-2556E5DBEC08-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-05 19:58:21,873 [s0@group-2556E5DBEC08-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s0@group-2556E5DBEC08-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc5442177d/s0/0de4f99c-48ff-4ffc-a8eb-2556e5dbec08/current/log_inprogress_0
2023-03-05 19:58:21,874 [s2@group-2556E5DBEC08-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s2@group-2556E5DBEC08-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc5442177d/s2/0de4f99c-48ff-4ffc-a8eb-2556e5dbec08/current/log_inprogress_0
2023-03-05 19:58:21,876 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1429)) - s0@group-2556E5DBEC08: succeeded to handle AppendEntries. Reply: s1<-s0#4:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-03-05 19:58:21,877 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1429)) - s2@group-2556E5DBEC08: succeeded to handle AppendEntries. Reply: s1<-s2#5:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-03-05 19:58:22,250 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-2556E5DBEC08:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-2556E5DBEC08-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:44417|admin:localhost:44413|client:localhost:38335|dataStream:localhost:44207|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44535|admin:localhost:37259|client:localhost:37515|dataStream:localhost:34369|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42345|admin:localhost:33263|client:localhost:44641|dataStream:localhost:38945|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-2556E5DBEC08:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-2556E5DBEC08-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:44417|admin:localhost:44413|client:localhost:38335|dataStream:localhost:44207|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44535|admin:localhost:37259|client:localhost:37515|dataStream:localhost:34369|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42345|admin:localhost:33263|client:localhost:44641|dataStream:localhost:38945|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-2556E5DBEC08:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-2556E5DBEC08-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:44417|admin:localhost:44413|client:localhost:38335|dataStream:localhost:44207|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44535|admin:localhost:37259|client:localhost:37515|dataStream:localhost:34369|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42345|admin:localhost:33263|client:localhost:44641|dataStream:localhost:38945|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-05 19:58:22,254 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-05 19:58:22,274 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(832)) - s1@group-2556E5DBEC08: receive client request(RaftClientRequest:client-513DE3D01DFA->s1@group-2556E5DBEC08, cid=22, seq=0, RW, first msg to make leader ready)
2023-03-05 19:58:22,302 [s1-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(474)) - s1@group-2556E5DBEC08-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-513DE3D01DFA->s1@group-2556E5DBEC08, cid=22, seq=0, RW, first msg to make leader ready, entry=(t:1, i:1), STATEMACHINELOGENTRY, 22@client-513DE3D01DFA
2023-03-05 19:58:22,304 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1429)) - s0@group-2556E5DBEC08: receive appendEntries(s1, 1, (t:1, i:0), 0, true, commits:[s1:c0, s0:c0, s2:c0], cId:23, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 22@client-513DE3D01DFA]
2023-03-05 19:58:22,304 [HandlerDaemon-2] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-03-05 19:58:22,306 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1429)) - s0@group-2556E5DBEC08: succeeded to handle AppendEntries. Reply: s1<-s0#23:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2023-03-05 19:58:22,306 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1429)) - s2@group-2556E5DBEC08: receive appendEntries(s1, 1, (t:1, i:0), 0, true, commits:[s1:c0, s0:c0, s2:c0], cId:24, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 22@client-513DE3D01DFA]
2023-03-05 19:58:22,306 [HandlerDaemon-2] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-03-05 19:58:22,307 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1429)) - s2@group-2556E5DBEC08: succeeded to handle AppendEntries. Reply: s1<-s2#24:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2023-03-05 19:58:22,327 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1429)) - s2@group-2556E5DBEC08: receive appendEntries(s1, 1, (t:1, i:1), 1, true, commits:[s1:c1, s0:c0, s2:c0], cId:25, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2023-03-05 19:58:22,327 [HandlerDaemon-0] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-03-05 19:58:22,328 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1429)) - s2@group-2556E5DBEC08: succeeded to handle AppendEntries. Reply: s1<-s2#25:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2023-03-05 19:58:22,330 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1429)) - s0@group-2556E5DBEC08: receive appendEntries(s1, 1, (t:1, i:1), 1, true, commits:[s1:c1, s0:c0, s2:c0], cId:26, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2023-03-05 19:58:22,330 [HandlerDaemon-0] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-03-05 19:58:22,332 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1429)) - s0@group-2556E5DBEC08: succeeded to handle AppendEntries. Reply: s1<-s0#26:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2023-03-05 19:58:22,344 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-05 19:58:22,344 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(832)) - s1@group-2556E5DBEC08: receive client request(RaftClientRequest:client-D098BE753FE9->s1@group-2556E5DBEC08, cid=999, seq=0, RW, message)
2023-03-05 19:58:22,345 [s1-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(474)) - s1@group-2556E5DBEC08-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-D098BE753FE9->s1@group-2556E5DBEC08, cid=999, seq=0, RW, message, entry=(t:1, i:3), STATEMACHINELOGENTRY, 999@client-D098BE753FE9
2023-03-05 19:58:22,346 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1429)) - s0@group-2556E5DBEC08: receive appendEntries(s1, 1, (t:1, i:2), 2, true, commits:[s1:c2, s0:c1, s2:c1], cId:27, entries: [(t:1, i:3), STATEMACHINELOGENTRY, 999@client-D098BE753FE9]
2023-03-05 19:58:22,346 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1429)) - s2@group-2556E5DBEC08: receive appendEntries(s1, 1, (t:1, i:2), 2, true, commits:[s1:c2, s0:c1, s2:c1], cId:28, entries: [(t:1, i:3), STATEMACHINELOGENTRY, 999@client-D098BE753FE9]
2023-03-05 19:58:22,346 [HandlerDaemon-1] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-03-05 19:58:22,346 [HandlerDaemon-1] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-03-05 19:58:22,348 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1429)) - s0@group-2556E5DBEC08: succeeded to handle AppendEntries. Reply: s1<-s0#27:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2023-03-05 19:58:22,349 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1429)) - s2@group-2556E5DBEC08: succeeded to handle AppendEntries. Reply: s1<-s2#28:OK-t1,SUCCESS,nextIndex=4,followerCommit=2,matchIndex=3
2023-03-05 19:58:22,361 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1429)) - s0@group-2556E5DBEC08: receive appendEntries(s1, 1, (t:1, i:3), 3, true, commits:[s1:c3, s0:c2, s2:c1], cId:29, entries: [(t:1, i:4), METADATAENTRY(c:3)]
2023-03-05 19:58:22,361 [HandlerDaemon-2] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-03-05 19:58:22,363 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1429)) - s0@group-2556E5DBEC08: succeeded to handle AppendEntries. Reply: s1<-s0#29:OK-t1,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2023-03-05 19:58:22,363 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1429)) - s2@group-2556E5DBEC08: receive appendEntries(s1, 1, (t:1, i:3), 3, true, commits:[s1:c3, s0:c2, s2:c2], cId:30, entries: [(t:1, i:4), METADATAENTRY(c:3)]
2023-03-05 19:58:22,363 [HandlerDaemon-2] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-03-05 19:58:22,364 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1429)) - s2@group-2556E5DBEC08: succeeded to handle AppendEntries. Reply: s1<-s2#30:OK-t1,SUCCESS,nextIndex=5,followerCommit=3,matchIndex=4
2023-03-05 19:58:22,376 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(832)) - s1@group-2556E5DBEC08: receive client request(RaftClientRequest:client-D098BE753FE9->s1@group-2556E5DBEC08, cid=999, seq=0, RW, message)
2023-03-05 19:58:22,388 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(832)) - s1@group-2556E5DBEC08: receive client request(RaftClientRequest:client-D098BE753FE9->s1@group-2556E5DBEC08, cid=999, seq=0, RW, message)
2023-03-05 19:58:22,406 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(832)) - s1@group-2556E5DBEC08: receive client request(RaftClientRequest:client-D098BE753FE9->s1@group-2556E5DBEC08, cid=999, seq=0, RW, message)
2023-03-05 19:58:22,424 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(832)) - s1@group-2556E5DBEC08: receive client request(RaftClientRequest:client-D098BE753FE9->s1@group-2556E5DBEC08, cid=999, seq=0, RW, message)
2023-03-05 19:58:22,443 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(832)) - s1@group-2556E5DBEC08: receive client request(RaftClientRequest:client-D098BE753FE9->s1@group-2556E5DBEC08, cid=999, seq=0, RW, message)
2023-03-05 19:58:22,461 [Time-limited test] INFO  simulation.TestRaftStateMachineExceptionWithSimulatedRpc (RaftStateMachineExceptionTests.java:runTestRetryOnStateMachineException(130)) - check server s0
2023-03-05 19:58:22,462 [Time-limited test] INFO  simulation.TestRaftStateMachineExceptionWithSimulatedRpc (RaftStateMachineExceptionTests.java:runTestRetryOnStateMachineException(130)) - check server s1
2023-03-05 19:58:22,462 [Time-limited test] INFO  simulation.TestRaftStateMachineExceptionWithSimulatedRpc (RaftStateMachineExceptionTests.java:runTestRetryOnStateMachineException(130)) - check server s2
2023-03-05 19:58:22,462 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-03-05 19:58:22,462 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-03-05 19:58:22,462 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2023-03-05 19:58:22,462 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-03-05 19:58:22,463 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-03-05 19:58:22,463 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-2556E5DBEC08:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-2556E5DBEC08-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:44417|admin:localhost:44413|client:localhost:38335|dataStream:localhost:44207|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44535|admin:localhost:37259|client:localhost:37515|dataStream:localhost:34369|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42345|admin:localhost:33263|client:localhost:44641|dataStream:localhost:38945|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-2556E5DBEC08:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-2556E5DBEC08-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:44417|admin:localhost:44413|client:localhost:38335|dataStream:localhost:44207|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44535|admin:localhost:37259|client:localhost:37515|dataStream:localhost:34369|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42345|admin:localhost:33263|client:localhost:44641|dataStream:localhost:38945|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-2556E5DBEC08:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-2556E5DBEC08-SegmentedRaftLog:OPENED:c4, conf=0: peers:[s0|rpc:localhost:44417|admin:localhost:44413|client:localhost:38335|dataStream:localhost:44207|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44535|admin:localhost:37259|client:localhost:37515|dataStream:localhost:34369|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42345|admin:localhost:33263|client:localhost:44641|dataStream:localhost:38945|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-05 19:58:22,469 [MiniRaftCluster-1] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s0: close
2023-03-05 19:58:22,470 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s0@group-2556E5DBEC08: shutdown
2023-03-05 19:58:22,472 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-2556E5DBEC08,id=s0
2023-03-05 19:58:22,472 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-2556E5DBEC08-FollowerState
2023-03-05 19:58:22,472 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-2556E5DBEC08-StateMachineUpdater: set stopIndex = 4
2023-03-05 19:58:22,472 [s0@group-2556E5DBEC08-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-2556E5DBEC08-FollowerState was interrupted
2023-03-05 19:58:22,470 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-05 19:58:22,472 [MiniRaftCluster-3] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s2: close
2023-03-05 19:58:22,471 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-05 19:58:22,472 [MiniRaftCluster-2] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s1: close
2023-03-05 19:58:22,471 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-05 19:58:22,480 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s0@group-2556E5DBEC08: applyIndex: 4
2023-03-05 19:58:22,481 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s2@group-2556E5DBEC08: shutdown
2023-03-05 19:58:22,481 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-2556E5DBEC08,id=s2
2023-03-05 19:58:22,481 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-2556E5DBEC08-FollowerState
2023-03-05 19:58:22,481 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-05 19:58:22,481 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-05 19:58:22,481 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-05 19:58:22,482 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-05 19:58:22,482 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-05 19:58:22,482 [s2@group-2556E5DBEC08-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-2556E5DBEC08-FollowerState was interrupted
2023-03-05 19:58:22,482 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-05 19:58:22,482 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s1@group-2556E5DBEC08: shutdown
2023-03-05 19:58:22,483 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-2556E5DBEC08,id=s1
2023-03-05 19:58:22,483 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-2556E5DBEC08-LeaderStateImpl
2023-03-05 19:58:22,483 [s1-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-2556E5DBEC08-PendingRequests: sendNotLeaderResponses
2023-03-05 19:58:22,483 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-05 19:58:22,483 [s1@group-2556E5DBEC08->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s1@group-2556E5DBEC08->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2023-03-05 19:58:22,481 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-2556E5DBEC08-StateMachineUpdater: set stopIndex = 4
2023-03-05 19:58:22,484 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-05 19:58:22,485 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-05 19:58:22,485 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s2@group-2556E5DBEC08: applyIndex: 4
2023-03-05 19:58:22,484 [s1@group-2556E5DBEC08->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s1@group-2556E5DBEC08->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2023-03-05 19:58:22,486 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-05 19:58:22,486 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-05 19:58:22,486 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-05 19:58:22,487 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-05 19:58:22,488 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-05 19:58:22,488 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-05 19:58:22,491 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-2556E5DBEC08-StateMachineUpdater: set stopIndex = 4
2023-03-05 19:58:22,491 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s1@group-2556E5DBEC08: applyIndex: 4
2023-03-05 19:58:23,365 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s1@group-2556E5DBEC08-SegmentedRaftLogWorker close()
2023-03-05 19:58:23,365 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s0@group-2556E5DBEC08-SegmentedRaftLogWorker close()
2023-03-05 19:58:23,367 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s2@group-2556E5DBEC08-SegmentedRaftLogWorker close()
2023-03-05 19:58:23,367 [JvmPauseMonitor1] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2023-03-05 19:58:23,368 [JvmPauseMonitor0] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2023-03-05 19:58:23,369 [JvmPauseMonitor2] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2023-03-05 19:58:23,370 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2023-03-05 19:58:23,370 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-03-05 19:58:23,371 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-03-05 19:58:23,371 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2023-03-05 19:58:23,371 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-03-05 19:58:23,371 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-03-05 19:58:23,371 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:   CLOSED  FOLLOWER s0@group-2556E5DBEC08:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-2556E5DBEC08-SegmentedRaftLog:CLOSED:c4, conf=0: peers:[s0|rpc:localhost:44417|admin:localhost:44413|client:localhost:38335|dataStream:localhost:44207|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44535|admin:localhost:37259|client:localhost:37515|dataStream:localhost:34369|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42345|admin:localhost:33263|client:localhost:44641|dataStream:localhost:38945|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED    LEADER s1@group-2556E5DBEC08:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-2556E5DBEC08-SegmentedRaftLog:CLOSED:c4, conf=0: peers:[s0|rpc:localhost:44417|admin:localhost:44413|client:localhost:38335|dataStream:localhost:44207|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44535|admin:localhost:37259|client:localhost:37515|dataStream:localhost:34369|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42345|admin:localhost:33263|client:localhost:44641|dataStream:localhost:38945|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED  FOLLOWER s2@group-2556E5DBEC08:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-2556E5DBEC08-SegmentedRaftLog:CLOSED:c4, conf=0: peers:[s0|rpc:localhost:44417|admin:localhost:44413|client:localhost:38335|dataStream:localhost:44207|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:44535|admin:localhost:37259|client:localhost:37515|dataStream:localhost:34369|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:42345|admin:localhost:33263|client:localhost:44641|dataStream:localhost:38945|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
2023-03-05 19:58:23,383 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2023-03-05 19:58:23,386 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-03-05 19:58:23,387 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-03-05 19:58:23,387 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2023-03-05 19:58:23,387 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.raftlog.RaftLog log level to DEBUG
2023-03-05 19:58:23,387 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.RaftClient log level to DEBUG
2023-03-05 19:58:23,388 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2023-03-05 19:58:23,389 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2023-03-05 19:58:23,392 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithSimulatedRpc with group-EBBC2A7AE596:[s0|rpc:localhost:36527|admin:localhost:45865|client:localhost:35897|dataStream:localhost:38871|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38065|admin:localhost:39679|client:localhost:44327|dataStream:localhost:41899|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:39767|client:localhost:32957|dataStream:localhost:42141|priority:0|startupRole:FOLLOWER]
2023-03-05 19:58:23,392 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-03-05 19:58:23,392 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-03-05 19:58:23,392 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2023-03-05 19:58:23,392 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-03-05 19:58:23,392 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-03-05 19:58:23,392 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-03-05 19:58:23,392 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-EBBC2A7AE596:[s0|rpc:localhost:36527|admin:localhost:45865|client:localhost:35897|dataStream:localhost:38871|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38065|admin:localhost:39679|client:localhost:44327|dataStream:localhost:41899|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:39767|client:localhost:32957|dataStream:localhost:42141|priority:0|startupRole:FOLLOWER], format? true
2023-03-05 19:58:23,393 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpca2d2ac13/s0
2023-03-05 19:58:23,393 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpca2d2ac13/s0 does not exist.
2023-03-05 19:58:23,393 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpca2d2ac13/s0
2023-03-05 19:58:23,393 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-05 19:58:23,394 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-05 19:58:23,394 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-05 19:58:23,394 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-05 19:58:23,394 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 19:58:23,394 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 19:58:23,395 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpca2d2ac13/s0] (custom)
2023-03-05 19:58:23,395 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-EBBC2A7AE596:[s0|rpc:localhost:36527|admin:localhost:45865|client:localhost:35897|dataStream:localhost:38871|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38065|admin:localhost:39679|client:localhost:44327|dataStream:localhost:41899|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:39767|client:localhost:32957|dataStream:localhost:42141|priority:0|startupRole:FOLLOWER] returns group-EBBC2A7AE596:java.util.concurrent.CompletableFuture@79e6c3ab[Not completed]
2023-03-05 19:58:23,396 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-EBBC2A7AE596:[s0|rpc:localhost:36527|admin:localhost:45865|client:localhost:35897|dataStream:localhost:38871|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38065|admin:localhost:39679|client:localhost:44327|dataStream:localhost:41899|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:39767|client:localhost:32957|dataStream:localhost:42141|priority:0|startupRole:FOLLOWER], format? true
2023-03-05 19:58:23,396 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpca2d2ac13/s1
2023-03-05 19:58:23,396 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 19:58:23,396 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpca2d2ac13/s1 does not exist.
2023-03-05 19:58:23,396 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 19:58:23,396 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpca2d2ac13/s1
2023-03-05 19:58:23,397 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-05 19:58:23,397 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-05 19:58:23,397 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-05 19:58:23,397 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-05 19:58:23,397 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 19:58:23,397 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 19:58:23,397 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpca2d2ac13/s1] (custom)
2023-03-05 19:58:23,398 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 19:58:23,398 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-EBBC2A7AE596:[s0|rpc:localhost:36527|admin:localhost:45865|client:localhost:35897|dataStream:localhost:38871|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38065|admin:localhost:39679|client:localhost:44327|dataStream:localhost:41899|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:39767|client:localhost:32957|dataStream:localhost:42141|priority:0|startupRole:FOLLOWER] with StateMachineWithException:uninitialized
2023-03-05 19:58:23,398 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-05 19:58:23,398 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-05 19:58:23,398 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-05 19:58:23,398 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 19:58:23,398 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 19:58:23,398 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-05 19:58:23,399 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-EBBC2A7AE596: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:36527|admin:localhost:45865|client:localhost:35897|dataStream:localhost:38871|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38065|admin:localhost:39679|client:localhost:44327|dataStream:localhost:41899|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:39767|client:localhost:32957|dataStream:localhost:42141|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-05 19:58:23,399 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-05 19:58:23,399 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-05 19:58:23,399 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-05 19:58:23,399 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-05 19:58:23,399 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-05 19:58:23,402 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-05 19:58:23,402 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-05 19:58:23,402 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-05 19:58:23,403 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-05 19:58:23,403 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-05 19:58:23,409 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-EBBC2A7AE596:[s0|rpc:localhost:36527|admin:localhost:45865|client:localhost:35897|dataStream:localhost:38871|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38065|admin:localhost:39679|client:localhost:44327|dataStream:localhost:41899|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:39767|client:localhost:32957|dataStream:localhost:42141|priority:0|startupRole:FOLLOWER] returns group-EBBC2A7AE596:java.util.concurrent.CompletableFuture@56fd460b[Not completed]
2023-03-05 19:58:23,412 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-EBBC2A7AE596:[s0|rpc:localhost:36527|admin:localhost:45865|client:localhost:35897|dataStream:localhost:38871|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38065|admin:localhost:39679|client:localhost:44327|dataStream:localhost:41899|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:39767|client:localhost:32957|dataStream:localhost:42141|priority:0|startupRole:FOLLOWER], format? true
2023-03-05 19:58:23,412 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpca2d2ac13/s2
2023-03-05 19:58:23,412 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpca2d2ac13/s2 does not exist.
2023-03-05 19:58:23,413 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpca2d2ac13/s2
2023-03-05 19:58:23,413 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 19:58:23,413 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-05 19:58:23,414 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-05 19:58:23,414 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-05 19:58:23,414 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-05 19:58:23,414 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 19:58:23,414 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 19:58:23,414 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpca2d2ac13/s2] (custom)
2023-03-05 19:58:23,415 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-EBBC2A7AE596:[s0|rpc:localhost:36527|admin:localhost:45865|client:localhost:35897|dataStream:localhost:38871|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38065|admin:localhost:39679|client:localhost:44327|dataStream:localhost:41899|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:39767|client:localhost:32957|dataStream:localhost:42141|priority:0|startupRole:FOLLOWER] returns group-EBBC2A7AE596:java.util.concurrent.CompletableFuture@7108a7ef[Not completed]
2023-03-05 19:58:23,415 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 19:58:23,415 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 19:58:23,415 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 19:58:23,415 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-EBBC2A7AE596:[s0|rpc:localhost:36527|admin:localhost:45865|client:localhost:35897|dataStream:localhost:38871|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38065|admin:localhost:39679|client:localhost:44327|dataStream:localhost:41899|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:39767|client:localhost:32957|dataStream:localhost:42141|priority:0|startupRole:FOLLOWER] with StateMachineWithException:uninitialized
2023-03-05 19:58:23,416 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-05 19:58:23,416 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-05 19:58:23,416 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-05 19:58:23,416 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 19:58:23,416 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 19:58:23,416 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-05 19:58:23,416 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-EBBC2A7AE596: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:36527|admin:localhost:45865|client:localhost:35897|dataStream:localhost:38871|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38065|admin:localhost:39679|client:localhost:44327|dataStream:localhost:41899|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:39767|client:localhost:32957|dataStream:localhost:42141|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-05 19:58:23,416 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-05 19:58:23,416 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-05 19:58:23,416 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-05 19:58:23,416 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-05 19:58:23,416 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-05 19:58:23,417 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 19:58:23,417 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-05 19:58:23,417 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 19:58:23,417 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-EBBC2A7AE596:[s0|rpc:localhost:36527|admin:localhost:45865|client:localhost:35897|dataStream:localhost:38871|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38065|admin:localhost:39679|client:localhost:44327|dataStream:localhost:41899|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:39767|client:localhost:32957|dataStream:localhost:42141|priority:0|startupRole:FOLLOWER] with StateMachineWithException:uninitialized
2023-03-05 19:58:23,417 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpca2d2ac13/s0] (custom)
2023-03-05 19:58:23,417 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-05 19:58:23,418 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-05 19:58:23,418 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-05 19:58:23,418 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 19:58:23,418 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 19:58:23,418 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-05 19:58:23,418 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-EBBC2A7AE596: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:36527|admin:localhost:45865|client:localhost:35897|dataStream:localhost:38871|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38065|admin:localhost:39679|client:localhost:44327|dataStream:localhost:41899|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:39767|client:localhost:32957|dataStream:localhost:42141|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-05 19:58:23,418 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-05 19:58:23,418 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-05 19:58:23,419 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-05 19:58:23,419 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-05 19:58:23,418 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpca2d2ac13/s0/414f0417-e460-4e32-a2fc-ebbc2a7ae596 does not exist. Creating ...
2023-03-05 19:58:23,420 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-05 19:58:23,421 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpca2d2ac13/s0/414f0417-e460-4e32-a2fc-ebbc2a7ae596
2023-03-05 19:58:23,420 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-05 19:58:23,423 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpca2d2ac13/s0/414f0417-e460-4e32-a2fc-ebbc2a7ae596/in_use.lock acquired by nodename 8318@fv-az571-453
2023-03-05 19:58:23,425 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpca2d2ac13/s0/414f0417-e460-4e32-a2fc-ebbc2a7ae596/current
2023-03-05 19:58:23,425 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpca2d2ac13/s0/414f0417-e460-4e32-a2fc-ebbc2a7ae596/sm
2023-03-05 19:58:23,427 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpca2d2ac13/s0/414f0417-e460-4e32-a2fc-ebbc2a7ae596 has been successfully formatted.
2023-03-05 19:58:23,427 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing StateMachineWithException:uninitialized
2023-03-05 19:58:23,427 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-03-05 19:58:23,428 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-05 19:58:23,428 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-05 19:58:23,428 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 19:58:23,428 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-05 19:58:23,430 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-05 19:58:23,432 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 19:58:23,436 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-05 19:58:23,440 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-05 19:58:23,441 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-05 19:58:23,441 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-05 19:58:23,441 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-05 19:58:23,435 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-05 19:58:23,441 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-05 19:58:23,441 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-05 19:58:23,441 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-05 19:58:23,441 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-05 19:58:23,442 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-05 19:58:23,442 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-05 19:58:23,442 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 19:58:23,442 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s0@group-EBBC2A7AE596-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpca2d2ac13/s0/414f0417-e460-4e32-a2fc-ebbc2a7ae596
2023-03-05 19:58:23,442 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-05 19:58:23,442 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-05 19:58:23,443 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 19:58:23,443 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 19:58:23,443 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-05 19:58:23,443 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-05 19:58:23,443 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-05 19:58:23,443 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-05 19:58:23,444 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 19:58:23,444 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 19:58:23,446 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-05 19:58:23,446 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-05 19:58:23,447 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-05 19:58:23,447 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-EBBC2A7AE596-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-05 19:58:23,447 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-EBBC2A7AE596-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-05 19:58:23,447 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s0@group-EBBC2A7AE596: start as a follower, conf=-1: peers:[s0|rpc:localhost:36527|admin:localhost:45865|client:localhost:35897|dataStream:localhost:38871|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38065|admin:localhost:39679|client:localhost:44327|dataStream:localhost:41899|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:39767|client:localhost:32957|dataStream:localhost:42141|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 19:58:23,448 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-EBBC2A7AE596: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-05 19:58:23,448 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-EBBC2A7AE596-FollowerState
2023-03-05 19:58:23,448 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-EBBC2A7AE596,id=s0
2023-03-05 19:58:23,448 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-05 19:58:23,448 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-05 19:58:23,449 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-05 19:58:23,449 [s0@group-EBBC2A7AE596-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 19:58:23,453 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s0: start RPC server
2023-03-05 19:58:23,453 [s0@group-EBBC2A7AE596-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 19:58:23,457 [JvmPauseMonitor3] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2023-03-05 19:58:23,457 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-05 19:58:23,457 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-05 19:58:23,457 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpca2d2ac13/s1] (custom)
2023-03-05 19:58:23,457 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpca2d2ac13/s1/414f0417-e460-4e32-a2fc-ebbc2a7ae596 does not exist. Creating ...
2023-03-05 19:58:23,458 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpca2d2ac13/s1/414f0417-e460-4e32-a2fc-ebbc2a7ae596
2023-03-05 19:58:23,459 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpca2d2ac13/s1/414f0417-e460-4e32-a2fc-ebbc2a7ae596/in_use.lock acquired by nodename 8318@fv-az571-453
2023-03-05 19:58:23,460 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpca2d2ac13/s1/414f0417-e460-4e32-a2fc-ebbc2a7ae596/current
2023-03-05 19:58:23,461 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpca2d2ac13/s1/414f0417-e460-4e32-a2fc-ebbc2a7ae596/sm
2023-03-05 19:58:23,463 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpca2d2ac13/s1/414f0417-e460-4e32-a2fc-ebbc2a7ae596 has been successfully formatted.
2023-03-05 19:58:23,463 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing StateMachineWithException:uninitialized
2023-03-05 19:58:23,464 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-03-05 19:58:23,464 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-05 19:58:23,464 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-05 19:58:23,464 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 19:58:23,464 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-05 19:58:23,464 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-05 19:58:23,466 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 19:58:23,467 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-05 19:58:23,468 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-05 19:58:23,468 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 19:58:23,468 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s1@group-EBBC2A7AE596-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpca2d2ac13/s1/414f0417-e460-4e32-a2fc-ebbc2a7ae596
2023-03-05 19:58:23,468 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-05 19:58:23,468 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-05 19:58:23,476 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 19:58:23,477 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 19:58:23,477 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-05 19:58:23,477 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-05 19:58:23,477 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-05 19:58:23,477 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-05 19:58:23,478 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 19:58:23,478 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 19:58:23,480 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-05 19:58:23,480 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-05 19:58:23,480 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-05 19:58:23,481 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-EBBC2A7AE596-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-05 19:58:23,481 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-EBBC2A7AE596-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-05 19:58:23,482 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s1@group-EBBC2A7AE596: start as a follower, conf=-1: peers:[s0|rpc:localhost:36527|admin:localhost:45865|client:localhost:35897|dataStream:localhost:38871|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38065|admin:localhost:39679|client:localhost:44327|dataStream:localhost:41899|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:39767|client:localhost:32957|dataStream:localhost:42141|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 19:58:23,482 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-EBBC2A7AE596: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-05 19:58:23,482 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-EBBC2A7AE596-FollowerState
2023-03-05 19:58:23,482 [s1@group-EBBC2A7AE596-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 19:58:23,485 [s1@group-EBBC2A7AE596-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 19:58:23,485 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-EBBC2A7AE596,id=s1
2023-03-05 19:58:23,485 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-05 19:58:23,485 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-05 19:58:23,485 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-05 19:58:23,486 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s1: start RPC server
2023-03-05 19:58:23,492 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-05 19:58:23,492 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-05 19:58:23,492 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpca2d2ac13/s2] (custom)
2023-03-05 19:58:23,493 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpca2d2ac13/s2/414f0417-e460-4e32-a2fc-ebbc2a7ae596 does not exist. Creating ...
2023-03-05 19:58:23,493 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpca2d2ac13/s2/414f0417-e460-4e32-a2fc-ebbc2a7ae596
2023-03-05 19:58:23,492 [JvmPauseMonitor4] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2023-03-05 19:58:23,494 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpca2d2ac13/s2/414f0417-e460-4e32-a2fc-ebbc2a7ae596/in_use.lock acquired by nodename 8318@fv-az571-453
2023-03-05 19:58:23,495 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpca2d2ac13/s2/414f0417-e460-4e32-a2fc-ebbc2a7ae596/current
2023-03-05 19:58:23,495 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpca2d2ac13/s2/414f0417-e460-4e32-a2fc-ebbc2a7ae596/sm
2023-03-05 19:58:23,496 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpca2d2ac13/s2/414f0417-e460-4e32-a2fc-ebbc2a7ae596 has been successfully formatted.
2023-03-05 19:58:23,496 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing StateMachineWithException:uninitialized
2023-03-05 19:58:23,497 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-03-05 19:58:23,497 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-05 19:58:23,497 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-05 19:58:23,497 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 19:58:23,497 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-05 19:58:23,497 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-05 19:58:23,499 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 19:58:23,499 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-05 19:58:23,499 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-05 19:58:23,499 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 19:58:23,499 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s2@group-EBBC2A7AE596-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpca2d2ac13/s2/414f0417-e460-4e32-a2fc-ebbc2a7ae596
2023-03-05 19:58:23,499 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-05 19:58:23,500 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-05 19:58:23,500 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 19:58:23,500 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 19:58:23,501 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-05 19:58:23,501 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-05 19:58:23,501 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-05 19:58:23,501 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-05 19:58:23,502 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 19:58:23,502 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 19:58:23,503 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-05 19:58:23,504 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-05 19:58:23,504 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-05 19:58:23,504 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-EBBC2A7AE596-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-05 19:58:23,504 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-EBBC2A7AE596-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-05 19:58:23,504 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s2@group-EBBC2A7AE596: start as a follower, conf=-1: peers:[s0|rpc:localhost:36527|admin:localhost:45865|client:localhost:35897|dataStream:localhost:38871|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38065|admin:localhost:39679|client:localhost:44327|dataStream:localhost:41899|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:39767|client:localhost:32957|dataStream:localhost:42141|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 19:58:23,504 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-EBBC2A7AE596: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-05 19:58:23,505 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-EBBC2A7AE596-FollowerState
2023-03-05 19:58:23,505 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-EBBC2A7AE596,id=s2
2023-03-05 19:58:23,505 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-05 19:58:23,505 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-05 19:58:23,505 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-05 19:58:23,506 [s2@group-EBBC2A7AE596-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 19:58:23,506 [s2@group-EBBC2A7AE596-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 19:58:23,506 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s2: start RPC server
2023-03-05 19:58:23,521 [JvmPauseMonitor5] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2023-03-05 19:58:23,522 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-05 19:58:23,523 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-EBBC2A7AE596:t0, leader=null, voted=, raftlog=Memoized:s0@group-EBBC2A7AE596-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36527|admin:localhost:45865|client:localhost:35897|dataStream:localhost:38871|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38065|admin:localhost:39679|client:localhost:44327|dataStream:localhost:41899|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:39767|client:localhost:32957|dataStream:localhost:42141|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-EBBC2A7AE596:t0, leader=null, voted=, raftlog=Memoized:s1@group-EBBC2A7AE596-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36527|admin:localhost:45865|client:localhost:35897|dataStream:localhost:38871|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38065|admin:localhost:39679|client:localhost:44327|dataStream:localhost:41899|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:39767|client:localhost:32957|dataStream:localhost:42141|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-EBBC2A7AE596:t0, leader=null, voted=, raftlog=Memoized:s2@group-EBBC2A7AE596-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36527|admin:localhost:45865|client:localhost:35897|dataStream:localhost:38871|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38065|admin:localhost:39679|client:localhost:44327|dataStream:localhost:41899|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:39767|client:localhost:32957|dataStream:localhost:42141|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-05 19:58:23,523 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-EBBC2A7AE596:t0, leader=null, voted=, raftlog=Memoized:s0@group-EBBC2A7AE596-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36527|admin:localhost:45865|client:localhost:35897|dataStream:localhost:38871|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38065|admin:localhost:39679|client:localhost:44327|dataStream:localhost:41899|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:39767|client:localhost:32957|dataStream:localhost:42141|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-EBBC2A7AE596:t0, leader=null, voted=, raftlog=Memoized:s1@group-EBBC2A7AE596-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36527|admin:localhost:45865|client:localhost:35897|dataStream:localhost:38871|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38065|admin:localhost:39679|client:localhost:44327|dataStream:localhost:41899|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:39767|client:localhost:32957|dataStream:localhost:42141|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-EBBC2A7AE596:t0, leader=null, voted=, raftlog=Memoized:s2@group-EBBC2A7AE596-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36527|admin:localhost:45865|client:localhost:35897|dataStream:localhost:38871|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38065|admin:localhost:39679|client:localhost:44327|dataStream:localhost:41899|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:39767|client:localhost:32957|dataStream:localhost:42141|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-EBBC2A7AE596:t0, leader=null, voted=, raftlog=Memoized:s0@group-EBBC2A7AE596-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36527|admin:localhost:45865|client:localhost:35897|dataStream:localhost:38871|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38065|admin:localhost:39679|client:localhost:44327|dataStream:localhost:41899|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:39767|client:localhost:32957|dataStream:localhost:42141|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-EBBC2A7AE596:t0, leader=null, voted=, raftlog=Memoized:s1@group-EBBC2A7AE596-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36527|admin:localhost:45865|client:localhost:35897|dataStream:localhost:38871|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38065|admin:localhost:39679|client:localhost:44327|dataStream:localhost:41899|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:39767|client:localhost:32957|dataStream:localhost:42141|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-EBBC2A7AE596:t0, leader=null, voted=, raftlog=Memoized:s2@group-EBBC2A7AE596-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36527|admin:localhost:45865|client:localhost:35897|dataStream:localhost:38871|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38065|admin:localhost:39679|client:localhost:44327|dataStream:localhost:41899|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:39767|client:localhost:32957|dataStream:localhost:42141|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestHandleStateMachineException(RaftStateMachineExceptionTests.java:88)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testHandleStateMachineException(RaftStateMachineExceptionTests.java:84)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-05 19:58:23,605 [s0@group-EBBC2A7AE596-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s0@group-EBBC2A7AE596-FollowerState: change to CANDIDATE, lastRpcElapsedTime:157515106ns, electionTimeout:152ms
2023-03-05 19:58:23,606 [s0@group-EBBC2A7AE596-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-EBBC2A7AE596-FollowerState
2023-03-05 19:58:23,606 [s0@group-EBBC2A7AE596-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-EBBC2A7AE596: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-03-05 19:58:23,607 [s0@group-EBBC2A7AE596-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-05 19:58:23,607 [s0@group-EBBC2A7AE596-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-EBBC2A7AE596-LeaderElection2
2023-03-05 19:58:23,609 [s0@group-EBBC2A7AE596-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-EBBC2A7AE596-LeaderElection2 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:36527|admin:localhost:45865|client:localhost:35897|dataStream:localhost:38871|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38065|admin:localhost:39679|client:localhost:44327|dataStream:localhost:41899|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:39767|client:localhost:32957|dataStream:localhost:42141|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 19:58:23,610 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s1@group-EBBC2A7AE596: receive requestVote(PRE_VOTE, s0, group-EBBC2A7AE596, 0, (t:0, i:0))
2023-03-05 19:58:23,611 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-EBBC2A7AE596-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-03-05 19:58:23,611 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s1@group-EBBC2A7AE596 replies to PRE_VOTE vote request: s0<-s1#0:OK-t0. Peer's state: s1@group-EBBC2A7AE596:t0, leader=null, voted=, raftlog=Memoized:s1@group-EBBC2A7AE596-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36527|admin:localhost:45865|client:localhost:35897|dataStream:localhost:38871|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38065|admin:localhost:39679|client:localhost:44327|dataStream:localhost:41899|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:39767|client:localhost:32957|dataStream:localhost:42141|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 19:58:23,611 [s0@group-EBBC2A7AE596-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 19:58:23,613 [s0@group-EBBC2A7AE596-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 19:58:23,613 [s0@group-EBBC2A7AE596-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-EBBC2A7AE596-LeaderElection2: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-03-05 19:58:23,614 [s0@group-EBBC2A7AE596-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t0
2023-03-05 19:58:23,614 [s0@group-EBBC2A7AE596-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-EBBC2A7AE596-LeaderElection2 PRE_VOTE round 0: result PASSED
2023-03-05 19:58:23,614 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s2@group-EBBC2A7AE596: receive requestVote(PRE_VOTE, s0, group-EBBC2A7AE596, 0, (t:0, i:0))
2023-03-05 19:58:23,614 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-EBBC2A7AE596-FOLLOWER: accept PRE_VOTE from s0: our priority 0 <= candidate's priority 0
2023-03-05 19:58:23,614 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s2@group-EBBC2A7AE596 replies to PRE_VOTE vote request: s0<-s2#0:OK-t0. Peer's state: s2@group-EBBC2A7AE596:t0, leader=null, voted=, raftlog=Memoized:s2@group-EBBC2A7AE596-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36527|admin:localhost:45865|client:localhost:35897|dataStream:localhost:38871|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38065|admin:localhost:39679|client:localhost:44327|dataStream:localhost:41899|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:39767|client:localhost:32957|dataStream:localhost:42141|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 19:58:23,621 [s0@group-EBBC2A7AE596-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s0@group-EBBC2A7AE596-LeaderElection2 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:36527|admin:localhost:45865|client:localhost:35897|dataStream:localhost:38871|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38065|admin:localhost:39679|client:localhost:44327|dataStream:localhost:41899|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:39767|client:localhost:32957|dataStream:localhost:42141|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 19:58:23,622 [s0@group-EBBC2A7AE596-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 19:58:23,622 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s1@group-EBBC2A7AE596: receive requestVote(ELECTION, s0, group-EBBC2A7AE596, 1, (t:0, i:0))
2023-03-05 19:58:23,622 [s0@group-EBBC2A7AE596-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 19:58:23,623 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s2@group-EBBC2A7AE596: receive requestVote(ELECTION, s0, group-EBBC2A7AE596, 1, (t:0, i:0))
2023-03-05 19:58:23,623 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s1@group-EBBC2A7AE596-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2023-03-05 19:58:23,623 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-EBBC2A7AE596: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2023-03-05 19:58:23,623 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-EBBC2A7AE596-FollowerState
2023-03-05 19:58:23,624 [s1@group-EBBC2A7AE596-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-EBBC2A7AE596-FollowerState was interrupted
2023-03-05 19:58:23,624 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-EBBC2A7AE596-FollowerState
2023-03-05 19:58:23,624 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-EBBC2A7AE596-FOLLOWER: accept ELECTION from s0: our priority 0 <= candidate's priority 0
2023-03-05 19:58:23,625 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-EBBC2A7AE596: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s0
2023-03-05 19:58:23,625 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-EBBC2A7AE596-FollowerState
2023-03-05 19:58:23,625 [s2@group-EBBC2A7AE596-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-EBBC2A7AE596-FollowerState was interrupted
2023-03-05 19:58:23,629 [s1@group-EBBC2A7AE596-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 19:58:23,629 [s1@group-EBBC2A7AE596-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 19:58:23,629 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-EBBC2A7AE596-FollowerState
2023-03-05 19:58:23,630 [s2@group-EBBC2A7AE596-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 19:58:23,630 [s2@group-EBBC2A7AE596-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 19:58:23,631 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s1@group-EBBC2A7AE596 replies to ELECTION vote request: s0<-s1#0:OK-t1. Peer's state: s1@group-EBBC2A7AE596:t1, leader=null, voted=s0, raftlog=Memoized:s1@group-EBBC2A7AE596-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36527|admin:localhost:45865|client:localhost:35897|dataStream:localhost:38871|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38065|admin:localhost:39679|client:localhost:44327|dataStream:localhost:41899|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:39767|client:localhost:32957|dataStream:localhost:42141|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 19:58:23,631 [s0@group-EBBC2A7AE596-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s0@group-EBBC2A7AE596-LeaderElection2: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-03-05 19:58:23,631 [s0@group-EBBC2A7AE596-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s0<-s1#0:OK-t1
2023-03-05 19:58:23,631 [s0@group-EBBC2A7AE596-LeaderElection2] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s0@group-EBBC2A7AE596-LeaderElection2 ELECTION round 0: result PASSED
2023-03-05 19:58:23,631 [s0@group-EBBC2A7AE596-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s0: shutdown s0@group-EBBC2A7AE596-LeaderElection2
2023-03-05 19:58:23,631 [s0@group-EBBC2A7AE596-LeaderElection2] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-EBBC2A7AE596: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-03-05 19:58:23,631 [s0@group-EBBC2A7AE596-LeaderElection2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-EBBC2A7AE596: change Leader from null to s0 at term 1 for becomeLeader, leader elected after 232ms
2023-03-05 19:58:23,631 [s0@group-EBBC2A7AE596-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-03-05 19:58:23,632 [s0@group-EBBC2A7AE596-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-05 19:58:23,632 [s0@group-EBBC2A7AE596-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2023-03-05 19:58:23,632 [s0@group-EBBC2A7AE596-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-03-05 19:58:23,632 [s0@group-EBBC2A7AE596-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-03-05 19:58:23,632 [s0@group-EBBC2A7AE596-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-03-05 19:58:23,632 [s0@group-EBBC2A7AE596-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-05 19:58:23,633 [s0@group-EBBC2A7AE596-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-03-05 19:58:23,633 [s0@group-EBBC2A7AE596-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-05 19:58:23,633 [s0@group-EBBC2A7AE596-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 19:58:23,634 [s0@group-EBBC2A7AE596-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-05 19:58:23,634 [s0@group-EBBC2A7AE596-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-05 19:58:23,635 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s2@group-EBBC2A7AE596 replies to ELECTION vote request: s0<-s2#0:OK-t1. Peer's state: s2@group-EBBC2A7AE596:t1, leader=null, voted=s0, raftlog=Memoized:s2@group-EBBC2A7AE596-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:36527|admin:localhost:45865|client:localhost:35897|dataStream:localhost:38871|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38065|admin:localhost:39679|client:localhost:44327|dataStream:localhost:41899|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:39767|client:localhost:32957|dataStream:localhost:42141|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 19:58:23,635 [s0@group-EBBC2A7AE596-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-05 19:58:23,635 [s0@group-EBBC2A7AE596-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 19:58:23,635 [s0@group-EBBC2A7AE596-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-05 19:58:23,635 [s0@group-EBBC2A7AE596-LeaderElection2] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-05 19:58:23,635 [s0@group-EBBC2A7AE596-LeaderElection2] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-EBBC2A7AE596-LeaderStateImpl
2023-03-05 19:58:23,635 [s0@group-EBBC2A7AE596-LeaderElection2] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-03-05 19:58:23,636 [s0@group-EBBC2A7AE596-LeaderElection2] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s0@group-EBBC2A7AE596-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-05 19:58:23,643 [s0@group-EBBC2A7AE596-LeaderElection2] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-EBBC2A7AE596: set configuration 0: peers:[s0|rpc:localhost:36527|admin:localhost:45865|client:localhost:35897|dataStream:localhost:38871|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38065|admin:localhost:39679|client:localhost:44327|dataStream:localhost:41899|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:39767|client:localhost:32957|dataStream:localhost:42141|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 19:58:23,645 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-EBBC2A7AE596: change Leader from null to s0 at term 1 for appendEntries, leader elected after 229ms
2023-03-05 19:58:23,645 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-EBBC2A7AE596: change Leader from null to s0 at term 1 for appendEntries, leader elected after 227ms
2023-03-05 19:58:23,648 [s0@group-EBBC2A7AE596-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s0@group-EBBC2A7AE596-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpca2d2ac13/s0/414f0417-e460-4e32-a2fc-ebbc2a7ae596/current/log_inprogress_0
2023-03-05 19:58:23,652 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1429)) - s1@group-EBBC2A7AE596: receive appendEntries(s0, 1, null, -1, true, commits:[s0:c-1, s1:c-1, s2:c-1], cId:39, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:36527"
dataStreamAddress: "localhost:38871"
clientAddress: "localhost:35897"
adminAddress: "localhost:45865"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:38065"
dataStreamAddress: "localhost:41899"
clientAddress: "localhost:44327"
adminAddress: "localhost:39679"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:34951"
dataStreamAddress: "localhost:42141"
clientAddress: "localhost:32957"
adminAddress: "localhost:39767"
startupRole: FOLLOWER
, old:)]
2023-03-05 19:58:23,654 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s1@group-EBBC2A7AE596: set configuration 0: peers:[s0|rpc:localhost:36527|admin:localhost:45865|client:localhost:35897|dataStream:localhost:38871|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38065|admin:localhost:39679|client:localhost:44327|dataStream:localhost:41899|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:39767|client:localhost:32957|dataStream:localhost:42141|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 19:58:23,654 [HandlerDaemon-0] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-03-05 19:58:23,654 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s1@group-EBBC2A7AE596-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-05 19:58:23,660 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1429)) - s2@group-EBBC2A7AE596: receive appendEntries(s0, 1, null, -1, true, commits:[s0:c-1, s1:c-1, s2:c-1], cId:40, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:36527"
dataStreamAddress: "localhost:38871"
clientAddress: "localhost:35897"
adminAddress: "localhost:45865"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:38065"
dataStreamAddress: "localhost:41899"
clientAddress: "localhost:44327"
adminAddress: "localhost:39679"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:34951"
dataStreamAddress: "localhost:42141"
clientAddress: "localhost:32957"
adminAddress: "localhost:39767"
startupRole: FOLLOWER
, old:)]
2023-03-05 19:58:23,660 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s2@group-EBBC2A7AE596: set configuration 0: peers:[s0|rpc:localhost:36527|admin:localhost:45865|client:localhost:35897|dataStream:localhost:38871|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38065|admin:localhost:39679|client:localhost:44327|dataStream:localhost:41899|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:39767|client:localhost:32957|dataStream:localhost:42141|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 19:58:23,661 [HandlerDaemon-0] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-03-05 19:58:23,661 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s2@group-EBBC2A7AE596-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-05 19:58:23,674 [s1@group-EBBC2A7AE596-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s1@group-EBBC2A7AE596-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpca2d2ac13/s1/414f0417-e460-4e32-a2fc-ebbc2a7ae596/current/log_inprogress_0
2023-03-05 19:58:23,675 [s2@group-EBBC2A7AE596-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s2@group-EBBC2A7AE596-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpca2d2ac13/s2/414f0417-e460-4e32-a2fc-ebbc2a7ae596/current/log_inprogress_0
2023-03-05 19:58:23,676 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1429)) - s1@group-EBBC2A7AE596: succeeded to handle AppendEntries. Reply: s0<-s1#39:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-03-05 19:58:23,676 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1429)) - s2@group-EBBC2A7AE596: succeeded to handle AppendEntries. Reply: s0<-s2#40:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-03-05 19:58:23,974 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-EBBC2A7AE596:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-EBBC2A7AE596-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:36527|admin:localhost:45865|client:localhost:35897|dataStream:localhost:38871|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38065|admin:localhost:39679|client:localhost:44327|dataStream:localhost:41899|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:39767|client:localhost:32957|dataStream:localhost:42141|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-EBBC2A7AE596:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-EBBC2A7AE596-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:36527|admin:localhost:45865|client:localhost:35897|dataStream:localhost:38871|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38065|admin:localhost:39679|client:localhost:44327|dataStream:localhost:41899|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:39767|client:localhost:32957|dataStream:localhost:42141|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-EBBC2A7AE596:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-EBBC2A7AE596-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:36527|admin:localhost:45865|client:localhost:35897|dataStream:localhost:38871|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38065|admin:localhost:39679|client:localhost:44327|dataStream:localhost:41899|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:39767|client:localhost:32957|dataStream:localhost:42141|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-05 19:58:23,974 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-05 19:58:23,975 [s0-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(832)) - s0@group-EBBC2A7AE596: receive client request(RaftClientRequest:client-1257E823920E->s0@group-EBBC2A7AE596, cid=53, seq=0, RW, m)
2023-03-05 19:58:23,976 [s0-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(474)) - s0@group-EBBC2A7AE596-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-1257E823920E->s0@group-EBBC2A7AE596, cid=53, seq=0, RW, m, entry=(t:1, i:1), STATEMACHINELOGENTRY, 53@client-1257E823920E
2023-03-05 19:58:23,977 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1429)) - s1@group-EBBC2A7AE596: receive appendEntries(s0, 1, (t:1, i:0), 0, true, commits:[s0:c0, s1:c0, s2:c0], cId:54, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 53@client-1257E823920E]
2023-03-05 19:58:23,977 [HandlerDaemon-1] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-03-05 19:58:23,978 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1429)) - s2@group-EBBC2A7AE596: receive appendEntries(s0, 1, (t:1, i:0), 0, true, commits:[s0:c0, s1:c0, s2:c0], cId:55, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 53@client-1257E823920E]
2023-03-05 19:58:23,978 [HandlerDaemon-1] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-03-05 19:58:23,979 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1429)) - s1@group-EBBC2A7AE596: succeeded to handle AppendEntries. Reply: s0<-s1#54:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2023-03-05 19:58:23,981 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1429)) - s1@group-EBBC2A7AE596: receive appendEntries(s0, 1, (t:1, i:1), 1, true, commits:[s0:c1, s1:c0, s2:c0], cId:56, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2023-03-05 19:58:23,981 [HandlerDaemon-2] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-03-05 19:58:23,982 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1429)) - s2@group-EBBC2A7AE596: succeeded to handle AppendEntries. Reply: s0<-s2#55:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2023-03-05 19:58:23,982 [s1-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1429)) - s1@group-EBBC2A7AE596: succeeded to handle AppendEntries. Reply: s0<-s1#56:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2023-03-05 19:58:23,983 [HandlerDaemon-2] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1429)) - s2@group-EBBC2A7AE596: receive appendEntries(s0, 1, (t:1, i:1), 1, true, commits:[s0:c1, s1:c0, s2:c0], cId:57, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2023-03-05 19:58:23,983 [HandlerDaemon-2] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
org.apache.ratis.protocol.exceptions.StateMachineException: org.apache.ratis.protocol.exceptions.StateMachineException from Server s0@group-EBBC2A7AE596: Fake Exception
	at org.apache.ratis.server.impl.RaftServerImpl.lambda$replyPendingRequest$41(RaftServerImpl.java:1739)
	at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)
	at java.base/java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:883)
	at java.base/java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2251)
	at org.apache.ratis.server.impl.RaftServerImpl.replyPendingRequest(RaftServerImpl.java:1731)
	at org.apache.ratis.server.impl.RaftServerImpl.applyLogToStateMachine(RaftServerImpl.java:1774)
	at org.apache.ratis.server.impl.StateMachineUpdater.applyLog(StateMachineUpdater.java:241)
	at org.apache.ratis.server.impl.StateMachineUpdater.run(StateMachineUpdater.java:183)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.apache.ratis.protocol.exceptions.StateMachineException: Fake Exception
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests$StateMachineWithException.applyTransaction(RaftStateMachineExceptionTests.java:62)
	at org.apache.ratis.server.impl.RaftServerImpl.applyLogToStateMachine(RaftServerImpl.java:1773)
	... 3 more
2023-03-05 19:58:23,985 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-03-05 19:58:23,985 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-03-05 19:58:23,985 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2023-03-05 19:58:23,985 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-03-05 19:58:23,985 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-03-05 19:58:23,985 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING    LEADER s0@group-EBBC2A7AE596:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-EBBC2A7AE596-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:36527|admin:localhost:45865|client:localhost:35897|dataStream:localhost:38871|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38065|admin:localhost:39679|client:localhost:44327|dataStream:localhost:41899|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:39767|client:localhost:32957|dataStream:localhost:42141|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-EBBC2A7AE596:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-EBBC2A7AE596-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|rpc:localhost:36527|admin:localhost:45865|client:localhost:35897|dataStream:localhost:38871|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38065|admin:localhost:39679|client:localhost:44327|dataStream:localhost:41899|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:39767|client:localhost:32957|dataStream:localhost:42141|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-EBBC2A7AE596:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-EBBC2A7AE596-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:36527|admin:localhost:45865|client:localhost:35897|dataStream:localhost:38871|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38065|admin:localhost:39679|client:localhost:44327|dataStream:localhost:41899|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:39767|client:localhost:32957|dataStream:localhost:42141|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-05 19:58:23,986 [MiniRaftCluster-7] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s0: close
2023-03-05 19:58:23,987 [MiniRaftCluster-9] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s2: close
2023-03-05 19:58:23,987 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1429)) - s2@group-EBBC2A7AE596: succeeded to handle AppendEntries. Reply: s0<-s2#57:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2023-03-05 19:58:23,988 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-05 19:58:23,988 [MiniRaftCluster-8] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s1: close
2023-03-05 19:58:23,988 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-05 19:58:23,988 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-05 19:58:23,988 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s0@group-EBBC2A7AE596: shutdown
2023-03-05 19:58:23,988 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-EBBC2A7AE596,id=s0
2023-03-05 19:58:23,988 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s0: shutdown s0@group-EBBC2A7AE596-LeaderStateImpl
2023-03-05 19:58:23,988 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-05 19:58:23,988 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-05 19:58:23,988 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s2@group-EBBC2A7AE596: shutdown
2023-03-05 19:58:23,992 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-EBBC2A7AE596,id=s2
2023-03-05 19:58:23,993 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-EBBC2A7AE596-FollowerState
2023-03-05 19:58:23,993 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-EBBC2A7AE596-StateMachineUpdater: set stopIndex = 1
2023-03-05 19:58:23,993 [s0@group-EBBC2A7AE596->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-EBBC2A7AE596->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2023-03-05 19:58:23,988 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-05 19:58:23,993 [s0@group-EBBC2A7AE596->s1-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s0@group-EBBC2A7AE596->s1-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2023-03-05 19:58:23,993 [s2@group-EBBC2A7AE596-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-EBBC2A7AE596-FollowerState was interrupted
2023-03-05 19:58:23,993 [s0-impl-thread1] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s0@group-EBBC2A7AE596-PendingRequests: sendNotLeaderResponses
2023-03-05 19:58:23,993 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s2@group-EBBC2A7AE596: applyIndex: 0
2023-03-05 19:58:23,996 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-05 19:58:23,996 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-05 19:58:23,997 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-05 19:58:23,997 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-05 19:58:24,000 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-05 19:58:24,001 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s1@group-EBBC2A7AE596: shutdown
2023-03-05 19:58:24,001 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-EBBC2A7AE596,id=s1
2023-03-05 19:58:24,001 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-EBBC2A7AE596-FollowerState
2023-03-05 19:58:24,001 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-EBBC2A7AE596-StateMachineUpdater: set stopIndex = 1
2023-03-05 19:58:24,001 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-05 19:58:24,001 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-05 19:58:24,001 [s1@group-EBBC2A7AE596-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-EBBC2A7AE596-FollowerState was interrupted
2023-03-05 19:58:24,002 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s1@group-EBBC2A7AE596: applyIndex: 0
2023-03-05 19:58:24,002 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-05 19:58:24,002 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-EBBC2A7AE596-StateMachineUpdater: set stopIndex = 2
2023-03-05 19:58:24,003 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s0@group-EBBC2A7AE596: applyIndex: 2
2023-03-05 19:58:24,004 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-05 19:58:24,004 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-05 19:58:24,004 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-05 19:58:24,983 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s0@group-EBBC2A7AE596-SegmentedRaftLogWorker close()
2023-03-05 19:58:24,983 [JvmPauseMonitor3] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2023-03-05 19:58:24,984 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s1@group-EBBC2A7AE596-SegmentedRaftLogWorker close()
2023-03-05 19:58:24,985 [JvmPauseMonitor4] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2023-03-05 19:58:24,988 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s2@group-EBBC2A7AE596-SegmentedRaftLogWorker close()
2023-03-05 19:58:24,989 [JvmPauseMonitor5] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2023-03-05 19:58:24,989 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2023-03-05 19:58:24,989 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-03-05 19:58:24,989 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-03-05 19:58:24,989 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2023-03-05 19:58:24,989 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-03-05 19:58:24,989 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-03-05 19:58:24,989 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:   CLOSED    LEADER s0@group-EBBC2A7AE596:t1, leader=s0, voted=s0, raftlog=Memoized:s0@group-EBBC2A7AE596-SegmentedRaftLog:CLOSED:c2, conf=0: peers:[s0|rpc:localhost:36527|admin:localhost:45865|client:localhost:35897|dataStream:localhost:38871|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38065|admin:localhost:39679|client:localhost:44327|dataStream:localhost:41899|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:39767|client:localhost:32957|dataStream:localhost:42141|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s1:   CLOSED  FOLLOWER s1@group-EBBC2A7AE596:t1, leader=s0, voted=s0, raftlog=Memoized:s1@group-EBBC2A7AE596-SegmentedRaftLog:CLOSED:c1, conf=0: peers:[s0|rpc:localhost:36527|admin:localhost:45865|client:localhost:35897|dataStream:localhost:38871|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38065|admin:localhost:39679|client:localhost:44327|dataStream:localhost:41899|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:39767|client:localhost:32957|dataStream:localhost:42141|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
  s2:   CLOSED  FOLLOWER s2@group-EBBC2A7AE596:t1, leader=s0, voted=s0, raftlog=Memoized:s2@group-EBBC2A7AE596-SegmentedRaftLog:CLOSED:c1, conf=0: peers:[s0|rpc:localhost:36527|admin:localhost:45865|client:localhost:35897|dataStream:localhost:38871|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:38065|admin:localhost:39679|client:localhost:44327|dataStream:localhost:41899|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34951|admin:localhost:39767|client:localhost:32957|dataStream:localhost:42141|priority:0|startupRole:FOLLOWER]|listeners:[], old=null CLOSED
2023-03-05 19:58:24,999 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
2023-03-05 19:58:24,999 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.conf.ConfUtils log level to WARN
2023-03-05 19:58:24,999 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.util.FileUtils log level to TRACE
2023-03-05 19:58:24,999 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.RaftServer$Division log level to DEBUG
2023-03-05 19:58:24,999 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.server.raftlog.RaftLog log level to DEBUG
2023-03-05 19:58:24,999 [main] INFO  util.LogUtils (Slf4jUtils.java:setLogLevel(38)) - Successfully set org.apache.ratis.client.RaftClient log level to DEBUG
2023-03-05 19:58:25,000 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(135)) - Running runWithNewCluster
2023-03-05 19:58:25,000 [Time-limited test] INFO  simulation.MiniRaftClusterWithSimulatedRpc (ConfUtils.java:logGet(46)) - org.apache.ratis.server.simulation.SimulatedRequestReply.simulateLatencyMs = 0 (custom)
2023-03-05 19:58:25,002 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:<init>(306)) - new MiniRaftClusterWithSimulatedRpc with group-A3D9903C312E:[s0|rpc:localhost:45805|admin:localhost:37749|client:localhost:40909|dataStream:localhost:46393|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36945|admin:localhost:44885|client:localhost:41567|dataStream:localhost:38557|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34941|admin:localhost:43713|client:localhost:34517|dataStream:localhost:36189|priority:0|startupRole:FOLLOWER]
2023-03-05 19:58:25,002 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(339)) - .............................................................. 
2023-03-05 19:58:25,002 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(340)) - ... 
2023-03-05 19:58:25,002 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(341)) - ...     Starting MiniRaftClusterWithSimulatedRpc
2023-03-05 19:58:25,002 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(342)) - ... 
2023-03-05 19:58:25,002 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:start(343)) - .............................................................. 
2023-03-05 19:58:25,002 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:initServers(318)) - servers = {}
2023-03-05 19:58:25,002 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s0, group-A3D9903C312E:[s0|rpc:localhost:45805|admin:localhost:37749|client:localhost:40909|dataStream:localhost:46393|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36945|admin:localhost:44885|client:localhost:41567|dataStream:localhost:38557|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34941|admin:localhost:43713|client:localhost:34517|dataStream:localhost:36189|priority:0|startupRole:FOLLOWER], format? true
2023-03-05 19:58:25,003 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc8eb5ec46/s0
2023-03-05 19:58:25,003 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc8eb5ec46/s0 does not exist.
2023-03-05 19:58:25,003 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc8eb5ec46/s0
2023-03-05 19:58:25,003 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-05 19:58:25,003 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-05 19:58:25,004 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-05 19:58:25,004 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-05 19:58:25,004 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 19:58:25,004 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 19:58:25,004 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc8eb5ec46/s0] (custom)
2023-03-05 19:58:25,005 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s0: addNew group-A3D9903C312E:[s0|rpc:localhost:45805|admin:localhost:37749|client:localhost:40909|dataStream:localhost:46393|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36945|admin:localhost:44885|client:localhost:41567|dataStream:localhost:38557|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34941|admin:localhost:43713|client:localhost:34517|dataStream:localhost:36189|priority:0|startupRole:FOLLOWER] returns group-A3D9903C312E:java.util.concurrent.CompletableFuture@492d23c7[Not completed]
2023-03-05 19:58:25,005 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s1, group-A3D9903C312E:[s0|rpc:localhost:45805|admin:localhost:37749|client:localhost:40909|dataStream:localhost:46393|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36945|admin:localhost:44885|client:localhost:41567|dataStream:localhost:38557|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34941|admin:localhost:43713|client:localhost:34517|dataStream:localhost:36189|priority:0|startupRole:FOLLOWER], format? true
2023-03-05 19:58:25,005 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc8eb5ec46/s1
2023-03-05 19:58:25,005 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc8eb5ec46/s1 does not exist.
2023-03-05 19:58:25,005 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc8eb5ec46/s1
2023-03-05 19:58:25,006 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-05 19:58:25,006 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 19:58:25,006 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 19:58:25,006 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-05 19:58:25,006 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 19:58:25,006 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-05 19:58:25,006 [s0-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s0: new RaftServerImpl for group-A3D9903C312E:[s0|rpc:localhost:45805|admin:localhost:37749|client:localhost:40909|dataStream:localhost:46393|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36945|admin:localhost:44885|client:localhost:41567|dataStream:localhost:38557|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34941|admin:localhost:43713|client:localhost:34517|dataStream:localhost:36189|priority:0|startupRole:FOLLOWER] with StateMachineWithException:uninitialized
2023-03-05 19:58:25,006 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-05 19:58:25,007 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-05 19:58:25,007 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-05 19:58:25,007 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 19:58:25,012 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 19:58:25,013 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc8eb5ec46/s1] (custom)
2023-03-05 19:58:25,013 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-05 19:58:25,013 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 19:58:25,013 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 19:58:25,013 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-05 19:58:25,013 [s0-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s0@group-A3D9903C312E: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:45805|admin:localhost:37749|client:localhost:40909|dataStream:localhost:46393|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36945|admin:localhost:44885|client:localhost:41567|dataStream:localhost:38557|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34941|admin:localhost:43713|client:localhost:34517|dataStream:localhost:36189|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-05 19:58:25,014 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-05 19:58:25,014 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-05 19:58:25,014 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-05 19:58:25,014 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-05 19:58:25,014 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-05 19:58:25,017 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-05 19:58:25,017 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-05 19:58:25,017 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-05 19:58:25,017 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-05 19:58:25,017 [s0-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-05 19:58:25,017 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s1: addNew group-A3D9903C312E:[s0|rpc:localhost:45805|admin:localhost:37749|client:localhost:40909|dataStream:localhost:46393|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36945|admin:localhost:44885|client:localhost:41567|dataStream:localhost:38557|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34941|admin:localhost:43713|client:localhost:34517|dataStream:localhost:36189|priority:0|startupRole:FOLLOWER] returns group-A3D9903C312E:java.util.concurrent.CompletableFuture@911e576[Not completed]
2023-03-05 19:58:25,018 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(382)) - newRaftServer: s2, group-A3D9903C312E:[s0|rpc:localhost:45805|admin:localhost:37749|client:localhost:40909|dataStream:localhost:46393|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36945|admin:localhost:44885|client:localhost:41567|dataStream:localhost:38557|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34941|admin:localhost:43713|client:localhost:34517|dataStream:localhost:36189|priority:0|startupRole:FOLLOWER], format? true
2023-03-05 19:58:25,018 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(201)) - deleteFully target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc8eb5ec46/s2
2023-03-05 19:58:25,018 [Time-limited test] TRACE util.FileUtils (FileUtils.java:deleteFully(217)) - deleteFully: target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc8eb5ec46/s2 does not exist.
2023-03-05 19:58:25,018 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:newRaftServer(387)) - Formatted directory target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc8eb5ec46/s2
2023-03-05 19:58:25,018 [Time-limited test] INFO  server.RaftServer (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-05 19:58:25,018 [Time-limited test] INFO  impl.DataStreamServerImpl (ConfUtils.java:logGet(46)) - raft.datastream.type = DISABLED (default)
2023-03-05 19:58:25,019 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.cached = true (default)
2023-03-05 19:58:25,019 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.proxy.size = 0 (default)
2023-03-05 19:58:25,019 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 19:58:25,019 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 19:58:25,019 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc8eb5ec46/s2] (custom)
2023-03-05 19:58:25,019 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 19:58:25,019 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 19:58:25,020 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 19:58:25,020 [s1-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s1: new RaftServerImpl for group-A3D9903C312E:[s0|rpc:localhost:45805|admin:localhost:37749|client:localhost:40909|dataStream:localhost:46393|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36945|admin:localhost:44885|client:localhost:41567|dataStream:localhost:38557|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34941|admin:localhost:43713|client:localhost:34517|dataStream:localhost:36189|priority:0|startupRole:FOLLOWER] with StateMachineWithException:uninitialized
2023-03-05 19:58:25,020 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-05 19:58:25,020 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-05 19:58:25,020 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-05 19:58:25,020 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 19:58:25,020 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 19:58:25,020 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-05 19:58:25,021 [s1-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s1@group-A3D9903C312E: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:45805|admin:localhost:37749|client:localhost:40909|dataStream:localhost:46393|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36945|admin:localhost:44885|client:localhost:41567|dataStream:localhost:38557|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34941|admin:localhost:43713|client:localhost:34517|dataStream:localhost:36189|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-05 19:58:25,021 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-05 19:58:25,021 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-05 19:58:25,021 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-05 19:58:25,021 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-05 19:58:25,021 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-05 19:58:25,023 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-05 19:58:25,024 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-05 19:58:25,024 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-05 19:58:25,024 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-05 19:58:25,024 [s1-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-05 19:58:25,025 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:addNew(99)) - s2: addNew group-A3D9903C312E:[s0|rpc:localhost:45805|admin:localhost:37749|client:localhost:40909|dataStream:localhost:46393|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36945|admin:localhost:44885|client:localhost:41567|dataStream:localhost:38557|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34941|admin:localhost:43713|client:localhost:34517|dataStream:localhost:36189|priority:0|startupRole:FOLLOWER] returns group-A3D9903C312E:java.util.concurrent.CompletableFuture@142914d3[Not completed]
2023-03-05 19:58:25,025 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-05 19:58:25,025 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-05 19:58:25,025 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 19:58:25,025 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 19:58:25,025 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc8eb5ec46/s0] (custom)
2023-03-05 19:58:25,025 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 19:58:25,026 [s2-groupManagement] INFO  server.RaftServer$Division (RaftServerImpl.java:<init>(198)) - s2: new RaftServerImpl for group-A3D9903C312E:[s0|rpc:localhost:45805|admin:localhost:37749|client:localhost:40909|dataStream:localhost:46393|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36945|admin:localhost:44885|client:localhost:41567|dataStream:localhost:38557|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34941|admin:localhost:43713|client:localhost:34517|dataStream:localhost:36189|priority:0|startupRole:FOLLOWER] with StateMachineWithException:uninitialized
2023-03-05 19:58:25,026 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc8eb5ec46/s0/0c2ab562-d1f5-4020-8f41-a3d9903c312e does not exist. Creating ...
2023-03-05 19:58:25,026 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.min = 150ms (default)
2023-03-05 19:58:25,026 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-05 19:58:25,026 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.sleep.time = 25ms (default)
2023-03-05 19:58:25,026 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.slowness.timeout = 60s (default)
2023-03-05 19:58:25,026 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc8eb5ec46/s0/0c2ab562-d1f5-4020-8f41-a3d9903c312e
2023-03-05 19:58:25,026 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.leader.step-down.wait-time = 10s (default)
2023-03-05 19:58:25,027 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.sleep.deviation.threshold = 300ms (default)
2023-03-05 19:58:25,027 [s2-groupManagement] INFO  server.RaftServer$Division (ServerState.java:<init>(113)) - s2@group-A3D9903C312E: ConfigurationManager, init=-1: peers:[s0|rpc:localhost:45805|admin:localhost:37749|client:localhost:40909|dataStream:localhost:46393|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36945|admin:localhost:44885|client:localhost:41567|dataStream:localhost:38557|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34941|admin:localhost:43713|client:localhost:34517|dataStream:localhost:36189|priority:0|startupRole:FOLLOWER]|listeners:[], old=null, confs=<EMPTY_MAP>
2023-03-05 19:58:25,027 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.notification.no-leader.timeout = 60s (default)
2023-03-05 19:58:25,027 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.timeout = 10s (default)
2023-03-05 19:58:25,027 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.expirytime = 60s (default)
2023-03-05 19:58:25,027 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.retrycache.statistics.expirytime = 100μs (default)
2023-03-05 19:58:25,027 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.read.option = DEFAULT (default)
2023-03-05 19:58:25,028 [s0-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc8eb5ec46/s0/0c2ab562-d1f5-4020-8f41-a3d9903c312e/in_use.lock acquired by nodename 8318@fv-az571-453
2023-03-05 19:58:25,028 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc8eb5ec46/s0/0c2ab562-d1f5-4020-8f41-a3d9903c312e/current
2023-03-05 19:58:25,029 [s0-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc8eb5ec46/s0/0c2ab562-d1f5-4020-8f41-a3d9903c312e/sm
2023-03-05 19:58:25,030 [s0-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc8eb5ec46/s0/0c2ab562-d1f5-4020-8f41-a3d9903c312e has been successfully formatted.
2023-03-05 19:58:25,030 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.install.snapshot.enabled = true (default)
2023-03-05 19:58:25,030 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing StateMachineWithException:uninitialized
2023-03-05 19:58:25,030 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.cached = true (default)
2023-03-05 19:58:25,031 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.server.size = 0 (default)
2023-03-05 19:58:25,031 [s0-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-03-05 19:58:25,031 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.cached = true (default)
2023-03-05 19:58:25,031 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-05 19:58:25,031 [s2-groupManagement] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.threadpool.client.size = 0 (default)
2023-03-05 19:58:25,031 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-05 19:58:25,031 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 19:58:25,031 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-05 19:58:25,031 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-05 19:58:25,033 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 19:58:25,033 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-05 19:58:25,033 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-05 19:58:25,033 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 19:58:25,033 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s0@group-A3D9903C312E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc8eb5ec46/s0/0c2ab562-d1f5-4020-8f41-a3d9903c312e
2023-03-05 19:58:25,033 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-05 19:58:25,033 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-05 19:58:25,033 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 19:58:25,033 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 19:58:25,033 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-05 19:58:25,033 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-05 19:58:25,033 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-05 19:58:25,034 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-05 19:58:25,034 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 19:58:25,034 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 19:58:25,035 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-05 19:58:25,035 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-05 19:58:25,035 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-05 19:58:25,035 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-A3D9903C312E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-05 19:58:25,035 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s0@group-A3D9903C312E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-05 19:58:25,036 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s0@group-A3D9903C312E: start as a follower, conf=-1: peers:[s0|rpc:localhost:45805|admin:localhost:37749|client:localhost:40909|dataStream:localhost:46393|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36945|admin:localhost:44885|client:localhost:41567|dataStream:localhost:38557|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34941|admin:localhost:43713|client:localhost:34517|dataStream:localhost:36189|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 19:58:25,036 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-A3D9903C312E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-05 19:58:25,036 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-A3D9903C312E-FollowerState
2023-03-05 19:58:25,036 [s0@group-A3D9903C312E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 19:58:25,037 [s0@group-A3D9903C312E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 19:58:25,037 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A3D9903C312E,id=s0
2023-03-05 19:58:25,037 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-05 19:58:25,037 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-05 19:58:25,037 [s0-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-05 19:58:25,041 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s0: start RPC server
2023-03-05 19:58:25,042 [JvmPauseMonitor6] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s0: Started
2023-03-05 19:58:25,042 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-05 19:58:25,042 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-05 19:58:25,042 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc8eb5ec46/s1] (custom)
2023-03-05 19:58:25,042 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc8eb5ec46/s1/0c2ab562-d1f5-4020-8f41-a3d9903c312e does not exist. Creating ...
2023-03-05 19:58:25,043 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc8eb5ec46/s1/0c2ab562-d1f5-4020-8f41-a3d9903c312e
2023-03-05 19:58:25,044 [s1-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc8eb5ec46/s1/0c2ab562-d1f5-4020-8f41-a3d9903c312e/in_use.lock acquired by nodename 8318@fv-az571-453
2023-03-05 19:58:25,045 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc8eb5ec46/s1/0c2ab562-d1f5-4020-8f41-a3d9903c312e/current
2023-03-05 19:58:25,045 [s1-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc8eb5ec46/s1/0c2ab562-d1f5-4020-8f41-a3d9903c312e/sm
2023-03-05 19:58:25,047 [s1-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc8eb5ec46/s1/0c2ab562-d1f5-4020-8f41-a3d9903c312e has been successfully formatted.
2023-03-05 19:58:25,047 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing StateMachineWithException:uninitialized
2023-03-05 19:58:25,047 [s1-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-03-05 19:58:25,048 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-05 19:58:25,048 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-05 19:58:25,048 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 19:58:25,048 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-05 19:58:25,048 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-05 19:58:25,049 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 19:58:25,050 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-05 19:58:25,050 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-05 19:58:25,050 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 19:58:25,050 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s1@group-A3D9903C312E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc8eb5ec46/s1/0c2ab562-d1f5-4020-8f41-a3d9903c312e
2023-03-05 19:58:25,050 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-05 19:58:25,050 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-05 19:58:25,050 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 19:58:25,050 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 19:58:25,051 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-05 19:58:25,051 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-05 19:58:25,051 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-05 19:58:25,051 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-05 19:58:25,051 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 19:58:25,051 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 19:58:25,052 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-05 19:58:25,052 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-05 19:58:25,052 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-05 19:58:25,053 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-A3D9903C312E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-05 19:58:25,053 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s1@group-A3D9903C312E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-05 19:58:25,053 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s1@group-A3D9903C312E: start as a follower, conf=-1: peers:[s0|rpc:localhost:45805|admin:localhost:37749|client:localhost:40909|dataStream:localhost:46393|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36945|admin:localhost:44885|client:localhost:41567|dataStream:localhost:38557|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34941|admin:localhost:43713|client:localhost:34517|dataStream:localhost:36189|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 19:58:25,053 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-A3D9903C312E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-05 19:58:25,053 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-A3D9903C312E-FollowerState
2023-03-05 19:58:25,054 [s1@group-A3D9903C312E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 19:58:25,054 [s1@group-A3D9903C312E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 19:58:25,054 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A3D9903C312E,id=s1
2023-03-05 19:58:25,054 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-05 19:58:25,054 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-05 19:58:25,054 [s1-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-05 19:58:25,055 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s1: start RPC server
2023-03-05 19:58:25,056 [JvmPauseMonitor7] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s1: Started
2023-03-05 19:58:25,056 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.free-space.min = 0MB (=0) (default)
2023-03-05 19:58:25,056 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.corruption.policy = EXCEPTION (default)
2023-03-05 19:58:25,056 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.storage.dir = [/home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc8eb5ec46/s2] (custom)
2023-03-05 19:58:25,056 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:analyzeStorage(138)) - The storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc8eb5ec46/s2/0c2ab562-d1f5-4020-8f41-a3d9903c312e does not exist. Creating ...
2023-03-05 19:58:25,058 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc8eb5ec46/s2/0c2ab562-d1f5-4020-8f41-a3d9903c312e
2023-03-05 19:58:25,059 [s2-impl-thread1] INFO  storage.RaftStorageDirectory (RaftStorageDirectoryImpl.java:tryLock(232)) - Lock on /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc8eb5ec46/s2/0c2ab562-d1f5-4020-8f41-a3d9903c312e/in_use.lock acquired by nodename 8318@fv-az571-453
2023-03-05 19:58:25,059 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc8eb5ec46/s2/0c2ab562-d1f5-4020-8f41-a3d9903c312e/current
2023-03-05 19:58:25,059 [s2-impl-thread1] TRACE util.FileUtils (LogUtils.java:runAndLog(49)) - Successfully ran Files.createDirectories /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc8eb5ec46/s2/0c2ab562-d1f5-4020-8f41-a3d9903c312e/sm
2023-03-05 19:58:25,060 [s2-impl-thread1] INFO  storage.RaftStorage (RaftStorageImpl.java:format(96)) - Storage directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc8eb5ec46/s2/0c2ab562-d1f5-4020-8f41-a3d9903c312e has been successfully formatted.
2023-03-05 19:58:25,060 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:initialize(213)) - Initializing StateMachineWithException:uninitialized
2023-03-05 19:58:25,060 [s2-impl-thread1] INFO  impl.SimpleStateMachine4Testing (SimpleStateMachine4Testing.java:loadSnapshot(293)) - Loading snapshot null
2023-03-05 19:58:25,061 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.use.memory = false (default)
2023-03-05 19:58:25,061 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.gap = 1024 (default)
2023-03-05 19:58:25,061 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 19:58:25,061 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.read.timeout = 1000ms (default)
2023-03-05 19:58:25,061 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.preservation.log.num = 0 (default)
2023-03-05 19:58:25,062 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 19:58:25,063 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.num.max = 6 (default)
2023-03-05 19:58:25,063 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.cache.size.max = 200MB (=209715200) (default)
2023-03-05 19:58:25,063 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 19:58:25,063 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:<init>(183)) - new s2@group-A3D9903C312E-SegmentedRaftLogWorker for RaftStorageImpl:Storage Directory /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc8eb5ec46/s2/0c2ab562-d1f5-4020-8f41-a3d9903c312e
2023-03-05 19:58:25,063 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.byte-limit = 64MB (=67108864) (default)
2023-03-05 19:58:25,063 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.queue.element-limit = 4096 (default)
2023-03-05 19:58:25,063 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.segment.size.max = 8MB (=8388608) (default)
2023-03-05 19:58:25,063 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.preallocated.size = 4MB (=4194304) (default)
2023-03-05 19:58:25,063 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.force.sync.num = 128 (default)
2023-03-05 19:58:25,064 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync = true (default)
2023-03-05 19:58:25,064 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout = 10s (default)
2023-03-05 19:58:25,064 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.sync.timeout.retry = -1 (default)
2023-03-05 19:58:25,064 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.write.buffer.size = 64KB (=65536) (default)
2023-03-05 19:58:25,064 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 19:58:25,065 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.unsafe-flush.enabled = false (default)
2023-03-05 19:58:25,065 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.async-flush.enabled = false (default)
2023-03-05 19:58:25,065 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.statemachine.data.caching.enabled = false (default)
2023-03-05 19:58:25,065 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-A3D9903C312E-SegmentedRaftLogWorker: flushIndex: setUnconditionally 0 -> -1
2023-03-05 19:58:25,066 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:lambda$new$0(134)) - s2@group-A3D9903C312E-SegmentedRaftLogWorker: safeCacheEvictIndex: setUnconditionally 0 -> -1
2023-03-05 19:58:25,066 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:start(342)) - s2@group-A3D9903C312E: start as a follower, conf=-1: peers:[s0|rpc:localhost:45805|admin:localhost:37749|client:localhost:40909|dataStream:localhost:46393|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36945|admin:localhost:44885|client:localhost:41567|dataStream:localhost:38557|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34941|admin:localhost:43713|client:localhost:34517|dataStream:localhost:36189|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 19:58:25,066 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-A3D9903C312E: changes role from      null to FOLLOWER at term 0 for startAsFollower
2023-03-05 19:58:25,066 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-A3D9903C312E-FollowerState
2023-03-05 19:58:25,066 [s2@group-A3D9903C312E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 19:58:25,067 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:tryRegister(44)) - Successfully registered JMX Bean with object name Ratis:service=RaftServer,group=group-A3D9903C312E,id=s2
2023-03-05 19:58:25,067 [s2@group-A3D9903C312E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 19:58:25,067 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.auto.trigger.enabled = false (default)
2023-03-05 19:58:25,067 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.snapshot.retention.file.num = -1 (default)
2023-03-05 19:58:25,067 [s2-impl-thread1] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.purge.upto.snapshot.index = false (default)
2023-03-05 19:58:25,068 [Time-limited test] INFO  server.RaftServer (RaftServerProxy.java:startImpl(401)) - s2: start RPC server
2023-03-05 19:58:25,069 [JvmPauseMonitor8] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(103)) - JvmPauseMonitor-s2: Started
2023-03-05 19:58:25,070 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-05 19:58:25,070 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-A3D9903C312E:t0, leader=null, voted=, raftlog=Memoized:s0@group-A3D9903C312E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45805|admin:localhost:37749|client:localhost:40909|dataStream:localhost:46393|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36945|admin:localhost:44885|client:localhost:41567|dataStream:localhost:38557|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34941|admin:localhost:43713|client:localhost:34517|dataStream:localhost:36189|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-A3D9903C312E:t0, leader=null, voted=, raftlog=Memoized:s1@group-A3D9903C312E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45805|admin:localhost:37749|client:localhost:40909|dataStream:localhost:46393|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36945|admin:localhost:44885|client:localhost:41567|dataStream:localhost:38557|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34941|admin:localhost:43713|client:localhost:34517|dataStream:localhost:36189|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A3D9903C312E:t0, leader=null, voted=, raftlog=Memoized:s2@group-A3D9903C312E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45805|admin:localhost:37749|client:localhost:40909|dataStream:localhost:46393|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36945|admin:localhost:44885|client:localhost:41567|dataStream:localhost:38557|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34941|admin:localhost:43713|client:localhost:34517|dataStream:localhost:36189|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-05 19:58:25,071 [Time-limited test] WARN  ratis.RaftTestUtil (JavaUtils.java:attempt(217)) - FAILED "waitForLeader-null-(expectLeader? true)", attempt #1/100: java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-A3D9903C312E:t0, leader=null, voted=, raftlog=Memoized:s0@group-A3D9903C312E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45805|admin:localhost:37749|client:localhost:40909|dataStream:localhost:46393|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36945|admin:localhost:44885|client:localhost:41567|dataStream:localhost:38557|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34941|admin:localhost:43713|client:localhost:34517|dataStream:localhost:36189|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-A3D9903C312E:t0, leader=null, voted=, raftlog=Memoized:s1@group-A3D9903C312E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45805|admin:localhost:37749|client:localhost:40909|dataStream:localhost:46393|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36945|admin:localhost:44885|client:localhost:41567|dataStream:localhost:38557|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34941|admin:localhost:43713|client:localhost:34517|dataStream:localhost:36189|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A3D9903C312E:t0, leader=null, voted=, raftlog=Memoized:s2@group-A3D9903C312E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45805|admin:localhost:37749|client:localhost:40909|dataStream:localhost:46393|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36945|admin:localhost:44885|client:localhost:41567|dataStream:localhost:38557|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34941|admin:localhost:43713|client:localhost:34517|dataStream:localhost:36189|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING, sleep 450ms and then retry.
java.lang.IllegalStateException: No leader yet : printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-A3D9903C312E:t0, leader=null, voted=, raftlog=Memoized:s0@group-A3D9903C312E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45805|admin:localhost:37749|client:localhost:40909|dataStream:localhost:46393|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36945|admin:localhost:44885|client:localhost:41567|dataStream:localhost:38557|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34941|admin:localhost:43713|client:localhost:34517|dataStream:localhost:36189|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-A3D9903C312E:t0, leader=null, voted=, raftlog=Memoized:s1@group-A3D9903C312E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45805|admin:localhost:37749|client:localhost:40909|dataStream:localhost:46393|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36945|admin:localhost:44885|client:localhost:41567|dataStream:localhost:38557|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34941|admin:localhost:43713|client:localhost:34517|dataStream:localhost:36189|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A3D9903C312E:t0, leader=null, voted=, raftlog=Memoized:s2@group-A3D9903C312E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45805|admin:localhost:37749|client:localhost:40909|dataStream:localhost:46393|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36945|admin:localhost:44885|client:localhost:41567|dataStream:localhost:38557|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34941|admin:localhost:43713|client:localhost:34517|dataStream:localhost:36189|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
	at org.apache.ratis.server.impl.MiniRaftCluster.newIllegalStateExceptionForNoLeaders(MiniRaftCluster.java:581)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$1(RaftTestUtil.java:104)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:615)
	at org.apache.ratis.server.impl.MiniRaftCluster.getLeader(MiniRaftCluster.java:608)
	at org.apache.ratis.RaftTestUtil.lambda$waitForLeader$3(RaftTestUtil.java:112)
	at org.apache.ratis.util.JavaUtils.attempt(JavaUtils.java:211)
	at org.apache.ratis.util.JavaUtils.attemptRepeatedly(JavaUtils.java:197)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:111)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:92)
	at org.apache.ratis.RaftTestUtil.waitForLeader(RaftTestUtil.java:87)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:151)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:147)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-05 19:58:25,258 [s1@group-A3D9903C312E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(143)) - s1@group-A3D9903C312E-FollowerState: change to CANDIDATE, lastRpcElapsedTime:204623881ns, electionTimeout:203ms
2023-03-05 19:58:25,258 [s1@group-A3D9903C312E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-A3D9903C312E-FollowerState
2023-03-05 19:58:25,258 [s1@group-A3D9903C312E-FollowerState] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-A3D9903C312E: changes role from  FOLLOWER to CANDIDATE at term 0 for changeToCandidate
2023-03-05 19:58:25,259 [s1@group-A3D9903C312E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.leaderelection.pre-vote = true (default)
2023-03-05 19:58:25,259 [s1@group-A3D9903C312E-FollowerState] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-A3D9903C312E-LeaderElection3
2023-03-05 19:58:25,263 [s1@group-A3D9903C312E-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-A3D9903C312E-LeaderElection3 PRE_VOTE round 0: submit vote requests at term 0 for -1: peers:[s0|rpc:localhost:45805|admin:localhost:37749|client:localhost:40909|dataStream:localhost:46393|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36945|admin:localhost:44885|client:localhost:41567|dataStream:localhost:38557|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34941|admin:localhost:43713|client:localhost:34517|dataStream:localhost:36189|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 19:58:25,265 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s0@group-A3D9903C312E: receive requestVote(PRE_VOTE, s1, group-A3D9903C312E, 0, (t:0, i:0))
2023-03-05 19:58:25,265 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-A3D9903C312E-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-03-05 19:58:25,265 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s0@group-A3D9903C312E replies to PRE_VOTE vote request: s1<-s0#0:OK-t0. Peer's state: s0@group-A3D9903C312E:t0, leader=null, voted=, raftlog=Memoized:s0@group-A3D9903C312E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45805|admin:localhost:37749|client:localhost:40909|dataStream:localhost:46393|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36945|admin:localhost:44885|client:localhost:41567|dataStream:localhost:38557|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34941|admin:localhost:43713|client:localhost:34517|dataStream:localhost:36189|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 19:58:25,267 [s1@group-A3D9903C312E-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 19:58:25,267 [s1@group-A3D9903C312E-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 19:58:25,267 [s1@group-A3D9903C312E-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-A3D9903C312E-LeaderElection3: PRE_VOTE PASSED received 1 response(s) and 0 exception(s):
2023-03-05 19:58:25,267 [s1@group-A3D9903C312E-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s0#0:OK-t0
2023-03-05 19:58:25,267 [s1@group-A3D9903C312E-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-A3D9903C312E-LeaderElection3 PRE_VOTE round 0: result PASSED
2023-03-05 19:58:25,268 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s2@group-A3D9903C312E: receive requestVote(PRE_VOTE, s1, group-A3D9903C312E, 0, (t:0, i:0))
2023-03-05 19:58:25,268 [HandlerDaemon-0] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-A3D9903C312E-FOLLOWER: accept PRE_VOTE from s1: our priority 0 <= candidate's priority 0
2023-03-05 19:58:25,268 [HandlerDaemon-0] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s2@group-A3D9903C312E replies to PRE_VOTE vote request: s1<-s2#0:OK-t0. Peer's state: s2@group-A3D9903C312E:t0, leader=null, voted=, raftlog=Memoized:s2@group-A3D9903C312E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45805|admin:localhost:37749|client:localhost:40909|dataStream:localhost:46393|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36945|admin:localhost:44885|client:localhost:41567|dataStream:localhost:38557|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34941|admin:localhost:43713|client:localhost:34517|dataStream:localhost:36189|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 19:58:25,269 [s1@group-A3D9903C312E-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(309)) - s1@group-A3D9903C312E-LeaderElection3 ELECTION round 0: submit vote requests at term 1 for -1: peers:[s0|rpc:localhost:45805|admin:localhost:37749|client:localhost:40909|dataStream:localhost:46393|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36945|admin:localhost:44885|client:localhost:41567|dataStream:localhost:38557|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34941|admin:localhost:43713|client:localhost:34517|dataStream:localhost:36189|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 19:58:25,270 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s0@group-A3D9903C312E: receive requestVote(ELECTION, s1, group-A3D9903C312E, 1, (t:0, i:0))
2023-03-05 19:58:25,271 [s1@group-A3D9903C312E-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 19:58:25,271 [s1@group-A3D9903C312E-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 19:58:25,274 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s0@group-A3D9903C312E-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2023-03-05 19:58:25,275 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s0@group-A3D9903C312E: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2023-03-05 19:58:25,275 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-A3D9903C312E-FollowerState
2023-03-05 19:58:25,275 [s0@group-A3D9903C312E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-A3D9903C312E-FollowerState was interrupted
2023-03-05 19:58:25,276 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s0: start s0@group-A3D9903C312E-FollowerState
2023-03-05 19:58:25,277 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1302)) - s2@group-A3D9903C312E: receive requestVote(ELECTION, s1, group-A3D9903C312E, 1, (t:0, i:0))
2023-03-05 19:58:25,280 [HandlerDaemon-1] INFO  impl.VoteContext (VoteContext.java:log(49)) - s2@group-A3D9903C312E-FOLLOWER: accept ELECTION from s1: our priority 0 <= candidate's priority 0
2023-03-05 19:58:25,280 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s2@group-A3D9903C312E: changes role from  FOLLOWER to FOLLOWER at term 1 for candidate:s1
2023-03-05 19:58:25,280 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-A3D9903C312E-FollowerState
2023-03-05 19:58:25,280 [s2@group-A3D9903C312E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-A3D9903C312E-FollowerState was interrupted
2023-03-05 19:58:25,280 [HandlerDaemon-1] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s2: start s2@group-A3D9903C312E-FollowerState
2023-03-05 19:58:25,281 [s2@group-A3D9903C312E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 19:58:25,281 [s2@group-A3D9903C312E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 19:58:25,282 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s2@group-A3D9903C312E replies to ELECTION vote request: s1<-s2#0:OK-t1. Peer's state: s2@group-A3D9903C312E:t1, leader=null, voted=s1, raftlog=Memoized:s2@group-A3D9903C312E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45805|admin:localhost:37749|client:localhost:40909|dataStream:localhost:46393|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36945|admin:localhost:44885|client:localhost:41567|dataStream:localhost:38557|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34941|admin:localhost:43713|client:localhost:34517|dataStream:localhost:36189|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 19:58:25,282 [s1@group-A3D9903C312E-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(89)) - s1@group-A3D9903C312E-LeaderElection3: ELECTION PASSED received 1 response(s) and 0 exception(s):
2023-03-05 19:58:25,282 [HandlerDaemon-1] INFO  server.RaftServer$Division (RaftServerImpl.java:requestVote(1335)) - s0@group-A3D9903C312E replies to ELECTION vote request: s1<-s0#0:OK-t1. Peer's state: s0@group-A3D9903C312E:t1, leader=null, voted=s1, raftlog=Memoized:s0@group-A3D9903C312E-SegmentedRaftLog:OPENED:c-1, conf=-1: peers:[s0|rpc:localhost:45805|admin:localhost:37749|client:localhost:40909|dataStream:localhost:46393|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36945|admin:localhost:44885|client:localhost:41567|dataStream:localhost:38557|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34941|admin:localhost:43713|client:localhost:34517|dataStream:localhost:36189|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 19:58:25,283 [s1@group-A3D9903C312E-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:logAndReturn(93)) -   Response 0: s1<-s2#0:OK-t1
2023-03-05 19:58:25,283 [s1@group-A3D9903C312E-LeaderElection3] INFO  impl.LeaderElection (LeaderElection.java:askForVotes(311)) - s1@group-A3D9903C312E-LeaderElection3 ELECTION round 0: result PASSED
2023-03-05 19:58:25,283 [s1@group-A3D9903C312E-LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderElection(130)) - s1: shutdown s1@group-A3D9903C312E-LeaderElection3
2023-03-05 19:58:25,283 [s0@group-A3D9903C312E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.min = 150ms (fallback to raft.server.rpc.timeout.min)
2023-03-05 19:58:25,283 [s0@group-A3D9903C312E-FollowerState] INFO  server.RaftServerConfigKeys (ConfUtils.java:logFallback(53)) - raft.server.rpc.first-election.timeout.max = 300ms (fallback to raft.server.rpc.timeout.max)
2023-03-05 19:58:25,283 [s1@group-A3D9903C312E-LeaderElection3] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-A3D9903C312E: changes role from CANDIDATE to LEADER at term 1 for changeToLeader
2023-03-05 19:58:25,283 [s1@group-A3D9903C312E-LeaderElection3] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-A3D9903C312E: change Leader from null to s1 at term 1 for becomeLeader, leader elected after 262ms
2023-03-05 19:58:25,284 [s1@group-A3D9903C312E-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.staging.catchup.gap = 1000 (default)
2023-03-05 19:58:25,284 [s1@group-A3D9903C312E-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-05 19:58:25,284 [s1@group-A3D9903C312E-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.byte-limit = 64MB (=67108864) (default)
2023-03-05 19:58:25,284 [s1@group-A3D9903C312E-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout = 10s (default)
2023-03-05 19:58:25,284 [s1@group-A3D9903C312E-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.timeout.denomination = 1s (default)
2023-03-05 19:58:25,285 [s1@group-A3D9903C312E-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.watch.element-limit = 65536 (default)
2023-03-05 19:58:25,285 [s1@group-A3D9903C312E-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.element-limit = 4096 (default)
2023-03-05 19:58:25,285 [s1@group-A3D9903C312E-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.write.follower.gap.ratio.max = -1.0 (default)
2023-03-05 19:58:25,286 [s1@group-A3D9903C312E-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-05 19:58:25,286 [s1@group-A3D9903C312E-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 19:58:25,286 [s1@group-A3D9903C312E-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-05 19:58:25,287 [s1@group-A3D9903C312E-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-05 19:58:25,287 [s1@group-A3D9903C312E-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.snapshot.chunk.size.max = 16MB (=16777216) (default)
2023-03-05 19:58:25,288 [s1@group-A3D9903C312E-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.byte-limit = 4MB (=4194304) (default)
2023-03-05 19:58:25,288 [s1@group-A3D9903C312E-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.buffer.element-limit = 0 (default)
2023-03-05 19:58:25,288 [s1@group-A3D9903C312E-LeaderElection3] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.log.appender.wait-time.min = 10ms (default)
2023-03-05 19:58:25,289 [s1@group-A3D9903C312E-LeaderElection3] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-A3D9903C312E-LeaderStateImpl
2023-03-05 19:58:25,289 [s1@group-A3D9903C312E-LeaderElection3] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-03-05 19:58:25,289 [s1@group-A3D9903C312E-LeaderElection3] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s1@group-A3D9903C312E-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-05 19:58:25,292 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s0@group-A3D9903C312E: change Leader from null to s1 at term 1 for appendEntries, leader elected after 278ms
2023-03-05 19:58:25,294 [HandlerDaemon-2] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s2@group-A3D9903C312E: change Leader from null to s1 at term 1 for appendEntries, leader elected after 267ms
2023-03-05 19:58:25,297 [s1@group-A3D9903C312E-LeaderElection3] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s1@group-A3D9903C312E: set configuration 0: peers:[s0|rpc:localhost:45805|admin:localhost:37749|client:localhost:40909|dataStream:localhost:46393|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36945|admin:localhost:44885|client:localhost:41567|dataStream:localhost:38557|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34941|admin:localhost:43713|client:localhost:34517|dataStream:localhost:36189|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 19:58:25,301 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1429)) - s2@group-A3D9903C312E: receive appendEntries(s1, 1, null, -1, true, commits:[s1:c-1, s0:c-1, s2:c-1], cId:63, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:45805"
dataStreamAddress: "localhost:46393"
clientAddress: "localhost:40909"
adminAddress: "localhost:37749"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36945"
dataStreamAddress: "localhost:38557"
clientAddress: "localhost:41567"
adminAddress: "localhost:44885"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:34941"
dataStreamAddress: "localhost:36189"
clientAddress: "localhost:34517"
adminAddress: "localhost:43713"
startupRole: FOLLOWER
, old:)]
2023-03-05 19:58:25,301 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s2@group-A3D9903C312E: set configuration 0: peers:[s0|rpc:localhost:45805|admin:localhost:37749|client:localhost:40909|dataStream:localhost:46393|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36945|admin:localhost:44885|client:localhost:41567|dataStream:localhost:38557|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34941|admin:localhost:43713|client:localhost:34517|dataStream:localhost:36189|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 19:58:25,301 [HandlerDaemon-0] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-03-05 19:58:25,302 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s2@group-A3D9903C312E-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-05 19:58:25,306 [s1@group-A3D9903C312E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s1@group-A3D9903C312E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc8eb5ec46/s1/0c2ab562-d1f5-4020-8f41-a3d9903c312e/current/log_inprogress_0
2023-03-05 19:58:25,309 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1429)) - s0@group-A3D9903C312E: receive appendEntries(s1, 1, null, -1, true, commits:[s1:c-1, s0:c-1, s2:c-1], cId:62, entries: [(t:1, i:0), CONFIGURATIONENTRY(current:id: "s0"
address: "localhost:45805"
dataStreamAddress: "localhost:46393"
clientAddress: "localhost:40909"
adminAddress: "localhost:37749"
startupRole: FOLLOWER
,id: "s1"
address: "localhost:36945"
dataStreamAddress: "localhost:38557"
clientAddress: "localhost:41567"
adminAddress: "localhost:44885"
startupRole: FOLLOWER
,id: "s2"
address: "localhost:34941"
dataStreamAddress: "localhost:36189"
clientAddress: "localhost:34517"
adminAddress: "localhost:43713"
startupRole: FOLLOWER
, old:)]
2023-03-05 19:58:25,310 [HandlerDaemon-0] INFO  server.RaftServer$Division (ServerState.java:setRaftConf(378)) - s0@group-A3D9903C312E: set configuration 0: peers:[s0|rpc:localhost:45805|admin:localhost:37749|client:localhost:40909|dataStream:localhost:46393|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36945|admin:localhost:44885|client:localhost:41567|dataStream:localhost:38557|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34941|admin:localhost:43713|client:localhost:34517|dataStream:localhost:36189|priority:0|startupRole:FOLLOWER]|listeners:[], old=null
2023-03-05 19:58:25,310 [HandlerDaemon-0] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-03-05 19:58:25,310 [HandlerDaemon-0] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:startLogSegment(426)) - s0@group-A3D9903C312E-SegmentedRaftLogWorker: Starting segment from index:0
2023-03-05 19:58:25,315 [s2@group-A3D9903C312E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s2@group-A3D9903C312E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc8eb5ec46/s2/0c2ab562-d1f5-4020-8f41-a3d9903c312e/current/log_inprogress_0
2023-03-05 19:58:25,316 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1429)) - s2@group-A3D9903C312E: succeeded to handle AppendEntries. Reply: s1<-s2#63:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-03-05 19:58:25,324 [s0@group-A3D9903C312E-SegmentedRaftLogWorker] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:execute(630)) - s0@group-A3D9903C312E-SegmentedRaftLogWorker: created new log segment /home/runner/work/ratis/ratis/ratis-test/target/test/data/67ebf887/MiniRaftClusterWithSimulatedRpc8eb5ec46/s0/0c2ab562-d1f5-4020-8f41-a3d9903c312e/current/log_inprogress_0
2023-03-05 19:58:25,325 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1429)) - s0@group-A3D9903C312E: succeeded to handle AppendEntries. Reply: s1<-s0#62:OK-t1,SUCCESS,nextIndex=1,followerCommit=-1,matchIndex=0
2023-03-05 19:58:25,522 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-A3D9903C312E:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-A3D9903C312E-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:45805|admin:localhost:37749|client:localhost:40909|dataStream:localhost:46393|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36945|admin:localhost:44885|client:localhost:41567|dataStream:localhost:38557|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34941|admin:localhost:43713|client:localhost:34517|dataStream:localhost:36189|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-A3D9903C312E:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-A3D9903C312E-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:45805|admin:localhost:37749|client:localhost:40909|dataStream:localhost:46393|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36945|admin:localhost:44885|client:localhost:41567|dataStream:localhost:38557|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34941|admin:localhost:43713|client:localhost:34517|dataStream:localhost:36189|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A3D9903C312E:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-A3D9903C312E-SegmentedRaftLog:OPENED:c0, conf=0: peers:[s0|rpc:localhost:45805|admin:localhost:37749|client:localhost:40909|dataStream:localhost:46393|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36945|admin:localhost:44885|client:localhost:41567|dataStream:localhost:38557|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34941|admin:localhost:43713|client:localhost:34517|dataStream:localhost:36189|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-05 19:58:25,522 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-05 19:58:25,523 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(832)) - s1@group-A3D9903C312E: receive client request(RaftClientRequest:client-942F85C1824A->s1@group-A3D9903C312E, cid=72, seq=0, RW, first msg to make leader ready)
2023-03-05 19:58:25,524 [s1-client-thread1] DEBUG server.RaftServer$Division (LeaderStateImpl.java:addPendingRequest(474)) - s1@group-A3D9903C312E-LeaderStateImpl: addPendingRequest at RaftClientRequest:client-942F85C1824A->s1@group-A3D9903C312E, cid=72, seq=0, RW, first msg to make leader ready, entry=(t:1, i:1), STATEMACHINELOGENTRY, 72@client-942F85C1824A
2023-03-05 19:58:25,525 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1429)) - s2@group-A3D9903C312E: receive appendEntries(s1, 1, (t:1, i:0), 0, true, commits:[s1:c0, s0:c0, s2:c0], cId:73, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 72@client-942F85C1824A]
2023-03-05 19:58:25,525 [HandlerDaemon-0] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1429)) - s0@group-A3D9903C312E: receive appendEntries(s1, 1, (t:1, i:0), 0, true, commits:[s1:c0, s0:c0, s2:c0], cId:74, entries: [(t:1, i:1), STATEMACHINELOGENTRY, 72@client-942F85C1824A]
2023-03-05 19:58:25,525 [HandlerDaemon-0] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-03-05 19:58:25,525 [HandlerDaemon-0] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-03-05 19:58:25,526 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1429)) - s2@group-A3D9903C312E: succeeded to handle AppendEntries. Reply: s1<-s2#73:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2023-03-05 19:58:25,526 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1429)) - s0@group-A3D9903C312E: succeeded to handle AppendEntries. Reply: s1<-s0#74:OK-t1,SUCCESS,nextIndex=2,followerCommit=0,matchIndex=1
2023-03-05 19:58:25,528 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1429)) - s0@group-A3D9903C312E: receive appendEntries(s1, 1, (t:1, i:1), 1, true, commits:[s1:c1, s0:c0, s2:c0], cId:75, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2023-03-05 19:58:25,528 [HandlerDaemon-1] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-03-05 19:58:25,529 [s0-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1429)) - s0@group-A3D9903C312E: succeeded to handle AppendEntries. Reply: s1<-s0#75:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2023-03-05 19:58:25,530 [HandlerDaemon-1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1429)) - s2@group-A3D9903C312E: receive appendEntries(s1, 1, (t:1, i:1), 1, true, commits:[s1:c1, s0:c0, s2:c0], cId:76, entries: [(t:1, i:2), METADATAENTRY(c:1)]
2023-03-05 19:58:25,530 [HandlerDaemon-1] DEBUG raftlog.RaftLog (SegmentedRaftLog.java:appendImpl(446)) - truncateIndex=-1, arrayIndex=0
2023-03-05 19:58:25,531 [s2-server-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:logAppendEntries(1429)) - s2@group-A3D9903C312E: succeeded to handle AppendEntries. Reply: s1<-s2#76:OK-t1,SUCCESS,nextIndex=3,followerCommit=1,matchIndex=2
2023-03-05 19:58:25,533 [Time-limited test] DEBUG client.RaftClient (ConfUtils.java:logGet(46)) - raft.rpc.type = org.apache.ratis.server.simulation.SimulatedRpc (custom)
2023-03-05 19:58:25,536 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(832)) - s1@group-A3D9903C312E: receive client request(RaftClientRequest:client-4F5E273EDDFC->s1@group-A3D9903C312E, cid=999, seq=0, RW, message)
2023-03-05 19:58:25,537 [Time-limited test] INFO  server.RaftServerConfigKeys (ConfUtils.java:logGet(46)) - raft.server.rpc.timeout.max = 300ms (default)
2023-03-05 19:58:25,538 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(100)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-A3D9903C312E:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-A3D9903C312E-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|rpc:localhost:45805|admin:localhost:37749|client:localhost:40909|dataStream:localhost:46393|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36945|admin:localhost:44885|client:localhost:41567|dataStream:localhost:38557|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34941|admin:localhost:43713|client:localhost:34517|dataStream:localhost:36189|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-A3D9903C312E:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-A3D9903C312E-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:45805|admin:localhost:37749|client:localhost:40909|dataStream:localhost:46393|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36945|admin:localhost:44885|client:localhost:41567|dataStream:localhost:38557|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34941|admin:localhost:43713|client:localhost:34517|dataStream:localhost:36189|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A3D9903C312E:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-A3D9903C312E-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|rpc:localhost:45805|admin:localhost:37749|client:localhost:40909|dataStream:localhost:46393|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36945|admin:localhost:44885|client:localhost:41567|dataStream:localhost:38557|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34941|admin:localhost:43713|client:localhost:34517|dataStream:localhost:36189|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-05 19:58:25,538 [s1@group-A3D9903C312E-LeaderStateImpl] INFO  server.RaftServer$Division (RaftServerImpl.java:setRole(329)) - s1@group-A3D9903C312E: changes role from    LEADER to FOLLOWER at term 1 for StepDownReason:STATE_MACHINE_EXCEPTION
2023-03-05 19:58:25,538 [Time-limited test] INFO  ratis.RaftTestUtil (RaftTestUtil.java:waitForLeader(119)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-A3D9903C312E:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-A3D9903C312E-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|rpc:localhost:45805|admin:localhost:37749|client:localhost:40909|dataStream:localhost:46393|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36945|admin:localhost:44885|client:localhost:41567|dataStream:localhost:38557|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34941|admin:localhost:43713|client:localhost:34517|dataStream:localhost:36189|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING    LEADER s1@group-A3D9903C312E:t1, leader=s1, voted=s1, raftlog=Memoized:s1@group-A3D9903C312E-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:45805|admin:localhost:37749|client:localhost:40909|dataStream:localhost:46393|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36945|admin:localhost:44885|client:localhost:41567|dataStream:localhost:38557|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34941|admin:localhost:43713|client:localhost:34517|dataStream:localhost:36189|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A3D9903C312E:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-A3D9903C312E-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|rpc:localhost:45805|admin:localhost:37749|client:localhost:40909|dataStream:localhost:46393|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36945|admin:localhost:44885|client:localhost:41567|dataStream:localhost:38557|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34941|admin:localhost:43713|client:localhost:34517|dataStream:localhost:36189|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-05 19:58:25,538 [s1@group-A3D9903C312E-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:shutdownLeaderState(93)) - s1: shutdown s1@group-A3D9903C312E-LeaderStateImpl
2023-03-05 19:58:25,538 [s1-client-thread1] DEBUG server.RaftServer$Division (RaftServerImpl.java:submitClientRequestAsync(832)) - s1@group-A3D9903C312E: receive client request(RaftClientRequest:client-4F5E273EDDFC->s1@group-A3D9903C312E, cid=999, seq=0, RW, message)
2023-03-05 19:58:25,539 [s1@group-A3D9903C312E-LeaderStateImpl] INFO  impl.PendingRequests (PendingRequests.java:sendNotLeaderResponses(282)) - s1@group-A3D9903C312E-PendingRequests: sendNotLeaderResponses
2023-03-05 19:58:25,539 [s1@group-A3D9903C312E->s0-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s1@group-A3D9903C312E->s0-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2023-03-05 19:58:25,539 [s1@group-A3D9903C312E->s2-LogAppenderDefault-LogAppenderDaemon] INFO  leader.LogAppenderDaemon (LogAppenderDaemon.java:run(83)) - s1@group-A3D9903C312E->s2-LogAppenderDefault-LogAppenderDaemon was interrupted: java.lang.InterruptedException
2023-03-05 19:58:25,541 [s1@group-A3D9903C312E-LeaderStateImpl] INFO  server.RaftServer$Division (ServerState.java:setLeader(260)) - s1@group-A3D9903C312E: change Leader from s1 to null at term 1 for StepDownReason:STATE_MACHINE_EXCEPTION
2023-03-05 19:58:25,541 [s1@group-A3D9903C312E-LeaderStateImpl] INFO  impl.RoleInfo (RoleInfo.java:updateAndGet(139)) - s1: start s1@group-A3D9903C312E-FollowerState
2023-03-05 19:58:25,548 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(143)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-A3D9903C312E:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-A3D9903C312E-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|rpc:localhost:45805|admin:localhost:37749|client:localhost:40909|dataStream:localhost:46393|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36945|admin:localhost:44885|client:localhost:41567|dataStream:localhost:38557|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34941|admin:localhost:43713|client:localhost:34517|dataStream:localhost:36189|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-A3D9903C312E:t1, leader=null, voted=s1, raftlog=Memoized:s1@group-A3D9903C312E-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:45805|admin:localhost:37749|client:localhost:40909|dataStream:localhost:46393|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36945|admin:localhost:44885|client:localhost:41567|dataStream:localhost:38557|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34941|admin:localhost:43713|client:localhost:34517|dataStream:localhost:36189|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A3D9903C312E:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-A3D9903C312E-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|rpc:localhost:45805|admin:localhost:37749|client:localhost:40909|dataStream:localhost:46393|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36945|admin:localhost:44885|client:localhost:41567|dataStream:localhost:38557|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34941|admin:localhost:43713|client:localhost:34517|dataStream:localhost:36189|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-05 19:58:25,548 [Time-limited test] ERROR impl.MiniRaftCluster (MiniRaftCluster.java:runWithNewCluster(144)) - Failed org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
java.lang.NullPointerException
	at java.base/java.util.Objects.requireNonNull(Objects.java:221)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.runTestRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:172)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:141)
	at org.apache.ratis.server.impl.MiniRaftCluster$Factory$Get.runWithNewCluster(MiniRaftCluster.java:121)
	at org.apache.ratis.server.impl.RaftStateMachineExceptionTests.testRetryOnExceptionDuringReplication(RaftStateMachineExceptionTests.java:147)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-03-05 19:58:25,548 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(831)) - ************************************************************** 
2023-03-05 19:58:25,548 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(832)) - *** 
2023-03-05 19:58:25,548 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(833)) - ***     Stopping MiniRaftClusterWithSimulatedRpc
2023-03-05 19:58:25,548 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(834)) - *** 
2023-03-05 19:58:25,548 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(835)) - ************************************************************** 
2023-03-05 19:58:25,549 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(836)) - printing ALL groups
  s0:  RUNNING  FOLLOWER s0@group-A3D9903C312E:t1, leader=s1, voted=s1, raftlog=Memoized:s0@group-A3D9903C312E-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|rpc:localhost:45805|admin:localhost:37749|client:localhost:40909|dataStream:localhost:46393|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36945|admin:localhost:44885|client:localhost:41567|dataStream:localhost:38557|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34941|admin:localhost:43713|client:localhost:34517|dataStream:localhost:36189|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s1:  RUNNING  FOLLOWER s1@group-A3D9903C312E:t1, leader=null, voted=s1, raftlog=Memoized:s1@group-A3D9903C312E-SegmentedRaftLog:OPENED:c2, conf=0: peers:[s0|rpc:localhost:45805|admin:localhost:37749|client:localhost:40909|dataStream:localhost:46393|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36945|admin:localhost:44885|client:localhost:41567|dataStream:localhost:38557|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34941|admin:localhost:43713|client:localhost:34517|dataStream:localhost:36189|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
  s2:  RUNNING  FOLLOWER s2@group-A3D9903C312E:t1, leader=s1, voted=s1, raftlog=Memoized:s2@group-A3D9903C312E-SegmentedRaftLog:OPENED:c1, conf=0: peers:[s0|rpc:localhost:45805|admin:localhost:37749|client:localhost:40909|dataStream:localhost:46393|priority:0|startupRole:FOLLOWER, s1|rpc:localhost:36945|admin:localhost:44885|client:localhost:41567|dataStream:localhost:38557|priority:0|startupRole:FOLLOWER, s2|rpc:localhost:34941|admin:localhost:43713|client:localhost:34517|dataStream:localhost:36189|priority:0|startupRole:FOLLOWER]|listeners:[], old=null RUNNING
2023-03-05 19:58:25,549 [MiniRaftCluster-13] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s0: close
2023-03-05 19:58:25,550 [MiniRaftCluster-14] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s1: close
2023-03-05 19:58:25,557 [s0-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s0@group-A3D9903C312E: shutdown
2023-03-05 19:58:25,557 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-05 19:58:25,557 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-05 19:58:25,557 [s0-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A3D9903C312E,id=s0
2023-03-05 19:58:25,557 [s0-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s0: shutdown s0@group-A3D9903C312E-FollowerState
2023-03-05 19:58:25,558 [s0-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s0@group-A3D9903C312E-StateMachineUpdater: set stopIndex = 1
2023-03-05 19:58:25,558 [s0@group-A3D9903C312E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s0@group-A3D9903C312E-FollowerState was interrupted
2023-03-05 19:58:25,558 [s1-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s1@group-A3D9903C312E: shutdown
2023-03-05 19:58:25,557 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-05 19:58:25,558 [s0-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s0@group-A3D9903C312E: applyIndex: 0
2023-03-05 19:58:25,559 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-05 19:58:25,559 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-05 19:58:25,559 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s0.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-05 19:58:25,562 [s1-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A3D9903C312E,id=s1
2023-03-05 19:58:25,562 [s1-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s1: shutdown s1@group-A3D9903C312E-FollowerState
2023-03-05 19:58:25,563 [s1-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s1@group-A3D9903C312E-StateMachineUpdater: set stopIndex = 2
2023-03-05 19:58:25,563 [s1-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s1@group-A3D9903C312E: applyIndex: 2
2023-03-05 19:58:25,563 [s1@group-A3D9903C312E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s1@group-A3D9903C312E-FollowerState was interrupted
2023-03-05 19:58:25,566 [MiniRaftCluster-15] INFO  server.RaftServer (RaftServerProxy.java:lambda$close$7(417)) - s2: close
2023-03-05 19:58:25,567 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-05 19:58:25,567 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-05 19:58:25,567 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-05 19:58:25,567 [s2-impl-thread1] INFO  server.RaftServer$Division (RaftServerImpl.java:lambda$close$4(466)) - s2@group-A3D9903C312E: shutdown
2023-03-05 19:58:25,567 [s2-impl-thread1] INFO  util.JmxRegister (JmxRegister.java:unregister(73)) - Successfully un-registered JMX Bean with object name Ratis:service=RaftServer,group=group-A3D9903C312E,id=s2
2023-03-05 19:58:25,567 [s2-impl-thread1] INFO  impl.RoleInfo (RoleInfo.java:shutdownFollowerState(110)) - s2: shutdown s2@group-A3D9903C312E-FollowerState
2023-03-05 19:58:25,567 [s2-impl-thread1] INFO  impl.StateMachineUpdater (StateMachineUpdater.java:stopAndJoin(154)) - s2@group-A3D9903C312E-StateMachineUpdater: set stopIndex = 1
2023-03-05 19:58:25,567 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-05 19:58:25,567 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.clientHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-05 19:58:25,567 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.clientHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-05 19:58:25,567 [s2@group-A3D9903C312E-FollowerState] INFO  impl.FollowerState (FollowerState.java:run(152)) - s2@group-A3D9903C312E-FollowerState was interrupted
2023-03-05 19:58:25,567 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-05 19:58:25,568 [s2-impl-thread1] INFO  server.RaftServer$Division (ServerState.java:close(414)) - s2@group-A3D9903C312E: applyIndex: 0
2023-03-05 19:58:25,568 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-05 19:58:25,568 [HandlerDaemon-0] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler0 is interrupted by java.io.InterruptedIOException: 
2023-03-05 19:58:25,568 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s2.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-05 19:58:25,569 [HandlerDaemon-1] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler1 is interrupted by java.io.InterruptedIOException: 
2023-03-05 19:58:25,569 [HandlerDaemon-2] INFO  simulation.RequestHandler (RequestHandler.java:run(127)) - s1.serverHandler2 is interrupted by java.io.InterruptedIOException: 
2023-03-05 19:58:26,530 [s0-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s0@group-A3D9903C312E-SegmentedRaftLogWorker close()
2023-03-05 19:58:26,530 [s1-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s1@group-A3D9903C312E-SegmentedRaftLogWorker close()
2023-03-05 19:58:26,531 [JvmPauseMonitor7] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s1: Stopped
2023-03-05 19:58:26,532 [s2-impl-thread1] INFO  segmented.SegmentedRaftLogWorker (SegmentedRaftLogWorker.java:close(242)) - s2@group-A3D9903C312E-SegmentedRaftLogWorker close()
2023-03-05 19:58:26,533 [JvmPauseMonitor6] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s0: Stopped
2023-03-05 19:58:26,534 [JvmPauseMonitor8] INFO  util.JvmPauseMonitor (JvmPauseMonitor.java:run(109)) - JvmPauseMonitor-s2: Stopped
2023-03-05 19:58:26,534 [Time-limited test] INFO  impl.MiniRaftCluster (MiniRaftCluster.java:shutdown(855)) - MiniRaftClusterWithSimulatedRpc shutdown completed
